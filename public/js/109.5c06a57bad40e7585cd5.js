(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{1682:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return D}));var n=a(547),c=a.n(n),r=a(0),i=a.n(r),l=a(27),o=a(30),s=a(954),u=a(50),d=a(222),m=a(223),f=a(162),h=a(285),p=a(4),E=a(35);function g(e){var t=e.district,a=e.onDelete,n=e.showDeleteModal,c=e.setShowDeleteModal;return n?i.a.createElement(E.a,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:function(){return c(!1)},confirmAction:function(){s.a.deleteDistrict(t).then((function(){c(!1),a()})).catch((function(){alert("Er is iets misgegaan met het verwijderen van de afspraakkalender.")}))},title:"Verwijderen"},"Verwijder afspraakkalender: ",i.a.createElement("strong",null," ",t.name," ")):i.a.createElement("a",{role:"button",onClick:function(){return c(!0)}},i.a.createElement("span",{className:"glyphicon glyphicon-trash mybtn-danger"}))}function k(e){var t=e.district,a=e.onDelete,n=Object(r.useState)(!1),l=c()(n,2),o=l[0],s=l[1],u=Object(r.useState)(""),d=c()(u,2),m=d[0],f=d[1],h=Object(r.useState)(!1),E=c()(h,2),k=E[0],D=E[1],b=function(){p.f.push("/afspraak-kalender/".concat(t.id,"/kalender"))};return i.a.createElement("tr",{className:m,onDoubleClick:b,onMouseEnter:function(){s(!0),f("highlight-row")},onMouseLeave:function(){s(!1),f("")}},i.a.createElement("td",null,t.name),i.a.createElement("td",null,(o||k)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{role:"button",onClick:b},i.a.createElement("span",{className:"glyphicon glyphicon-calendar mybtn-success"}))," ",i.a.createElement("a",{role:"button",onClick:function(){p.f.push("/afspraak-kalender/".concat(t.id))}},i.a.createElement("span",{className:"glyphicon glyphicon-pencil mybtn-success"}))," ",i.a.createElement(g,{district:t,onDelete:a,setShowDeleteModal:D,showDeleteModal:k}))))}function D(){var e=Object(r.useState)(!0),t=c()(e,2),a=t[0],n=t[1],E=Object(r.useState)([]),g=c()(E,2),D=g[0],b=g[1],v=Object(r.useState)(""),w=c()(v,2),N=w[0],y=w[1];Object(r.useEffect)((function(){j()}),[]);var j=function(){n(!0),s.a.fetchDistricts().then((function(e){b(e),n(!1)})).catch((function(){y("Er is iets misgegaan met ophalen van de afspraakkalenders."),n(!1)}))},C=function(){return N||(a?"Gegevens aan het laden.":0===D.length?"Geen afspraakkalenders gevonden!":"")};return i.a.createElement(l.a,{className:"col-md-12"},i.a.createElement(o.a,null,i.a.createElement("div",{className:"col-md-12 margin-10-top"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"btn-group",role:"group"},i.a.createElement(u.a,{iconName:"glyphicon-refresh",onClickAction:j}),i.a.createElement(u.a,{iconName:"glyphicon-plus",onClickAction:function(){return p.f.push("/afspraak-kalender/nieuw")}}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("h3",{className:"text-center table-title"},"Afspraakkalenders")),i.a.createElement("div",{className:"col-md-4"}))),i.a.createElement("div",{className:"col-md-12 margin-10-top"},i.a.createElement(d.a,null,i.a.createElement(m.a,null,i.a.createElement("tr",{className:"thead-title"},i.a.createElement(f.a,{title:"Naam",width:"95%"}),i.a.createElement(f.a,{title:"",width:"5%"}))),i.a.createElement(h.a,null,C()?i.a.createElement("tr",null,i.a.createElement("td",{colSpan:2},C())):D.map((function(e){return i.a.createElement(k,{key:e.id,district:e,onDelete:j})})))))))}},954:function(e,t,a){"use strict";var n=a(2);t.a={fetchDistricts:function(){return n.a.get("district").then((function(e){return e.data}))},fetchDistrictDetails:function(e){return n.a.get("".concat("district","/").concat(e)).then((function(e){return e.data}))},fetchDistrictCalendarItems:function(e,t,a){return n.a.get("".concat("district","/").concat(e,"/calendar-items"),{params:{startDate:t,endDate:a}}).then((function(e){return e.data}))},newDistrict:function(e){return n.a.post("district",e).then((function(e){return e.data}))},updateDistrict:function(e){return n.a.post("".concat("district","/").concat(e.id),e)},deleteDistrict:function(e){return n.a.post("".concat("district","/").concat(e.id,"/delete"))},detachDistrictCoach:function(e){var t=e.districtId,a=e.coachId;return n.a.post("".concat("district","/").concat(t,"/coaches/").concat(a,"/detach"))},attachDistrictCoach:function(e){var t=e.districtId,a=e.coachId;return n.a.post("".concat("district","/").concat(t,"/coaches/").concat(a,"/attach"))}}}}]);