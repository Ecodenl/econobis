(window.webpackJsonp=window.webpackJsonp||[]).push([[113],{1570:function(e,t,a){"use strict";a.r(t);var o=a(14),n=a.n(o),r=a(15),c=a.n(r),l=a(10),s=a.n(l),m=a(16),i=a.n(m),u=a(17),f=a.n(u),d=a(12),v=a.n(d),h=a(5),p=a.n(h),g=a(0),w=a.n(g),E=a(146),b=a(312),N=a(4);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,o=v()(e);if(t){var n=v()(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return f()(this,a)}}var k=function(e){i()(a,e);var t=y(a);function a(e){var o;return n()(this,a),o=t.call(this,e),p()(s()(o),"handleInputChange",(function(e){var t=e.target,a=t.value,n=t.name;o.setState(p()({},n,a))})),p()(s()(o),"handleSubmit",(function(e){e.preventDefault(),E.a.confirmTwoFactor({code:o.state.twoFactorCode}).then((function(e){200==e.status?(localStorage.setItem("two_factor_token",e.data.token),N.f.push("/")):o.setState({twoFactorCode:"",errorMessage:"Ongeldige code."})})).catch((function(){o.setState({twoFactorCode:"",errorMessage:"Ongeldige code."})}))})),p()(s()(o),"handleCancel",(function(e){e.preventDefault(),localStorage.removeItem("auth_token"),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("userId"),localStorage.removeItem("userName"),localStorage.removeItem("last_activity"),localStorage.removeItem("last_activity"),localStorage.removeItem("two_factor_token"),N.f.push("/login")})),o.state={twoFactorCode:"",errorMessage:""},o}return c()(a,[{key:"componentDidMount",value:function(){}},{key:"renderAlert",value:function(){if(this.state.errorMessage)return w.a.createElement("div",{className:"col-sm-10 col-md-offset-1 alert alert-danger login-alert"},this.state.errorMessage)}},{key:"render",value:function(){return w.a.createElement("div",{className:"col-md-4 col-sm-8 col-xs-10 login-form"},w.a.createElement("div",{className:"panel panel-default add"},w.a.createElement("div",{className:"panel-body"},w.a.createElement("div",{className:"text-center"},w.a.createElement(b.a,{height:"150px"})),w.a.createElement("form",{onSubmit:this.handleSubmit},w.a.createElement("div",{className:"row margin-10-top"},w.a.createElement("div",{className:"col-sm-10 col-md-offset-1"},"Geef de twee factor code in die je in je authenticator app hebt gekregen.")),w.a.createElement("div",{className:"row margin-10-top"},w.a.createElement("div",{className:"col-sm-10 col-md-offset-1"},w.a.createElement("div",{className:"form-group"},w.a.createElement("label",{htmlFor:"username",className:"control-label"},"Twee factor code"),w.a.createElement("input",{type:"text",name:"twoFactorCode",value:this.state.twoFactorCode,className:"form-control",placeholder:"",onChange:this.handleInputChange,autoComplete:"off",autoFocus:!0}))),this.renderAlert()),w.a.createElement("div",{className:"row"},w.a.createElement("div",{className:"col-sm-10 col-md-offset-1"},w.a.createElement(N.b,{to:"two-factor/recover",className:"link-underline"},"Gebruik herstelcode"),w.a.createElement("div",{className:"pull-right"},w.a.createElement("button",{type:"button",className:"btn btn-default",onClick:this.handleCancel},"Annuleren"),w.a.createElement("button",{type:"submit",className:"btn btn-primary",style:{marginLeft:"5px"}},"Login"))))))))}}]),a}(g.Component);t.default=k}}]);