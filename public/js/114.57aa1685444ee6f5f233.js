(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{1571:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a.n(n),c=a(15),l=a.n(c),o=a(10),s=a.n(o),i=a(16),m=a.n(i),u=a(17),d=a.n(u),f=a(12),v=a.n(f),p=a(5),h=a.n(p),g=a(0),E=a.n(g),y=a(146),N=a(312),b=a(4);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=v()(e);if(t){var r=v()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return d()(this,a)}}var C=function(e){m()(a,e);var t=w(a);function a(e){var n;return r()(this,a),n=t.call(this,e),h()(s()(n),"handleInputChange",(function(e){var t=e.target,a=t.value,r=t.name;n.setState(h()({},r,a))})),h()(s()(n),"handleSubmit",(function(e){e.preventDefault(),y.a.recoverTwoFactor({recovery_code:n.state.recoveryCode}).then((function(e){200==e.status?n.setState({success:!0}):n.setState({recoveryCode:"",errorMessage:"Herstelcode is ongeldig."})})).catch((function(){n.setState({recoveryCode:"",errorMessage:"Herstelcode is ongeldig."})}))})),h()(s()(n),"handleCancel",(function(e){e.preventDefault(),b.f.push("/two-factor/confirm")})),h()(s()(n),"handleContinue",(function(e){e.preventDefault(),b.f.push("/two-factor/activate")})),n.state={recoveryCode:"",errorMessage:"",success:!1},n}return l()(a,[{key:"renderAlert",value:function(){if(this.state.errorMessage)return E.a.createElement("div",{className:"col-sm-10 col-md-offset-1 alert alert-danger login-alert"},this.state.errorMessage)}},{key:"render",value:function(){return E.a.createElement("div",{className:"col-md-4 col-sm-8 col-xs-10 login-form"},E.a.createElement("div",{className:"panel panel-default add"},E.a.createElement("div",{className:"panel-body"},E.a.createElement("div",{className:"text-center"},E.a.createElement(N.a,{height:"150px"})),this.state.success?E.a.createElement("div",null,E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-sm-10 col-md-offset-1 alert alert-success"},"Herstelcode is geaccepteerd. Klik op doorgaan om twee factor authenticatie opnieuw in te stellen.")),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-sm-10 col-md-offset-1"},E.a.createElement("div",{className:"pull-right"},E.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.handleContinue},"Doorgaan"))))):E.a.createElement("form",{onSubmit:this.handleSubmit},E.a.createElement("div",{className:"row margin-10-top"},E.a.createElement("div",{className:"col-sm-10 col-md-offset-1"},"Geef een van de herstelcodes voor twee factor authenticatie op.")),E.a.createElement("div",{className:"row margin-10-top"},E.a.createElement("div",{className:"col-sm-10 col-md-offset-1"},E.a.createElement("div",{className:"form-group"},E.a.createElement("label",{htmlFor:"username",className:"control-label"},"Herstelcode"),E.a.createElement("input",{type:"text",name:"recoveryCode",value:this.state.recoveryCode,className:"form-control",placeholder:"",onChange:this.handleInputChange,autoComplete:"off",autoFocus:!0}))),this.renderAlert()),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-sm-10 col-md-offset-1"},E.a.createElement("div",{className:"pull-right"},E.a.createElement("button",{type:"button",className:"btn btn-default",onClick:this.handleCancel},"Annuleren"),E.a.createElement("button",{type:"submit",className:"btn btn-primary",style:{marginLeft:"5px"}},"Herstellen"))))))))}}]),a}(g.Component);t.default=C}}]);