"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[1186],{21186:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Y});var a=n(67294),c=n(15671),o=n(43144),r=n(97326),s=n(60136),i=n(82963),l=n(61120),d=n(37974),u=n(61409),f=(n(31663),n(30381)),m=n.n(f),v=n(61781),h=n(4520);m().locale("nl");var p=function(e){(0,s.Z)(f,e);var t,n,d=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,l.Z)(t);if(n){var c=(0,l.Z)(this).constructor;e=Reflect.construct(a,arguments,c)}else e=a.apply(this,arguments);return(0,i.Z)(this,e)});function f(e){var t;return(0,c.Z)(this,f),(t=d.call(this,e)).state={events:[],selectedDate:e.calendar.date?e.calendar.date:m()().format("YYYY-MM-DD"),selectedView:e.calendar.view},t.onNavigate=t.onNavigate.bind((0,r.Z)(t)),t.onViewChange=t.onViewChange.bind((0,r.Z)(t)),t.loadCalendarEvents=t.loadCalendarEvents.bind((0,r.Z)(t)),t.openItem=t.openItem.bind((0,r.Z)(t)),t}return(0,o.Z)(f,[{key:"componentDidMount",value:function(){this.loadCalendarEvents(this.state.selectedDate,this.state.selectedView)}},{key:"onNavigate",value:function(e,t){this.loadCalendarEvents(e,t)}},{key:"onViewChange",value:function(e){this.loadCalendarEvents(this.state.selectedDate,e)}},{key:"loadCalendarEvents",value:function(e,t){var n=this,a=m()(e).startOf(t).format("YYYY-MM-DD"),c=m()(e).endOf(t).format("YYYY-MM-DD");"month"===t&&(a=m()(e).startOf(t).subtract(1,"w").format("YYYY-MM-DD"),c=m()(e).endOf(t).add(1,"w").format("YYYY-MM-DD")),v.Z.fetchTasksCalendarEvents(a,c).then((function(a){var c=[];a.data.data.map((function(e){var t=m()(e.start),n=m()(e.end);c.push({id:e.id,title:e.noteSummary,start:new Date(t.toDate()),end:new Date(n.toDate()),finished:e.finished})})),n.setState({events:c,selectedDate:e,selectedView:t}),n.props.setSelectedDate(e),n.props.setSelectedView(t)}))}},{key:"openItem",value:function(e){var t=e.id;u.nA.push("/taak/".concat(t))}},{key:"render",value:function(){return a.createElement(h.f,{events:this.state.events,style:{height:"calc(100vh - 200px)"},step:15,timeslots:4,views:["month","week","day"],view:this.state.selectedView,onView:this.onViewChange,date:new Date(this.state.selectedDate),onNavigate:this.onNavigate,onSelectEvent:this.openItem,localizer:(0,h.Zt)(m()),endAccessor:"end",messages:{allDay:"Gehele dag",previous:"<",next:">",today:"Vandaag",month:"Maand",week:"Week",day:"Dag",agenda:"Agenda",date:"Datum",time:"Tijd",showMore:function(e){return"+".concat(e," meer")}},min:new Date("2018-01-01T07:00:00.000Z"),popup:!0,startAccessor:"start",eventPropGetter:E})}}]),f}(a.Component),E=function(e){if(1===e.finished)return{style:{backgroundColor:"#1f883d"}}};const D=(0,d.$j)((function(e){return{calendar:e.calendar}}),(function(e){return{setSelectedDate:function(t){e(function(e){return{type:"SET_SELECTED_DATE",date:e}}(t))},setSelectedView:function(t){e(function(e){return{type:"SET_SELECTED_VIEW",view:e}}(t))}}}))(p);var w=n(14309),g=n(98688),y=n(55451);const k=function(e){return a.createElement("div",{className:"row margin-10-bottom"},a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"btn-group",role:"group"},a.createElement(y.Z,{iconName:"arrowLeft",onClickAction:u.mW.goBack}),a.createElement(y.Z,{iconName:"plus",onClickAction:function(){u.nA.push("/taak/nieuw")}}))),a.createElement("div",{className:"col-md-4"},a.createElement("h3",{className:"text-center table-title"},"Agenda")),a.createElement("div",{className:"col-md-4"}))},Y=function(e){return a.createElement(w.Z,null,a.createElement(g.Z,null,a.createElement(k,null),a.createElement(D,null)))}}}]);