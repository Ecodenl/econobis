(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{1593:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(18),r=a.n(c),i=a(19),l=a.n(i),s=a(12),d=a.n(s),u=a(20),f=a.n(u),m=a(21),v=a.n(m),h=a(14),p=a.n(h),w=a(16),D=a(3),E=a(1497),g=(a(1341),a(7)),y=a.n(g),Y=a(136);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var o=p()(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return v()(this,a)}}y.a.locale("nl");var C=E.a.momentLocalizer(y.a),V=function(e){f()(a,e);var t=k(a);function a(e){var n;return r()(this,a),(n=t.call(this,e)).state={events:[],selectedDate:e.calendar.date?e.calendar.date:y()().format("YYYY-MM-DD"),selectedView:e.calendar.view},n.onNavigate=n.onNavigate.bind(d()(n)),n.onViewChange=n.onViewChange.bind(d()(n)),n.loadCalendarEvents=n.loadCalendarEvents.bind(d()(n)),n.openItem=n.openItem.bind(d()(n)),n}return l()(a,[{key:"componentDidMount",value:function(){this.loadCalendarEvents(this.state.selectedDate,this.state.selectedView)}},{key:"onNavigate",value:function(e,t){this.loadCalendarEvents(e,t)}},{key:"onViewChange",value:function(e){this.loadCalendarEvents(this.state.selectedDate,e)}},{key:"loadCalendarEvents",value:function(e,t){var a=this,n=y()(e).startOf(t).format("YYYY-MM-DD"),o=y()(e).endOf(t).format("YYYY-MM-DD");"month"==t&&(n=y()(e).startOf(t).subtract(1,"w").format("YYYY-MM-DD"),o=y()(e).endOf(t).add(1,"w").format("YYYY-MM-DD")),Y.a.fetchTasksCalendarEvents(n,o).then((function(n){var o=[];n.data.data.map((function(e){var t=y()(e.start),a=y()(e.end);o.push({id:e.id,title:e.noteSummary,start:new Date(t.toDate()),end:new Date(a.toDate())})})),a.setState({events:o,selectedDate:e,selectedView:t}),a.props.setSelectedDate(e),a.props.setSelectedView(t)}))}},{key:"openItem",value:function(e){var t=e.id;D.f.push("/taak/".concat(t))}},{key:"render",value:function(){return o.a.createElement(E.a,{date:new Date(this.state.selectedDate),defaultView:this.state.selectedView,endAccessor:"end",events:this.state.events,localizer:C,max:new Date("2018-01-01T23:00:00.000Z"),messages:{allDay:"Gehele dag",previous:"<",next:">",today:"Vandaag",month:"Maand",week:"Week",day:"Dag",agenda:"Agenda",date:"Datum",time:"Tijd",showMore:function(e){return"+".concat(e," meer")}},min:new Date("2018-01-01T07:00:00.000Z"),onNavigate:this.onNavigate,onSelectEvent:this.openItem,onView:this.onViewChange,popup:!0,startAccessor:"start",step:15,timeslots:4,views:["month","week","day"]})}}]),a}(n.Component),M=Object(w.b)((function(e){return{calendar:e.calendar}}),(function(e){return{setSelectedDate:function(t){e(function(e){return{type:"SET_SELECTED_DATE",date:e}}(t))},setSelectedView:function(t){e(function(e){return{type:"SET_SELECTED_VIEW",view:e}}(t))}}}))(V),N=a(26),b=a(31),S=a(49),T=function(e){return o.a.createElement("div",{className:"row margin-10-bottom"},o.a.createElement("div",{className:"col-md-4"},o.a.createElement("div",{className:"btn-group",role:"group"},o.a.createElement(S.a,{iconName:"glyphicon-arrow-left",onClickAction:D.e.goBack}),o.a.createElement(S.a,{iconName:"glyphicon-plus",onClickAction:function(){D.f.push("/taak/nieuw")}}))),o.a.createElement("div",{className:"col-md-4"},o.a.createElement("h3",{className:"text-center table-title"},"Agenda")),o.a.createElement("div",{className:"col-md-4"}))};t.default=function(e){return o.a.createElement(N.a,null,o.a.createElement(b.a,null,o.a.createElement(T,null),o.a.createElement(M,null)))}}}]);