(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{1575:function(e,t,a){"use strict";a.r(t);var n=a(18),r=a.n(n),o=a(19),i=a.n(o),s=a(12),l=a.n(s),c=a(20),d=a.n(c),u=a(21),m=a.n(u),g=a(14),p=a.n(g),h=a(6),f=a.n(h),v=a(0),b=a.n(v),w=a(30),E=a(33),y=a(3),P=a(48),S=function(){return b.a.createElement("div",{className:"row"},b.a.createElement("div",{className:"col-md-4"},b.a.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},b.a.createElement(P.a,{iconName:"glyphicon-arrow-left",onClickAction:y.e?y.e.goBack:function(){}}))),b.a.createElement("div",{className:"col-md-4"},b.a.createElement("h4",{className:"text-center"},"Portal dashboard instellingen")),b.a.createElement("div",{className:"col-md-4"}))},x=a(16),k=a(235),D=a(13),j=a.n(D),O=a(31),N=a.n(O),C=a(7),T=a.n(C),M=a(40),R=a(104),H=a(237),I=a(11),A=function(e){var t="".concat("setting-dashboard","/multiple").concat(e);return I.a.get(t)},L=function(e){var t="".concat("setting-dashboard");return I.a.post(t,e)},z=function(e){var t="".concat("setting-dashboard","/widget");return I.a.post(t,e)},W=function(e){return I.a.post("portal-settings-dashboard",e)},B=function(e){return I.a.post("portal-settings-dashboard/delete",{id:e})},U=a(855),F=function(e){return b.a.createElement("div",{className:"row"},b.a.createElement("div",{className:"col-md-2"},b.a.createElement("div",{className:"btn-group btn-group-flex",role:"group"},b.a.createElement(P.a,{iconName:"glyphicon-plus",onClickAction:function(){return e.toggleAddWidgetModal()}}))),b.a.createElement("div",{className:"col-md-8"},b.a.createElement("h4",{className:"text-center table-title"},"Widgets")),b.a.createElement("div",{className:"col-md-2"},b.a.createElement("div",{className:"pull-right"},"Resultaten: ",e.widgets.length||0)))},q=(a(5),a(41)),K=a(37),G=a(1549),_=a(1234);function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){f()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var r=p()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return m()(this,a)}}var Q=a(884).default,X=function(e){d()(a,e);var t=$(a);function a(e){var n;return r()(this,a),n=t.call(this,e),f()(l()(n),"closeShowCropWidgetImage",(function(){n.setState(J(J({},n.state),{},{widget:J(J({},n.state.widget),{},{image:"",imageName:""}),showCropImageModal:!1}))})),f()(l()(n),"cropWidgetImage",(function(e){n.setState(J(J({},n.state),{},{widget:J(J({},n.state.widget),{},{image:e,imageName:e.name}),showCropImageModal:!1}))})),f()(l()(n),"addWidgetAction",(function(){var e={},t={},a=!1,r=n.state.widget;if(N.a.isEmpty(r.title)&&(e.title=!0,t.title="Titel verplicht veld.",a=!0),N.a.isEmpty(r.text)&&(e.text=!0,t.text="Tekst verplicht veld.",a=!0),N.a.isEmpty(r.imageName)&&(e.image=!0,t.image="Afbeelding verplicht veld.",a=!0),N.a.isEmpty(r.buttonText)&&(e.buttonText=!0,t.buttonText="Knoptekst verplicht veld.",a=!0),N.a.isEmpty(r.buttonLink)&&(e.buttonLink=!0,t.buttonLink="Knoplink verplicht veld.",a=!0),n.setState(J(J({},n.state),{},{errors:e,errorMessage:t})),!a){var o=new FormData;o.append("title",r.title),o.append("text",r.text),o.append("image",r.image),o.append("buttonText",r.buttonText),o.append("buttonLink",r.buttonLink),W(o).then((function(e){n.props.addWidget(e.data),n.props.toggleModal()})).catch((function(e){console.log(e)}))}})),f()(l()(n),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(J(J({},n.state),{},{widget:J(J({},n.state.widget),{},f()({},r,a))}))})),n.state={widget:{title:"",text:"",image:"",imageName:"",buttonText:"",buttonLink:"",active:!0},showCropImageModal:!1,errors:{title:!1,text:!1,image:!1,buttonText:!1,buttonLink:!1},errorMessage:{}},n}return i()(a,[{key:"onDropAccepted",value:function(e){this.setState(J(J({},this.state),{},{widget:J(J({},this.state.widget),{},{image:e[0],imageName:e[0].name}),showCropImageModal:!0}))}},{key:"onDropRejected",value:function(){alert("Er is wat fout gegaan.")}},{key:"render",value:function(){var e=this.state,t=e.widget,a=e.showCropImageModal,n=e.errors,r=e.errorMessage;return b.a.createElement(q.a,{closeModal:this.props.toggleModal,showConfirmAction:!0,title:this.props.title,buttonConfirmText:"Toevoegen",confirmAction:this.addWidgetAction},b.a.createElement("div",{className:"row"},b.a.createElement(G.a,{sm:12},b.a.createElement(K.a,{divSize:"col-sm-12",labelSize:"col-sm-12",size:"col-sm-12",label:"Titel",name:"title",value:t.title,onChangeAction:this.handleInputChange,required:"required",error:n.title,errorMessage:r.title})),b.a.createElement(G.a,{sm:12,style:{paddingLeft:"30px",paddingRight:"30px"}},b.a.createElement(U.a,{sizeInput:"col-sm-12",sizeLabel:"col-sm-12",size:"col-sm-12",label:"Tekst",name:"text",value:t.text,onChangeAction:this.handleInputChange,required:"required",error:n.text,errorMessage:r.text})),b.a.createElement(G.a,{sm:12,style:{paddingLeft:"30px",paddingRight:"30px"}},b.a.createElement("label",{className:"col-sm-12 required"},"Afbeelding"),!!t.imageName&&b.a.createElement("b",null,"Â geslecteerd bestand: ",t.imageName),b.a.createElement(Q,{accept:"image/png",multiple:!1,className:"dropzone",onDropAccepted:this.onDropAccepted.bind(this),onDropRejected:this.onDropRejected.bind(this),maxSize:6e6},b.a.createElement("p",null,"Klik hier voor het uploaden van een bestand"),b.a.createElement("p",null,b.a.createElement("strong",null,"of")," sleep het bestand hierheen")),n.image&&b.a.createElement("div",{className:"col-sm-12"},b.a.createElement("span",{className:"has-error-message"}," ",r.image))),b.a.createElement(G.a,{sm:5},b.a.createElement(K.a,{divSize:"col-sm-12",labelSize:"col-sm-12",size:"col-sm-12",label:"Knoptekst",name:"buttonText",value:t.buttonText,onChangeAction:this.handleInputChange,required:"required",error:n.buttonText,errorMessage:r.buttonText})),b.a.createElement(G.a,{sm:7},b.a.createElement(K.a,{divSize:"col-sm-12",labelSize:"col-sm-12",size:"col-sm-12",label:"Knoplink",name:"buttonLink",value:t.buttonLink,onChangeAction:this.handleInputChange,required:"required",error:n.buttonLink,errorMessage:r.buttonLink}))),a&&b.a.createElement(_.a,{closeShowCrop:this.closeShowCropWidgetImage,image:t.image,imageLayoutItemName:"image-widget",cropLogo:this.cropWidgetImage}))}}]),a}(v.Component),Y=a(234),Z=a.n(Y),ee=a(815),te=a.n(ee),ae=a(1524),ne=a(1551),re=a(1540),oe=a(1595),ie=a(1596),se=a(1526),le=a(26),ce=a.n(le);function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var r=p()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return m()(this,a)}}var ue=a(884).default,me=function(e){d()(a,e);var t=de(a);function a(e){var n;return r()(this,a),(n=t.call(this,e)).state={error:!1,errorMaxSize:!1},n}return i()(a,[{key:"onDropAccepted",value:function(e){var t=this;this.props.addWidgetImage(e),setTimeout((function(){t.props.closeNewWidgetImage()}),500)}},{key:"onDropRejected",value:function(){this.setState({errorMaxSize:!0})}},{key:"render",value:function(){return b.a.createElement(q.a,{closeModal:this.props.closeNewWidgetImage,showConfirmAction:!1,title:"Upload widget image bestand (PNG)"},b.a.createElement("p",null,"Alleen image bestanden met bestandstype PNG kunnen gebruikt worden."),b.a.createElement("p",null,"Breedte en hoogte zijn variabel en afhankelijk van window breedte/hoogte. Breedte/Hoogte verhouding images blijft behouden en images zullen wel volledig getoond worden. Bij genoeg window breedte worden widgets per 2 naast elkaar getoond, anders onder elkaar. Aanbevolen afmeting (in pixels): 453x151 (3:1 verhouding)."),b.a.createElement("div",{className:"upload-file-content"},b.a.createElement(ue,{accept:"image/png",multiple:!1,className:"dropzone",onDropAccepted:this.onDropAccepted.bind(this),onDropRejected:this.onDropRejected.bind(this),maxSize:6291456},b.a.createElement("p",null,"Klik hier voor het uploaden van een bestand"),b.a.createElement("p",null,b.a.createElement("strong",null,"of")," sleep het bestand hierheen"))),this.state.error&&b.a.createElement("p",{className:"has-error-message"},"Uploaden mislukt. Probeer nogmaals een bestand te uploaden."),this.state.errorMaxSize&&b.a.createElement("p",{className:"has-error-message"},"Uploaden mislukt. Het bestand moet bestandstype PNG zijn en mag maximaal 6MB groot zijn."))}}]),a}(v.Component),ge=a(816),pe=a(1304),he=a(65),fe=a(70),ve=function(e){var t=e.row,a=e.index,n=e.moveRow,r=e.edit,o=e.handleInputChange,i=e.removeWidget,s=e.imageHash,l=Object(v.useRef)(null),c=Object(v.useRef)(null),d=Object(v.useState)(!1),u=te()(d,2),m=u[0],g=u[1],p=Object(v.useState)(!1),h=te()(p,2),f=h[0],w=h[1],E=Object(v.useState)(""),y=te()(E,2),S=y[0],x=y[1],k=Object(v.useState)(!1),D=te()(k,2),j=D[0],O=D[1],N=Object(v.useState)(""),C=te()(N,2),T=C[0],M=C[1],R=["over-ons","project-schrijf-je-in","huidige-deelnames"],H=["buttonLink"],I=Object(oe.a)({accept:"row",hover:function(e,t){if(l.current){var r=e.index,o=a;if(r!==o){var i=l.current.getBoundingClientRect(),s=(i.bottom-i.top)/2,c=t.getClientOffset().y-i.top;r<o&&c<s||r>o&&c>s||(n(r,o),e.index=o)}}}}),A=te()(I,2)[1],L=Object(ie.a)({type:"row",item:{type:"row",index:a},collect:function(e){return{isDragging:e.isDragging()}}}),W=te()(L,3),B=W[0].isDragging,F=W[1],G=B?0:1;(0,W[2])(A(l)),F(c);var V=function(){g(!m)};return b.a.createElement(b.a.Fragment,null,b.a.createElement("tr",{ref:l,style:{opacity:G}},r&&b.a.createElement("td",{ref:c},b.a.createElement(ce.a,{icon:se.arrows_vertical}),b.a.createElement(he.b,{color:"blue",size:"15px","data-tip":"Je kunt de volgorde van de widgets aanpassen door deze te slepen","data-for":"tooltip-".concat(l)}),b.a.createElement(fe.a,{id:"tooltip-".concat(l),effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"})),r?t.cells.map((function(e){switch(e.column.id){case"title":case"text":case"buttonText":case"buttonLink":return b.a.createElement("td",{key:e.column.id},b.a.createElement(U.a,{sizeInput:"col-sm-12",size:"col-sm-12",name:"".concat(e.row.id,"-").concat(e.column.id),value:e.value,onChangeAction:o,itemId:e.row.id}));case"image":var t=e.value&&e.value.includes("images/")?"".concat(URL_API,"/portal").concat(e.value,"?").concat(s):"".concat(URL_API,"/portal/images/").concat(e.value,"?").concat(s);return b.a.createElement("td",{key:e.column.id},b.a.createElement(pe.a,{src:S&&S.preview?S.preview:t,thumbnail:!0,style:{border:"1px solid #999",display:"inline-block",padding:"1px",borderRadius:"1px",height:"100%",width:"100px",boxShadow:"0 0 0 1px #fff inset"},onClick:V}),b.a.createElement(K.a,{type:"hidden",label:"",divSize:"col-sm-12",size:"col-sm-12",value:S?S.name:e.value,onClickAction:V,onChangeaction:function(){}}));case"active":return b.a.createElement("td",{key:e.column.id},b.a.createElement(ge.a,{label:"",name:"".concat(e.row.id,"-").concat(e.column.id),value:e.value,onChangeAction:o,itemId:e.row.id}));default:return b.a.createElement("td",{key:e.column.id},b.a.createElement(K.a,{type:"text",divSize:"col-sm-12",divClassName:"no-padding",size:"col-sm-12",name:"".concat(e.row.id,"-").concat(e.column.id),value:e.value,onChangeAction:o,itemId:e.row.id,disabled:R.includes(e.row.id)&&H.includes(e.column.id)}))}})):t.cells.map((function(e){switch(e.column.id){case"active":return b.a.createElement("td",e.getCellProps(),e.value?"Ja":"Nee");case"image":var t=e.value&&e.value.includes("images/")?"".concat(URL_API,"/portal").concat(e.value,"?").concat(s):"".concat(URL_API,"/portal/images/").concat(e.value,"?").concat(s);return b.a.createElement("td",{key:e.column.id},b.a.createElement(pe.a,{src:S&&S.preview?S.preview:t,thumbnail:!0,style:{border:"1px solid #999",display:"inline-block",padding:"1px",borderRadius:"1px",height:"100%",width:"100px",boxShadow:"0 0 0 1px #fff inset"}}))}return b.a.createElement("td",e.getCellProps(),e.render("Cell"))})),r&&b.a.createElement("td",null,b.a.createElement(P.a,{iconName:"glyphicon-remove",buttonClassName:"btn-danger btn-sm",disabled:R.includes(t.id),onClickAction:function(){return i(t.id)}}))),m&&b.a.createElement(me,{closeNewWidgetImage:function(){g(!1)},addWidgetImage:function(e){x(e[0]),w(!0)}}),f&&b.a.createElement(_.a,{closeShowCrop:function(){x(""),w(!1)},image:S,imageLayoutItemName:"image-widget",cropLogo:function(e){x(e);var a=new FormData;a.append("id",t.id),a.append("image",e),z(a).then((function(e){w(!1),O(!0),M(e.data.message)})).catch((function(e){w(!1),console.log(e),alert("Er is iets misgegaan bij opslaan. Herlaad de pagina en probeer het nogmaals.")}))}}),j&&b.a.createElement(q.a,{title:"Succes",closeModal:function(){O(!j)},buttonCancelText:"Ok",showConfirmAction:!1},T))},be=a(1529),we=a.n(be);function Ee(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return ye(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ye(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==a.return||a.return()}finally{if(s)throw o}}}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Pe=function(e){var t=e.columns,a=e.data,n=e.edit,r=e.handleInputChange,o=e.removeWidget,i=e.imageHash,s=Object(v.useState)(a),l=te()(s,2),c=l[0],d=l[1];Object(v.useEffect)((function(){d(a)}),[a]),Object(v.useEffect)((function(){var e,t=Ee(c.entries());try{for(t.s();!(e=t.n()).done;){var a=te()(e.value,2),n=a[0];a[1].order=n+1}}catch(e){t.e(e)}finally{t.f()}}),[c]);var u=b.a.useCallback((function(e){return e.id}),[]),m=Object(ae.useTable)({data:c,columns:t,getRowId:u}),g=m.getTableProps,p=m.getTableBodyProps,h=m.headerGroups,f=m.rows,w=m.prepareRow,E=function(e,t){var a=c[e];d(we()(c,{$splice:[[e,1],[t,0,a]]}))};return b.a.createElement(ne.a,{backend:re.a},b.a.createElement("table",Z()({},g(),{className:"table table-condensed table-hover table-striped col-xs-12"}),b.a.createElement("thead",null,h.map((function(e){return b.a.createElement("tr",Z()({},e.getHeaderGroupProps(),{className:"thead-title"}),n&&b.a.createElement("th",null),e.headers.map((function(e){return b.a.createElement("th",e.getHeaderProps(),e.render("Header"),e.textToolTip&&b.a.createElement("span",null," ",b.a.createElement(he.b,{color:"white",size:"15px","data-tip":e.render("textToolTip"),"data-for":"tooltip-".concat(e.render("accessor"))}),b.a.createElement(fe.a,{id:"tooltip-".concat(e.render("accessor")),effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"})))})),n&&b.a.createElement("th",null))}))),b.a.createElement("tbody",p(),f.map((function(e,t){return w(e)||b.a.createElement(ve,Z()({index:t,row:e,moveRow:E,edit:n,handleInputChange:r,removeWidget:o},e.getRowProps(),{imageHash:i}))})))))};function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var r=p()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return m()(this,a)}}var xe=function(e){d()(a,e);var t=Se(a);function a(e){var n;return r()(this,a),n=t.call(this,e),f()(l()(n),"toggleAddWidgetModal",(function(){n.setState({addWidgetModal:!n.state.addWidgetModal})})),n.state={addWidgetModal:!1},n}return i()(a,[{key:"render",value:function(){var e=this.props.widgets,t=this.props.edit;return b.a.createElement(b.a.Fragment,null,t?b.a.createElement(b.a.Fragment,null,b.a.createElement(F,{widgets:e,toggleAddWidgetModal:this.toggleAddWidgetModal}),b.a.createElement("div",{style:{height:"5px"}})):b.a.createElement("h5",null,"Widgets"),b.a.createElement(Pe,{columns:[{Header:"Titel",textToolTip:"",accessor:"title"},{Header:"Tekst",textToolTip:"",accessor:"text"},{Header:"Afbeelding",textToolTip:"",accessor:"image"},{Header:"Knoptekst",textToolTip:"",accessor:"buttonText"},{Header:"Knoplink",textToolTip:"Knoplinks zonder HTTPS:// verwijzen naar pagina binnen xxxxxx.mijnenergiesamen.nl (de gebruikers portaal pagina) \n                     <br /> bijvoorbeeld inschrijven-projecten verwijst naar: <br />\n                     https://xxxxxx.mijnenergiesamen.nl/#/inschrijven-projecten <br />\n                     Knoplinks met HTTPS:// (Externe links) verwijzen naar een pagina buiten de gebruikersportaal <br />\n                     bijvoorbeeld https://www.google.com/\n                     zal na aanklikken de website in een nieuw tabblad(nieuw scherm) openen.",accessor:"buttonLink"},{Header:"Actief",textToolTip:"",accessor:"active"}],data:e.sort((function(e,t){return e.order>t.order?1:-1})),edit:t,handleInputChange:this.props.handleWidgetInputChange,removeWidget:this.props.removeWidget,imageHash:this.props.imageHash}),this.state.addWidgetModal&&b.a.createElement(X,{title:"Widget toevoegen",toggleModal:this.toggleAddWidgetModal,addWidget:this.props.addWidget}))}}]),a}(v.Component),ke=Object(x.b)((function(e){return{isLoading:e.loadingData.isLoading,hasError:e.loadingData.hasError}}))(xe),De=a(1236),je=a(1237);function Oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(a),!0).forEach((function(t){f()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Oe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var r=p()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return m()(this,a)}}T.a.locale("nl");var Te=function(e){d()(a,e);var t=Ce(a);function a(e){var n;return r()(this,a),n=t.call(this,e),f()(l()(n),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Ne(Ne({},n.state),{},{dashboardSettings:Ne(Ne({},n.state.dashboardSettings),{},f()({},r,a))}))})),f()(l()(n),"togglePreviewPortalDashboardPagePc",(function(){n.setState({showPreviewPortalDashboardPagePc:!n.state.showPreviewPortalDashboardPagePc})})),f()(l()(n),"togglePreviewPortalDashboardPageMobile",(function(){n.setState({showPreviewPortalDashboardPageMobile:!n.state.showPreviewPortalDashboardPageMobile})})),f()(l()(n),"handleSubmit",(function(e){e.preventDefault();var t=n.state,a=t.dashboardSettings,r=t.widgets;n.setState(Ne(Ne({},n.state),{},{errors:{}})),L({welcomeTitle:a.welcomeTitle,welcomeMessage:a.welcomeMessage,widgets:r}).then((function(e){n.props.updateState(e.data),n.props.switchToView()})).catch((function(e){console.log("error PortalSettingsDashboardFormGeneralEdit - handleSubmit - updateDashboardSettings"),console.log(e),n.props.setError(e.response.status,e.response.data.message)}))})),f()(l()(n),"handleWidgetInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.getAttribute("data-item-id"),o=t.name.replace(r+"-",""),i=Object.assign(j()(n.state.widgets),f()({},n.state.widgets.findIndex((function(e){return e.id===r})),Ne(Ne({},n.state.widgets[n.state.widgets.findIndex((function(e){return e.id===r}))]),{},f()({},o,a))));n.setState(Ne(Ne({},n.state),{},{widgets:i}))})),f()(l()(n),"addWidget",(function(e){n.setState(Ne(Ne({},n.state),{},{widgets:[].concat(j()(n.state.widgets),[e])}))})),f()(l()(n),"removeWidget",(function(e){B(e).then((function(e){n.setState(Ne(Ne({},n.state),{},{widgets:e.data}))})).catch((function(e){console.log("error PortalSettingsDashboardFormGeneralEdit - removeWidget - removeDashboardWidget"),console.log(e),n.props.setError(e.response.status,e.response.data.message)}))})),n.state={showPreviewPortalDashboardPagePc:!1,showPreviewPortalDashboardPageMobile:!1,imageHash:Date.now(),dashboardSettings:Ne({},e.dashboardSettings),widgets:j()(e.dashboardSettings.widgets),errors:{welcomeTitle:"",welcomeMessage:""}},n}return i()(a,[{key:"render",value:function(){var e=this.state.dashboardSettings,t=e.welcomeTitle,a=e.welcomeMessage,n=this.state.widgets,r="".concat(URL_API,"/portal/images/logo.png?").concat(this.props.imageHash),o="".concat(URL_API,"/portal/images/background-header.png?").concat(this.props.imageHash);return b.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},b.a.createElement(w.a,null,b.a.createElement(E.a,null,b.a.createElement("div",{className:"row"},b.a.createElement(U.a,{label:"Welkomsttitel",divSize:"col-sm-8",name:"welcomeTitle",value:t,onChangeAction:this.handleInputChange,error:!!this.state.errors.welcomeTitle})),b.a.createElement("div",{className:"row"},b.a.createElement(U.a,{label:"Welkomstbericht",divSize:"col-sm-8",name:"welcomeMessage",value:a,onChangeAction:this.handleInputChange,error:!!this.state.errors.welcomeMessage})))),b.a.createElement(w.a,null,b.a.createElement(E.a,null,b.a.createElement("div",{className:"row",style:{margin:"0"}},b.a.createElement(ke,{widgets:n,edit:!0,handleWidgetInputChange:this.handleWidgetInputChange,addWidget:this.addWidget,removeWidget:this.removeWidget,imageHash:this.props.imageHash}))),b.a.createElement(E.a,null,b.a.createElement("div",{className:"pull-right btn-group",role:"group"},b.a.createElement(M.a,{buttonClassName:"btn-default",buttonText:"Sluiten",onClickAction:this.props.switchToView}),b.a.createElement(M.a,{buttonText:"Opslaan",type:"submit",value:"Submit"}))),this.state.showPreviewPortalDashboardPagePc&&b.a.createElement(De.a,{previewFromLayout:!1,closeModal:this.togglePreviewPortalDashboardPagePc,imageHash:this.state.imageHash,attachmentLogoHeader:"",logoHeaderUrl:r,attachmentImageBgHeader:"",imageBgHeaderUrl:o}),this.state.showPreviewPortalDashboardPageMobile&&b.a.createElement(je.a,{previewFromLayout:!1,closeModal:this.togglePreviewPortalDashboardPageMobile,imageHash:this.state.imageHash,attachmentLogoHeader:"",logoHeaderUrl:r,attachmentImageBgHeader:"",imageBgHeaderUrl:o})))}}]),a}(v.Component),Me=Object(x.b)(null,(function(e){return{setError:function(t,a){e(Object(R.b)(t,a))},fetchSystemData:function(){e(Object(H.a)())}}}))(Te),Re=a(23);function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var r=p()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return m()(this,a)}}var Ie=function(e){d()(a,e);var t=He(a);function a(e){var n;return r()(this,a),n=t.call(this,e),f()(l()(n),"togglePreviewPortalDashboardPagePc",(function(){n.setState({showPreviewPortalDashboardPagePc:!n.state.showPreviewPortalDashboardPagePc})})),f()(l()(n),"togglePreviewPortalDashboardPageMobile",(function(){n.setState({showPreviewPortalDashboardPageMobile:!n.state.showPreviewPortalDashboardPageMobile})})),n.state={showPreviewPortalDashboardPagePc:!1,showPreviewPortalDashboardPageMobile:!1,imageHash:Date.now()},n}return i()(a,[{key:"render",value:function(){var e=this.props.dashboardSettings,t=e.welcomeTitle,a=e.welcomeMessage,n=e.widgets,r="".concat(URL_API,"/portal/images/logo.png?").concat(this.props.imageHash),o="".concat(URL_API,"/portal/images/background-header.png?").concat(this.props.imageHash);return b.a.createElement(b.a.Fragment,null,b.a.createElement("div",null,b.a.createElement(w.a,null,b.a.createElement(E.a,null,b.a.createElement("div",{className:"row"},b.a.createElement("div",{className:"col-md-6"},b.a.createElement("div",{className:"btn-group btn-group-flex",role:"group"},b.a.createElement(M.a,{buttonText:"Preview dashboard pagina PC",onClickAction:this.togglePreviewPortalDashboardPagePc}),b.a.createElement(M.a,{buttonText:"Preview dashboard pagina mobiel",onClickAction:this.togglePreviewPortalDashboardPageMobile})))))),this.state.showPreviewPortalDashboardPagePc&&b.a.createElement(De.a,{previewFromLayout:!1,closeModal:this.togglePreviewPortalDashboardPagePc,imageHash:this.state.imageHash,attachmentLogoHeader:"",logoHeaderUrl:r,attachmentImageBgHeader:"",imageBgHeaderUrl:o}),this.state.showPreviewPortalDashboardPageMobile&&b.a.createElement(je.a,{previewFromLayout:!1,closeModal:this.togglePreviewPortalDashboardPageMobile,imageHash:this.state.imageHash,attachmentLogoHeader:"",logoHeaderUrl:r,attachmentImageBgHeader:"",imageBgHeaderUrl:o})),b.a.createElement("div",{onClick:this.props.switchToEdit},b.a.createElement(w.a,null,b.a.createElement(E.a,null,b.a.createElement("div",{className:"row"},b.a.createElement(Re.a,{label:"Welkomsttitel",divSize:"col-sm-8",value:t,className:"col-sm-8 form-group"})),b.a.createElement("div",{className:"row"},b.a.createElement(Re.a,{label:"Welkomstbericht",divSize:"col-sm-8",value:a,className:"col-sm-8 form-group"})))),b.a.createElement(w.a,null,b.a.createElement(E.a,null,b.a.createElement("div",{className:"row",style:{margin:"0"}},b.a.createElement(ke,{widgets:n,edit:!1,imageHash:this.state.imageHash}))))))}}]),a}(v.Component),Ae=function(){return b.a.createElement(b.a.Fragment,null,b.a.createElement("h3",null,"Geen toegang."),b.a.createElement("p",null,"U heeft geen rechten voor deze pagina en/of actie."))};function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var r=p()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return m()(this,a)}}var ze=function(e){d()(a,e);var t=Le(a);function a(e){var n;return r()(this,a),n=t.call(this,e),f()(l()(n),"switchToEdit",(function(){n.setState({showEdit:!0})})),f()(l()(n),"switchToView",(function(){n.setState({showEdit:!1,imageHash:Date.now(),activeDiv:""})})),n.state={showEdit:!1,imageHash:Date.now(),activeDiv:""},n}return i()(a,[{key:"onDivEnter",value:function(){this.setState({activeDiv:"panel-grey"})}},{key:"onDivLeave",value:function(){this.state.showEdit||this.setState({activeDiv:""})}},{key:"render",value:function(){var e=this,t=this.props.meDetails.permissions,a=void 0===t?{}:t;return a.managePortalSettings?b.a.createElement("div",{className:this.state.activeDiv,onMouseEnter:function(){return e.onDivEnter()},onMouseLeave:function(){return e.onDivLeave()}},this.state.showEdit&&a.managePortalSettings?b.a.createElement(Me,{dashboardSettings:this.props.dashboardSettings,updateState:this.props.updateState,meDetails:this.props.meDetails,switchToView:this.switchToView,imageHash:this.state.imageHash}):Object(k.isEmpty)(this.props.dashboardSettings)?b.a.createElement("p",null,"Nog geen dashboard instellingen opgeslagen."):b.a.createElement(Ie,{dashboardSettings:this.props.dashboardSettings,switchToEdit:this.switchToEdit,imageHash:this.state.imageHash})):b.a.createElement(Ae,null)}}]),a}(v.Component),We=Object(x.b)((function(e){return{meDetails:e.meDetails,permissions:e.meDetails.permissions}}))(ze),Be=function(e){var t=e.dashboardSettings,a=e.hasError,n=e.isLoading,r=e.updateState,o="",i=!0;return a?o="Fout bij het ophalen van dashboard instellingen.":n?o="Gegevens aan het laden.":i=!1,i?b.a.createElement("div",null,o):b.a.createElement("div",null,b.a.createElement(We,{dashboardSettings:t,updateState:r}))};function Ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(a),!0).forEach((function(t){f()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=p()(e);if(t){var r=p()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return m()(this,a)}}var Ke=function(e){d()(a,e);var t=qe(a);function a(e){var n;return r()(this,a),n=t.call(this,e),f()(l()(n),"callFetchDashboardSettings",(function(){n.setState({isLoading:!0,hasError:!1});A("?keys[]=welcomeTitle&keys[]=welcomeMessage&keys[]=widgets").then((function(e){n.setState({isLoading:!1,dashboardSettings:Fe({},e.data)})})).catch((function(e){n.setState({isLoading:!1,hasError:!0})}))})),f()(l()(n),"updateState",(function(e){n.setState({dashboardSettings:Fe({},e)})})),n.state={dashboardSettings:{},isLoading:!1,hasError:!1},n}return i()(a,[{key:"componentDidMount",value:function(){this.callFetchDashboardSettings()}},{key:"render",value:function(){return b.a.createElement("div",{className:"row"},b.a.createElement("div",{className:"col-md-9"},b.a.createElement("div",{className:"col-md-12 margin-10-top"},b.a.createElement(w.a,null,b.a.createElement(E.a,{className:"panel-small"},b.a.createElement(S,null)))),b.a.createElement("div",{className:"col-md-12 margin-10-top"},b.a.createElement(Be,{dashboardSettings:this.state.dashboardSettings,isLoading:this.state.isLoading,hasError:this.state.hasError,updateState:this.updateState})),b.a.createElement("div",{className:"col-md-12 margin-10-top"})),b.a.createElement("div",{className:"col-md-3"}))}}]),a}(v.Component);t.default=Ke},855:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(5),i=a.n(o),s=function(e){var t,a=e.label,n=e.size,o=e.sizeLabel,i=e.sizeInput,s=e.id,l=e.name,c=e.value,d=e.onChangeAction,u=e.required,m=e.error,g=e.errorMessage,p=e.rows;return r.a.createElement("div",{className:"form-group ".concat(n)},r.a.createElement("div",{className:"row"},!!a&&r.a.createElement("div",{className:o},r.a.createElement("label",{htmlFor:s,className:"col-sm-12 ".concat(u)},a)),r.a.createElement("div",{className:i},r.a.createElement("textarea",{name:l,value:c,onChange:d,className:"form-control input-sm "+(m?"has-error":""),rows:p,"data-item-id":null!==(t=e.itemId)&&void 0!==t?t:""}))),m&&r.a.createElement("div",{className:i},r.a.createElement("span",{className:"has-error-message"}," ",g)))};s.defaultProps={size:"col-sm-12",sizeLabel:"col-sm-3",sizeInput:"col-sm-9",value:"",required:"",error:!1,errorMessage:"",rows:"5"},s.propTypes={label:i.a.string,type:i.a.string,size:i.a.string,sizeLabel:i.a.string,sizeInput:i.a.string,id:i.a.string,name:i.a.string.isRequired,value:i.a.oneOfType([i.a.string,i.a.number]),onChangeAction:i.a.func,required:i.a.string,error:i.a.bool,errorMessage:i.a.string},t.a=s}}]);