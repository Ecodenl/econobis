(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{1570:function(e,t,n){"use strict";n.r(t);var a=n(25),o=n.n(a),r=n(24),s=n.n(r),i=n(26),c=n.n(i),l=n(27),u=n.n(l),d=n(21),p=n.n(d),m=n(28),h=n.n(m),f=n(6),E=n.n(f),C=n(0),g=n.n(C),y=n(33),b=n(15),S=n(197),T=n(8),v=n.n(T),A=function(e,t,n,a,o){return{type:"FETCH_CONTACTS",filters:e,extraFilters:t,sorts:n,pagination:a,filterType:o}},N=function(){return{type:"CLEAR_CONTACTS"}},w=function(e){return{type:"SET_CHECKED_CONTACT_ALL",checkedValue:e}},F=function(e){return{type:"SET_NUMBER_FILTER",number:e}},k=function(e){return{type:"SET_TYPE_FILTER",typeId:e}},O=function(e){return{type:"SET_FULL_NAME_FILTER",fullName:e}},D=function(e){return{type:"SET_STREET_AND_NUMBER_FILTER",streetAndNumber:e}},x=function(e){return{type:"SET_POSTAL_CODE_FILTER",postalCode:e}},_=function(e){return{type:"SET_CITY_FILTER",city:e}},R=function(e){return{type:"SET_EMAIL_ADDRESS_FILTER",emailAddress:e}},I=function(e){return{type:"SET_PHONE_NUMBER_FILTER",phoneNumber:e}},P=function(e){return{type:"SET_STATUS_FILTER",statusId:e}},L=function(e){return{type:"SET_CREATED_AT_FILTER",createdAt:e}},G=function(){return{type:"CLEAR_FILTER_CONTACTS"}},j=function(e){return{type:"SET_CONTACTS_PAGINATION",pagination:e}},M=n(723),U=n(198),V=n.n(U),H=n(144),B=n(145),Y=n(199),W=n(716),q=Object(y.b)(null,(function(e){return{setContactsSortsFilter:function(t,n){e(function(e,t){return{type:"SET_CONTACTS_SORTS_FILTER",field:e,order:t}}(t,n))}}}))((function(e){var t=function(t,n){e.setContactsSortsFilter(t,n),setTimeout((function(){e.fetchContactsData()}),100)};return g.a.createElement("tr",{className:"thead-title"},e.showCheckbox?g.a.createElement("th",{width:"3%"}):null,g.a.createElement(W.a,{RowClassName:"hidden-xs",sortColumn:"number",title:"#",width:"5%",setSorts:t}),g.a.createElement(W.a,{RowClassName:"hidden-xs hidden-sm",sortColumn:"typeName",title:"Type",width:"7%",setSorts:t}),g.a.createElement(W.a,{sortColumn:"fullName",title:"Naam",width:"11%",setSorts:t}),g.a.createElement(W.a,{RowClassName:"hidden-xs",sortColumn:"streetAndNumber",title:"Adres",width:"12%",setSorts:t}),g.a.createElement(W.a,{RowClassName:"hidden-xs",sortColumn:"postalCode",title:"Postcode",width:"7%",setSorts:t}),g.a.createElement(W.a,{RowClassName:"hidden-xs",sortColumn:"city",title:"Plaats",width:"10%",setSorts:t}),g.a.createElement(W.a,{RowClassName:"hidden-xs",sortColumn:"emailAddress",title:"E-mail",width:"12%",setSorts:t}),g.a.createElement(W.a,{sortColumn:"phoneNumber",title:"Telefoon",width:"7%",setSorts:t}),g.a.createElement(W.a,{RowClassName:"hidden-xs hidden-sm",sortColumn:"createdAt",title:"Gemaakt op",width:"8%",setSorts:t}),g.a.createElement("th",{width:"3%"}))})),K=n(720),z=Object(y.b)((function(e){return{filters:e.contacts.filters,contactStatuses:e.systemData.contactStatuses,contactTypes:e.systemData.contactTypes}}),(function(e){return Object(b.b)({setNumberFilter:F,setTypeFilter:k,setFullNameFilter:O,setStreetAndNumberFilter:D,setPostalCodeFilter:x,setCityFilter:_,setEmailAddressFilter:R,setPhoneNumberFilter:I,setStatusFilter:P,setCreatedAtFilter:L},e)}))((function(e){return g.a.createElement("tr",{className:"thead-filter"},e.showCheckbox&&g.a.createElement("td",null,g.a.createElement("input",{type:"checkbox",value:e.checkedAllCheckboxes,onChange:e.selectAllCheckboxes})),g.a.createElement("th",{className:"hidden-xs"},g.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.number.data,onChange:function(t){e.setNumberFilter(t.target.value)}})),g.a.createElement("th",{className:"hidden-xs hidden-sm"},g.a.createElement("select",{className:"form-control input-sm",value:e.filters.typeId.data,onChange:function(t){e.setTypeFilter(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}},g.a.createElement("option",null),e.contactTypes.map((function(e){return g.a.createElement("option",{key:e.id,value:e.id},e.name)})))),g.a.createElement("th",null,g.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.fullName.data,onChange:function(t){e.setFullNameFilter(t.target.value)}})),g.a.createElement("th",{className:"hidden-xs"},g.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.streetAndNumber.data,onChange:function(t){e.setStreetAndNumberFilter(t.target.value)}})),g.a.createElement("th",{className:"hidden-xs"},g.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.postalCode.data,onChange:function(t){e.setPostalCodeFilter(t.target.value)}})),g.a.createElement("th",{className:"hidden-xs"},g.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.city.data,onChange:function(t){e.setCityFilter(t.target.value)}})),g.a.createElement("th",{className:"hidden-xs"},g.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.emailAddress.data,onChange:function(t){e.setEmailAddressFilter(t.target.value)}})),g.a.createElement("th",null,g.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.phoneNumber.data,onChange:function(t){e.setPhoneNumberFilter(t.target.value)}})),g.a.createElement(K.a,{value:e.filters.createdAt.data&&e.filters.createdAt.data,onChangeAction:function(t){void 0===t?e.setCreatedAtFilter(""):e.setCreatedAtFilter(v()(t).format("Y-MM-DD"))}}),g.a.createElement("th",null))})),J=n(4),Z=function(e){function t(e){var n;return o()(this,t),(n=c()(this,u()(t).call(this,e))).state={showActionButtons:!1,highlightRow:""},n}return h()(t,e),s()(t,[{key:"onRowEnter",value:function(){this.setState({showActionButtons:!0,highlightRow:"highlight-row"})}},{key:"onRowLeave",value:function(){this.setState({showActionButtons:!1,highlightRow:""})}},{key:"setCheckedContact",value:function(e){this.props.setCheckedContact(e)}},{key:"openItem",value:function(e){J.f.push("/contact/".concat(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.checked,a=t.id,o=t.number,r=t.typeName,s=t.fullName,i=t.streetAndNumber,c=t.postalCode,l=t.city,u=t.emailAddress,d=t.phoneNumber,p=(t.statusName,t.createdAt);return g.a.createElement("tr",{className:this.state.highlightRow,onDoubleClick:function(){return e.openItem(a)},onMouseEnter:function(){return e.onRowEnter()},onMouseLeave:function(){return e.onRowLeave()}},this.props.showCheckbox&&g.a.createElement("td",null,g.a.createElement("input",{type:"checkbox",checked:n,onChange:function(){return e.setCheckedContact(a)}})),g.a.createElement("td",{className:"hidden-xs"},o),g.a.createElement("td",{className:"hidden-xs hidden-sm"},r," "),g.a.createElement("td",null,s),g.a.createElement("td",{className:"hidden-xs"},i),g.a.createElement("td",{className:"hidden-xs"},c),g.a.createElement("td",{className:"hidden-xs"},l),g.a.createElement("td",{className:"hidden-xs"},u),g.a.createElement("td",null,d),g.a.createElement("td",{className:"hidden-xs hidden-sm"},v()(p).format("DD-MM-Y")),g.a.createElement("td",null,this.state.showActionButtons?g.a.createElement("a",{role:"button",onClick:function(){return e.openItem(a)}},g.a.createElement("span",{className:"glyphicon glyphicon-pencil mybtn-success"})," "):"",this.state.showActionButtons?g.a.createElement("a",{role:"button",onClick:this.props.showDeleteItemModal.bind(this,a,s)},g.a.createElement("span",{className:"glyphicon glyphicon-trash mybtn-danger"})," "):""))}}]),t}(C.Component);var Q=Object(y.b)((function(e){return{statuses:e.statuses,types:e.types}}),(function(e){return{setCheckedContact:function(t){e(function(e){return{type:"SET_CHECKED_CONTACT",id:e}}(t))}}}))(Z),X=n(98),$=Object(y.b)(null,(function(e){return{deleteContact:function(t){e(function(e){return{type:"DELETE_CONTACT",id:e}}(t))}}}))((function(e){return g.a.createElement(X.a,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.closeDeleteItemModal,confirmAction:function(){return e.deleteContact(e.id),void e.closeDeleteItemModal()},title:"Verwijderen"},"Verwijder contact: ",g.a.createElement("strong",null," ",e.fullName," "))})),ee=n(707);n(710);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=function(e){function t(e){var n;return o()(this,t),n=c()(this,u()(t).call(this,e)),E()(p()(n),"handleKeyUp",(function(e){13===e.keyCode&&n.props.onSubmitFilter()})),E()(p()(n),"showDeleteItemModal",(function(e,t){n.setState(ne({},n.state,{showDeleteItem:!0,deleteItem:ne({},n.state.deleteItem,{id:e,fullName:t})}))})),E()(p()(n),"closeDeleteItemModal",(function(){n.setState(ne({},n.state,{showDeleteItem:!1,deleteItem:ne({},n.state.deleteItem,{id:"",fullName:""})}))})),n.state={showDeleteItem:!1,deleteItem:{id:"",fullName:""}},n}return h()(t,e),s()(t,[{key:"render",value:function(){var e=this,t=this.props.contacts,n=t.data,a=void 0===n?[]:n,o=t.meta,r=void 0===o?{}:o,s="",i=!0;return this.props.hasError?s="Fout bij het ophalen van contacten.":this.props.isLoading?s="Gegevens aan het laden.":0===a.length?s="Geen contacten gevonden!":i=!1,g.a.createElement("div",null,g.a.createElement("form",{onKeyUp:this.handleKeyUp},g.a.createElement(H.a,null,g.a.createElement(B.a,null,g.a.createElement(q,{showCheckbox:this.props.showCheckboxList,fetchContactsData:function(){return e.props.fetchContactsData()}}),g.a.createElement(z,{showCheckbox:this.props.showCheckboxList,selectAllCheckboxes:function(){return e.props.selectAllCheckboxes()},onSubmitFilter:this.props.onSubmitFilter})),g.a.createElement(Y.a,null,i?g.a.createElement("tr",null,g.a.createElement("td",{colSpan:10},s)):a.map((function(t){return g.a.createElement(Q,V()({key:t.id},t,{showCheckbox:e.props.showCheckboxList,checkedAllCheckboxes:e.props.checkedAllCheckboxes,showDeleteItemModal:e.showDeleteItemModal}))})))),g.a.createElement("div",{className:"col-md-6 col-md-offset-3"},g.a.createElement(ee.a,{onPageChangeAction:this.props.handlePageClick,totalRecords:r.total,initialPage:this.props.contactsPagination.page}))),this.state.showDeleteItem&&g.a.createElement($,V()({closeDeleteItemModal:this.closeDeleteItemModal},this.state.deleteItem)))}}]),t}(C.Component),oe=Object(y.b)((function(e){return{isLoading:e.loadingData.isLoading,hasError:e.loadingData.hasError}}))(ae),re=n(685),se=Object(y.b)((function(e){return{contacts:e.contacts.list.data}}),(function(e){return{deleteSelectedContacts:function(t){e(function(e){return{type:"DELETE_SELECTED_CONTACTS",contactIds:e}}(t))}}}))((function(e){var t=function(){var t=0;return e.contacts.map((function(e){return!0===e.checked&&t++})),t};return g.a.createElement(X.a,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.toggleShowDeleteSelectedItems,confirmAction:function(){return t=[],e.contacts.map((function(e){return!0===e.checked&&t.push(e.id)})),e.deleteSelectedContacts(t),void e.toggleShowDeleteSelectedItems();var t},title:"Verwijderen"},0!==t()?g.a.createElement("div",null,"Verwijder de geselecteerde ",g.a.createElement("strong",null,t())," contacten?"):g.a.createElement("div",null,"Geen contacten geselecteerd."))})),ie=n(775),ce=n(55),le=n(688),ue=function(e){function t(e){var n;return o()(this,t),n=c()(this,u()(t).call(this,e)),E()(p()(n),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,o=t.name;n.setState(E()({},o,a))})),E()(p()(n),"handleSubmit",(function(e){var t=[];n.props.contacts.map((function(e){return!0===e.checked&&t.push(e.id)})),ce.a.addManyContactsToGroup(t,n.state.groupId).then((function(e){n.props.toggleAddGroup(),J.f.push("/contacten-in-groep/".concat(n.state.groupId))}))})),n.state={contactGroups:[],groupId:"",contactCount:0,contactIds:"",errors:{groupId:!1}},n}return h()(t,e),s()(t,[{key:"componentDidMount",value:function(){var e=this;ce.a.peekStaticContactGroups().then((function(t){e.setState({contactGroups:t})}));var t=0;this.props.contacts.map((function(e){return!0===e.checked&&t++})),this.setState({contactCount:t})}},{key:"render",value:function(){return g.a.createElement(X.a,{buttonConfirmText:"Toevoegen",closeModal:this.props.toggleAddGroup,confirmAction:this.handleSubmit,title:"Contacten toevoegen aan groep"},0!==this.state.contactCount?g.a.createElement("div",{className:"row"},g.a.createElement(le.a,{size:"col-md-12",label:"Voeg ".concat(this.state.contactCount," contact(en) toe aan groep:"),name:"groupId",options:this.state.contactGroups,value:this.state.groupId,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.groupId})):g.a.createElement("div",null,"Geen contacten geselecteerd."))}}]),t}(C.Component),de=Object(y.b)((function(e){return{contactDetails:e.contactDetails,contacts:e.contacts.list.data}}),(function(e){return{addContactToGroup:function(t){e(Object(ie.a)(t))}}}))(ue),pe=function(e){function t(e){var n;return o()(this,t),n=c()(this,u()(t).call(this,e)),E()(p()(n),"toggleShowDeleteSelectedItems",(function(){n.setState({showDeleteSelectedItems:!n.state.showDeleteSelectedItems})})),E()(p()(n),"toggleAddContactsToGroup",(function(){n.setState({showAddContactsToGroup:!n.state.showAddContactsToGroup})})),E()(p()(n),"newContact",(function(){J.f.push("/contact/nieuw")})),E()(p()(n),"importContacts",(function(){J.f.push("/contact/import")})),n.state={showDeleteSelectedItems:!1,showAddContactsToGroup:!1},n}return h()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.meDetails.permissions,t=void 0===e?{}:e,n=this.props.contacts.meta,a=void 0===n?{}:n;return g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"col-md-4"},g.a.createElement("div",{className:"btn-group",role:"group"},g.a.createElement(re.a,{iconName:"glyphicon-refresh",onClickAction:this.props.resetContactFilters}),g.a.createElement("div",{className:"nav navbar-nav btn-group",role:"group"},g.a.createElement("button",{className:"btn btn-success btn-sm","data-toggle":"dropdown"},g.a.createElement("span",{className:"glyphicon glyphicon-plus"})),g.a.createElement("ul",{className:"dropdown-menu"},t.createPerson&&g.a.createElement("li",null,g.a.createElement(J.b,{to:"contact/nieuw/persoon"},"Persoon")),t.createOrganisation&&g.a.createElement("li",null,g.a.createElement(J.b,{to:"contact/nieuw/organisatie"},"Organisatie")),t.manageGroup&&g.a.createElement("li",null,g.a.createElement(J.b,{role:"button",onClick:this.props.toggleSaveAsGroup},"Groep")))),t.updatePerson&&t.updateOrganisation&&g.a.createElement("div",{className:"nav navbar-nav btn-group",role:"group"},g.a.createElement("button",{className:"btn btn-success btn-sm","data-toggle":"dropdown"},g.a.createElement("span",{className:"glyphicon glyphicon-share-alt"})),g.a.createElement("ul",{className:"dropdown-menu"},g.a.createElement("li",null,g.a.createElement("a",{role:"button",onClick:this.toggleAddContactsToGroup},"Voeg toe aan groep")))),g.a.createElement(re.a,{iconName:"glyphicon-trash",onClickAction:this.toggleShowDeleteSelectedItems}),g.a.createElement(re.a,{iconName:"glyphicon-ok",onClickAction:this.props.toggleShowCheckboxList}),g.a.createElement(re.a,{iconName:"glyphicon-filter",onClickAction:this.props.toggleShowExtraFilters}),g.a.createElement(re.a,{iconName:"glyphicon-download-alt",onClickAction:this.props.getCSV}),t.import&&g.a.createElement(re.a,{iconName:"glyphicon-import",onClickAction:this.importContacts}))),g.a.createElement("div",{className:"col-md-4"},g.a.createElement("h3",{className:"text-center table-title"},"Contacten")),g.a.createElement("div",{className:"col-md-4"},g.a.createElement("div",{className:"pull-right"},"Resultaten: ",a.total||0)),this.state.showDeleteSelectedItems&&g.a.createElement(se,{toggleShowDeleteSelectedItems:this.toggleShowDeleteSelectedItems}),this.state.showAddContactsToGroup&&g.a.createElement(de,{toggleAddGroup:this.toggleAddContactsToGroup}))}}]),t}(C.Component),me=Object(y.b)((function(e){return{meDetails:e.meDetails,contacts:e.contacts.list}}),null)(pe),he=n(717),fe=n(100),Ee=n(706),Ce=n.n(Ee),ge=function(e){return g.a.createElement(X.a,{buttonConfirmText:"Aanmaken",buttonClassName:"btn-success",closeModal:e.closeDeleteItemModal,confirmAction:function(){e.saveAsGroup()},title:"Groep aanmaken"},"Wilt u een groep aanmaken op basis van de huidige filters?")},ye=n(980),be=n(684);function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=function(e){function t(e){var n;return o()(this,t),(n=c()(this,u()(t).call(this,e))).state={filterType:e.filterType,contactType:e.contactType,amountOfFilters:e.amountOfFilters,filters:e.extraFilters,yesNoOptions:[{id:0,name:"Nee"},{id:1,name:"Ja"}]},n.closeModal=n.closeModal.bind(p()(n)),n.confirmAction=n.confirmAction.bind(p()(n)),n.handleFilterFieldChange=n.handleFilterFieldChange.bind(p()(n)),n.handleFilterTypeChange=n.handleFilterTypeChange.bind(p()(n)),n.handleFilterValueChange=n.handleFilterValueChange.bind(p()(n)),n.addFilterRow=n.addFilterRow.bind(p()(n)),n.deleteFilterRow=n.deleteFilterRow.bind(p()(n)),n}return h()(t,e),s()(t,[{key:"closeModal",value:function(){this.props.toggleShowExtraFilters()}},{key:"confirmAction",value:function(){this.props.handleExtraFiltersChange(this.state.filters,this.state.amountOfFilters,this.state.filterType)}},{key:"handleFilterFieldChange",value:function(e,t){var n=this.state.filters,a=this.state.amountOfFilters;"product"===n[t].field&&(delete(n=n.filter((function(e){return e.connectedTo!==n[t].connectName})))[t].connectName,a=n.length),"product"===e?(n[t]={field:"product",type:"eq",data:"",connectName:e+t},n.splice(t+1,0,{field:"dateStart",type:"eq",data:"",connectedTo:e+t}),n.splice(t+2,0,{field:"dateFinish",type:"eq",data:"",connectedTo:e+t}),n.splice(t+3,0,{field:"orderStatus",type:"eq",data:"",connectedTo:e+t}),a=n.length):(n[t].field=e,n[t].data=""),this.setState(Te({},this.state,{filters:n,amountOfFilters:a}))}},{key:"handleFilterTypeChange",value:function(e){this.setState(Te({},this.state,{filterType:e}))}},{key:"handleFilterValueChange",value:function(e,t,n){var a=this.state.filters;a[n][e]=t,this.setState(Te({},this.state,{filters:a}))}},{key:"addFilterRow",value:function(){var e=this,t=this.state.filters;t[this.state.amountOfFilters]={field:"name",type:"eq",data:""},setTimeout((function(){e.setState(Te({},e.state,{filters:t}))}),300),setTimeout((function(){e.setState({amountOfFilters:e.state.amountOfFilters+1})}),300)}},{key:"deleteFilterRow",value:function(e){var t=this.state.filters;"product"===t[e].field&&(t=t.filter((function(n){return n.connectedTo!==t[e].connectName}))),t.splice(e,1),this.setState(Te({},this.state,{filters:t,amountOfFilters:t.length}))}},{key:"render",value:function(){var e=this,t={name:{name:"Naam",type:"stringWithoutNull"},postalCode:{name:"Postcode",type:"numberOrString"},country:{name:"Land",type:"dropdown",dropDownOptions:this.props.countries},createdAt:{name:"Gemaakt op",type:"date"},currentObligations:{name:"Huidig aantal obligaties",type:"number"},currentParticipations:{name:"Huidig aantal participaties",type:"number"},currentPostalcodeLinkCapital:{name:"Huidig aantal postcoderoos",type:"number"},currentLoan:{name:"Huidig bedrag lening",type:"number"},staticContactGroup:{name:"Statische groep",type:"dropdownHas",dropDownOptions:this.props.staticContactGroups},occupation:{name:"Verbinding",type:"dropdownRelations",dropDownOptions:this.props.primaryOccupations},occupationPrimary:{name:"Primaire verbinding",type:"dropdownRelations",dropDownOptions:this.props.primaryOccupations},opportunity:{name:"Kans",type:"dropdownHas",dropDownOptions:this.props.measureCategories},product:{name:"Product",type:"dropdownHas",dropDownOptions:this.props.products},dateOfBirth:{name:"Geboortedatum",type:"date"},energySupplier:{name:"Primaire Energie leverancier",type:"dropdown",dropDownOptions:this.props.energySuppliers},didAgreeAvg:{name:"Akkoord privacybeleid",type:"boolean",dropDownOptions:this.state.yesNoOptions},portalUser:{name:"Portal gebruiker actief",type:"boolean",dropDownOptions:this.state.yesNoOptions}},n={dateStart:{name:"Begin datum",type:"date"},dateFinish:{name:"Eind datum",type:"date"},orderStatus:{name:"Order status",type:"dropdownHas",dropDownOptions:this.props.orderStatuses}};return g.a.createElement(X.a,{title:"Extra filters",buttonConfirmText:"Toepassen",confirmAction:this.confirmAction,closeModal:this.closeModal,buttonCancelText:"Sluiten",extraButtonLabel:"Maak groep",extraButtonClass:"btn-success",extraButtonAction:this.props.saveAsGroup},g.a.createElement("div",{className:"row filter-row"},g.a.createElement("h5",null,g.a.createElement("div",{className:"col-xs-6"},g.a.createElement("input",{onChange:function(){return e.handleFilterTypeChange("and")},type:"radio",name:"type",value:"and",id:"and",checked:"and"===this.state.filterType}),g.a.createElement("label",{htmlFor:"and"},'Alle extra filters zijn "EN"')),g.a.createElement("div",{className:"col-xs-6"},g.a.createElement("input",{onChange:function(){return e.handleFilterTypeChange("or")},type:"radio",name:"type",value:"or",id:"or",checked:"or"===this.state.filterType}),g.a.createElement("label",{htmlFor:"or"},'Alle extra filters zijn "OF"')))),g.a.createElement("table",{className:"table"},g.a.createElement("thead",null,g.a.createElement("tr",null,g.a.createElement("th",{className:"col-md-4"},"Zoekveld"),g.a.createElement("th",{className:"col-md-3"}),g.a.createElement("th",{className:"col-md-4"},"Waarde"),g.a.createElement("th",{className:"col-md-1"}))),g.a.createElement("tbody",null,0===this.state.filters.length?g.a.createElement("tr",null,g.a.createElement("td",{colSpan:4},"Geen filters gezet.")):this.state.filters.map((function(a,o){return g.a.createElement(ye.a,{key:o,filter:a,filterNumber:o,fields:Te({},t,{},n),handleFilterFieldChange:e.handleFilterFieldChange,deleteFilterRow:e.deleteFilterRow,handleFilterValueChange:e.handleFilterValueChange,contactType:e.state.contactType})})))),g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"col-xs-12 text-right"},g.a.createElement(be.a,{buttonText:"Extra filter",onClickAction:this.addFilterRow}))))}}]),t}(C.Component),Ae=Object(y.b)((function(e){return{contactStatuses:e.systemData.contactStatuses,staticContactGroups:e.systemData.staticContactGroups,primaryOccupations:e.systemData.primaryOccupations,measureCategories:e.systemData.measureCategories,products:e.systemData.products,energySuppliers:e.systemData.energySuppliers,countries:e.systemData.countries,orderStatuses:e.systemData.orderStatuses}}))(ve);v.a.locale("nl");var Ne=function(e){function t(e){var n;if(o()(this,t),n=c()(this,u()(t).call(this,e)),E()(p()(n),"fetchContactsData",(function(){setTimeout((function(){var e=n.state.extraFilters,t=Object(he.a)(n.props.contactsFilters),a=n.props.contactsSorts,o={limit:20,offset:n.props.contactsPagination.offset},r=n.state.filterType;n.props.fetchContacts(t,e,a,o,r)}),100)})),E()(p()(n),"saveAsGroup",(function(){var e=n.state.extraFilters,t=Object(he.a)(n.props.contactsFilters),a=n.state.filterType;fe.a.saveAsGroup({filters:t,extraFilters:e,filterType:a}).then((function(e){J.f.push("/contact-groep/".concat(e.data.data.id,"/edit"))}))})),E()(p()(n),"toggleSaveAsGroup",(function(){n.setState({showSaveAsGroup:!n.state.showSaveAsGroup})})),E()(p()(n),"getCSV",(function(){n.props.blockUI(),setTimeout((function(){var e=n.state.extraFilters,t=Object(he.a)(n.props.contactsFilters),a=n.props.contactsSorts;fe.a.getCSV({filters:t,extraFilters:e,sorts:a}).then((function(e){Ce()(e.data,"Contacten-"+v()().format("YYYY-MM-DD HH:mm:ss")+".csv"),n.props.unblockUI()})).catch((function(e){n.props.unblockUI()}))}),100)})),E()(p()(n),"resetContactFilters",(function(){n.props.clearFilterContacts(),n.setState({filterType:"and",amountOfFilters:0,extraFilters:[]}),n.fetchContactsData()})),E()(p()(n),"toggleShowCheckboxList",(function(){n.setState({showCheckboxList:!n.state.showCheckboxList})})),E()(p()(n),"selectAllCheckboxes",(function(){n.setState({checkedAllCheckboxes:!n.state.checkedAllCheckboxes}),n.props.setCheckedContactAll(!n.state.checkedAllCheckboxes)})),!Object(S.isEmpty)(e.params))switch(e.params.filter){case"type":n.props.clearFilterContacts(),n.props.setTypeFilter(e.params.value)}return n.state={showCheckboxList:!1,checkedAllCheckboxes:!1,showSaveAsGroup:!1,showExtraFilters:!1,filterType:"and",amountOfFilters:0,extraFilters:[]},n.handlePageClick=n.handlePageClick.bind(p()(n)),n.handleExtraFiltersChange=n.handleExtraFiltersChange.bind(p()(n)),n.getCSV=n.getCSV.bind(p()(n)),n.toggleShowExtraFilters=n.toggleShowExtraFilters.bind(p()(n)),n}return h()(t,e),s()(t,[{key:"componentDidMount",value:function(){this.fetchContactsData()}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.props.params.value!==e.params.value){if(Object(S.isEmpty)(e.params))this.props.clearFilterContacts();else switch(e.params.filter){case"type":this.props.clearFilterContacts(),this.props.setTypeFilter(e.params.value)}setTimeout((function(){t.fetchContactsData()}),100)}}},{key:"componentWillUnmount",value:function(){this.props.clearContacts()}},{key:"onSubmitFilter",value:function(){this.props.clearContacts(),this.props.setContactsPagination({page:0,offset:0}),this.fetchContactsData()}},{key:"handlePageClick",value:function(e){var t=e.selected,n=Math.ceil(20*t);this.props.setContactsPagination({page:t,offset:n}),this.fetchContactsData()}},{key:"handleExtraFiltersChange",value:function(e,t,n){var a=this;this.setState({filterType:n,amountOfFilters:e,extraFilters:e}),this.props.setContactsPagination({page:0,offset:0}),setTimeout((function(){a.fetchContactsData()}),100)}},{key:"prefillExtraFilter",value:function(){this.setState({filterType:"and",amountOfFilters:1,extraFilters:[{field:"name",type:"eq",data:""}]})}},{key:"toggleShowExtraFilters",value:function(){0===this.state.extraFilters.length&&!this.state.showExtraFilters&&this.prefillExtraFilter(),this.setState({showExtraFilters:!this.state.showExtraFilters})}},{key:"render",value:function(){var e=this;return g.a.createElement("div",null,g.a.createElement("div",{className:"panel panel-default"},g.a.createElement("div",{className:"panel-body"},g.a.createElement("div",{className:"col-md-12 margin-10-top"},g.a.createElement(me,{toggleShowCheckboxList:function(){return e.toggleShowCheckboxList()},resetContactFilters:function(){return e.resetContactFilters()},selectAllCheckboxes:function(){return e.selectAllCheckboxes()},checkedAllCheckboxes:this.state.checkedAllCheckboxes,getCSV:this.getCSV,toggleSaveAsGroup:this.toggleSaveAsGroup,saveAsGroup:this.saveAsGroup,toggleShowExtraFilters:this.toggleShowExtraFilters})),g.a.createElement("div",{className:"col-md-12 margin-10-top"},g.a.createElement(oe,{contacts:this.props.contacts,contactsPagination:this.props.contactsPagination,showCheckboxList:this.state.showCheckboxList,selectAllCheckboxes:function(){return e.selectAllCheckboxes()},checkedAllCheckboxes:this.state.checkedAllCheckboxes,onSubmitFilter:function(){return e.onSubmitFilter()},fetchContactsData:function(){return e.fetchContactsData()},handlePageClick:this.handlePageClick})))),this.state.showSaveAsGroup&&g.a.createElement(ge,{saveAsGroup:this.saveAsGroup,closeDeleteItemModal:this.toggleSaveAsGroup}),this.state.showExtraFilters&&g.a.createElement(Ae,{saveAsGroup:this.saveAsGroup,filterType:this.state.filterType,toggleShowExtraFilters:this.toggleShowExtraFilters,handleExtraFiltersChange:this.handleExtraFiltersChange,contactType:this.props.contactsFilters.typeId.data,extraFilters:this.state.extraFilters,amountOfFilters:this.state.amountOfFilters}))}}]),t}(C.Component);t.default=Object(y.b)((function(e){return{contacts:e.contacts.list,contactsFilters:e.contacts.filters,contactsSorts:e.contacts.sorts,contactsPagination:e.contacts.pagination}}),(function(e){return Object(b.b)({fetchContacts:A,clearContacts:N,setCheckedContactAll:w,setTypeFilter:k,clearFilterContacts:G,setContactsPagination:j,blockUI:M.a,unblockUI:M.b},e)}))(Ne)},710:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"v",(function(){return r})),n.d(t,"u",(function(){return s})),n.d(t,"x",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"q",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"m",(function(){return p})),n.d(t,"w",(function(){return m})),n.d(t,"f",(function(){return h})),n.d(t,"k",(function(){return f})),n.d(t,"s",(function(){return E})),n.d(t,"d",(function(){return C})),n.d(t,"l",(function(){return g})),n.d(t,"t",(function(){return y})),n.d(t,"e",(function(){return b})),n.d(t,"n",(function(){return S})),n.d(t,"p",(function(){return T})),n.d(t,"o",(function(){return v})),n.d(t,"j",(function(){return A})),n.d(t,"r",(function(){return N})),n.d(t,"c",(function(){return w}));var a=function(e){return{type:"FETCH_CONTACT_DETAILS",payload:e}},o=function(e){return{type:"DELETE_CONTACT",id:e}},r=function(e){return{type:"UPDATE_PERSON",contactDetails:e}},s=function(e){return{type:"UPDATE_ORGANISATION",contactDetails:e}},i=function(e){return{type:"UPDATE_PORTAL_USER",portalUser:e}},c=function(e){return{type:"DELETE_PORTAL_USER",id:e}},l=function(e){return{type:"NEW_ADDRESS",address:e}},u=function(e){return{type:"UPDATE_ADDRESS",address:e}},d=function(e){return{type:"DELETE_ADDRESS",id:e}},p=function(e){return{type:"NEW_PHONE_NUMBER",phoneNumber:e}},m=function(e){return{type:"UPDATE_PHONE_NUMBER",phoneNumber:e}},h=function(e){return{type:"DELETE_PHONE_NUMBER",id:e}},f=function(e){return{type:"NEW_EMAIL_ADDRESS",emailAddress:e}},E=function(e){return{type:"UPDATE_EMAIL_ADDRESS",emailAddress:e}},C=function(e){return{type:"DELETE_EMAIL_ADDRESS",id:e}},g=function(e){return{type:"NEW_CONTACT_NOTE",note:e}},y=function(e){return{type:"UPDATE_CONTACT_NOTE",note:e}},b=function(e){return{type:"DELETE_CONTACT_NOTE",id:e}},S=function(){return{type:"UNSET_PRIMARY_ADDRESSES"}},T=function(){return{type:"UNSET_PRIMARY_PHONE_NUMBERS"}},v=function(){return{type:"UNSET_PRIMARY_EMAIL_ADDRESSES"}},A=function(e){return{type:"NEW_CONTACT_ENERGY_SUPPLIER",contactEnergySupplier:e}},N=function(e){return{type:"UPDATE_CONTACT_ENERGY_SUPPLIER",contactEnergySupplier:e}},w=function(e){return{type:"DELETE_CONTACT_ENERGY_SUPPLIER",id:e}}},775:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s}));var a=function(e){return{type:"ADD_CONTACT_TO_GROUP",contact:e}},o=function(e,t,n){return{type:"FETCH_CONTACT_GROUPS",filters:e,sorts:t,pagination:n}},r=function(){return{type:"CLEAR_CONTACT_GROUPS"}},s=function(e,t){return{type:"DELETE_CONTACT_GROUP",id:e,successAction:t}}}}]);