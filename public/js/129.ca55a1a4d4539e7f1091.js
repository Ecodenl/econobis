(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{1603:function(e,t,a){"use strict";a.r(t);var r=a(15),n=a.n(r),o=a(16),s=a.n(o),i=a(10),l=a.n(i),c=a(17),u=a.n(c),d=a(18),h=a.n(d),g=a(13),m=a.n(g),f=a(5),p=a.n(f),b=a(0),v=a.n(b),w=a(4),E=a(51);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=m()(e);if(t){var n=m()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return h()(this,a)}}var S=function(e){u()(a,e);var t=P(a);function a(e){return n()(this,a),t.call(this,e)}return s()(a,[{key:"render",value:function(){return v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col-md-4"},v.a.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},v.a.createElement(E.a,{iconName:"glyphicon-arrow-left",onClickAction:w.e.goBack}))),v.a.createElement("div",{className:"col-md-4"},v.a.createElement("h4",{className:"text-center"},"Portal dashboard instellingen")),v.a.createElement("div",{className:"col-md-4"}))}}]),a}(b.Component),y=a(20),D=a(158),O=a(7),N=a.n(O),j=a(39),k=a(28),M=a(31),R=a(91),x=a(288),H=a(128),C=a(166),T=a(311),L=a(312),A=a(234);function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){p()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=m()(e);if(t){var n=m()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return h()(this,a)}}N.a.locale("nl");var F=function(e){u()(a,e);var t=W(a);function a(e){var r;return n()(this,a),r=t.call(this,e),p()(l()(r),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;r.setState(I(I({},r.state),{},{dashboardSettings:I(I({},r.state.dashboardSettings),{},p()({},n,a))}))})),p()(l()(r),"togglePreviewPortalDashboardPagePc",(function(){r.setState({showPreviewPortalDashboardPagePc:!r.state.showPreviewPortalDashboardPagePc})})),p()(l()(r),"togglePreviewPortalDashboardPageMobile",(function(){r.setState({showPreviewPortalDashboardPageMobile:!r.state.showPreviewPortalDashboardPageMobile})})),p()(l()(r),"setShowMenu",(function(){r.setState({showMenu:!r.state.showMenu})})),p()(l()(r),"handleSubmit",(function(e){e.preventDefault();var t=r.state.dashboardSettings;r.setState(I(I({},r.state),{},{errors:{},errorMessage:{}})),H.a.updatePortalSettingsDashboard(t).then((function(e){r.props.updateState(e.data.data),r.props.switchToView()})).catch((function(e){e.response?r.props.setError(e.response.status,e.response.data.message):(console.log(e),alert("Er is iets misgegaan bij opslaan. Herlaad de pagina en probeer het nogmaals."))}))})),r.state={showPreviewPortalDashboardPagePc:!1,showPreviewPortalDashboardPageMobile:!1,showMenu:!1,imageHash:Date.now(),dashboardSettings:I({},e.dashboardSettings),errors:{welcomeTitle:"",welcomeMessage:""},errorMessage:{}},r}return s()(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0,hasError:!1});H.a.fetchPortalSettingsDashboardDetails(1).then((function(t){e.setState({isLoading:!1,dashboardSettings:I({},t.data.data)})})).catch((function(t){e.setState({isLoading:!1,hasError:!0})}))}},{key:"render",value:function(){var e=this.state.dashboardSettings,t=e.welcomeTitle,a=e.welcomeMessage,r=e.defaultWidgetBackgroundColor,n=e.defaultWidgetTextColor,o="".concat(URL_API,"/portal/images/logo-header.png?").concat(this.props.imageHash),s="".concat(URL_API,"/portal/images/background-header.png?").concat(this.props.imageHash);return v.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},v.a.createElement(k.a,null,v.a.createElement(M.a,null,v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col-md-6"},v.a.createElement("div",{className:"btn-group btn-group-flex",role:"group"},v.a.createElement(j.a,{buttonText:"Preview dashboard pagina PC",onClickAction:this.togglePreviewPortalDashboardPagePc}),v.a.createElement(j.a,{buttonText:"Preview dashboard pagina mobiel",onClickAction:this.togglePreviewPortalDashboardPageMobile})))))),v.a.createElement(k.a,null,v.a.createElement(M.a,null,v.a.createElement("div",{className:"row"},v.a.createElement(C.a,{label:"Welkomsttitel",divSize:"col-sm-8",name:"welcomeTitle",value:t,onChangeAction:this.handleInputChange,error:!!this.state.errors.welcomeTitle})),v.a.createElement("div",{className:"row"},v.a.createElement(C.a,{label:"Welkomstbericht",divSize:"col-sm-8",name:"welcomeMessage",value:a,onChangeAction:this.handleInputChange,error:!!this.state.errors.welcomeMessage})),v.a.createElement("div",{className:"row"},v.a.createElement(A.a,{label:"Default widget achtergrond kleur",divSize:"col-sm-8",name:"defaultWidgetBackgroundColor",value:r,onChangeAction:this.handleInputChange,required:"required"}),v.a.createElement("span",{className:"rc-color-picker-trigger",unselectable:"unselectable",style:{backgroundColor:r,color:n,border:"1px solid #999",display:"inline-block",padding:"2px",borderRadius:"2px",width:"150px",height:"30px",boxShadow:"0 0 0 2px #fff inset"}},"Algemene tekst")),v.a.createElement("div",{className:"row"},v.a.createElement(A.a,{label:"Default widget tekst kleur",divSize:"col-sm-8",name:"defaultWidgetTextColor",value:n,onChangeAction:this.handleInputChange}))),v.a.createElement(M.a,null,v.a.createElement("div",{className:"pull-right btn-group",role:"group"},v.a.createElement(j.a,{buttonClassName:"btn-default",buttonText:"Sluiten",onClickAction:this.props.switchToView}),v.a.createElement(j.a,{buttonText:"Opslaan",type:"submit",value:"Submit",onClickAction:this.handleSubmit})))),this.state.showPreviewPortalDashboardPagePc&&v.a.createElement(T.a,{previewFromLayout:!1,closeModal:this.togglePreviewPortalDashboardPagePc,setShowMenu:this.setShowMenu,showMenu:this.state.showMenu,imageHash:this.state.imageHash,attachmentLogoHeader:"",logoHeaderUrl:o,attachmentImageBgHeader:"",imageBgHeaderUrl:s,dashboardSettings:this.state.dashboardSettings}),this.state.showPreviewPortalDashboardPageMobile&&v.a.createElement(L.a,{previewFromLayout:!1,closeModal:this.togglePreviewPortalDashboardPageMobile,setShowMenu:this.setShowMenu,showMenu:this.state.showMenu,imageHash:this.state.imageHash,attachmentLogoHeader:"",logoHeaderUrl:o,attachmentImageBgHeader:"",imageBgHeaderUrl:s,dashboardSettings:this.state.dashboardSettings}))}}]),a}(b.Component),U=Object(y.b)(null,(function(e){return{setError:function(t,a){e(Object(R.b)(t,a))},fetchSystemData:function(){e(Object(x.a)())}}}))(F),z=a(22);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=m()(e);if(t){var n=m()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return h()(this,a)}}var V=function(e){u()(a,e);var t=_(a);function a(e){var r;return n()(this,a),r=t.call(this,e),p()(l()(r),"togglePreviewPortalDashboardPagePc",(function(){r.setState({showPreviewPortalDashboardPagePc:!r.state.showPreviewPortalDashboardPagePc})})),p()(l()(r),"togglePreviewPortalDashboardPageMobile",(function(){r.setState({showPreviewPortalDashboardPageMobile:!r.state.showPreviewPortalDashboardPageMobile})})),p()(l()(r),"setShowMenu",(function(){r.setState({showMenu:!r.state.showMenu})})),r.state={showPreviewPortalDashboardPagePc:!1,showPreviewPortalDashboardPageMobile:!1,showMenu:!1,imageHash:Date.now()},r}return s()(a,[{key:"render",value:function(){var e=this.props.dashboardSettings,t=e.welcomeTitle,a=e.welcomeMessage,r=e.defaultWidgetBackgroundColor,n=e.defaultWidgetTextColor,o="".concat(URL_API,"/portal/images/logo-header.png?").concat(this.props.imageHash),s="".concat(URL_API,"/portal/images/background-header.png?").concat(this.props.imageHash);return v.a.createElement(v.a.Fragment,null,v.a.createElement("div",null,v.a.createElement(k.a,null,v.a.createElement(M.a,null,v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col-md-6"},v.a.createElement("div",{className:"btn-group btn-group-flex",role:"group"},v.a.createElement(j.a,{buttonText:"Preview dashboard pagina PC",onClickAction:this.togglePreviewPortalDashboardPagePc}),v.a.createElement(j.a,{buttonText:"Preview dashboard pagina mobiel",onClickAction:this.togglePreviewPortalDashboardPageMobile})))))),this.state.showPreviewPortalDashboardPagePc&&v.a.createElement(T.a,{previewFromLayout:!1,closeModal:this.togglePreviewPortalDashboardPagePc,setShowMenu:this.setShowMenu,showMenu:this.state.showMenu,imageHash:this.state.imageHash,attachmentLogoHeader:"",logoHeaderUrl:o,attachmentImageBgHeader:"",imageBgHeaderUrl:s,dashboardSettings:this.props.dashboardSettings}),this.state.showPreviewPortalDashboardPageMobile&&v.a.createElement(L.a,{previewFromLayout:!1,closeModal:this.togglePreviewPortalDashboardPageMobile,setShowMenu:this.setShowMenu,showMenu:this.state.showMenu,imageHash:this.state.imageHash,attachmentLogoHeader:"",logoHeaderUrl:o,attachmentImageBgHeader:"",imageBgHeaderUrl:s,dashboardSettings:this.props.dashboardSettings})),v.a.createElement("div",{onClick:this.props.switchToEdit},v.a.createElement(k.a,null,v.a.createElement(M.a,null,v.a.createElement("div",{className:"row"},v.a.createElement(z.a,{label:"Welkomsttitel",divSize:"col-sm-8",value:t,className:"col-sm-8 form-group"})),v.a.createElement("div",{className:"row"},v.a.createElement(z.a,{label:"Welkomstbericht",divSize:"col-sm-8",value:a,className:"col-sm-8 form-group"})),v.a.createElement("div",{className:"row"},v.a.createElement(z.a,{label:"Default widget achtergrond kleur",divSize:"col-sm-8",value:r,className:"col-sm-8 form-group"}),v.a.createElement("span",{className:"rc-color-picker-trigger",unselectable:"unselectable",style:{backgroundColor:r,color:n,border:"1px solid #999",display:"inline-block",padding:"2px",borderRadius:"2px",width:"150px",height:"30px",boxShadow:"0 0 0 2px #fff inset"}},"Algemene tekst")),v.a.createElement("div",{className:"row"},v.a.createElement(z.a,{label:"Default widget tekst kleur",divSize:"col-sm-8",value:n,className:"col-sm-8 form-group"}))))))}}]),a}(b.Component),J=Object(y.b)(null,(function(e){return{setError:function(t,a){e(Object(R.b)(t,a))}}}))(V),G=a(313);function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=m()(e);if(t){var n=m()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return h()(this,a)}}var $=function(e){u()(a,e);var t=q(a);function a(e){var r;return n()(this,a),r=t.call(this,e),p()(l()(r),"switchToEdit",(function(){r.setState({showEdit:!0})})),p()(l()(r),"switchToView",(function(){r.setState({showEdit:!1})})),r.state={showEdit:!1,imageHash:Date.now(),activeDiv:""},r}return s()(a,[{key:"onDivEnter",value:function(){this.setState({activeDiv:"panel-grey"})}},{key:"onDivLeave",value:function(){this.state.showEdit||this.setState({activeDiv:""})}},{key:"render",value:function(){var e=this,t=this.props.meDetails.permissions,a=void 0===t?{}:t;return a.managePortalSettings?v.a.createElement("div",{className:this.state.activeDiv,onMouseEnter:function(){return e.onDivEnter()},onMouseLeave:function(){return e.onDivLeave()}},this.state.showEdit&&a.managePortalSettings?v.a.createElement(U,{dashboardSettings:this.props.dashboardSettings,updateState:this.props.updateState,switchToView:this.switchToView,imageHash:this.state.imageHash}):Object(D.isEmpty)(this.props.dashboardSettings)?v.a.createElement("p",null,"Nog geen dashboard instellingen opgeslagen."):v.a.createElement(J,{dashboardSettings:this.props.dashboardSettings,updateState:this.props.updateState,switchToEdit:this.switchToEdit,imageHash:this.state.imageHash})):v.a.createElement(G.a,null)}}]),a}(b.Component),K=Object(y.b)((function(e){return{meDetails:e.meDetails}}))($),Q=a(3),X=a(1234),Y=a(54),Z=a(140),ee=a.n(Z),te=a(546),ae=a.n(te),re=a(1533),ne=a(1556),oe=a(1546),se=a(1598),ie=a(1599),le=a(1535),ce=a(32),ue=a.n(ce),de=a(171),he=a(479),ge=function(e){var t=e.row,a=e.index,r=e.moveRow,n=e.showEditSort,o=e.deletePortalSettingsDashboardWidget,s=e.imageHash,i=Object(b.useRef)(null),l=Object(b.useRef)(null),c=Object(b.useState)(!1),u=ae()(c,2),d=u[0],h=u[1],g=Object(b.useState)(!1),m=ae()(g,2),f=m[0],p=m[1],E=Object(b.useState)(""),P=ae()(E,2),S=P[0],y=P[1],D=["over-ons","project-schrijf-je-in","huidige-deelnames"],O=Object(se.a)({accept:"row",hover:function(e,t){if(i.current){var n=e.index,o=a;if(n!==o){var s=i.current.getBoundingClientRect(),l=(s.bottom-s.top)/2,c=t.getClientOffset().y-s.top;n<o&&c<l||n>o&&c>l||(r(n,o),e.index=o)}}}}),N=ae()(O,2)[1],j=Object(ie.a)({type:"row",item:{type:"row",index:a},collect:function(e){return{isDragging:e.isDragging()}}}),k=ae()(j,3),M=k[0].isDragging,R=k[1],x=M?0:1;return(0,k[2])(N(i)),R(l),v.a.createElement(v.a.Fragment,null,v.a.createElement("tr",{ref:i,style:{opacity:x},className:S,onDoubleClick:function(){return w.f.push("/portal-instellingen-dashboard-widget/".concat(t.id))},onMouseEnter:function(){p(!0),y("highlight-row")},onMouseLeave:function(){p(!1),y("")}},t.cells.map((function(e){switch(e.column.id){case"order":return!0===n?v.a.createElement("td",{ref:l},v.a.createElement(ue.a,{icon:le.arrows_vertical})):null;case"title":return v.a.createElement("td",e.getCellProps(),e.render("Cell"));case"widgetImageFileName":var a=e.value&&"".concat(URL_API,"/portal/images/").concat(e.value,"?").concat(s);return v.a.createElement("td",{key:e.column.id},v.a.createElement(de.a,{src:a,thumbnail:!0,style:{border:"1px solid #999",display:"inline-block",padding:"1px",borderRadius:"1px",height:"100%",width:"100px",boxShadow:"0 0 0 1px #fff inset"}}));case"active":return v.a.createElement("td",e.getCellProps(),e.value?"Ja":"Nee");case"codeRef":return n?null:v.a.createElement("td",null,f&&v.a.createElement("a",{role:"button",onClick:function(){return w.f.push("/portal-instellingen-dashboard-widget/".concat(t.id))}},v.a.createElement("span",{className:"glyphicon glyphicon-pencil mybtn-success"})," "),!D.includes(e.value)&&f?v.a.createElement("a",{role:"button",onClick:function(){return h(!0)}},v.a.createElement("span",{className:"glyphicon glyphicon-trash mybtn-danger"})," "):null)}}))),d&&v.a.createElement(he.a,{closeDeleteItemModal:function(){return h(!1)},description:t.cells.find((function(e){return"title"===e.column.id})).value,id:t.id,deletePortalSettingsDashboardWidget:o}))},me=a(1538),fe=a.n(me),pe=a(43),be=a(48);function ve(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return we(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return we(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return s=e.done,e},e:function(e){i=!0,o=e},f:function(){try{s||null==a.return||a.return()}finally{if(i)throw o}}}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var Ee=function(e){var t=e.columns,a=e.data,r=e.showEditSort,n=e.handleInputChange,o=e.deletePortalSettingsDashboardWidget,s=e.imageHash,i=Object(b.useState)(a),l=ae()(i,2),c=l[0],u=l[1];Object(b.useEffect)((function(){u(a)}),[a]),Object(b.useEffect)((function(){var e,t=ve(c.entries());try{for(t.s();!(e=t.n()).done;){var a=ae()(e.value,2),r=a[0];a[1].order=r+1}}catch(e){t.e(e)}finally{t.f()}}),[c]);var d=v.a.useCallback((function(e){return e.id}),[]),h=Object(re.useTable)({data:c,columns:t,getRowId:d}),g=h.getTableProps,m=h.getTableBodyProps,f=h.headerGroups,p=h.rows,w=h.prepareRow,E=function(e,t){var a=c[e];u(fe()(c,{$splice:[[e,1],[t,0,a]]}))};return v.a.createElement(ne.a,{backend:oe.a},v.a.createElement("table",ee()({},g(),{className:"table table-condensed table-hover table-striped col-xs-12"}),v.a.createElement("thead",null,f.map((function(e){return v.a.createElement("tr",ee()({},e.getHeaderGroupProps(),{className:"thead-title"}),e.headers.map((function(e){return v.a.createElement(v.a.Fragment,null,"order"===e.fieldName&&!0===r?v.a.createElement("th",e.getHeaderProps({style:{width:e.width}}),v.a.createElement("span",null,v.a.createElement(pe.c,{color:"white",size:"15px","data-tip":"Je kunt de volgorde van de widgets aanpassen door deze te slepen.","data-for":"tooltip-order"}),v.a.createElement(be.a,{id:"tooltip-order",effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"}))):"title"===e.fieldName||"widgetImageFileName"===e.fieldName||"active"===e.fieldName?v.a.createElement("th",e.getHeaderProps({style:{width:e.width}}),e.render("Header")):"codeRef"===e.fieldName&&!0!==r?v.a.createElement("th",e.getHeaderProps({style:{width:e.width}})):null)})))}))),v.a.createElement("tbody",m(),p.map((function(e,t){return w(e)||v.a.createElement(ge,ee()({index:t,row:e,moveRow:E,showEditSort:r,handleInputChange:n,deletePortalSettingsDashboardWidget:o},e.getRowProps(),{imageHash:s}))})))))};function Pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(a),!0).forEach((function(t){p()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=m()(e);if(t){var n=m()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return h()(this,a)}}var De=function(e){u()(a,e);var t=ye(a);function a(e){var r;return n()(this,a),r=t.call(this,e),p()(l()(r),"newWidget",(function(){w.f.push("/portal-instellingen-dashboard-widget/nieuw")})),p()(l()(r),"deletePortalSettingsDashboardWidget",(function(e){H.a.deletePortalSettingsDashboardWidget(e).then((function(e){r.setState(Se(Se({},r.state),{},{dashboardSettings:e.data.data}))})).catch((function(e){e.response?r.props.setError(e.response.status,e.response.data.message):(console.log(e),alert("Er is iets misgegaan bij opslaan. Herlaad de pagina en probeer het nogmaals."))}))})),p()(l()(r),"setShowEditSort",(function(){r.setState({showEditSort:!0})})),p()(l()(r),"closeShowEditSort",(function(){r.props.updateState(r.state.dashboardSettings),r.setState({showEditSort:!1})})),p()(l()(r),"updateSortWidgets",(function(e){H.a.updatePortalSettingsDashboard(r.state.dashboardSettings).then((function(e){r.setState(Se(Se({},r.state),{},{dashboardSettings:e.data.data})),r.closeShowEditSort()})).catch((function(e){e.response?r.props.setError(e.response.status,e.response.data.message):(console.log(e),alert("Er is iets misgegaan bij opslaan. Herlaad de pagina en probeer het nogmaals."))}))})),r.state={dashboardSettings:e.dashboardSettings,showEditSort:!1,isLoading:!1,hasError:!1,imageHash:Date.now()},r}return s()(a,[{key:"render",value:function(){var e=this.state.showEditSort,t=this.state.dashboardSettings.widgets;return v.a.createElement(k.a,null,v.a.createElement(Y.a,null,v.a.createElement("span",{className:"h5 text-bold"},"Widgets"),!e&&v.a.createElement("a",{role:"button",className:"pull-right",onClick:this.newWidget},v.a.createElement("span",{className:"glyphicon glyphicon-plus",title:"Toevoegen widget"}))),v.a.createElement(M.a,null,!e&&v.a.createElement("div",{className:"col-md-12"},v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"btn-group btn-group-flex",role:"group"},v.a.createElement("div",{className:"col-md-6"},v.a.createElement(j.a,{buttonText:"Sorteren widgets",onClickAction:this.setShowEditSort}))))),v.a.createElement("div",{className:"col-md-12 margin-10-top"},t?v.a.createElement(Ee,{columns:[{Header:"Order",fieldName:"order",accessor:"order",width:"10%"},{Header:"Titel",fieldName:"title",accessor:"title",width:"40%"},{Header:"Afbeelding",fieldName:"widgetImageFileName",accessor:"widgetImageFileName",width:"20%"},{Header:"Actief",fieldName:"active",accessor:"active",width:"20%"},{Header:"",fieldName:"codeRef",accessor:"codeRef",width:"10%"}],data:t.sort((function(e,t){return e.order>t.order?1:-1})),showEditSort:e,deletePortalSettingsDashboardWidget:this.deletePortalSettingsDashboardWidget,imageHash:this.state.imageHash}):v.a.createElement("p",null,"Laden widgets..."))),e&&v.a.createElement(M.a,null,v.a.createElement("div",{className:"pull-right btn-group",role:"group"},v.a.createElement(j.a,{buttonClassName:"btn-default",buttonText:"Sluiten",onClickAction:this.closeShowEditSort}),v.a.createElement(j.a,{buttonText:"Opslaan",onClickAction:this.updateSortWidgets}))))}}]),a}(b.Component),Oe=Object(y.b)((function(e){return{permissions:e.meDetails.permissions}}),(function(e){return{setError:function(t,a){e(Object(R.b)(t,a))}}}))(De);function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=m()(e);if(t){var n=m()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return h()(this,a)}}var je=function(e){u()(a,e);var t=Ne(a);function a(e){return n()(this,a),t.call(this,e)}return s()(a,[{key:"render",value:function(){var e=this.props,t=e.dashboardSettings,a=e.hasError,r=e.isLoading,n=e.updateState,o="",s=!0;return a?o="Fout bij het ophalen van portal dashboard instellingen.":r?o="Gegevens aan het laden.":s=!1,s?v.a.createElement("div",null,o):v.a.createElement("div",null,v.a.createElement(K,{dashboardSettings:t,updateState:n}),v.a.createElement(Oe,{dashboardSettings:t,updateState:n}))}}]),a}(b.Component);X.a.propTypes={dashboardSettings:Q.any,hasError:Q.any,isLoading:Q.any,updateState:Q.any};var ke=je;function Me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(a),!0).forEach((function(t){p()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=m()(e);if(t){var n=m()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return h()(this,a)}}var He=function(e){u()(a,e);var t=xe(a);function a(e){var r;return n()(this,a),r=t.call(this,e),p()(l()(r),"callFetchPortalSettingsDashboardDetails",(function(){r.setState({isLoading:!0,hasError:!1});H.a.fetchPortalSettingsDashboardDetails(1).then((function(e){r.setState({isLoading:!1,dashboardSettings:Re({},e.data.data)})})).catch((function(e){r.setState({isLoading:!1,hasError:!0})}))})),p()(l()(r),"updateState",(function(e){r.setState({dashboardSettings:Re({},e)})})),r.state={dashboardSettings:{},isLoading:!1,hasError:!1},r}return s()(a,[{key:"componentDidMount",value:function(){this.callFetchPortalSettingsDashboardDetails()}},{key:"render",value:function(){return v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"col-md-9"},v.a.createElement("div",{className:"col-md-12 margin-10-top"},v.a.createElement(k.a,null,v.a.createElement(M.a,{className:"panel-small"},v.a.createElement(S,null)))),v.a.createElement("div",{className:"col-md-12 margin-10-top"},v.a.createElement(ke,{dashboardSettings:this.state.dashboardSettings,isLoading:this.state.isLoading,hasError:this.state.hasError,updateState:this.updateState}))),v.a.createElement("div",{className:"col-md-3"}))}}]),a}(b.Component);t.default=Object(y.b)((function(e){return{permissions:e.meDetails.permissions}}),(function(e){return{setError:function(t,a){e(Object(R.b)(t,a))}}}))(He)}}]);