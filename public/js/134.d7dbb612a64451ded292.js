(window.webpackJsonp=window.webpackJsonp||[]).push([[134],{1662:function(e,t,r){"use strict";r.r(t);var n=r(15),a=r.n(n),l=r(16),c=r.n(l),o=r(12),u=r.n(o),i=r(17),s=r.n(i),m=r(18),p=r.n(m),d=r(13),f=r.n(d),h=r(5),v=r.n(h),g=r(0),E=r.n(g),b=r(33),w=r.n(b),y=r(4),N=r(28),P=r(31),K=r(51);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var a=f()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var S=function(e){s()(r,e);var t=R(r);function r(e){return a()(this,r),t.call(this,e)}return c()(r,[{key:"render",value:function(){return E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-sm-12"},E.a.createElement(N.a,null,E.a.createElement(P.a,{className:"panel-small"},E.a.createElement("div",{className:"col-md-4"},E.a.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},E.a.createElement(K.a,{iconName:"glyphicon-arrow-left",onClickAction:y.e.goBack}))),E.a.createElement("div",{className:"col-md-4"},E.a.createElement("h3",{className:"text-center table-title"},"Rapportage Energie Leverancier naar Excel")),E.a.createElement("div",{className:"col-md-4"})))))}}]),r}(g.Component),O=r(20),x=r(7),j=r.n(x),k=r(39),C=r(123),F=r(36),I=r(22);j.a.locale("nl");var B=Object(O.b)((function(e){return{revenuePartsKwh:e.revenuePartsKwh}}))((function(e){return E.a.createElement("form",{className:"form-horizontal col-md-12",onSubmit:e.handleSubmit},E.a.createElement("div",{className:"row"},E.a.createElement(F.a,{label:"Bestandsnaam",name:"documentName",value:e.documentName,onChangeAction:e.handleInputChange,required:"required",error:e.errors.documentName}),"(Bestandsnaam wordt aangevuld met afkorting leverancier en ingestelde bestandsformaat)"),E.a.createElement("div",{className:"row"},e.revenuePartsKwh&&e.revenuePartsKwh.distributionKwhForReportEnergySupplier&&0==e.revenuePartsKwh.distributionKwhForReportEnergySupplier.length&&e.revenuePartsKwh.distributionKwhForReportEnergySupplier.length>100?E.a.createElement(E.a.Fragment,null,E.a.createElement(I.a,{className:"form-group col-sm-6",label:"Rapportage voor deelnames",value:"Alle (aantal: "+e.revenuePartsKwh.distributionKwhForReportEnergySupplier.length+")"})):e.revenuePartsKwh&&e.revenuePartsKwh.distributionKwhForReportEnergySupplier&&e.revenuePartsKwh.distributionKwhForReportEnergySupplier.length>0?E.a.createElement(E.a.Fragment,null,E.a.createElement(I.a,{className:"form-group col-sm-6",label:"Rapportage voor deelnames",value:e.revenuePartsKwh.distributionKwhForReportEnergySupplier.map((function(e,t){return E.a.createElement(E.a.Fragment,null,e.contactName,E.a.createElement("br",null))}))})):E.a.createElement(E.a.Fragment,null,E.a.createElement(I.a,{className:"form-group col-sm-6",label:"Rapportage voor deelnames",value:"Geen"}))),E.a.createElement(C.a,null,E.a.createElement("div",{className:"pull-right btn-group",role:"group"},E.a.createElement(k.a,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:e.cancel}),E.a.createElement(k.a,{buttonText:"Opslaan",onClickAction:e.handleSubmit,type:"submit",value:"Submit"}))))})),D=r(41),A=(r(290),r(74));function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f()(e);if(t){var a=f()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var J=function(e){s()(r,e);var t=z(r);function r(e){var n;return a()(this,r),n=t.call(this,e),v()(u()(n),"handleInputChange",(function(e){var t=e.target,r="checkbox"===t.type?t.checked:t.value,a=t.name;n.setState(q(q({},n.state),{},{excel:q(q({},n.state.excel),{},v()({},a,r))}))})),v()(u()(n),"cancel",(function(e){e.preventDefault(),y.f.push("project/opbrengst-kwh/".concat(n.props.revenuePartsKwh.revenueId,"/deelperiode/").concat(n.props.params.revenuePartId))})),v()(u()(n),"handleSubmit",(function(e){e.preventDefault();var t=n.state.excel,r={},a=!1;w.a.isEmpty(t.documentName+"")&&(r.documentName=!0,a=!0),n.setState(q(q({},n.state),{},{isCreating:!0,errors:r})),!a&&A.a.createEnergySupplierExcel(t.revenuePartId,t.documentName).then((function(e){n.setState(q(q({},n.state),{},{isCreating:!1})),y.f.push("/documenten")}))})),n.state={excel:{revenuePartId:e.params.revenuePartId,documentName:""},isLoading:!1,isCreating:!1,errors:{energySupplierId:!1,documentName:!1}},n}return c()(r,[{key:"componentDidMount",value:function(){this.setState({isLoading:!0}),this.props.fetchRevenuePartsKwh(this.props.params.revenuePartId)}},{key:"componentWillUnmount",value:function(){this.props.clearEnergySupplierExcelReportKwh()}},{key:"render",value:function(){return E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-md-9"},E.a.createElement("div",{className:"col-md-12"},E.a.createElement(S,null)),E.a.createElement("div",{className:"col-md-12"},E.a.createElement(E.a.Fragment,null,this.state.isCreating?E.a.createElement("div",null,"Bezig met verwerken..."):E.a.createElement(N.a,null,E.a.createElement(P.a,null,E.a.createElement("div",{className:"col-md-12"},E.a.createElement(B,{documentName:this.state.excel.documentName,errors:this.state.errors,handleInputChange:this.handleInputChange,handleSubmit:this.handleSubmit,cancel:this.cancel}))))))),E.a.createElement("div",{className:"col-md-3"}))}}]),r}(g.Component);t.default=Object(O.b)((function(e){return{revenuePartsKwh:e.revenuePartsKwh,reportEnergySupplierExcel:e.revenuesKwhReportEnergySupplierExcel}}),(function(e){return{fetchRevenuePartsKwh:function(t){e(Object(D.p)(t))},clearEnergySupplierExcelReportKwh:function(){e(Object(D.a)())}}}))(J)}}]);