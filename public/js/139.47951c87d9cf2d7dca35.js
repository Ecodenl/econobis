(window.webpackJsonp=window.webpackJsonp||[]).push([[139],{1609:function(e,t,n){"use strict";n.r(t);var r=n(18),a=n.n(r),l=n(19),c=n.n(l),o=n(12),i=n.n(o),u=n(20),s=n.n(u),m=n(21),p=n.n(m),d=n(14),f=n.n(d),v=n(5),h=n.n(v),g=n(0),E=n.n(g),b=n(33),y=n.n(b),S=n(3),N=n(26),w=n(31),x=n(49);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var I=function(e){s()(n,e);var t=O(n);function n(e){return a()(this,n),t.call(this,e)}return c()(n,[{key:"render",value:function(){return E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-sm-12"},E.a.createElement(N.a,null,E.a.createElement(w.a,{className:"panel-small"},E.a.createElement("div",{className:"col-md-4"},E.a.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},E.a.createElement(x.a,{iconName:"glyphicon-arrow-left",onClickAction:S.e.goBack}))),E.a.createElement("div",{className:"col-md-4"},E.a.createElement("h3",{className:"text-center table-title"},"Rapportage Energie Leverancier naar Excel")),E.a.createElement("div",{className:"col-md-4"})))))}}]),n}(g.Component),P=n(16),k=n(7),j=n.n(k),R=n(104),C=n(32),B=n(105),D=n(38),K=n(23);j.a.locale("nl");var A=Object(P.b)((function(e){return{energySuppliers:e.systemData.energySuppliers}}))((function(e){var t=e.excel,n=t.energySupplierId,r=t.documentName,a=t.distributions,l=[];return l.push({id:0,name:"** Alle energie leveranciers **"}),e.energySuppliers.map((function(e){l.push({id:e.id,name:e.name})})),E.a.createElement("form",{className:"form-horizontal col-md-12",onSubmit:e.handleSubmit},E.a.createElement("div",{className:"row"},E.a.createElement(R.a,{label:"Contacten van Energie Leverancier",name:"energySupplierId",options:l,emptyOption:!1,value:n,onChangeAction:e.handleInputChange,required:"required",error:e.errors.energySupplierId}),"Maak overzicht per leverancier voor alle leveranciers (bestand per leverancier) of een specifieke leverancier"),E.a.createElement("div",{className:"row"},E.a.createElement(D.a,{label:"Bestandsnaam",name:"documentName",value:r,onChangeAction:e.handleInputChange,required:"required",error:e.errors.documentName}),0==n?"(Bestandsnaam wordt aangevuld met afkorting leverancier en ingestelde bestandsformaat)":"(Bestandsnaam wordt aangevuld met ingestelde bestandsformaat bij leverancier)"),E.a.createElement("div",{className:"row"},a.length>0?E.a.createElement(E.a.Fragment,null,E.a.createElement(K.a,{className:"form-group col-sm-6",label:"Rapportage voor deelnames",value:a.map((function(e,t){return E.a.createElement(E.a.Fragment,null,e.contactName,E.a.createElement("br",null))}))})):null),E.a.createElement(B.a,null,E.a.createElement("div",{className:"pull-right btn-group",role:"group"},E.a.createElement(C.a,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:e.switchToView}),E.a.createElement(C.a,{buttonText:"Opslaan",onClickAction:e.handleSubmit,type:"submit",value:"Submit"}))))})),q=n(35),L=n(239),T=n(54);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var a=f()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}var M=function(e){s()(n,e);var t=J(n);function n(e){var r;return a()(this,n),r=t.call(this,e),h()(i()(r),"handleInputChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;r.setState(F(F({},r.state),{},{excel:F(F({},r.state.excel),{},h()({},a,n))}))})),h()(i()(r),"handleSubmit",(function(e){e.preventDefault();var t=r.state.excel,n={},a=!1;y.a.isEmpty(t.energySupplierId+"")&&(n.energySupplierId=!0,a=!0),y.a.isEmpty(t.documentName+"")&&(n.documentName=!0,a=!0),r.setState(F(F({},r.state),{},{errors:n})),!a&&T.a.createEnergySupplierExcel(t.revenuePartId,t.energySupplierId,t.documentName,t.distributionPartsKwhIds).then((function(e){S.f.push("/documenten")}))})),r.state={excel:{revenuePartId:e.params.revenuePartId,energySupplierId:0,documentName:"",distributions:[],distributionPartsKwhIds:e.reportEnergySupplierExcel?e.reportEnergySupplierExcel.distributionPartsKwhIds:[]},isLoading:!1,errors:{energySupplierId:!1,documentName:!1}},r}return c()(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),L.a.peekDistributionsKwhPartsById(this.props.reportEnergySupplierExcel.distributionPartsKwhIds).then((function(t){e.setState(F(F({},e.state),{},{excel:F(F({},e.state.excel),{},{distributions:t.data})}))}))}},{key:"componentWillUnmount",value:function(){this.props.clearEnergySupplierExcelReportKwh()}},{key:"render",value:function(){return E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-md-9"},E.a.createElement("div",{className:"col-md-12"},E.a.createElement(I,null)),E.a.createElement("div",{className:"col-md-12"},E.a.createElement(N.a,null,E.a.createElement(w.a,null,E.a.createElement("div",{className:"col-md-12"},E.a.createElement(A,{excel:this.state.excel,errors:this.state.errors,handleInputChange:this.handleInputChange,handleSubmit:this.handleSubmit})))))),E.a.createElement("div",{className:"col-md-3"}))}}]),n}(g.Component);t.default=Object(P.b)((function(e){return{reportEnergySupplierExcel:e.revenuesKwhReportEnergySupplierExcel}}),(function(e){return{clearEnergySupplierExcelReportKwh:function(){e(Object(q.a)())}}}))(M)}}]);