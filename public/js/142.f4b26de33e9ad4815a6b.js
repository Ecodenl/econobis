(window.webpackJsonp=window.webpackJsonp||[]).push([[142],{1655:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a.n(n),o=a(15),s=a.n(o),i=a(16),u=a.n(i),l=a(17),c=a.n(l),m=a(12),d=a.n(m),f=a(0),p=a.n(f),h=a(9),v=a.n(h),g=a(5),y=a.n(g),E=a(19),b=a(4),q=a(7),N=a.n(q),R=a(236),O=a(123),C=a(38),I=a(36),w=a(51),k=a(165),j=a(32),S=a.n(j);function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return c()(this,a)}}N.a.locale("nl");var P=function(e){u()(a,e);var t=x(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(v()(n),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(D(D({},n.state),{},{quotationRequest:D(D({},n.state.quotationRequest),{},y()({},r,a))}))})),y()(v()(n),"handleSubmit",(function(e){e.preventDefault();var t=n.state.quotationRequest,a={},r=!1;S.a.isEmpty(t.statusId)&&(a.status=!0,r=!0),S.a.isEmpty(t.organisationId)&&(a.organisation=!0,r=!0),n.setState(D(D({},n.state),{},{errors:a})),!r&&R.a.newQuotationRequest(t).then((function(e){b.f.push("/offerteverzoek/".concat(e.data.id))}))})),n.state={opportunity:{fullName:"",fullAddress:"",measureName:"",organisations:[]},quotationRequest:{opportunityId:"",organisationId:"",dateRecorded:"",statusId:"5",dateReleased:"",quotationText:""},errors:{organisation:!1,status:!1}},n.handleInputChangeDate=n.handleInputChangeDate.bind(v()(n)),n}return s()(a,[{key:"componentWillMount",value:function(){var e=this;R.a.fetchNewQuotationRequest(this.props.opportunityId).then((function(t){e.setState({opportunity:{fullName:t.intake.contact.fullName,fullAddress:t.intake.fullAddress,organisations:t.intake&&t.intake.campaign?t.intake.campaign.organisations:"",measureNames:t.measures&&t.measures.map((function(e){return e.name})).join(", "),measureCategoryName:t.measureCategory.name},quotationRequest:{opportunityId:t.id,organisationId:"",dateRecorded:"",statusId:"5",dateReleased:"",quotationText:t.quotationText?t.quotationText:""}})}))}},{key:"handleInputChangeDate",value:function(e,t){this.setState(D(D({},this.state),{},{quotationRequest:D(D({},this.state.quotationRequest),{},y()({},t,e))}))}},{key:"render",value:function(){var e=this.state.quotationRequest,t=e.organisationId,a=e.dateRecorded,n=e.statusId,r=e.dateReleased,o=e.quotationText,s=this.state.opportunity,i=s.fullName,u=s.fullAddress,l=s.organisations,c=s.measureNames,m=s.measureCategoryName;return p.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},p.a.createElement("div",{className:"row"},p.a.createElement(O.a,{label:"Organisatie",size:"col-sm-6",name:"organisationId",value:t,options:l,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.organisation}),p.a.createElement(I.a,{label:"Verzoek voor",name:"fullName",value:i,onChange:function(){},readOnly:!0})),p.a.createElement("div",{className:"row"},p.a.createElement(I.a,{label:"Adres voor",name:"address",value:u,onChange:function(){},readOnly:!0}),p.a.createElement(I.a,{label:"Maatregel - categorie",name:"measureCategory",value:m,onChange:function(){},readOnly:!0})),p.a.createElement("div",{className:"row"},p.a.createElement(I.a,{label:"Maatregel - specifiek",name:"measure",value:c,onChange:function(){},readOnly:!0}),p.a.createElement(w.a,{label:"Datum opname",size:"col-sm-6",name:"dateRecorded",value:a,onChangeAction:this.handleInputChangeDate})),p.a.createElement("div",{className:"row"},p.a.createElement(O.a,{label:"Offerte status",size:"col-sm-6",name:"statusId",value:n,options:this.props.quotationRequestStatus,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.status}),p.a.createElement(w.a,{label:"Offerte uitgebracht",size:"col-sm-6",name:"dateReleased",value:r,onChangeAction:this.handleInputChangeDate})),p.a.createElement("div",{className:"row"},p.a.createElement(k.a,{label:"Offerte omschrijving",name:"quotationText",value:o,onChangeAction:this.handleInputChange})),p.a.createElement("div",{className:"panel-footer"},p.a.createElement("div",{className:"pull-right btn-group",role:"group"},p.a.createElement(C.a,{buttonText:"Opslaan",onClickAction:this.handleSubmit}))))}}]),a}(f.Component),z=Object(E.b)((function(e){return{quotationRequestStatus:e.systemData.quotationRequestStatus}}),null)(P),T=a(27),B=a(30),M=function(e){return p.a.createElement("div",null,p.a.createElement(T.a,null,p.a.createElement(B.a,null,p.a.createElement(z,{opportunityId:e.opportunityId}))))},J=a(50),Q=function(e){return p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col-md-4"},p.a.createElement("div",{className:"btn-group",role:"group"},p.a.createElement(J.a,{iconName:"glyphicon-arrow-left",onClickAction:b.e.goBack}))),p.a.createElement("div",{className:"col-md-4"},p.a.createElement("h4",{className:"text-center"},"Nieuw offerteverzoek")),p.a.createElement("div",{className:"col-md-4"}))};function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return c()(this,a)}}var W=function(e){u()(a,e);var t=V(a);function a(e){return r()(this,a),t.call(this,e)}return s()(a,[{key:"render",value:function(){return p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col-md-9"},p.a.createElement("div",{className:"col-md-12 margin-10-top"},p.a.createElement(Q,null)),p.a.createElement("div",{className:"col-md-12 margin-10-top"},p.a.createElement(M,{opportunityId:this.props.params.opportunityId}))),p.a.createElement("div",{className:"col-md-3"}))}}]),a}(f.Component);t.default=W}}]);