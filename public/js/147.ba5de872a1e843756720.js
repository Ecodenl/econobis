(window.webpackJsonp=window.webpackJsonp||[]).push([[147],{1679:function(e,t,r){"use strict";r.r(t);var a=r(14),n=r.n(a),o=r(17),l=r.n(o),c=r(9),s=r.n(c),i=r(15),u=r.n(i),m=r(16),p=r.n(m),d=r(12),v=r.n(d),f=r(5),h=r.n(f),g=r(0),E=r.n(g),b=r(31),y=r.n(b),w=r(4),N=r(27),R=r(30),P=r(50);function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=v()(e);if(t){var n=v()(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return p()(this,r)}}var S=function(e){u()(r,e);var t=F(r);function r(e){return n()(this,r),t.call(this,e)}return l()(r,[{key:"render",value:function(){return E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-sm-12"},E.a.createElement(N.a,null,E.a.createElement(R.a,{className:"panel-small"},E.a.createElement("div",{className:"col-md-4"},E.a.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},E.a.createElement(P.a,{iconName:"glyphicon-arrow-left",onClickAction:w.e.goBack}))),E.a.createElement("div",{className:"col-md-4"},E.a.createElement("h3",{className:"text-center table-title"},"Rapportage Energie Leverancier naar Excel")),E.a.createElement("div",{className:"col-md-4"})))))}}]),r}(g.Component),O=r(7),k=r.n(O),K=r(38),C=r(124),x=r(36),j=r(21);k.a.locale("nl");var I=function(e){return E.a.createElement("form",{className:"form-horizontal col-md-12",onSubmit:e.handleSubmit},E.a.createElement("div",{className:"row"},E.a.createElement(x.a,{label:"Bestandsnaam",name:"documentName",value:e.documentName,onChangeAction:e.handleInputChange,required:"required",error:e.errors.documentName,errorMessage:e.errorMessage.documentName}),"(Bestandsnaam wordt aangevuld met afkorting leverancier en ingestelde bestandsformaat)"),E.a.createElement("div",{className:"row"},e.revenuePartsKwhForReport&&e.revenuePartsKwhForReport.distributionForReportEnergySupplier&&0==e.revenuePartsKwhForReport.distributionForReportEnergySupplier.length&&e.revenuePartsKwhForReport.distributionForReportEnergySupplier.length>100?E.a.createElement(E.a.Fragment,null,E.a.createElement(j.a,{className:"form-group col-sm-6",label:"Rapportage voor deelnames",value:"Alle (aantal: "+e.revenuePartsKwhForReport.distributionForReportEnergySupplier.length+")"})):e.revenuePartsKwhForReport&&e.revenuePartsKwhForReport.distributionForReportEnergySupplier&&e.revenuePartsKwhForReport.distributionForReportEnergySupplier.length>0?E.a.createElement(E.a.Fragment,null,E.a.createElement(j.a,{className:"form-group col-sm-12",labelSize:"col-sm-3",valueSize:"col-sm-9",label:"Rapportage voor deelnames",value:e.revenuePartsKwhForReport.distributionForReportEnergySupplier.map((function(e,t){return E.a.createElement(E.a.Fragment,null,E.a.createElement("strong",null,e.contactName),0!=e.deliveredKwhUpTo?E.a.createElement(E.a.Fragment,null," kWh te verwerken:  ",e.deliveredKwhUpTo.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2})):e.isLastPart?" (Op verwerkt zetten)":"",E.a.createElement("br",null))}))})):E.a.createElement(E.a.Fragment,null,E.a.createElement(j.a,{className:"form-group col-sm-6",label:"Rapportage voor deelnames",value:"Geen"}))),E.a.createElement(C.a,null,E.a.createElement("div",{className:"pull-right btn-group",role:"group"},E.a.createElement(K.a,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:e.cancel}),E.a.createElement(K.a,{buttonText:"Opslaan",onClickAction:e.handleSubmit,type:"submit",value:"Submit"}))))},B=r(74);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){h()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,a=v()(e);if(t){var n=v()(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return p()(this,r)}}var z=function(e){u()(r,e);var t=M(r);function r(e){var a;return n()(this,r),a=t.call(this,e),h()(s()(a),"handleInputChange",(function(e){var t=e.target,r="checkbox"===t.type?t.checked:t.value,n=t.name;a.setState(L(L({},a.state),{},{excel:L(L({},a.state.excel),{},h()({},n,r))}))})),h()(s()(a),"cancel",(function(e){e.preventDefault(),w.f.push("project/opbrengst-kwh/".concat(a.state.revenuePartsKwhForReport.revenueId,"/deelperiode/").concat(a.props.params.revenuePartId))})),h()(s()(a),"handleSubmit",(function(e){e.preventDefault();var t=a.state.excel,r={},n={},o=!1;y.a.isEmpty(t.documentName+"")&&(r.documentName=!0,n.documentName="Bestandsnaam mag niet leeg zijn",o=!0),o?a.setState(L(L({},a.state),{},{errors:r,errorMessage:n})):(a.setState(L(L({},a.state),{},{isCreating:!0,errors:r,errorMessage:n})),B.a.createEnergySupplierExcel(t.revenuePartId,t.documentName).then((function(e){a.setState(L(L({},a.state),{},{isCreating:!1})),w.f.push("/documenten")})).catch((function(e){a.setState({isCreating:!1})})))})),a.state={revenuePartsKwhForReport:{},excel:{revenuePartId:e.params.revenuePartId,documentName:""},isLoading:!1,isCreating:!1,errors:{energySupplierId:!1,documentName:!1},errorMessage:{energySupplierId:"",documentName:""}},a}return l()(r,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),B.a.fetchRevenuePartsKwhForReport(this.props.params.revenuePartId).then((function(t){e.setState({revenuePartsKwhForReport:t,isLoading:!1})})).catch((function(t){e.setState({isLoading:!1})}))}},{key:"render",value:function(){return E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-md-9"},E.a.createElement("div",{className:"col-md-12"},E.a.createElement(S,null)),E.a.createElement("div",{className:"col-md-12"},E.a.createElement(E.a.Fragment,null,this.state.isCreating?E.a.createElement("div",null,"Bezig met verwerken..."):this.state.isLoading?E.a.createElement("div",null,"Bezig met laden..."):E.a.createElement(N.a,null,E.a.createElement(R.a,null,E.a.createElement("div",{className:"col-md-12"},E.a.createElement(I,{revenuePartsKwhForReport:this.state.revenuePartsKwhForReport,documentName:this.state.excel.documentName,errors:this.state.errors,errorMessage:this.state.errorMessage,handleInputChange:this.handleInputChange,handleSubmit:this.handleSubmit,cancel:this.cancel}))))))),E.a.createElement("div",{className:"col-md-3"}))}}]),r}(g.Component);t.default=z}}]);