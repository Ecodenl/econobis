"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[1557],{97809:(t,e,a)=>{a.d(e,{Z:()=>r});var n=a(69265),c="district";const r={fetchDistricts:function(){return n.Z.get(c).then((function(t){return t.data}))},fetchDistrictDetails:function(t){return n.Z.get("".concat(c,"/").concat(t)).then((function(t){return t.data}))},fetchDistrictCalendarItems:function(t,e,a){return n.Z.get("".concat(c,"/").concat(t,"/calendar-items"),{params:{startDate:e,endDate:a}}).then((function(t){return t.data}))},newDistrict:function(t){return n.Z.post(c,t).then((function(t){return t.data}))},updateDistrict:function(t){return n.Z.post("".concat(c,"/").concat(t.id),t)},deleteDistrict:function(t){return n.Z.post("".concat(c,"/").concat(t.id,"/delete"))},detachDistrictCoach:function(t){var e=t.districtId,a=t.coachId;return n.Z.post("".concat(c,"/").concat(e,"/coaches/").concat(a,"/detach"))},attachDistrictCoach:function(t){var e=t.districtId,a=t.coachId;return n.Z.post("".concat(c,"/").concat(e,"/coaches/").concat(a,"/attach"))}}},41557:(t,e,a)=>{a.r(e),a.d(e,{default:()=>M});var n=a(29439),c=a(67294),r=(a(4520),a(30381)),o=a.n(r),i=(a(31663),a(93379)),l=a.n(i),u=a(7795),s=a.n(u),d=a(90569),m=a.n(d),f=a(3565),h=a.n(f),v=a(19216),p=a.n(v),D=a(44589),Z=a.n(D),b=a(12352),g={};g.styleTagTransform=Z(),g.setAttributes=h(),g.insert=m().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=p(),l()(b.Z,g),b.Z&&b.Z.locals&&b.Z.locals;var w=a(14309),y=a(98688),Y=a(55451),E=a(61409),k=a(97809),q=a(21606),N=a(71840);o().locale("nl");const M=function(t){var e=(0,c.useState)("week"),a=(0,n.Z)(e,2),r=a[0],i=a[1],l=(0,c.useState)(new Date),u=(0,n.Z)(l,2),s=u[0],d=u[1],m=(0,c.useState)([]),f=(0,n.Z)(m,2),h=f[0],v=f[1],p=(0,c.useState)(!1),D=(0,n.Z)(p,2),Z=D[0],b=D[1],g=(0,c.useState)(null),M=(0,n.Z)(g,2),C=M[0],A=M[1],S=(0,c.useState)({}),I=(0,n.Z)(S,2),x=I[0],z=I[1];(0,c.useEffect)((function(){O()}),[s,r]);var O=function(){var e=o()(s).startOf(r).format("YYYY-MM-DD"),a=o()(s).endOf(r).format("YYYY-MM-DD");"month"===r&&(e=o()(s).startOf(r).subtract(1,"w").format("YYYY-MM-DD"),a=o()(s).endOf(r).add(1,"w").format("YYYY-MM-DD")),k.Z.fetchDistrictCalendarItems(t.params.id,e,a).then((function(t){var e=t.quotationRequests.map((function(t){return{type:"quotationRequest",id:t.id,coach:t.coach,title:t.coach.fullName,start:new Date(t.datePlanned),end:o()(t.datePlanned).add(t.durationMinutes,"m").toDate()}})),a=t.availabilities.map((function(t){return{type:"availability",coach:t.coach,title:t.coach.fullName,start:new Date(t.from),end:new Date(t.to)}}));v(e.concat(a)),z(t.district)}))},P=function(t){switch(t.type){case"quotationRequest":return"quotation-request";case"availability":return"availability"}};return c.createElement(w.Z,null,c.createElement(y.Z,null,c.createElement("div",{className:"row margin-10-bottom"},c.createElement("div",{className:"col-md-4"},c.createElement("div",{className:"btn-group",role:"group"},c.createElement(Y.Z,{iconName:"arrowLeft",onClickAction:E.mW.goBack}))),c.createElement("div",{className:"col-md-4"},c.createElement("h3",{className:"text-center table-title"},"Afspraakkalender ",x.name)),c.createElement("div",{className:"col-md-4"},c.createElement("div",{style:{display:"flex",flexDirection:"column"}},c.createElement("div",{style:{display:"flex"}},c.createElement(N.Z,{size:"col-12 col-sm-12",label:"Coach",name:"coach_id",options:h.reduce((function(t,e){return t.find((function(t){return t.id===e.coach.id}))||t.push(e.coach),t}),[]).sort((function(t,e){return t.fullName.localeCompare(e.fullName)})).map((function(t){return{id:t.id,name:t.fullName}})),value:C,onChangeAction:function(t){return A(t.target.value)},placeholder:"Alle"})),c.createElement("div",null,c.createElement(q.Z,{divSize:"col-12 col-sm-12",label:"Toon beschikbaarheid",name:"show_availabilities",value:Z,onChangeAction:function(t){return b(t.target.checked)}}))))),c.createElement(Calendar,{events:h.filter((function(t){return!(!Z&&"availability"===t.type||C&&t.coach.id!==parseInt(C))})),style:{height:"calc(100vh - 200px)"},step:15,timeslots:4,views:["month","week","day"],view:r,onView:i,date:s,onNavigate:d,onSelectEvent:function(t){"quotationRequest"===t.type&&E.nA.push("/offerteverzoek/".concat(t.id))},localizer:momentLocalizer(o()),eventPropGetter:function(t){return{className:P(t)}},messages:{allDay:"Gehele dag",previous:"<",next:">",today:"Vandaag",month:"Maand",week:"Week",day:"Dag",agenda:"Agenda",date:"Datum",time:"Tijd",showMore:function(t){return"+".concat(t," meer")}},min:new Date("".concat(o()().format("YYYY-MM-DD")," 06:00:00"))})))}},12352:(t,e,a)=>{a.d(e,{Z:()=>i});var n=a(8081),c=a.n(n),r=a(23645),o=a.n(r)()(c());o.push([t.id,".quotation-request {\r\n    background-color: #265985;\r\n}\r\n\r\n.quotation-request .rbc-event-content:hover{\r\n    text-decoration: underline;\r\n}\r\n\r\n.availability{\r\n    background-color: #5cb85c;\r\n    cursor: default;\r\n}\r\n",""]);const i=o}}]);