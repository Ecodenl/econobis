"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[2458],{92458:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var r=a(15671),n=a(43144),s=a(97326),o=a(60136),l=a(82963),c=a(61120),m=a(4942),u=a(67294),i=a(86706),d=a(61409),f=a(70216),h=a(55931),p=a(6479),v=a(30381),g=a.n(v),w=a(13550);var E=function(e){(0,o.Z)(f,e);var t,a,i=(t=f,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(a){var n=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function f(e){var t;return(0,r.Z)(this,f),t=i.call(this,e),(0,m.Z)((0,s.Z)(t),"handleInputChange",(function(e){var a=e.target,r=a.value,n=a.name;t.setState((0,m.Z)({},n,r))})),(0,m.Z)((0,s.Z)(t),"handleSubmit",(function(e){e.preventDefault();var a={username:t.state.username,password:t.state.password};h.Z.loginUser(a).then((function(e){200==e.status?(localStorage.setItem("access_token",e.data.access_token),localStorage.setItem("refresh_token",e.data.refresh_token),localStorage.setItem("last_activity",g()().format()),t.props.authSuccess(),w.Z.fetchTwoFactorStatus().then((function(e){e.data.requireTwoFactorAuthentication?e.data.twoFactorActivated?e.data.hasValidToken?d.nA.push("/"):d.nA.push("/two-factor/confirm"):d.nA.push({pathname:"/two-factor/activate",state:{password:t.state.password}}):d.nA.push("/")}))):t.setState({username:"",password:"",errorMessage:"Verkeerde inloggegevens ingevuld!"})}))})),t.state={username:"",password:"",errorMessage:""},t}return(0,n.Z)(f,[{key:"renderAlert",value:function(){if(this.state.errorMessage)return u.createElement("div",{className:"col-sm-10 col-md-offset-1 alert alert-danger login-alert"},this.state.errorMessage)}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return u.createElement("div",{className:"col-md-4 col-sm-8 col-xs-10 login-form"},u.createElement("div",{className:"panel panel-default add"},u.createElement("div",{className:"panel-body"},u.createElement("div",{className:"text-center"},u.createElement(p.Z,{height:"150px"})),u.createElement("form",{onSubmit:this.handleSubmit},u.createElement("div",{className:"row margin-10-top"},u.createElement("div",{className:"col-sm-10 col-md-offset-1"},u.createElement("div",{className:"form-group"},u.createElement("label",{htmlFor:"username",className:"control-label"},"E-mail:"),u.createElement("input",{type:"text",name:"username",value:t,className:"form-control",placeholder:"E-mail...",onChange:this.handleInputChange})),u.createElement("div",{className:"form-group"},u.createElement("label",{htmlFor:"password",className:"control-label"},"Wachtwoord:"),u.createElement("input",{type:"password",name:"password",value:a,className:"form-control",placeholder:"Wachtwoord ...",onChange:this.handleInputChange}))),this.renderAlert()),u.createElement("div",{className:"row"},u.createElement("div",{className:"col-sm-10 col-md-offset-1"},u.createElement(d.rU,{to:"wachtwoord-vergeten",className:"link-underline"},"Wachtwoord vergeten?"),u.createElement("div",{className:"btn-group pull-right"},u.createElement("button",{type:"submit",className:"btn btn-primary"},"Login"))))))))}}]),f}(u.Component);const N=(0,i.$j)(null,(function(e){return{authSuccess:function(){e((0,f.v)())}}}))(E)}}]);