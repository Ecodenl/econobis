"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[2693],{2693:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var r=n(15671),o=n(43144),c=n(97326),a=n(60136),l=n(82963),s=n(61120),i=n(4942),u=n(67294),m=n(37974),p=n(87462),f=n(96498),h=n(75286),d=n(24480),v=n(52822),E=n(61409),D=n(30381),y=n.n(D);y().locale("nl");var w=function(e){(0,a.Z)(i,e);var t,n,c=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function i(e){var t;return(0,r.Z)(this,i),(t=c.call(this,e)).state={showActionButtons:!1,highlightRow:""},t}return(0,o.Z)(i,[{key:"onRowEnter",value:function(){this.setState({showActionButtons:!0,highlightRow:"highlight-row"})}},{key:"onRowLeave",value:function(){this.setState({showActionButtons:!1,highlightRow:""})}},{key:"openItem",value:function(e){E.nA.push("/document-template/".concat(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=(t.number,t.createdAt),o=t.name,c=t.documentGroup,a=t.active;return u.createElement("tr",{className:this.state.highlightRow,onDoubleClick:function(){return e.openItem(n)},onMouseEnter:function(){return e.onRowEnter()},onMouseLeave:function(){return e.onRowLeave()}},u.createElement("td",null,o),u.createElement("td",null,c?c.name:"Onbekend"),u.createElement("td",null,r?y()(r).format("L"):"Onbekend"),u.createElement("td",null,a?"Ja":"Nee"),u.createElement("td",null,this.state.showActionButtons?u.createElement("a",{role:"button",onClick:function(){return e.openItem(n)}},u.createElement("span",{className:"glyphicon glyphicon-pencil mybtn-success"})," "):"",(this.state.showActionButtons&&this.props.permissions.createDocumentTemplate,"")))}}]),i}(u.Component);const Z=(0,m.$j)((function(e){return{permissions:e.meDetails.permissions}}))(w);var g=n(41355),T=n(80251);const b=function(e){return u.createElement(g.Z,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.closeDeleteItemModal,confirmAction:function(){T.Z.deleteDocumentTemplate(e.id).then((function(t){e.refreshDocumentTemplatesData(),e.closeDeleteItemModal()})).catch((function(t){alert(t.response.data.message),e.closeDeleteItemModal()}))},title:"Verwijderen"},"Verwijder document template: ",u.createElement("strong",null," ",e.name," "))};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){(0,a.Z)(E,e);var t,n,m=(t=E,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function E(e){var t;return(0,r.Z)(this,E),t=m.call(this,e),(0,i.Z)((0,c.Z)(t),"showDeleteItemModal",(function(e,n){t.setState(R(R({},t.state),{},{showDeleteItem:!0,deleteItem:R(R({},t.state.deleteItem),{},{id:e,name:n})}))})),(0,i.Z)((0,c.Z)(t),"closeDeleteItemModal",(function(){t.setState(R(R({},t.state),{},{showDeleteItem:!1,deleteItem:R(R({},t.state.deleteItem),{},{id:"",name:""})}))})),t.state={showDeleteItem:!1,deleteItem:{id:"",name:""}},t}return(0,o.Z)(E,[{key:"render",value:function(){var e=this,t="",n=!0;return this.props.hasError?t="Fout bij het ophalen van document templates.":this.props.isLoading?t="Gegevens aan het laden.":0===this.props.documentTemplates.length?t="Geen document templates gevonden!":n=!1,u.createElement("div",null,u.createElement(f.Z,null,u.createElement(h.Z,null,u.createElement("tr",{className:"thead-title"},u.createElement(v.Z,{title:"Template",width:"40%"}),u.createElement(v.Z,{title:"Type",width:"10%"}),u.createElement(v.Z,{title:"Datum",width:"30%"}),u.createElement(v.Z,{title:"Actief",width:"10%"}),u.createElement(v.Z,{title:"",width:"10%"}))),u.createElement(d.Z,null,n?u.createElement("tr",null,u.createElement("td",{colSpan:6},t)):this.props.documentTemplates.map((function(t){return u.createElement(Z,(0,p.Z)({key:t.id,showDeleteItemModal:e.showDeleteItemModal},t))})))),this.state.showDeleteItem&&u.createElement(b,(0,p.Z)({closeDeleteItemModal:this.closeDeleteItemModal,refreshDocumentTemplatesData:this.props.refreshDocumentTemplatesData},this.state.deleteItem)))}}]),E}(u.Component);const k=(0,m.$j)((function(e){return{isLoading:e.loadingData.isLoading,hasError:e.loadingData.hasError}}))(I);var j=n(55451);const N=(0,m.$j)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.permissions,n=void 0===t?{}:t;return u.createElement("div",{className:"row"},u.createElement("div",{className:"col-md-4"},u.createElement("div",{className:"btn-group",role:"group"},u.createElement(j.Z,{iconName:"glyphicon-refresh",onClickAction:e.refreshDocumentTemplatesData}),n.createDocumentTemplate&&u.createElement(j.Z,{iconName:"glyphicon-plus",onClickAction:function(){E.nA.push("/document-template/nieuw")}}))),u.createElement("div",{className:"col-md-4"},u.createElement("h3",{className:"text-center table-title"},"Document templates")),u.createElement("div",{className:"col-md-4"}))}));var M=function(e){(0,a.Z)(p,e);var t,n,m=(t=p,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function p(e){var t;return(0,r.Z)(this,p),t=m.call(this,e),(0,i.Z)((0,c.Z)(t),"refreshDocumentTemplatesData",(function(){t.props.clearDocumentTemplates(),t.props.fetchDocumentTemplates()})),t}return(0,o.Z)(p,[{key:"componentDidMount",value:function(){this.props.fetchDocumentTemplates()}},{key:"componentWillUnmount",value:function(){this.props.clearDocumentTemplates()}},{key:"render",value:function(){var e=this;return u.createElement("div",null,u.createElement("div",{className:"panel panel-default"},u.createElement("div",{className:"panel-body"},u.createElement("div",{className:"col-md-12 margin-10-top"},u.createElement(N,{refreshDocumentTemplatesData:function(){return e.refreshDocumentTemplatesData()}})),u.createElement("div",{className:"col-md-12 margin-10-top"},u.createElement(k,{documentTemplates:this.props.documentTemplates,refreshDocumentTemplatesData:this.refreshDocumentTemplatesData})))))}}]),p}(u.Component);const A=(0,m.$j)((function(e){return{documentTemplates:e.documentTemplates}}),(function(e){return{fetchDocumentTemplates:function(){e({type:"FETCH_DOCUMENT_TEMPLATES"})},clearDocumentTemplates:function(){e({type:"CLEAR_DOCUMENT_TEMPLATES"})}}}))(M)}}]);