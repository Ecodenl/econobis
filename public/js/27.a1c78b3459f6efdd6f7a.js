(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{1e3:function(e,t,a){var r=a(315);function o(t,a){return e.exports=o=r||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,o(t,a)}e.exports=o,e.exports.default=e.exports,e.exports.__esModule=!0},1044:function(e,t,a){"use strict";var r=a(957);t.__esModule=!0,t.default=void 0;var o=r(a(958)),n=r(a(977)),s=r(a(978)),l=r(a(144)),i=r(a(0)),c=r(a(3)),u=a(979),d={responsive:c.default.bool,rounded:c.default.bool,circle:c.default.bool,thumbnail:c.default.bool},p=function(e){function t(){return e.apply(this,arguments)||this}return(0,s.default)(t,e),t.prototype.render=function(){var e,t=this.props,a=t.responsive,r=t.rounded,s=t.circle,c=t.thumbnail,d=t.className,p=(0,n.default)(t,["responsive","rounded","circle","thumbnail","className"]),m=(0,u.splitBsProps)(p),g=m[0],f=m[1],h=((e={})[(0,u.prefix)(g,"responsive")]=a,e[(0,u.prefix)(g,"rounded")]=r,e[(0,u.prefix)(g,"circle")]=s,e[(0,u.prefix)(g,"thumbnail")]=c,e);return i.default.createElement("img",(0,o.default)({},f,{className:(0,l.default)(d,h)}))},t}(i.default.Component);p.propTypes=d,p.defaultProps={responsive:!1,rounded:!1,circle:!1,thumbnail:!1};var m=(0,u.bsClass)("img",p);t.default=m,e.exports=t.default},1693:function(e,t,a){"use strict";a.r(t);var r=a(0),o=a.n(r),n=a(15),s=a.n(n),l=a(16),i=a.n(l),c=a(12),u=a.n(c),d=a(17),p=a.n(d),m=a(18),g=a.n(m),f=a(13),h=a.n(f),b=a(5),v=a.n(b),x=a(20),S=a(1044),E=a.n(S),y=a(4),w=a(7),I=a.n(w),C=a(34),N=a.n(C),k=a(39),_=a(36),M=a(165),O=a(28),P=a(31),A=a(311),L=a(324),T=a(130),G=a(58),z=a(289),R=a(238);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){v()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=h()(e);if(t){var o=h()(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return g()(this,a)}}I.a.locale("nl");var q=function(e){p()(a,e);var t=j(a);function a(e){var r;return s()(this,a),r=t.call(this,e),v()(u()(r),"callFetchContactGroups",(function(){r.setState({contactGroupsLoading:!0}),G.a.peekContactGroups().then((function(e){r.setState({contactGroupsLoading:!1,contactGroups:e})})).catch((function(e){r.setState({contactGroupsLoading:!1})}))})),v()(u()(r),"closeUploadImage",(function(){r.setState({showModalUploadImage:!1})})),v()(u()(r),"toggleUploadImage",(function(e){r.props.permissions.managePortalSettings&&r.setState({showModalUploadImage:!r.state.showModalUploadImage,imageItemName:e})})),v()(u()(r),"addImage",(function(e,t,a){r.setState(F(F({},r.state),{},{image:e[0],showModalCropImage:!0,useAutoCropper:a}))})),v()(u()(r),"closeShowCrop",(function(){r.setState({showModalCropImage:!1})})),v()(u()(r),"cropImage",(function(e){r.setState(F(F({},r.state),{},{widget:F(F({},r.state.widget),{},{image:e,widgetImageFileName:e.name}),showModalCropImage:!1}))})),v()(u()(r),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,o=t.name;r.setState(F(F({},r.state),{},{widget:F(F({},r.state.widget),{},v()({},o,a))}))})),v()(u()(r),"handleReactSelectChange",(function(e,t){r.setState(F(F({},r.state),{},{widget:F(F({},r.state.widget),{},v()({},t,e))}))})),v()(u()(r),"handleSubmit",(function(e){e.preventDefault();var t=r.state.widget,a={},o={},n=!1;if(N.a.isEmpty(t.title)&&(a.title=!0,o.title="Titel verplicht veld.",n=!0),N.a.isEmpty(t.text)&&(a.text=!0,o.text="Tekst verplicht veld.",n=!0),N.a.isEmpty(t.widgetImageFileName)&&(a.image=!0,o.image="Afbeelding verplicht veld.",n=!0),N.a.isEmpty(t.buttonText)&&(a.buttonText=!0,o.buttonText="Knoptekst verplicht veld.",n=!0),N.a.isEmpty(t.buttonLink)&&(a.buttonLink=!0,o.buttonLink="Knoplink verplicht veld.",n=!0),r.setState(F(F({},r.state),{},{errors:a,errorMessage:o})),!n){var s=new FormData;s.append("portalSettingsDashboardId",t.portalSettingsDashboardId),s.append("title",t.title),s.append("text",t.text),s.append("image",t.image),s.append("buttonText",t.buttonText),s.append("buttonLink",t.buttonLink),s.append("widgetImageFileName",t.widgetImageFileName),s.append("showGroupId",t.showGroupId),s.append("backgroundColor",t.backgroundColor),s.append("textColor",t.textColor),r.setState(F(F({},r.state),{},{errors:a})),T.a.addPortalSettingsDashboardWidget(s).then((function(e){y.f.push("/portal-instellingen-dashboard")})).catch((function(e){console.log(e),alert("Er is iets mis gegaan met opslaan!")}))}})),r.state={widget:{portalSettingsDashboardId:1,title:"",text:"",image:"",widgetImageFileName:"",showGroupId:"",buttonText:"",buttonLink:"",backgroundColor:"",textColor:"",active:!0},contactGroups:{},contactGroupsLoading:!1,image:"",imageItemName:"",showModalUploadImage:!1,showModalCropImage:!1,useAutoCropper:!0,errors:{title:!1,text:!1,image:!1,showGroupId:!1,buttonText:!1,buttonLink:!1,widgetImageFileName:!1,backgroundColor:!1,textColor:!1},errorMessage:{}},r}return i()(a,[{key:"componentDidMount",value:function(){this.callFetchContactGroups()}},{key:"render",value:function(){var e=this,t=this.state,a=t.widget,r=t.errors,n=t.errorMessage,s="".concat(URL_API,"/portal/images/").concat(a.widgetImageFileName,"?").concat(this.props.imageHash),l=this.props.permissions.managePortalSettings,i=void 0===l?{}:l;return o.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},o.a.createElement(O.a,null,o.a.createElement(P.a,null,o.a.createElement("div",{className:"row"},o.a.createElement(_.a,{label:"Titel",divSize:"col-sm-8",name:"title",value:a.title,onChangeAction:this.handleInputChange,readOnly:!i,required:"required",error:r.title,errorMessage:n.title})),o.a.createElement("div",{className:"row"},o.a.createElement(_.a,{label:"Afbeelding (bestandstype PNG of JPG)",divSize:"col-sm-8",name:"widgetImageFileName",value:a.image?a.image.name:a.widgetImageFileName,onClickAction:function(){e.toggleUploadImage("image-widget")},onChangeaction:function(){},readOnly:!i,required:"required",error:this.state.errors.widgetImageFileName}),o.a.createElement(E.a,{src:a.image&&a.image.preview?a.image.preview:s,style:{border:"1px solid #999",display:"inline-block",padding:"1px",borderRadius:"1px",maxHeight:"50px",width:"auto",marginLeft:"20px",marginBottom:"10px",boxShadow:"0 0 0 1px #fff inset"}})),o.a.createElement("div",{className:"row"},o.a.createElement(M.a,{label:"Tekst",size:"col-sm-8",sizeLabel:"col-sm-6",sizeInput:"col-sm-6",name:"text",value:a.text,onChangeAction:this.handleInputChange,readOnly:!i,required:"required",error:r.text,errorMessage:n.text})),o.a.createElement("div",{className:"row"},o.a.createElement(_.a,{label:"Knoptekst",divSize:"col-sm-8",name:"buttonText",value:a.buttonText,onChangeAction:this.handleInputChange,readOnly:!i,required:"required",error:r.buttonText,errorMessage:n.buttonText})),o.a.createElement("div",{className:"row"},o.a.createElement(_.a,{label:"Knoplink",divSize:"col-sm-8",name:"buttonLink",value:a.buttonLink,onChangeAction:this.handleInputChange,readOnly:!i,required:"required",error:r.buttonLink,errorMessage:n.buttonLink})),o.a.createElement("div",{className:"row"},o.a.createElement(z.a,{label:"Zichtbaar voor groep",divSize:"col-sm-8",name:"showGroupId",options:this.state.contactGroups,value:a.showGroupId,onChangeAction:this.handleReactSelectChange,isLoading:this.state.contactGroupsLoading})),o.a.createElement("div",{className:"row"},o.a.createElement(R.a,{label:"Widget achtergrond kleur",divSize:"col-sm-8",name:"backgroundColor",value:a.backgroundColor,onChangeAction:this.handleInputChange,readOnly:!i,required:"required",error:this.state.errors.backgroundColor}),o.a.createElement("span",{className:"rc-color-picker-trigger",unselectable:"unselectable",style:{backgroundColor:a.backgroundColor,color:a.textColor,border:"1px solid #999",display:"inline-block",padding:"2px",borderRadius:"2px",width:"150px",height:"30px",boxShadow:"0 0 0 2px #fff inset"}},"Widget tekst")),o.a.createElement("div",{className:"row"},o.a.createElement(R.a,{label:"Widget tekst kleur",divSize:"col-sm-8",name:"textColor",value:a.textColor,onChangeAction:this.handleInputChange,readOnly:!i,required:"required",error:this.state.errors.textColor})),this.state.showModalUploadImage&&o.a.createElement(L.a,{closeUploadImage:this.closeUploadImage,addImage:this.addImage,imageItemName:this.state.imageItemName,acceptedFiles:["image/png","image/jpeg"],acceptedExtenties:"PNG of JPG"}),this.state.showModalCropImage&&o.a.createElement(A.a,{closeShowCrop:this.closeShowCrop,useAutoCropper:this.state.useAutoCropper,image:this.state.image,imageItemName:this.state.imageItemName,cropImage:this.cropImage})),o.a.createElement(P.a,null,o.a.createElement("div",{className:"pull-right btn-group",role:"group"},o.a.createElement(k.a,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}]),a}(r.Component),U=Object(x.b)((function(e){return{permissions:e.meDetails.permissions}}),null)(q),Z=a(51),B=function(){return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-4"},o.a.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},o.a.createElement(Z.a,{iconName:"glyphicon-arrow-left",onClickAction:y.e.goBack}))),o.a.createElement("div",{className:"col-md-4"},o.a.createElement("h4",{className:"text-center margin-small"},"Nieuw dashboard widget")),o.a.createElement("div",{className:"col-md-4"}))};t.default=function(){return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-9"},o.a.createElement("div",{className:"col-md-12 margin-10-top"},o.a.createElement(O.a,null,o.a.createElement(P.a,{className:"panel-small"},o.a.createElement(B,null)))),o.a.createElement("div",{className:"col-md-12 margin-10-top"},o.a.createElement(U,null))),o.a.createElement("div",{className:"col-md-3"}))}},957:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},958:function(e,t,a){var r=a(312);function o(){return e.exports=o=r||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,o.apply(this,arguments)}e.exports=o,e.exports.default=e.exports,e.exports.__esModule=!0},977:function(e,t,a){var r=a(313);e.exports=function(e,t){if(null==e)return{};var a,o,n={},s=r(e);for(o=0;o<s.length;o++)a=s[o],t.indexOf(a)>=0||(n[a]=e[a]);return n},e.exports.default=e.exports,e.exports.__esModule=!0},978:function(e,t,a){var r=a(314),o=a(1e3);e.exports=function(e,t){e.prototype=r(t.prototype),e.prototype.constructor=e,o(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},979:function(e,t,a){"use strict";var r=a(957);t.__esModule=!0,t.prefix=c,t.getClassSet=function(e){var t,a=((t={})[c(e)]=!0,t);if(e.bsSize){var r=l.SIZE_MAP[e.bsSize]||e.bsSize;a[c(e,r)]=!0}e.bsStyle&&(a[c(e,e.bsStyle)]=!0);return a},t.splitBsProps=function(e){var t={};return(0,o.default)(e).forEach((function(e){var a=e[0],r=e[1];g(a)||(t[a]=r)})),[m(e),t]},t.splitBsPropsAndOmit=function(e,t){var a={};t.forEach((function(e){a[e]=!0}));var r={};return(0,o.default)(e).forEach((function(e){var t=e[0],o=e[1];g(t)||a[t]||(r[t]=o)})),[m(e),r]},t.addStyle=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];d(a,e)},t._curry=t.bsSizes=t.bsStyles=t.bsClass=void 0;var o=r(a(237)),n=r(a(958)),s=(r(a(30)),r(a(3))),l=a(992);function i(e){return function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];var o=a[a.length-1];return"function"==typeof o?e.apply(void 0,a):function(t){return e.apply(void 0,a.concat([t]))}}}function c(e,t){var a=(e.bsClass||"").trim();return null==a&&invariant(!1),a+(t?"-"+t:"")}var u=i((function(e,t){var a=t.propTypes||(t.propTypes={}),r=t.defaultProps||(t.defaultProps={});return a.bsClass=s.default.string,r.bsClass=e,t}));t.bsClass=u;var d=i((function(e,t,a){"string"!=typeof t&&(a=t,t=void 0);var r=a.STYLES||[],o=a.propTypes||{};e.forEach((function(e){-1===r.indexOf(e)&&r.push(e)}));var l=s.default.oneOf(r);(a.STYLES=r,l._values=r,a.propTypes=(0,n.default)({},o,{bsStyle:l}),void 0!==t)&&((a.defaultProps||(a.defaultProps={})).bsStyle=t);return a}));t.bsStyles=d;var p=i((function(e,t,a){"string"!=typeof t&&(a=t,t=void 0);var r=a.SIZES||[],o=a.propTypes||{};e.forEach((function(e){-1===r.indexOf(e)&&r.push(e)}));var i=[];r.forEach((function(e){var t=l.SIZE_MAP[e];t&&t!==e&&i.push(t),i.push(e)}));var c=s.default.oneOf(i);return c._values=i,a.SIZES=r,a.propTypes=(0,n.default)({},o,{bsSize:c}),void 0!==t&&(a.defaultProps||(a.defaultProps={}),a.defaultProps.bsSize=t),a}));function m(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function g(e){return"bsClass"===e||"bsSize"===e||"bsStyle"===e||"bsRole"===e}t.bsSizes=p;var f=i;t._curry=f},992:function(e,t,a){"use strict";t.__esModule=!0,t.Style=t.State=t.DEVICE_SIZES=t.SIZE_MAP=t.Size=void 0;t.Size={LARGE:"large",SMALL:"small",XSMALL:"xsmall"};t.SIZE_MAP={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"};t.DEVICE_SIZES=["lg","md","sm","xs"];t.State={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"};t.Style={DEFAULT:"default",PRIMARY:"primary",LINK:"link",INVERSE:"inverse"}}}]);