"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[2859],{82859:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var a=n(67294),r=n(15671),o=n(43144),l=n(97326),c=n(60136),i=n(82963),s=n(61120),u=n(4942),m=n(14309),p=n(98688),d=n(72898),f=n(41355);var h=n(88601).Z;const v=function(e){(0,c.Z)(u,e);var t,n,l=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,s.Z)(t);if(n){var r=(0,s.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,i.Z)(this,e)});function u(e){var t;return(0,r.Z)(this,u),(t=l.call(this,e)).state={error:!1,errorMaxSize:!1},t}return(0,o.Z)(u,[{key:"onDropAccepted",value:function(e){var t=this;this.props.addAttachment(e),setTimeout((function(){t.props.toggleShowNew()}),500)}},{key:"onDropRejected",value:function(){this.setState({errorMaxSize:!0})}},{key:"render",value:function(){return a.createElement(f.Z,{closeModal:this.props.toggleShowNew,showConfirmAction:!1,title:"Upload bestand"},a.createElement("div",{className:"upload-file-content"},a.createElement(h,{multiple:!1,className:"dropzone",onDropAccepted:this.onDropAccepted.bind(this),onDropRejected:this.onDropRejected.bind(this),maxSize:6291456},a.createElement("p",null,"Klik hier voor het uploaden van een bestand"),a.createElement("p",null,a.createElement("strong",null,"of")," sleep het bestand hierheen"))),this.state.error&&a.createElement("p",{className:"has-error-message"},"Uploaden mislukt. Probeer nogmaals een bestand te uploaden."),this.state.errorMaxSize&&a.createElement("p",{className:"has-error-message"},"Uploaden mislukt. Het bestand mag maximaal 6MB groot zijn."))}}]),u}(a.Component);var E=n(49332),g=n(75286),Z=n(96498),y=n(52822),b=n(24480);const w=function(e){(0,c.Z)(u,e);var t,n,l=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,s.Z)(t);if(n){var r=(0,s.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,i.Z)(this,e)});function u(e){return(0,r.Z)(this,u),l.call(this,e)}return(0,o.Z)(u,[{key:"render",value:function(){var e="";return 1===this.props.data.prio&&(e="error-row"),2===this.props.data.prio&&(e="warning-row"),a.createElement("tr",{className:e},a.createElement("td",null,this.props.data.field?this.props.data.field:""),a.createElement("td",null,this.props.data.value?this.props.data.value:""," "),a.createElement("td",null,this.props.data.line),a.createElement("td",null,this.props.data.message))}}]),u}(a.Component);var N=n(61409);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const O=function(e){(0,c.Z)(h,e);var t,n,f=(t=h,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,s.Z)(t);if(n){var r=(0,s.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,i.Z)(this,e)});function h(e){var t;return(0,r.Z)(this,h),t=f.call(this,e),(0,u.Z)((0,l.Z)(t),"toggleUpload",(function(){t.setState({upload:!t.state.upload})})),(0,u.Z)((0,l.Z)(t),"handleSubmit",(function(){t.setState(S(S({},t.state),{},{uploading:!0}));var e=new FormData;e.append("attachment",t.state.attachment),d.Z.validateImport(e).then((function(e){var n=e.data.find((function(e){return 1===e.prio}));t.setState(S(S({},t.state),{},{validationData:e.data,hasError:!!n,uploading:!1}))}))})),(0,u.Z)((0,l.Z)(t),"import",(function(){t.setState(S(S({},t.state),{},{importing:!0}));var e=new FormData;e.append("attachment",t.state.attachment),d.Z.import(e).then((function(e){N.nA.push("/contacten")}))})),(0,u.Z)((0,l.Z)(t),"addAttachment",(function(e){t.setState(S(S({},t.state),{},{attachment:e[0]})),setTimeout((function(){t.handleSubmit()}),500)})),t.state={validationData:!1,upload:!1,attachment:!1,hasError:!0,uploading:!1,importing:!1},t}return(0,o.Z)(h,[{key:"render",value:function(){return a.createElement(m.Z,{className:"panel-grey"},this.state.validationData?a.createElement(p.Z,null,a.createElement(Z.Z,null,a.createElement(g.Z,null,a.createElement(y.Z,{title:"Veld",width:"20%"}),a.createElement(y.Z,{title:"Waarde",width:"20%"}),a.createElement(y.Z,{title:"Regel",width:"20%"}),a.createElement(y.Z,{title:"Bericht",width:"40%"})),a.createElement(b.Z,null,0===this.state.validationData.length?a.createElement("tr",null,a.createElement("td",{colSpan:4},"Geen regels gevonden!")):this.state.validationData.map((function(e,t){return a.createElement(w,{key:t,data:e})})))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},a.createElement(E.Z,{loading:this.state.uploading,buttonText:"Upload CSV",onClickAction:this.toggleUpload}),!this.state.hasError&&a.createElement(E.Z,{loading:this.state.importing,buttonText:"Importeren",onClickAction:this.import}))))):a.createElement(p.Z,null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},"Hier kunt u een CSV uploaden om contacten te importeren. De CSV moet het volgende formaat hebben:")),a.createElement("div",{className:"row margin-10-top margin-10-bottom"},a.createElement("div",{className:"col-md-12"},a.createElement("span",null,a.createElement("strong",null,"aanspreektitel_id;initialen;voornaam;tussenvoegsel;achternaam;straat;woonplaats;huisnummer;huisnummer_toevoeging;postcode;telefoonnummer;telefoonnummer2;email;email2;iban;iban_tnv")))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement(E.Z,{loading:this.state.uploading,buttonText:"Upload CSV",onClickAction:this.toggleUpload})))),this.state.upload&&a.createElement(v,{toggleShowNew:this.toggleUpload,addAttachment:this.addAttachment}))}}]),h}(a.Component),k=function(e){return a.createElement("div",null,a.createElement(O,null))};const D=function(e){(0,c.Z)(u,e);var t,n,l=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,s.Z)(t);if(n){var r=(0,s.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,i.Z)(this,e)});function u(e){return(0,r.Z)(this,u),l.call(this,e)}return(0,o.Z)(u,[{key:"render",value:function(){return a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-12"},a.createElement(m.Z,null,a.createElement(p.Z,{className:"panel-small"},a.createElement("div",{className:"col-md-4"}),a.createElement("div",{className:"col-md-4"},a.createElement("h4",{className:"text-center text-success margin-small"},a.createElement("strong",null,"Contacten importeren"))),a.createElement("div",{className:"col-md-4"})))))}}]),u}(a.Component),j=function(e){return a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-9"},a.createElement("div",{className:"col-md-12"},a.createElement(D,null)),a.createElement("div",{className:"col-md-12 margin-10-top"},a.createElement(k,null))))}}}]);