(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{1034:function(e,t,a){"use strict";var r=a(947);t.__esModule=!0,t.default=void 0;var n=r(a(948)),o=r(a(967)),i=r(a(968)),s=r(a(145)),l=r(a(0)),c=r(a(2)),u=a(969),d={responsive:c.default.bool,rounded:c.default.bool,circle:c.default.bool,thumbnail:c.default.bool},p=function(e){function t(){return e.apply(this,arguments)||this}return(0,i.default)(t,e),t.prototype.render=function(){var e,t=this.props,a=t.responsive,r=t.rounded,i=t.circle,c=t.thumbnail,d=t.className,p=(0,o.default)(t,["responsive","rounded","circle","thumbnail","className"]),m=(0,u.splitBsProps)(p),g=m[0],f=m[1],h=((e={})[(0,u.prefix)(g,"responsive")]=a,e[(0,u.prefix)(g,"rounded")]=r,e[(0,u.prefix)(g,"circle")]=i,e[(0,u.prefix)(g,"thumbnail")]=c,e);return l.default.createElement("img",(0,n.default)({},f,{className:(0,s.default)(d,h)}))},t}(l.default.Component);p.propTypes=d,p.defaultProps={responsive:!1,rounded:!1,circle:!1,thumbnail:!1};var m=(0,u.bsClass)("img",p);t.default=m,e.exports=t.default},1687:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(14),i=a.n(o),s=a(15),l=a.n(s),c=a(9),u=a.n(c),d=a(16),p=a.n(d),m=a(17),g=a.n(m),f=a(12),h=a.n(f),b=a(5),v=a.n(b),S=a(19),E=a(1034),y=a.n(E),w=a(4),x=a(7),I=a.n(x),C=a(32),N=a.n(C),k=a(38),O=a(36),P=a(165),A=a(27),L=a(30),M=a(306),T=a(317),G=a(130),z=a(58),_=a(286),R=a(234);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){v()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=h()(e);if(t){var n=h()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return g()(this,a)}}I.a.locale("nl");var q=function(e){p()(a,e);var t=j(a);function a(e){var r;return i()(this,a),r=t.call(this,e),v()(u()(r),"callFetchContactGroups",(function(){r.setState({contactGroupsLoading:!0}),z.a.peekContactGroups().then((function(e){r.setState({contactGroupsLoading:!1,contactGroups:e})})).catch((function(e){r.setState({contactGroupsLoading:!1})}))})),v()(u()(r),"closeUploadImage",(function(){r.setState({showModalUploadImage:!1})})),v()(u()(r),"toggleUploadImage",(function(e){r.props.permissions.managePortalSettings&&r.setState({showModalUploadImage:!r.state.showModalUploadImage,imageItemName:e})})),v()(u()(r),"addImage",(function(e,t,a){r.setState(F(F({},r.state),{},{image:e[0],showModalCropImage:!0,useAutoCropper:a}))})),v()(u()(r),"closeShowCrop",(function(){r.setState({showModalCropImage:!1})})),v()(u()(r),"cropImage",(function(e){r.setState(F(F({},r.state),{},{widget:F(F({},r.state.widget),{},{image:e,widgetImageFileName:e.name}),showModalCropImage:!1}))})),v()(u()(r),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;r.setState(F(F({},r.state),{},{widget:F(F({},r.state.widget),{},v()({},n,a))}))})),v()(u()(r),"handleReactSelectChange",(function(e,t){r.setState(F(F({},r.state),{},{widget:F(F({},r.state.widget),{},v()({},t,e))}))})),v()(u()(r),"handleSubmit",(function(e){e.preventDefault();var t=r.state.widget,a={},n={},o=!1;if(N.a.isEmpty(t.title)&&(a.title=!0,n.title="Titel verplicht veld.",o=!0),N.a.isEmpty(t.text)&&(a.text=!0,n.text="Tekst verplicht veld.",o=!0),N.a.isEmpty(t.widgetImageFileName)&&(a.image=!0,n.image="Afbeelding verplicht veld.",o=!0),N.a.isEmpty(t.buttonText)&&(a.buttonText=!0,n.buttonText="Knoptekst verplicht veld.",o=!0),N.a.isEmpty(t.buttonLink)&&(a.buttonLink=!0,n.buttonLink="Knoplink verplicht veld.",o=!0),r.setState(F(F({},r.state),{},{errors:a,errorMessage:n})),!o){var i=new FormData;i.append("portalSettingsDashboardId",t.portalSettingsDashboardId),i.append("title",t.title),i.append("text",t.text),i.append("image",t.image),i.append("buttonText",t.buttonText),i.append("buttonLink",t.buttonLink),i.append("widgetImageFileName",t.widgetImageFileName),i.append("showGroupId",t.showGroupId),i.append("backgroundColor",t.backgroundColor),i.append("textColor",t.textColor),r.setState(F(F({},r.state),{},{errors:a})),G.a.addPortalSettingsDashboardWidget(i).then((function(e){w.f.push("/portal-instellingen-dashboard")})).catch((function(e){console.log(e),alert("Er is iets mis gegaan met opslaan!")}))}})),r.state={widget:{portalSettingsDashboardId:1,title:"",text:"",image:"",widgetImageFileName:"",showGroupId:"",buttonText:"",buttonLink:"",backgroundColor:"",textColor:"",active:!0},contactGroups:{},contactGroupsLoading:!1,image:"",imageItemName:"",showModalUploadImage:!1,showModalCropImage:!1,useAutoCropper:!0,errors:{title:!1,text:!1,image:!1,showGroupId:!1,buttonText:!1,buttonLink:!1,widgetImageFileName:!1,backgroundColor:!1,textColor:!1},errorMessage:{}},r}return l()(a,[{key:"componentDidMount",value:function(){this.callFetchContactGroups()}},{key:"render",value:function(){var e=this,t=this.state,a=t.widget,r=t.errors,o=t.errorMessage,i="".concat(URL_API,"/portal/images/").concat(a.widgetImageFileName,"?").concat(this.props.imageHash),s=this.props.permissions.managePortalSettings,l=void 0===s?{}:s;return n.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},n.a.createElement(A.a,null,n.a.createElement(L.a,null,n.a.createElement("div",{className:"row"},n.a.createElement(O.a,{label:"Titel",divSize:"col-sm-8",name:"title",value:a.title,onChangeAction:this.handleInputChange,readOnly:!l,required:"required",error:r.title,errorMessage:o.title})),n.a.createElement("div",{className:"row"},n.a.createElement(O.a,{label:"Afbeelding (bestandstype PNG of JPG)",divSize:"col-sm-8",name:"widgetImageFileName",value:a.image?a.image.name:a.widgetImageFileName,onClickAction:function(){e.toggleUploadImage("image-widget")},onChangeaction:function(){},readOnly:!l,required:"required",error:this.state.errors.widgetImageFileName}),n.a.createElement(y.a,{src:a.image&&a.image.preview?a.image.preview:i,style:{border:"1px solid #999",display:"inline-block",padding:"1px",borderRadius:"1px",maxHeight:"50px",width:"auto",marginLeft:"20px",marginBottom:"10px",boxShadow:"0 0 0 1px #fff inset"}})),n.a.createElement("div",{className:"row"},n.a.createElement(P.a,{label:"Tekst",size:"col-sm-8",sizeLabel:"col-sm-6",sizeInput:"col-sm-6",name:"text",value:a.text,onChangeAction:this.handleInputChange,readOnly:!l,required:"required",error:r.text,errorMessage:o.text})),n.a.createElement("div",{className:"row"},n.a.createElement(O.a,{label:"Knoptekst",divSize:"col-sm-8",name:"buttonText",value:a.buttonText,onChangeAction:this.handleInputChange,readOnly:!l,required:"required",error:r.buttonText,errorMessage:o.buttonText})),n.a.createElement("div",{className:"row"},n.a.createElement(O.a,{label:"Knoplink",divSize:"col-sm-8",name:"buttonLink",value:a.buttonLink,onChangeAction:this.handleInputChange,readOnly:!l,required:"required",error:r.buttonLink,errorMessage:o.buttonLink})),n.a.createElement("div",{className:"row"},n.a.createElement(_.a,{label:"Zichtbaar voor groep",divSize:"col-sm-8",name:"showGroupId",options:this.state.contactGroups,value:a.showGroupId,onChangeAction:this.handleReactSelectChange,isLoading:this.state.contactGroupsLoading})),n.a.createElement("div",{className:"row"},n.a.createElement(R.a,{label:"Widget achtergrond kleur",divSize:"col-sm-8",name:"backgroundColor",value:a.backgroundColor,onChangeAction:this.handleInputChange,readOnly:!l,required:"required",error:this.state.errors.backgroundColor}),n.a.createElement("span",{className:"rc-color-picker-trigger",unselectable:"unselectable",style:{backgroundColor:a.backgroundColor,color:a.textColor,border:"1px solid #999",display:"inline-block",padding:"2px",borderRadius:"2px",width:"150px",height:"30px",boxShadow:"0 0 0 2px #fff inset"}},"Widget tekst")),n.a.createElement("div",{className:"row"},n.a.createElement(R.a,{label:"Widget tekst kleur",divSize:"col-sm-8",name:"textColor",value:a.textColor,onChangeAction:this.handleInputChange,readOnly:!l,required:"required",error:this.state.errors.textColor})),this.state.showModalUploadImage&&n.a.createElement(T.a,{closeUploadImage:this.closeUploadImage,addImage:this.addImage,imageItemName:this.state.imageItemName,acceptedFiles:["image/png","image/jpeg"],acceptedExtenties:"PNG of JPG"}),this.state.showModalCropImage&&n.a.createElement(M.a,{closeShowCrop:this.closeShowCrop,useAutoCropper:this.state.useAutoCropper,image:this.state.image,imageItemName:this.state.imageItemName,cropImage:this.cropImage})),n.a.createElement(L.a,null,n.a.createElement("div",{className:"pull-right btn-group",role:"group"},n.a.createElement(k.a,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}]),a}(r.Component),U=Object(S.b)((function(e){return{permissions:e.meDetails.permissions}}),null)(q),Z=a(50),B=function(){return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-4"},n.a.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},n.a.createElement(Z.a,{iconName:"glyphicon-arrow-left",onClickAction:w.e.goBack}))),n.a.createElement("div",{className:"col-md-4"},n.a.createElement("h4",{className:"text-center margin-small"},"Nieuw dashboard widget")),n.a.createElement("div",{className:"col-md-4"}))};t.default=function(){return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-9"},n.a.createElement("div",{className:"col-md-12 margin-10-top"},n.a.createElement(A.a,null,n.a.createElement(L.a,{className:"panel-small"},n.a.createElement(B,null)))),n.a.createElement("div",{className:"col-md-12 margin-10-top"},n.a.createElement(U,null))),n.a.createElement("div",{className:"col-md-3"}))}},947:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},948:function(e,t,a){var r=a(307);function n(){return e.exports=n=r||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n.apply(this,arguments)}e.exports=n},967:function(e,t,a){var r=a(308);e.exports=function(e,t){if(null==e)return{};var a,n,o={},i=r(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}},968:function(e,t,a){var r=a(309);e.exports=function(e,t){e.prototype=r(t.prototype),e.prototype.constructor=e,e.__proto__=t}},969:function(e,t,a){"use strict";var r=a(947);t.__esModule=!0,t.prefix=c,t.getClassSet=function(e){var t,a=((t={})[c(e)]=!0,t);if(e.bsSize){var r=s.SIZE_MAP[e.bsSize]||e.bsSize;a[c(e,r)]=!0}e.bsStyle&&(a[c(e,e.bsStyle)]=!0);return a},t.splitBsProps=function(e){var t={};return(0,n.default)(e).forEach((function(e){var a=e[0],r=e[1];g(a)||(t[a]=r)})),[m(e),t]},t.splitBsPropsAndOmit=function(e,t){var a={};t.forEach((function(e){a[e]=!0}));var r={};return(0,n.default)(e).forEach((function(e){var t=e[0],n=e[1];g(t)||a[t]||(r[t]=n)})),[m(e),r]},t.addStyle=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];d(a,e)},t._curry=t.bsSizes=t.bsStyles=t.bsClass=void 0;var n=r(a(233)),o=r(a(948)),i=(r(a(29)),r(a(2))),s=a(983);function l(e){return function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];var n=a[a.length-1];return"function"==typeof n?e.apply(void 0,a):function(t){return e.apply(void 0,a.concat([t]))}}}function c(e,t){var a=(e.bsClass||"").trim();return null==a&&invariant(!1),a+(t?"-"+t:"")}var u=l((function(e,t){var a=t.propTypes||(t.propTypes={}),r=t.defaultProps||(t.defaultProps={});return a.bsClass=i.default.string,r.bsClass=e,t}));t.bsClass=u;var d=l((function(e,t,a){"string"!=typeof t&&(a=t,t=void 0);var r=a.STYLES||[],n=a.propTypes||{};e.forEach((function(e){-1===r.indexOf(e)&&r.push(e)}));var s=i.default.oneOf(r);(a.STYLES=r,s._values=r,a.propTypes=(0,o.default)({},n,{bsStyle:s}),void 0!==t)&&((a.defaultProps||(a.defaultProps={})).bsStyle=t);return a}));t.bsStyles=d;var p=l((function(e,t,a){"string"!=typeof t&&(a=t,t=void 0);var r=a.SIZES||[],n=a.propTypes||{};e.forEach((function(e){-1===r.indexOf(e)&&r.push(e)}));var l=[];r.forEach((function(e){var t=s.SIZE_MAP[e];t&&t!==e&&l.push(t),l.push(e)}));var c=i.default.oneOf(l);return c._values=l,a.SIZES=r,a.propTypes=(0,o.default)({},n,{bsSize:c}),void 0!==t&&(a.defaultProps||(a.defaultProps={}),a.defaultProps.bsSize=t),a}));function m(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function g(e){return"bsClass"===e||"bsSize"===e||"bsStyle"===e||"bsRole"===e}t.bsSizes=p;var f=l;t._curry=f},983:function(e,t,a){"use strict";t.__esModule=!0,t.Style=t.State=t.DEVICE_SIZES=t.SIZE_MAP=t.Size=void 0;t.Size={LARGE:"large",SMALL:"small",XSMALL:"xsmall"};t.SIZE_MAP={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"};t.DEVICE_SIZES=["lg","md","sm","xs"];t.State={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"};t.Style={DEFAULT:"default",PRIMARY:"primary",LINK:"link",INVERSE:"inverse"}}}]);