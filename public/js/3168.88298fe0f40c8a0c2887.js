"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[3168],{3168:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var r=a(96540),l=(a(52675),a(2008),a(51629),a(67945),a(84185),a(83851),a(81278),a(79432),a(60825),a(23500),a(23029)),n=a(92901),s=a(50388),i=a(53954),o=a(85501),m=a(64467),d=a(58168),c=(a(50113),a(94170),a(62010),a(26099),a(27495),a(71761),a(47767)),u=a(57761),f=a.n(u),h=a(54814),b=a(55956),p=a(55849),g=a(62493),v=a(77465),E=a(23932),F=a(72505),N=a.n(F),A=a(31714),y=a(96643),I=a(30483),C=a(35692),k=a(95093),M=a.n(k);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach(function(t){(0,m.A)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(x=function(){return!!e})()}var D=function(e){function t(e){var a,r,n,o;return(0,l.A)(this,t),r=this,n=t,o=[e],n=(0,i.A)(n),a=(0,s.A)(r,x()?Reflect.construct(n,o||[],(0,i.A)(r).constructor):n.apply(r,o)),(0,m.A)(a,"handleInputChange",function(e){var t=e.target,r="checkbox"===t.type?t.checked:t.value,l=t.name;a.setState(w(w({},a.state),{},{freeField:w(w({},a.state.freeField),{},(0,m.A)({},l,r))}))}),(0,m.A)(a,"handleInputChangeDate",function(e,t){var r=e?M()(e).format("Y-MM-DD"):"";a.setState(w(w({},a.state),{},{freeField:w(w({},a.state.freeField),{},(0,m.A)({},t,r))}))}),(0,m.A)(a,"handleInputChangeDatetimeDate",function(e,t){var r=e||"",l="08:00";a.state.freeField.defaultValue&&(l=M()(a.state.freeField.defaultValue).format("HH:mm"));var n="";f().isEmpty(r)||(n=M()(r+" "+l+":00").format("YYYY-MM-DD HH:mm:ss")),a.setState(w(w({},a.state),{},{freeField:w(w({},a.state.freeField),{},(0,m.A)({},t,n))}))}),(0,m.A)(a,"handleInputChangeDatetimeTime",function(e,t){var r="",l=e||"08:00";a.state.freeField.defaultValue&&(r=M()(a.state.freeField.defaultValue).format("Y-MM-DD"));var n="";f().isEmpty(r)||(n=M()(r+" "+l+":00").format("YYYY-MM-DD HH:mm:ss")),a.setState(w(w({},a.state),{},{freeField:w(w({},a.state.freeField),{},(0,m.A)({},t,n))}))}),(0,m.A)(a,"handleSubmit",function(e){e.preventDefault();var t=a.state.freeField,r={},l={},n=!1,s=(0,y.m)({fieldFormatType:"defaultValue",defaultValue:a.state.freeField.defaultValue,mandatory:a.state.freeField.mandatory,mask:a.state.freeField.mask});s&&(l.defaultValue=s,r.defaultValue=!0,n=!0),f().isEmpty(t.tableId+"")&&(r.tableId=!0,l.tableId="verplicht",n=!0),f().isEmpty(t.fieldFormatId+"")&&(r.fieldFormatId=!0,l.fieldFormatId="verplicht",n=!0),f().isEmpty(t.fieldName)&&(r.fieldName=!0,l.fieldName="verplicht",n=!0),null==t.fieldNameWebform||f().isEmpty(t.fieldNameWebform)||t.fieldNameWebform.match(/^[a-z0-9_]+$/)||(r.fieldNameWebform=!0,l.fieldNameWebform="Waarde ongeldig",n=!0),t.mandatory&&f().isEmpty(""+t.defaultValue)&&(r.defaultValue=!0,l.defaultValue="verplicht",n=!0),f().isEmpty(t.sortOrder+"")&&(r.sortOrder=!0,l.sortOrder="verplicht",n=!0),a.setState(w(w({},a.state),{},{errors:r,errorsMessage:l})),n||E.A.newFreeFieldsField(t).then(function(e){a.props.navigate("/vrije-velden/".concat(e.data.id))}).catch(function(e){console.log(e),alert("Er is iets mis gegaan met opslaan!")})}),a.state={freeField:{tableId:"",fieldFormatId:"",fieldName:"",fieldNameWebform:"",visiblePortal:!1,changePortal:!1,mandatory:!1,defaultValue:"",exportable:!1,sortOrder:"",mask:""},freeFieldsTables:[],freeFieldsFieldFormats:[],errors:{tableId:!1,fieldFormatId:!1,fieldName:!1,fieldNameWebform:!1,visiblePortal:!1,changePortal:!1,mandatory:!1,defaultValue:!1,exportable:!1,sortOrder:!1,mask:!1},errorsMessage:{tableId:"",fieldFormatId:"",fieldName:"",fieldNameWebform:"",visiblePortal:"",changePortal:"",mandatory:"",defaultValue:"",exportable:"",sortOrder:"",mask:""}},a.handleReactSelectChange=a.handleReactSelectChange.bind(a),a}return(0,o.A)(t,e),(0,n.A)(t,[{key:"componentDidMount",value:function(){var e=this;N().all([E.A.peekFreeFieldsTables(),E.A.peekFreeFieldsFieldFormats()]).then(N().spread(function(t,a){e.setState({freeFieldsTables:t.data.data,freeFieldsFieldFormats:a.data.data})}))}},{key:"handleReactSelectChange",value:function(e,t){this.setState(w(w({},this.state),{},{freeField:w(w({},this.state.freeField),{},(0,m.A)({},t,e))}))}},{key:"getTablePrefixFieldNameWebform",value:function(e){var t=null;if(e){var a=this.state.freeFieldsTables.find(function(t){return t.id==e});t=a?a.prefixFieldNameWebform:null}return t}},{key:"render",value:function(){var e=this.state.freeField,t=e.tableId,a=e.fieldFormatId,l=e.fieldName,n=e.fieldNameWebform,s=e.visiblePortal,i=e.changePortal,o=e.mandatory,m=e.defaultValue,d=e.exportable,c=e.sortOrder,u=e.mask,f=this.getTablePrefixFieldNameWebform(t),E=this.state.freeFieldsFieldFormats.find(function(e){return e.id==a}),F=E?E.formatType:null;return r.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},r.createElement(g.A,null,r.createElement(p.A,null,r.createElement("div",{className:"row"},r.createElement(A.A,{label:"Op onderdeel",id:"tableId",name:"tableId",options:this.state.freeFieldsTables,value:t,onChangeAction:this.handleReactSelectChange,required:"required",error:this.state.errors.tableId,errorMessage:this.state.errorsMessage.tableId}),r.createElement(A.A,{label:"Type",id:"fieldFormatId",name:"fieldFormatId",options:this.state.freeFieldsFieldFormats,value:a,onChangeAction:this.handleReactSelectChange,required:"required",error:this.state.errors.fieldFormatId,errorMessage:this.state.errorsMessage.fieldFormatId})),r.createElement("div",{className:"row"},r.createElement(h.A,{label:"Veldnaam",name:"fieldName",value:l,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.fieldName,errorMessage:this.state.errorsMessage.fieldName}),r.createElement(v.A,{label:"Verplicht",name:"mandatory",value:o,onChangeAction:this.handleInputChange,error:this.state.errors.mandatory,errorMessage:this.state.errorsMessage.mandatory})),r.createElement("div",{className:"row"},r.createElement(v.A,{label:"Zichtbaar in portaal",name:"visiblePortal",value:s,onChangeAction:this.handleInputChange,error:this.state.errors.visiblePortal,errorMessage:this.state.errorsMessage.visiblePortal}),r.createElement(v.A,{label:"Aan te passen in portaal",name:"changePortal",value:i,onChangeAction:this.handleInputChange,error:this.state.errors.changePortal,errorMessage:this.state.errorsMessage.changePortal})),r.createElement("div",{className:"row"},r.createElement("div",{className:"form-group col-sm-6"},"Â "),r.createElement(v.A,{label:"Exporteerbaar",name:"exportable",value:d,onChangeAction:this.handleInputChange,error:this.state.errors.exportable,errorMessage:this.state.errorsMessage.exportable})),r.createElement("div",{className:"row"},F&&r.createElement(C.A,{fieldFormatType:F,defaultValue:m,mandatory:o,errors:this.state.errors,errorsMessage:this.state.errorsMessage,handleInputChange:this.handleInputChange,handleInputChangeDate:this.handleInputChangeDate,handleInputChangeDatetimeDate:this.handleInputChangeDatetimeDate,handleInputChangeDatetimeTime:this.handleInputChangeDatetimeTime})),r.createElement("div",{className:"row"},r.createElement(h.A,{label:"Volgorde",name:"sortOrder",value:c,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.sortOrder,errorMessage:this.state.errorsMessage.sortOrder,type:"number"})),null!=f?r.createElement("div",{className:"row"},r.createElement(I.A,{className:"form-group col-sm-6 ",label:"Veldnaam webformulier",value:n?f+n:""}),r.createElement(h.A,{label:"Wijzig veldnaam webformulier",name:"fieldNameWebform",value:n,size:"col-sm-5",onChangeAction:this.handleInputChange,error:this.state.errors.fieldNameWebform,errorMessage:this.state.errorsMessage.fieldNameWebform,textToolTip:"Te gebruiken veldnaam voor webformulier in snake_case notatie. Alleen kleine letters, cijfers en liggend streepje (undescore) toegestaan.Veldnamen voor webformulieren hebben altijd een vaste prefix, afhankelijk van onderdeel."})):null,r.createElement("hr",null),r.createElement("div",{className:"row"},r.createElement(h.A,{label:"Masker",name:"mask",value:u,onChangeAction:this.handleInputChange,error:this.state.errors.mask,errorMessage:this.state.errorsMessage.mask}),r.createElement("div",{className:"form-group col-sm-3 "},r.createElement("div",{className:"col-sm-12"},"Legenda:",r.createElement("br",null),"9 = nummer",r.createElement("br",null),"a = letter",r.createElement("br",null),"x = nummer / letter",r.createElement("br",null),"Alle andere karakters zullen letterlijk moeten worden gebruikt")),r.createElement("div",{className:"form-group col-sm-3"},r.createElement("div",{className:"col-sm-6"},"Voorbeelden:",r.createElement("br",null),"999-999",r.createElement("br",null),"9a9/999a",r.createElement("br",null),"999-99-9999",r.createElement("br",null),"xx.xx.xxxx.xx"),r.createElement("div",{className:"col-sm-6"},r.createElement("br",null),"123-760",r.createElement("br",null),"3q2/887w",r.createElement("br",null),"987-65-4329",r.createElement("br",null),"12.qq.12aw.3r")))),r.createElement(p.A,null,r.createElement("div",{className:"pull-right btn-group",role:"group"},r.createElement(b.A,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}])}(r.Component);const P=function(e){var t=(0,c.Zp)();return r.createElement(D,(0,d.A)({},e,{navigate:t}))};var V=a(91858);const j=function(){var e=(0,c.Zp)();return r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-4"},r.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},r.createElement(V.A,{iconName:"arrowLeft",onClickAction:function(){return e(-1)}}))),r.createElement("div",{className:"col-md-4"},r.createElement("h4",{className:"text-center margin-small"},"Nieuw vrij veld")),r.createElement("div",{className:"col-md-4"}))},S=function(){return r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-9"},r.createElement("div",{className:"col-md-12 margin-10-top"},r.createElement(g.A,null,r.createElement(p.A,{className:"panel-small"},r.createElement(j,null)))),r.createElement("div",{className:"col-md-12 margin-10-top"},r.createElement(P,null))),r.createElement("div",{className:"col-md-3"}))}}}]);