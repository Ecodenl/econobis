"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[3168],{23932:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(61941);const l={fetchFreeFieldsFields:function(e,t,r){var l="".concat(URL_API,"/api/free-fields-field/grid");return a.A.get(l,{params:{filters:JSON.stringify(e),sorts:JSON.stringify(t),limit:r.limit,offset:r.offset}})},deleteFreeFieldsField:function(e){var t="".concat(URL_API,"/api/free-fields-field/").concat(e,"/delete");return a.A.post(t)},newFreeFieldsField:function(e){var t="".concat(URL_API,"/api/free-fields-field");return a.A.post(t,e).then((function(e){return e.data})).catch((function(e){console.log(e)}))},fetchFreeFieldDetails:function(e){var t="".concat(URL_API,"/api/free-fields-field/").concat(e);return a.A.get(t).then((function(e){return e.data.data}))},updateFreeFieldsField:function(e){return a.A.post("".concat(URL_API,"/api/free-fields-field/").concat(e.id,"/update"),e)},fetchFilterFreeFieldsFieldsContact:function(){var e="".concat(URL_API,"/api/free-fields-field/get-for-filter/contacts");return a.A.get(e)},fetchFilterFreeFieldsFieldsAddress:function(){var e="".concat(URL_API,"/api/free-fields-field/get-for-filter/addresses");return a.A.get(e)},peekFreeFieldsTables:function(){var e="".concat(URL_API,"/api/free-fields-field/free-fields-tables/peek");return a.A.get(e)},peekFreeFieldsFieldFormats:function(){var e="".concat(URL_API,"/api/free-fields-field/free-fields-field-formats/peek");return a.A.get(e)},fetchFreeFieldsFieldRecords:function(e,t){var r="".concat(URL_API,"/api/free-fields-field-records/get-values");return a.A.get(r,{params:{table:e,recordId:t}}).then((function(e){return e.data}))},updateFreeFieldsFieldRecords:function(e,t){var r="".concat(URL_API,"/api/free-fields-field-records/update-values");return a.A.post(r,{data:{records:e,recordId:t}})}}},3168:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var a=r(96540),l=r(23029),n=r(92901),s=r(56822),i=r(53954),o=r(85501),c=r(64467),d=r(24179),u=r(57761),m=r.n(u),f=r(54814),h=r(55956),p=r(55849),b=r(62493),g=r(77465),v=r(23932),F=r(72505),A=r.n(F),E=r(31714),y=r(96643);function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,c.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return t=(0,i.A)(t),(0,s.A)(e,P()?Reflect.construct(t,r||[],(0,i.A)(e).constructor):t.apply(e,r))}function P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(P=function(){return!!e})()}const O=function(e){function t(e){var r;return(0,l.A)(this,t),r=N(this,t,[e]),(0,c.A)(r,"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,l=t.name;r.setState(k(k({},r.state),{},{freeField:k(k({},r.state.freeField),{},(0,c.A)({},l,a))}))})),(0,c.A)(r,"handleSubmit",(function(e){e.preventDefault();var t=r.state.freeField,a={},l={},n=!1,s=(0,y.m)({fieldFormatType:"defaultValue",defaultValue:r.state.freeField.defaultValue,mandatory:r.state.freeField.mandatory,mask:r.state.freeField.mask});s&&(l.defaultValue=s,a.defaultValue=!0,n=!0),m().isEmpty(t.tableId+"")&&(a.tableId=!0,l.tableId="verplicht",n=!0),m().isEmpty(t.fieldFormatId+"")&&(a.fieldFormatId=!0,l.fieldFormatId="verplicht",n=!0),m().isEmpty(t.fieldName)&&(a.fieldName=!0,l.fieldName="verplicht",n=!0),t.mandatory&&m().isEmpty(t.defaultValue)&&(a.defaultValue=!0,l.defaultValue="verplicht",n=!0),m().isEmpty(t.sortOrder+"")&&(a.sortOrder=!0,l.sortOrder="verplicht",n=!0),r.setState(k(k({},r.state),{},{errors:a,errorsMessage:l})),!n&&v.A.newFreeFieldsField(t).then((function(e){d.RL.push("/vrije-velden/".concat(e.data.id))})).catch((function(e){console.log(e),alert("Er is iets mis gegaan met opslaan!")}))})),r.state={freeField:{tableId:"",fieldFormatId:"",fieldName:"",visiblePortal:!1,changePortal:!1,mandatory:!1,defaultValue:"",exportable:!1,sortOrder:"",mask:""},freeFieldsTables:[],freeFieldsFieldFormats:[],errors:{tableId:!1,fieldFormatId:!1,fieldName:!1,visiblePortal:!1,changePortal:!1,mandatory:!1,defaultValue:!1,exportable:!1,sortOrder:!1,mask:!1},errorsMessage:{tableId:!1,fieldFormatId:!1,fieldName:!1,visiblePortal:!1,changePortal:!1,mandatory:!1,defaultValue:!1,exportable:!1,sortOrder:!1,mask:!1}},r.handleReactSelectChange=r.handleReactSelectChange.bind(r),r}return(0,o.A)(t,e),(0,n.A)(t,[{key:"componentDidMount",value:function(){var e=this;A().all([v.A.peekFreeFieldsTables(),v.A.peekFreeFieldsFieldFormats()]).then(A().spread((function(t,r){e.setState({freeFieldsTables:t.data.data,freeFieldsFieldFormats:r.data.data})})))}},{key:"handleReactSelectChange",value:function(e,t){this.setState(k(k({},this.state),{},{freeField:k(k({},this.state.freeField),{},(0,c.A)({},t,e))}))}},{key:"render",value:function(){var e=this.state.freeField,t=e.tableId,r=e.fieldFormatId,l=e.fieldName,n=e.visiblePortal,s=e.changePortal,i=e.mandatory,o=e.defaultValue,c=e.exportable,d=e.sortOrder,u=e.mask;return a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},a.createElement(b.A,null,a.createElement(p.A,null,a.createElement("div",{className:"row"},a.createElement(E.A,{label:"Op onderdeel",id:"tableId",name:"tableId",options:this.state.freeFieldsTables,value:t,onChangeAction:this.handleReactSelectChange,required:"required",error:this.state.errors.tableId,errorMessage:this.state.errorsMessage.tableId}),a.createElement(E.A,{label:"Type",id:"fieldFormatId",name:"fieldFormatId",options:this.state.freeFieldsFieldFormats,value:r,onChangeAction:this.handleReactSelectChange,required:"required",error:this.state.errors.fieldFormatId,errorMessage:this.state.errorsMessage.fieldFormatId})),a.createElement("div",{className:"row"},a.createElement(f.A,{label:"Veld naam",name:"fieldName",value:l,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.fieldName,errorMessage:this.state.errorsMessage.fieldName}),a.createElement(g.A,{label:"Verplicht",name:"mandatory",value:i,onChangeAction:this.handleInputChange,error:this.state.errors.mandatory,errorMessage:this.state.errorsMessage.mandatory})),a.createElement("div",{className:"row"},a.createElement(g.A,{label:"Zichtbaar in portaal",name:"visiblePortal",value:n,onChangeAction:this.handleInputChange,error:this.state.errors.visiblePortal,errorMessage:this.state.errorsMessage.visiblePortal}),a.createElement(g.A,{label:"Aan te passen in portaal",name:"changePortal",value:s,onChangeAction:this.handleInputChange,error:this.state.errors.changePortal,errorMessage:this.state.errorsMessage.changePortal})),a.createElement("div",{className:"row"},a.createElement(f.A,{label:"Standaard waarde",name:"defaultValue",value:o,onChangeAction:this.handleInputChange,required:i?"required":"",error:this.state.errors.defaultValue,errorMessage:this.state.errorsMessage.defaultValue}),a.createElement(g.A,{label:"Exporteerbaar",name:"exportable",value:c,onChangeAction:this.handleInputChange,error:this.state.errors.exportable,errorMessage:this.state.errorsMessage.exportable})),a.createElement("div",{className:"row"},a.createElement(f.A,{label:"Volgorde",name:"sortOrder",value:d,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.sortOrder,errorMessage:this.state.errorsMessage.sortOrder,type:"number"})),a.createElement("hr",null),a.createElement("div",{className:"row"},a.createElement(f.A,{label:"Masker",name:"mask",value:u,onChangeAction:this.handleInputChange,error:this.state.errors.mask,errorMessage:this.state.errorsMessage.mask}),a.createElement("div",{className:"form-group col-sm-3 "},a.createElement("div",{className:"col-sm-12"},"Legenda:",a.createElement("br",null),"9 = nummer",a.createElement("br",null),"a = letter",a.createElement("br",null),"x = nummer / letter",a.createElement("br",null),"Alle andere karakters zullen letterlijk moeten worden gebruikt")),a.createElement("div",{className:"form-group col-sm-3"},a.createElement("div",{className:"col-sm-6"},"Voorbeelden:",a.createElement("br",null),"999-999",a.createElement("br",null),"9a9/999a",a.createElement("br",null),"999-99-9999",a.createElement("br",null),"xx.xx.xxxx.xx"),a.createElement("div",{className:"col-sm-6"},a.createElement("br",null),"123-760",a.createElement("br",null),"3q2/887w",a.createElement("br",null),"987-65-4329",a.createElement("br",null),"12.qq.12aw.3r")))),a.createElement(p.A,null,a.createElement("div",{className:"pull-right btn-group",role:"group"},a.createElement(h.A,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}])}(a.Component);var C=r(91858);const x=function(){return a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},a.createElement(C.A,{iconName:"arrowLeft",onClickAction:d.Nc.goBack}))),a.createElement("div",{className:"col-md-4"},a.createElement("h4",{className:"text-center margin-small"},"Nieuw vrij veld")),a.createElement("div",{className:"col-md-4"}))},w=function(){return a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-9"},a.createElement("div",{className:"col-md-12 margin-10-top"},a.createElement(b.A,null,a.createElement(p.A,{className:"panel-small"},a.createElement(x,null)))),a.createElement("div",{className:"col-md-12 margin-10-top"},a.createElement(O,null))),a.createElement("div",{className:"col-md-3"}))}},96643:(e,t,r)=>{r.d(t,{m:()=>n});var a=r(57761),l=r.n(a);function n(e){var t=null;switch(e.fieldFormatType){case"defaultValue":t=e.defaultValue;break;case"boolean":t=e.fieldRecordValueBoolean;break;case"text_short":case"text_long":t=e.fieldRecordValueText;break;case"int":t=e.fieldRecordValueInt;break;case"double_2_dec":case"amount_euro":t=e.fieldRecordValueDouble;break;case"date":case"datetime":t=e.fieldRecordValueDatetime}return 1!=e.mandatory||null!=t&&!l().isEmpty(t+"")?!function(e,t){if(null!=e&&!l().isEmpty(""+e)&&null!=t&&!l().isEmpty(""+t)){var r=t.split(""),a=e.split(""),n=0;if(!t.includes("?")&&t.length!=e.length)return!1;for(n in r)switch(r[n]){case"9":if(!a[n]||!a[n].match(/^[0-9]$/))return!1;break;case"a":if(!a[n]||!a[n].match(/^[a-zA-Z]$/))return!1;break;case"x":if(!a[n]||!a[n].match(/^[a-zA-Z0-9]$/))return!1;break;default:if(a[n]!=r[n])return!1}}return!0}(t,e.mask,e.mandatory)&&"voldoet niet aan het masker: "+e.mask:"verplicht"}}}]);