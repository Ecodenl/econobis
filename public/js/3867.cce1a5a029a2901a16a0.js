"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[3867],{9152:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(96540),l=n(5556),a=n.n(l),i=n(87722),o=n(71866),s=n(34527),c=void 0,d=function(e){var t=e.RowClassName,n=e.setSorts,l=e.sortColumn,a=e.title,d=e.width;return r.createElement("th",{className:t,width:d},a,r.createElement(i.Ay,{className:"pull-right small",size:14,icon:s.m,role:"button",onClick:n.bind(c,l,"ASC")}),r.createElement(i.Ay,{className:"pull-right small",size:14,icon:o.b,role:"button",onClick:n.bind(c,l,"DESC")}))};d.defaultProps={RowClassName:""},d.propTypes={setSorts:a().func.isRequired,sortColumn:a().string.isRequired,title:a().string.isRequired,width:a().string.isRequired,RowClassName:a().string};const u=d},23932:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(61941),l=n(61643);const a={fetchFreeFieldsFields:function(e,t,n){var a="".concat((0,l.e)(),"/api/free-fields-field/grid");return(0,r.A)().get(a,{params:{filters:JSON.stringify(e),sorts:JSON.stringify(t),limit:n.limit,offset:n.offset}})},deleteFreeFieldsField:function(e){var t="".concat((0,l.e)(),"/api/free-fields-field/").concat(e,"/delete");return(0,r.A)().post(t)},newFreeFieldsField:function(e){var t="".concat((0,l.e)(),"/api/free-fields-field");return(0,r.A)().post(t,e).then((function(e){return e.data})).catch((function(e){console.log(e)}))},fetchFreeFieldDetails:function(e){var t="".concat((0,l.e)(),"/api/free-fields-field/").concat(e);return(0,r.A)().get(t).then((function(e){return e.data.data}))},updateFreeFieldsField:function(e){return(0,r.A)().post("".concat((0,l.e)(),"/api/free-fields-field/").concat(e.id,"/update"),e)},fetchFilterFreeFieldsFieldsContact:function(){var e="".concat((0,l.e)(),"/api/free-fields-field/get-for-filter/contacts");return(0,r.A)().get(e)},fetchFilterFreeFieldsFieldsAddress:function(){var e="".concat((0,l.e)(),"/api/free-fields-field/get-for-filter/addresses");return(0,r.A)().get(e)},peekFreeFieldsTables:function(){var e="".concat((0,l.e)(),"/api/free-fields-field/free-fields-tables/peek");return(0,r.A)().get(e)},peekFreeFieldsFieldFormats:function(){var e="".concat((0,l.e)(),"/api/free-fields-field/free-fields-field-formats/peek");return(0,r.A)().get(e)},fetchFreeFieldsFieldRecords:function(e,t){var n="".concat((0,l.e)(),"/api/free-fields-field-records/get-values");return(0,r.A)().get(n,{params:{table:e,recordId:t}}).then((function(e){return e.data}))},updateFreeFieldsFieldRecords:function(e,t){var n="".concat((0,l.e)(),"/api/free-fields-field-records/update-values");return(0,r.A)().post(n,{data:{records:e,recordId:t}})}}},25562:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(5544),l=n(96540);const a=function(e){var t=(0,l.useState)(!1),n=(0,r.A)(t,2),a=n[0],i=n[1];function o(t){t.key===e&&i(!0)}function s(t){t.key===e&&i(!1)}return(0,l.useEffect)((function(){return window.addEventListener("keydown",o),window.addEventListener("keyup",s),function(){window.removeEventListener("keydown",o),window.removeEventListener("keyup",s)}}),[]),a}},29008:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(96540),l=n(63750);const a=function(e){var t=e.deleteFreeFieldsField,n=e.closeDeleteItemModal,a=e.description,i=e.id;return r.createElement(l.A,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:n,confirmAction:function(){return t(i),void n()},title:"Verwijderen"},"Verwijder vrije veld: ",r.createElement("strong",null,a),"?")}},33867:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var r=n(60436),l=n(64467),a=n(5544),i=n(96540),o=n(62493),s=n(55849),c=n(58168),d=n(69733),u=n(47767),m=n(87722),f=n(88505),p=n(87696);const F=(0,d.Ng)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.id,n=e.tableName,r=e.fieldName,l=e.fieldFormatName,o=e.showDeleteItemModal,s=e.permissions,c=e.sortOrder,d=e.hasFreeFieldsFieldRecords,F=(0,u.Zp)(),h=(0,i.useState)(!1),v=(0,a.A)(h,2),g=v[0],E=v[1],A=(0,i.useState)(""),b=(0,a.A)(A,2),N=b[0],w=b[1];function C(e){F("/vrije-velden/".concat(e))}return i.createElement("tr",{className:"".concat(N),onMouseEnter:function(){return E(!0),void w("highlight-row")},onMouseLeave:function(){return E(!1),void w("")},onDoubleClick:function(){return C(t)}},i.createElement("td",null,n),i.createElement("td",null,r),i.createElement("td",null,l),i.createElement("td",null,c),i.createElement("td",null,g&&s.manageFreeFields?i.createElement("a",{role:"button",onClick:function(){return C(t)}},i.createElement(m.Ay,{className:"mybtn-success",size:14,icon:f.w})):"",g&&s.manageFreeFields&&!d?i.createElement("a",{role:"button",onClick:function(){return o(t,r)}},i.createElement(m.Ay,{className:"mybtn-danger",size:14,icon:p.d})):""))}));var h=n(74850),v=n(42285),g=n(45403),E=n(93913),A=n(9152);const b=function(e){return i.createElement("tr",{className:"thead-title"},i.createElement(A.A,{sortColumn:"tableName",title:"Op onderdeel",width:"20%",setSorts:e.handleChangeSort}),i.createElement(A.A,{sortColumn:"fieldName",title:"Vrije velden",width:"45%",setSorts:e.handleChangeSort}),i.createElement(A.A,{sortColumn:"fieldFormatName",title:"Type",width:"20%",setSorts:e.handleChangeSort}),i.createElement(A.A,{sortColumn:"sortOrder",title:"Volgorde",width:"10%",setSorts:e.handleChangeSort}),i.createElement("th",{width:"5%"}))};var N=n(23932);const w=function(e){var t=e.filter,n=e.handleChangeFilter,r=e.freeFieldsTables,l=e.freeFieldsFieldFormats;return i.createElement(i.Fragment,null,i.createElement("tr",{className:"thead-filter"},i.createElement("th",null,i.createElement("select",{className:"form-control input-sm",value:t.tableName,onChange:function(e){return n("tableName",e.target.value)}},i.createElement("option",null),r.map((function(e){return i.createElement("option",{key:e.id,value:e.name},e.name)})))),i.createElement("th",null,i.createElement("input",{type:"text",className:"form-control input-sm",value:t.fieldName,onChange:function(e){return n("fieldName",e.target.value)}})),i.createElement("th",null,i.createElement("select",{className:"form-control input-sm",value:t.formatName,onChange:function(e){return n("fieldFormatName",e.target.value)}},i.createElement("option",null),l.map((function(e){return i.createElement("option",{key:e.id,value:e.name},e.name)})))),i.createElement("th",null),i.createElement("th",null)))};var C=n(29008);const y=function(e){var t=e.freeFieldsFields,n=e.freeFieldsTotal,r=e.recordsPerPage,l=e.isLoading,o=e.filter,s=e.handlePageClick,d=e.handleChangeSort,u=e.handleChangeFilter,m=e.handleKeyUp,f=e.deleteFreeFieldsField,p=e.freeFieldsTables,A=e.freeFieldsFieldFormats,N=(0,i.useState)(!1),y=(0,a.A)(N,2),S=y[0],k=y[1],O=(0,i.useState)({id:"",description:""}),j=(0,a.A)(O,2),q=j[0],P=j[1];function D(e,t){k(!0),P({id:e,description:t})}return i.createElement("div",null,i.createElement("form",{onKeyUp:m,className:"margin-10-top"},i.createElement(v.A,null,i.createElement(g.A,null,i.createElement(b,{handleChangeSort:d}),i.createElement(w,{filter:o,handleChangeFilter:u,freeFieldsTables:p,freeFieldsFieldFormats:A})),i.createElement(E.A,null,l?i.createElement("tr",null,i.createElement("td",{colSpan:4},"Bezig met gegevens laden")):t.length>0?t.map((function(e){return i.createElement(F,(0,c.A)({key:e.id},e,{showDeleteItemModal:D}))})):i.createElement("tr",null,i.createElement("td",{colSpan:4},"Geen resultaten!")))),i.createElement("div",{className:"col-md-6 col-md-offset-3"},i.createElement(h.A,{onPageChangeAction:s,totalRecords:n,initialPage:0,recordsPerPage:r}))),S&&i.createElement(C.A,(0,c.A)({closeDeleteItemModal:function(){k(!1),P({id:"",description:""})}},q,{deleteFreeFieldsField:f})))};var S=n(91858);const k=(0,d.Ng)((function(e){return{permissions:e.meDetails.permissions}}),null)((function(e){var t=e.freeFieldsTotal,n=e.refreshFreeFieldsFields,r=e.permissions,l=(0,u.Zp)();return i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-4"},i.createElement("div",{className:"btn-group btn-group-flex",role:"group"},i.createElement(S.A,{iconName:"refresh",onClickAction:n}),r.manageFreeFields&&i.createElement(S.A,{iconName:"plus",onClickAction:function(){l("/vrije-velden/nieuw")}}))),i.createElement("div",{className:"col-md-4"},i.createElement("h3",{className:"text-center table-title"},"Vrije velden")),i.createElement("div",{className:"col-md-4"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-sm-12"},i.createElement("div",{className:"pull-right"},"Resultaten: ",t)))))}));var O=n(25562),j=n(72505),q=n.n(j);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,l.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const T=function(){var e=(0,i.useState)([]),t=(0,a.A)(e,2),n=t[0],c=t[1],d=(0,i.useState)([]),u=(0,a.A)(d,2),m=u[0],f=u[1],p=(0,i.useState)([]),F=(0,a.A)(p,2),h=F[0],v=F[1],g=(0,i.useState)(!0),E=(0,a.A)(g,2),A=E[0],b=E[1],w=(0,i.useState)({total:0}),C=(0,a.A)(w,2),S=C[0],j=C[1],P=(0,i.useState)([]),T=(0,a.A)(P,2),R=T[0],M=T[1],x=(0,i.useState)([{field:"tableName",order:"ASC"},{field:"sortOrder",order:"ASC"}]),z=(0,a.A)(x,2),L=z[0],I=z[1],V=(0,i.useState)({offset:0,limit:50}),K=(0,a.A)(V,2),U=K[0],B=K[1],J=(0,O.A)("Enter");function Z(){var e;q().all([N.A.fetchFreeFieldsFields((e=[],R.tableName&&e.push({field:"tableName",data:R.tableName}),R.fieldName&&e.push({field:"fieldName",data:R.fieldName}),R.fieldFormatName&&e.push({field:"fieldFormatName",data:R.fieldFormatName}),e),L,U)]).then(q().spread((function(e){c(e.data.data),j(e.data.meta),b(!1)}))).catch((function(e){b(!1),alert("Er is iets misgegaan met ophalen van de gegevens.")})),N.A.peekFreeFieldsTables().then((function(e){f(e.data.data)})).catch((function(e){console.log(e),alert("Er is iets misgegaan met ophalen van de op onderdeel opties.")})),N.A.peekFreeFieldsFieldFormats().then((function(e){v(e.data.data)})).catch((function(e){console.log(e),alert("Er is iets misgegaan met ophalen van de op onderdeel opties.")}))}function G(){c([]),B(D(D({},U),{},{page:0,offset:0}))}return(0,i.useEffect)((function(){Z()}),[U.offset,L,R.tableName,R.fieldName,R.fieldFormatName]),(0,i.useEffect)((function(){J&&Z()}),[J]),i.createElement(o.A,null,i.createElement(s.A,null,i.createElement("div",{className:"col-md-12 margin-10-top"},i.createElement(k,{freeFieldsTotal:S.total,refreshFreeFieldsFields:Z})),i.createElement("div",{className:"col-md-12 margin-10-top"},i.createElement(y,{freeFieldsFields:n,freeFieldsTotal:S.total,recordsPerPage:50,isLoading:A,filter:R,handlePageClick:function(e){var t=Math.ceil(50*e.selected);B(D(D({},U),{},{offset:t}))},handleChangeSort:function(e,t){var n=L;3===n.length&&n.pop();var l={field:"".concat(e),order:"".concat(t)};I([l].concat((0,r.A)(n)))},handleChangeFilter:function(e,t){M(D(D({},R),{},(0,l.A)({},e,t))),G()},handleKeyUp:function(e){13===e.keyCode&&(G(),console.log("handleKeyUp"))},deleteFreeFieldsField:function(e){N.A.deleteFreeFieldsField(e).then((function(e){Z()})).catch((function(e){alert("Er is iets misgegaan bij verwijderen. Probeer het opnieuw.")}))},freeFieldsTables:m,freeFieldsFieldFormats:h}))))}},34527:(e,t)=>{t.m=void 0,t.m={viewBox:"0 0 1664 1792",children:[{name:"path",attribs:{d:"M1611 832q0 53-37 90l-651 652q-39 37-91 37-53 0-90-37l-651-652q-38-36-38-90 0-53 38-91l74-75q39-37 91-37 53 0 90 37l294 294v-704q0-52 38-90t90-38h128q52 0 90 38t38 90v704l294-294q37-37 90-37 52 0 91 37l75 75q37 39 37 91z"}}]}},42285:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(96540);const l=function(e){return r.createElement("table",{className:"table table-condensed table-hover table-striped col-xs-12"},e.children)}},45403:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(96540);const l=function(e){return r.createElement("thead",null,e.children)}},71866:(e,t)=>{t.b=void 0,t.b={viewBox:"0 0 1664 1792",children:[{name:"path",attribs:{d:"M1611 971q0 51-37 90l-75 75q-38 38-91 38-54 0-90-38l-294-293v704q0 52-37.5 84.5t-90.5 32.5h-128q-53 0-90.5-32.5t-37.5-84.5v-704l-294 293q-36 38-90 38t-90-38l-75-75q-38-38-38-90 0-53 38-91l651-651q35-37 90-37 54 0 91 37l651 651q37 39 37 91z"}}]}},93913:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(96540);const l=function(e){return r.createElement("tbody",null,e.children)}}}]);