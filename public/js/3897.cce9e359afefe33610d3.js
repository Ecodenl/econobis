"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[3897],{7047:(e,t,a)=>{a.d(t,{Z:()=>c});var n=a(69265),r="/campaign";const c={fetchCampaign:function(e){var t=e.id,a="".concat(r,"/").concat(t);return n.Z.get(a)},fetchCampaignIntakes:function(e){var t=e.id,a=e.page,c="".concat(r,"/").concat(t,"/intakes?page=").concat(a);return n.Z.get(c)},fetchCampaignOpportunities:function(e){var t=e.id,a=e.page,c="".concat(r,"/").concat(t,"/opportunities?page=").concat(a);return n.Z.get(c)},fetchCampaignWorkflowStatuses:function(e){var t=e.campaignId,a=e.workflowForType,c="".concat(r,"/").concat(t,"/workflow-statuses/").concat(a);return n.Z.get(c)},updateCampaign:function(e,t){var a="".concat(r,"/").concat(e);return n.Z.post(a,t)},updateCampaignInspection:function(e,t){var a="".concat(r,"/inspection/").concat(e);return n.Z.post(a,t)},updateCampaignWorkflowSetting:function(e,t){var a="".concat(r,"/workflow-setting/").concat(e);return n.Z.post(a,t)},storeCampaign:function(e){var t="".concat(r);return n.Z.post(t,e)},deleteCampaign:function(e){var t="".concat(r,"/").concat(e,"/delete");return n.Z.post(t)},attachResponse:function(e,t){var a="".concat(r,"/").concat(e,"/response/").concat(t,"/attach");return n.Z.post(a)},detachResponse:function(e,t){var a="".concat(r,"/").concat(e,"/response/").concat(t,"/detach");return n.Z.post(a)},attachOrganisation:function(e,t){var a="".concat(r,"/").concat(e,"/organisation/").concat(t,"/attach");return n.Z.post(a)},detachOrganisation:function(e,t){var a="".concat(r,"/").concat(e,"/organisation/").concat(t,"/detach");return n.Z.post(a)},attachCoach:function(e,t){var a="".concat(r,"/").concat(e,"/coach/").concat(t,"/attach");return n.Z.post(a)},detachCoach:function(e,t){var a="".concat(r,"/").concat(e,"/coach/").concat(t,"/detach");return n.Z.post(a)},attachProjectManager:function(e,t){var a="".concat(r,"/").concat(e,"/projectManager/").concat(t,"/attach");return n.Z.post(a)},detachProjectManager:function(e,t){var a="".concat(r,"/").concat(e,"/projectManager/").concat(t,"/detach");return n.Z.post(a)},attachExternalParty:function(e,t){var a="".concat(r,"/").concat(e,"/externalParty/").concat(t,"/attach");return n.Z.post(a)},detachExternalParty:function(e,t){var a="".concat(r,"/").concat(e,"/externalParty/").concat(t,"/detach");return n.Z.post(a)},updateCampaignOwner:function(e,t){var a="".concat(r,"/").concat(e,"/owner/").concat(t,"/associate");return n.Z.post(a)},deleteCampaignWorkflow:function(e){var t="".concat(r,"/campaignworkflow/").concat(e,"/delete");return n.Z.post(t)},addCampaignWorkflow:function(e){var t="".concat(r,"/campaignworkflow/add");return n.Z.post(t,e)},editCampaignWorkflow:function(e,t){var a="".concat(r,"/campaignworkflow/").concat(e,"/edit");return n.Z.post(a,t)}}},75254:(e,t,a)=>{a.d(t,{Z:()=>c});var n=a(69265),r="".concat(URL_API,"/api");const c={getCoachPeek:function(){var e="".concat(r,"/coach-peek");return n.Z.get(e).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))},getProjectManagerPeek:function(){var e="".concat(r,"/project-manager-peek");return n.Z.get(e).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))},getExternalPartyPeek:function(){var e="".concat(r,"/external-party-peek");return n.Z.get(e).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))}}},2498:(e,t,a)=>{a.d(t,{Z:()=>c});var n=a(69265),r="".concat(URL_API,"/api/organisation");const c={newOrganisation:function(e){var t="".concat(r);return n.Z.post(t,e)},updateOrganisation:function(e){var t="".concat(r,"/").concat(e.id);return n.Z.post(t,e)},getOrganisationPeek:function(){var e="".concat(r,"/peek");return n.Z.get(e).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))}}},42444:(e,t,a)=>{a.d(t,{Z:()=>m});var n=a(67294),r=a(61409),c=a(45697),o=a.n(c),l=a(91871),i=a(96168),s=function(e){var t=e.label,a=e.id,c=e.value,o=e.link,s=e.hidden,m=e.name,u=e.textToolTip;return o.length>0?n.createElement("div",{className:"form-group col-sm-12",style:s?{display:"none"}:{}},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-3"},n.createElement("label",{htmlFor:a,className:"col-sm-12"},t)),n.createElement("div",{className:"col-sm-6",id:a,onClick:null},n.createElement(r.rU,{to:o,className:"link-underline"},c)," ",u&&n.createElement("span",null,n.createElement(l.DAO,{color:"blue",size:"15px","data-tip":u,"data-for":"tooltip-".concat(m)}),n.createElement(i.Z,{id:"tooltip-".concat(m),effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"}))))):n.createElement("div",{className:"form-group col-sm-12",style:s?{display:"none"}:{}},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-3"},n.createElement("label",{htmlFor:a,className:"col-sm-12"},t)),n.createElement("div",{className:"col-sm-6",id:a},c," ",u&&n.createElement("span",null,n.createElement(l.DAO,{color:"blue",size:"15px","data-tip":u,"data-for":"tooltip-".concat(m)}),n.createElement(i.Z,{id:"tooltip-".concat(m),effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"})))))};s.defaultProps={label:"",value:"",name:"",textToolTip:"",link:"",hidden:!1},s.propTypes={label:o().oneOfType([o().string,o().object]).isRequired,id:o().string,name:o().string,textToolTip:o().string,value:o().oneOfType([o().string,o().number]),link:o().string,hidden:o().bool};const m=s},73897:(e,t,a)=>{a.r(t),a.d(t,{default:()=>zt});var n=a(15861),r=a(29439),c=a(64687),o=a.n(c),l=a(67294),i=a(86706),s=a(61409),m=a(14309),u=a(98688),p=a(55451),d=a(15671),g=a(43144),f=a(60136),v=a(82963),E=a(61120),h=a(41355),b=a(7047),w=a(11776),N=a(45697);var y=function(e){(0,f.Z)(c,e);var t,a,r=(t=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,E.Z)(t);if(a){var r=(0,E.Z)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return(0,v.Z)(this,e)});function c(e){return(0,d.Z)(this,c),r.call(this,e)}return(0,g.Z)(c,[{key:"render",value:function(){var e=this,t=this.props,a=t.id,r=t.numberOfIntakes,c=t.closeDeleteItemModal,i=function(){var t=(0,n.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.Z.deleteCampaign(a);case 3:s.nA.push("/campagnes"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),t.t0.response?e.props.setError(t.t0.response.status,t.t0.response.data.message):(console.log(t.t0),alert("Er is iets misgegaan met het verwijderen van de campagne."));case 9:c();case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return l.createElement(h.Z,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:c,confirmAction:function(){return i()},title:"Verwijderen"},r>0?l.createElement(l.Fragment,null,l.createElement("p",null,"Let op, deze campagne heeft nog"," ",l.createElement("span",{className:"text-danger"},l.createElement("strong",null,r," lopende intakes"))," ","als je deze campagne verwijderd worden deze intakes verwijderd.",l.createElement("br",null),l.createElement("span",{className:"text-danger"},l.createElement("strong",null,"DEZE ACTIE KAN NIET ONGEDAAN GEMAAKT WORDEN!")),l.createElement("br",null)," Weet je zeker dat je deze campagne"," ",l.createElement("span",{className:"text-danger"},l.createElement("strong",null,"en gerelateerde intakes"))," ","wilt verwijderen?")):l.createElement("p",null,"Weet u zeker dat u deze campagne wilt verwijderen?"))}}]),c}(l.Component);y.propTypes={id:N.any,numberOfIntakes:N.any,closeDeleteItemModal:N.any};const k=(0,i.$j)(null,(function(e){return{setError:function(t,a){e((0,w.s)(t,a))}}}))(y),Z=(0,i.$j)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaign,a=e.permissions,n=(0,l.useState)(!1),c=(0,r.Z)(n,2),o=c[0],i=c[1];function d(){i((function(e){return!e}))}return l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm-12"},l.createElement(m.Z,null,l.createElement(u.Z,{className:"panel-small"},l.createElement("div",{className:"col-md-2"},l.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},l.createElement(p.Z,{iconName:"arrowLeft",onClickAction:s.mW.goBack}),a.manageMarketing&&l.createElement(p.Z,{iconName:"trash",onClickAction:d}))),l.createElement("div",{className:"col-md-8"},l.createElement("h4",{className:"text-center text-success margin-small"},l.createElement("strong",null,t.name?"Campagne: "+t.name:""))),l.createElement("div",{className:"col-md-2"})))),o&&l.createElement(k,{id:t.id,numberOfIntakes:t.numberOfIntakes,closeDeleteItemModal:d}))}));var D=a(96486),C=a(4942),O=a(30381),j=a.n(O),P=a(48966),x=a.n(P),S=a(9181),A=a(71840),T=a(54138),I=a(49332),L=a(25626),M=a(51344);function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}j().locale("nl");const B=(0,i.$j)((function(e){return{status:e.systemData.campaignStatuses,types:e.systemData.campaignTypes,measureCategories:e.systemData.measureCategories,opportunityActions:e.systemData.opportunityActions}}))((function(e){var t,a,c,i,s=e.campaign,m=e.fetchCampaignData,u=e.switchToView,p=e.status,d=e.types,g=e.measureCategories,f=e.opportunityActions,v=(0,l.useState)(W(W({},s),{},{description:s.description||"",statusId:(null===(t=s.status)||void 0===t?void 0:t.id)||"",typeId:(null===(a=s.type)||void 0===a?void 0:a.id)||"",measureCategoryIds:null===(c=s.measureCategories)||void 0===c?void 0:c.map((function(e){return e.id})).join(","),measureCategoryIdsSelected:s.measureCategories?s.measureCategories:[],opportunityActionIds:null===(i=s.opportunityActions)||void 0===i?void 0:i.map((function(e){return e.id})).join(","),opportunityActionIdsSelected:s.opportunityActions?s.opportunityActions:[]})),E=(0,r.Z)(v,2),h=E[0],w=E[1],N=(0,l.useState)({name:!1,type:!1}),y=(0,r.Z)(N,2),k=y[0],Z=y[1];function D(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;w(W(W({},h),{},(0,C.Z)({},n,a)))}function O(e,t){var a=e?j()(e).format("Y-MM-DD"):"";w(W(W({},h),{},(0,C.Z)({},t,a)))}function P(e){return z.apply(this,arguments)}function z(){return(z=(0,n.Z)(o().mark((function e(t){var a,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a={},n=!1,x().isEmpty(h.name)&&(a.name=!0,n=!0),x().isEmpty(""+h.typeId)&&(a.type=!0,n=!0),Z(a),n){e.next=17;break}return e.prev=7,e.next=10,b.Z.updateCampaign(h.id,h);case 10:m(),u(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),alert("Er is iets misgegaan met het opslaan van de gegevens!");case 17:case"end":return e.stop()}}),e,null,[[7,14]])})))).apply(this,arguments)}return l.createElement("form",{className:"form-horizontal col-md-12",onSubmit:P},l.createElement("div",{className:"row"},l.createElement(S.Z,{label:"Naam",size:"col-sm-6",name:"name",value:h.name,onChangeAction:D,required:"required",error:k.name}),l.createElement(S.Z,{label:"Campagnenummer",name:"number",value:h.number,readOnly:!0})),l.createElement("div",{className:"row"},l.createElement("div",{className:"form-group col-sm-12"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm-3"},l.createElement("label",{htmlFor:"description",className:"col-sm-12"},"Beschrijving")),l.createElement("div",{className:"col-sm-8"},l.createElement("textarea",{name:"description",value:h.description,onChange:D,className:"form-control input-sm"}))))),l.createElement("div",{className:"row"},l.createElement(T.Z,{label:"Begindatum",size:"col-sm-6",name:"startDate",value:h.startDate||"",onChangeAction:O}),l.createElement(T.Z,{label:"Einddatum",size:"col-sm-6",name:"endDate",value:h.endDate||"",onChangeAction:O})),l.createElement("div",{className:"row"},l.createElement(A.Z,{label:"Status",size:"col-sm-6",name:"statusId",options:p,value:h.statusId,onChangeAction:D})),l.createElement("div",{className:"row"},l.createElement(M.Z,{label:"Aangeboden maatregelen",name:"measureCategoryIds",value:h.measureCategoryIdsSelected,options:g,onChangeAction:function(e){var t=e?e.map((function(e){return e.id})).join(","):"";w(W(W({},h),{},{measureCategoryIds:t,measureCategoryIdsSelected:e}))}})),l.createElement("div",{className:"row"},l.createElement(M.Z,{label:"Aangeboden kansacties",name:"opportunityActionIds",value:h.opportunityActionIdsSelected,options:f,onChangeAction:function(e){var t=e?e.map((function(e){return e.id})).join(","):"";w(W(W({},h),{},{opportunityActionIds:t,opportunityActionIdsSelected:e}))}})),l.createElement("div",{className:"row"},l.createElement(A.Z,{label:"Type",size:"col-sm-6",name:"typeId",options:d,value:h.typeId,onChangeAction:D,required:"required",error:k.type})),l.createElement(L.Z,null,l.createElement("div",{className:"pull-right btn-group",role:"group"},l.createElement(I.Z,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:u}),l.createElement(I.Z,{buttonText:"Opslaan",onClickAction:P,type:"submit",value:"Submit"}))))}));var q=a(7250),R=a(42444);j().locale("nl");const V=function(e){var t=e.campaign,a=t.name,n=t.number,r=t.description,c=t.startDate,o=t.endDate,i=t.status,s=t.measureCategories,m=t.opportunityActions,u=t.type,p=e.switchToEdit;return l.createElement("div",null,l.createElement("div",{className:"row",onClick:p},l.createElement(q.Z,{label:"Naam",value:a}),l.createElement(q.Z,{label:"Campagne nummer",value:n})),l.createElement("div",{className:"row",onClick:p},l.createElement("div",{className:"col-sm-3"},l.createElement("label",{htmlFor:"description",className:"col-sm-12"},"Beschrijving")),l.createElement("div",{className:"col-sm-9",id:"description"},r)),l.createElement("div",{className:"row",onClick:p},l.createElement(q.Z,{label:"Begindatum",value:c?j()(c).format("L"):""}),l.createElement(q.Z,{label:"Einddatum",value:o?j()(o).format("L"):""})),l.createElement("div",{className:"row",onClick:p},l.createElement(q.Z,{label:"Status",value:(null==i?void 0:i.name)||""})),l.createElement("div",{className:"row",onClick:p},l.createElement(R.Z,{label:"Aangeboden maatregelen",value:s&&s.map((function(e){return e.name})).join(", ")})),l.createElement("div",{className:"row",onClick:p},l.createElement(R.Z,{label:"Aangeboden kansacties",value:m&&m.map((function(e){return e.name})).join(", ")})),l.createElement("div",{className:"row",onClick:p},l.createElement(q.Z,{label:"Type",value:(null==u?void 0:u.name)||""})))};function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const H=function(){var e=(0,l.useState)({showEdit:!1,activeDiv:""}),t=(0,r.Z)(e,2),a=t[0],n=t[1];return{state:a,switchToEdit:function(){n($($({},a),{},{showEdit:!0}))},switchToView:function(){n({showEdit:!1,activeDiv:""})},onDivEnter:function(){n($($({},a),{},{activeDiv:"panel-grey"}))},onDivLeave:function(){a.showEdit||n($($({},a),{},{activeDiv:""}))}}},F=(0,i.$j)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaign,a=e.permissions,n=e.fetchCampaignData,r=H(),c=r.state,o=r.switchToEdit,i=r.switchToView,s=r.onDivEnter,p=r.onDivLeave;return l.createElement(m.Z,{className:c.activeDiv,onMouseEnter:function(){return s()},onMouseLeave:function(){return p()}},l.createElement(u.Z,null,c.showEdit&&a.manageMarketing?l.createElement(B,{campaign:t,switchToView:i,fetchCampaignData:n}):l.createElement(V,{campaign:t,switchToEdit:o})))}));j().locale("nl");const U=function(e){var t=e.campaign,a=t.createdBy,n=t.createdAt,r=t.ownedBy,c=e.switchToEdit;return l.createElement("div",null,l.createElement("div",{className:"row",onClick:c},l.createElement(q.Z,{label:"Gemaakt door",value:(null==a?void 0:a.fullName)||"Onbekend",link:a?"gebruiker/"+a.id:""}),l.createElement(q.Z,{label:"Verantwoordelijke",value:(null==r?void 0:r.fullName)||"Onbekend",link:r?"gebruiker/"+r.id:""})),l.createElement("div",{className:"row",onClick:c},l.createElement(q.Z,{label:"Gemaakt op",value:n?j()(n).format("L"):"Onbekend"})))},_=(0,i.$j)((function(e){return{users:e.systemData.users}}))((function(e){var t=e.campaign,a=t.id,c=t.createdBy,i=t.createdAt,s=t.ownedBy,m=e.switchToView,u=e.users,p=e.fetchCampaignData,d=(0,l.useState)(null==s?void 0:s.id),g=(0,r.Z)(d,2),f=g[0],v=g[1],E=(0,l.useState)({ownedBy:!1}),h=(0,r.Z)(E,2),w=h[0],N=h[1];function y(e){return k.apply(this,arguments)}function k(){return(k=(0,n.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=!1,x().isEmpty(""+f)&&(N({ownedBy:!0}),n=!0),n){e.next=14;break}return e.prev=4,e.next=7,b.Z.updateCampaignOwner(a,f);case 7:p(),m(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),alert("Er is iets misgegaan met het opslaan van de gegevens!");case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}return l.createElement("form",{className:"form-horizontal col-md-12",onSubmit:y},l.createElement("div",{className:"row"},l.createElement(S.Z,{label:"Gemaakt door",name:"createdBy",value:c.fullName,readOnly:!0}),l.createElement(A.Z,{label:"Verantwoordelijke",size:"col-sm-6",name:"ownedById",options:u,value:f,optionName:"fullName",onChangeAction:function(e){v(e.target.value)},error:w.ownedBy})),l.createElement("div",{className:"row"},l.createElement(T.Z,{label:"Gemaakt op",size:"col-sm-6",name:"createdAt",value:i||"",readOnly:!0})),l.createElement(L.Z,null,l.createElement("div",{className:"pull-right btn-group",role:"group"},l.createElement(I.Z,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:m}),l.createElement(I.Z,{buttonText:"Opslaan",onClickAction:y,type:"submit",value:"Submit"}))))})),K=(0,i.$j)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaign,a=e.permissions,n=e.fetchCampaignData,r=H(),c=r.state,o=r.switchToEdit,i=r.switchToView,s=r.onDivEnter,p=r.onDivLeave;return l.createElement(m.Z,{className:c.activeDiv,onMouseEnter:function(){return s()},onMouseLeave:function(){return p()}},l.createElement(u.Z,null,c.showEdit&&a.manageMarketing?l.createElement(_,{campaign:t,switchToView:i,fetchCampaignData:n}):l.createElement(U,{campaign:t,switchToEdit:o})))}));var J=a(97894),Q=a(77320);const Y=(0,i.$j)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t,a=e.organisation,n=(a.id,a.contactId),r=a.address,c=a.contact,o=a.name,i=a.amountOfQuotations,m=a.amountOfWonQuotations,u=e.highlightLine,p=e.onLineEnter,d=e.onLineLeave,g=e.permissions,f=e.showActionButtons,v=e.toggleDelete;return l.createElement("div",{className:"row border ".concat(u),onMouseEnter:p,onMouseLeave:d},l.createElement("div",{onClick:function(){return s.nA.push("/contact/".concat(n))}},l.createElement("div",{className:"col-sm-1"},c.number),l.createElement("div",{className:"col-sm-2"},o),l.createElement("div",{className:"col-sm-2"},(null==r?void 0:r.city)||""),l.createElement("div",{className:"col-sm-2"},(null===(t=c.contactPerson)||void 0===t||null===(t=t.contact)||void 0===t?void 0:t.fullName)||""),l.createElement("div",{className:"col-sm-2"},i),l.createElement("div",{className:"col-sm-2"},m)),l.createElement("div",{className:"col-sm-1"},f&&g.manageMarketing?l.createElement("a",{role:"button",onClick:v},l.createElement(J.ZP,{className:"mybtn-danger",size:14,icon:Q._})):""))})),X=function(e){var t=e.toggleDelete,a=e.fetchCampaignData,r=e.organisationId,c=e.campaignId;function i(){return(i=(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.Z.detachOrganisation(c,r);case 3:a(),t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met het verwijderen van de organisatie. Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return l.createElement(h.Z,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:t,confirmAction:function(){return i.apply(this,arguments)},title:"Verwijderen"},l.createElement("p",null,"Wil je deze organisatie ontkoppelen van deze campagne?"))};function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const ae=function(e){var t=e.organisation,a=e.campaignId,n=e.fetchCampaignData,c=(0,l.useState)({showActionButtons:!1,highlightLine:"",showDelete:!1}),o=(0,r.Z)(c,2),i=o[0],s=o[1];function m(){s({showDelete:!i.showDelete})}return l.createElement("div",null,l.createElement(Y,{highlightLine:i.highlightLine,showActionButtons:i.showActionButtons,onLineEnter:function(){s(te(te({},i),{},{showActionButtons:!0,highlightLine:"highlight-line"}))},onLineLeave:function(){s(te(te({},i),{},{showActionButtons:!1,highlightLine:""}))},toggleDelete:m,organisation:t}),i.showDelete&&l.createElement(X,{toggleDelete:m,organisationId:t.id,campaignId:a,fetchCampaignData:n}))},ne=function(e){var t=e.organisations,a=e.campaignId,n=e.fetchCampaignData;return l.createElement("div",null,l.createElement("div",{className:"row border header"},l.createElement("div",{className:"col-sm-1"},"Nummer"),l.createElement("div",{className:"col-sm-2"},"Organisatie"),l.createElement("div",{className:"col-sm-2"},"Plaats"),l.createElement("div",{className:"col-sm-2"},"Contactpersoon"),l.createElement("div",{className:"col-sm-2"},"Aangevraagde offertes"),l.createElement("div",{className:"col-sm-2"},"Gewonnen offertes"),l.createElement("div",{className:"col-sm-1"})),t.length>0?t.map((function(e){return l.createElement(ae,{key:e.id,organisation:e,campaignId:a,fetchCampaignData:n})})):l.createElement("div",null,"Geen betrokken bedrijven bekend."))};var re=a(2498);const ce=function(e){var t=e.campaignId,a=e.campaignName,c=e.fetchCampaignData,i=e.toggleShowNew,s=(0,l.useState)([]),p=(0,r.Z)(s,2),d=p[0],g=p[1],f=(0,l.useState)(""),v=(0,r.Z)(f,2),E=v[0],h=v[1],w=(0,l.useState)({organisation:!1,hasErrors:!1}),N=(0,r.Z)(w,2),y=N[0],k=N[1];function Z(e){return D.apply(this,arguments)}function D(){return(D=(0,n.Z)(o().mark((function e(a){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),E||k({organisation:!0,hasErrors:!0}),y.hasErrors){e.next=13;break}return e.prev=3,e.next=6,b.Z.attachOrganisation(t,E);case 6:c(),i(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),alert("Er is iets misgegaan met het toevoegen van de organisatie. Herlaad de pagina en probeer het nogmaals.");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return(0,l.useEffect)((function(){var e;(e=(0,n.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.Z.getOrganisationPeek();case 3:t=e.sent,g(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met ophalen van de organisaties! Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return e.apply(this,arguments)})()}),[]),l.createElement("form",{className:"form-horizontal",onSubmit:Z},l.createElement(m.Z,{className:"panel-grey"},l.createElement(u.Z,null,l.createElement("div",{className:"row"},l.createElement(S.Z,{label:"Campagne",name:"campaign",value:a,readOnly:!0}),l.createElement(A.Z,{label:"Organisatie",size:"col-sm-6",name:"organisationId",options:d,value:E,onChangeAction:function(e){h(e.target.value)},required:"required",error:y.organisation})),l.createElement("div",{className:"pull-right btn-group",role:"group"},l.createElement(I.Z,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:i}),l.createElement(I.Z,{buttonText:"Opslaan",onClickAction:Z,type:"submit",value:"Submit"})))))};var oe=a(80720),le=a(10055);const ie=(0,i.$j)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaignId,a=e.campaignName,n=e.organisations,c=e.permissions,o=e.fetchCampaignData,i=(0,l.useState)(!1),s=(0,r.Z)(i,2),p=s[0],d=s[1];function g(){d((function(e){return!e}))}return l.createElement(m.Z,null,l.createElement(oe.Z,null,l.createElement("span",{className:"h5 text-bold"},"Betrokken bedrijven"),c.manageMarketing&&l.createElement("a",{role:"button",className:"pull-right",onClick:g},l.createElement(J.ZP,{size:14,icon:le.P}))),l.createElement(u.Z,null,l.createElement("div",{className:"col-md-12"},l.createElement(ne,{organisations:n,campaignId:t,fetchCampaignData:o})),l.createElement("div",{className:"col-md-12 margin-10-top"},p&&l.createElement(ce,{campaignId:t,campaignName:a,toggleShowNew:g,fetchCampaignData:o}))))}));var se=a(87462),me=a(51910);const ue=(0,i.$j)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t,a=e.id,n=e.contact,r=e.address,c=e.fullAddress,o=e.createdAt;return l.createElement("div",{className:"row border",onClick:function(){return s.nA.push("/intake/".concat(a))}},l.createElement("div",{className:"col-sm-1"},a),l.createElement("div",{className:"col-sm-1"},null==n||null===(t=n.type)||void 0===t?void 0:t.name),l.createElement("div",{className:"col-sm-2"},null==n?void 0:n.fullName),l.createElement("div",{className:"col-sm-3"},c),l.createElement("div",{className:"col-sm-1"},null==r?void 0:r.postalCode),l.createElement("div",{className:"col-sm-2"},null==r?void 0:r.city),l.createElement("div",{className:"col-sm-2"},o?j()(o).format("L"):""))})),pe=function(e){var t=e.data,a=e.meta,n=e.page,r=e.setPage,c=e.isLoading;return l.createElement("div",null,l.createElement("div",{className:"row border header"},l.createElement("div",{className:"col-sm-1"},"Id"),l.createElement("div",{className:"col-sm-1"},"Type"),l.createElement("div",{className:"col-sm-2"},"Naam"),l.createElement("div",{className:"col-sm-3"},"Adres"),l.createElement("div",{className:"col-sm-1"},"Postcode"),l.createElement("div",{className:"col-sm-2"},"Plaats"),l.createElement("div",{className:"col-sm-2"},"Gereageerd op")),l.createElement("div",null,c?l.createElement("div",null,"Bezig met laden."):t.length>0?t.map((function(e){return l.createElement(ue,(0,se.Z)({key:e.id},e))})):l.createElement("div",null,"Geen intakes bekend.")),l.createElement("div",{className:"col-md-6 col-md-offset-3 margin-20-top"},l.createElement(me.Z,{onPageChangeAction:function(e){r(e.selected)},totalRecords:a.total,initialPage:n,recordsPerPage:10})))},de=function(e){var t=e.campaignId,a=(0,l.useState)({data:[],meta:{}}),c=(0,r.Z)(a,2),i=c[0],s=c[1],p=(0,l.useState)(!0),d=(0,r.Z)(p,2),g=d[0],f=d[1],v=(0,l.useState)(0),E=(0,r.Z)(v,2),h=E[0],w=E[1];function N(){return(N=(0,n.Z)(o().mark((function e(){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.Z.fetchCampaignIntakes({id:t,page:h+1});case 3:a=e.sent,s(a.data),f(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Er is iets misgegaan met het laden van de gegevens. Herlaad de pagina."),f(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return(0,l.useEffect)((function(){!function(){N.apply(this,arguments)}()}),[h]),l.createElement(m.Z,null,l.createElement(oe.Z,null,l.createElement("span",{className:"h5 text-bold"},"Gerelateerde intakes")),l.createElement(u.Z,null,l.createElement("div",{className:"col-md-12"},l.createElement(pe,(0,se.Z)({},i,{isLoading:g,page:h,setPage:w})))))},ge=function(e){var t,a=e.id,n=e.number,r=e.intake,c=e.createdAt,o=e.measureCategory,i=e.status,m=e.quotationRequests;return l.createElement("div",{className:"row border",onClick:function(){return s.nA.push("/kans/".concat(a))}},l.createElement("div",{className:"col-sm-2"},n),l.createElement("div",{className:"col-sm-1"},c?j()(c).format("L"):""),l.createElement("div",{className:"col-sm-3"},(null==r||null===(t=r.contact)||void 0===t?void 0:t.fullName)||""),l.createElement("div",{className:"col-sm-3"},(null==o?void 0:o.name)||""),l.createElement("div",{className:"col-sm-1"},(null==i?void 0:i.name)||""),l.createElement("div",{className:"col-sm-2"},null==m?void 0:m.length))},fe=function(e){var t=e.data,a=e.meta,n=e.page,r=e.setPage,c=e.isLoading;return l.createElement("div",null,l.createElement("div",{className:"row border header"},l.createElement("div",{className:"col-sm-2"},"Nummer"),l.createElement("div",{className:"col-sm-1"},"Datum"),l.createElement("div",{className:"col-sm-3"},"Naam"),l.createElement("div",{className:"col-sm-3"},"Maatregel categorie"),l.createElement("div",{className:"col-sm-1"},"Status"),l.createElement("div",{className:"col-sm-2"},"Aantal kansacties")),l.createElement("div",null,c?l.createElement("div",null,"Bezig met laden."):t.length>0?t.map((function(e){return l.createElement(ge,(0,se.Z)({key:e.id},e))})):l.createElement("div",null,"Geen kansen bekend.")),l.createElement("div",{className:"col-md-6 col-md-offset-3 margin-20-top"},l.createElement(me.Z,{onPageChangeAction:function(e){r(e.selected)},totalRecords:a.total,initialPage:n,recordsPerPage:10})))},ve=function(e){var t=e.campaignId,a=(0,l.useState)({data:[],meta:{}}),c=(0,r.Z)(a,2),i=c[0],s=c[1],p=(0,l.useState)(!0),d=(0,r.Z)(p,2),g=d[0],f=d[1],v=(0,l.useState)(0),E=(0,r.Z)(v,2),h=E[0],w=E[1];function N(){return(N=(0,n.Z)(o().mark((function e(){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.Z.fetchCampaignOpportunities({id:t,page:h+1});case 3:a=e.sent,s(a.data),f(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Er is iets misgegaan met het laden van de gegevens. Herlaad de pagina."),f(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return(0,l.useEffect)((function(){!function(){N.apply(this,arguments)}()}),[h]),l.createElement(m.Z,null,l.createElement(oe.Z,null,l.createElement("span",{className:"h5 text-bold"},"Gerelateerde kansen")),l.createElement(u.Z,null,l.createElement("div",{className:"col-md-12"},l.createElement(fe,(0,se.Z)({},i,{isLoading:g,page:h,setPage:w})))))},Ee=(0,i.$j)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t,a=e.response,n=(a.id,a.contact),r=a.address,c=a.dateResponded,o=e.permissions,i=e.highlightLine,m=e.onLineEnter,u=e.onLineLeave,p=e.showActionButtons,d=e.toggleDelete;return l.createElement("div",{className:"row border ".concat(i),onMouseEnter:function(){return m()},onMouseLeave:function(){return u()}},l.createElement("div",{onClick:function(){return s.nA.push("/contact/".concat(n.id))}},l.createElement("div",{className:"col-sm-1"},(null==n?void 0:n.number)||""),l.createElement("div",{className:"col-sm-1"},(null==n||null===(t=n.type)||void 0===t?void 0:t.name)||""),l.createElement("div",{className:"col-sm-2"},(null==n?void 0:n.fullName)||""),l.createElement("div",{className:"col-sm-2"},r?r.street+r.number+(r.addition?"-"+r.addition:""):""),l.createElement("div",{className:"col-sm-1"},(null==r?void 0:r.postal_code)||""),l.createElement("div",{className:"col-sm-2"},(null==r?void 0:r.city)||""),l.createElement("div",{className:"col-sm-2"},c?j()(c).format("L"):"")),l.createElement("div",{className:"col-sm-1"},p&&o.manageMarketing?l.createElement("a",{role:"button",onClick:d},l.createElement(J.ZP,{className:"mybtn-danger",size:14,icon:Q._})):""))})),he=function(e){var t=e.toggleDelete,a=e.fetchCampaignData,r=e.contactId,c=e.campaignId;function i(){return(i=(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.Z.detachResponse(c,r);case 3:a(),t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met het verwijderen van de response. Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return l.createElement(h.Z,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:t,confirmAction:function(){return i.apply(this,arguments)},title:"Verwijderen"},l.createElement("p",null,"Wil je deze response ontkoppelen van deze campagne?"))};function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function we(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const Ne=function(e){var t=e.response,a=e.campaignId,n=e.fetchCampaignData,c=(0,l.useState)({showActionButtons:!1,highlightLine:"",showDelete:!1}),o=(0,r.Z)(c,2),i=o[0],s=o[1];function m(){s({showDelete:!i.showDelete})}return l.createElement("div",null,l.createElement(Ee,{highlightLine:i.highlightLine,showActionButtons:i.showActionButtons,onLineEnter:function(){s(we(we({},i),{},{showActionButtons:!0,highlightLine:"highlight-line"}))},onLineLeave:function(){s(we(we({},i),{},{showActionButtons:!1,highlightLine:""}))},toggleDelete:m,response:t}),i.showDelete&&l.createElement(he,{toggleDelete:m,contactId:t.contact.id,campaignId:a,fetchCampaignData:n}))},ye=function(e){var t=e.responses,a=e.campaignId,n=e.fetchCampaignData;return l.createElement("div",null,l.createElement("div",{className:"row border header"},l.createElement("div",{className:"col-sm-1"},"Nummer"),l.createElement("div",{className:"col-sm-1"},"Type"),l.createElement("div",{className:"col-sm-2"},"Naam"),l.createElement("div",{className:"col-sm-2"},"Adres"),l.createElement("div",{className:"col-sm-1"},"Postcode"),l.createElement("div",{className:"col-sm-2"},"Plaats"),l.createElement("div",{className:"col-sm-2"},"Gereageerd op"),l.createElement("div",{className:"col-sm-1"})),t.length>0?t.map((function(e){return l.createElement(Ne,{key:e.id,response:e,campaignId:a,fetchCampaignData:n})})):l.createElement("div",null,"Geen responses bekend."))};var ke=a(72898);const Ze=function(e){var t=e.campaignId,a=e.campaignName,c=e.fetchCampaignData,i=e.toggleShowNew,s=(0,l.useState)([]),p=(0,r.Z)(s,2),d=p[0],g=p[1],f=(0,l.useState)(""),v=(0,r.Z)(f,2),E=v[0],h=v[1],w=(0,l.useState)({contact:!1,hasErrors:!1}),N=(0,r.Z)(w,2),y=N[0],k=N[1];function Z(e){return D.apply(this,arguments)}function D(){return(D=(0,n.Z)(o().mark((function e(a){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),E||k({contact:!0,hasErrors:!0}),y.hasErrors){e.next=13;break}return e.prev=3,e.next=6,b.Z.attachResponse(t,E);case 6:c(),i(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),alert("Er is iets misgegaan met het toevoegen van de organisatie! Herlaad de pagina en probeer het nogmaals.");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return(0,l.useEffect)((function(){var e;(e=(0,n.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ke.Z.getContactsPeek();case 3:t=e.sent,g(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met ophalen van de contacten. Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return e.apply(this,arguments)})()}),[]),l.createElement("form",{className:"form-horizontal",onSubmit:Z},l.createElement(m.Z,{className:"panel-grey"},l.createElement(u.Z,null,l.createElement("div",{className:"row"},l.createElement(S.Z,{label:"Campagne",name:"campaign",value:a,readOnly:!0}),l.createElement(A.Z,{label:"Contact",size:"col-sm-6",name:"contactId",options:d,value:E,onChangeAction:function(e){h(e.target.value)},required:"required",optionName:"fullName",error:y.contact})),l.createElement("div",{className:"pull-right btn-group",role:"group"},l.createElement(I.Z,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:i}),l.createElement(I.Z,{buttonText:"Opslaan",onClickAction:Z,type:"submit",value:"Submit"})))))},De=(0,i.$j)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaignId,a=e.campaignName,n=e.responses,c=e.permissions,o=e.fetchCampaignData,i=(0,l.useState)(!1),s=(0,r.Z)(i,2),p=s[0],d=s[1];function g(){d((function(e){return!e}))}return l.createElement(m.Z,null,l.createElement(oe.Z,null,l.createElement("span",{className:"h5 text-bold"},"Responses"),c.manageMarketing&&l.createElement("a",{role:"button",className:"pull-right",onClick:g},l.createElement(J.ZP,{size:14,icon:le.P}))),l.createElement(u.Z,null,l.createElement("div",{className:"col-md-12"},l.createElement(ye,{responses:n,campaignId:t,fetchCampaignData:o})),l.createElement("div",{className:"col-md-12 margin-10-top"},p&&l.createElement(Ze,{campaignId:t,campaignName:a,toggleShowNew:g,fetchCampaignData:o}))))})),Ce=(0,i.$j)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.coach,a=t.id,n=t.number,r=t.name,c=t.address,o=e.highlightLine,i=e.onLineEnter,m=e.onLineLeave,u=e.permissions,p=e.showActionButtons,d=e.toggleDelete;return l.createElement("div",{className:"row border ".concat(o),onMouseEnter:i,onMouseLeave:m},l.createElement("div",{onClick:function(){return s.nA.push("/contact/".concat(a))}},l.createElement("div",{className:"col-sm-2"},n),l.createElement("div",{className:"col-sm-4"},r),l.createElement("div",{className:"col-sm-4"},c?c.city:"")),l.createElement("div",{className:"col-sm-1"},p&&u.manageMarketing?l.createElement("a",{role:"button",onClick:d},l.createElement(J.ZP,{className:"mybtn-danger",size:14,icon:Q._})):""))})),Oe=function(e){var t=e.toggleDelete,a=e.fetchCampaignData,r=e.coachId,c=e.campaignId;function i(){return(i=(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.Z.detachCoach(c,r);case 3:a(),t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met het verwijderen van de coach. Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return l.createElement(h.Z,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:t,confirmAction:function(){return i.apply(this,arguments)},title:"Verwijderen"},l.createElement("p",null,"Wil je deze coach ontkoppelen van deze campagne?"))};function je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?je(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):je(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const xe=function(e){var t=e.coach,a=e.campaignId,n=e.fetchCampaignData,c=(0,l.useState)({showActionButtons:!1,highlightLine:"",showDelete:!1}),o=(0,r.Z)(c,2),i=o[0],s=o[1];function m(){s({showDelete:!i.showDelete})}return l.createElement("div",null,l.createElement(Ce,{highlightLine:i.highlightLine,showActionButtons:i.showActionButtons,onLineEnter:function(){s(Pe(Pe({},i),{},{showActionButtons:!0,highlightLine:"highlight-line"}))},onLineLeave:function(){s(Pe(Pe({},i),{},{showActionButtons:!1,highlightLine:""}))},toggleDelete:m,coach:t}),i.showDelete&&l.createElement(Oe,{toggleDelete:m,coachId:t.id,campaignId:a,fetchCampaignData:n}))},Se=function(e){var t=e.coaches,a=e.campaignId,n=e.fetchCampaignData;return l.createElement("div",null,l.createElement("div",{className:"row border header"},l.createElement("div",{className:"col-sm-2"},"Nummer"),l.createElement("div",{className:"col-sm-4"},"Coach"),l.createElement("div",{className:"col-sm-4"},"Plaats"),l.createElement("div",{className:"col-sm-1"})),t.length>0?t.map((function(e){return l.createElement(xe,{key:e.id,coach:e,campaignId:a,fetchCampaignData:n})})):l.createElement("div",null,"Geen betrokken coaches bekend."))};var Ae=a(75254);const Te=function(e){var t=e.campaignId,a=e.campaignName,c=e.fetchCampaignData,i=e.toggleShowNew,s=(0,l.useState)([]),p=(0,r.Z)(s,2),d=p[0],g=p[1],f=(0,l.useState)(""),v=(0,r.Z)(f,2),E=v[0],h=v[1],w=(0,l.useState)({coach:!1,hasErrors:!1}),N=(0,r.Z)(w,2),y=N[0],k=N[1];function Z(e){return D.apply(this,arguments)}function D(){return(D=(0,n.Z)(o().mark((function e(a){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),E||k({coach:!0,hasErrors:!0}),y.hasErrors){e.next=13;break}return e.prev=3,e.next=6,b.Z.attachCoach(t,E);case 6:c(),i(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),alert("Er is iets misgegaan met het toevoegen van de coach. Herlaad de pagina en probeer het nogmaals.");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return(0,l.useEffect)((function(){var e;(e=(0,n.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae.Z.getCoachPeek();case 3:t=e.sent,g(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met ophalen van de coaches! Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return e.apply(this,arguments)})()}),[]),l.createElement("form",{className:"form-horizontal",onSubmit:Z},l.createElement(m.Z,{className:"panel-grey"},l.createElement(u.Z,null,l.createElement("div",{className:"row"},l.createElement(S.Z,{label:"Campagne",name:"campaign",value:a,readOnly:!0}),l.createElement(A.Z,{label:"Coach",size:"col-sm-6",name:"coachId",options:d,value:E,onChangeAction:function(e){h(e.target.value)},required:"required",error:y.coach})),l.createElement("div",{className:"pull-right btn-group",role:"group"},l.createElement(I.Z,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:i}),l.createElement(I.Z,{buttonText:"Opslaan",onClickAction:Z,type:"submit",value:"Submit"})))))},Ie=(0,i.$j)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaignId,a=e.campaignName,n=e.coaches,c=e.permissions,o=e.fetchCampaignData,i=(0,l.useState)(!1),s=(0,r.Z)(i,2),p=s[0],d=s[1];function g(){d((function(e){return!e}))}return l.createElement(m.Z,null,l.createElement(oe.Z,null,l.createElement("span",{className:"h5 text-bold"},"Betrokken coaches"),c.manageMarketing&&l.createElement("a",{role:"button",className:"pull-right",onClick:g},l.createElement(J.ZP,{size:14,icon:le.P}))),l.createElement(u.Z,null,l.createElement("div",{className:"col-md-12"},l.createElement(Se,{coaches:n,campaignId:t,fetchCampaignData:o})),l.createElement("div",{className:"col-md-12 margin-10-top"},p&&l.createElement(Te,{campaignId:t,campaignName:a,toggleShowNew:g,fetchCampaignData:o}))))})),Le=(0,i.$j)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.projectManager,a=t.id,n=t.number,r=t.name,c=t.address,o=e.highlightLine,i=e.onLineEnter,m=e.onLineLeave,u=e.permissions,p=e.showActionButtons,d=e.toggleDelete;return l.createElement("div",{className:"row border ".concat(o),onMouseEnter:i,onMouseLeave:m},l.createElement("div",{onClick:function(){return s.nA.push("/contact/".concat(a))}},l.createElement("div",{className:"col-sm-2"},n),l.createElement("div",{className:"col-sm-4"},r),l.createElement("div",{className:"col-sm-4"},c?c.city:"")),l.createElement("div",{className:"col-sm-1"},p&&u.manageMarketing?l.createElement("a",{role:"button",onClick:d},l.createElement(J.ZP,{className:"mybtn-danger",size:14,icon:Q._})):""))})),Me=function(e){var t=e.toggleDelete,a=e.fetchCampaignData,r=e.projectManagerId,c=e.campaignId;function i(){return(i=(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.Z.detachProjectManager(c,r);case 3:a(),t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met het verwijderen van de projectManager. Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return l.createElement(h.Z,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:t,confirmAction:function(){return i.apply(this,arguments)},title:"Verwijderen"},l.createElement("p",null,"Wil je deze projectManager ontkoppelen van deze campagne?"))};function ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function We(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ze(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const Be=function(e){var t=e.projectManager,a=e.campaignId,n=e.fetchCampaignData,c=(0,l.useState)({showActionButtons:!1,highlightLine:"",showDelete:!1}),o=(0,r.Z)(c,2),i=o[0],s=o[1];function m(){s({showDelete:!i.showDelete})}return l.createElement("div",null,l.createElement(Le,{highlightLine:i.highlightLine,showActionButtons:i.showActionButtons,onLineEnter:function(){s(We(We({},i),{},{showActionButtons:!0,highlightLine:"highlight-line"}))},onLineLeave:function(){s(We(We({},i),{},{showActionButtons:!1,highlightLine:""}))},toggleDelete:m,projectManager:t}),i.showDelete&&l.createElement(Me,{toggleDelete:m,projectManagerId:t.id,campaignId:a,fetchCampaignData:n}))},qe=function(e){var t=e.projectManagers,a=e.campaignId,n=e.fetchCampaignData;return l.createElement("div",null,l.createElement("div",{className:"row border header"},l.createElement("div",{className:"col-sm-2"},"Nummer"),l.createElement("div",{className:"col-sm-4"},"Projectmanager"),l.createElement("div",{className:"col-sm-4"},"Plaats"),l.createElement("div",{className:"col-sm-1"})),t.length>0?t.map((function(e){return l.createElement(Be,{key:e.id,projectManager:e,campaignId:a,fetchCampaignData:n})})):l.createElement("div",null,"Geen betrokken projectmanagers bekend."))},Re=function(e){var t=e.campaignId,a=e.campaignName,c=e.fetchCampaignData,i=e.toggleShowNew,s=(0,l.useState)([]),p=(0,r.Z)(s,2),d=p[0],g=p[1],f=(0,l.useState)(""),v=(0,r.Z)(f,2),E=v[0],h=v[1],w=(0,l.useState)({projectManager:!1,hasErrors:!1}),N=(0,r.Z)(w,2),y=N[0],k=N[1];function Z(e){return D.apply(this,arguments)}function D(){return(D=(0,n.Z)(o().mark((function e(a){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),E||k({projectManager:!0,hasErrors:!0}),y.hasErrors){e.next=13;break}return e.prev=3,e.next=6,b.Z.attachProjectManager(t,E);case 6:c(),i(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),alert("Er is iets misgegaan met het toevoegen van de projectmanager. Herlaad de pagina en probeer het nogmaals.");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return(0,l.useEffect)((function(){var e;(e=(0,n.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae.Z.getProjectManagerPeek();case 3:t=e.sent,g(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met ophalen van de projectmanagers! Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return e.apply(this,arguments)})()}),[]),l.createElement("form",{className:"form-horizontal",onSubmit:Z},l.createElement(m.Z,{className:"panel-grey"},l.createElement(u.Z,null,l.createElement("div",{className:"row"},l.createElement(S.Z,{label:"Campagne",name:"campaign",value:a,readOnly:!0}),l.createElement(A.Z,{label:"Projectmanager",size:"col-sm-6",name:"projectManagerId",options:d,value:E,onChangeAction:function(e){h(e.target.value)},required:"required",error:y.projectManager})),l.createElement("div",{className:"pull-right btn-group",role:"group"},l.createElement(I.Z,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:i}),l.createElement(I.Z,{buttonText:"Opslaan",onClickAction:Z,type:"submit",value:"Submit"})))))},Ve=(0,i.$j)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaignId,a=e.campaignName,n=e.projectManagers,c=e.permissions,o=e.fetchCampaignData,i=(0,l.useState)(!1),s=(0,r.Z)(i,2),p=s[0],d=s[1];function g(){d((function(e){return!e}))}return l.createElement(m.Z,null,l.createElement(oe.Z,null,l.createElement("span",{className:"h5 text-bold"},"Betrokken projectmanagers"),c.manageMarketing&&l.createElement("a",{role:"button",className:"pull-right",onClick:g},l.createElement(J.ZP,{size:14,icon:le.P}))),l.createElement(u.Z,null,l.createElement("div",{className:"col-md-12"},l.createElement(qe,{projectManagers:n,campaignId:t,fetchCampaignData:o})),l.createElement("div",{className:"col-md-12 margin-10-top"},p&&l.createElement(Re,{campaignId:t,campaignName:a,toggleShowNew:g,fetchCampaignData:o}))))})),Ge=(0,i.$j)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.externalParty,a=t.id,n=t.number,r=t.name,c=t.address,o=e.highlightLine,i=e.onLineEnter,m=e.onLineLeave,u=e.permissions,p=e.showActionButtons,d=e.toggleDelete;return l.createElement("div",{className:"row border ".concat(o),onMouseEnter:i,onMouseLeave:m},l.createElement("div",{onClick:function(){return s.nA.push("/contact/".concat(a))}},l.createElement("div",{className:"col-sm-2"},n),l.createElement("div",{className:"col-sm-4"},r),l.createElement("div",{className:"col-sm-4"},c?c.city:"")),l.createElement("div",{className:"col-sm-1"},p&&u.manageMarketing?l.createElement("a",{role:"button",onClick:d},l.createElement(J.ZP,{className:"mybtn-danger",size:14,icon:Q._})):""))})),$e=function(e){var t=e.toggleDelete,a=e.fetchCampaignData,r=e.externalPartyId,c=e.campaignId;function i(){return(i=(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.Z.detachExternalParty(c,r);case 3:a(),t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met het verwijderen van de externe partij. Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return l.createElement(h.Z,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:t,confirmAction:function(){return i.apply(this,arguments)},title:"Verwijderen"},l.createElement("p",null,"Wil je deze externe partij ontkoppelen van deze campagne?"))};function He(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?He(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):He(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const Ue=function(e){var t=e.externalParty,a=e.campaignId,n=e.fetchCampaignData,c=(0,l.useState)({showActionButtons:!1,highlightLine:"",showDelete:!1}),o=(0,r.Z)(c,2),i=o[0],s=o[1];function m(){s({showDelete:!i.showDelete})}return l.createElement("div",null,l.createElement(Ge,{highlightLine:i.highlightLine,showActionButtons:i.showActionButtons,onLineEnter:function(){s(Fe(Fe({},i),{},{showActionButtons:!0,highlightLine:"highlight-line"}))},onLineLeave:function(){s(Fe(Fe({},i),{},{showActionButtons:!1,highlightLine:""}))},toggleDelete:m,externalParty:t}),i.showDelete&&l.createElement($e,{toggleDelete:m,externalPartyId:t.id,campaignId:a,fetchCampaignData:n}))},_e=function(e){var t=e.externalParties,a=e.campaignId,n=e.fetchCampaignData;return l.createElement("div",null,l.createElement("div",{className:"row border header"},l.createElement("div",{className:"col-sm-2"},"Nummer"),l.createElement("div",{className:"col-sm-4"},"Externe partij"),l.createElement("div",{className:"col-sm-4"},"Plaats"),l.createElement("div",{className:"col-sm-1"})),t.length>0?t.map((function(e){return l.createElement(Ue,{key:e.id,externalParty:e,campaignId:a,fetchCampaignData:n})})):l.createElement("div",null,"Geen betrokken externe partijen bekend."))},Ke=function(e){var t=e.campaignId,a=e.campaignName,c=e.fetchCampaignData,i=e.toggleShowNew,s=(0,l.useState)([]),p=(0,r.Z)(s,2),d=p[0],g=p[1],f=(0,l.useState)(""),v=(0,r.Z)(f,2),E=v[0],h=v[1],w=(0,l.useState)({externalParty:!1,hasErrors:!1}),N=(0,r.Z)(w,2),y=N[0],k=N[1];function Z(e){return D.apply(this,arguments)}function D(){return(D=(0,n.Z)(o().mark((function e(a){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),E||k({externalParty:!0,hasErrors:!0}),y.hasErrors){e.next=13;break}return e.prev=3,e.next=6,b.Z.attachExternalParty(t,E);case 6:c(),i(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),alert("Er is iets misgegaan met het toevoegen van de externe partij. Herlaad de pagina en probeer het nogmaals.");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return(0,l.useEffect)((function(){var e;(e=(0,n.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ae.Z.getExternalPartyPeek();case 3:t=e.sent,g(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met ophalen van de externe partijen! Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return e.apply(this,arguments)})()}),[]),l.createElement("form",{className:"form-horizontal",onSubmit:Z},l.createElement(m.Z,{className:"panel-grey"},l.createElement(u.Z,null,l.createElement("div",{className:"row"},l.createElement(S.Z,{label:"Campagne",name:"campaign",value:a,readOnly:!0}),l.createElement(A.Z,{label:"Externe partij",size:"col-sm-6",name:"externalPartyId",options:d,value:E,onChangeAction:function(e){h(e.target.value)},required:"required",error:y.externalParty})),l.createElement("div",{className:"pull-right btn-group",role:"group"},l.createElement(I.Z,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:i}),l.createElement(I.Z,{buttonText:"Opslaan",onClickAction:Z,type:"submit",value:"Submit"})))))},Je=(0,i.$j)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaignId,a=e.campaignName,n=e.externalParties,c=e.permissions,o=e.fetchCampaignData,i=(0,l.useState)(!1),s=(0,r.Z)(i,2),p=s[0],d=s[1];function g(){d((function(e){return!e}))}return l.createElement(m.Z,null,l.createElement(oe.Z,null,l.createElement("span",{className:"h5 text-bold"},"Betrokken externe partijen"),c.manageMarketing&&l.createElement("a",{role:"button",className:"pull-right",onClick:g},l.createElement(J.ZP,{size:14,icon:le.P}))),l.createElement(u.Z,null,l.createElement("div",{className:"col-md-12"},l.createElement(_e,{externalParties:n,campaignId:t,fetchCampaignData:o})),l.createElement("div",{className:"col-md-12 margin-10-top"},p&&l.createElement(Ke,{campaignId:t,campaignName:a,toggleShowNew:g,fetchCampaignData:o}))))}));var Qe=a(19789),Ye=a(9669),Xe=a.n(Ye),et=a(90329),tt=a(82084);function at(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function nt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?at(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):at(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}j().locale("nl");const rt=(0,i.$j)((function(e){return{status:e.systemData.campaignStatuses,types:e.systemData.campaignTypes,measureCategories:e.systemData.measureCategories,opportunityActions:e.systemData.opportunityActions}}))((function(e){var t,a,c,i,s=e.campaign,m=e.fetchCampaignData,u=e.switchToView,p=(0,l.useState)(nt(nt({},s),{},{inspectionPlannedEmailTemplateId:(null===(t=s.inspectionPlannedEmailTemplate)||void 0===t?void 0:t.id)||"",inspectionPlannedMailboxId:(null===(a=s.inspectionPlannedMailbox)||void 0===a?void 0:a.id)||"",inspectionRecordedEmailTemplateId:(null===(c=s.inspectionRecordedEmailTemplate)||void 0===c?void 0:c.id)||"",inspectionReleasedEmailTemplateId:(null===(i=s.inspectionReleasedEmailTemplate)||void 0===i?void 0:i.id)||""})),d=(0,r.Z)(p,2),g=d[0],f=d[1],v=(0,l.useState)({inspectionPlannedEmailTemplateId:!1,inspectionPlannedMailboxId:!1,inspectionRecordedEmailTemplateId:!1,inspectionReleasedEmailTemplateId:!1}),E=(0,r.Z)(v,2),h=(E[0],E[1]),w=(0,l.useState)([]),N=(0,r.Z)(w,2),y=N[0],k=N[1],Z=(0,l.useState)([]),D=(0,r.Z)(Z,2),O=D[0],j=D[1];function P(e,t){f(nt(nt({},g),{},(0,C.Z)({},e,t)))}function x(e){return S.apply(this,arguments)}function S(){return(S=(0,n.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),h({}),e.prev=5,e.next=8,b.Z.updateCampaignInspection(g.id,g);case 8:m(),u(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),alert("Er is iets misgegaan met het opslaan van de gegevens!");case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}return(0,l.useEffect)((function(){Xe().all([Qe.Z.fetchEmailTemplatesPeek(),et.Z.fetchMailboxesLoggedInUserPeek()]).then(Xe().spread((function(e,t){k(t.data.data),j(e)})))}),[]),l.createElement("form",{className:"form-horizontal col-md-12",onSubmit:x},l.createElement("div",null,l.createElement("div",{className:"row"},l.createElement(tt.Z,{label:"Afspraak e-mail template",name:"inspectionPlannedEmailTemplateId",options:O,optionName:"name",value:g.inspectionPlannedEmailTemplateId,onChangeAction:function(e,t){return P(t,e)},clearable:!0}),l.createElement(tt.Z,{label:"Mailbox e-mail bevestigingen",name:"inspectionPlannedMailboxId",options:y,optionName:"email",value:g.inspectionPlannedMailboxId,onChangeAction:function(e,t){return P(t,e)},clearable:!0})),l.createElement("div",{className:"row"},l.createElement(tt.Z,{label:"Opname e-mail template",name:"inspectionRecordedEmailTemplateId",options:O,optionName:"name",value:g.inspectionRecordedEmailTemplateId,onChangeAction:function(e,t){return P(t,e)},clearable:!0})),l.createElement("div",{className:"row"},l.createElement(tt.Z,{label:"Uitgebracht e-mail template",name:"inspectionReleasedEmailTemplateId",options:O,optionName:"name",value:g.inspectionReleasedEmailTemplateId,onChangeAction:function(e,t){return P(t,e)},clearable:!0})),l.createElement(L.Z,null,l.createElement("div",{className:"pull-right btn-group",role:"group"},l.createElement(I.Z,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:u}),l.createElement(I.Z,{buttonText:"Opslaan",onClickAction:x,type:"submit",value:"Submit"})))))}));j().locale("nl");const ct=function(e){var t=e.campaign,a=t.inspectionPlannedEmailTemplate,n=t.inspectionPlannedMailbox,r=t.inspectionRecordedEmailTemplate,c=t.inspectionReleasedEmailTemplate,o=e.switchToEdit;return l.createElement("div",null,l.createElement("div",{className:"row",onClick:o},l.createElement(q.Z,{size:"col-sm-6",label:"Afspraak e-mail template",value:a&&a.name}),l.createElement(q.Z,{size:"col-sm-6",label:"Mailbox e-mail bevestigingen",value:n&&n.name})),l.createElement("div",{className:"row",onClick:o},l.createElement(q.Z,{size:"col-sm-6",label:"Opname e-mail template",value:r&&r.name})),l.createElement("div",{className:"row",onClick:o},l.createElement(q.Z,{size:"col-sm-6",label:"Uitgebracht e-mail template",value:c&&c.name})))},ot=(0,i.$j)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaign,a=e.permissions,n=e.fetchCampaignData,r=H(),c=r.state,o=r.switchToEdit,i=r.switchToView,s=r.onDivEnter,p=r.onDivLeave;return l.createElement(m.Z,{className:c.activeDiv,onMouseEnter:function(){return s()},onMouseLeave:function(){return p()}},l.createElement(oe.Z,null,l.createElement("span",{className:"h5 text-bold"},"Portaal workflow instellingen")),l.createElement(u.Z,null,c.showEdit&&a.manageMarketing?l.createElement(rt,{campaign:t,switchToView:i,fetchCampaignData:n}):l.createElement(ct,{campaign:t,switchToEdit:o})))}));var lt=a(75502);const it=(0,i.$j)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaignWorkflow,a=(t.id,t.status),n=t.emailTemplateWorkflow,r=t.numberOfDaysToSendEmail,c=t.isActive,o=e.highlightLine,i=e.onLineEnter,s=e.onLineLeave,m=e.permissions,u=e.showActionButtons,p=e.openEdit,d=e.toggleDelete,g=a.usesWf&&c?"":"text-danger";return l.createElement("div",{className:"row border ".concat(o),onMouseEnter:i,onMouseLeave:s},l.createElement("div",{onClick:p,className:"".concat(g)},l.createElement("div",{className:"col-sm-3"},a?a.name:""),l.createElement("div",{className:"col-sm-3"},n?n.name:""),l.createElement("div",{className:"col-sm-2"},r||"Direct"),l.createElement("div",{className:"col-sm-1"},a.usesWf?"Ja":"Nee"),l.createElement("div",{className:"col-sm-1"},c?"Ja":"Nee"),l.createElement("div",{className:"col-sm-1"},u&&m.manageMarketing?l.createElement(l.Fragment,null,l.createElement("a",{role:"button",onClick:p},l.createElement(J.ZP,{className:"mybtn-success",size:14,icon:lt.r})),l.createElement("a",{role:"button",onClick:d},l.createElement(J.ZP,{className:"mybtn-danger",size:14,icon:Q._}))):"")))}));var st=a(21606);const mt=function(e){var t=e.campaignWorkflow,a=e.cancelEdit,c=e.fetchCampaignData,i=(0,l.useState)(t.emailTemplateWorkflow.id),s=(0,r.Z)(i,2),p=s[0],d=s[1],g=(0,l.useState)(t.numberOfDaysToSendEmail),f=(0,r.Z)(g,2),v=f[0],E=f[1],h=(0,l.useState)(t.mailCcToCoachWf),w=(0,r.Z)(h,2),N=w[0],y=w[1],k=(0,l.useState)(t.isActive),Z=(0,r.Z)(k,2),D=Z[0],C=Z[1],O=(0,l.useState)({emailTemplatedIdWf:!1,numberOfDaysToSendEmail:!1}),j=(0,r.Z)(O,2),P=j[0],x=j[1],T=(0,l.useState)({emailTemplatedIdWf:"",numberOfDaysToSendEmail:""}),L=(0,r.Z)(T,2),M=L[0],z=L[1],W=(0,l.useState)([]),B=(0,r.Z)(W,2),q=B[0],R=B[1];function V(e){return G.apply(this,arguments)}function G(){return G=(0,n.Z)(o().mark((function e(n){var r,l,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r={emailTemplatedIdWf:!1,numberOfDaysToSendEmail:!1},l={emailTemplatedIdWf:"",numberOfDaysToSendEmail:""},i=!1,p||(r.emailTemplatedIdWf=!0,l.emailTemplatedIdWf="E-email template is verplicht.",i=!0),null===v||""===v?(r.numberOfDaysToSendEmail=!0,l.numberOfDaysToSendEmail="Aantal dagen e-mail na deze status is verplicht",i=!0):(console.log("numberOfDaysToSendEmail"),console.log(v)),v<0&&(r.numberOfDaysToSendEmail=!0,l.numberOfDaysToSendEmail="Aantal dagen e-mail na deze status mag niet negatief zijn",i=!0),i){e.next=25;break}return e.prev=8,(s=new FormData).append("emailTemplatedIdWf",p),s.append("numberOfDaysToSendEmail",v),s.append("isActive",1==D?1:0),s.append("mailCcToCoachWf",1==N?1:0),e.next=16,b.Z.editCampaignWorkflow(t.id,s);case 16:c(),a(!0),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(8),alert("Er is iets misgegaan met het toevoegen van de status. Herlaad de pagina en probeer het nogmaals.");case 23:e.next=27;break;case 25:x(r),z(l);case 27:case"end":return e.stop()}}),e,null,[[8,20]])}))),G.apply(this,arguments)}return(0,l.useEffect)((function(){Xe().all([Qe.Z.fetchEmailTemplatesPeek()]).then(Xe().spread((function(e,t){R(e)})))}),[]),l.createElement("form",{className:"form-horizontal",onSubmit:V},l.createElement(m.Z,{className:"panel-grey"},l.createElement(u.Z,null,l.createElement("div",{className:"row"},l.createElement(A.Z,{label:"E-email template",size:"col-sm-6",name:"emailTemplatedWfId",options:q,value:p,required:"required",onChangeAction:function(e){d(e.target.value)},error:P.emailTemplatedIdWf,errorMessage:M.emailTemplatedIdWf}),l.createElement(S.Z,{label:"Aantal dagen e-mail na deze status",divSize:"col-sm-6",type:"number",id:"numberOfDaysToSendEmail",name:"numberOfDaysToSendEmail",value:v,allowZero:!0,onChangeAction:function(e){E(e.target.value)},required:"required",min:0,error:P.numberOfDaysToSendEmail,errorMessage:M.numberOfDaysToSendEmail})),l.createElement("div",{className:"row"},"quotationrequest"===t.workflowForType?l.createElement(st.Z,{label:"Email cc naar coach",name:"mailCcToCoachWf",value:Boolean(N),onChangeAction:function(e){y(e.target.checked)}}):null,l.createElement(st.Z,{label:"Actief",name:"isActive",value:Boolean(D),onChangeAction:function(e){C(e.target.checked)}})),l.createElement("div",{className:"pull-right btn-group",role:"group"},l.createElement(I.Z,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:a}),l.createElement(I.Z,{buttonText:"Opslaan",onClickAction:V,type:"submit",value:"Submit"})))))},ut=function(e){var t=e.toggleDelete,a=e.fetchCampaignData,r=e.campaignWorkflow;function c(){return(c=(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.Z.deleteCampaignWorkflow(r.id);case 3:a(),t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met het verwijderen van de workflow. Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return l.createElement(h.Z,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:t,confirmAction:function(){return c.apply(this,arguments)},title:"Verwijderen"},l.createElement("p",null,"Wil je deze workflow voor ",l.createElement("strong",null,r.statusName),"ontkoppelen van campagne?"))};function pt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const gt=function(e){var t=e.campaignWorkflow,a=e.campaignId,n=e.fetchCampaignData,c=e.statusesToSelect,o=(0,l.useState)({showActionButtons:!1,highlightLine:"",showDelete:!1,showEdit:!1}),i=(0,r.Z)(o,2),s=i[0],m=i[1];function u(){m({showDelete:!s.showDelete})}return l.createElement("div",null,l.createElement(it,{highlightLine:s.highlightLine,showActionButtons:s.showActionButtons,onLineEnter:function(){m(dt(dt({},s),{},{showActionButtons:!0,highlightLine:"highlight-line"}))},onLineLeave:function(){m(dt(dt({},s),{},{showActionButtons:!1,highlightLine:""}))},openEdit:function(){m({showEdit:!0})},toggleDelete:u,campaignWorkflow:t}),s.showEdit&&l.createElement(mt,{cancelEdit:function(){m({showEdit:!1})},campaignWorkflow:t,campaignId:a,statusesToSelect:c,fetchCampaignData:n}),s.showDelete&&l.createElement(ut,{toggleDelete:u,campaignWorkflow:t,fetchCampaignData:n}))},ft=function(e){var t=e.campaignWorkflows,a=e.campaignId,n=e.fetchCampaignData,r=e.statusesToSelect;return l.createElement("div",null,l.createElement("div",{className:"row border header"},l.createElement("div",{className:"col-sm-3"},"Status"),l.createElement("div",{className:"col-sm-3"},"Email template"),l.createElement("div",{className:"col-sm-2"},"Versturen na aantal dagen"),l.createElement("div",{className:"col-sm-1"},"Gebruikt workflow"),l.createElement("div",{className:"col-sm-1"},"Workflow actief"),l.createElement("div",{className:"col-sm-1"},"")),t.length>0?t.map((function(e){return l.createElement(gt,{key:e.id,campaignWorkflow:e,campaignId:a,fetchCampaignData:n,statusesToSelect:r})})):l.createElement("div",null,"Geen workflows bekend."))},vt=function(e){var t=e.campaignId,a=e.toggleShowNew,c=e.workflowForType,i=e.fetchCampaignData,s=(0,l.useState)(""),p=(0,r.Z)(s,2),d=p[0],g=p[1],f=(0,l.useState)(""),v=(0,r.Z)(f,2),E=v[0],h=v[1],w=(0,l.useState)(""),N=(0,r.Z)(w,2),y=N[0],k=N[1],Z=(0,l.useState)("opportunity"!==c),D=(0,r.Z)(Z,2),C=D[0],O=D[1],j=(0,l.useState)(!0),P=(0,r.Z)(j,2),x=P[0],T=P[1],L=(0,l.useState)({statusId:!1,emailTemplatedIdWf:!1,numberOfDaysToSendEmail:!1}),M=(0,r.Z)(L,2),z=M[0],W=M[1],B=(0,l.useState)({statusId:"",emailTemplatedIdWf:"",numberOfDaysToSendEmail:""}),q=(0,r.Z)(B,2),R=q[0],V=q[1],G=(0,l.useState)([]),$=(0,r.Z)(G,2),H=$[0],F=$[1],U=(0,l.useState)([]),_=(0,r.Z)(U,2),K=_[0],J=_[1];function Q(e){return Y.apply(this,arguments)}function Y(){return Y=(0,n.Z)(o().mark((function e(n){var r,l,s,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r={statusId:!1,emailTemplatedIdWf:!1,numberOfDaysToSendEmail:!1},l={statusId:"",emailTemplatedIdWf:"",numberOfDaysToSendEmail:""},s=!1,d||(r.statusId=!0,l.statusId="Status is verplicht.",s=!0),E||(r.emailTemplatedIdWf=!0,l.emailTemplatedIdWf="E-email template is verplicht.",s=!0),y||(r.numberOfDaysToSendEmail=!0,l.numberOfDaysToSendEmail="Aantal dagen e-mail na deze status is verplicht",s=!0),s){e.next=28;break}return(m=new FormData).append("statusId",d),m.append("emailTemplatedIdWf",E),m.append("numberOfDaysToSendEmail",y),m.append("workflowForType",c),m.append("campaignId",t),m.append("isActive",1==x?1:0),m.append("mailCcToCoachWf",1==C?1:0),e.prev=16,e.next=19,b.Z.addCampaignWorkflow(m);case 19:i(),a(),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(16),alert("Er is iets misgegaan met het toevoegen van de status. Herlaad de pagina en probeer het nogmaals.");case 26:e.next=30;break;case 28:W(r),V(l);case 30:case"end":return e.stop()}}),e,null,[[16,23]])}))),Y.apply(this,arguments)}return(0,l.useEffect)((function(){Xe().all([Qe.Z.fetchEmailTemplatesPeek(),b.Z.fetchCampaignWorkflowStatuses({campaignId:t,workflowForType:c})]).then(Xe().spread((function(e,t){F(e),J(t.data.data)})))}),[t,c]),l.createElement("form",{className:"form-horizontal",onSubmit:Q},l.createElement(m.Z,{className:"panel-grey"},l.createElement(u.Z,null,l.createElement("div",{className:"row"},l.createElement(A.Z,{label:"Status",size:"col-sm-6",name:"statusId",options:K,value:d,onChangeAction:function(e){g(e.target.value)},required:"required",error:z.statusId,errorMessage:R.statusId}),l.createElement(A.Z,{label:"E-email template",size:"col-sm-6",name:"emailTemplatedIdWf",options:H,value:E,required:"required",onChangeAction:function(e){h(e.target.value)},error:z.emailTemplatedIdWf,errorMessage:R.emailTemplatedIdWf})),l.createElement("div",{className:"row"},l.createElement(S.Z,{label:"Aantal dagen e-mail na deze status",divSize:"col-sm-6",type:"number",id:"numberOfDaysToSendEmail",name:"numberOfDaysToSendEmail",value:y,onChangeAction:function(e){k(e.target.value)},required:"required",min:0,error:z.numberOfDaysToSendEmail,errorMessage:R.numberOfDaysToSendEmail}),"quotationrequest"===c?l.createElement(st.Z,{label:"Email cc naar coach",name:"mailCcToCoachWf",value:Boolean(C),onChangeAction:function(e){O(e.target.value)}}):null),l.createElement("div",{className:"row"},l.createElement(st.Z,{label:"Actief",name:"isActive",value:Boolean(x),onChangeAction:function(e){T(e.target.value)}})),l.createElement("div",{className:"pull-right btn-group",role:"group"},l.createElement(I.Z,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:a}),l.createElement(I.Z,{buttonText:"Opslaan",onClickAction:Q,type:"submit",value:"Submit"})))))},Et=function(e){var t=e.workflowForType,a=e.campaignId,n=e.campaignName,c=e.campaignWorkflows,o=e.fetchCampaignData,i=(0,l.useState)(!1),s=(0,r.Z)(i,2),p=s[0],d=s[1],g=c.filter((function(e){return e.workflowForType===t}));function f(){d((function(e){return!e}))}return l.createElement(m.Z,null,l.createElement(oe.Z,null,l.createElement("span",{className:"h5 text-bold"},"Workflow op ","opportunity"===t?"kans status":"kansactie status"),l.createElement("a",{role:"button",className:"pull-right",onClick:f},l.createElement(J.ZP,{size:14,icon:le.P}))),l.createElement(u.Z,null,l.createElement("div",{className:"col-md-12"},l.createElement(ft,{campaignWorkflows:g,campaignId:a,fetchCampaignData:o})),l.createElement("div",{className:"col-md-12 margin-10-top"},p&&l.createElement(vt,{campaignId:a,campaignName:n,toggleShowNew:f,fetchCampaignData:o,workflowForType:t}))))};j().locale("nl");const ht=function(e){var t=e.campaign.defaultWorkflowMailbox,a=e.switchToEdit;return l.createElement("div",null,l.createElement("div",{className:"row",onClick:a},l.createElement(q.Z,{size:"col-sm-6",label:"Standaard mailbox",value:t&&t.name})))};function bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function wt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}j().locale("nl");const Nt=function(e){var t,a=e.campaign,c=e.fetchCampaignData,i=e.switchToView,s=(0,l.useState)(wt(wt({},a),{},{defaultWorkflowMailboxId:(null===(t=a.defaultWorkflowMailbox)||void 0===t?void 0:t.id)||""})),m=(0,r.Z)(s,2),u=m[0],p=m[1],d=(0,l.useState)({defaultWorkflowMailbox:!1}),g=(0,r.Z)(d,2),f=(g[0],g[1]),v=(0,l.useState)([]),E=(0,r.Z)(v,2),h=E[0],w=E[1];function N(e){return y.apply(this,arguments)}function y(){return(y=(0,n.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),f({}),e.prev=5,e.next=8,b.Z.updateCampaignWorkflowSetting(u.id,u);case 8:c(),i(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),alert("Er is iets misgegaan met het opslaan van de gegevens!");case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}return(0,l.useEffect)((function(){Xe().all([et.Z.fetchMailboxesLoggedInUserPeek()]).then(Xe().spread((function(e){w(e.data.data)})))}),[]),l.createElement("form",{className:"form-horizontal col-md-12",onSubmit:N},l.createElement("div",{className:"row"},l.createElement(tt.Z,{label:"Standaard mailbox",name:"defaultWorkflowMailboxId",options:h,optionName:"email",value:u.defaultWorkflowMailboxId,onChangeAction:function(e,t){return function(e,t){p(wt(wt({},u),{},(0,C.Z)({},e,t)))}(t,e)},clearable:!0})),l.createElement(L.Z,null,l.createElement("div",{className:"pull-right btn-group",role:"group"},l.createElement(I.Z,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:i}),l.createElement(I.Z,{buttonText:"Opslaan",onClickAction:N,type:"submit",value:"Submit"}))))},yt=(0,i.$j)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaign,a=e.permissions,n=e.fetchCampaignData,r=H(),c=r.state,o=r.switchToEdit,i=r.switchToView,s=r.onDivEnter,p=r.onDivLeave;return l.createElement(m.Z,{className:c.activeDiv,onMouseEnter:function(){return s()},onMouseLeave:function(){return p()}},l.createElement(oe.Z,null,l.createElement("span",{className:"h5 text-bold"},"Workflow instellingen")),l.createElement(u.Z,null,c.showEdit&&a.manageMarketing?l.createElement(Nt,{campaign:t,switchToView:i,fetchCampaignData:n}):l.createElement(ht,{campaign:t,switchToEdit:o})))})),kt=function(e){var t=e.campaign,a=e.isLoading,n=e.hasError,r=e.fetchCampaignData;return n?l.createElement("div",null,"Fout bij het ophalen van campagne."):a?l.createElement("div",null,"Gegevens aan het laden."):(0,D.isEmpty)(t)?l.createElement("div",null,"Geen campagne gevonden!"):l.createElement(l.Fragment,null,l.createElement(F,{campaign:t,fetchCampaignData:r}),l.createElement(ie,{campaignId:t.id,campaignName:t.name,organisations:t.organisations,fetchCampaignData:r}),l.createElement(Ie,{campaignId:t.id,campaignName:t.name,coaches:t.coaches,fetchCampaignData:r}),l.createElement(Ve,{campaignId:t.id,campaignName:t.name,projectManagers:t.projectManagers,fetchCampaignData:r}),l.createElement(Je,{campaignId:t.id,campaignName:t.name,externalParties:t.externalParties,fetchCampaignData:r}),l.createElement(ot,{campaign:t,fetchCampaignData:r}),l.createElement(yt,{campaign:t,fetchCampaignData:r}),l.createElement(Et,{workflowForType:"opportunity",campaignId:t.id,campaignName:t.name,campaignWorkflows:t.campaignWorkflows,fetchCampaignData:r}),l.createElement(Et,{workflowForType:"quotationrequest",campaignId:t.id,campaignName:t.name,campaignWorkflows:t.campaignWorkflows,fetchCampaignData:r}),l.createElement(de,{campaignId:t.id}),l.createElement(ve,{campaignId:t.id}),l.createElement(De,{campaignId:t.id,campaignName:t.name,responses:t.responses,fetchCampaignData:r}),l.createElement(K,{campaign:t,fetchCampaignData:r}))},Zt=function(e){var t=e.relatedTasks;return 0===t.length?l.createElement("div",null,"Geen taken gevonden."):l.createElement("div",null,l.createElement("table",{className:"table harmonica-table"},l.createElement("tbody",null,t.map((function(e){return l.createElement("tr",{onClick:function(){return t=e.id,void s.nA.push("/taak/".concat(t));var t},key:e.id},l.createElement("td",{className:"col-xs-12 clickable"},j()(e.createdAt).format("L")," - ",e.noteSummary))})))))},Dt=(0,i.$j)((function(e){return{permissions:e.meDetails.permissions}}),null)((function(e){var t=e.toggleShowList,a=e.showTasksList,n=e.taskCount,r=e.newTask,c=e.permissions,o=e.relatedTasks;return l.createElement(m.Z,{className:"harmonica-button"},l.createElement(u.Z,null,l.createElement("div",{className:"col-sm-10",onClick:t,role:"button"},l.createElement("span",{className:""},"OPEN TAKEN ",l.createElement("span",{className:"badge"},n))),l.createElement("div",{className:"col-sm-2"},c.manageTask&&l.createElement("a",{role:"button",className:"pull-right",onClick:r},l.createElement(J.ZP,{className:"harmonica-button",size:14,icon:le.P}))),l.createElement("div",{className:"col-sm-12"},a&&l.createElement(Zt,{relatedTasks:o}))))})),Ct=function(e){var t=e.relatedNotes;return 0===t.length?l.createElement("div",null,"Geen notities gevonden."):l.createElement("div",null,l.createElement("table",{className:"table harmonica-table"},l.createElement("tbody",null,t.map((function(e){return l.createElement("tr",{onClick:function(){return t=e.id,void s.nA.push("/taak/".concat(t));var t},key:e.id},l.createElement("td",{className:"col-xs-12 clickable"},j()(e.createdAt).format("L")," - ",e.noteSummary))})))))},Ot=(0,i.$j)((function(e){return{permissions:e.meDetails.permissions}}),null)((function(e){var t=e.toggleShowList,a=e.showNotesList,n=e.noteCount,r=e.newNote,c=e.permissions,o=e.relatedNotes;return l.createElement(m.Z,{className:"harmonica-button"},l.createElement(u.Z,null,l.createElement("div",{className:"col-sm-10",onClick:t,role:"button"},l.createElement("span",{className:""},"NOTITIES ",l.createElement("span",{className:"badge"},n))),l.createElement("div",{className:"col-sm-2"},c.manageTask&&l.createElement("a",{role:"button",className:"pull-right",onClick:r},l.createElement(J.ZP,{className:"harmonica-button",size:14,icon:le.P}))),l.createElement("div",{className:"col-sm-12"},a&&l.createElement(Ct,{relatedNotes:o}))))})),jt=function(e){var t=e.relatedDocuments;return 0===t.length?l.createElement("div",null,"Geen documenten gevonden."):l.createElement("div",null,l.createElement("table",{className:"table harmonica-table"},l.createElement("tbody",null,t.map((function(e){return l.createElement("tr",{onClick:function(){return t=e.id,void s.nA.push("/document/".concat(t));var t},key:e.id},l.createElement("td",{className:"col-xs-5 clickable"},j()(e.createdAt).format("L")),l.createElement("td",{className:"col-xs-6 clickable"},e.filename))})))))},Pt=(0,i.$j)((function(e){return{permissions:e.meDetails.permissions}}),null)((function(e){var t=e.toggleShowList,a=e.showDocumentsList,n=e.newDocument,r=e.documentCount,c=e.permissions,o=e.relatedDocuments;return l.createElement(m.Z,{className:"harmonica-button"},l.createElement(u.Z,null,l.createElement("div",{className:"col-sm-10",onClick:t,role:"button"},l.createElement("span",null,"DOCUMENTEN ",l.createElement("span",{className:"badge"},r))),l.createElement("div",{className:"col-sm-2"},c.createDocument&&l.createElement("div",{className:"pull-right"},l.createElement(J.ZP,{className:"harmonica-button",size:14,icon:le.P,"data-toggle":"dropdown",role:"button"}),l.createElement("ul",{className:"dropdown-menu"},l.createElement("li",null,l.createElement("a",{className:"btn",onClick:function(){return n("upload")}},"Upload document"))))),l.createElement("div",{className:"col-sm-12"},a&&l.createElement(jt,{relatedDocuments:o}))))}));function xt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function St(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const At=function(e){var t=e.campaign,a=(0,l.useState)({tasks:!1,notes:!1,documents:!1}),n=(0,r.Z)(a,2),c=n[0],o=n[1];function i(e){o((function(t){return St(St({},t),{},(0,C.Z)({},e,!t[e]))}))}return l.createElement("div",{className:"margin-10-top"},l.createElement(Dt,{toggleShowList:function(){return i("tasks")},showTasksList:c.tasks,taskCount:t.taskCount,newTask:function(){s.nA.push("/taak/nieuw/campagne/".concat(t.id))},relatedTasks:t.relatedTasks}),l.createElement(Ot,{toggleShowList:function(){return i("notes")},showNotesList:c.notes,noteCount:t.noteCount,newNote:function(){s.nA.push("/taak/nieuw/afgehandeld/campagne/".concat(t.id))},relatedNotes:t.relatedNotes}),l.createElement(Pt,{toggleShowList:function(){return i("documents")},showDocumentsList:c.documents,documentCount:t.documentCount,newDocument:function(e){s.nA.push("/document/nieuw/".concat(e,"/campagne/").concat(t.id))},relatedDocuments:t.relatedDocuments}))};function Tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function It(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(a),!0).forEach((function(t){(0,C.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Tt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Lt={result:{},isLoading:!0,hasError:!1},Mt=function(e,t){switch(t.type){case"updateIsLoading":return It(It({},e),{},{isLoading:t.payload});case"updateResult":return It(It({},e),{},{result:t.payload});case"updateHasErrors":return It(It({},e),{},{hasError:t.payload});default:return Lt}};const zt=function(e){var t=e.params,a=(0,l.useReducer)(Mt,Lt),c=(0,r.Z)(a,2),i=c[0],s=c[1];function p(){return d.apply(this,arguments)}function d(){return(d=(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.Z.fetchCampaign({id:t.id});case 3:a=e.sent.data.data,s({type:"updateResult",payload:a}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:"updateHasErrors",payload:!0}),alert("Er is iets misgegaan met het laden van de gegevens. Herlaad de pagina.");case 11:s({type:"updateIsLoading",payload:!1});case 12:case"end":return e.stop()}var a}),e,null,[[0,7]])})))).apply(this,arguments)}return(0,l.useEffect)((function(){p()}),[]),l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-9"},l.createElement("div",{className:"col-md-12"},l.createElement(Z,{campaign:i.result})),l.createElement("div",{className:"col-md-12"},l.createElement(kt,{campaign:i.result,isLoading:i.isLoading,hasError:i.hasError,fetchCampaignData:p}))),l.createElement(m.Z,{className:"col-md-3 harmonica"},l.createElement(u.Z,null,l.createElement(At,{campaign:i.result}))))}}}]);