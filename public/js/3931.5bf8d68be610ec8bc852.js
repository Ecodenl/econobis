"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[3931],{38404:(t,e,n)=>{n.d(e,{Z:()=>f});var a=n(67294),o=n(45697),r=n.n(o),s=n(86733),i=n(30071),u=n(30381),l=n.n(u);l().locale("nl");var c=function(t){var e=t.className,n=t.value,o=t.onChangeAction,r=t.placeholder,u=n?l()(n).format("L"):"";return a.createElement("th",{className:"DayPicker-overflow ".concat(e)},a.createElement(s.default,{value:u,onDayChange:o,formatDate:i.formatDate,parseDate:i.parseDate,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:i.default},inputProps:{className:"form-control input-sm",placeholder:r},placeholder:""}))};c.defaultProps={className:"",value:null,placeholder:""},c.propTypes={className:r().string,value:r().oneOfType([r().string,r().object]),onChangeAction:r().func,placeholder:r().string};const f=c},33931:(t,e,n)=>{n.r(e),n.d(e,{default:()=>nt});var a=n(15671),o=n(43144),r=n(97326),s=n(60136),i=n(82963),u=n(61120),l=n(4942),c=n(67294),f=n(86706),m=n(83920),d=function(t,e,n){return{type:"FETCH_QUOTATION_REQUESTS",filters:t,sorts:e,pagination:n}},E=function(){return{type:"CLEAR_QUOTATION_REQUESTS"}},R=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_ORGANISATION_OR_COACH",organisationOrCoach:t}},p=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_CONTACT",contact:t}},h=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_ADDRESS",address:t}},q=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_CAMPAIGN",campaign:t}},T=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_MEASURE",measure:t}},g=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_CREATED_AT_START",createdAtStart:t}},v=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_CREATED_AT_END",createdAtEnd:t}},S=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_DATE_PLANNED",datePlanned:t}},Q=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_DATE_RECORDED",dateRecorded:t}},C=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_STATUS",statusId:t}},A=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_DATE_RELEASED",dateReleased:t}},D=function(){return{type:"CLEAR_FILTER_QUOTATION_REQUESTS"}},_=function(t){return{type:"SET_QUOTATION_REQUESTS_PAGINATION",pagination:t}},y=n(87462),F=n(96498),Z=n(75286),N=n(24480),O=n(69025);const k=(0,f.$j)(null,(function(t){return{setQuotationRequestsSortsFilter:function(e,n){t(function(t,e){return{type:"SET_QUOTATION_REQUESTS_SORTS_FILTER",field:t,order:e}}(e,n))}}}))((function(t){var e=function(e,n){t.setQuotationRequestsSortsFilter(e,n),setTimeout((function(){t.refreshQuotationRequestsData()}),100)};return c.createElement("tr",{className:"thead-title"},c.createElement(O.Z,{sortColumn:"organisationOrCoach",title:"Organisatie/Coach",width:"10%",setSorts:e}),c.createElement(O.Z,{sortColumn:"contact",title:"Contact",width:"10%",setSorts:e}),c.createElement(O.Z,{sortColumn:"address",title:"Adres",width:"15%",setSorts:e}),c.createElement(O.Z,{sortColumn:"measure",title:"Maatregel",width:"10%",setSorts:e}),c.createElement(O.Z,{sortColumn:"createdAt",title:"Datum",width:"8%",setSorts:e}),c.createElement(O.Z,{sortColumn:"datePlanned",title:"Afspraak",width:"8%",setSorts:e}),c.createElement(O.Z,{sortColumn:"dateRecorded",title:"Opname",width:"8%",setSorts:e}),c.createElement(O.Z,{sortColumn:"statusId",title:"Status kansactie",width:"8%",setSorts:e}),c.createElement(O.Z,{sortColumn:"dateReleased",title:"Uitgebracht",width:"8%",setSorts:e}),c.createElement(O.Z,{sortColumn:"campaign",title:"Campagne",width:"10%",setSorts:e}),c.createElement("th",{width:"5%"}))}));var I=n(30381),U=n.n(I),P=(n(20794),n(5007)),w=n(38404);const M=(0,f.$j)((function(t){return{filters:t.quotationRequests.filters,quotationRequestStatus:t.systemData.quotationRequestStatus}}),(function(t){return(0,m.DE)({setFilterQuotationRequestStatus:C,clearFilterQuotationRequests:D,setQuotationRequestAddressFilter:h,setQuotationRequestCampaignFilter:q,setQuotationRequestContactFilter:p,setQuotationRequestCreatedAtStartFilter:g,setQuotationRequestCreatedAtEndFilter:v,setQuotationRequestDatePlannedFilter:S,setQuotationRequestDateRecordedFilter:Q,setQuotationRequestDateReleasedFilter:A,setQuotationRequestMeasureFilter:T,setQuotationRequestOrganisationOrCoachFilter:R},t)}))((function(t){return c.createElement("tr",{className:"thead-filter"},c.createElement("th",null,c.createElement("input",{type:"text",className:"form-control input-sm",value:t.filters.organisationOrCoach.data,onChange:function(e){t.setQuotationRequestOrganisationOrCoachFilter(e.target.value)}})),c.createElement("th",null,c.createElement("input",{type:"text",className:"form-control input-sm",value:t.filters.contact.data,onChange:function(e){t.setQuotationRequestContactFilter(e.target.value)}})),c.createElement("th",null,c.createElement("input",{type:"text",className:"form-control input-sm",value:t.filters.address.data,onChange:function(e){t.setQuotationRequestAddressFilter(e.target.value)}})),c.createElement("th",null,c.createElement("input",{type:"text",className:"form-control input-sm",value:t.filters.measure.data,onChange:function(e){t.setQuotationRequestMeasureFilter(e.target.value)}})),c.createElement(P.Z,{startDate:t.filters.createdAtStart.data&&t.filters.createdAtStart.data,endDate:t.filters.createdAtEnd.data&&t.filters.createdAtEnd.data,onChangeActionStart:function(e){void 0===e?t.setQuotationRequestCreatedAtStartFilter(""):t.setQuotationRequestCreatedAtStartFilter(U()(e).format("Y-MM-DD"))},onChangeActionEnd:function(e){void 0===e?t.setQuotationRequestCreatedAtEndFilter(""):t.setQuotationRequestCreatedAtEndFilter(U()(e).format("Y-MM-DD"))}}),c.createElement(w.Z,{value:t.filters.datePlanned.data&&t.filters.datePlanned.data,onChangeAction:function(e){void 0===e?t.setQuotationRequestDatePlannedFilter(""):t.setQuotationRequestDatePlannedFilter(U()(e).format("Y-MM-DD"))}}),c.createElement(w.Z,{value:t.filters.dateRecorded.data&&t.filters.dateRecorded.data,onChangeAction:function(e){void 0===e?t.setQuotationRequestDateRecordedFilter(""):t.setQuotationRequestDateRecordedFilter(U()(e).format("Y-MM-DD"))}}),c.createElement("th",null,c.createElement("select",{className:"form-control input-sm",value:t.filters.statusId.data,onChange:function(e){t.setFilterQuotationRequestStatus(e.target.value),setTimeout((function(){t.onSubmitFilter()}),100)}},c.createElement("option",null),t.quotationRequestStatus.map((function(t){return c.createElement("option",{key:t.id,value:t.id},t.opportunityActionName," - ",t.name)})))),c.createElement(w.Z,{value:t.filters.dateReleased.data&&t.filters.dateReleased.data,onChangeAction:function(e){void 0===e?t.setQuotationRequestDateReleasedFilter(""):t.setQuotationRequestDateReleasedFilter(U()(e).format("Y-MM-DD"))}}),c.createElement("th",null,c.createElement("input",{type:"text",className:"form-control input-sm",value:t.filters.campaign.data,onChange:function(e){t.setQuotationRequestCampaignFilter(e.target.value)}})),c.createElement("th",null))}));var b=n(61409),L=n(97894),Y=n(75502);const B=function(t){(0,s.Z)(l,t);var e,n,r=(e=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,a=(0,u.Z)(e);if(n){var o=(0,u.Z)(this).constructor;t=Reflect.construct(a,arguments,o)}else t=a.apply(this,arguments);return(0,i.Z)(this,t)});function l(t){var e;return(0,a.Z)(this,l),(e=r.call(this,t)).state={showActionButtons:!1,highlightRow:""},e}return(0,o.Z)(l,[{key:"onRowEnter",value:function(){this.setState({showActionButtons:!0,highlightRow:"highlight-row"})}},{key:"onRowLeave",value:function(){this.setState({showActionButtons:!1,highlightRow:""})}},{key:"openItem",value:function(t){b.nA.push("/offerteverzoek/".concat(t))}},{key:"render",value:function(){var t=this,e=this.props,n=e.id,a=e.organisationOrCoach,o=e.opportunity,r=e.createdAt,s=e.dateRecorded,i=e.status,u=e.datePlanned,l=e.dateReleased;return c.createElement("tr",{className:this.state.highlightRow,onDoubleClick:function(){return t.openItem(n)},onMouseEnter:function(){return t.onRowEnter()},onMouseLeave:function(){return t.onRowLeave()}},c.createElement("td",null,a&&a.fullName),c.createElement("td",null,o&&o.intake.contact.fullName),c.createElement("td",null,o&&o.intake.fullAddress),c.createElement("td",null,o&&o.measureCategory.name),c.createElement("td",null,U()(r).format("DD-MM-Y")),c.createElement("td",null,u&&U()(u).format("DD-MM-Y HH:mm")),c.createElement("td",null,s&&U()(s).format("DD-MM-Y HH:mm")),c.createElement("td",null,i?i.name:"Onbekend"),c.createElement("td",null,l&&U()(l).format("DD-MM-Y HH:mm")),c.createElement("td",null,o&&o.intake.campaign.name),c.createElement("td",null,this.state.showActionButtons?c.createElement("a",{role:"button",onClick:function(){return t.openItem(n)}},c.createElement(L.ZP,{className:"mybtn-success",size:14,icon:Y.r})):""))}}]),l}(c.Component);var H=n(51910);var x=function(t){(0,s.Z)(m,t);var e,n,f=(e=m,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,a=(0,u.Z)(e);if(n){var o=(0,u.Z)(this).constructor;t=Reflect.construct(a,arguments,o)}else t=a.apply(this,arguments);return(0,i.Z)(this,t)});function m(t){var e;return(0,a.Z)(this,m),e=f.call(this,t),(0,l.Z)((0,r.Z)(e),"handleKeyUp",(function(t){13===t.keyCode&&e.props.onSubmitFilter()})),e}return(0,o.Z)(m,[{key:"render",value:function(){var t=this,e=this.props.quotationRequests,n=e.data,a=void 0===n?[]:n,o=e.meta,r=void 0===o?{}:o,s="",i=!0;return this.props.hasError?s="Fout bij het ophalen van kansacties.":this.props.isLoading?s="Gegevens aan het laden.":0===a.length?s="Geen kansacties gevonden!":i=!1,c.createElement("form",{onKeyUp:this.handleKeyUp},c.createElement(F.Z,null,c.createElement(Z.Z,null,c.createElement(k,{refreshQuotationRequestsData:function(){return t.props.refreshQuotationRequestsData()}}),c.createElement(M,{onSubmitFilter:this.props.onSubmitFilter})),c.createElement(N.Z,null,i?c.createElement("tr",null,c.createElement("td",{colSpan:11},s)):a.map((function(t){return c.createElement(B,(0,y.Z)({key:t.id},t))})))),c.createElement("div",{className:"col-md-4 col-md-offset-4"},c.createElement(H.Z,{onPageChangeAction:this.props.handlePageClick,totalRecords:r.total,initialPage:this.props.quotationRequestsPagination.page})))}}]),m}(c.Component);const j=(0,f.$j)((function(t){return{isLoading:t.loadingData.isLoading,hasError:t.loadingData.hasError}}))(x);var V=n(55451);const G=(0,f.$j)((function(t){return{quotationRequests:t.quotationRequests.list}}),null)((function(t){var e=t.quotationRequests.meta,n=void 0===e?{}:e;return c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-4"},c.createElement("div",{className:"btn-group",role:"group"},c.createElement(V.Z,{iconName:"refresh",onClickAction:t.resetQuotationRequestFilters}),c.createElement(V.Z,{iconName:"download",onClickAction:t.getCSV}))),c.createElement("div",{className:"col-md-4"},c.createElement("h3",{className:"text-center table-title"},"Kansacties")),c.createElement("div",{className:"col-md-4"},c.createElement("div",{className:"pull-right"},"Resultaten: ",n.total||0)))}));var $=n(4257),K=n(14309),W=n(98688),z=n(35823),J=n.n(z),X=n(96536),tt=n(72506);var et=function(t){(0,s.Z)(m,t);var e,n,f=(e=m,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,a=(0,u.Z)(e);if(n){var o=(0,u.Z)(this).constructor;t=Reflect.construct(a,arguments,o)}else t=a.apply(this,arguments);return(0,i.Z)(this,t)});function m(t){var e;return(0,a.Z)(this,m),e=f.call(this,t),(0,l.Z)((0,r.Z)(e),"getCSV",(function(){e.props.blockUI(),setTimeout((function(){var t=(0,$.Z)(e.props.quotationRequestsFilters),n=e.props.quotationRequestsSorts;X.Z.getCSV({filters:t,sorts:n}).then((function(t){J()(t.data,"kansacties-"+U()().format("YYYY-MM-DD HH:mm:ss")+".csv"),e.props.unblockUI()})).catch((function(t){e.props.unblockUI()}))}),100)})),(0,l.Z)((0,r.Z)(e),"fetchQuotationRequestsData",(function(){setTimeout((function(){var t=(0,$.Z)(e.props.quotationRequestsFilters),n=e.props.quotationRequestsSorts,a={limit:20,offset:e.props.quotationRequestsPagination.offset};e.props.fetchQuotationRequests(t,n,a)}),100)})),(0,l.Z)((0,r.Z)(e),"resetQuotationRequestFilters",(function(){e.props.clearFilterQuotationRequests(),e.fetchQuotationRequestsData()})),e.handlePageClick=e.handlePageClick.bind((0,r.Z)(e)),e.getCSV=e.getCSV.bind((0,r.Z)(e)),e}return(0,o.Z)(m,[{key:"componentDidMount",value:function(){this.fetchQuotationRequestsData()}},{key:"componentWillUnmount",value:function(){this.props.clearQuotationRequests()}},{key:"onSubmitFilter",value:function(){var t=this;(0,$.Z)(this.props.quotationRequestsFilters),this.props.quotationRequestsSorts,this.props.setQuotationRequestsPagination({page:0,offset:0}),setTimeout((function(){t.fetchQuotationRequestsData()}),100)}},{key:"handlePageClick",value:function(t){var e=this,n=t.selected,a=Math.ceil(20*n);this.props.setQuotationRequestsPagination({page:n,offset:a}),setTimeout((function(){e.fetchQuotationRequestsData()}),100)}},{key:"render",value:function(){var t=this;return c.createElement(K.Z,null,c.createElement(W.Z,null,c.createElement("div",{className:"col-md-12 margin-10-top"},c.createElement(G,{resetQuotationRequestFilters:function(){return t.resetQuotationRequestFilters()},getCSV:this.getCSV})),c.createElement("div",{className:"col-md-12 margin-10-top"},c.createElement(j,{quotationRequests:this.props.quotationRequests,quotationRequestsPagination:this.props.quotationRequestsPagination,onSubmitFilter:function(){return t.onSubmitFilter()},refreshQuotationRequestsData:function(){return t.fetchQuotationRequestsData()},handlePageClick:this.handlePageClick}))))}}]),m}(c.Component);const nt=(0,f.$j)((function(t){return{quotationRequests:t.quotationRequests.list,quotationRequestsFilters:t.quotationRequests.filters,quotationRequestsSorts:t.quotationRequests.sorts,quotationRequestsPagination:t.quotationRequests.pagination}}),(function(t){return(0,m.DE)({fetchQuotationRequests:d,clearQuotationRequests:E,setQuotationRequestsPagination:_,clearFilterQuotationRequests:D,blockUI:tt.Q,unblockUI:tt.e},t)}))(et)}}]);