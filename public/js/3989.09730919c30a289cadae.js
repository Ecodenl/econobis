"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[3989],{75254:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(69265),c="".concat(URL_API,"/api");const r={getCoachPeek:function(){var e="".concat(c,"/coach-peek");return a.Z.get(e).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))},getProjectManagerPeek:function(){var e="".concat(c,"/project-manager-peek");return a.Z.get(e).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))},getExternalPartyPeek:function(){var e="".concat(c,"/external-party-peek");return a.Z.get(e).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))}}},97809:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(69265),c="district";const r={fetchDistricts:function(){return a.Z.get(c).then((function(e){return e.data}))},fetchDistrictDetails:function(e){return a.Z.get("".concat(c,"/").concat(e)).then((function(e){return e.data}))},fetchDistrictCalendarItems:function(e,t,n){return a.Z.get("".concat(c,"/").concat(e,"/calendar-items"),{params:{startDate:t,endDate:n}}).then((function(e){return e.data}))},newDistrict:function(e){return a.Z.post(c,e).then((function(e){return e.data}))},updateDistrict:function(e){return a.Z.post("".concat(c,"/").concat(e.id),e)},deleteDistrict:function(e){return a.Z.post("".concat(c,"/").concat(e.id,"/delete"))},detachDistrictCoach:function(e){var t=e.districtId,n=e.coachId;return a.Z.post("".concat(c,"/").concat(t,"/coaches/").concat(n,"/detach"))},attachDistrictCoach:function(e){var t=e.districtId,n=e.coachId;return a.Z.post("".concat(c,"/").concat(t,"/coaches/").concat(n,"/attach"))}}},3989:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var a=n(29439),c=n(67294),r=n(14309),l=n(98688),i=n(55451),o=n(61409),s=n(97809),u=n(14816);function m(e){var t=e.district,n=e.switchToView,a=e.onSave;return c.createElement(u.Z,{initialValues:t,onSubmit:function(e,t){var c=t.setSubmitting;s.Z.updateDistrict(e).then((function(){a(),n()})).catch((function(){c(!1),alert("Er is iets misgegaan met opslaan. Probeer het nogmaals")}))},cancelAction:n})}var d=n(7250);function h(e){var t=e.district,n=e.switchToEdit;return c.createElement("div",{onClick:n},c.createElement(r.Z,null,c.createElement(l.Z,null,c.createElement("div",{className:"row"},c.createElement(d.Z,{label:"Weergavenaam",value:t.name}),c.createElement(d.Z,{label:"Standaard duur afspraak",value:"90 minuten"})))))}function f(e){var t=e.district,n=e.onSave,r=(0,c.useState)(""),l=(0,a.Z)(r,2),i=l[0],o=l[1],s=(0,c.useState)(!1),u=(0,a.Z)(s,2),d=u[0],f=u[1];return c.createElement("div",{className:i,onMouseEnter:function(){return o("panel-grey")},onMouseLeave:function(){return o("")}},d?c.createElement(m,{district:t,switchToView:function(){return f(!1)},onSave:n}):c.createElement(h,{district:t,switchToEdit:function(){return f(!0)}}))}var E=n(80720),v=n(41355);function p(e){var t=e.district,n=e.coach,r=e.onDetach,l=(0,c.useState)(!1),i=(0,a.Z)(l,2),o=i[0],u=i[1],m=(0,c.useState)(!1),d=(0,a.Z)(m,2),h=d[0],f=d[1];return c.createElement(c.Fragment,null,c.createElement("div",{className:"row border ".concat(o?"highlight-line":""),onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)}},c.createElement("div",{className:"col-sm-11"},n.fullName),c.createElement("div",{className:"col-sm-1"},o&&c.createElement("a",{role:"button",onClick:function(){return f(!0)}},c.createElement("span",{className:"glyphicon glyphicon-trash mybtn-danger"})))),h&&c.createElement(v.Z,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:function(){return f(!1)},confirmAction:function(){s.Z.detachDistrictCoach({districtId:t.id,coachId:n.id}).then((function(){r(),f(!1)})).catch((function(){alert("Er is iets misgegaan met het ontkoppelen van de coach.")}))},title:"Verwijderen"},c.createElement("p",null,"Wil je deze coach ontkoppelen van deze afspraakkalender?")))}var g=n(9181),Z=n(49332),b=n(71840),N=n(75254);function k(e){var t=e.district,n=e.onCreate,i=e.onHide,o=(0,c.useState)([]),u=(0,a.Z)(o,2),m=u[0],d=u[1],h=(0,c.useState)(null),f=(0,a.Z)(h,2),E=f[0],v=f[1];(0,c.useEffect)((function(){N.Z.getCoachPeek().then((function(e){d(e)})).catch((function(){alert("Er is iets misgegaan met ophalen van de coaches! Herlaad de pagina en probeer het nogmaals.")}))}),[]);var p=function(e){e.preventDefault(),s.Z.attachDistrictCoach({districtId:t.id,coachId:E}).then((function(){n()})).catch((function(){alert("Er is iets misgegaan met het koppelen van de coach.")}))};return c.createElement("form",{className:"form-horizontal",onSubmit:p},c.createElement(r.Z,{className:"panel-grey"},c.createElement(l.Z,null,c.createElement("div",{className:"row"},c.createElement(g.Z,{label:"Afspraakkalender",name:"afspraakKalender",value:t.name,readOnly:!0}),c.createElement(b.Z,{label:"Coach",size:"col-sm-6",name:"coachId",options:m.filter((function(e){return!t.coaches.some((function(t){return t.id===e.id}))})),optionName:"name",value:E,onChangeAction:function(e){return v(e.target.value)},required:"required"})),c.createElement("div",{className:"pull-right btn-group",role:"group"},c.createElement(Z.Z,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:i}),c.createElement(Z.Z,{buttonText:"Opslaan",onClickAction:p,type:"submit",value:"Submit"})))))}function C(e){var t=e.district,n=e.onChange,i=(0,c.useState)(!1),o=(0,a.Z)(i,2),s=o[0],u=o[1];return c.createElement(r.Z,null,c.createElement(E.Z,null,c.createElement("span",{className:"h5 text-bold"},"Gekoppelde coaches"),c.createElement("a",{role:"button",className:"pull-right",onClick:function(){return u(!0)}},c.createElement("span",{className:"glyphicon glyphicon-plus"}))),c.createElement(l.Z,null,c.createElement("div",{className:"col-md-12"},c.createElement("div",{className:"row border header"},c.createElement("div",{className:"col-sm-11"},"Naam"),c.createElement("div",{className:"col-sm-1"})),t.coaches.length>0?t.coaches.map((function(e){return c.createElement(p,{key:e.id,district:t,coach:e,onDetach:n})})):c.createElement("div",null,"Geen coaches bekend.")),c.createElement("div",{className:"col-md-12 margin-10-top"},s&&c.createElement(k,{district:t,onCreate:function(){u(!1),n()},onHide:function(){return u(!1)}}))))}function S(e){var t=(0,c.useState)({coaches:[]}),n=(0,a.Z)(t,2),u=n[0],m=n[1];(0,c.useEffect)((function(){d()}),[]);var d=function(){s.Z.fetchDistrictDetails(e.params.id).then((function(e){m(e)})).catch((function(){alert("Er is iets misgegaan met ophalen van de afspraakkalender.")}))};return c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-9"},c.createElement("div",{className:"col-md-12 margin-10-top"},c.createElement(r.Z,null,c.createElement(l.Z,{className:"panel-small"},c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-4"},c.createElement("div",{className:"btn-group",role:"group"},c.createElement(i.Z,{iconName:"glyphicon-arrow-left",onClickAction:o.mW.goBack}))),c.createElement("div",{className:"col-md-4"},c.createElement("h4",{className:"text-center"},"Instellingen Afspraakkalender: ",u.name)),c.createElement("div",{className:"col-md-4"}))))),c.createElement("div",{className:"col-md-12 margin-10-top"},c.createElement(f,{district:u,onSave:d}),c.createElement(C,{district:u,onChange:d}))),c.createElement("div",{className:"col-md-3"}))}},14816:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(67294),c=n(14309),r=n(98688),l=n(9181),i=n(82178),o=n(19501),s=n(49332),u=n(7250);function m(e){var t=e.initialValues,n=e.onSubmit,m=e.cancelAction,d=(0,i.TA)({initialValues:t,validationSchema:o.Ry().shape({name:o.Z_().required("Verplicht")}),onSubmit:function(e,t){var a=t.setSubmitting;n(e,a)}}),h=d.values,f=d.errors,E=d.touched,v=d.handleChange,p=d.handleSubmit,g=d.handleBlur,Z=d.isSubmitting;return a.createElement("form",{className:"form-horizontal",onSubmit:p},a.createElement(c.Z,null,a.createElement(r.Z,null,a.createElement("div",{className:"row"},a.createElement(l.Z,{label:"Weergavenaam",name:"name",value:h.name,onChangeAction:v,onBlurAction:g,required:"required",error:f.name&&E.name,errorMessage:f.name}),a.createElement(u.Z,{label:"Standaard duur afspraak",value:"90 minuten"}))),a.createElement(r.Z,null,a.createElement("div",{className:"pull-right btn-group",role:"group"},m&&a.createElement(s.Z,{buttonClassName:"btn-default",buttonText:"Sluiten",onClickAction:m}),a.createElement(s.Z,{buttonText:"Opslaan",onClickAction:p,type:"submit",value:"Submit",loading:Z})))))}}}]);