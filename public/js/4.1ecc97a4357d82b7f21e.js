(window.webpackJsonp = window.webpackJsonp || []).push([
  [4],
  {
    1284: function(e, t) {
      !(function(e) {
        "use strict";
        var t,
          n = tinymce.util.Tools.resolve("tinymce.PluginManager"),
          r = function(e) {
            return !1 !== e.settings.image_dimensions;
          },
          o = function(e) {
            return !0 === e.settings.image_advtab;
          },
          i = function(e) {
            return e.getParam("image_prepend_url", "");
          },
          a = function(e) {
            return e.getParam("image_class_list");
          },
          u = function(e) {
            return !1 !== e.settings.image_description;
          },
          s = function(e) {
            return !0 === e.settings.image_title;
          },
          c = function(e) {
            return !0 === e.settings.image_caption;
          },
          l = function(e) {
            return e.getParam("image_list", !1);
          },
          f = function(e) {
            return e.getParam("images_upload_url", !1);
          },
          d = function(e) {
            return e.getParam("images_upload_handler", !1);
          },
          m = function(e) {
            return e.getParam("images_upload_url");
          },
          h = function(e) {
            return e.getParam("images_upload_handler");
          },
          g = function(e) {
            return e.getParam("images_upload_base_path");
          },
          p = function(e) {
            return e.getParam("images_upload_credentials");
          },
          v = void 0 !== e.window ? e.window : Function("return this;")(),
          b = function(e, t) {
            return (function(e, t) {
              for (
                var n = null != t ? t : v, r = 0;
                r < e.length && null != n;
                ++r
              )
                n = n[e[r]];
              return n;
            })(e.split("."), t);
          },
          y = function(e, t) {
            var n = (function(e, t) {
              return b(e, t);
            })(e, t);
            if (null == n)
              throw new Error(e + " not available on this browser");
            return n;
          },
          w = tinymce.util.Tools.resolve("tinymce.util.Promise"),
          x = tinymce.util.Tools.resolve("tinymce.util.Tools"),
          C = tinymce.util.Tools.resolve("tinymce.util.XHR"),
          S = function(e, t) {
            return Math.max(parseInt(e, 10), parseInt(t, 10));
          },
          E = function(t, n) {
            var r = e.document.createElement("img");
            function o(e, t) {
              r.parentNode && r.parentNode.removeChild(r),
                n({ width: e, height: t });
            }
            (r.onload = function() {
              o(S(r.width, r.clientWidth), S(r.height, r.clientHeight));
            }),
              (r.onerror = function() {
                o(0, 0);
              });
            var i = r.style;
            (i.visibility = "hidden"),
              (i.position = "fixed"),
              (i.bottom = i.left = "0px"),
              (i.width = i.height = "auto"),
              e.document.body.appendChild(r),
              (r.src = t);
          },
          T = function(e, t, n) {
            return (function e(n, r) {
              return (
                (r = r || []),
                x.each(n, function(n) {
                  var o = { text: n.text || n.title };
                  n.menu ? (o.menu = e(n.menu)) : ((o.value = n.value), t(o)),
                    r.push(o);
                }),
                r
              );
            })(e, n || []);
          },
          N = function(e) {
            return e && (e = e.replace(/px$/, "")), e;
          },
          _ = function(e) {
            return e.length > 0 && /^[0-9]+$/.test(e) && (e += "px"), e;
          },
          k = function(e) {
            if (e.margin) {
              var t = e.margin.split(" ");
              switch (t.length) {
                case 1:
                  (e["margin-top"] = e["margin-top"] || t[0]),
                    (e["margin-right"] = e["margin-right"] || t[0]),
                    (e["margin-bottom"] = e["margin-bottom"] || t[0]),
                    (e["margin-left"] = e["margin-left"] || t[0]);
                  break;
                case 2:
                  (e["margin-top"] = e["margin-top"] || t[0]),
                    (e["margin-right"] = e["margin-right"] || t[1]),
                    (e["margin-bottom"] = e["margin-bottom"] || t[0]),
                    (e["margin-left"] = e["margin-left"] || t[1]);
                  break;
                case 3:
                  (e["margin-top"] = e["margin-top"] || t[0]),
                    (e["margin-right"] = e["margin-right"] || t[1]),
                    (e["margin-bottom"] = e["margin-bottom"] || t[2]),
                    (e["margin-left"] = e["margin-left"] || t[1]);
                  break;
                case 4:
                  (e["margin-top"] = e["margin-top"] || t[0]),
                    (e["margin-right"] = e["margin-right"] || t[1]),
                    (e["margin-bottom"] = e["margin-bottom"] || t[2]),
                    (e["margin-left"] = e["margin-left"] || t[3]);
              }
              delete e.margin;
            }
            return e;
          },
          R = function(e, t) {
            var n = l(e);
            "string" == typeof n
              ? C.send({
                  url: n,
                  success: function(e) {
                    t(JSON.parse(e));
                  }
                })
              : "function" == typeof n
              ? n(t)
              : t(n);
          },
          D = function(e, t, n) {
            function o() {
              (n.onload = n.onerror = null),
                e.selection && (e.selection.select(n), e.nodeChanged());
            }
            (n.onload = function() {
              t.width ||
                t.height ||
                !r(e) ||
                e.dom.setAttribs(n, {
                  width: n.clientWidth,
                  height: n.clientHeight
                }),
                o();
            }),
              (n.onerror = o);
          },
          O = function(e) {
            return new w(function(t, n) {
              var r = new (y("FileReader"))();
              (r.onload = function() {
                t(r.result);
              }),
                (r.onerror = function() {
                  n(r.error.message);
                }),
                r.readAsDataURL(e);
            });
          },
          A = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
          P = Object.prototype.hasOwnProperty,
          B =
            ((t = function(e, t) {
              return t;
            }),
            function() {
              for (
                var e = new Array(arguments.length), n = 0;
                n < e.length;
                n++
              )
                e[n] = arguments[n];
              if (0 === e.length) throw new Error("Can't merge zero objects");
              for (var r = {}, o = 0; o < e.length; o++) {
                var i = e[o];
                for (var a in i) P.call(i, a) && (r[a] = t(r[a], i[a]));
              }
              return r;
            }),
          I = A.DOM,
          M = function(e) {
            return e.style.marginLeft &&
              e.style.marginRight &&
              e.style.marginLeft === e.style.marginRight
              ? N(e.style.marginLeft)
              : "";
          },
          L = function(e) {
            return e.style.marginTop &&
              e.style.marginBottom &&
              e.style.marginTop === e.style.marginBottom
              ? N(e.style.marginTop)
              : "";
          },
          F = function(e) {
            return e.style.borderWidth ? N(e.style.borderWidth) : "";
          },
          H = function(e, t) {
            return e.hasAttribute(t) ? e.getAttribute(t) : "";
          },
          z = function(e, t) {
            return e.style[t] ? e.style[t] : "";
          },
          W = function(e) {
            return null !== e.parentNode && "FIGURE" === e.parentNode.nodeName;
          },
          U = function(e, t, n) {
            e.setAttribute(t, n);
          },
          j = function(e) {
            W(e)
              ? (function(e) {
                  var t = e.parentNode;
                  I.insertAfter(e, t), I.remove(t);
                })(e)
              : (function(e) {
                  var t = I.create("figure", { class: "image" });
                  I.insertAfter(t, e),
                    t.appendChild(e),
                    t.appendChild(
                      I.create("figcaption", { contentEditable: !0 }, "Caption")
                    ),
                    (t.contentEditable = "false");
                })(e);
          },
          V = function(e, t) {
            var n = e.getAttribute("style"),
              r = t(null !== n ? n : "");
            r.length > 0
              ? (e.setAttribute("style", r),
                e.setAttribute("data-mce-style", r))
              : e.removeAttribute("style");
          },
          q = function(e, t) {
            return function(e, n, r) {
              e.style[n] ? ((e.style[n] = _(r)), V(e, t)) : U(e, n, r);
            };
          },
          $ = function(e, t) {
            return e.style[t] ? N(e.style[t]) : H(e, t);
          },
          K = function(e, t) {
            var n = _(t);
            (e.style.marginLeft = n), (e.style.marginRight = n);
          },
          Y = function(e, t) {
            var n = _(t);
            (e.style.marginTop = n), (e.style.marginBottom = n);
          },
          X = function(e, t) {
            var n = _(t);
            e.style.borderWidth = n;
          },
          G = function(e, t) {
            e.style.borderStyle = t;
          },
          J = function(e) {
            return "FIGURE" === e.nodeName;
          },
          Q = function(t, n) {
            var r = e.document.createElement("img");
            return (
              U(r, "style", n.style),
              (M(r) || "" !== n.hspace) && K(r, n.hspace),
              (L(r) || "" !== n.vspace) && Y(r, n.vspace),
              (F(r) || "" !== n.border) && X(r, n.border),
              ((function(e) {
                return z(e, "borderStyle");
              })(r) ||
                "" !== n.borderStyle) &&
                G(r, n.borderStyle),
              t(r.getAttribute("style"))
            );
          },
          Z = function(e, t) {
            return {
              src: H(t, "src"),
              alt: H(t, "alt"),
              title: H(t, "title"),
              width: $(t, "width"),
              height: $(t, "height"),
              class: H(t, "class"),
              style: e(H(t, "style")),
              caption: W(t),
              hspace: M(t),
              vspace: L(t),
              border: F(t),
              borderStyle: z(t, "borderStyle")
            };
          },
          ee = function(e, t, n, r, o) {
            n[r] !== t[r] && o(e, r, n[r]);
          },
          te = function(e, t) {
            return function(n, r, o) {
              e(n, o), V(n, t);
            };
          },
          ne = function(e, t, n) {
            var r = Z(e, n);
            ee(n, r, t, "caption", function(e, t, n) {
              return j(e);
            }),
              ee(n, r, t, "src", U),
              ee(n, r, t, "alt", U),
              ee(n, r, t, "title", U),
              ee(n, r, t, "width", q(0, e)),
              ee(n, r, t, "height", q(0, e)),
              ee(n, r, t, "class", U),
              ee(
                n,
                r,
                t,
                "style",
                te(function(e, t) {
                  return U(e, "style", t);
                }, e)
              ),
              ee(n, r, t, "hspace", te(K, e)),
              ee(n, r, t, "vspace", te(Y, e)),
              ee(n, r, t, "border", te(X, e)),
              ee(n, r, t, "borderStyle", te(G, e));
          },
          re = function(e, t) {
            var n = e.dom.styles.parse(t),
              r = k(n),
              o = e.dom.styles.parse(e.dom.styles.serialize(r));
            return e.dom.styles.serialize(o);
          },
          oe = function(e) {
            var t = e.selection.getNode(),
              n = e.dom.getParent(t, "figure.image");
            return n
              ? e.dom.select("img", n)[0]
              : t &&
                ("IMG" !== t.nodeName ||
                  t.getAttribute("data-mce-object") ||
                  t.getAttribute("data-mce-placeholder"))
              ? null
              : t;
          },
          ie = function(e, t) {
            var n = e.dom,
              r = n.getParent(
                t.parentNode,
                function(t) {
                  return e.schema.getTextBlockElements()[t.nodeName];
                },
                e.getBody()
              );
            return r ? n.split(r, t) : t;
          },
          ae = function(e) {
            var t = oe(e);
            return t
              ? Z(function(t) {
                  return re(e, t);
                }, t)
              : {
                  src: "",
                  alt: "",
                  title: "",
                  width: "",
                  height: "",
                  class: "",
                  style: "",
                  caption: !1,
                  hspace: "",
                  vspace: "",
                  border: "",
                  borderStyle: ""
                };
          },
          ue = function(t, n) {
            var r = (function(t, n) {
              var r = e.document.createElement("img");
              if (
                (ne(t, B(n, { caption: !1 }), r), U(r, "alt", n.alt), n.caption)
              ) {
                var o = I.create("figure", { class: "image" });
                return (
                  o.appendChild(r),
                  o.appendChild(
                    I.create("figcaption", { contentEditable: !0 }, "Caption")
                  ),
                  (o.contentEditable = "false"),
                  o
                );
              }
              return r;
            })(function(e) {
              return re(t, e);
            }, n);
            t.dom.setAttrib(r, "data-mce-id", "__mcenew"),
              t.focus(),
              t.selection.setContent(r.outerHTML);
            var o = t.dom.select('*[data-mce-id="__mcenew"]')[0];
            if ((t.dom.setAttrib(o, "data-mce-id", null), J(o))) {
              var i = ie(t, o);
              t.selection.select(i);
            } else t.selection.select(o);
          },
          se = function(e, t) {
            var n = oe(e);
            n
              ? t.src
                ? (function(e, t) {
                    var n = oe(e);
                    if (
                      (ne(
                        function(t) {
                          return re(e, t);
                        },
                        t,
                        n
                      ),
                      (function(e, t) {
                        e.dom.setAttrib(t, "src", t.getAttribute("src"));
                      })(e, n),
                      J(n.parentNode))
                    ) {
                      var r = n.parentNode;
                      ie(e, r), e.selection.select(n.parentNode);
                    } else e.selection.select(n), D(e, t, n);
                  })(e, t)
                : (function(e, t) {
                    if (t) {
                      var n = e.dom.is(t.parentNode, "figure.image")
                        ? t.parentNode
                        : t;
                      e.dom.remove(n),
                        e.focus(),
                        e.nodeChanged(),
                        e.dom.isEmpty(e.getBody()) &&
                          (e.setContent(""), e.selection.setCursorLocation());
                    }
                  })(e, n)
              : t.src && ue(e, t);
          },
          ce = function(e) {
            return function(t) {
              var n = e.dom,
                r = t.control.rootControl;
              if (o(e)) {
                var i = r.toJSON(),
                  a = n.parseStyle(i.style);
                r.find("#vspace").value(""),
                  r.find("#hspace").value(""),
                  (((a = k(a))["margin-top"] && a["margin-bottom"]) ||
                    (a["margin-right"] && a["margin-left"])) &&
                    (a["margin-top"] === a["margin-bottom"]
                      ? r.find("#vspace").value(N(a["margin-top"]))
                      : r.find("#vspace").value(""),
                    a["margin-right"] === a["margin-left"]
                      ? r.find("#hspace").value(N(a["margin-right"]))
                      : r.find("#hspace").value("")),
                  a["border-width"]
                    ? r.find("#border").value(N(a["border-width"]))
                    : r.find("#border").value(""),
                  a["border-style"]
                    ? r.find("#borderStyle").value(a["border-style"])
                    : r.find("#borderStyle").value(""),
                  r
                    .find("#style")
                    .value(n.serializeStyle(n.parseStyle(n.serializeStyle(a))));
              }
            };
          },
          le = function(e, t) {
            t.find("#style").each(function(n) {
              var r = Q(function(t) {
                return re(e, t);
              }, B(
                {
                  src: "",
                  alt: "",
                  title: "",
                  width: "",
                  height: "",
                  class: "",
                  style: "",
                  caption: !1,
                  hspace: "",
                  vspace: "",
                  border: "",
                  borderStyle: ""
                },
                t.toJSON()
              ));
              n.value(r);
            });
          },
          fe = function(e) {
            return {
              title: "Advanced",
              type: "form",
              pack: "start",
              items: [
                {
                  label: "Style",
                  name: "style",
                  type: "textbox",
                  onchange: ce(e)
                },
                {
                  type: "form",
                  layout: "grid",
                  packV: "start",
                  columns: 2,
                  padding: 0,
                  defaults: {
                    type: "textbox",
                    maxWidth: 50,
                    onchange: function(t) {
                      le(e, t.control.rootControl);
                    }
                  },
                  items: [
                    { label: "Vertical space", name: "vspace" },
                    { label: "Border width", name: "border" },
                    { label: "Horizontal space", name: "hspace" },
                    {
                      label: "Border style",
                      type: "listbox",
                      name: "borderStyle",
                      width: 90,
                      maxWidth: 90,
                      onselect: function(t) {
                        le(e, t.control.rootControl);
                      },
                      values: [
                        { text: "Select...", value: "" },
                        { text: "Solid", value: "solid" },
                        { text: "Dotted", value: "dotted" },
                        { text: "Dashed", value: "dashed" },
                        { text: "Double", value: "double" },
                        { text: "Groove", value: "groove" },
                        { text: "Ridge", value: "ridge" },
                        { text: "Inset", value: "inset" },
                        { text: "Outset", value: "outset" },
                        { text: "None", value: "none" },
                        { text: "Hidden", value: "hidden" }
                      ]
                    }
                  ]
                }
              ]
            };
          },
          de = function(e, t) {
            e.state.set("oldVal", e.value()), t.state.set("oldVal", t.value());
          },
          me = function(e, t) {
            var n = e.find("#width")[0],
              r = e.find("#height")[0],
              o = e.find("#constrain")[0];
            n && r && o && t(n, r, o.checked());
          },
          he = function(e, t, n) {
            var r = e.state.get("oldVal"),
              o = t.state.get("oldVal"),
              i = e.value(),
              a = t.value();
            n &&
              r &&
              o &&
              i &&
              a &&
              (i !== r
                ? ((a = Math.round((i / r) * a)), isNaN(a) || t.value(a))
                : ((i = Math.round((a / o) * i)), isNaN(i) || e.value(i))),
              de(e, t);
          },
          ge = function(e) {
            me(e, he);
          },
          pe = function() {
            var e = function(e) {
              ge(e.control.rootControl);
            };
            return {
              type: "container",
              label: "Dimensions",
              layout: "flex",
              align: "center",
              spacing: 5,
              items: [
                {
                  name: "width",
                  type: "textbox",
                  maxLength: 5,
                  size: 5,
                  onchange: e,
                  ariaLabel: "Width"
                },
                { type: "label", text: "x" },
                {
                  name: "height",
                  type: "textbox",
                  maxLength: 5,
                  size: 5,
                  onchange: e,
                  ariaLabel: "Height"
                },
                {
                  name: "constrain",
                  type: "checkbox",
                  checked: !0,
                  text: "Constrain proportions"
                }
              ]
            };
          },
          ve = function(e) {
            me(e, de);
          },
          be = ge,
          ye = function(e) {
            e.meta = e.control.rootControl.toJSON();
          },
          we = function(e, t) {
            var n = [
              {
                name: "src",
                type: "filepicker",
                filetype: "image",
                label: "Source",
                autofocus: !0,
                onchange: function(t) {
                  !(function(e, t) {
                    var n,
                      o,
                      a,
                      u = e.meta || {},
                      s = e.control,
                      c = s.rootControl,
                      l = c.find("#image-list")[0];
                    l && l.value(t.convertURL(s.value(), "src")),
                      x.each(u, function(e, t) {
                        c.find("#" + t).value(e);
                      }),
                      u.width ||
                        u.height ||
                        ((n = t.convertURL(s.value(), "src")),
                        (o = i(t)),
                        (a = new RegExp("^(?:[a-z]+:)?//", "i")),
                        o &&
                          !a.test(n) &&
                          n.substring(0, o.length) !== o &&
                          (n = o + n),
                        s.value(n),
                        E(t.documentBaseURI.toAbsolute(s.value()), function(e) {
                          e.width &&
                            e.height &&
                            r(t) &&
                            (c.find("#width").value(e.width),
                            c.find("#height").value(e.height),
                            ve(c));
                        }));
                  })(t, e);
                },
                onbeforecall: ye
              },
              t
            ];
            return (
              u(e) &&
                n.push({
                  name: "alt",
                  type: "textbox",
                  label: "Image description"
                }),
              s(e) &&
                n.push({
                  name: "title",
                  type: "textbox",
                  label: "Image Title"
                }),
              r(e) && n.push(pe()),
              a(e) &&
                n.push({
                  name: "class",
                  type: "listbox",
                  label: "Class",
                  values: T(a(e), function(t) {
                    t.value &&
                      (t.textStyle = function() {
                        return e.formatter.getCssText({
                          inline: "img",
                          classes: [t.value]
                        });
                      });
                  })
                }),
              c(e) &&
                n.push({ name: "caption", type: "checkbox", label: "Caption" }),
              n
            );
          },
          xe = function(e, t) {
            return { title: "General", type: "form", items: we(e, t) };
          },
          Ce = we,
          Se = function() {
            return y("URL");
          },
          Ee = function(e) {
            return Se().createObjectURL(e);
          },
          Te = function(e) {
            Se().revokeObjectURL(e);
          },
          Ne = tinymce.util.Tools.resolve("tinymce.ui.Factory"),
          _e = function() {};
        function ke(t) {
          var n = function(n, r, o, i) {
            var a, u;
            (a = new (y("XMLHttpRequest"))()).open("POST", t.url),
              (a.withCredentials = t.credentials),
              (a.upload.onprogress = function(e) {
                i((e.loaded / e.total) * 100);
              }),
              (a.onerror = function() {
                o(
                  "Image upload failed due to a XHR Transport error. Code: " +
                    a.status
                );
              }),
              (a.onload = function() {
                var e, n, i;
                a.status < 200 || a.status >= 300
                  ? o("HTTP Error: " + a.status)
                  : (e = JSON.parse(a.responseText)) &&
                    "string" == typeof e.location
                  ? r(
                      ((n = t.basePath),
                      (i = e.location),
                      n ? n.replace(/\/$/, "") + "/" + i.replace(/^\//, "") : i)
                    )
                  : o("Invalid JSON: " + a.responseText);
              }),
              (u = new e.FormData()).append("file", n.blob(), n.filename()),
              a.send(u);
          };
          return (
            (t = x.extend({ credentials: !1, handler: n }, t)),
            {
              upload: function(e) {
                return t.url || t.handler !== n
                  ? (function(e, t) {
                      return new w(function(n, r) {
                        try {
                          t(e, n, r, _e);
                        } catch (e) {
                          r(e.message);
                        }
                      });
                    })(e, t.handler)
                  : w.reject("Upload url missing from the settings.");
              }
            }
          );
        }
        var Re = function(e) {
            return function(t) {
              var n = Ne.get("Throbber"),
                r = t.control.rootControl,
                o = new n(r.getEl()),
                i = t.control.value(),
                a = Ee(i),
                u = ke({
                  url: m(e),
                  basePath: g(e),
                  credentials: p(e),
                  handler: h(e)
                }),
                s = function() {
                  o.hide(), Te(a);
                };
              return (
                o.show(),
                O(i)
                  .then(function(t) {
                    var n = e.editorUpload.blobCache.create({
                      blob: i,
                      blobUri: a,
                      name: i.name ? i.name.replace(/\.[^\.]+$/, "") : null,
                      base64: t.split(",")[1]
                    });
                    return u.upload(n).then(function(e) {
                      var t = r.find("#src");
                      return (
                        t.value(e),
                        r.find("tabpanel")[0].activateTab(0),
                        t.fire("change"),
                        s(),
                        e
                      );
                    });
                  })
                  .catch(function(t) {
                    e.windowManager.alert(t), s();
                  })
              );
            };
          },
          De = function(e) {
            return {
              title: "Upload",
              type: "form",
              layout: "flex",
              direction: "column",
              align: "stretch",
              padding: "20 20 20 20",
              items: [
                {
                  type: "container",
                  layout: "flex",
                  direction: "column",
                  align: "center",
                  spacing: 10,
                  items: [
                    {
                      text: "Browse for an image",
                      type: "browsebutton",
                      accept: ".jpg,.jpeg,.png,.gif",
                      onchange: Re(e)
                    },
                    { text: "OR", type: "label" }
                  ]
                },
                {
                  text: "Drop an image here",
                  type: "dropzone",
                  accept: ".jpg,.jpeg,.png,.gif",
                  height: 100,
                  onchange: Re(e)
                }
              ]
            };
          };
        function Oe(e) {
          for (var t = [], n = 1; n < arguments.length; n++)
            t[n - 1] = arguments[n];
          return function() {
            for (var n = [], r = 0; r < arguments.length; r++)
              n[r] = arguments[r];
            var o = t.concat(n);
            return e.apply(null, o);
          };
        }
        var Ae = function(e, t) {
          var n = t.control.getRoot();
          be(n),
            e.undoManager.transact(function() {
              var t = B(ae(e), n.toJSON());
              se(e, t);
            }),
            e.editorUpload.uploadImagesAuto();
        };
        function Pe(e) {
          function t(t) {
            var n,
              r,
              i = ae(e);
            if (
              (t &&
                (r = {
                  type: "listbox",
                  label: "Image list",
                  name: "image-list",
                  values: T(
                    t,
                    function(t) {
                      t.value = e.convertURL(t.value || t.url, "src");
                    },
                    [{ text: "None", value: "" }]
                  ),
                  value: i.src && e.convertURL(i.src, "src"),
                  onselect: function(e) {
                    var t = n.find("#alt");
                    (!t.value() ||
                      (e.lastControl && t.value() === e.lastControl.text())) &&
                      t.value(e.control.text()),
                      n
                        .find("#src")
                        .value(e.control.value())
                        .fire("change");
                  },
                  onPostRender: function() {
                    r = this;
                  }
                }),
              o(e) || f(e) || d(e))
            ) {
              var a = [xe(e, r)];
              o(e) && a.push(fe(e)),
                (f(e) || d(e)) && a.push(De(e)),
                (n = e.windowManager.open({
                  title: "Insert/edit image",
                  data: i,
                  bodyType: "tabpanel",
                  body: a,
                  onSubmit: Oe(Ae, e)
                }));
            } else
              n = e.windowManager.open({
                title: "Insert/edit image",
                data: i,
                body: Ce(e, r),
                onSubmit: Oe(Ae, e)
              });
            ve(n);
          }
          return {
            open: function() {
              R(e, t);
            }
          };
        }
        var Be = function(e) {
            e.addCommand("mceImage", Pe(e).open);
          },
          Ie = function(e) {
            var t = e.attr("class");
            return t && /\bimage\b/.test(t);
          },
          Me = function(e) {
            return function(t) {
              for (
                var n,
                  r = t.length,
                  o = function(t) {
                    t.attr("contenteditable", e ? "true" : null);
                  };
                r--;

              )
                (n = t[r]),
                  Ie(n) &&
                    (n.attr("contenteditable", e ? "false" : null),
                    x.each(n.getAll("figcaption"), o));
            };
          },
          Le = function(e) {
            e.on("preInit", function() {
              e.parser.addNodeFilter("figure", Me(!0)),
                e.serializer.addNodeFilter("figure", Me(!1));
            });
          },
          Fe = function(e) {
            e.addButton("image", {
              icon: "image",
              tooltip: "Insert/edit image",
              onclick: Pe(e).open,
              stateSelector:
                "img:not([data-mce-object],[data-mce-placeholder]),figure.image"
            }),
              e.addMenuItem("image", {
                icon: "image",
                text: "Image",
                onclick: Pe(e).open,
                context: "insert",
                prependToContext: !0
              });
          };
        n.add("image", function(e) {
          Le(e), Fe(e), Be(e);
        });
      })(window);
    },
    1285: function(e, t) {
      !(function(e) {
        "use strict";
        var t = tinymce.util.Tools.resolve("tinymce.PluginManager"),
          n = tinymce.util.Tools.resolve("tinymce.util.VK"),
          r = function(e) {
            return e.target_list;
          },
          o = function(e) {
            return e.rel_list;
          },
          i = function(e) {
            return e.link_class_list;
          },
          a = function(e) {
            return (
              "boolean" == typeof e.link_assume_external_targets &&
              e.link_assume_external_targets
            );
          },
          u = function(e) {
            return (
              "boolean" == typeof e.link_context_toolbar &&
              e.link_context_toolbar
            );
          },
          s = function(e) {
            return e.link_list;
          },
          c = function(e) {
            return "string" == typeof e.default_link_target;
          },
          l = function(e) {
            return e.default_link_target;
          },
          f = r,
          d = function(e, t) {
            e.settings.target_list = t;
          },
          m = function(e) {
            return !1 !== r(e);
          },
          h = o,
          g = function(e) {
            return void 0 !== o(e);
          },
          p = i,
          v = function(e) {
            return void 0 !== i(e);
          },
          b = function(e) {
            return !1 !== e.link_title;
          },
          y = function(e) {
            return (
              "boolean" == typeof e.allow_unsafe_link_target &&
              e.allow_unsafe_link_target
            );
          },
          w = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
          x = tinymce.util.Tools.resolve("tinymce.Env"),
          C = function(t) {
            if (!x.ie || x.ie > 10) {
              var n = e.document.createElement("a");
              (n.target = "_blank"),
                (n.href = t),
                (n.rel = "noreferrer noopener");
              var r = e.document.createEvent("MouseEvents");
              r.initMouseEvent(
                "click",
                !0,
                !0,
                e.window,
                0,
                0,
                0,
                0,
                0,
                !1,
                !1,
                !1,
                !1,
                0,
                null
              ),
                (function(t, n) {
                  e.document.body.appendChild(t),
                    t.dispatchEvent(n),
                    e.document.body.removeChild(t);
                })(n, r);
            } else {
              var o = e.window.open("", "_blank");
              if (o) {
                o.opener = null;
                var i = o.document;
                i.open(),
                  i.write(
                    '<meta http-equiv="refresh" content="0; url=' +
                      w.DOM.encode(t) +
                      '">'
                  ),
                  i.close();
              }
            }
          },
          S = tinymce.util.Tools.resolve("tinymce.util.Tools"),
          E = function(e, t) {
            var n = ["noopener"],
              r = e ? e.split(/\s+/) : [],
              o = function(e) {
                return e.filter(function(e) {
                  return -1 === S.inArray(n, e);
                });
              };
            return (r = t
              ? (function(e) {
                  return (e = o(e)).length ? e.concat(n) : n;
                })(r)
              : o(r)).length
              ? (function(e) {
                  return S.trim(e.sort().join(" "));
                })(r)
              : null;
          },
          T = function(e, t) {
            return (
              (t = t || e.selection.getNode()),
              _(t)
                ? e.dom.select("a[href]", t)[0]
                : e.dom.getParent(t, "a[href]")
            );
          },
          N = function(e) {
            return e && "A" === e.nodeName && e.href;
          },
          _ = function(e) {
            return (
              e && "FIGURE" === e.nodeName && /\bimage\b/i.test(e.className)
            );
          },
          k = function(e, t) {
            var n, r;
            (r = e.dom.select("img", t)[0]) &&
              (n = e.dom.getParents(r, "a[href]", t)[0]) &&
              (n.parentNode.insertBefore(r, n), e.dom.remove(n));
          },
          R = function(e, t, n) {
            var r, o;
            (o = e.dom.select("img", t)[0]) &&
              ((r = e.dom.create("a", n)),
              o.parentNode.insertBefore(r, o),
              r.appendChild(o));
          },
          D = function(e, t) {
            return function(n) {
              e.undoManager.transact(function() {
                var r = e.selection.getNode(),
                  o = T(e, r),
                  i = {
                    href: n.href,
                    target: n.target ? n.target : null,
                    rel: n.rel ? n.rel : null,
                    class: n.class ? n.class : null,
                    title: n.title ? n.title : null
                  };
                g(e.settings) ||
                  !1 !== y(e.settings) ||
                  (i.rel = E(i.rel, "_blank" === i.target)),
                  n.href === t.href && (t.attach(), (t = {})),
                  o
                    ? (e.focus(),
                      n.hasOwnProperty("text") &&
                        ("innerText" in o
                          ? (o.innerText = n.text)
                          : (o.textContent = n.text)),
                      e.dom.setAttribs(o, i),
                      e.selection.select(o),
                      e.undoManager.add())
                    : _(r)
                    ? R(e, r, i)
                    : n.hasOwnProperty("text")
                    ? e.insertContent(
                        e.dom.createHTML("a", i, e.dom.encode(n.text))
                      )
                    : e.execCommand("mceInsertLink", !1, i);
              });
            };
          },
          O = function(e) {
            return function() {
              e.undoManager.transact(function() {
                var t = e.selection.getNode();
                _(t) ? k(e, t) : e.execCommand("unlink");
              });
            };
          },
          A = N,
          P = function(e) {
            return S.grep(e, N).length > 0;
          },
          B = function(e) {
            return !(
              /</.test(e) &&
              (!/^<a [^>]+>[^<]+<\/a>$/.test(e) || -1 === e.indexOf("href="))
            );
          },
          I = T,
          M = function(e, t) {
            return (function(e) {
              return e.replace(/\uFEFF/g, "");
            })(
              t
                ? t.innerText || t.textContent
                : e.getContent({ format: "text" })
            );
          },
          L = E,
          F = tinymce.util.Tools.resolve("tinymce.util.Delay"),
          H = tinymce.util.Tools.resolve("tinymce.util.XHR"),
          z = {},
          W = function(e, t, n) {
            var r = function(e, n) {
              return (
                (n = n || []),
                S.each(e, function(e) {
                  var o = { text: e.text || e.title };
                  e.menu
                    ? (o.menu = r(e.menu))
                    : ((o.value = e.value), t && t(o)),
                    n.push(o);
                }),
                n
              );
            };
            return r(e, n || []);
          },
          U = function(e, t, n) {
            var r = e.selection.getRng();
            F.setEditorTimeout(e, function() {
              e.windowManager.confirm(t, function(t) {
                e.selection.setRng(r), n(t);
              });
            });
          },
          j = function(e, t) {
            var n,
              r,
              o,
              i,
              u,
              s,
              w,
              x,
              C,
              E,
              T,
              N = {},
              _ = e.selection,
              k = e.dom,
              R = function(e) {
                var t = o.find("#text");
                (!t.value() ||
                  (e.lastControl && t.value() === e.lastControl.text())) &&
                  t.value(e.control.text()),
                  o.find("#href").value(e.control.value());
              },
              A = function() {
                r ||
                  !i ||
                  N.text ||
                  this.parent()
                    .parent()
                    .find("#text")[0]
                    .value(this.value());
              };
            (i = B(_.getContent())),
              (n = I(e)),
              (N.text = r = M(e.selection, n)),
              (N.href = n ? k.getAttrib(n, "href") : ""),
              n
                ? (N.target = k.getAttrib(n, "target"))
                : c(e.settings) && (N.target = l(e.settings)),
              (T = k.getAttrib(n, "rel")) && (N.rel = T),
              (T = k.getAttrib(n, "class")) && (N.class = T),
              (T = k.getAttrib(n, "title")) && (N.title = T),
              i &&
                (u = {
                  name: "text",
                  type: "textbox",
                  size: 40,
                  label: "Text to display",
                  onchange: function() {
                    N.text = this.value();
                  }
                }),
              t &&
                (s = {
                  type: "listbox",
                  label: "Link list",
                  values: W(
                    t,
                    function(t) {
                      t.value = e.convertURL(t.value || t.url, "href");
                    },
                    [{ text: "None", value: "" }]
                  ),
                  onselect: R,
                  value: e.convertURL(N.href, "href"),
                  onPostRender: function() {
                    s = this;
                  }
                }),
              m(e.settings) &&
                (void 0 === f(e.settings) &&
                  d(e, [
                    { text: "None", value: "" },
                    { text: "New window", value: "_blank" }
                  ]),
                (x = {
                  name: "target",
                  type: "listbox",
                  label: "Target",
                  values: W(f(e.settings))
                })),
              g(e.settings) &&
                (w = {
                  name: "rel",
                  type: "listbox",
                  label: "Rel",
                  values: W(h(e.settings), function(t) {
                    !1 === y(e.settings) &&
                      (t.value = L(t.value, "_blank" === N.target));
                  })
                }),
              v(e.settings) &&
                (C = {
                  name: "class",
                  type: "listbox",
                  label: "Class",
                  values: W(p(e.settings), function(t) {
                    t.value &&
                      (t.textStyle = function() {
                        return e.formatter.getCssText({
                          inline: "a",
                          classes: [t.value]
                        });
                      });
                  })
                }),
              b(e.settings) &&
                (E = {
                  name: "title",
                  type: "textbox",
                  label: "Title",
                  value: N.title
                }),
              (o = e.windowManager.open({
                title: "Insert link",
                data: N,
                body: [
                  {
                    name: "href",
                    type: "filepicker",
                    filetype: "file",
                    size: 40,
                    autofocus: !0,
                    label: "Url",
                    onchange: function(t) {
                      var n = t.meta || {};
                      s && s.value(e.convertURL(this.value(), "href")),
                        S.each(t.meta, function(e, t) {
                          var n = o.find("#" + t);
                          "text" === t
                            ? 0 === r.length && (n.value(e), (N.text = e))
                            : n.value(e);
                        }),
                        n.attach &&
                          (z = { href: this.value(), attach: n.attach }),
                        n.text || A.call(this);
                    },
                    onkeyup: A,
                    onpaste: A,
                    onbeforecall: function(e) {
                      e.meta = o.toJSON();
                    }
                  },
                  u,
                  E,
                  (function(t) {
                    var n = [];
                    if (
                      (S.each(e.dom.select("a:not([href])"), function(e) {
                        var r = e.name || e.id;
                        r &&
                          n.push({
                            text: r,
                            value: "#" + r,
                            selected: -1 !== t.indexOf("#" + r)
                          });
                      }),
                      n.length)
                    )
                      return (
                        n.unshift({ text: "None", value: "" }),
                        {
                          name: "anchor",
                          type: "listbox",
                          label: "Anchors",
                          values: n,
                          onselect: R
                        }
                      );
                  })(N.href),
                  s,
                  w,
                  x,
                  C
                ],
                onSubmit: function(t) {
                  var n = a(e.settings),
                    o = D(e, z),
                    u = O(e),
                    s = S.extend({}, N, t.data),
                    c = s.href;
                  c
                    ? ((i && s.text !== r) || delete s.text,
                      c.indexOf("@") > 0 &&
                      -1 === c.indexOf("//") &&
                      -1 === c.indexOf("mailto:")
                        ? U(
                            e,
                            "The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",
                            function(e) {
                              e && (s.href = "mailto:" + c), o(s);
                            }
                          )
                        : (!0 === n && !/^\w+:/i.test(c)) ||
                          (!1 === n && /^\s*www[\.|\d\.]/i.test(c))
                        ? U(
                            e,
                            "The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",
                            function(e) {
                              e && (s.href = "http://" + c), o(s);
                            }
                          )
                        : o(s))
                    : u();
                }
              }));
          },
          V = function(e) {
            !(function(e, t) {
              var n = s(e.settings);
              "string" == typeof n
                ? H.send({
                    url: n,
                    success: function(n) {
                      t(e, JSON.parse(n));
                    }
                  })
                : "function" == typeof n
                ? n(function(n) {
                    t(e, n);
                  })
                : t(e, n);
            })(e, j);
          },
          q = function(e, t) {
            return e.dom.getParent(t, "a[href]");
          },
          $ = function(e) {
            return q(e, e.selection.getStart());
          },
          K = function(e, t) {
            if (t) {
              var n = (function(e) {
                var t = e.getAttribute("data-mce-href");
                return t || e.getAttribute("href");
              })(t);
              if (/^#/.test(n)) {
                var r = e.$(n);
                r.length && e.selection.scrollIntoView(r[0], !0);
              } else C(t.href);
            }
          },
          Y = function(e) {
            return function() {
              V(e);
            };
          },
          X = function(e) {
            return function() {
              K(e, $(e));
            };
          },
          G = function(e) {
            return function(t) {
              var n, r, o;
              return !!(
                u(e.settings) &&
                !(function(e) {
                  var t = e.plugins.contextmenu;
                  return !!t && t.isContextMenuVisible();
                })(e) &&
                A(t) &&
                3 ===
                  (o = (r = (n = e.selection).getRng()).startContainer)
                    .nodeType &&
                n.isCollapsed() &&
                r.startOffset > 0 &&
                r.startOffset < o.data.length
              );
            };
          },
          J = function(e) {
            e.on("click", function(t) {
              var r = q(e, t.target);
              r && n.metaKeyPressed(t) && (t.preventDefault(), K(e, r));
            }),
              e.on("keydown", function(t) {
                var n = $(e);
                n &&
                  13 === t.keyCode &&
                  (function(e) {
                    return (
                      !0 === e.altKey &&
                      !1 === e.shiftKey &&
                      !1 === e.ctrlKey &&
                      !1 === e.metaKey
                    );
                  })(t) &&
                  (t.preventDefault(), K(e, n));
              });
          },
          Q = function(e) {
            return function() {
              var t = this;
              e.on("nodechange", function(n) {
                t.active(!e.readonly && !!I(e, n.element));
              });
            };
          },
          Z = function(e) {
            return function() {
              var t = this,
                n = function(e) {
                  P(e.parents) ? t.show() : t.hide();
                };
              P(e.dom.getParents(e.selection.getStart())) || t.hide(),
                e.on("nodechange", n),
                t.on("remove", function() {
                  e.off("nodechange", n);
                });
            };
          },
          ee = function(e) {
            e.addCommand("mceLink", Y(e));
          },
          te = function(e) {
            e.addShortcut("Meta+K", "", Y(e));
          },
          ne = function(e) {
            e.addButton("link", {
              active: !1,
              icon: "link",
              tooltip: "Insert/edit link",
              onclick: Y(e),
              onpostrender: Q(e)
            }),
              e.addButton("unlink", {
                active: !1,
                icon: "unlink",
                tooltip: "Remove link",
                onclick: O(e),
                onpostrender: Q(e)
              }),
              e.addContextToolbar &&
                e.addButton("openlink", {
                  icon: "newtab",
                  tooltip: "Open link",
                  onclick: X(e)
                });
          },
          re = function(e) {
            e.addMenuItem("openlink", {
              text: "Open link",
              icon: "newtab",
              onclick: X(e),
              onPostRender: Z(e),
              prependToContext: !0
            }),
              e.addMenuItem("link", {
                icon: "link",
                text: "Link",
                shortcut: "Meta+K",
                onclick: Y(e),
                stateSelector: "a[href]",
                context: "insert",
                prependToContext: !0
              }),
              e.addMenuItem("unlink", {
                icon: "unlink",
                text: "Remove link",
                onclick: O(e),
                stateSelector: "a[href]"
              });
          },
          oe = function(e) {
            e.addContextToolbar &&
              e.addContextToolbar(G(e), "openlink | link unlink");
          };
        t.add("link", function(e) {
          ne(e), re(e), oe(e), J(e), ee(e), te(e);
        });
      })(window);
    },
    1286: function(e, t) {
      !(function() {
        "use strict";
        var e = tinymce.util.Tools.resolve("tinymce.PluginManager"),
          t = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
          n = function(e) {
            return e.getParam("code_dialog_width", 600);
          },
          r = function(e) {
            return e.getParam(
              "code_dialog_height",
              Math.min(t.DOM.getViewPort().h - 200, 500)
            );
          },
          o = function(e, t) {
            e.focus(),
              e.undoManager.transact(function() {
                e.setContent(t);
              }),
              e.selection.setCursorLocation(),
              e.nodeChanged();
          },
          i = function(e) {
            return e.getContent({ source_view: !0 });
          },
          a = function(e) {
            var t = n(e),
              a = r(e);
            e.windowManager
              .open({
                title: "Source code",
                body: {
                  type: "textbox",
                  name: "code",
                  multiline: !0,
                  minWidth: t,
                  minHeight: a,
                  spellcheck: !1,
                  style: "direction: ltr; text-align: left"
                },
                onSubmit: function(t) {
                  o(e, t.data.code);
                }
              })
              .find("#code")
              .value(i(e));
          },
          u = function(e) {
            e.addCommand("mceCodeEditor", function() {
              a(e);
            });
          },
          s = function(e) {
            e.addButton("code", {
              icon: "code",
              tooltip: "Source code",
              onclick: function() {
                a(e);
              }
            }),
              e.addMenuItem("code", {
                icon: "code",
                text: "Source code",
                onclick: function() {
                  a(e);
                }
              });
          };
        e.add("code", function(e) {
          return u(e), s(e), {};
        });
      })();
    },
    1287: function(e, t) {
      !(function(e) {
        "use strict";
        var t = tinymce.util.Tools.resolve("tinymce.PluginManager"),
          n = function() {},
          r = function(e, t) {
            return function() {
              for (var n = [], r = 0; r < arguments.length; r++)
                n[r] = arguments[r];
              return e(t.apply(null, n));
            };
          },
          o = function(e) {
            return function() {
              return e;
            };
          },
          i = function(e) {
            return e;
          };
        function a(e) {
          for (var t = [], n = 1; n < arguments.length; n++)
            t[n - 1] = arguments[n];
          return function() {
            for (var n = [], r = 0; r < arguments.length; r++)
              n[r] = arguments[r];
            var o = t.concat(n);
            return e.apply(null, o);
          };
        }
        var u = function(e) {
            return function() {
              for (var t = [], n = 0; n < arguments.length; n++)
                t[n] = arguments[n];
              return !e.apply(null, t);
            };
          },
          s = o(!1),
          c = o(!0),
          l = function() {
            return f;
          },
          f = (function() {
            var e = function(e) {
                return e.isNone();
              },
              t = function(e) {
                return e();
              },
              r = function(e) {
                return e;
              },
              i = {
                fold: function(e, t) {
                  return e();
                },
                is: s,
                isSome: s,
                isNone: c,
                getOr: r,
                getOrThunk: t,
                getOrDie: function(e) {
                  throw new Error(e || "error: getOrDie called on none.");
                },
                getOrNull: o(null),
                getOrUndefined: o(void 0),
                or: r,
                orThunk: t,
                map: l,
                each: n,
                bind: l,
                exists: s,
                forall: c,
                filter: l,
                equals: e,
                equals_: e,
                toArray: function() {
                  return [];
                },
                toString: o("none()")
              };
            return Object.freeze && Object.freeze(i), i;
          })(),
          d = function(e) {
            var t = o(e),
              n = function() {
                return i;
              },
              r = function(t) {
                return t(e);
              },
              i = {
                fold: function(t, n) {
                  return n(e);
                },
                is: function(t) {
                  return e === t;
                },
                isSome: c,
                isNone: s,
                getOr: t,
                getOrThunk: t,
                getOrDie: t,
                getOrNull: t,
                getOrUndefined: t,
                or: n,
                orThunk: n,
                map: function(t) {
                  return d(t(e));
                },
                each: function(t) {
                  t(e);
                },
                bind: r,
                exists: r,
                forall: r,
                filter: function(t) {
                  return t(e) ? i : f;
                },
                toArray: function() {
                  return [e];
                },
                toString: function() {
                  return "some(" + e + ")";
                },
                equals: function(t) {
                  return t.is(e);
                },
                equals_: function(t, n) {
                  return t.fold(s, function(t) {
                    return n(e, t);
                  });
                }
              };
            return i;
          },
          m = {
            some: d,
            none: l,
            from: function(e) {
              return null == e ? f : d(e);
            }
          },
          h = function(e) {
            return function(t) {
              return (
                (function(e) {
                  if (null === e) return "null";
                  var t = typeof e;
                  return "object" === t &&
                    (Array.prototype.isPrototypeOf(e) ||
                      (e.constructor && "Array" === e.constructor.name))
                    ? "array"
                    : "object" === t &&
                      (String.prototype.isPrototypeOf(e) ||
                        (e.constructor && "String" === e.constructor.name))
                    ? "string"
                    : t;
                })(t) === e
              );
            };
          },
          g = h("string"),
          p = h("array"),
          v = h("boolean"),
          b = h("function"),
          y = h("number"),
          w = Array.prototype.slice,
          x = Array.prototype.indexOf,
          C = Array.prototype.push,
          S = function(e, t) {
            return (n = e), (r = t), x.call(n, r) > -1;
            var n, r;
          },
          E = function(e, t) {
            for (var n = 0, r = e.length; n < r; n++) if (t(e[n], n)) return !0;
            return !1;
          },
          T = function(e, t) {
            for (var n = e.length, r = new Array(n), o = 0; o < n; o++) {
              var i = e[o];
              r[o] = t(i, o);
            }
            return r;
          },
          N = function(e, t) {
            for (var n = 0, r = e.length; n < r; n++) t(e[n], n);
          },
          _ = function(e, t) {
            for (var n = [], r = 0, o = e.length; r < o; r++) {
              var i = e[r];
              t(i, r) && n.push(i);
            }
            return n;
          },
          k = function(e, t, n) {
            return (
              (function(e, t) {
                for (var n = e.length - 1; n >= 0; n--) t(e[n], n);
              })(e, function(e) {
                n = t(n, e);
              }),
              n
            );
          },
          R = function(e, t, n) {
            return (
              N(e, function(e) {
                n = t(n, e);
              }),
              n
            );
          },
          D = function(e, t) {
            for (var n = 0, r = e.length; n < r; n++) {
              var o = e[n];
              if (t(o, n)) return m.some(o);
            }
            return m.none();
          },
          O = function(e, t) {
            for (var n = 0, r = e.length; n < r; n++)
              if (t(e[n], n)) return m.some(n);
            return m.none();
          },
          A = function(e) {
            for (var t = [], n = 0, r = e.length; n < r; ++n) {
              if (!p(e[n]))
                throw new Error(
                  "Arr.flatten item " + n + " was not an array, input: " + e
                );
              C.apply(t, e[n]);
            }
            return t;
          },
          P = function(e, t) {
            var n = T(e, t);
            return A(n);
          },
          B = function(e, t) {
            for (var n = 0, r = e.length; n < r; ++n)
              if (!0 !== t(e[n], n)) return !1;
            return !0;
          },
          I = function(e) {
            var t = w.call(e, 0);
            return t.reverse(), t;
          },
          M = (b(Array.from) && Array.from, Object.keys),
          L = function(e, t) {
            for (var n = M(e), r = 0, o = n.length; r < o; r++) {
              var i = n[r];
              t(e[i], i);
            }
          },
          F = function(e, t) {
            return H(e, function(e, n) {
              return { k: n, v: t(e, n) };
            });
          },
          H = function(e, t) {
            var n = {};
            return (
              L(e, function(e, r) {
                var o = t(e, r);
                n[o.k] = o.v;
              }),
              n
            );
          },
          z = function() {
            for (var e = [], t = 0; t < arguments.length; t++)
              e[t] = arguments[t];
            return function() {
              for (var t = [], n = 0; n < arguments.length; n++)
                t[n] = arguments[n];
              if (e.length !== t.length)
                throw new Error(
                  'Wrong number of arguments to struct. Expected "[' +
                    e.length +
                    ']", got ' +
                    t.length +
                    " arguments"
                );
              var r = {};
              return (
                N(e, function(e, n) {
                  r[e] = o(t[n]);
                }),
                r
              );
            };
          },
          W = function(e) {
            return e.slice(0).sort();
          },
          U = function(e, t) {
            throw new Error(
              "All required keys (" +
                W(e).join(", ") +
                ") were not specified. Specified keys were: " +
                W(t).join(", ") +
                "."
            );
          },
          j = function(e) {
            throw new Error("Unsupported keys for object: " + W(e).join(", "));
          },
          V = function(e, t) {
            if (!p(t))
              throw new Error(
                "The " + e + " fields must be an array. Was: " + t + "."
              );
            N(t, function(t) {
              if (!g(t))
                throw new Error(
                  "The value " +
                    t +
                    " in the " +
                    e +
                    " fields was not a string."
                );
            });
          },
          q = function(e) {
            var t = W(e);
            D(t, function(e, n) {
              return n < t.length - 1 && e === t[n + 1];
            }).each(function(e) {
              throw new Error(
                "The field: " +
                  e +
                  " occurs more than once in the combined fields: [" +
                  t.join(", ") +
                  "]."
              );
            });
          },
          $ = function(e, t) {
            var n = e.concat(t);
            if (0 === n.length)
              throw new Error(
                "You must specify at least one required or optional field."
              );
            return (
              V("required", e),
              V("optional", t),
              q(n),
              function(r) {
                var i = M(r);
                B(e, function(e) {
                  return S(i, e);
                }) || U(e, i);
                var a = _(i, function(e) {
                  return !S(n, e);
                });
                a.length > 0 && j(a);
                var u = {};
                return (
                  N(e, function(e) {
                    u[e] = o(r[e]);
                  }),
                  N(t, function(e) {
                    u[e] = o(
                      Object.prototype.hasOwnProperty.call(r, e)
                        ? m.some(r[e])
                        : m.none()
                    );
                  }),
                  u
                );
              }
            );
          },
          K =
            (e.Node.ATTRIBUTE_NODE,
            e.Node.CDATA_SECTION_NODE,
            e.Node.COMMENT_NODE),
          Y = e.Node.DOCUMENT_NODE,
          X =
            (e.Node.DOCUMENT_TYPE_NODE,
            e.Node.DOCUMENT_FRAGMENT_NODE,
            e.Node.ELEMENT_NODE),
          G = e.Node.TEXT_NODE,
          J =
            (e.Node.PROCESSING_INSTRUCTION_NODE,
            e.Node.ENTITY_REFERENCE_NODE,
            e.Node.ENTITY_NODE,
            e.Node.NOTATION_NODE,
            void 0 !== e.window ? e.window : Function("return this;")()),
          Q = function(e, t) {
            return (function(e, t) {
              for (
                var n = null != t ? t : J, r = 0;
                r < e.length && null != n;
                ++r
              )
                n = n[e[r]];
              return n;
            })(e.split("."), t);
          },
          Z = function(e, t) {
            var n = (function(e, t) {
              return Q(e, t);
            })(e, t);
            if (null == n)
              throw new Error(e + " not available on this browser");
            return n;
          },
          ee = function(e) {
            return e.dom().nodeName.toLowerCase();
          },
          te = function(e) {
            return e.dom().nodeType;
          },
          ne = function(e) {
            return function(t) {
              return te(t) === e;
            };
          },
          re = function(e) {
            return te(e) === K || "#comment" === ee(e);
          },
          oe = ne(X),
          ie = ne(G),
          ae = function(t, n, r) {
            if (!(g(r) || v(r) || y(r)))
              throw (e.console.error(
                "Invalid call to Attr.set. Key ",
                n,
                ":: Value ",
                r,
                ":: Element ",
                t
              ),
              new Error("Attribute value was not simple"));
            t.setAttribute(n, r + "");
          },
          ue = function(e, t, n) {
            ae(e.dom(), t, n);
          },
          se = function(e, t) {
            var n = e.dom();
            L(t, function(e, t) {
              ae(n, t, e);
            });
          },
          ce = function(e, t) {
            var n = e.dom().getAttribute(t);
            return null === n ? void 0 : n;
          },
          le = function(e, t) {
            var n = e.dom();
            return !(!n || !n.hasAttribute) && n.hasAttribute(t);
          },
          fe = function(e, t) {
            e.dom().removeAttribute(t);
          },
          de = function(e) {
            return R(
              e.dom().attributes,
              function(e, t) {
                return (e[t.name] = t.value), e;
              },
              {}
            );
          },
          me = function(e, t) {
            return -1 !== e.indexOf(t);
          },
          he = function(e) {
            return void 0 !== e.style && b(e.style.getPropertyValue);
          },
          ge = function(e) {
            var t,
              n = !1;
            return function() {
              for (var r = [], o = 0; o < arguments.length; o++)
                r[o] = arguments[o];
              return n || ((n = !0), (t = e.apply(null, r))), t;
            };
          },
          pe = function(e) {
            if (null == e) throw new Error("Node cannot be null or undefined");
            return { dom: o(e) };
          },
          ve = {
            fromHtml: function(t, n) {
              var r = (n || e.document).createElement("div");
              if (
                ((r.innerHTML = t),
                !r.hasChildNodes() || r.childNodes.length > 1)
              )
                throw (e.console.error(
                  "HTML does not have a single root node",
                  t
                ),
                new Error("HTML must have a single root node"));
              return pe(r.childNodes[0]);
            },
            fromTag: function(t, n) {
              var r = (n || e.document).createElement(t);
              return pe(r);
            },
            fromText: function(t, n) {
              var r = (n || e.document).createTextNode(t);
              return pe(r);
            },
            fromDom: pe,
            fromPoint: function(e, t, n) {
              var r = e.dom();
              return m.from(r.elementFromPoint(t, n)).map(pe);
            }
          },
          be = function(e) {
            var t = ie(e) ? e.dom().parentNode : e.dom();
            return null != t && t.ownerDocument.body.contains(t);
          },
          ye = ge(function() {
            return we(ve.fromDom(e.document));
          }),
          we = function(e) {
            var t = e.dom().body;
            if (null == t) throw new Error("Body is not available yet");
            return ve.fromDom(t);
          },
          xe = function(t, n, r) {
            if (!g(r))
              throw (e.console.error(
                "Invalid call to CSS.set. Property ",
                n,
                ":: Value ",
                r,
                ":: Element ",
                t
              ),
              new Error("CSS value must be a string: " + r));
            he(t) && t.style.setProperty(n, r);
          },
          Ce = function(e, t, n) {
            var r = e.dom();
            xe(r, t, n);
          },
          Se = function(e, t) {
            var n = e.dom();
            L(t, function(e, t) {
              xe(n, t, e);
            });
          },
          Ee = function(t, n) {
            var r = t.dom(),
              o = e.window.getComputedStyle(r).getPropertyValue(n),
              i = "" !== o || be(t) ? o : Te(r, n);
            return null === i ? void 0 : i;
          },
          Te = function(e, t) {
            return he(e) ? e.style.getPropertyValue(t) : "";
          },
          Ne = function(e, t) {
            var n = e.dom(),
              r = Te(n, t);
            return m.from(r).filter(function(e) {
              return e.length > 0;
            });
          },
          _e = function(e, t) {
            !(function(e, t) {
              he(e) && e.style.removeProperty(t);
            })(e.dom(), t),
              le(e, "style") &&
                "" === ce(e, "style").replace(/^\s+|\s+$/g, "") &&
                fe(e, "style");
          },
          ke = function() {
            return Z("Node");
          },
          Re = function(e, t, n) {
            return 0 != (e.compareDocumentPosition(t) & n);
          },
          De = function(e, t) {
            return Re(e, t, ke().DOCUMENT_POSITION_CONTAINED_BY);
          },
          Oe = function() {
            return Ae(0, 0);
          },
          Ae = function(e, t) {
            return { major: e, minor: t };
          },
          Pe = {
            nu: Ae,
            detect: function(e, t) {
              var n = String(t).toLowerCase();
              return 0 === e.length
                ? Oe()
                : (function(e, t) {
                    var n = (function(e, t) {
                      for (var n = 0; n < e.length; n++) {
                        var r = e[n];
                        if (r.test(t)) return r;
                      }
                    })(e, t);
                    if (!n) return { major: 0, minor: 0 };
                    var r = function(e) {
                      return Number(t.replace(n, "$" + e));
                    };
                    return Ae(r(1), r(2));
                  })(e, n);
            },
            unknown: Oe
          },
          Be = function(e, t) {
            return function() {
              return t === e;
            };
          },
          Ie = function(e) {
            var t = e.current;
            return {
              current: t,
              version: e.version,
              isEdge: Be("Edge", t),
              isChrome: Be("Chrome", t),
              isIE: Be("IE", t),
              isOpera: Be("Opera", t),
              isFirefox: Be("Firefox", t),
              isSafari: Be("Safari", t)
            };
          },
          Me = {
            unknown: function() {
              return Ie({ current: void 0, version: Pe.unknown() });
            },
            nu: Ie,
            edge: o("Edge"),
            chrome: o("Chrome"),
            ie: o("IE"),
            opera: o("Opera"),
            firefox: o("Firefox"),
            safari: o("Safari")
          },
          Le = function(e, t) {
            return function() {
              return t === e;
            };
          },
          Fe = function(e) {
            var t = e.current;
            return {
              current: t,
              version: e.version,
              isWindows: Le("Windows", t),
              isiOS: Le("iOS", t),
              isAndroid: Le("Android", t),
              isOSX: Le("OSX", t),
              isLinux: Le("Linux", t),
              isSolaris: Le("Solaris", t),
              isFreeBSD: Le("FreeBSD", t)
            };
          },
          He = {
            unknown: function() {
              return Fe({ current: void 0, version: Pe.unknown() });
            },
            nu: Fe,
            windows: o("Windows"),
            ios: o("iOS"),
            android: o("Android"),
            linux: o("Linux"),
            osx: o("OSX"),
            solaris: o("Solaris"),
            freebsd: o("FreeBSD")
          },
          ze = function(e, t) {
            var n = String(t).toLowerCase();
            return D(e, function(e) {
              return e.search(n);
            });
          },
          We = function(e, t) {
            return ze(e, t).map(function(e) {
              var n = Pe.detect(e.versionRegexes, t);
              return { current: e.name, version: n };
            });
          },
          Ue = function(e, t) {
            return ze(e, t).map(function(e) {
              var n = Pe.detect(e.versionRegexes, t);
              return { current: e.name, version: n };
            });
          },
          je = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
          Ve = function(e) {
            return function(t) {
              return me(t, e);
            };
          },
          qe = [
            {
              name: "Edge",
              versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
              search: function(e) {
                return (
                  me(e, "edge/") &&
                  me(e, "chrome") &&
                  me(e, "safari") &&
                  me(e, "applewebkit")
                );
              }
            },
            {
              name: "Chrome",
              versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, je],
              search: function(e) {
                return me(e, "chrome") && !me(e, "chromeframe");
              }
            },
            {
              name: "IE",
              versionRegexes: [
                /.*?msie\ ?([0-9]+)\.([0-9]+).*/,
                /.*?rv:([0-9]+)\.([0-9]+).*/
              ],
              search: function(e) {
                return me(e, "msie") || me(e, "trident");
              }
            },
            {
              name: "Opera",
              versionRegexes: [je, /.*?opera\/([0-9]+)\.([0-9]+).*/],
              search: Ve("opera")
            },
            {
              name: "Firefox",
              versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
              search: Ve("firefox")
            },
            {
              name: "Safari",
              versionRegexes: [je, /.*?cpu os ([0-9]+)_([0-9]+).*/],
              search: function(e) {
                return (
                  (me(e, "safari") || me(e, "mobile/")) && me(e, "applewebkit")
                );
              }
            }
          ],
          $e = [
            {
              name: "Windows",
              search: Ve("win"),
              versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
            },
            {
              name: "iOS",
              search: function(e) {
                return me(e, "iphone") || me(e, "ipad");
              },
              versionRegexes: [
                /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
                /.*cpu os ([0-9]+)_([0-9]+).*/,
                /.*cpu iphone os ([0-9]+)_([0-9]+).*/
              ]
            },
            {
              name: "Android",
              search: Ve("android"),
              versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
            },
            {
              name: "OSX",
              search: Ve("os x"),
              versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]
            },
            { name: "Linux", search: Ve("linux"), versionRegexes: [] },
            { name: "Solaris", search: Ve("sunos"), versionRegexes: [] },
            { name: "FreeBSD", search: Ve("freebsd"), versionRegexes: [] }
          ],
          Ke = { browsers: o(qe), oses: o($e) },
          Ye = function(e) {
            var t = Ke.browsers(),
              n = Ke.oses(),
              r = We(t, e).fold(Me.unknown, Me.nu),
              i = Ue(n, e).fold(He.unknown, He.nu),
              a = (function(e, t, n) {
                var r = e.isiOS() && !0 === /ipad/i.test(n),
                  i = e.isiOS() && !r,
                  a = e.isAndroid() && 3 === e.version.major,
                  u = e.isAndroid() && 4 === e.version.major,
                  s = r || a || (u && !0 === /mobile/i.test(n)),
                  c = e.isiOS() || e.isAndroid(),
                  l = c && !s,
                  f = t.isSafari() && e.isiOS() && !1 === /safari/i.test(n);
                return {
                  isiPad: o(r),
                  isiPhone: o(i),
                  isTablet: o(s),
                  isPhone: o(l),
                  isTouch: o(c),
                  isAndroid: e.isAndroid,
                  isiOS: e.isiOS,
                  isWebView: o(f)
                };
              })(i, r, e);
            return { browser: r, os: i, deviceType: a };
          },
          Xe = {
            detect: ge(function() {
              var t = e.navigator.userAgent;
              return Ye(t);
            })
          },
          Ge = X,
          Je = Y,
          Qe = function(e, t) {
            var n = e.dom();
            if (n.nodeType !== Ge) return !1;
            var r = n;
            if (void 0 !== r.matches) return r.matches(t);
            if (void 0 !== r.msMatchesSelector) return r.msMatchesSelector(t);
            if (void 0 !== r.webkitMatchesSelector)
              return r.webkitMatchesSelector(t);
            if (void 0 !== r.mozMatchesSelector) return r.mozMatchesSelector(t);
            throw new Error("Browser lacks native selectors");
          },
          Ze = function(e) {
            return (
              (e.nodeType !== Ge && e.nodeType !== Je) ||
              0 === e.childElementCount
            );
          },
          et = function(e, t) {
            return e.dom() === t.dom();
          },
          tt = Xe.detect().browser.isIE()
            ? function(e, t) {
                return De(e.dom(), t.dom());
              }
            : function(e, t) {
                var n = e.dom(),
                  r = t.dom();
                return n !== r && n.contains(r);
              },
          nt = Qe,
          rt = function(e) {
            return ve.fromDom(e.dom().ownerDocument);
          },
          ot = function(e) {
            return m.from(e.dom().parentNode).map(ve.fromDom);
          },
          it = function(e, t) {
            for (
              var n = b(t) ? t : s, r = e.dom(), o = [];
              null !== r.parentNode && void 0 !== r.parentNode;

            ) {
              var i = r.parentNode,
                a = ve.fromDom(i);
              if ((o.push(a), !0 === n(a))) break;
              r = i;
            }
            return o;
          },
          at = function(e) {
            return m.from(e.dom().previousSibling).map(ve.fromDom);
          },
          ut = function(e) {
            return m.from(e.dom().nextSibling).map(ve.fromDom);
          },
          st = function(e) {
            return T(e.dom().childNodes, ve.fromDom);
          },
          ct = function(e, t) {
            var n = e.dom().childNodes;
            return m.from(n[t]).map(ve.fromDom);
          },
          lt =
            (z("element", "offset"),
            function(e, t) {
              ot(e).each(function(n) {
                n.dom().insertBefore(t.dom(), e.dom());
              });
            }),
          ft = function(e, t) {
            ut(e).fold(
              function() {
                ot(e).each(function(e) {
                  mt(e, t);
                });
              },
              function(e) {
                lt(e, t);
              }
            );
          },
          dt = function(e, t) {
            (function(e) {
              return ct(e, 0);
            })(e).fold(
              function() {
                mt(e, t);
              },
              function(n) {
                e.dom().insertBefore(t.dom(), n.dom());
              }
            );
          },
          mt = function(e, t) {
            e.dom().appendChild(t.dom());
          },
          ht = function(e, t) {
            lt(e, t), mt(t, e);
          },
          gt = function(e, t) {
            N(t, function(n, r) {
              var o = 0 === r ? e : t[r - 1];
              ft(o, n);
            });
          },
          pt = function(e, t) {
            N(t, function(t) {
              mt(e, t);
            });
          },
          vt = function(e) {
            (e.dom().textContent = ""),
              N(st(e), function(e) {
                bt(e);
              });
          },
          bt = function(e) {
            var t = e.dom();
            null !== t.parentNode && t.parentNode.removeChild(t);
          },
          yt = function(e) {
            var t,
              n = st(e);
            n.length > 0 &&
              ((t = e),
              N(n, function(e) {
                lt(t, e);
              })),
              bt(e);
          },
          wt =
            (z("width", "height"), z("width", "height"), z("rows", "columns")),
          xt = z("row", "column"),
          Ct = (z("x", "y"), z("element", "rowspan", "colspan")),
          St = z("element", "rowspan", "colspan", "isNew"),
          Et = z("element", "rowspan", "colspan", "row", "column"),
          Tt = z("element", "cells", "section"),
          Nt = z("element", "isNew"),
          _t = z("element", "cells", "section", "isNew"),
          kt = z("cells", "section"),
          Rt = z("details", "section"),
          Dt = z("startRow", "startCol", "finishRow", "finishCol"),
          Ot = function(e, t) {
            var n = [];
            return (
              N(st(e), function(e) {
                t(e) && (n = n.concat([e])), (n = n.concat(Ot(e, t)));
              }),
              n
            );
          },
          At = function(e, t, n) {
            return (function(e, t, n) {
              return _(it(e, n), t);
            })(
              e,
              function(e) {
                return Qe(e, t);
              },
              n
            );
          },
          Pt = function(e, t) {
            return (function(e, t) {
              return _(st(e), t);
            })(e, function(e) {
              return Qe(e, t);
            });
          },
          Bt = function(t, n) {
            return (function(t, n) {
              var r = void 0 === n ? e.document : n.dom();
              return Ze(r) ? [] : T(r.querySelectorAll(t), ve.fromDom);
            })(n, t);
          };
        function It(e, t, n, r, o) {
          return e(n, r) ? m.some(n) : b(o) && o(n) ? m.none() : t(n, r, o);
        }
        var Mt = function(e, t, n) {
            for (var r = e.dom(), i = b(n) ? n : o(!1); r.parentNode; ) {
              r = r.parentNode;
              var a = ve.fromDom(r);
              if (t(a)) return m.some(a);
              if (i(a)) break;
            }
            return m.none();
          },
          Lt = function(e, t, n) {
            return Mt(
              e,
              function(e) {
                return Qe(e, t);
              },
              n
            );
          },
          Ft = function(e, t) {
            return (function(e, t) {
              return D(e.dom().childNodes, function(e) {
                return t(ve.fromDom(e));
              }).map(ve.fromDom);
            })(e, function(e) {
              return Qe(e, t);
            });
          },
          Ht = function(t, n) {
            return (function(t, n) {
              var r = void 0 === n ? e.document : n.dom();
              return Ze(r)
                ? m.none()
                : m.from(r.querySelector(t)).map(ve.fromDom);
            })(n, t);
          },
          zt = function(e, t, n) {
            return It(Qe, Lt, e, t, n);
          },
          Wt = function(e, t, n) {
            return P(st(e), function(e) {
              return Qe(e, t) ? (n(e) ? [e] : []) : Wt(e, t, n);
            });
          },
          Ut = {
            firstLayer: function(e, t) {
              return Wt(e, t, o(!0));
            },
            filterFirstLayer: Wt
          },
          jt = function(e, t, n) {
            return (
              void 0 === n && (n = s),
              n(t)
                ? m.none()
                : S(e, ee(t))
                ? m.some(t)
                : Lt(t, e.join(","), function(e) {
                    return Qe(e, "table") || n(e);
                  })
            );
          },
          Vt = function(e, t) {
            return ot(t).map(function(t) {
              return Pt(t, e);
            });
          },
          qt =
            (a(Vt, "th,td"),
            a(Vt, "tr"),
            function(e, t) {
              return jt(["td", "th"], e, t);
            }),
          $t = function(e) {
            return Ut.firstLayer(e, "th,td");
          },
          Kt = function(e, t) {
            return zt(e, "table", t);
          },
          Yt = function(e) {
            return Ut.firstLayer(e, "tr");
          },
          Xt = function(e) {
            var t = Yt(e);
            return T(t, function(e) {
              var t = e,
                n = ot(t)
                  .map(function(e) {
                    var t = ee(e);
                    return "tfoot" === t || "thead" === t || "tbody" === t
                      ? t
                      : "tbody";
                  })
                  .getOr("tbody"),
                r = T($t(e), function(e) {
                  var t = le(e, "rowspan") ? parseInt(ce(e, "rowspan"), 10) : 1,
                    n = le(e, "colspan") ? parseInt(ce(e, "colspan"), 10) : 1;
                  return Ct(e, t, n);
                });
              return Tt(t, r, n);
            });
          },
          Gt = function(e, t) {
            return T(e, function(e) {
              var n = T($t(e), function(e) {
                var t = le(e, "rowspan") ? parseInt(ce(e, "rowspan"), 10) : 1,
                  n = le(e, "colspan") ? parseInt(ce(e, "colspan"), 10) : 1;
                return Ct(e, t, n);
              });
              return Tt(e, n, t.section());
            });
          },
          Jt = function(e, t) {
            return e + "," + t;
          },
          Qt = function(e, t) {
            var n = P(e.all(), function(e) {
              return e.cells();
            });
            return _(n, t);
          },
          Zt = {
            generate: function(e) {
              var t = {},
                n = [],
                r = e.length,
                i = 0;
              N(e, function(e, r) {
                var o = [];
                N(e.cells(), function(e) {
                  for (var n = 0; void 0 !== t[Jt(r, n)]; ) n++;
                  for (
                    var a = Et(e.element(), e.rowspan(), e.colspan(), r, n),
                      u = 0;
                    u < e.colspan();
                    u++
                  )
                    for (var s = 0; s < e.rowspan(); s++) {
                      var c = n + u,
                        l = Jt(r + s, c);
                      (t[l] = a), (i = Math.max(i, c + 1));
                    }
                  o.push(a);
                }),
                  n.push(Tt(e.element(), o, e.section()));
              });
              var a = wt(r, i);
              return { grid: o(a), access: o(t), all: o(n) };
            },
            getAt: function(e, t, n) {
              var r = e.access()[Jt(t, n)];
              return void 0 !== r ? m.some(r) : m.none();
            },
            findItem: function(e, t, n) {
              var r = Qt(e, function(e) {
                return n(t, e.element());
              });
              return r.length > 0 ? m.some(r[0]) : m.none();
            },
            filterItems: Qt,
            justCells: function(e) {
              var t = T(e.all(), function(e) {
                return e.cells();
              });
              return A(t);
            }
          },
          en = z("minRow", "minCol", "maxRow", "maxCol"),
          tn = function(e, t, n) {
            var r = e[n].element(),
              o = ve.fromTag("td");
            mt(o, ve.fromTag("br")), (t ? mt : dt)(r, o);
          },
          nn = function(e, t) {
            var n = function(e) {
                return Qe(e.element(), t);
              },
              r = Xt(e),
              o = Zt.generate(r),
              i = (function(e, t) {
                var n = e.grid().columns(),
                  r = e.grid().rows(),
                  o = n,
                  i = 0,
                  a = 0;
                return (
                  L(e.access(), function(e) {
                    if (t(e)) {
                      var n = e.row(),
                        u = n + e.rowspan() - 1,
                        s = e.column(),
                        c = s + e.colspan() - 1;
                      n < r ? (r = n) : u > i && (i = u),
                        s < o ? (o = s) : c > a && (a = c);
                    }
                  }),
                  en(r, o, i, a)
                );
              })(o, n),
              a = "th:not(" + t + "),td:not(" + t + ")",
              u = Ut.filterFirstLayer(e, "th,td", function(e) {
                return Qe(e, a);
              });
            return (
              N(u, bt),
              (function(e, t, n, r) {
                for (
                  var o = t.grid().columns(), i = t.grid().rows(), a = 0;
                  a < i;
                  a++
                )
                  for (var u = !1, s = 0; s < o; s++)
                    a < n.minRow() ||
                      a > n.maxRow() ||
                      s < n.minCol() ||
                      s > n.maxCol() ||
                      (Zt.getAt(t, a, s)
                        .filter(r)
                        .isNone()
                        ? tn(e, u, a)
                        : (u = !0));
              })(r, o, i, n),
              (function(e, t) {
                var n = _(Ut.firstLayer(e, "tr"), function(e) {
                  return 0 === e.dom().childElementCount;
                });
                N(n, bt),
                  (t.minCol() !== t.maxCol() && t.minRow() !== t.maxRow()) ||
                    N(Ut.firstLayer(e, "th,td"), function(e) {
                      fe(e, "rowspan"), fe(e, "colspan");
                    }),
                  fe(e, "width"),
                  fe(e, "height"),
                  _e(e, "width"),
                  _e(e, "height");
              })(e, i),
              e
            );
          },
          rn = (function(e, t) {
            var n = function(t) {
              return e(t) ? m.from(t.dom().nodeValue) : m.none();
            };
            return {
              get: function(r) {
                if (!e(r))
                  throw new Error(
                    "Can only get " + t + " value of a " + t + " node"
                  );
                return n(r).getOr("");
              },
              getOption: n,
              set: function(n, r) {
                if (!e(n))
                  throw new Error(
                    "Can only set raw " + t + " value of a " + t + " node"
                  );
                n.dom().nodeValue = r;
              }
            };
          })(ie, "text"),
          on = function(e) {
            return rn.get(e);
          },
          an = function(e) {
            return rn.getOption(e);
          },
          un = function(e, t) {
            rn.set(e, t);
          },
          sn = function(e) {
            return "img" === ee(e)
              ? 1
              : an(e).fold(
                  function() {
                    return st(e).length;
                  },
                  function(e) {
                    return e.length;
                  }
                );
          },
          cn = ["img", "br"],
          ln = function(e) {
            return (
              an(e)
                .filter(function(e) {
                  return 0 !== e.trim().length || e.indexOf(" ") > -1;
                })
                .isSome() || S(cn, ee(e))
            );
          },
          fn = function(e) {
            return (
              (t = ln),
              (n = function(e) {
                for (var r = 0; r < e.childNodes.length; r++) {
                  var o = ve.fromDom(e.childNodes[r]);
                  if (t(o)) return m.some(o);
                  var i = n(e.childNodes[r]);
                  if (i.isSome()) return i;
                }
                return m.none();
              })(e.dom())
            );
            var t, n;
          },
          dn = function(e) {
            return mn(e, ln);
          },
          mn = function(e, t) {
            var n = function(e) {
              for (var r = st(e), o = r.length - 1; o >= 0; o--) {
                var i = r[o];
                if (t(i)) return m.some(i);
                var a = n(i);
                if (a.isSome()) return a;
              }
              return m.none();
            };
            return n(e);
          },
          hn = function(e, t) {
            return ve.fromDom(e.dom().cloneNode(t));
          },
          gn = function(e) {
            return hn(e, !1);
          },
          pn = function(e) {
            return hn(e, !0);
          },
          vn = function(e, t) {
            var n = (function(e, t) {
                var n = ve.fromTag(t),
                  r = de(e);
                return se(n, r), n;
              })(e, t),
              r = st(pn(e));
            return pt(n, r), n;
          },
          bn = function() {
            var e = ve.fromTag("td");
            return mt(e, ve.fromTag("br")), e;
          },
          yn = function(e, t, n) {
            var r = vn(e, t);
            return (
              L(n, function(e, t) {
                null === e ? fe(r, t) : ue(r, t, e);
              }),
              r
            );
          },
          wn = function(e) {
            return e;
          },
          xn = function(e) {
            return function() {
              return ve.fromTag("tr", e.dom());
            };
          },
          Cn = function(e, t, n) {
            return {
              row: xn(t),
              cell: function(t) {
                var r,
                  o,
                  i,
                  a,
                  u = rt(t.element()),
                  s = ve.fromTag(ee(t.element()), u.dom()),
                  c = n.getOr([
                    "strong",
                    "em",
                    "b",
                    "i",
                    "span",
                    "font",
                    "h1",
                    "h2",
                    "h3",
                    "h4",
                    "h5",
                    "h6",
                    "p",
                    "div"
                  ]),
                  l =
                    c.length > 0
                      ? (function(e, t, n) {
                          return fn(e)
                            .map(function(r) {
                              var o = n.join(","),
                                i = At(r, o, function(t) {
                                  return et(t, e);
                                });
                              return k(
                                i,
                                function(e, t) {
                                  var n = gn(t);
                                  return fe(n, "contenteditable"), mt(e, n), n;
                                },
                                t
                              );
                            })
                            .getOr(t);
                        })(t.element(), s, c)
                      : s;
                return (
                  mt(l, ve.fromTag("br")),
                  (r = t.element()),
                  (o = s),
                  (i = r.dom()),
                  (a = o.dom()),
                  he(i) && he(a) && (a.style.cssText = i.style.cssText),
                  _e(s, "height"),
                  1 !== t.colspan() && _e(t.element(), "width"),
                  e(t.element(), s),
                  s
                );
              },
              replace: yn,
              gap: bn
            };
          },
          Sn = function(e) {
            return { row: xn(e), cell: bn, replace: wn, gap: bn };
          },
          En = function(e, t) {
            return (
              t.column() >= e.startCol() &&
              t.column() + t.colspan() - 1 <= e.finishCol() &&
              t.row() >= e.startRow() &&
              t.row() + t.rowspan() - 1 <= e.finishRow()
            );
          },
          Tn = function(e, t) {
            var n = t.column(),
              r = t.column() + t.colspan() - 1,
              o = t.row(),
              i = t.row() + t.rowspan() - 1;
            return (
              n <= e.finishCol() &&
              r >= e.startCol() &&
              o <= e.finishRow() &&
              i >= e.startRow()
            );
          },
          Nn = function(e, t) {
            for (
              var n = !0, r = a(En, t), o = t.startRow();
              o <= t.finishRow();
              o++
            )
              for (var i = t.startCol(); i <= t.finishCol(); i++)
                n = n && Zt.getAt(e, o, i).exists(r);
            return n ? m.some(t) : m.none();
          },
          _n = function(e, t, n) {
            var r = Zt.findItem(e, t, et),
              o = Zt.findItem(e, n, et);
            return r.bind(function(e) {
              return o.map(function(t) {
                return (
                  (n = e),
                  (r = t),
                  Dt(
                    Math.min(n.row(), r.row()),
                    Math.min(n.column(), r.column()),
                    Math.max(
                      n.row() + n.rowspan() - 1,
                      r.row() + r.rowspan() - 1
                    ),
                    Math.max(
                      n.column() + n.colspan() - 1,
                      r.column() + r.colspan() - 1
                    )
                  )
                );
                var n, r;
              });
            });
          },
          kn = _n,
          Rn = function(e, t, n) {
            return _n(e, t, n).bind(function(t) {
              return Nn(e, t);
            });
          },
          Dn = function(e, t, n, r) {
            return Zt.findItem(e, t, et).bind(function(t) {
              var o = n > 0 ? t.row() + t.rowspan() - 1 : t.row(),
                i = r > 0 ? t.column() + t.colspan() - 1 : t.column();
              return Zt.getAt(e, o + n, i + r).map(function(e) {
                return e.element();
              });
            });
          },
          On = function(e, t, n) {
            return kn(e, t, n).map(function(t) {
              var n = Zt.filterItems(e, a(Tn, t));
              return T(n, function(e) {
                return e.element();
              });
            });
          },
          An = function(e, t) {
            return Zt.findItem(e, t, function(e, t) {
              return tt(t, e);
            }).map(function(e) {
              return e.element();
            });
          },
          Pn = function(e) {
            var t = Xt(e);
            return Zt.generate(t);
          },
          Bn = function(e, t, n) {
            return Kt(e).bind(function(r) {
              var o = Pn(r);
              return Dn(o, e, t, n);
            });
          },
          In = function(e, t, n) {
            var r = Pn(e);
            return On(r, t, n);
          },
          Mn = function(e, t, n, r, o) {
            var i = Pn(e),
              a = et(e, n) ? m.some(t) : An(i, t),
              u = et(e, o) ? m.some(r) : An(i, r);
            return a.bind(function(e) {
              return u.bind(function(t) {
                return On(i, e, t);
              });
            });
          },
          Ln = function(e, t, n) {
            var r = Pn(e);
            return Rn(r, t, n);
          },
          Fn = [
            "body",
            "p",
            "div",
            "article",
            "aside",
            "figcaption",
            "figure",
            "footer",
            "header",
            "nav",
            "section",
            "ol",
            "ul",
            "li",
            "table",
            "thead",
            "tbody",
            "tfoot",
            "caption",
            "tr",
            "td",
            "th",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "blockquote",
            "pre",
            "address"
          ];
        function Hn() {
          return {
            up: o({ selector: Lt, closest: zt, predicate: Mt, all: it }),
            down: o({ selector: Bt, predicate: Ot }),
            styles: o({ get: Ee, getRaw: Ne, set: Ce, remove: _e }),
            attrs: o({
              get: ce,
              set: ue,
              remove: fe,
              copyTo: function(e, t) {
                var n = de(e);
                se(t, n);
              }
            }),
            insert: o({
              before: lt,
              after: ft,
              afterAll: gt,
              append: mt,
              appendAll: pt,
              prepend: dt,
              wrap: ht
            }),
            remove: o({ unwrap: yt, remove: bt }),
            create: o({
              nu: ve.fromTag,
              clone: function(e) {
                return ve.fromDom(e.dom().cloneNode(!1));
              },
              text: ve.fromText
            }),
            query: o({
              comparePosition: function(e, t) {
                return e.dom().compareDocumentPosition(t.dom());
              },
              prevSibling: at,
              nextSibling: ut
            }),
            property: o({
              children: st,
              name: ee,
              parent: ot,
              document: function(e) {
                return e.dom().ownerDocument;
              },
              isText: ie,
              isComment: re,
              isElement: oe,
              getText: on,
              setText: un,
              isBoundary: function(e) {
                return !!oe(e) && ("body" === ee(e) || S(Fn, ee(e)));
              },
              isEmptyTag: function(e) {
                return !!oe(e) && S(["br", "img", "hr", "input"], ee(e));
              }
            }),
            eq: et,
            is: nt
          };
        }
        var zn = z("left", "right"),
          Wn = z("first", "second", "splits"),
          Un = function(e, t, n) {
            var r = e.property().children(t);
            return O(r, a(e.eq, n)).map(function(e) {
              return { before: o(r.slice(0, e)), after: o(r.slice(e + 1)) };
            });
          },
          jn = function(e, t, n, r) {
            var o = t(e, n);
            return k(
              r,
              function(n, r) {
                var o = t(e, r);
                return Vn(e, n, o);
              },
              o
            );
          },
          Vn = function(e, t, n) {
            return t.bind(function(t) {
              return n.filter(a(e.eq, t));
            });
          },
          qn = function(e, t) {
            return a(e.eq, t);
          },
          $n = function(e, t, n, r) {
            void 0 === r && (r = s);
            var i = [t].concat(e.up().all(t)),
              a = [n].concat(e.up().all(n)),
              u = function(e) {
                return O(e, r).fold(
                  function() {
                    return e;
                  },
                  function(t) {
                    return e.slice(0, t + 1);
                  }
                );
              },
              c = u(i),
              l = u(a),
              f = D(c, function(t) {
                return E(l, qn(e, t));
              });
            return { firstpath: o(c), secondpath: o(l), shared: o(f) };
          },
          Kn = {
            sharedOne: function(e, t, n) {
              return n.length > 0
                ? (function(e, t, n, r) {
                    return r(e, t, n[0], n.slice(1));
                  })(e, t, n, jn)
                : m.none();
            },
            subset: function(e, t, n) {
              var r = $n(e, t, n);
              return r.shared().bind(function(t) {
                return (function(e, t, n, r) {
                  var o = e.property().children(t);
                  if (e.eq(t, n[0])) return m.some([n[0]]);
                  if (e.eq(t, r[0])) return m.some([r[0]]);
                  var i = function(n) {
                      var r = I(n),
                        i = O(r, qn(e, t)).getOr(-1),
                        a = i < r.length - 1 ? r[i + 1] : r[i];
                      return O(o, qn(e, a));
                    },
                    a = i(n),
                    u = i(r);
                  return a.bind(function(e) {
                    return u.map(function(t) {
                      var n = Math.min(e, t),
                        r = Math.max(e, t);
                      return o.slice(n, r + 1);
                    });
                  });
                })(e, t, r.firstpath(), r.secondpath());
              });
            },
            ancestors: $n,
            breakToLeft: function(e, t, n) {
              return Un(e, t, n).map(function(r) {
                var o = e.create().clone(t);
                return (
                  e.insert().appendAll(o, r.before().concat([n])),
                  e.insert().appendAll(t, r.after()),
                  e.insert().before(t, o),
                  zn(o, t)
                );
              });
            },
            breakToRight: function(e, t, n) {
              return Un(e, t, n).map(function(n) {
                var r = e.create().clone(t);
                return (
                  e.insert().appendAll(r, n.after()),
                  e.insert().after(t, r),
                  zn(t, r)
                );
              });
            },
            breakPath: function(e, t, n, r) {
              var o = function(t, i, a) {
                var u = Wn(t, m.none(), a);
                return n(t)
                  ? Wn(t, i, a)
                  : e
                      .property()
                      .parent(t)
                      .bind(function(i) {
                        return r(e, i, t).map(function(e) {
                          var t = [{ first: e.left, second: e.right }],
                            r = n(i) ? i : e.left();
                          return o(r, m.some(e.right()), a.concat(t));
                        });
                      })
                      .getOr(u);
              };
              return o(t, m.none(), []);
            }
          },
          Yn = Hn(),
          Xn = function(e, t) {
            return Kn.sharedOne(
              Yn,
              function(t, n) {
                return e(n);
              },
              t
            );
          },
          Gn = function(e, t, n) {
            return Kn.ancestors(Yn, e, t, n);
          },
          Jn = { create: $(["boxes", "start", "finish"], []) },
          Qn = function(e) {
            return Lt(e, "table");
          },
          Zn = function(e, t, n) {
            var r = function(e) {
              return function(t) {
                return (void 0 !== n && n(t)) || et(t, e);
              };
            };
            return et(e, t)
              ? m.some(Jn.create({ boxes: m.some([e]), start: e, finish: t }))
              : Qn(e).bind(function(o) {
                  return Qn(t).bind(function(i) {
                    if (et(o, i))
                      return m.some(
                        Jn.create({ boxes: In(o, e, t), start: e, finish: t })
                      );
                    if (tt(o, i)) {
                      var a =
                        (u = At(t, "td,th", r(o))).length > 0
                          ? u[u.length - 1]
                          : t;
                      return m.some(
                        Jn.create({
                          boxes: Mn(o, e, o, t, i),
                          start: e,
                          finish: a
                        })
                      );
                    }
                    if (tt(i, o)) {
                      var u,
                        s =
                          (u = At(e, "td,th", r(i))).length > 0
                            ? u[u.length - 1]
                            : e;
                      return m.some(
                        Jn.create({
                          boxes: Mn(i, e, o, t, i),
                          start: e,
                          finish: s
                        })
                      );
                    }
                    return Gn(e, t)
                      .shared()
                      .bind(function(a) {
                        return zt(a, "table", n).bind(function(n) {
                          var a = At(t, "td,th", r(n)),
                            u = a.length > 0 ? a[a.length - 1] : t,
                            s = At(e, "td,th", r(n)),
                            c = s.length > 0 ? s[s.length - 1] : e;
                          return m.some(
                            Jn.create({
                              boxes: Mn(n, e, o, t, i),
                              start: c,
                              finish: u
                            })
                          );
                        });
                      });
                  });
                });
          },
          er = Zn,
          tr = function(e, t) {
            var n = Bt(e, t);
            return n.length > 0 ? m.some(n) : m.none();
          },
          nr = function(e, t, n, r, i) {
            return (function(e, t) {
              return D(e, function(e) {
                return Qe(e, t);
              });
            })(e, i).bind(function(e) {
              return Bn(e, t, n).bind(function(e) {
                return (function(e, t) {
                  return Lt(e, "table").bind(function(n) {
                    return Ht(n, t).bind(function(t) {
                      return Zn(t, e).bind(function(e) {
                        return e.boxes().map(function(t) {
                          return {
                            boxes: o(t),
                            start: o(e.start()),
                            finish: o(e.finish())
                          };
                        });
                      });
                    });
                  });
                })(e, r);
              });
            });
          },
          rr = function(e, t, n) {
            return Ht(e, t).bind(function(t) {
              return Ht(e, n).bind(function(e) {
                return Xn(Qn, [t, e]).map(function(n) {
                  return { first: o(t), last: o(e), table: o(n) };
                });
              });
            });
          },
          or = function(e, t) {
            return tr(e, t);
          },
          ir = function(e, t, n) {
            return rr(e, t, n).bind(function(t) {
              var n = function(t) {
                  return et(e, t);
                },
                r = Lt(t.first(), "thead,tfoot,tbody,table", n),
                o = Lt(t.last(), "thead,tfoot,tbody,table", n);
              return r.bind(function(e) {
                return o.bind(function(n) {
                  return et(e, n)
                    ? Ln(t.table(), t.first(), t.last())
                    : m.none();
                });
              });
            });
          },
          ar = "data-mce-selected",
          ur = {
            selected: o(ar),
            selectedSelector: o("td[data-mce-selected],th[data-mce-selected]"),
            attributeSelector: o("[data-mce-selected]"),
            firstSelected: o("data-mce-first-selected"),
            firstSelectedSelector: o(
              "td[data-mce-first-selected],th[data-mce-first-selected]"
            ),
            lastSelected: o("data-mce-last-selected"),
            lastSelectedSelector: o(
              "td[data-mce-last-selected],th[data-mce-last-selected]"
            )
          },
          sr = function(t) {
            if (!p(t)) throw new Error("cases must be an array");
            if (0 === t.length)
              throw new Error("there must be at least one case");
            var n = [],
              r = {};
            return (
              N(t, function(o, i) {
                var a = M(o);
                if (1 !== a.length)
                  throw new Error("one and only one name per case");
                var u = a[0],
                  s = o[u];
                if (void 0 !== r[u])
                  throw new Error("duplicate key detected:" + u);
                if ("cata" === u)
                  throw new Error("cannot have a case named cata (sorry)");
                if (!p(s)) throw new Error("case arguments must be an array");
                n.push(u),
                  (r[u] = function() {
                    var r = arguments.length;
                    if (r !== s.length)
                      throw new Error(
                        "Wrong number of arguments to case " +
                          u +
                          ". Expected " +
                          s.length +
                          " (" +
                          s +
                          "), got " +
                          r
                      );
                    for (var o = new Array(r), a = 0; a < o.length; a++)
                      o[a] = arguments[a];
                    var c = function(e) {
                      var t = M(e);
                      if (n.length !== t.length)
                        throw new Error(
                          "Wrong number of arguments to match. Expected: " +
                            n.join(",") +
                            "\nActual: " +
                            t.join(",")
                        );
                      if (
                        !B(n, function(e) {
                          return S(t, e);
                        })
                      )
                        throw new Error(
                          "Not all branches were specified when using match. Specified: " +
                            t.join(", ") +
                            "\nRequired: " +
                            n.join(", ")
                        );
                      return e[u].apply(null, o);
                    };
                    return {
                      fold: function() {
                        if (arguments.length !== t.length)
                          throw new Error(
                            "Wrong number of arguments to fold. Expected " +
                              t.length +
                              ", got " +
                              arguments.length
                          );
                        var e = arguments[i];
                        return e.apply(null, o);
                      },
                      match: c,
                      log: function(t) {
                        e.console.log(t, {
                          constructors: n,
                          constructor: u,
                          params: o
                        });
                      }
                    };
                  });
              }),
              r
            );
          },
          cr = sr([
            { none: [] },
            { multiple: ["elements"] },
            { single: ["selection"] }
          ]),
          lr = {
            cata: function(e, t, n, r) {
              return e.fold(t, n, r);
            },
            none: cr.none,
            multiple: cr.multiple,
            single: cr.single
          },
          fr = function(e, t) {
            return lr.cata(t.get(), o([]), i, o([e]));
          },
          dr = function(e, t) {
            return lr.cata(
              t.get(),
              m.none,
              function(t, n) {
                return 0 === t.length
                  ? m.none()
                  : ir(
                      e,
                      ur.firstSelectedSelector(),
                      ur.lastSelectedSelector()
                    ).bind(function(e) {
                      return t.length > 1
                        ? m.some({ bounds: o(e), cells: o(t) })
                        : m.none();
                    });
              },
              m.none
            );
          },
          mr = function(e, t) {
            var n = fr(e, t);
            return n.length > 0 &&
              B(n, function(e) {
                return (
                  (le(e, "rowspan") && parseInt(ce(e, "rowspan"), 10) > 1) ||
                  (le(e, "colspan") && parseInt(ce(e, "colspan"), 10) > 1)
                );
              })
              ? m.some(n)
              : m.none();
          },
          hr = fr,
          gr = function(e) {
            return {
              element: o(e),
              mergable: m.none,
              unmergable: m.none,
              selection: o([e])
            };
          },
          pr = z("element", "clipboard", "generators"),
          vr = {
            noMenu: gr,
            forMenu: function(e, t, n) {
              return {
                element: o(n),
                mergable: o(dr(t, e)),
                unmergable: o(mr(n, e)),
                selection: o(hr(n, e))
              };
            },
            notCell: function(e) {
              return gr(e);
            },
            paste: pr,
            pasteRows: function(e, t, n, r, i) {
              return {
                element: o(n),
                mergable: m.none,
                unmergable: m.none,
                selection: o(hr(n, e)),
                clipboard: o(r),
                generators: o(i)
              };
            }
          },
          br = function(t, r, o, i) {
            t.on("BeforeGetContent", function(e) {
              !0 === e.selection &&
                lr.cata(
                  r.get(),
                  n,
                  function(n) {
                    e.preventDefault(),
                      (function(e) {
                        return Kt(e[0])
                          .map(pn)
                          .map(function(e) {
                            return [nn(e, ur.attributeSelector())];
                          });
                      })(n).each(function(n) {
                        e.content =
                          "text" === e.format
                            ? (function(e) {
                                return T(e, function(e) {
                                  return e.dom().innerText;
                                }).join("");
                              })(n)
                            : (function(e, t) {
                                return T(t, function(t) {
                                  return e.selection.serializer.serialize(
                                    t.dom(),
                                    {}
                                  );
                                }).join("");
                              })(t, n);
                      });
                  },
                  n
                );
            }),
              t.on("BeforeSetContent", function(n) {
                !0 === n.selection &&
                  !0 === n.paste &&
                  m
                    .from(t.dom.getParent(t.selection.getStart(), "th,td"))
                    .each(function(r) {
                      var a = ve.fromDom(r);
                      Kt(a).each(function(r) {
                        var u,
                          s,
                          c,
                          l = _(
                            ((u = n.content),
                            ((c = (s || e.document).createElement(
                              "div"
                            )).innerHTML = u),
                            st(ve.fromDom(c))),
                            function(e) {
                              return "meta" !== ee(e);
                            }
                          );
                        if (1 === l.length && "table" === ee(l[0])) {
                          n.preventDefault();
                          var f = ve.fromDom(t.getDoc()),
                            d = Sn(f),
                            m = vr.paste(a, l[0], d);
                          o.pasteCells(r, m).each(function(e) {
                            t.selection.setRng(e), t.focus(), i.clear(r);
                          });
                        }
                      });
                    });
              });
          };
        function yr(e, t) {
          var n = function(n) {
              var r = t(n);
              if (r <= 0 || null === r) {
                var o = Ee(n, e);
                return parseFloat(o) || 0;
              }
              return r;
            },
            r = function(e, t) {
              return R(
                t,
                function(t, n) {
                  var r = Ee(e, n),
                    o = void 0 === r ? 0 : parseInt(r, 10);
                  return isNaN(o) ? t : t + o;
                },
                0
              );
            };
          return {
            set: function(t, n) {
              if (!y(n) && !n.match(/^[0-9]+$/))
                throw new Error(
                  e +
                    ".set accepts only positive integer values. Value was " +
                    n
                );
              var r = t.dom();
              he(r) && (r.style[e] = n + "px");
            },
            get: n,
            getOuter: n,
            aggregate: r,
            max: function(e, t, n) {
              var o = r(e, n);
              return t > o ? t - o : 0;
            }
          };
        }
        var wr = yr("height", function(e) {
            var t = e.dom();
            return be(e) ? t.getBoundingClientRect().height : t.offsetHeight;
          }),
          xr = function(e) {
            return wr.get(e);
          },
          Cr = function(e) {
            return wr.getOuter(e);
          },
          Sr = yr("width", function(e) {
            return e.dom().offsetWidth;
          }),
          Er = function(e) {
            return Sr.get(e);
          },
          Tr = function(e) {
            return Sr.getOuter(e);
          },
          Nr = Xe.detect(),
          _r = function(e, t, n) {
            return (function(e, t) {
              var n = parseFloat(e);
              return isNaN(n) ? t : n;
            })(Ee(e, t), n);
          },
          kr = function(e) {
            return Nr.browser.isIE() || Nr.browser.isEdge()
              ? (function(e) {
                  var t = _r(e, "padding-top", 0),
                    n = _r(e, "padding-bottom", 0),
                    r = _r(e, "border-top-width", 0),
                    o = _r(e, "border-bottom-width", 0),
                    i = e.dom().getBoundingClientRect().height;
                  return "border-box" === Ee(e, "box-sizing")
                    ? i
                    : i - t - n - (r + o);
                })(e)
              : _r(e, "height", xr(e));
          },
          Rr = /(\d+(\.\d+)?)(\w|%)*/,
          Dr = /(\d+(\.\d+)?)%/,
          Or = /(\d+(\.\d+)?)px|em/,
          Ar = function(e, t) {
            Ce(e, "height", t + "px");
          },
          Pr = function(e, t, n, r) {
            var o,
              i,
              a = parseInt(e, 10);
            return (function(e, t, n) {
              return (
                "" === t ||
                (!(e.length < t.length) && e.substr(n, n + t.length) === t)
              );
            })((o = e), (i = "%"), o.length - i.length) && "table" !== ee(t)
              ? (function(e, t, n, r) {
                  var o = Kt(e)
                    .map(function(e) {
                      var r = n(e);
                      return Math.floor((t / 100) * r);
                    })
                    .getOr(t);
                  return r(e, o), o;
                })(t, a, n, r)
              : a;
          },
          Br = function(e) {
            var t = (function(e) {
              return Ne(e, "height").getOrThunk(function() {
                return kr(e) + "px";
              });
            })(e);
            return t ? Pr(t, e, xr, Ar) : xr(e);
          },
          Ir = function(e, t) {
            return le(e, t) ? parseInt(ce(e, t), 10) : 1;
          },
          Mr = function(e) {
            return Ne(e, "width").fold(
              function() {
                return m.from(ce(e, "width"));
              },
              function(e) {
                return m.some(e);
              }
            );
          },
          Lr = function(e, t) {
            return (e / t.pixelWidth()) * 100;
          },
          Fr = {
            percentageBasedSizeRegex: o(Dr),
            pixelBasedSizeRegex: o(Or),
            setPixelWidth: function(e, t) {
              Ce(e, "width", t + "px");
            },
            setPercentageWidth: function(e, t) {
              Ce(e, "width", t + "%");
            },
            setHeight: Ar,
            getPixelWidth: function(e, t) {
              return Mr(e).fold(
                function() {
                  return Er(e);
                },
                function(n) {
                  return (function(e, t, n) {
                    var r = Or.exec(t);
                    if (null !== r) return parseInt(r[1], 10);
                    var o = Dr.exec(t);
                    return null !== o
                      ? (function(e, t) {
                          return (e / 100) * t.pixelWidth();
                        })(parseFloat(o[1]), n)
                      : Er(e);
                  })(e, n, t);
                }
              );
            },
            getPercentageWidth: function(e, t) {
              return Mr(e).fold(
                function() {
                  var n = Er(e);
                  return Lr(n, t);
                },
                function(n) {
                  return (function(e, t, n) {
                    var r = Dr.exec(t);
                    if (null !== r) return parseFloat(r[1]);
                    var o = Er(e);
                    return Lr(o, n);
                  })(e, n, t);
                }
              );
            },
            getGenericWidth: function(e) {
              return Mr(e).bind(function(e) {
                var t = Rr.exec(e);
                return null !== t
                  ? m.some({ width: o(parseFloat(t[1])), unit: o(t[3]) })
                  : m.none();
              });
            },
            setGenericWidth: function(e, t, n) {
              Ce(e, "width", t + n);
            },
            getHeight: function(e) {
              return (function(e, t, n) {
                return n(e) / Ir(e, t);
              })(e, "rowspan", Br);
            },
            getRawWidth: Mr
          },
          Hr = function(e, t) {
            Fr.getGenericWidth(e).each(function(n) {
              var r = n.width() / 2;
              Fr.setGenericWidth(e, r, n.unit()),
                Fr.setGenericWidth(t, r, n.unit());
            });
          },
          zr = function(e, t) {
            return {
              left: o(e),
              top: o(t),
              translate: function(n, r) {
                return zr(e + n, t + r);
              }
            };
          },
          Wr = zr,
          Ur = function(e, t) {
            return void 0 !== e ? e : void 0 !== t ? t : 0;
          },
          jr = function(e) {
            var t = e.dom().ownerDocument,
              n = t.body,
              r = t.defaultView,
              o = t.documentElement,
              i = Ur(r.pageYOffset, o.scrollTop),
              a = Ur(r.pageXOffset, o.scrollLeft),
              u = Ur(o.clientTop, n.clientTop),
              s = Ur(o.clientLeft, n.clientLeft);
            return Vr(e).translate(a - s, i - u);
          },
          Vr = function(e) {
            var t = e.dom(),
              n = t.ownerDocument.body;
            return n === t
              ? Wr(n.offsetLeft, n.offsetTop)
              : be(e)
              ? (function(e) {
                  var t = e.getBoundingClientRect();
                  return Wr(t.left, t.top);
                })(t)
              : Wr(0, 0);
          },
          qr = z("row", "y"),
          $r = z("col", "x"),
          Kr = function(e) {
            return jr(e).left() + Tr(e);
          },
          Yr = function(e) {
            return jr(e).left();
          },
          Xr = function(e, t) {
            return $r(e, Yr(t));
          },
          Gr = function(e, t) {
            return $r(e, Kr(t));
          },
          Jr = function(e) {
            return jr(e).top();
          },
          Qr = function(e, t) {
            return qr(e, Jr(t));
          },
          Zr = function(e, t) {
            return qr(e, Jr(t) + Cr(t));
          },
          eo = function(e, t, n) {
            if (0 === n.length) return [];
            var r = T(n.slice(1), function(t, n) {
                return t.map(function(t) {
                  return e(n, t);
                });
              }),
              o = n[n.length - 1].map(function(e) {
                return t(n.length - 1, e);
              });
            return r.concat([o]);
          },
          to = {
            height: {
              delta: i,
              positions: function(e) {
                return eo(Qr, Zr, e);
              },
              edge: Jr
            },
            rtl: {
              delta: function(e) {
                return -e;
              },
              edge: Kr,
              positions: function(e) {
                return eo(Gr, Xr, e);
              }
            },
            ltr: {
              delta: i,
              edge: Yr,
              positions: function(e) {
                return eo(Xr, Gr, e);
              }
            }
          },
          no = { ltr: to.ltr, rtl: to.rtl };
        function ro(e) {
          var t = function(t) {
            return e(t).isRtl() ? no.rtl : no.ltr;
          };
          return {
            delta: function(e, n) {
              return t(n).delta(e, n);
            },
            edge: function(e) {
              return t(e).edge(e);
            },
            positions: function(e, n) {
              return t(n).positions(e, n);
            }
          };
        }
        var oo = function(e) {
            var t = Xt(e);
            return Zt.generate(t).grid();
          },
          io = function() {
            return (io =
              Object.assign ||
              function(e) {
                for (var t, n = 1, r = arguments.length; n < r; n++)
                  for (var o in (t = arguments[n]))
                    Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
                return e;
              }).apply(this, arguments);
          },
          ao = function(e) {
            for (
              var t = [],
                n = function(e) {
                  t.push(e);
                },
                r = 0;
              r < e.length;
              r++
            )
              e[r].each(n);
            return t;
          },
          uo = function(e, t) {
            for (var n = 0; n < e.length; n++) {
              var r = t(e[n], n);
              if (r.isSome()) return r;
            }
            return m.none();
          },
          so = function(e, t, n, r) {
            n === r ? fe(e, t) : ue(e, t, n);
          },
          co = function(e, t) {
            var n = [],
              r = [],
              i = function(t, o) {
                t.length > 0
                  ? (function(t, o) {
                      var i = Ft(e, o).getOrThunk(function() {
                        var t = ve.fromTag(o, rt(e).dom());
                        return mt(e, t), t;
                      });
                      vt(i);
                      var a = T(t, function(e) {
                        e.isNew() && n.push(e.element());
                        var t = e.element();
                        return (
                          vt(t),
                          N(e.cells(), function(e) {
                            e.isNew() && r.push(e.element()),
                              so(e.element(), "colspan", e.colspan(), 1),
                              so(e.element(), "rowspan", e.rowspan(), 1),
                              mt(t, e.element());
                          }),
                          t
                        );
                      });
                      pt(i, a);
                    })(t, o)
                  : (function(t) {
                      Ft(e, t).each(bt);
                    })(o);
              },
              a = [],
              u = [],
              s = [];
            return (
              N(t, function(e) {
                switch (e.section()) {
                  case "thead":
                    a.push(e);
                    break;
                  case "tbody":
                    u.push(e);
                    break;
                  case "tfoot":
                    s.push(e);
                }
              }),
              i(a, "thead"),
              i(u, "tbody"),
              i(s, "tfoot"),
              { newRows: o(n), newCells: o(r) }
            );
          },
          lo = function(e) {
            return T(e, function(e) {
              var t = gn(e.element());
              return (
                N(e.cells(), function(e) {
                  var n = pn(e.element());
                  so(n, "colspan", e.colspan(), 1),
                    so(n, "rowspan", e.rowspan(), 1),
                    mt(t, n);
                }),
                t
              );
            });
          },
          fo = function(e, t) {
            var n = ce(e, t);
            return void 0 === n || "" === n ? [] : n.split(" ");
          },
          mo = function(e) {
            return void 0 !== e.dom().classList;
          },
          ho = function(e, t) {
            return (function(e, t, n) {
              var r = fo(e, t).concat([n]);
              return ue(e, t, r.join(" ")), !0;
            })(e, "class", t);
          },
          go = function(e, t) {
            mo(e) ? e.dom().classList.add(t) : ho(e, t);
          },
          po = function(e, t) {
            return mo(e) && e.dom().classList.contains(t);
          },
          vo = function(e, t) {
            for (var n = [], r = e; r < t; r++) n.push(r);
            return n;
          },
          bo = function(e, t) {
            if (t < 0 || t >= e.length - 1) return m.none();
            var n = e[t].fold(
                function() {
                  var n = I(e.slice(0, t));
                  return uo(n, function(e, t) {
                    return e.map(function(e) {
                      return { value: e, delta: t + 1 };
                    });
                  });
                },
                function(e) {
                  return m.some({ value: e, delta: 0 });
                }
              ),
              r = e[t + 1].fold(
                function() {
                  var n = e.slice(t + 1);
                  return uo(n, function(e, t) {
                    return e.map(function(e) {
                      return { value: e, delta: t + 1 };
                    });
                  });
                },
                function(e) {
                  return m.some({ value: e, delta: 1 });
                }
              );
            return n.bind(function(e) {
              return r.map(function(t) {
                var n = t.delta + e.delta;
                return Math.abs(t.value - e.value) / n;
              });
            });
          },
          yo = function(e, t, n) {
            var r = e();
            return D(r, t)
              .orThunk(function() {
                return m.from(r[0]).orThunk(n);
              })
              .map(function(e) {
                return e.element();
              });
          },
          wo = function(e) {
            var t = e.grid(),
              n = vo(0, t.columns()),
              r = vo(0, t.rows());
            return T(n, function(t) {
              return yo(
                function() {
                  return P(r, function(n) {
                    return Zt.getAt(e, n, t)
                      .filter(function(e) {
                        return e.column() === t;
                      })
                      .fold(o([]), function(e) {
                        return [e];
                      });
                  });
                },
                function(e) {
                  return 1 === e.colspan();
                },
                function() {
                  return Zt.getAt(e, 0, t);
                }
              );
            });
          },
          xo = function(e) {
            var t = e.grid(),
              n = vo(0, t.rows()),
              r = vo(0, t.columns());
            return T(n, function(t) {
              return yo(
                function() {
                  return P(r, function(n) {
                    return Zt.getAt(e, t, n)
                      .filter(function(e) {
                        return e.row() === t;
                      })
                      .fold(o([]), function(e) {
                        return [e];
                      });
                  });
                },
                function(e) {
                  return 1 === e.rowspan();
                },
                function() {
                  return Zt.getAt(e, t, 0);
                }
              );
            });
          },
          Co = function(e) {
            var t = e.replace(/\./g, "-");
            return {
              resolve: function(e) {
                return t + "-" + e;
              }
            };
          },
          So = Co("ephox-snooker"),
          Eo = { resolve: So.resolve },
          To = function(e, t, n, r, o) {
            var i = ve.fromTag("div");
            return (
              Se(i, {
                position: "absolute",
                left: t - r / 2 + "px",
                top: n + "px",
                height: o + "px",
                width: r + "px"
              }),
              se(i, { "data-column": e, role: "presentation" }),
              i
            );
          },
          No = function(e, t, n, r, o) {
            var i = ve.fromTag("div");
            return (
              Se(i, {
                position: "absolute",
                left: t + "px",
                top: n - o / 2 + "px",
                height: o + "px",
                width: r + "px"
              }),
              se(i, { "data-row": e, role: "presentation" }),
              i
            );
          },
          _o = Eo.resolve("resizer-bar"),
          ko = Eo.resolve("resizer-rows"),
          Ro = Eo.resolve("resizer-cols"),
          Do = function(e) {
            var t = Bt(e.parent(), "." + _o);
            N(t, bt);
          },
          Oo = function(e, t, n) {
            var r = e.origin();
            N(t, function(t, o) {
              t.each(function(t) {
                var o = n(r, t);
                go(o, _o), mt(e.parent(), o);
              });
            });
          },
          Ao = function(e, t, n, r, o, i) {
            var a = jr(t);
            !(function(e, t, n, r) {
              Oo(e, t, function(e, t) {
                var o = No(t.row(), n.left() - e.left(), t.y() - e.top(), r, 7);
                return go(o, ko), o;
              });
            })(e, n.length > 0 ? o.positions(n, t) : [], a, Tr(t)),
              (function(e, t, n, r) {
                Oo(e, t, function(e, t) {
                  var o = To(
                    t.col(),
                    t.x() - e.left(),
                    n.top() - e.top(),
                    7,
                    r
                  );
                  return go(o, Ro), o;
                });
              })(e, r.length > 0 ? i.positions(r, t) : [], a, Cr(t));
          },
          Po = function(e, t) {
            var n = Bt(e.parent(), "." + _o);
            N(n, t);
          },
          Bo = function(e, t, n, r) {
            Do(e);
            var o = Xt(t),
              i = Zt.generate(o),
              a = xo(i),
              u = wo(i);
            Ao(e, t, a, u, n, r);
          },
          Io = function(e) {
            Po(e, function(e) {
              Ce(e, "display", "none");
            });
          },
          Mo = function(e) {
            Po(e, function(e) {
              Ce(e, "display", "block");
            });
          },
          Lo = Do,
          Fo = function(e) {
            return po(e, ko);
          },
          Ho = function(e) {
            return po(e, Ro);
          },
          zo = function(e, t) {
            return kt(t, e.section());
          },
          Wo = function(e, t) {
            return e.cells()[t];
          },
          Uo = {
            addCell: function(e, t, n) {
              var r = e.cells(),
                o = r.slice(0, t),
                i = r.slice(t),
                a = o.concat([n]).concat(i);
              return zo(e, a);
            },
            setCells: zo,
            mutateCell: function(e, t, n) {
              e.cells()[t] = n;
            },
            getCell: Wo,
            getCellElement: function(e, t) {
              return Wo(e, t).element();
            },
            mapCells: function(e, t) {
              var n = e.cells(),
                r = T(n, t);
              return kt(r, e.section());
            },
            cellLength: function(e) {
              return e.cells().length;
            }
          },
          jo = function(e, t) {
            if (0 === e.length) return 0;
            var n = e[0];
            return O(e, function(e) {
              return !t(n.element(), e.element());
            }).fold(
              function() {
                return e.length;
              },
              function(e) {
                return e;
              }
            );
          },
          Vo = function(e, t, n, r) {
            var i = (function(e, t) {
                return e[t];
              })(e, t)
                .cells()
                .slice(n),
              a = jo(i, r),
              u = (function(e, t) {
                return T(e, function(e) {
                  return Uo.getCell(e, t);
                });
              })(e, n).slice(t),
              s = jo(u, r);
            return { colspan: o(a), rowspan: o(s) };
          },
          qo = function(e, t) {
            var n = T(e, function(e, t) {
              return T(e.cells(), function(e, t) {
                return !1;
              });
            });
            return T(e, function(r, o) {
              var i = P(r.cells(), function(r, i) {
                if (!1 === n[o][i]) {
                  var a = Vo(e, o, i, t);
                  return (
                    (function(e, t, r, o) {
                      for (var i = e; i < e + r; i++)
                        for (var a = t; a < t + o; a++) n[i][a] = !0;
                    })(o, i, a.rowspan(), a.colspan()),
                    [St(r.element(), a.rowspan(), a.colspan(), r.isNew())]
                  );
                }
                return [];
              });
              return Rt(i, r.section());
            });
          },
          $o = function(e, t, n) {
            for (var r = [], o = 0; o < e.grid().rows(); o++) {
              for (var i = [], a = 0; a < e.grid().columns(); a++) {
                var u = Zt.getAt(e, o, a)
                  .map(function(e) {
                    return Nt(e.element(), n);
                  })
                  .getOrThunk(function() {
                    return Nt(t.gap(), !0);
                  });
                i.push(u);
              }
              var s = kt(i, e.all()[o].section());
              r.push(s);
            }
            return r;
          },
          Ko = function(e, t) {
            return T(e, function(e) {
              var n = (function(e) {
                return uo(e, function(e) {
                  return ot(e.element()).map(function(e) {
                    var t = ot(e).isNone();
                    return Nt(e, t);
                  });
                }).getOrThunk(function() {
                  return Nt(t.row(), !0);
                });
              })(e.details());
              return _t(n.element(), e.details(), e.section(), n.isNew());
            });
          },
          Yo = function(e, t) {
            var n = qo(e, et);
            return Ko(n, t);
          },
          Xo = function(e, t) {
            var n = A(
              T(e.all(), function(e) {
                return e.cells();
              })
            );
            return D(n, function(e) {
              return et(t, e.element());
            });
          },
          Go = function(e, t, n, r, i) {
            return function(a, u, s, c, l) {
              var f = Xt(u),
                d = Zt.generate(f);
              return t(d, s)
                .map(function(t) {
                  var n = (function(e, t) {
                      return $o(e, t, !1);
                    })(d, c),
                    r = e(n, t, et, i(c)),
                    a = Yo(r.grid(), c);
                  return { grid: o(a), cursor: r.cursor };
                })
                .fold(
                  function() {
                    return m.none();
                  },
                  function(e) {
                    var t = co(u, e.grid());
                    return (
                      n(u, e.grid(), l),
                      r(u),
                      Bo(a, u, to.height, l),
                      m.some({
                        cursor: e.cursor,
                        newRows: t.newRows,
                        newCells: t.newCells
                      })
                    );
                  }
                );
            };
          },
          Jo = function(e, t) {
            return qt(t.element()).bind(function(t) {
              return Xo(e, t);
            });
          },
          Qo = function(e, t) {
            var n = T(t.selection(), function(t) {
                return qt(t).bind(function(t) {
                  return Xo(e, t);
                });
              }),
              r = ao(n);
            return r.length > 0
              ? m.some({
                  cells: r,
                  generators: t.generators,
                  clipboard: t.clipboard
                })
              : m.none();
          },
          Zo = function(e, t) {
            var n = T(t.selection(), function(t) {
                return qt(t).bind(function(t) {
                  return Xo(e, t);
                });
              }),
              r = ao(n);
            return r.length > 0 ? m.some(r) : m.none();
          },
          ei = function(e) {
            return {
              is: function(t) {
                return e === t;
              },
              isValue: c,
              isError: s,
              getOr: o(e),
              getOrThunk: o(e),
              getOrDie: o(e),
              or: function(t) {
                return ei(e);
              },
              orThunk: function(t) {
                return ei(e);
              },
              fold: function(t, n) {
                return n(e);
              },
              map: function(t) {
                return ei(t(e));
              },
              mapError: function(t) {
                return ei(e);
              },
              each: function(t) {
                t(e);
              },
              bind: function(t) {
                return t(e);
              },
              exists: function(t) {
                return t(e);
              },
              forall: function(t) {
                return t(e);
              },
              toOption: function() {
                return m.some(e);
              }
            };
          },
          ti = function(e) {
            return {
              is: s,
              isValue: s,
              isError: c,
              getOr: i,
              getOrThunk: function(e) {
                return e();
              },
              getOrDie: function() {
                return ((t = String(e)),
                function() {
                  throw new Error(t);
                })();
                var t;
              },
              or: function(e) {
                return e;
              },
              orThunk: function(e) {
                return e();
              },
              fold: function(t, n) {
                return t(e);
              },
              map: function(t) {
                return ti(e);
              },
              mapError: function(t) {
                return ti(t(e));
              },
              each: n,
              bind: function(t) {
                return ti(e);
              },
              exists: s,
              forall: c,
              toOption: m.none
            };
          },
          ni = {
            value: ei,
            error: ti,
            fromOption: function(e, t) {
              return e.fold(function() {
                return ti(t);
              }, ei);
            }
          },
          ri = function(e, t) {
            return T(e, function() {
              return Nt(t.cell(), !0);
            });
          },
          oi = function(e, t, n) {
            return e.concat(
              (function(e, t) {
                for (var n = [], r = 0; r < e; r++) n.push(t(r));
                return n;
              })(t, function(t) {
                return Uo.setCells(
                  e[e.length - 1],
                  ri(e[e.length - 1].cells(), n)
                );
              })
            );
          },
          ii = function(e, t, n) {
            return T(e, function(e) {
              return Uo.setCells(e, e.cells().concat(ri(vo(0, t), n)));
            });
          },
          ai = function(e, t, n) {
            if (e.row() >= t.length || e.column() > Uo.cellLength(t[0]))
              return ni.error(
                "invalid start address out of table bounds, row: " +
                  e.row() +
                  ", column: " +
                  e.column()
              );
            var r = t.slice(e.row()),
              i = r[0].cells().slice(e.column()),
              a = Uo.cellLength(n[0]),
              u = n.length;
            return ni.value({
              rowDelta: o(r.length - u),
              colDelta: o(i.length - a)
            });
          },
          ui = function(e, t) {
            var n = Uo.cellLength(e[0]),
              r = Uo.cellLength(t[0]);
            return { rowDelta: o(0), colDelta: o(n - r) };
          },
          si = function(e, t, n) {
            var r = t.colDelta() < 0 ? ii : i;
            return (t.rowDelta() < 0 ? oi : i)(
              r(e, Math.abs(t.colDelta()), n),
              Math.abs(t.rowDelta()),
              n
            );
          },
          ci = function(e, t, n, r) {
            if (0 === e.length) return e;
            for (var o = t.startRow(); o <= t.finishRow(); o++)
              for (var i = t.startCol(); i <= t.finishCol(); i++)
                Uo.mutateCell(e[o], i, Nt(r(), !1));
            return e;
          },
          li = function(e, t, n, r) {
            for (var o = !0, i = 0; i < e.length; i++)
              for (var a = 0; a < Uo.cellLength(e[0]); a++) {
                var u = n(Uo.getCellElement(e[i], a), t);
                !0 === u && !1 === o
                  ? Uo.mutateCell(e[i], a, Nt(r(), !0))
                  : !0 === u && (o = !1);
              }
            return e;
          },
          fi = function(e, t, n, r) {
            if (t > 0 && t < e.length) {
              var o = (function(e, t) {
                return R(
                  e,
                  function(e, n) {
                    return E(e, function(e) {
                      return t(e.element(), n.element());
                    })
                      ? e
                      : e.concat([n]);
                  },
                  []
                );
              })(e[t - 1].cells(), n);
              N(o, function(o) {
                for (
                  var i = m.none(),
                    a = function(t) {
                      for (
                        var a = function(a) {
                            var u = e[t].cells()[a];
                            n(u.element(), o.element()) &&
                              (i.isNone() && (i = m.some(r())),
                              i.each(function(n) {
                                Uo.mutateCell(e[t], a, Nt(n, !0));
                              }));
                          },
                          u = 0;
                        u < Uo.cellLength(e[0]);
                        u++
                      )
                        a(u);
                    },
                    u = t;
                  u < e.length;
                  u++
                )
                  a(u);
              });
            }
            return e;
          },
          di = function(e, t, n, r) {
            var o = a(r, Uo.getCell(e[t], n).element()),
              i = e[t];
            return (
              e.length > 1 &&
              Uo.cellLength(i) > 1 &&
              ((n > 0 && o(Uo.getCellElement(i, n - 1))) ||
                (n < i.cells().length - 1 && o(Uo.getCellElement(i, n + 1))) ||
                (t > 0 && o(Uo.getCellElement(e[t - 1], n))) ||
                (t < e.length - 1 && o(Uo.getCellElement(e[t + 1], n))))
            );
          },
          mi = function(e, t, n, r, o) {
            return ai(e, t, n).map(function(i) {
              var a = si(t, i, r);
              return (function(e, t, n, r, o) {
                for (
                  var i = e.row(),
                    a = e.column(),
                    u = i + n.length,
                    s = a + Uo.cellLength(n[0]),
                    c = i;
                  c < u;
                  c++
                )
                  for (var l = a; l < s; l++) {
                    di(t, c, l, o) &&
                      li(t, Uo.getCellElement(t[c], l), o, r.cell);
                    var f = Uo.getCellElement(n[c - i], l - a),
                      d = r.replace(f);
                    Uo.mutateCell(t[c], l, Nt(d, !0));
                  }
                return t;
              })(e, a, n, r, o);
            });
          },
          hi = function(e, t, n, r, o) {
            fi(t, e, o, r.cell);
            var i = ui(n, t),
              a = si(n, i, r),
              u = ui(t, a),
              s = si(t, u, r);
            return s
              .slice(0, e)
              .concat(a)
              .concat(s.slice(e, s.length));
          },
          gi = function(e, t, n, r, o) {
            var i = e.slice(0, t),
              a = e.slice(t),
              u = Uo.mapCells(e[n], function(n, i) {
                return t > 0 &&
                  t < e.length &&
                  r(Uo.getCellElement(e[t - 1], i), Uo.getCellElement(e[t], i))
                  ? Uo.getCell(e[t], i)
                  : Nt(o(n.element(), r), !0);
              });
            return i.concat([u]).concat(a);
          },
          pi = function(e, t, n, r, o) {
            return T(e, function(e) {
              var i =
                t > 0 &&
                t < Uo.cellLength(e) &&
                r(Uo.getCellElement(e, t - 1), Uo.getCellElement(e, t))
                  ? Uo.getCell(e, t)
                  : Nt(o(Uo.getCellElement(e, n), r), !0);
              return Uo.addCell(e, t, i);
            });
          },
          vi = function(e, t, n, r, o) {
            var i = n + 1;
            return T(e, function(e, a) {
              var u =
                a === t
                  ? Nt(o(Uo.getCellElement(e, n), r), !0)
                  : Uo.getCell(e, n);
              return Uo.addCell(e, i, u);
            });
          },
          bi = function(e, t, n, r, o) {
            var i = t + 1,
              a = e.slice(0, i),
              u = e.slice(i),
              s = Uo.mapCells(e[t], function(e, t) {
                return t === n ? Nt(o(e.element(), r), !0) : e;
              });
            return a.concat([s]).concat(u);
          },
          yi = function(e, t, n) {
            return e.slice(0, t).concat(e.slice(n + 1));
          },
          wi = function(e, t, n) {
            var r = T(e, function(e) {
              var r = e
                .cells()
                .slice(0, t)
                .concat(e.cells().slice(n + 1));
              return kt(r, e.section());
            });
            return _(r, function(e) {
              return e.cells().length > 0;
            });
          },
          xi = function(e, t, n, r) {
            return T(e, function(e) {
              return Uo.mapCells(e, function(e) {
                return (function(e) {
                  return E(t, function(t) {
                    return n(e.element(), t.element());
                  });
                })(e)
                  ? Nt(r(e.element(), n), !0)
                  : e;
              });
            });
          },
          Ci = function(e, t, n, r) {
            return (
              void 0 !== Uo.getCellElement(e[t], n) &&
              t > 0 &&
              r(Uo.getCellElement(e[t - 1], n), Uo.getCellElement(e[t], n))
            );
          },
          Si = function(e, t, n) {
            return (
              t > 0 && n(Uo.getCellElement(e, t - 1), Uo.getCellElement(e, t))
            );
          },
          Ei = function(e, t, n, r) {
            var o = P(e, function(r, o) {
              return Ci(e, o, t, n) || Si(r, t, n) ? [] : [Uo.getCell(r, t)];
            });
            return xi(e, o, n, r);
          },
          Ti = function(e, t, n, r) {
            var o = e[t],
              i = P(o.cells(), function(r, i) {
                return Ci(e, t, i, n) || Si(o, i, n) ? [] : [r];
              });
            return xi(e, i, n, r);
          },
          Ni = sr([
            { none: [] },
            { only: ["index"] },
            { left: ["index", "next"] },
            { middle: ["prev", "index", "next"] },
            { right: ["prev", "index"] }
          ]),
          _i = io({}, Ni),
          ki = function(e, t, n, r) {
            var i = e.slice(0),
              a = (function(e, t) {
                return 0 === e.length
                  ? _i.none()
                  : 1 === e.length
                  ? _i.only(0)
                  : 0 === t
                  ? _i.left(0, 1)
                  : t === e.length - 1
                  ? _i.right(t - 1, t)
                  : t > 0 && t < e.length - 1
                  ? _i.middle(t - 1, t, t + 1)
                  : _i.none();
              })(e, t),
              u = function(e) {
                return T(e, o(0));
              },
              s = o(u(i)),
              c = function(e, t) {
                if (n >= 0) {
                  var o = Math.max(r.minCellWidth(), i[t] - n);
                  return u(i.slice(0, e))
                    .concat([n, o - i[t]])
                    .concat(u(i.slice(t + 1)));
                }
                var a = Math.max(r.minCellWidth(), i[e] + n),
                  s = i[e] - a;
                return u(i.slice(0, e))
                  .concat([a - i[e], s])
                  .concat(u(i.slice(t + 1)));
              },
              l = c;
            return a.fold(
              s,
              function(e) {
                return r.singleColumnWidth(i[e], n);
              },
              l,
              function(e, t, n) {
                return c(t, n);
              },
              function(e, t) {
                if (n >= 0) return u(i.slice(0, t)).concat([n]);
                var o = Math.max(r.minCellWidth(), i[t] + n);
                return u(i.slice(0, t)).concat([o - i[t]]);
              }
            );
          },
          Ri = function(e, t) {
            return le(e, t) && parseInt(ce(e, t), 10) > 1;
          },
          Di = {
            hasColspan: function(e) {
              return Ri(e, "colspan");
            },
            hasRowspan: function(e) {
              return Ri(e, "rowspan");
            },
            minWidth: o(10),
            minHeight: o(10),
            getInt: function(e, t) {
              return parseInt(Ee(e, t), 10);
            }
          },
          Oi = function(e, t, n) {
            return Ne(e, t).fold(
              function() {
                return n(e) + "px";
              },
              function(e) {
                return e;
              }
            );
          },
          Ai = function(e, t) {
            return Oi(e, "width", function(e) {
              return Fr.getPixelWidth(e, t);
            });
          },
          Pi = function(e) {
            return Oi(e, "height", Fr.getHeight);
          },
          Bi = function(e, t, n, r, o) {
            var i = wo(e),
              a = T(i, function(e) {
                return e.map(t.edge);
              });
            return T(i, function(e, t) {
              return e.filter(u(Di.hasColspan)).fold(
                function() {
                  var e = bo(a, t);
                  return r(e);
                },
                function(e) {
                  return n(e, o);
                }
              );
            });
          },
          Ii = function(e) {
            return e
              .map(function(e) {
                return e + "px";
              })
              .getOr("");
          },
          Mi = function(e, t, n, r) {
            var o = xo(e),
              i = T(o, function(e) {
                return e.map(t.edge);
              });
            return T(o, function(e, t) {
              return e.filter(u(Di.hasRowspan)).fold(
                function() {
                  var e = bo(i, t);
                  return r(e);
                },
                function(e) {
                  return n(e);
                }
              );
            });
          },
          Li = {
            getRawWidths: function(e, t, n) {
              return Bi(e, t, Ai, Ii, n);
            },
            getPixelWidths: function(e, t, n) {
              return Bi(
                e,
                t,
                Fr.getPixelWidth,
                function(e) {
                  return e.getOrThunk(n.minCellWidth);
                },
                n
              );
            },
            getPercentageWidths: function(e, t, n) {
              return Bi(
                e,
                t,
                Fr.getPercentageWidth,
                function(e) {
                  return e.fold(
                    function() {
                      return n.minCellWidth();
                    },
                    function(e) {
                      return (e / n.pixelWidth()) * 100;
                    }
                  );
                },
                n
              );
            },
            getPixelHeights: function(e, t) {
              return Mi(e, t, Fr.getHeight, function(e) {
                return e.getOrThunk(Di.minHeight);
              });
            },
            getRawHeights: function(e, t) {
              return Mi(e, t, Pi, Ii);
            }
          },
          Fi = function(e, t, n) {
            for (var r = 0, o = e; o < t; o++) r += void 0 !== n[o] ? n[o] : 0;
            return r;
          },
          Hi = function(e, t) {
            var n = Zt.justCells(e);
            return T(n, function(e) {
              var n = Fi(e.column(), e.column() + e.colspan(), t);
              return { element: e.element, width: o(n), colspan: e.colspan };
            });
          },
          zi = function(e, t) {
            var n = Zt.justCells(e);
            return T(n, function(e) {
              var n = Fi(e.row(), e.row() + e.rowspan(), t);
              return { element: e.element, height: o(n), rowspan: e.rowspan };
            });
          },
          Wi = function(e, t) {
            return T(e.all(), function(e, n) {
              return { element: e.element, height: o(t[n]) };
            });
          },
          Ui = function(e) {
            var t = i;
            return {
              width: o(e),
              pixelWidth: o(e),
              getWidths: Li.getPixelWidths,
              getCellDelta: t,
              singleColumnWidth: function(e, t) {
                return [Math.max(Di.minWidth(), e + t) - e];
              },
              minCellWidth: Di.minWidth,
              setElementWidth: Fr.setPixelWidth,
              setTableWidth: function(e, t, n) {
                var r = k(
                  t,
                  function(e, t) {
                    return e + t;
                  },
                  0
                );
                Fr.setPixelWidth(e, r);
              }
            };
          },
          ji = function(e, t) {
            var n = Fr.percentageBasedSizeRegex().exec(t);
            if (null !== n)
              return (function(e, t) {
                var n = parseFloat(e),
                  r = Er(t);
                return {
                  width: o(n),
                  pixelWidth: o(r),
                  getWidths: Li.getPercentageWidths,
                  getCellDelta: function(e) {
                    return (e / r) * 100;
                  },
                  singleColumnWidth: function(e, t) {
                    return [100 - e];
                  },
                  minCellWidth: function() {
                    return (Di.minWidth() / r) * 100;
                  },
                  setElementWidth: Fr.setPercentageWidth,
                  setTableWidth: function(e, t, r) {
                    var o = (r / 100) * n;
                    Fr.setPercentageWidth(e, n + o);
                  }
                };
              })(n[1], e);
            var r = Fr.pixelBasedSizeRegex().exec(t);
            if (null !== r) {
              var i = parseInt(r[1], 10);
              return Ui(i);
            }
            var a = Er(e);
            return Ui(a);
          },
          Vi = function(e) {
            return Fr.getRawWidth(e).fold(
              function() {
                var t = Er(e);
                return Ui(t);
              },
              function(t) {
                return ji(e, t);
              }
            );
          },
          qi = function(e) {
            return Zt.generate(e);
          },
          $i = function(e) {
            var t = Xt(e);
            return qi(t);
          },
          Ki = function(e, t, n, r) {
            var o = Vi(e),
              i = o.getCellDelta(t),
              a = $i(e),
              u = o.getWidths(a, r, o),
              s = ki(u, n, i, o),
              c = T(s, function(e, t) {
                return e + u[t];
              }),
              l = Hi(a, c);
            N(l, function(e) {
              o.setElementWidth(e.element(), e.width());
            }),
              n === a.grid().columns() - 1 && o.setTableWidth(e, c, i);
          },
          Yi = function(e, t, n, r) {
            var o = $i(e),
              i = Li.getPixelHeights(o, r),
              a = T(i, function(e, r) {
                return n === r ? Math.max(t + e, Di.minHeight()) : e;
              }),
              u = zi(o, a),
              s = Wi(o, a);
            N(s, function(e) {
              Fr.setHeight(e.element(), e.height());
            }),
              N(u, function(e) {
                Fr.setHeight(e.element(), e.height());
              });
            var c = k(
              a,
              function(e, t) {
                return e + t;
              },
              0
            );
            Fr.setHeight(e, c);
          },
          Xi = function(e, t, n) {
            var r = Vi(e),
              o = qi(t),
              i = r.getWidths(o, n, r),
              a = Hi(o, i);
            N(a, function(e) {
              r.setElementWidth(e.element(), e.width());
            }),
              a.length > 0 && r.setTableWidth(e, i, r.getCellDelta(0));
          },
          Gi = function(e) {
            var t = e,
              n = function() {
                return t;
              };
            return {
              get: n,
              set: function(e) {
                t = e;
              },
              clone: function() {
                return Gi(n());
              }
            };
          },
          Ji = function(e, t, n) {
            if (0 === t.length)
              throw new Error("You must specify at least one required field.");
            return (
              V("required", t),
              q(t),
              function(r) {
                var o = M(r);
                B(t, function(e) {
                  return S(o, e);
                }) || U(t, o),
                  e(t, o);
                var i = _(t, function(e) {
                  return !n.validate(r[e], e);
                });
                return (
                  i.length > 0 &&
                    (function(e, t) {
                      throw new Error(
                        "All values need to be of type: " +
                          t +
                          ". Keys (" +
                          W(e).join(", ") +
                          ") were not."
                      );
                    })(i, n.label),
                  r
                );
              }
            );
          },
          Qi = function(e, t) {
            var n = _(t, function(t) {
              return !S(e, t);
            });
            n.length > 0 && j(n);
          },
          Zi = function(e) {
            return (function(e, t) {
              return Ji(e, t, { validate: b, label: "function" });
            })(Qi, e);
          },
          ea = Zi(["cell", "row", "replace", "gap"]),
          ta = function(e) {
            var t = le(e, "colspan") ? parseInt(ce(e, "colspan"), 10) : 1,
              n = le(e, "rowspan") ? parseInt(ce(e, "rowspan"), 10) : 1;
            return { element: o(e), colspan: o(t), rowspan: o(n) };
          },
          na = function(e, t) {
            void 0 === t && (t = ta), ea(e);
            var n = Gi(m.none()),
              r = function(n) {
                return (function(t) {
                  return e.cell(t);
                })(t(n));
              },
              o = function(e) {
                var t = r(e);
                return (
                  n.get().isNone() && n.set(m.some(t)),
                  (i = m.some({ item: e, replacement: t })),
                  t
                );
              },
              i = m.none();
            return {
              getOrInit: function(e, t) {
                return i.fold(
                  function() {
                    return o(e);
                  },
                  function(n) {
                    return t(e, n.item) ? n.replacement : o(e);
                  }
                );
              },
              cursor: n.get
            };
          },
          ra = function(e, t) {
            return function(n) {
              var r = Gi(m.none());
              ea(n);
              var o = [],
                i = function(i) {
                  var a = { scope: e },
                    u = n.replace(i, t, a);
                  return (
                    o.push({ item: i, sub: u }),
                    r.get().isNone() && r.set(m.some(u)),
                    u
                  );
                };
              return {
                replaceOrInit: function(e, t) {
                  return (function(e, t) {
                    return D(o, function(n) {
                      return t(n.item, e);
                    });
                  })(e, t).fold(
                    function() {
                      return i(e);
                    },
                    function(n) {
                      return t(e, n.item) ? n.sub : i(e);
                    }
                  );
                },
                cursor: r.get
              };
            };
          },
          oa = function(e) {
            ea(e);
            var t = Gi(m.none());
            return {
              combine: function(n) {
                return (
                  t.get().isNone() && t.set(m.some(n)),
                  function() {
                    var t = e.cell({
                      element: o(n),
                      colspan: o(1),
                      rowspan: o(1)
                    });
                    return _e(t, "width"), _e(n, "width"), t;
                  }
                );
              },
              cursor: t.get
            };
          },
          ia = [
            "body",
            "p",
            "div",
            "article",
            "aside",
            "figcaption",
            "figure",
            "footer",
            "header",
            "nav",
            "section",
            "ol",
            "ul",
            "table",
            "thead",
            "tfoot",
            "tbody",
            "caption",
            "tr",
            "td",
            "th",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "blockquote",
            "pre",
            "address"
          ],
          aa = function(e, t) {
            var n = e.property().name(t);
            return S(ia, n);
          },
          ua = function(e, t) {
            return S(["br", "img", "hr", "input"], e.property().name(t));
          },
          sa = aa,
          ca = function(e, t) {
            var n = e.property().name(t);
            return S(["ol", "ul"], n);
          },
          la = ua,
          fa = Hn(),
          da = function(e) {
            return sa(fa, e);
          },
          ma = function(e) {
            return ca(fa, e);
          },
          ha = function(e) {
            return la(fa, e);
          },
          ga = function(e) {
            var t,
              n = function(e) {
                return "br" === ee(e);
              },
              r = function(e) {
                return dn(e)
                  .bind(function(t) {
                    var r = ut(t)
                      .map(function(e) {
                        return !!da(e) || (!!ha(e) && "img" !== ee(e));
                      })
                      .getOr(!1);
                    return ot(t).map(function(o) {
                      return !0 === r ||
                        (function(e) {
                          return "li" === ee(e) || Mt(e, ma).isSome();
                        })(o) ||
                        n(t) ||
                        (da(o) && !et(e, o))
                        ? []
                        : [ve.fromTag("br")];
                    });
                  })
                  .getOr([]);
              },
              o =
                0 ===
                (t = P(e, function(e) {
                  var t = st(e);
                  return (function(e) {
                    return B(e, function(e) {
                      return n(e) || (ie(e) && 0 === on(e).trim().length);
                    });
                  })(t)
                    ? []
                    : t.concat(r(e));
                })).length
                  ? [ve.fromTag("br")]
                  : t;
            vt(e[0]), pt(e[0], o);
          },
          pa = function(e) {
            0 === $t(e).length && bt(e);
          },
          va = z("grid", "cursor"),
          ba = function(e, t, n) {
            return ya(e, t, n).orThunk(function() {
              return ya(e, 0, 0);
            });
          },
          ya = function(e, t, n) {
            return m.from(e[t]).bind(function(e) {
              return m.from(e.cells()[n]).bind(function(e) {
                return m.from(e.element());
              });
            });
          },
          wa = function(e, t, n) {
            return va(e, ya(e, t, n));
          },
          xa = function(e) {
            return R(
              e,
              function(e, t) {
                return E(e, function(e) {
                  return e.row() === t.row();
                })
                  ? e
                  : e.concat([t]);
              },
              []
            ).sort(function(e, t) {
              return e.row() - t.row();
            });
          },
          Ca = function(e) {
            return R(
              e,
              function(e, t) {
                return E(e, function(e) {
                  return e.column() === t.column();
                })
                  ? e
                  : e.concat([t]);
              },
              []
            ).sort(function(e, t) {
              return e.column() - t.column();
            });
          },
          Sa = function(e, t, n) {
            var r = Gt(e, n),
              o = Zt.generate(r);
            return $o(o, t, !0);
          },
          Ea = Xi,
          Ta = {
            insertRowBefore: Go(
              function(e, t, n, r) {
                var o = t.row(),
                  i = t.row(),
                  a = gi(e, i, o, n, r.getOrInit);
                return wa(a, i, t.column());
              },
              Jo,
              n,
              n,
              na
            ),
            insertRowsBefore: Go(
              function(e, t, n, r) {
                var o = t[0].row(),
                  i = t[0].row(),
                  a = xa(t),
                  u = R(
                    a,
                    function(e, t) {
                      return gi(e, i, o, n, r.getOrInit);
                    },
                    e
                  );
                return wa(u, i, t[0].column());
              },
              Zo,
              n,
              n,
              na
            ),
            insertRowAfter: Go(
              function(e, t, n, r) {
                var o = t.row(),
                  i = t.row() + t.rowspan(),
                  a = gi(e, i, o, n, r.getOrInit);
                return wa(a, i, t.column());
              },
              Jo,
              n,
              n,
              na
            ),
            insertRowsAfter: Go(
              function(e, t, n, r) {
                var o = xa(t),
                  i = o[o.length - 1].row(),
                  a = o[o.length - 1].row() + o[o.length - 1].rowspan(),
                  u = R(
                    o,
                    function(e, t) {
                      return gi(e, a, i, n, r.getOrInit);
                    },
                    e
                  );
                return wa(u, a, t[0].column());
              },
              Zo,
              n,
              n,
              na
            ),
            insertColumnBefore: Go(
              function(e, t, n, r) {
                var o = t.column(),
                  i = t.column(),
                  a = pi(e, i, o, n, r.getOrInit);
                return wa(a, t.row(), i);
              },
              Jo,
              Ea,
              n,
              na
            ),
            insertColumnsBefore: Go(
              function(e, t, n, r) {
                var o = Ca(t),
                  i = o[0].column(),
                  a = o[0].column(),
                  u = R(
                    o,
                    function(e, t) {
                      return pi(e, a, i, n, r.getOrInit);
                    },
                    e
                  );
                return wa(u, t[0].row(), a);
              },
              Zo,
              Ea,
              n,
              na
            ),
            insertColumnAfter: Go(
              function(e, t, n, r) {
                var o = t.column(),
                  i = t.column() + t.colspan(),
                  a = pi(e, i, o, n, r.getOrInit);
                return wa(a, t.row(), i);
              },
              Jo,
              Ea,
              n,
              na
            ),
            insertColumnsAfter: Go(
              function(e, t, n, r) {
                var o = t[t.length - 1].column(),
                  i = t[t.length - 1].column() + t[t.length - 1].colspan(),
                  a = Ca(t),
                  u = R(
                    a,
                    function(e, t) {
                      return pi(e, i, o, n, r.getOrInit);
                    },
                    e
                  );
                return wa(u, t[0].row(), i);
              },
              Zo,
              Ea,
              n,
              na
            ),
            splitCellIntoColumns: Go(
              function(e, t, n, r) {
                var o = vi(e, t.row(), t.column(), n, r.getOrInit);
                return wa(o, t.row(), t.column());
              },
              Jo,
              Ea,
              n,
              na
            ),
            splitCellIntoRows: Go(
              function(e, t, n, r) {
                var o = bi(e, t.row(), t.column(), n, r.getOrInit);
                return wa(o, t.row(), t.column());
              },
              Jo,
              n,
              n,
              na
            ),
            eraseColumns: Go(
              function(e, t, n, r) {
                var o = Ca(t),
                  i = wi(e, o[0].column(), o[o.length - 1].column()),
                  a = ba(i, t[0].row(), t[0].column());
                return va(i, a);
              },
              Zo,
              Ea,
              pa,
              na
            ),
            eraseRows: Go(
              function(e, t, n, r) {
                var o = xa(t),
                  i = yi(e, o[0].row(), o[o.length - 1].row()),
                  a = ba(i, t[0].row(), t[0].column());
                return va(i, a);
              },
              Zo,
              n,
              pa,
              na
            ),
            makeColumnHeader: Go(
              function(e, t, n, r) {
                var o = Ei(e, t.column(), n, r.replaceOrInit);
                return wa(o, t.row(), t.column());
              },
              Jo,
              n,
              n,
              ra("row", "th")
            ),
            unmakeColumnHeader: Go(
              function(e, t, n, r) {
                var o = Ei(e, t.column(), n, r.replaceOrInit);
                return wa(o, t.row(), t.column());
              },
              Jo,
              n,
              n,
              ra(null, "td")
            ),
            makeRowHeader: Go(
              function(e, t, n, r) {
                var o = Ti(e, t.row(), n, r.replaceOrInit);
                return wa(o, t.row(), t.column());
              },
              Jo,
              n,
              n,
              ra("col", "th")
            ),
            unmakeRowHeader: Go(
              function(e, t, n, r) {
                var o = Ti(e, t.row(), n, r.replaceOrInit);
                return wa(o, t.row(), t.column());
              },
              Jo,
              n,
              n,
              ra(null, "td")
            ),
            mergeCells: Go(
              function(e, t, n, r) {
                var i = t.cells();
                ga(i);
                var a = ci(e, t.bounds(), n, o(i[0]));
                return va(a, m.from(i[0]));
              },
              function(e, t) {
                return t.mergable();
              },
              n,
              n,
              oa
            ),
            unmergeCells: Go(
              function(e, t, n, r) {
                var o = k(
                  t,
                  function(e, t) {
                    return li(e, t, n, r.combine(t));
                  },
                  e
                );
                return va(o, m.from(t[0]));
              },
              function(e, t) {
                return t.unmergable();
              },
              Ea,
              n,
              oa
            ),
            pasteCells: Go(
              function(e, t, n, r) {
                var o = (function(e, t) {
                    var n = Xt(e),
                      r = Zt.generate(n);
                    return $o(r, t, !0);
                  })(t.clipboard(), t.generators()),
                  i = xt(t.row(), t.column());
                return mi(i, e, o, t.generators(), n).fold(
                  function() {
                    return va(e, m.some(t.element()));
                  },
                  function(e) {
                    var n = ba(e, t.row(), t.column());
                    return va(e, n);
                  }
                );
              },
              function(e, t) {
                return qt(t.element()).bind(function(n) {
                  return Xo(e, n).map(function(e) {
                    return io(io({}, e), {
                      generators: t.generators,
                      clipboard: t.clipboard
                    });
                  });
                });
              },
              Ea,
              n,
              na
            ),
            pasteRowsBefore: Go(
              function(e, t, n, r) {
                var o = e[t.cells[0].row()],
                  i = t.cells[0].row(),
                  a = Sa(t.clipboard(), t.generators(), o),
                  u = hi(i, e, a, t.generators(), n),
                  s = ba(u, t.cells[0].row(), t.cells[0].column());
                return va(u, s);
              },
              Qo,
              n,
              n,
              na
            ),
            pasteRowsAfter: Go(
              function(e, t, n, r) {
                var o = e[t.cells[0].row()],
                  i =
                    t.cells[t.cells.length - 1].row() +
                    t.cells[t.cells.length - 1].rowspan(),
                  a = Sa(t.clipboard(), t.generators(), o),
                  u = hi(i, e, a, t.generators(), n),
                  s = ba(u, t.cells[0].row(), t.cells[0].column());
                return va(u, s);
              },
              Qo,
              n,
              n,
              na
            )
          },
          Na = function(e) {
            return ve.fromDom(e.getBody());
          },
          _a = function(e) {
            return e.getBoundingClientRect().width;
          },
          ka = function(e) {
            return e.getBoundingClientRect().height;
          },
          Ra = function(e) {
            return function(t) {
              return et(t, Na(e));
            };
          },
          Da = function(e) {
            return /^[0-9]+$/.test(e) && (e += "px"), e;
          },
          Oa = function(e) {
            var t = Bt(e, "td[data-mce-style],th[data-mce-style]");
            fe(e, "data-mce-style"),
              N(t, function(e) {
                fe(e, "data-mce-style");
              });
          },
          Aa = { isRtl: o(!1) },
          Pa = { isRtl: o(!0) },
          Ba = function(e) {
            return "rtl" ===
              (function(e) {
                return "rtl" === Ee(e, "direction") ? "rtl" : "ltr";
              })(e)
              ? Pa
              : Aa;
          },
          Ia = [
            "tableprops",
            "tabledelete",
            "|",
            "tableinsertrowbefore",
            "tableinsertrowafter",
            "tabledeleterow",
            "|",
            "tableinsertcolbefore",
            "tableinsertcolafter",
            "tabledeletecol"
          ],
          Ma = { "border-collapse": "collapse", width: "100%" },
          La = { border: "1" },
          Fa = function(e) {
            return e.getParam("table_default_attributes", La, "object");
          },
          Ha = function(e) {
            return e.getParam("table_default_styles", Ma, "object");
          },
          za = function(e) {
            return e.getParam("table_cell_advtab", !0, "boolean");
          },
          Wa = function(e) {
            return e.getParam("table_row_advtab", !0, "boolean");
          },
          Ua = function(e) {
            return e.getParam("table_advtab", !0, "boolean");
          },
          ja = function(e) {
            return e.getParam("table_appearance_options", !0, "boolean");
          },
          Va = function(e) {
            return e.getParam("table_style_by_css", !1, "boolean");
          },
          qa = function(e) {
            return e.getParam("table_cell_class_list", [], "array");
          },
          $a = function(e) {
            return e.getParam("table_row_class_list", [], "array");
          },
          Ka = function(e) {
            return e.getParam("table_class_list", [], "array");
          },
          Ya = function(e) {
            return !1 === e.getParam("table_responsive_width");
          },
          Xa = function(e, t) {
            return e.fire("newrow", { node: t });
          },
          Ga = function(e, t) {
            return e.fire("newcell", { node: t });
          },
          Ja = function(e, t, n, r) {
            e.fire("ObjectResizeStart", { target: t, width: n, height: r });
          },
          Qa = function(e, t, n, r) {
            e.fire("ObjectResized", { target: t, width: n, height: r });
          },
          Za = function(e, t) {
            var r = function(e) {
                return "table" === ee(Na(e));
              },
              o = (function(e) {
                var t = e.getParam("table_clone_elements");
                return g(t)
                  ? m.some(t.split(/[ ,]/))
                  : Array.isArray(t)
                  ? m.some(t)
                  : m.none();
              })(e),
              i = function(t, n, r, i) {
                return function(a, u) {
                  Oa(a);
                  var s = i(),
                    c = ve.fromDom(e.getDoc()),
                    l = ro(Ba),
                    f = Cn(r, c, o);
                  return n(a)
                    ? t(s, a, u, f, l).bind(function(t) {
                        return (
                          N(t.newRows(), function(t) {
                            Xa(e, t.dom());
                          }),
                          N(t.newCells(), function(t) {
                            Ga(e, t.dom());
                          }),
                          t.cursor().map(function(t) {
                            var n = e.dom.createRng();
                            return (
                              n.setStart(t.dom(), 0), n.setEnd(t.dom(), 0), n
                            );
                          })
                        );
                      })
                    : m.none();
                };
              };
            return {
              deleteRow: i(
                Ta.eraseRows,
                function(t) {
                  var n = oo(t);
                  return !1 === r(e) || n.rows() > 1;
                },
                n,
                t
              ),
              deleteColumn: i(
                Ta.eraseColumns,
                function(t) {
                  var n = oo(t);
                  return !1 === r(e) || n.columns() > 1;
                },
                n,
                t
              ),
              insertRowsBefore: i(Ta.insertRowsBefore, c, n, t),
              insertRowsAfter: i(Ta.insertRowsAfter, c, n, t),
              insertColumnsBefore: i(Ta.insertColumnsBefore, c, Hr, t),
              insertColumnsAfter: i(Ta.insertColumnsAfter, c, Hr, t),
              mergeCells: i(Ta.mergeCells, c, n, t),
              unmergeCells: i(Ta.unmergeCells, c, n, t),
              pasteRowsBefore: i(Ta.pasteRowsBefore, c, n, t),
              pasteRowsAfter: i(Ta.pasteRowsAfter, c, n, t),
              pasteCells: i(Ta.pasteCells, c, n, t)
            };
          },
          eu = function(e, t, n) {
            var r = Xt(e),
              o = Zt.generate(r);
            return Zo(o, t).map(function(e) {
              var t = $o(o, n, !1).slice(
                  e[0].row(),
                  e[e.length - 1].row() + e[e.length - 1].rowspan()
                ),
                r = Yo(t, n);
              return lo(r);
            });
          },
          tu = tinymce.util.Tools.resolve("tinymce.util.Tools"),
          nu = function(e, t, n) {
            n && e.formatter.apply("align" + n, {}, t);
          },
          ru = function(e, t, n) {
            n && e.formatter.apply("valign" + n, {}, t);
          },
          ou = function(e, t) {
            tu.each("left center right".split(" "), function(n) {
              e.formatter.remove("align" + n, {}, t);
            });
          },
          iu = function(e, t) {
            tu.each("top middle bottom".split(" "), function(n) {
              e.formatter.remove("valign" + n, {}, t);
            });
          },
          au = function(e, t, n) {
            var r;
            return (r = (function(t, r) {
              for (var o = 0; o < r.length; o++) {
                var i = e.getStyle(r[o], n);
                if ((void 0 === t && (t = i), t !== i)) return "";
              }
              return t;
            })(r, e.select("td,th", t)));
          },
          uu = function(e, t) {
            var n = e.dom,
              r = t.control.rootControl,
              o = r.toJSON(),
              i = n.parseStyle(o.style);
            (i["border-style"] = o.borderStyle),
              (i["border-color"] = o.borderColor),
              (i["background-color"] = o.backgroundColor),
              (i.width = o.width ? Da(o.width) : ""),
              (i.height = o.height ? Da(o.height) : ""),
              r
                .find("#style")
                .value(n.serializeStyle(n.parseStyle(n.serializeStyle(i))));
          },
          su = function(e, t) {
            var n = e.dom,
              r = t.control.rootControl,
              o = r.toJSON(),
              i = n.parseStyle(o.style);
            r.find("#borderStyle").value(i["border-style"] || ""),
              r.find("#borderColor").value(i["border-color"] || ""),
              r.find("#backgroundColor").value(i["background-color"] || ""),
              r.find("#width").value(i.width || ""),
              r.find("#height").value(i.height || "");
          },
          cu = {
            createStyleForm: function(e) {
              var t = function() {
                var t = (function(e) {
                  return e.getParam("color_picker_callback");
                })(e);
                if (t)
                  return function(n) {
                    return t.call(
                      e,
                      function(e) {
                        n.control.value(e).fire("change");
                      },
                      n.control.value()
                    );
                  };
              };
              return {
                title: "Advanced",
                type: "form",
                defaults: { onchange: a(uu, e) },
                items: [
                  {
                    label: "Style",
                    name: "style",
                    type: "textbox",
                    onchange: a(su, e)
                  },
                  {
                    type: "form",
                    padding: 0,
                    formItemDefaults: {
                      layout: "grid",
                      alignH: ["start", "right"]
                    },
                    defaults: { size: 7 },
                    items: [
                      {
                        label: "Border style",
                        type: "listbox",
                        name: "borderStyle",
                        width: 90,
                        onselect: a(uu, e),
                        values: [
                          { text: "Select...", value: "" },
                          { text: "Solid", value: "solid" },
                          { text: "Dotted", value: "dotted" },
                          { text: "Dashed", value: "dashed" },
                          { text: "Double", value: "double" },
                          { text: "Groove", value: "groove" },
                          { text: "Ridge", value: "ridge" },
                          { text: "Inset", value: "inset" },
                          { text: "Outset", value: "outset" },
                          { text: "None", value: "none" },
                          { text: "Hidden", value: "hidden" }
                        ]
                      },
                      {
                        label: "Border color",
                        type: "colorbox",
                        name: "borderColor",
                        onaction: t()
                      },
                      {
                        label: "Background color",
                        type: "colorbox",
                        name: "backgroundColor",
                        onaction: t()
                      }
                    ]
                  }
                ]
              };
            },
            buildListItems: function(e, t, n) {
              var r = function(e, n) {
                return (
                  (n = n || []),
                  tu.each(e, function(e) {
                    var o = { text: e.text || e.title };
                    e.menu
                      ? (o.menu = r(e.menu))
                      : ((o.value = e.value), t && t(o)),
                      n.push(o);
                  }),
                  n
                );
              };
              return r(e, n || []);
            },
            updateStyleField: uu,
            extractAdvancedStyles: function(e, t) {
              var n = e.parseStyle(e.getAttrib(t, "style")),
                r = {};
              return (
                n["border-style"] && (r.borderStyle = n["border-style"]),
                n["border-color"] && (r.borderColor = n["border-color"]),
                n["background-color"] &&
                  (r.backgroundColor = n["background-color"]),
                (r.style = e.serializeStyle(n)),
                r
              );
            },
            updateAdvancedFields: su,
            syncAdvancedStyleFields: function(t, n) {
              n.control.rootControl
                .find("#style")[0]
                .getEl()
                .isEqualNode(e.document.activeElement)
                ? su(t, n)
                : uu(t, n);
            }
          },
          lu = function(e, t, n) {
            var r,
              o = e.dom;
            function i(e, n, r) {
              (1 === t.length || r) && o.setAttrib(e, n, r);
            }
            function a(e, n, r) {
              (1 === t.length || r) && o.setStyle(e, n, r);
            }
            za(e) && cu.syncAdvancedStyleFields(e, n),
              (r = n.control.rootControl.toJSON()),
              e.undoManager.transact(function() {
                tu.each(t, function(n) {
                  var u, s;
                  i(n, "scope", r.scope),
                    1 === t.length
                      ? i(n, "style", r.style)
                      : ((u = n),
                        (s = r.style),
                        delete u.dataset.mceStyle,
                        (u.style.cssText += ";" + s)),
                    i(n, "class", r.class),
                    a(n, "width", Da(r.width)),
                    a(n, "height", Da(r.height)),
                    r.type &&
                      n.nodeName.toLowerCase() !== r.type &&
                      (n = o.rename(n, r.type)),
                    1 === t.length && (ou(e, n), iu(e, n)),
                    r.align && nu(e, n, r.align),
                    r.valign && ru(e, n, r.valign);
                }),
                  e.focus();
              });
          },
          fu = function(e) {
            var t,
              n,
              r,
              o = [];
            if (
              ((o = e.dom.select(
                "td[data-mce-selected],th[data-mce-selected]"
              )),
              (t = e.dom.getParent(e.selection.getStart(), "td,th")),
              !o.length && t && o.push(t),
              (t = t || o[0]))
            ) {
              (n =
                o.length > 1
                  ? {
                      width: "",
                      height: "",
                      scope: "",
                      class: "",
                      align: "",
                      valign: "",
                      style: "",
                      type: t.nodeName.toLowerCase()
                    }
                  : (function(e, t) {
                      var n = e.dom,
                        r = {
                          width:
                            n.getStyle(t, "width") || n.getAttrib(t, "width"),
                          height:
                            n.getStyle(t, "height") || n.getAttrib(t, "height"),
                          scope: n.getAttrib(t, "scope"),
                          class: n.getAttrib(t, "class"),
                          type: t.nodeName.toLowerCase(),
                          style: "",
                          align: "",
                          valign: ""
                        };
                      return (
                        tu.each("left center right".split(" "), function(n) {
                          e.formatter.matchNode(t, "align" + n) &&
                            (r.align = n);
                        }),
                        tu.each("top middle bottom".split(" "), function(n) {
                          e.formatter.matchNode(t, "valign" + n) &&
                            (r.valign = n);
                        }),
                        za(e) && tu.extend(r, cu.extractAdvancedStyles(n, t)),
                        r
                      );
                    })(e, t)),
                qa(e).length > 0 &&
                  (r = {
                    name: "class",
                    type: "listbox",
                    label: "Class",
                    values: cu.buildListItems(qa(e), function(t) {
                      t.value &&
                        (t.textStyle = function() {
                          return e.formatter.getCssText({
                            block: "td",
                            classes: [t.value]
                          });
                        });
                    })
                  });
              var i = {
                type: "form",
                layout: "flex",
                direction: "column",
                labelGapCalc: "children",
                padding: 0,
                items: [
                  {
                    type: "form",
                    layout: "grid",
                    columns: 2,
                    labelGapCalc: !1,
                    padding: 0,
                    defaults: { type: "textbox", maxWidth: 50 },
                    items: [
                      {
                        label: "Width",
                        name: "width",
                        onchange: a(cu.updateStyleField, e)
                      },
                      {
                        label: "Height",
                        name: "height",
                        onchange: a(cu.updateStyleField, e)
                      },
                      {
                        label: "Cell type",
                        name: "type",
                        type: "listbox",
                        text: "None",
                        minWidth: 90,
                        maxWidth: null,
                        values: [
                          { text: "Cell", value: "td" },
                          { text: "Header cell", value: "th" }
                        ]
                      },
                      {
                        label: "Scope",
                        name: "scope",
                        type: "listbox",
                        text: "None",
                        minWidth: 90,
                        maxWidth: null,
                        values: [
                          { text: "None", value: "" },
                          { text: "Row", value: "row" },
                          { text: "Column", value: "col" },
                          { text: "Row group", value: "rowgroup" },
                          { text: "Column group", value: "colgroup" }
                        ]
                      },
                      {
                        label: "H Align",
                        name: "align",
                        type: "listbox",
                        text: "None",
                        minWidth: 90,
                        maxWidth: null,
                        values: [
                          { text: "None", value: "" },
                          { text: "Left", value: "left" },
                          { text: "Center", value: "center" },
                          { text: "Right", value: "right" }
                        ]
                      },
                      {
                        label: "V Align",
                        name: "valign",
                        type: "listbox",
                        text: "None",
                        minWidth: 90,
                        maxWidth: null,
                        values: [
                          { text: "None", value: "" },
                          { text: "Top", value: "top" },
                          { text: "Middle", value: "middle" },
                          { text: "Bottom", value: "bottom" }
                        ]
                      }
                    ]
                  },
                  r
                ]
              };
              za(e)
                ? e.windowManager.open({
                    title: "Cell properties",
                    bodyType: "tabpanel",
                    data: n,
                    body: [
                      { title: "General", type: "form", items: i },
                      cu.createStyleForm(e)
                    ],
                    onsubmit: a(lu, e, o)
                  })
                : e.windowManager.open({
                    title: "Cell properties",
                    data: n,
                    body: i,
                    onsubmit: a(lu, e, o)
                  });
            }
          };
        function du(e, t, n, r) {
          var o = e.dom;
          function i(e, n, r) {
            (1 === t.length || r) && o.setAttrib(e, n, r);
          }
          Wa(e) && cu.syncAdvancedStyleFields(e, r);
          var a = r.control.rootControl.toJSON();
          e.undoManager.transact(function() {
            tu.each(t, function(r) {
              i(r, "scope", a.scope),
                i(r, "style", a.style),
                i(r, "class", a.class),
                (function(e, n, r) {
                  (1 === t.length || r) && o.setStyle(e, n, r);
                })(r, "height", Da(a.height)),
                a.type !== r.parentNode.nodeName.toLowerCase() &&
                  (function(e, t, n) {
                    var r = e.getParent(t, "table"),
                      o = t.parentNode,
                      i = e.select(n, r)[0];
                    i ||
                      ((i = e.create(n)),
                      r.firstChild
                        ? "CAPTION" === r.firstChild.nodeName
                          ? e.insertAfter(i, r.firstChild)
                          : r.insertBefore(i, r.firstChild)
                        : r.appendChild(i)),
                      i.appendChild(t),
                      o.hasChildNodes() || e.remove(o);
                  })(e.dom, r, a.type),
                a.align !== n.align && (ou(e, r), nu(e, r, a.align));
            }),
              e.focus();
          });
        }
        var mu = function(e) {
            var t,
              n,
              r,
              o,
              i,
              u,
              s = e.dom,
              c = [];
            (t = s.getParent(e.selection.getStart(), "table")),
              (n = s.getParent(e.selection.getStart(), "td,th")),
              tu.each(t.rows, function(e) {
                tu.each(e.cells, function(t) {
                  if (s.getAttrib(t, "data-mce-selected") || t === n)
                    return c.push(e), !1;
                });
              }),
              (r = c[0]) &&
                ((i =
                  c.length > 1
                    ? {
                        height: "",
                        scope: "",
                        style: "",
                        class: "",
                        align: "",
                        type: r.parentNode.nodeName.toLowerCase()
                      }
                    : (function(e, t) {
                        var n = e.dom,
                          r = {
                            height:
                              n.getStyle(t, "height") ||
                              n.getAttrib(t, "height"),
                            scope: n.getAttrib(t, "scope"),
                            class: n.getAttrib(t, "class"),
                            align: "",
                            style: "",
                            type: t.parentNode.nodeName.toLowerCase()
                          };
                        return (
                          tu.each("left center right".split(" "), function(n) {
                            e.formatter.matchNode(t, "align" + n) &&
                              (r.align = n);
                          }),
                          Wa(e) && tu.extend(r, cu.extractAdvancedStyles(n, t)),
                          r
                        );
                      })(e, r)),
                $a(e).length > 0 &&
                  (o = {
                    name: "class",
                    type: "listbox",
                    label: "Class",
                    values: cu.buildListItems($a(e), function(t) {
                      t.value &&
                        (t.textStyle = function() {
                          return e.formatter.getCssText({
                            block: "tr",
                            classes: [t.value]
                          });
                        });
                    })
                  }),
                (u = {
                  type: "form",
                  columns: 2,
                  padding: 0,
                  defaults: { type: "textbox" },
                  items: [
                    {
                      type: "listbox",
                      name: "type",
                      label: "Row type",
                      text: "Header",
                      maxWidth: null,
                      values: [
                        { text: "Header", value: "thead" },
                        { text: "Body", value: "tbody" },
                        { text: "Footer", value: "tfoot" }
                      ]
                    },
                    {
                      type: "listbox",
                      name: "align",
                      label: "Alignment",
                      text: "None",
                      maxWidth: null,
                      values: [
                        { text: "None", value: "" },
                        { text: "Left", value: "left" },
                        { text: "Center", value: "center" },
                        { text: "Right", value: "right" }
                      ]
                    },
                    { label: "Height", name: "height" },
                    o
                  ]
                }),
                Wa(e)
                  ? e.windowManager.open({
                      title: "Row properties",
                      data: i,
                      bodyType: "tabpanel",
                      body: [
                        { title: "General", type: "form", items: u },
                        cu.createStyleForm(e)
                      ],
                      onsubmit: a(du, e, c, i)
                    })
                  : e.windowManager.open({
                      title: "Row properties",
                      data: i,
                      body: u,
                      onsubmit: a(du, e, c, i)
                    }));
          },
          hu = tinymce.util.Tools.resolve("tinymce.Env"),
          gu = {
            styles: { "border-collapse": "collapse", width: "100%" },
            attributes: { border: "1" },
            percentages: !0
          },
          pu = function(e, t, n, r, o) {
            void 0 === o && (o = gu);
            var i = ve.fromTag("table");
            Se(i, o.styles), se(i, o.attributes);
            var a = ve.fromTag("tbody");
            mt(i, a);
            for (var u = [], s = 0; s < e; s++) {
              for (var c = ve.fromTag("tr"), l = 0; l < t; l++) {
                var f = s < n || l < r ? ve.fromTag("th") : ve.fromTag("td");
                l < r && ue(f, "scope", "row"),
                  s < n && ue(f, "scope", "col"),
                  mt(f, ve.fromTag("br")),
                  o.percentages && Ce(f, "width", 100 / t + "%"),
                  mt(c, f);
              }
              u.push(c);
            }
            return pt(a, u), i;
          },
          vu = function(e, t) {
            e.selection.select(t.dom(), !0), e.selection.collapse(!0);
          },
          bu = function(e, t, n) {
            var r,
              o = Ha(e),
              i = {
                styles: o,
                attributes: Fa(e),
                percentages:
                  ((r = o.width), g(r) && -1 !== r.indexOf("%") && !Ya(e))
              },
              u = pu(n, t, 0, 0, i);
            ue(u, "data-mce-id", "__mce");
            var s = (function(e) {
              var t = ve.fromTag("div"),
                n = ve.fromDom(e.dom().cloneNode(!0));
              return (
                mt(t, n),
                (function(e) {
                  return e.dom().innerHTML;
                })(t)
              );
            })(u);
            return (
              e.insertContent(s),
              Ht(Na(e), 'table[data-mce-id="__mce"]')
                .map(function(t) {
                  return (
                    Ya(e) && Ce(t, "width", Ee(t, "width")),
                    fe(t, "data-mce-id"),
                    (function(e, t) {
                      N(Bt(t, "tr"), function(t) {
                        Xa(e, t.dom()),
                          N(Bt(t, "th,td"), function(t) {
                            Ga(e, t.dom());
                          });
                      });
                    })(e, t),
                    (function(e, t) {
                      Ht(t, "td,th").each(a(vu, e));
                    })(e, t),
                    t.dom()
                  );
                })
                .getOr(null)
            );
          };
        function yu(e, t, n, r) {
          if ("TD" === t.tagName || "TH" === t.tagName) e.setStyle(t, n, r);
          else if (t.children)
            for (var o = 0; o < t.children.length; o++)
              yu(e, t.children[o], n, r);
        }
        var wu,
          xu = function(e, t, n) {
            var r,
              o,
              i = e.dom;
            Ua(e) && cu.syncAdvancedStyleFields(e, n),
              !1 === (o = n.control.rootControl.toJSON()).class &&
                delete o.class,
              e.undoManager.transact(function() {
                t || (t = bu(e, o.cols || 1, o.rows || 1)),
                  (function(e, t, n) {
                    var r,
                      o = e.dom,
                      i = {},
                      a = {};
                    if (
                      ((i.class = n.class),
                      (a.height = Da(n.height)),
                      o.getAttrib(t, "width") && !Va(e)
                        ? (i.width = (r = n.width) ? r.replace(/px$/, "") : "")
                        : (a.width = Da(n.width)),
                      Va(e)
                        ? ((a["border-width"] = Da(n.border)),
                          (a["border-spacing"] = Da(n.cellspacing)),
                          tu.extend(i, {
                            "data-mce-border-color": n.borderColor,
                            "data-mce-cell-padding": n.cellpadding,
                            "data-mce-border": n.border
                          }))
                        : tu.extend(i, {
                            border: n.border,
                            cellpadding: n.cellpadding,
                            cellspacing: n.cellspacing
                          }),
                      Va(e) && t.children)
                    )
                      for (var u = 0; u < t.children.length; u++)
                        yu(o, t.children[u], {
                          "border-width": Da(n.border),
                          "border-color": n.borderColor,
                          padding: Da(n.cellpadding)
                        });
                    n.style
                      ? tu.extend(a, o.parseStyle(n.style))
                      : (a = tu.extend(
                          {},
                          o.parseStyle(o.getAttrib(t, "style")),
                          a
                        )),
                      (i.style = o.serializeStyle(a)),
                      o.setAttribs(t, i);
                  })(e, t, o),
                  (r = i.select("caption", t)[0]) && !o.caption && i.remove(r),
                  !r &&
                    o.caption &&
                    (((r = i.create("caption")).innerHTML = hu.ie
                      ? " "
                      : '<br data-mce-bogus="1"/>'),
                    t.insertBefore(r, t.firstChild)),
                  ou(e, t),
                  o.align && nu(e, t, o.align),
                  e.focus(),
                  e.addVisual();
              });
          },
          Cu = function(e, t) {
            var n,
              r,
              o,
              i,
              u,
              s = e.dom,
              c = {};
            !0 === t
              ? (n = s.getParent(e.selection.getStart(), "table")) &&
                (c = (function(e, t) {
                  var n = e.dom,
                    r = {
                      width: n.getStyle(t, "width") || n.getAttrib(t, "width"),
                      height:
                        n.getStyle(t, "height") || n.getAttrib(t, "height"),
                      cellspacing:
                        n.getStyle(t, "border-spacing") ||
                        n.getAttrib(t, "cellspacing"),
                      cellpadding:
                        n.getAttrib(t, "data-mce-cell-padding") ||
                        n.getAttrib(t, "cellpadding") ||
                        au(e.dom, t, "padding"),
                      border:
                        n.getAttrib(t, "data-mce-border") ||
                        n.getAttrib(t, "border") ||
                        au(e.dom, t, "border"),
                      borderColor: n.getAttrib(t, "data-mce-border-color"),
                      caption: !!n.select("caption", t)[0],
                      class: n.getAttrib(t, "class")
                    };
                  return (
                    tu.each("left center right".split(" "), function(n) {
                      e.formatter.matchNode(t, "align" + n) && (r.align = n);
                    }),
                    Ua(e) && tu.extend(r, cu.extractAdvancedStyles(n, t)),
                    r
                  );
                })(e, n))
              : ((r = { label: "Cols", name: "cols" }),
                (o = { label: "Rows", name: "rows" })),
              Ka(e).length > 0 &&
                (c.class &&
                  (c.class = c.class.replace(/\s*mce\-item\-table\s*/g, "")),
                (i = {
                  name: "class",
                  type: "listbox",
                  label: "Class",
                  values: cu.buildListItems(Ka(e), function(t) {
                    t.value &&
                      (t.textStyle = function() {
                        return e.formatter.getCssText({
                          block: "table",
                          classes: [t.value]
                        });
                      });
                  })
                })),
              (u = {
                type: "form",
                layout: "flex",
                direction: "column",
                labelGapCalc: "children",
                padding: 0,
                items: [
                  {
                    type: "form",
                    labelGapCalc: !1,
                    padding: 0,
                    layout: "grid",
                    columns: 2,
                    defaults: { type: "textbox", maxWidth: 50 },
                    items: ja(e)
                      ? [
                          r,
                          o,
                          {
                            label: "Width",
                            name: "width",
                            onchange: a(cu.updateStyleField, e)
                          },
                          {
                            label: "Height",
                            name: "height",
                            onchange: a(cu.updateStyleField, e)
                          },
                          { label: "Cell spacing", name: "cellspacing" },
                          { label: "Cell padding", name: "cellpadding" },
                          { label: "Border", name: "border" },
                          {
                            label: "Caption",
                            name: "caption",
                            type: "checkbox"
                          }
                        ]
                      : [
                          r,
                          o,
                          {
                            label: "Width",
                            name: "width",
                            onchange: a(cu.updateStyleField, e)
                          },
                          {
                            label: "Height",
                            name: "height",
                            onchange: a(cu.updateStyleField, e)
                          }
                        ]
                  },
                  {
                    label: "Alignment",
                    name: "align",
                    type: "listbox",
                    text: "None",
                    values: [
                      { text: "None", value: "" },
                      { text: "Left", value: "left" },
                      { text: "Center", value: "center" },
                      { text: "Right", value: "right" }
                    ]
                  },
                  i
                ]
              }),
              Ua(e)
                ? e.windowManager.open({
                    title: "Table properties",
                    data: c,
                    bodyType: "tabpanel",
                    body: [
                      { title: "General", type: "form", items: u },
                      cu.createStyleForm(e)
                    ],
                    onsubmit: a(xu, e, n)
                  })
                : e.windowManager.open({
                    title: "Table properties",
                    data: c,
                    body: u,
                    onsubmit: a(xu, e, n)
                  });
          },
          Su = tu.each,
          Eu = function(e, t, r, o, i) {
            var s = Ra(e),
              c = function(t) {
                return function() {
                  return m
                    .from(e.dom.getParent(e.selection.getStart(), t))
                    .map(ve.fromDom);
                };
              },
              l = c("caption"),
              f = c("th,td"),
              d = function(e) {
                return Kt(e, s);
              },
              h = function(e) {
                return { width: _a(e.dom()), height: _a(e.dom()) };
              },
              g = function(t) {
                f().each(function(n) {
                  d(n).each(function(i) {
                    var a = vr.forMenu(o, i, n),
                      u = h(i);
                    t(i, a).each(function(t) {
                      !(function(e, t, n) {
                        var r = h(n);
                        (t.width === r.width && t.height === r.height) ||
                          (Ja(e, n.dom(), t.width, t.height),
                          Qa(e, n.dom(), r.width, r.height));
                      })(e, u, i),
                        e.selection.setRng(t),
                        e.focus(),
                        r.clear(i),
                        Oa(i);
                    });
                  });
                });
              },
              p = function(t) {
                return f().bind(function(t) {
                  return d(t).bind(function(r) {
                    var i = ve.fromDom(e.getDoc()),
                      a = vr.forMenu(o, r, t),
                      u = Cn(n, i, m.none());
                    return eu(r, a, u);
                  });
                });
              },
              v = function(t) {
                i.get().each(function(n) {
                  var i = T(n, function(e) {
                    return pn(e);
                  });
                  f().each(function(n) {
                    d(n).each(function(a) {
                      var u = ve.fromDom(e.getDoc()),
                        s = Sn(u),
                        c = vr.pasteRows(o, a, n, i, s);
                      t(a, c).each(function(t) {
                        e.selection.setRng(t), e.focus(), r.clear(a);
                      });
                    });
                  });
                });
              };
            Su(
              {
                mceTableSplitCells: function() {
                  g(t.unmergeCells);
                },
                mceTableMergeCells: function() {
                  g(t.mergeCells);
                },
                mceTableInsertRowBefore: function() {
                  g(t.insertRowsBefore);
                },
                mceTableInsertRowAfter: function() {
                  g(t.insertRowsAfter);
                },
                mceTableInsertColBefore: function() {
                  g(t.insertColumnsBefore);
                },
                mceTableInsertColAfter: function() {
                  g(t.insertColumnsAfter);
                },
                mceTableDeleteCol: function() {
                  g(t.deleteColumn);
                },
                mceTableDeleteRow: function() {
                  g(t.deleteRow);
                },
                mceTableCutRow: function(e) {
                  i.set(p()), g(t.deleteRow);
                },
                mceTableCopyRow: function(e) {
                  i.set(p());
                },
                mceTablePasteRowBefore: function(e) {
                  v(t.pasteRowsBefore);
                },
                mceTablePasteRowAfter: function(e) {
                  v(t.pasteRowsAfter);
                },
                mceTableDelete: function() {
                  f()
                    .orThunk(l)
                    .each(function(t) {
                      Kt(t, s)
                        .filter(u(s))
                        .each(function(t) {
                          var n = ve.fromText("");
                          ft(t, n), bt(t);
                          var r = e.dom.createRng();
                          r.setStart(n.dom(), 0),
                            r.setEnd(n.dom(), 0),
                            e.selection.setRng(r);
                        });
                    });
                }
              },
              function(t, n) {
                e.addCommand(n, t);
              }
            ),
              Su(
                {
                  mceInsertTable: a(Cu, e),
                  mceTableProps: a(Cu, e, !0),
                  mceTableRowProps: a(mu, e),
                  mceTableCellProps: a(fu, e)
                },
                function(t, n) {
                  e.addCommand(n, function(e, n) {
                    t(n);
                  });
                }
              );
          },
          Tu = function(e) {
            var t = m
              .from(e.dom().documentElement)
              .map(ve.fromDom)
              .getOr(e);
            return { parent: o(t), view: o(e), origin: o(Wr(0, 0)) };
          },
          Nu = function(e, t) {
            return { parent: o(t), view: o(e), origin: o(Wr(0, 0)) };
          },
          _u = function(e) {
            var t = z.apply(null, e),
              n = [];
            return {
              bind: function(e) {
                if (void 0 === e)
                  throw new Error("Event bind error: undefined handler");
                n.push(e);
              },
              unbind: function(e) {
                n = _(n, function(t) {
                  return t !== e;
                });
              },
              trigger: function() {
                for (var e = [], r = 0; r < arguments.length; r++)
                  e[r] = arguments[r];
                var o = t.apply(null, e);
                N(n, function(e) {
                  e(o);
                });
              }
            };
          },
          ku = function(e) {
            return {
              registry: F(e, function(e) {
                return { bind: e.bind, unbind: e.unbind };
              }),
              trigger: F(e, function(e) {
                return e.trigger;
              })
            };
          },
          Ru = function(e, t) {
            return function(n) {
              if (e(n)) {
                var i = ve.fromDom(n.target),
                  a = function() {
                    n.stopPropagation();
                  },
                  u = function() {
                    n.preventDefault();
                  },
                  s = r(u, a),
                  c = (function(e, t, n, r, i, a, u) {
                    return {
                      target: o(e),
                      x: o(t),
                      y: o(n),
                      stop: r,
                      prevent: i,
                      kill: a,
                      raw: o(u)
                    };
                  })(i, n.clientX, n.clientY, a, u, s, n);
                t(c);
              }
            };
          },
          Du = function(e, t, n, r) {
            return (function(e, t, n, r, o) {
              var i = Ru(n, r);
              return (
                e.dom().addEventListener(t, i, o), { unbind: a(Ou, e, t, i, o) }
              );
            })(e, t, n, r, !1);
          },
          Ou = function(e, t, n, r) {
            e.dom().removeEventListener(t, n, r);
          },
          Au = o(!0),
          Pu = function(e, t, n) {
            return Du(e, t, Au, n);
          },
          Bu = Object.prototype.hasOwnProperty,
          Iu =
            ((wu = function(e, t) {
              return t;
            }),
            function() {
              for (
                var e = new Array(arguments.length), t = 0;
                t < e.length;
                t++
              )
                e[t] = arguments[t];
              if (0 === e.length) throw new Error("Can't merge zero objects");
              for (var n = {}, r = 0; r < e.length; r++) {
                var o = e[r];
                for (var i in o) Bu.call(o, i) && (n[i] = wu(n[i], o[i]));
              }
              return n;
            }),
          Mu = { resolve: Co("ephox-dragster").resolve },
          Lu = Zi(["compare", "extract", "mutate", "sink"]),
          Fu = Zi(["element", "start", "stop", "destroy"]),
          Hu = Zi(["forceDrop", "drop", "move", "delayDrop"]),
          zu = Lu({
            compare: function(e, t) {
              return Wr(t.left() - e.left(), t.top() - e.top());
            },
            extract: function(e) {
              return m.some(Wr(e.x(), e.y()));
            },
            sink: function(e, t) {
              var n = (function(e) {
                  var t = Iu({ layerClass: Mu.resolve("blocker") }, e),
                    n = ve.fromTag("div");
                  return (
                    ue(n, "role", "presentation"),
                    Se(n, {
                      position: "fixed",
                      left: "0px",
                      top: "0px",
                      width: "100%",
                      height: "100%"
                    }),
                    go(n, Mu.resolve("blocker")),
                    go(n, t.layerClass),
                    {
                      element: function() {
                        return n;
                      },
                      destroy: function() {
                        bt(n);
                      }
                    }
                  );
                })(t),
                r = Pu(n.element(), "mousedown", e.forceDrop),
                o = Pu(n.element(), "mouseup", e.drop),
                i = Pu(n.element(), "mousemove", e.move),
                a = Pu(n.element(), "mouseout", e.delayDrop);
              return Fu({
                element: n.element,
                start: function(e) {
                  mt(e, n.element());
                },
                stop: function() {
                  bt(n.element());
                },
                destroy: function() {
                  n.destroy(), o.unbind(), i.unbind(), a.unbind(), r.unbind();
                }
              });
            },
            mutate: function(e, t) {
              e.mutate(t.left(), t.top());
            }
          });
        function Wu() {
          var e = m.none(),
            t = ku({ move: _u(["info"]) });
          return {
            onEvent: function(n, r) {
              r.extract(n).each(function(n) {
                (function(t, n) {
                  var r = e.map(function(e) {
                    return t.compare(e, n);
                  });
                  return (e = m.some(n)), r;
                })(r, n).each(function(e) {
                  t.trigger.move(e);
                });
              });
            },
            reset: function() {
              e = m.none();
            },
            events: t.registry
          };
        }
        function Uu() {
          var e = { onEvent: n, reset: n },
            t = Wu(),
            r = e;
          return {
            on: function() {
              r.reset(), (r = t);
            },
            off: function() {
              r.reset(), (r = e);
            },
            isOn: function() {
              return r === t;
            },
            onEvent: function(e, t) {
              r.onEvent(e, t);
            },
            events: t.events
          };
        }
        var ju = function(t, n, r) {
            var o,
              i,
              a,
              u = !1,
              s = ku({ start: _u([]), stop: _u([]) }),
              c = Uu(),
              l = function() {
                m.stop(), c.isOn() && (c.off(), s.trigger.stop());
              },
              f =
                ((o = l),
                (i = 200),
                (a = null),
                {
                  cancel: function() {
                    null !== a && (e.clearTimeout(a), (a = null));
                  },
                  throttle: function() {
                    for (var t = [], n = 0; n < arguments.length; n++)
                      t[n] = arguments[n];
                    null !== a && e.clearTimeout(a),
                      (a = e.setTimeout(function() {
                        o.apply(null, t), (a = null);
                      }, i));
                  }
                });
            c.events.move.bind(function(e) {
              n.mutate(t, e.info());
            });
            var d = function(e) {
                return function() {
                  for (var t = [], n = 0; n < arguments.length; n++)
                    t[n] = arguments[n];
                  u && e.apply(null, t);
                };
              },
              m = n.sink(
                Hu({
                  forceDrop: l,
                  drop: d(l),
                  move: d(function(e) {
                    f.cancel(), c.onEvent(e, n);
                  }),
                  delayDrop: d(f.throttle)
                }),
                r
              );
            return {
              element: m.element,
              go: function(e) {
                m.start(e), c.on(), s.trigger.start();
              },
              on: function() {
                u = !0;
              },
              off: function() {
                u = !1;
              },
              destroy: function() {
                m.destroy();
              },
              events: s.registry
            };
          },
          Vu = function(e, t) {
            void 0 === t && (t = {});
            var n = void 0 !== t.mode ? t.mode : zu;
            return ju(e, n, t);
          },
          qu = function() {
            var e = ku({ drag: _u(["xDelta", "yDelta", "target"]) }),
              t = m.none(),
              n = (function() {
                var e = ku({ drag: _u(["xDelta", "yDelta"]) });
                return {
                  mutate: function(t, n) {
                    e.trigger.drag(t, n);
                  },
                  events: e.registry
                };
              })();
            return (
              n.events.drag.bind(function(n) {
                t.each(function(t) {
                  e.trigger.drag(n.xDelta(), n.yDelta(), t);
                });
              }),
              {
                assign: function(e) {
                  t = m.some(e);
                },
                get: function() {
                  return t;
                },
                mutate: n.mutate,
                events: e.registry
              }
            );
          },
          $u = function(e) {
            return "true" === ce(e, "contenteditable");
          },
          Ku = Eo.resolve("resizer-bar-dragging"),
          Yu = function(e, t, n) {
            var r = qu(),
              o = Vu(r, {}),
              i = m.none(),
              u = function(e, t) {
                return m.from(ce(e, t));
              };
            r.events.drag.bind(function(e) {
              u(e.target(), "data-row").each(function(t) {
                var n = Di.getInt(e.target(), "top");
                Ce(e.target(), "top", n + e.yDelta() + "px");
              }),
                u(e.target(), "data-column").each(function(t) {
                  var n = Di.getInt(e.target(), "left");
                  Ce(e.target(), "left", n + e.xDelta() + "px");
                });
            });
            var s = function(e, t) {
              return Di.getInt(e, t) - parseInt(ce(e, "data-initial-" + t), 10);
            };
            o.events.stop.bind(function() {
              r.get().each(function(r) {
                i.each(function(o) {
                  u(r, "data-row").each(function(e) {
                    var t = s(r, "top");
                    fe(r, "data-initial-top"),
                      g.trigger.adjustHeight(o, t, parseInt(e, 10));
                  }),
                    u(r, "data-column").each(function(e) {
                      var t = s(r, "left");
                      fe(r, "data-initial-left"),
                        g.trigger.adjustWidth(o, t, parseInt(e, 10));
                    }),
                    Bo(e, o, n, t);
                });
              });
            });
            var c = function(t, n) {
                g.trigger.startAdjust(),
                  r.assign(t),
                  ue(t, "data-initial-" + n, parseInt(Ee(t, n), 10)),
                  go(t, Ku),
                  Ce(t, "opacity", "0.2"),
                  o.go(e.parent());
              },
              l = Pu(e.parent(), "mousedown", function(e) {
                Fo(e.target()) && c(e.target(), "top"),
                  Ho(e.target()) && c(e.target(), "left");
              }),
              f = function(t) {
                return et(t, e.view());
              },
              d = function(e) {
                return zt(e, "table", f).filter(function(e) {
                  return (function(e, t) {
                    return zt(e, "[contenteditable]", t);
                  })(e, f).exists($u);
                });
              },
              h = Pu(e.view(), "mouseover", function(r) {
                d(r.target()).fold(
                  function() {
                    be(r.target()) && Lo(e);
                  },
                  function(r) {
                    (i = m.some(r)), Bo(e, r, n, t);
                  }
                );
              }),
              g = ku({
                adjustHeight: _u(["table", "delta", "row"]),
                adjustWidth: _u(["table", "delta", "column"]),
                startAdjust: _u([])
              });
            return {
              destroy: function() {
                l.unbind(), h.unbind(), o.destroy(), Lo(e);
              },
              refresh: function(r) {
                Bo(e, r, n, t);
              },
              on: o.on,
              off: o.off,
              hideBars: a(Io, e),
              showBars: a(Mo, e),
              events: g.registry
            };
          },
          Xu = function(e, t) {
            var n = to.height,
              r = Yu(e, t, n),
              o = ku({
                beforeResize: _u(["table"]),
                afterResize: _u(["table"]),
                startDrag: _u([])
              });
            return (
              r.events.adjustHeight.bind(function(e) {
                o.trigger.beforeResize(e.table());
                var t = n.delta(e.delta(), e.table());
                Yi(e.table(), t, e.row(), n), o.trigger.afterResize(e.table());
              }),
              r.events.startAdjust.bind(function(e) {
                o.trigger.startDrag();
              }),
              r.events.adjustWidth.bind(function(e) {
                o.trigger.beforeResize(e.table());
                var n = t.delta(e.delta(), e.table());
                Ki(e.table(), n, e.column(), t),
                  o.trigger.afterResize(e.table());
              }),
              {
                on: r.on,
                off: r.off,
                hideBars: r.hideBars,
                showBars: r.showBars,
                destroy: r.destroy,
                events: o.registry
              }
            );
          },
          Gu = function(e, t) {
            return e.inline
              ? Nu(
                  Na(e),
                  (function() {
                    var e = ve.fromTag("div");
                    return (
                      Se(e, {
                        position: "static",
                        height: "0",
                        width: "0",
                        padding: "0",
                        margin: "0",
                        border: "0"
                      }),
                      mt(ye(), e),
                      e
                    );
                  })()
                )
              : Tu(ve.fromDom(e.getDoc()));
          },
          Ju = function(e, t) {
            e.inline && bt(t.parent());
          },
          Qu = function(e) {
            var t,
              n,
              r = m.none(),
              o = m.none(),
              i = m.none(),
              a = /(\d+(\.\d+)?)%/,
              u = function(e) {
                return "TABLE" === e.nodeName;
              };
            return (
              e.on("init", function() {
                var t = ro(Ba),
                  n = Gu(e);
                if (
                  ((i = m.some(n)),
                  (function(e) {
                    var t = e.getParam("object_resizing", !0);
                    return "table" === t || t;
                  })(e) &&
                    (function(e) {
                      return e.getParam("table_resize_bars", !0, "boolean");
                    })(e))
                ) {
                  var a = Xu(n, t);
                  a.on(),
                    a.events.startDrag.bind(function(t) {
                      r = m.some(e.selection.getRng());
                    }),
                    a.events.beforeResize.bind(function(t) {
                      var n = t.table().dom();
                      Ja(e, n, _a(n), ka(n));
                    }),
                    a.events.afterResize.bind(function(t) {
                      var n = t.table(),
                        o = n.dom();
                      Oa(n),
                        r.each(function(t) {
                          e.selection.setRng(t), e.focus();
                        }),
                        Qa(e, o, _a(o), ka(o)),
                        e.undoManager.add();
                    }),
                    (o = m.some(a));
                }
              }),
              e.on("ObjectResizeStart", function(r) {
                var o,
                  i = r.target;
                u(i) &&
                  ((t = r.width),
                  (o = i),
                  (n =
                    e.dom.getStyle(o, "width") || e.dom.getAttrib(o, "width")));
              }),
              e.on("ObjectResized", function(r) {
                var o = r.target;
                if (u(o)) {
                  var i = o;
                  if (a.test(n)) {
                    var s = parseFloat(a.exec(n)[1]),
                      c = (r.width * s) / t;
                    e.dom.setStyle(i, "width", c + "%");
                  } else {
                    var l = [];
                    tu.each(i.rows, function(t) {
                      tu.each(t.cells, function(t) {
                        var n = e.dom.getStyle(t, "width", !0);
                        l.push({ cell: t, width: n });
                      });
                    }),
                      tu.each(l, function(t) {
                        e.dom.setStyle(t.cell, "width", t.width),
                          e.dom.setAttrib(t.cell, "width", null);
                      });
                  }
                }
              }),
              {
                lazyResize: function() {
                  return o;
                },
                lazyWire: function() {
                  return i.getOr(Tu(ve.fromDom(e.getBody())));
                },
                destroy: function() {
                  o.each(function(e) {
                    e.destroy();
                  }),
                    i.each(function(t) {
                      Ju(e, t);
                    });
                }
              }
            );
          },
          Zu = sr([
            { none: ["current"] },
            { first: ["current"] },
            { middle: ["current", "target"] },
            { last: ["current"] }
          ]),
          es = io(io({}, Zu), {
            none: function(e) {
              return void 0 === e && (e = void 0), Zu.none(e);
            }
          }),
          ts = function(e, t) {
            return Kt(e, t).bind(function(t) {
              var n = $t(t);
              return O(n, function(t) {
                return et(e, t);
              }).map(function(e) {
                return { index: o(e), all: o(n) };
              });
            });
          },
          ns = function(e, t) {
            return ts(e, t).fold(
              function() {
                return es.none(e);
              },
              function(t) {
                return t.index() + 1 < t.all().length
                  ? es.middle(e, t.all()[t.index() + 1])
                  : es.last(e);
              }
            );
          },
          rs = function(e, t) {
            return ts(e, t).fold(
              function() {
                return es.none();
              },
              function(t) {
                return t.index() - 1 >= 0
                  ? es.middle(e, t.all()[t.index() - 1])
                  : es.first(e);
              }
            );
          },
          os = { create: z("start", "soffset", "finish", "foffset") },
          is = sr([
            { before: ["element"] },
            { on: ["element", "offset"] },
            { after: ["element"] }
          ]),
          as = {
            before: is.before,
            on: is.on,
            after: is.after,
            cata: function(e, t, n, r) {
              return e.fold(t, n, r);
            },
            getStart: function(e) {
              return e.fold(i, i, i);
            }
          },
          us = sr([
            { domRange: ["rng"] },
            { relative: ["startSitu", "finishSitu"] },
            { exact: ["start", "soffset", "finish", "foffset"] }
          ]),
          ss = {
            domRange: us.domRange,
            relative: us.relative,
            exact: us.exact,
            exactFromRange: function(e) {
              return us.exact(e.start(), e.soffset(), e.finish(), e.foffset());
            },
            getWin: function(e) {
              var t,
                n = (function(e) {
                  return e.match({
                    domRange: function(e) {
                      return ve.fromDom(e.startContainer);
                    },
                    relative: function(e, t) {
                      return as.getStart(e);
                    },
                    exact: function(e, t, n, r) {
                      return e;
                    }
                  });
                })(e);
              return (t = n), ve.fromDom(t.dom().ownerDocument.defaultView);
            },
            range: os.create
          },
          cs = function(e, t) {
            e.selectNodeContents(t.dom());
          },
          ls = function(e, t, n) {
            var r,
              o = e.document.createRange();
            return (
              (r = o),
              t.fold(
                function(e) {
                  r.setStartBefore(e.dom());
                },
                function(e, t) {
                  r.setStart(e.dom(), t);
                },
                function(e) {
                  r.setStartAfter(e.dom());
                }
              ),
              (function(e, t) {
                t.fold(
                  function(t) {
                    e.setEndBefore(t.dom());
                  },
                  function(t, n) {
                    e.setEnd(t.dom(), n);
                  },
                  function(t) {
                    e.setEndAfter(t.dom());
                  }
                );
              })(o, n),
              o
            );
          },
          fs = function(e, t, n, r, o) {
            var i = e.document.createRange();
            return i.setStart(t.dom(), n), i.setEnd(r.dom(), o), i;
          },
          ds = function(e) {
            return {
              left: o(e.left),
              top: o(e.top),
              right: o(e.right),
              bottom: o(e.bottom),
              width: o(e.width),
              height: o(e.height)
            };
          },
          ms = sr([
            { ltr: ["start", "soffset", "finish", "foffset"] },
            { rtl: ["start", "soffset", "finish", "foffset"] }
          ]),
          hs = function(e, t, n) {
            return t(
              ve.fromDom(n.startContainer),
              n.startOffset,
              ve.fromDom(n.endContainer),
              n.endOffset
            );
          },
          gs = function(e, t) {
            return (function(e, t) {
              var n = t.ltr();
              return n.collapsed
                ? t
                    .rtl()
                    .filter(function(e) {
                      return !1 === e.collapsed;
                    })
                    .map(function(e) {
                      return ms.rtl(
                        ve.fromDom(e.endContainer),
                        e.endOffset,
                        ve.fromDom(e.startContainer),
                        e.startOffset
                      );
                    })
                    .getOrThunk(function() {
                      return hs(0, ms.ltr, n);
                    })
                : hs(0, ms.ltr, n);
            })(
              0,
              (function(e, t) {
                return t.match({
                  domRange: function(e) {
                    return { ltr: o(e), rtl: m.none };
                  },
                  relative: function(t, n) {
                    return {
                      ltr: ge(function() {
                        return ls(e, t, n);
                      }),
                      rtl: ge(function() {
                        return m.some(ls(e, n, t));
                      })
                    };
                  },
                  exact: function(t, n, r, o) {
                    return {
                      ltr: ge(function() {
                        return fs(e, t, n, r, o);
                      }),
                      rtl: ge(function() {
                        return m.some(fs(e, r, o, t, n));
                      })
                    };
                  }
                });
              })(e, t)
            );
          },
          ps = function(e, t) {
            return gs(e, t).match({
              ltr: function(t, n, r, o) {
                var i = e.document.createRange();
                return i.setStart(t.dom(), n), i.setEnd(r.dom(), o), i;
              },
              rtl: function(t, n, r, o) {
                var i = e.document.createRange();
                return i.setStart(r.dom(), o), i.setEnd(t.dom(), n), i;
              }
            });
          },
          vs = function(e, t, n) {
            return t >= e.left && t <= e.right && n >= e.top && n <= e.bottom;
          },
          bs = function(e, t, n, r, o) {
            var i = function(n) {
                var r = e.dom().createRange();
                return r.setStart(t.dom(), n), r.collapse(!0), r;
              },
              a = on(t).length,
              u = (function(e, t, n, r, o) {
                if (0 === o) return 0;
                if (t === r) return o - 1;
                for (var i = r, a = 1; a < o; a++) {
                  var u = e(a),
                    s = Math.abs(t - u.left);
                  if (n <= u.bottom) {
                    if (n < u.top || s > i) return a - 1;
                    i = s;
                  }
                }
                return 0;
              })(
                function(e) {
                  return i(e).getBoundingClientRect();
                },
                n,
                r,
                o.right,
                a
              );
            return i(u);
          },
          ys = function(e, t, n, r) {
            return ie(t)
              ? (function(e, t, n, r) {
                  var o = e.dom().createRange();
                  o.selectNode(t.dom());
                  var i = o.getClientRects();
                  return uo(i, function(e) {
                    return vs(e, n, r) ? m.some(e) : m.none();
                  }).map(function(o) {
                    return bs(e, t, n, r, o);
                  });
                })(e, t, n, r)
              : (function(e, t, n, r) {
                  var o = e.dom().createRange(),
                    i = st(t);
                  return uo(i, function(t) {
                    return (
                      o.selectNode(t.dom()),
                      vs(o.getBoundingClientRect(), n, r)
                        ? ys(e, t, n, r)
                        : m.none()
                    );
                  });
                })(e, t, n, r);
          },
          ws = function(e, t) {
            return t - e.left < e.right - t;
          },
          xs = function(e, t, n) {
            var r = e.dom().createRange();
            return r.selectNode(t.dom()), r.collapse(n), r;
          },
          Cs = function(e, t, n) {
            var r = e.dom().createRange();
            r.selectNode(t.dom());
            var o = r.getBoundingClientRect(),
              i = ws(o, n);
            return (!0 === i ? fn : dn)(t).map(function(t) {
              return xs(e, t, i);
            });
          },
          Ss = function(e, t, n) {
            var r = t.dom().getBoundingClientRect(),
              o = ws(r, n);
            return m.some(xs(e, t, o));
          },
          Es = function(e, t, n, r) {
            var o = e.dom().createRange();
            o.selectNode(t.dom());
            var i = o.getBoundingClientRect();
            return (function(e, t, n, r) {
              var o = e.dom().createRange();
              o.selectNode(t.dom());
              var i = o.getBoundingClientRect(),
                a = Math.max(i.left, Math.min(i.right, n)),
                u = Math.max(i.top, Math.min(i.bottom, r));
              return ys(e, t, a, u);
            })(
              e,
              t,
              Math.max(i.left, Math.min(i.right, n)),
              Math.max(i.top, Math.min(i.bottom, r))
            );
          },
          Ts = document.caretPositionFromPoint
            ? function(e, t, n) {
                return m
                  .from(e.dom().caretPositionFromPoint(t, n))
                  .bind(function(t) {
                    if (null === t.offsetNode) return m.none();
                    var n = e.dom().createRange();
                    return (
                      n.setStart(t.offsetNode, t.offset),
                      n.collapse(),
                      m.some(n)
                    );
                  });
              }
            : document.caretRangeFromPoint
            ? function(e, t, n) {
                return m.from(e.dom().caretRangeFromPoint(t, n));
              }
            : function(e, t, n) {
                return ve.fromPoint(e, t, n).bind(function(r) {
                  var o = function() {
                    return (function(e, t, n) {
                      return (0 === st(t).length ? Ss : Cs)(e, t, n);
                    })(e, r, t);
                  };
                  return 0 === st(r).length ? o() : Es(e, r, t, n).orThunk(o);
                });
              },
          Ns = function(e, t) {
            var n = ee(e);
            return "input" === n
              ? as.after(e)
              : S(["br", "img"], n)
              ? 0 === t
                ? as.before(e)
                : as.after(e)
              : as.on(e, t);
          },
          _s = function(e, t) {
            var n = e.fold(as.before, Ns, as.after),
              r = t.fold(as.before, Ns, as.after);
            return ss.relative(n, r);
          },
          ks = function(e, t, n, r) {
            var o = Ns(e, t),
              i = Ns(n, r);
            return ss.relative(o, i);
          },
          Rs = function(e, t, n, r) {
            var o = (function(e, t, n, r) {
                var o = rt(e)
                  .dom()
                  .createRange();
                return o.setStart(e.dom(), t), o.setEnd(n.dom(), r), o;
              })(e, t, n, r),
              i = et(e, n) && t === r;
            return o.collapsed && !i;
          },
          Ds = function(e, t) {
            m.from(e.getSelection()).each(function(e) {
              e.removeAllRanges(), e.addRange(t);
            });
          },
          Os = function(e, t, n, r, o) {
            var i = fs(e, t, n, r, o);
            Ds(e, i);
          },
          As = function(e, t) {
            return gs(e, t).match({
              ltr: function(t, n, r, o) {
                Os(e, t, n, r, o);
              },
              rtl: function(t, n, r, o) {
                var i = e.getSelection();
                if (i.setBaseAndExtent)
                  i.setBaseAndExtent(t.dom(), n, r.dom(), o);
                else if (i.extend)
                  try {
                    !(function(e, t, n, r, o, i) {
                      t.collapse(n.dom(), r), t.extend(o.dom(), i);
                    })(0, i, t, n, r, o);
                  } catch (i) {
                    Os(e, r, o, t, n);
                  }
                else Os(e, r, o, t, n);
              }
            });
          },
          Ps = function(e) {
            var t = ss.getWin(e).dom(),
              n = function(e, n, r, o) {
                return fs(t, e, n, r, o);
              },
              r = (function(e) {
                return e.match({
                  domRange: function(e) {
                    var t = ve.fromDom(e.startContainer),
                      n = ve.fromDom(e.endContainer);
                    return ks(t, e.startOffset, n, e.endOffset);
                  },
                  relative: _s,
                  exact: ks
                });
              })(e);
            return gs(t, r).match({ ltr: n, rtl: n });
          },
          Bs = function(e) {
            var t = ve.fromDom(e.anchorNode),
              n = ve.fromDom(e.focusNode);
            return Rs(t, e.anchorOffset, n, e.focusOffset)
              ? m.some(os.create(t, e.anchorOffset, n, e.focusOffset))
              : (function(e) {
                  if (e.rangeCount > 0) {
                    var t = e.getRangeAt(0),
                      n = e.getRangeAt(e.rangeCount - 1);
                    return m.some(
                      os.create(
                        ve.fromDom(t.startContainer),
                        t.startOffset,
                        ve.fromDom(n.endContainer),
                        n.endOffset
                      )
                    );
                  }
                  return m.none();
                })(e);
          },
          Is = function(e, t) {
            var n = (function(e, t) {
              var n = e.document.createRange();
              return cs(n, t), n;
            })(e, t);
            Ds(e, n);
          },
          Ms = function(e) {
            return (function(e) {
              return m
                .from(e.getSelection())
                .filter(function(e) {
                  return e.rangeCount > 0;
                })
                .bind(Bs);
            })(e).map(function(e) {
              return ss.exact(e.start(), e.soffset(), e.finish(), e.foffset());
            });
          },
          Ls = function(e, t) {
            return (function(e) {
              var t = e.getClientRects(),
                n = t.length > 0 ? t[0] : e.getBoundingClientRect();
              return n.width > 0 || n.height > 0 ? m.some(n).map(ds) : m.none();
            })(ps(e, t));
          },
          Fs = function(e, t, n) {
            return (function(e, t, n) {
              var r = ve.fromDom(e.document);
              return Ts(r, t, n).map(function(e) {
                return os.create(
                  ve.fromDom(e.startContainer),
                  e.startOffset,
                  ve.fromDom(e.endContainer),
                  e.endOffset
                );
              });
            })(e, t, n);
          },
          Hs = tinymce.util.Tools.resolve("tinymce.util.VK"),
          zs = function(e, t, n, r) {
            return Vs(e, t, ns(n), r);
          },
          Ws = function(e, t, n, r) {
            return Vs(e, t, rs(n), r);
          },
          Us = function(e, t) {
            var n = ss.exact(t, 0, t, 0);
            return Ps(n);
          },
          js = function(e, t) {
            var n,
              r = Bt(t, "tr");
            return ((n = r),
            0 === n.length ? m.none() : m.some(n[n.length - 1])).bind(function(
              e
            ) {
              return Ht(e, "td,th").map(function(e) {
                return Us(0, e);
              });
            });
          },
          Vs = function(e, t, n, r, o) {
            return n.fold(
              m.none,
              m.none,
              function(e, t) {
                return fn(t).map(function(e) {
                  return Us(0, e);
                });
              },
              function(n) {
                return Kt(n, t).bind(function(t) {
                  var o = vr.noMenu(n);
                  return (
                    e.undoManager.transact(function() {
                      r.insertRowsAfter(t, o);
                    }),
                    js(0, t)
                  );
                });
              }
            );
          },
          qs = ["table", "li", "dl"],
          $s = function(e, t, n, r) {
            if (e.keyCode === Hs.TAB) {
              var o = Na(t),
                i = function(e) {
                  var t = ee(e);
                  return et(e, o) || S(qs, t);
                },
                a = t.selection.getRng();
              if (a.collapsed) {
                var u = ve.fromDom(a.startContainer);
                qt(u, i).each(function(o) {
                  e.preventDefault(),
                    (e.shiftKey ? Ws : zs)(t, i, o, n, r).each(function(e) {
                      t.selection.setRng(e);
                    });
                });
              }
            }
          },
          Ks = { create: z("selection", "kill") },
          Ys = function(e, t, n, r) {
            return { start: o(as.on(e, t)), finish: o(as.on(n, r)) };
          },
          Xs = {
            convertToRange: function(e, t) {
              var n = ps(e, t);
              return os.create(
                ve.fromDom(n.startContainer),
                n.startOffset,
                ve.fromDom(n.endContainer),
                n.endOffset
              );
            },
            makeSitus: Ys
          },
          Gs = function(e, t, n, r, o) {
            return et(n, r)
              ? m.none()
              : er(n, r, t).bind(function(t) {
                  var r = t.boxes().getOr([]);
                  return r.length > 0
                    ? (o(e, r, t.start(), t.finish()),
                      m.some(
                        Ks.create(m.some(Xs.makeSitus(n, 0, n, sn(n))), !0)
                      ))
                    : m.none();
                });
          },
          Js = {
            sync: function(e, t, n, r, o, i, a) {
              return et(n, o) && r === i
                ? m.none()
                : zt(n, "td,th", t).bind(function(n) {
                    return zt(o, "td,th", t).bind(function(r) {
                      return Gs(e, t, n, r, a);
                    });
                  });
            },
            detect: Gs,
            update: function(e, t, n, r, o) {
              return nr(
                r,
                e,
                t,
                o.firstSelectedSelector(),
                o.lastSelectedSelector()
              ).map(function(e) {
                return (
                  o.clear(n),
                  o.selectRange(n, e.boxes(), e.start(), e.finish()),
                  e.boxes()
                );
              });
            }
          },
          Qs = z("item", "mode"),
          Zs = function(e, t, n, r) {
            return (
              void 0 === r && (r = ec),
              e
                .property()
                .parent(t)
                .map(function(e) {
                  return Qs(e, r);
                })
            );
          },
          ec = function(e, t, n, r) {
            return (
              void 0 === r && (r = tc),
              n.sibling(e, t).map(function(e) {
                return Qs(e, r);
              })
            );
          },
          tc = function(e, t, n, r) {
            void 0 === r && (r = tc);
            var o = e.property().children(t);
            return n.first(o).map(function(e) {
              return Qs(e, r);
            });
          },
          nc = [
            { current: Zs, next: ec, fallback: m.none() },
            { current: ec, next: tc, fallback: m.some(Zs) },
            { current: tc, next: tc, fallback: m.some(ec) }
          ],
          rc = function(e, t, n, r, o) {
            return (
              void 0 === o && (o = nc),
              D(o, function(e) {
                return e.current === n;
              }).bind(function(n) {
                return n.current(e, t, r, n.next).orThunk(function() {
                  return n.fallback.bind(function(n) {
                    return rc(e, t, n, r);
                  });
                });
              })
            );
          },
          oc = function() {
            return {
              sibling: function(e, t) {
                return e.query().prevSibling(t);
              },
              first: function(e) {
                return e.length > 0 ? m.some(e[e.length - 1]) : m.none();
              }
            };
          },
          ic = function() {
            return {
              sibling: function(e, t) {
                return e.query().nextSibling(t);
              },
              first: function(e) {
                return e.length > 0 ? m.some(e[0]) : m.none();
              }
            };
          },
          ac = function(e, t, n, r, o, i) {
            return rc(e, t, r, o).bind(function(t) {
              return i(t.item())
                ? m.none()
                : n(t.item())
                ? m.some(t.item())
                : ac(e, t.item(), n, t.mode(), o, i);
            });
          },
          uc = function(e) {
            return function(t) {
              return 0 === e.property().children(t).length;
            };
          },
          sc = function(e, t, n, r) {
            return ac(e, t, n, ec, oc(), r);
          },
          cc = function(e, t, n, r) {
            return ac(e, t, n, ec, ic(), r);
          },
          lc = Hn(),
          fc = function(e, t) {
            return (function(e, t, n) {
              return sc(e, t, uc(e), n);
            })(lc, e, t);
          },
          dc = function(e, t) {
            return (function(e, t, n) {
              return cc(e, t, uc(e), n);
            })(lc, e, t);
          },
          mc = z("element", "offset"),
          hc =
            (z("element", "deltaOffset"),
            z("element", "start", "finish"),
            z("begin", "end"),
            z("element", "text"),
            sr([
              { none: ["message"] },
              { success: [] },
              { failedUp: ["cell"] },
              { failedDown: ["cell"] }
            ])),
          gc = function(e) {
            return zt(e, "tr");
          },
          pc = io(io({}, hc), {
            verify: function(e, t, n, r, o, i, a) {
              return zt(r, "td,th", a)
                .bind(function(n) {
                  return zt(t, "td,th", a).map(function(t) {
                    return et(n, t)
                      ? et(r, n) && sn(n) === o
                        ? i(t)
                        : hc.none("in same cell")
                      : Xn(gc, [n, t]).fold(
                          function() {
                            return (function(e, t, n) {
                              var r = e.getRect(t),
                                o = e.getRect(n);
                              return o.right > r.left && o.left < r.right;
                            })(e, t, n)
                              ? hc.success()
                              : i(t);
                          },
                          function(e) {
                            return i(t);
                          }
                        );
                  });
                })
                .getOr(hc.none("default"));
            },
            cata: function(e, t, n, r, o) {
              return e.fold(t, n, r, o);
            }
          }),
          vc =
            (z("ancestor", "descendants", "element", "index"),
            z("parent", "children", "element", "index")),
          bc = function(e, t) {
            return O(e, a(et, t));
          },
          yc = function(e) {
            return "br" === ee(e);
          },
          wc = function(e, t, n) {
            return t(e, n).bind(function(e) {
              return ie(e) && 0 === on(e).trim().length
                ? wc(e, t, n)
                : m.some(e);
            });
          },
          xc = function(e, t, n, r) {
            return (function(e, t) {
              return ct(e, t)
                .filter(yc)
                .orThunk(function() {
                  return ct(e, t - 1).filter(yc);
                });
            })(t, n).bind(function(t) {
              return r.traverse(t).fold(
                function() {
                  return wc(t, r.gather, e).map(r.relative);
                },
                function(e) {
                  return (function(e) {
                    return ot(e).bind(function(t) {
                      var n = st(t);
                      return bc(n, e).map(function(r) {
                        return vc(t, n, e, r);
                      });
                    });
                  })(e).map(function(e) {
                    return as.on(e.parent(), e.index());
                  });
                }
              );
            });
          },
          Cc = function(e, t, n, r) {
            return (yc(t)
              ? (function(e, t, n) {
                  return n
                    .traverse(t)
                    .orThunk(function() {
                      return wc(t, n.gather, e);
                    })
                    .map(n.relative);
                })(e, t, r)
              : xc(e, t, n, r)
            ).map(function(e) {
              return { start: o(e), finish: o(e) };
            });
          },
          Sc = function(e) {
            return pc.cata(
              e,
              function(e) {
                return m.none();
              },
              function() {
                return m.none();
              },
              function(e) {
                return m.some(mc(e, 0));
              },
              function(e) {
                return m.some(mc(e, sn(e)));
              }
            );
          },
          Ec = $(["left", "top", "right", "bottom"], []),
          Tc = {
            nu: Ec,
            moveUp: function(e, t) {
              return Ec({
                left: e.left(),
                top: e.top() - t,
                right: e.right(),
                bottom: e.bottom() - t
              });
            },
            moveDown: function(e, t) {
              return Ec({
                left: e.left(),
                top: e.top() + t,
                right: e.right(),
                bottom: e.bottom() + t
              });
            },
            moveBottomTo: function(e, t) {
              var n = e.bottom() - e.top();
              return Ec({
                left: e.left(),
                top: t - n,
                right: e.right(),
                bottom: t
              });
            },
            moveTopTo: function(e, t) {
              var n = e.bottom() - e.top();
              return Ec({
                left: e.left(),
                top: t,
                right: e.right(),
                bottom: t + n
              });
            },
            getTop: function(e) {
              return e.top();
            },
            getBottom: function(e) {
              return e.bottom();
            },
            translate: function(e, t, n) {
              return Ec({
                left: e.left() + t,
                top: e.top() + n,
                right: e.right() + t,
                bottom: e.bottom() + n
              });
            },
            toString: function(e) {
              return (
                "(" +
                e.left() +
                ", " +
                e.top() +
                ") -> (" +
                e.right() +
                ", " +
                e.bottom() +
                ")"
              );
            }
          },
          Nc = function(e) {
            return Tc.nu({
              left: e.left,
              top: e.top,
              right: e.right,
              bottom: e.bottom
            });
          },
          _c = function(e, t) {
            return m.some(e.getRect(t));
          },
          kc = function(e, t, n) {
            return oe(t)
              ? _c(e, t).map(Nc)
              : ie(t)
              ? (function(e, t, n) {
                  return n >= 0 && n < sn(t)
                    ? e.getRangedRect(t, n, t, n + 1)
                    : n > 0
                    ? e.getRangedRect(t, n - 1, t, n)
                    : m.none();
                })(e, t, n).map(Nc)
              : m.none();
          },
          Rc = function(e, t) {
            return oe(t)
              ? _c(e, t).map(Nc)
              : ie(t)
              ? e.getRangedRect(t, 0, t, sn(t)).map(Nc)
              : m.none();
          },
          Dc = sr([{ none: [] }, { retry: ["caret"] }]),
          Oc = function(e, t, n) {
            return ((r = t),
            (i = da),
            It(
              function(e, t) {
                return t(e);
              },
              Mt,
              r,
              i,
              a
            )).fold(o(!1), function(t) {
              return Rc(e, t).exists(function(e) {
                return (function(e, t) {
                  return (
                    e.left() < t.left() ||
                    Math.abs(t.right() - e.left()) < 1 ||
                    e.left() > t.right()
                  );
                })(n, e);
              });
            });
            var r, i, a;
          },
          Ac = {
            point: Tc.getTop,
            adjuster: function(e, t, n, r, o) {
              var i = Tc.moveUp(o, 5);
              return Math.abs(n.top() - r.top()) < 1 || n.bottom() < o.top()
                ? Dc.retry(i)
                : n.bottom() === o.top()
                ? Dc.retry(Tc.moveUp(o, 1))
                : Oc(e, t, o)
                ? Dc.retry(Tc.translate(i, 5, 0))
                : Dc.none();
            },
            move: Tc.moveUp,
            gather: fc
          },
          Pc = {
            point: Tc.getBottom,
            adjuster: function(e, t, n, r, o) {
              var i = Tc.moveDown(o, 5);
              return Math.abs(n.bottom() - r.bottom()) < 1 ||
                n.top() > o.bottom()
                ? Dc.retry(i)
                : n.top() === o.bottom()
                ? Dc.retry(Tc.moveDown(o, 1))
                : Oc(e, t, o)
                ? Dc.retry(Tc.translate(i, 5, 0))
                : Dc.none();
            },
            move: Tc.moveDown,
            gather: dc
          },
          Bc = function(e, t, n, r, o) {
            return 0 === o
              ? m.some(r)
              : (function(e, t, n) {
                  return e
                    .elementFromPoint(t, n)
                    .filter(function(e) {
                      return "table" === ee(e);
                    })
                    .isSome();
                })(e, r.left(), t.point(r))
              ? (function(e, t, n, r, o) {
                  return Bc(e, t, n, t.move(r, 5), o);
                })(e, t, n, r, o - 1)
              : e.situsFromPoint(r.left(), t.point(r)).bind(function(i) {
                  return i.start().fold(
                    m.none,
                    function(i) {
                      return Rc(e, i)
                        .bind(function(a) {
                          return t
                            .adjuster(e, i, a, n, r)
                            .fold(m.none, function(r) {
                              return Bc(e, t, n, r, o - 1);
                            });
                        })
                        .orThunk(function() {
                          return m.some(r);
                        });
                    },
                    m.none
                  );
                });
          },
          Ic = function(e, t, n) {
            var r = e.move(n, 5),
              o = Bc(t, e, n, r, 100).getOr(r);
            return (function(e, t, n) {
              return e.point(t) > n.getInnerHeight()
                ? m.some(e.point(t) - n.getInnerHeight())
                : e.point(t) < 0
                ? m.some(-e.point(t))
                : m.none();
            })(e, o, t).fold(
              function() {
                return t.situsFromPoint(o.left(), e.point(o));
              },
              function(n) {
                return (
                  t.scrollBy(0, n), t.situsFromPoint(o.left(), e.point(o) - n)
                );
              }
            );
          },
          Mc = {
            tryUp: a(Ic, Ac),
            tryDown: a(Ic, Pc),
            ieTryUp: function(e, t) {
              return e.situsFromPoint(t.left(), t.top() - 5);
            },
            ieTryDown: function(e, t) {
              return e.situsFromPoint(t.left(), t.bottom() + 5);
            },
            getJumpSize: o(5)
          },
          Lc = Xe.detect(),
          Fc = function(e, t, n, r, o, i) {
            return 0 === i
              ? m.none()
              : Wc(e, t, n, r, o).bind(function(a) {
                  var u = e.fromSitus(a),
                    s = pc.verify(
                      e,
                      n,
                      r,
                      u.finish(),
                      u.foffset(),
                      o.failure,
                      t
                    );
                  return pc.cata(
                    s,
                    function() {
                      return m.none();
                    },
                    function() {
                      return m.some(a);
                    },
                    function(a) {
                      return et(n, a) && 0 === r
                        ? Hc(e, n, r, Tc.moveUp, o)
                        : Fc(e, t, a, 0, o, i - 1);
                    },
                    function(a) {
                      return et(n, a) && r === sn(a)
                        ? Hc(e, n, r, Tc.moveDown, o)
                        : Fc(e, t, a, sn(a), o, i - 1);
                    }
                  );
                });
          },
          Hc = function(e, t, n, r, o) {
            return kc(e, t, n).bind(function(t) {
              return zc(e, o, r(t, Mc.getJumpSize()));
            });
          },
          zc = function(e, t, n) {
            return Lc.browser.isChrome() ||
              Lc.browser.isSafari() ||
              Lc.browser.isFirefox() ||
              Lc.browser.isEdge()
              ? t.otherRetry(e, n)
              : Lc.browser.isIE()
              ? t.ieRetry(e, n)
              : m.none();
          },
          Wc = function(e, t, n, r, o) {
            return kc(e, n, r).bind(function(t) {
              return zc(e, o, t);
            });
          },
          Uc = function(e, t, n) {
            return (function(e, t, n) {
              return e.getSelection().bind(function(r) {
                return Cc(t, r.finish(), r.foffset(), n).fold(
                  function() {
                    return m.some(mc(r.finish(), r.foffset()));
                  },
                  function(o) {
                    var i = e.fromSitus(o),
                      a = pc.verify(
                        e,
                        r.finish(),
                        r.foffset(),
                        i.finish(),
                        i.foffset(),
                        n.failure,
                        t
                      );
                    return Sc(a);
                  }
                );
              });
            })(e, t, n).bind(function(r) {
              return Fc(e, t, r.element(), r.offset(), n, 20).map(e.fromSitus);
            });
          },
          jc = Xe.detect(),
          Vc = function(e, t) {
            return Mt(
              e,
              function(e) {
                return ot(e).exists(function(e) {
                  return et(e, t);
                });
              },
              n
            ).isSome();
            var n;
          },
          qc = function(e, t, n, r, i) {
            return zt(r, "td,th", t).bind(function(r) {
              return zt(r, "table", t).bind(function(a) {
                return Vc(i, a)
                  ? Uc(e, t, n).bind(function(e) {
                      return zt(e.finish(), "td,th", t).map(function(t) {
                        return { start: o(r), finish: o(t), range: o(e) };
                      });
                    })
                  : m.none();
              });
            });
          },
          $c = function(e, t, n, r, o, i) {
            return jc.browser.isIE()
              ? m.none()
              : i(r, t).orThunk(function() {
                  return qc(e, t, n, r, o).map(function(e) {
                    var t = e.range();
                    return Ks.create(
                      m.some(
                        Xs.makeSitus(
                          t.start(),
                          t.soffset(),
                          t.finish(),
                          t.foffset()
                        )
                      ),
                      !0
                    );
                  });
                });
          },
          Kc = function(e, t, n, r, o, i, a) {
            return qc(e, n, r, o, i).bind(function(e) {
              return Js.detect(t, n, e.start(), e.finish(), a);
            });
          },
          Yc = function(e, t) {
            return zt(e, "tr", t).bind(function(e) {
              return zt(e, "table", t).bind(function(n) {
                var r = Bt(n, "tr");
                return et(e, r[0])
                  ? (function(e, t, n) {
                      return sc(lc, e, t, n);
                    })(
                      n,
                      function(e) {
                        return dn(e).isSome();
                      },
                      t
                    ).map(function(e) {
                      var t = sn(e);
                      return Ks.create(m.some(Xs.makeSitus(e, t, e, t)), !0);
                    })
                  : m.none();
              });
            });
          },
          Xc = function(e, t) {
            return zt(e, "tr", t).bind(function(e) {
              return zt(e, "table", t).bind(function(n) {
                var r = Bt(n, "tr");
                return et(e, r[r.length - 1])
                  ? (function(e, t, n) {
                      return cc(lc, e, t, n);
                    })(
                      n,
                      function(e) {
                        return fn(e).isSome();
                      },
                      t
                    ).map(function(e) {
                      return Ks.create(m.some(Xs.makeSitus(e, 0, e, 0)), !0);
                    })
                  : m.none();
              });
            });
          },
          Gc = function(e, t) {
            return zt(e, "td,th", t);
          },
          Jc = {
            down: {
              traverse: ut,
              gather: dc,
              relative: as.before,
              otherRetry: Mc.tryDown,
              ieRetry: Mc.ieTryDown,
              failure: pc.failedDown
            },
            up: {
              traverse: at,
              gather: fc,
              relative: as.before,
              otherRetry: Mc.tryUp,
              ieRetry: Mc.ieTryUp,
              failure: pc.failedUp
            }
          },
          Qc = function(e) {
            return function(t) {
              return t === e;
            };
          },
          Zc = Qc(38),
          el = Qc(40),
          tl = {
            ltr: { isBackward: Qc(37), isForward: Qc(39) },
            rtl: { isBackward: Qc(39), isForward: Qc(37) },
            isUp: Zc,
            isDown: el,
            isNavigation: function(e) {
              return e >= 37 && e <= 40;
            }
          },
          nl = function(e) {
            return {
              left: e.left(),
              top: e.top(),
              right: e.right(),
              bottom: e.bottom(),
              width: e.width(),
              height: e.height()
            };
          },
          rl =
            (Xe.detect().browser.isSafari(),
            function(t) {
              return {
                elementFromPoint: function(e, n) {
                  return ve.fromPoint(ve.fromDom(t.document), e, n);
                },
                getRect: function(e) {
                  return e.dom().getBoundingClientRect();
                },
                getRangedRect: function(e, n, r, o) {
                  var i = ss.exact(e, n, r, o);
                  return Ls(t, i).map(nl);
                },
                getSelection: function() {
                  return Ms(t).map(function(e) {
                    return Xs.convertToRange(t, e);
                  });
                },
                fromSitus: function(e) {
                  var n = ss.relative(e.start(), e.finish());
                  return Xs.convertToRange(t, n);
                },
                situsFromPoint: function(e, n) {
                  return Fs(t, e, n).map(function(e) {
                    return Ys(e.start(), e.soffset(), e.finish(), e.foffset());
                  });
                },
                clearSelection: function() {
                  !(function(e) {
                    e.getSelection().removeAllRanges();
                  })(t);
                },
                setSelection: function(e) {
                  !(function(e, t, n, r, o) {
                    var i = ks(t, n, r, o);
                    As(e, i);
                  })(t, e.start(), e.soffset(), e.finish(), e.foffset());
                },
                setRelativeSelection: function(e, n) {
                  !(function(e, t, n) {
                    var r = _s(t, n);
                    As(e, r);
                  })(t, e, n);
                },
                selectContents: function(e) {
                  Is(t, e);
                },
                getInnerHeight: function() {
                  return t.innerHeight;
                },
                getScrollY: function() {
                  var n, r, o, i;
                  return ((n = ve.fromDom(t.document)),
                  (r = void 0 !== n ? n.dom() : e.document),
                  (o = r.body.scrollLeft || r.documentElement.scrollLeft),
                  (i = r.body.scrollTop || r.documentElement.scrollTop),
                  Wr(o, i)).top();
                },
                scrollBy: function(n, r) {
                  !(function(t, n, r) {
                    (void 0 !== r ? r.dom() : e.document).defaultView.scrollBy(
                      t,
                      n
                    );
                  })(n, r, ve.fromDom(t.document));
                }
              };
            }),
          ol = z("rows", "cols"),
          il = function(e, t, n, r) {
            var o = (function(e, t, n, r) {
              var o = m.none(),
                i = function() {
                  o = m.none();
                };
              return {
                mousedown: function(e) {
                  r.clear(t), (o = Gc(e.target(), n));
                },
                mouseover: function(i) {
                  o.each(function(o) {
                    r.clear(t),
                      Gc(i.target(), n).each(function(i) {
                        er(o, i, n).each(function(n) {
                          var a = n.boxes().getOr([]);
                          (a.length > 1 || (1 === a.length && !et(o, i))) &&
                            (r.selectRange(t, a, n.start(), n.finish()),
                            e.selectContents(i));
                        });
                      });
                  });
                },
                mouseup: function(e) {
                  o.each(i);
                }
              };
            })(rl(e), t, n, r);
            return {
              mousedown: o.mousedown,
              mouseover: o.mouseover,
              mouseup: o.mouseup
            };
          },
          al = function(e, t, n, r) {
            var o = rl(e),
              i = function() {
                return r.clear(t), m.none();
              };
            return {
              keydown: function(e, u, s, c, l, f) {
                var d = e.raw(),
                  h = d.which,
                  g = !0 === d.shiftKey;
                return tr(t, r.selectedSelector()).fold(
                  function() {
                    return tl.isDown(h) && g
                      ? a(Kc, o, t, n, Jc.down, c, u, r.selectRange)
                      : tl.isUp(h) && g
                      ? a(Kc, o, t, n, Jc.up, c, u, r.selectRange)
                      : tl.isDown(h)
                      ? a($c, o, n, Jc.down, c, u, Xc)
                      : tl.isUp(h)
                      ? a($c, o, n, Jc.up, c, u, Yc)
                      : m.none;
                  },
                  function(e) {
                    var n = function(n) {
                      return function() {
                        return uo(n, function(n) {
                          return Js.update(n.rows(), n.cols(), t, e, r);
                        }).fold(
                          function() {
                            return rr(
                              t,
                              r.firstSelectedSelector(),
                              r.lastSelectedSelector()
                            ).map(function(e) {
                              var n =
                                tl.isDown(h) || f.isForward(h)
                                  ? as.after
                                  : as.before;
                              return (
                                o.setRelativeSelection(
                                  as.on(e.first(), 0),
                                  n(e.table())
                                ),
                                r.clear(t),
                                Ks.create(m.none(), !0)
                              );
                            });
                          },
                          function(e) {
                            return m.some(Ks.create(m.none(), !0));
                          }
                        );
                      };
                    };
                    return tl.isDown(h) && g
                      ? n([ol(1, 0)])
                      : tl.isUp(h) && g
                      ? n([ol(-1, 0)])
                      : f.isBackward(h) && g
                      ? n([ol(0, -1), ol(-1, 0)])
                      : f.isForward(h) && g
                      ? n([ol(0, 1), ol(1, 0)])
                      : tl.isNavigation(h) && !1 === g
                      ? i
                      : m.none;
                  }
                )();
              },
              keyup: function(e, o, i, a, u) {
                return tr(t, r.selectedSelector()).fold(function() {
                  var s = e.raw(),
                    c = s.which;
                  return !1 == (!0 === s.shiftKey)
                    ? m.none()
                    : tl.isNavigation(c)
                    ? Js.sync(t, n, o, i, a, u, r.selectRange)
                    : m.none();
                }, m.none);
              }
            };
          },
          ul = function(e) {
            var t = function(t) {
                fe(t, e.selected()),
                  fe(t, e.firstSelected()),
                  fe(t, e.lastSelected());
              },
              n = function(t) {
                ue(t, e.selected(), "1");
              },
              r = function(n) {
                var r = Bt(n, e.selectedSelector());
                N(r, t);
              };
            return {
              clear: r,
              selectRange: function(t, o, i, a) {
                r(t),
                  N(o, n),
                  ue(i, e.firstSelected(), "1"),
                  ue(a, e.lastSelected(), "1");
              },
              selectedSelector: e.selectedSelector,
              firstSelectedSelector: e.firstSelectedSelector,
              lastSelectedSelector: e.lastSelectedSelector
            };
          },
          sl = function(e) {
            return !1 === po(ve.fromDom(e.target), "ephox-snooker-resizer-bar");
          };
        function cl(e, t) {
          var i = $(
              ["mousedown", "mouseover", "mouseup", "keyup", "keydown"],
              []
            ),
            a = m.none(),
            u = ul(ur);
          return (
            e.on("init", function(s) {
              var c = e.getWin(),
                l = Na(e),
                f = Ra(e),
                d = il(c, l, f, u),
                h = al(c, l, f, u),
                g = function(t, n) {
                  (function(e) {
                    return !0 === e.raw().shiftKey;
                  })(t) &&
                    (n.kill() && t.kill(),
                    n.selection().each(function(t) {
                      var n = ss.relative(t.start(), t.finish()),
                        r = ps(c, n);
                      e.selection.setRng(r);
                    }));
                },
                p = function(t) {
                  var n = y(t);
                  if (n.raw().shiftKey && tl.isNavigation(n.raw().which)) {
                    var r = e.selection.getRng(),
                      o = ve.fromDom(r.startContainer),
                      i = ve.fromDom(r.endContainer);
                    h.keyup(n, o, r.startOffset, i, r.endOffset).each(function(
                      e
                    ) {
                      g(n, e);
                    });
                  }
                },
                v = function(n) {
                  var r = y(n);
                  t().each(function(e) {
                    e.hideBars();
                  });
                  var o = e.selection.getRng(),
                    i = ve.fromDom(e.selection.getStart()),
                    a = ve.fromDom(o.startContainer),
                    u = ve.fromDom(o.endContainer),
                    s = Ba(i).isRtl() ? tl.rtl : tl.ltr;
                  h
                    .keydown(r, a, o.startOffset, u, o.endOffset, s)
                    .each(function(e) {
                      g(r, e);
                    }),
                    t().each(function(e) {
                      e.showBars();
                    });
                },
                b = function(e) {
                  return e.hasOwnProperty("x") && e.hasOwnProperty("y");
                },
                y = function(e) {
                  var t = ve.fromDom(e.target),
                    n = function() {
                      e.stopPropagation();
                    },
                    i = function() {
                      e.preventDefault();
                    },
                    a = r(i, n);
                  return {
                    target: o(t),
                    x: o(b(e) ? e.x : null),
                    y: o(b(e) ? e.y : null),
                    stop: n,
                    prevent: i,
                    kill: a,
                    raw: o(e)
                  };
                },
                w = function(e) {
                  return 0 === e.button;
                },
                x = function(e) {
                  w(e) && sl(e) && d.mousedown(y(e));
                },
                C = function(e) {
                  var t;
                  (void 0 === (t = e).buttons ||
                    (hu.ie && hu.ie >= 12 && 0 === t.buttons) ||
                    0 != (1 & t.buttons)) &&
                    sl(e) &&
                    d.mouseover(y(e));
                },
                S = function(e) {
                  w(e) && sl(e) && d.mouseup(y(e));
                };
              e.on("mousedown", x),
                e.on("mouseover", C),
                e.on("mouseup", S),
                e.on("keyup", p),
                e.on("keydown", v),
                e.on("nodechange", function() {
                  var t = e.selection,
                    r = ve.fromDom(t.getStart()),
                    o = ve.fromDom(t.getEnd());
                  Xn(Kt, [r, o]).fold(function() {
                    u.clear(l);
                  }, n);
                }),
                (a = m.some(
                  i({
                    mousedown: x,
                    mouseover: C,
                    mouseup: S,
                    keyup: p,
                    keydown: v
                  })
                ));
            }),
            {
              clear: u.clear,
              destroy: function() {
                a.each(function(e) {});
              }
            }
          );
        }
        var ll = tu.each,
          fl = function(e) {
            var t = [];
            function n(t) {
              return function() {
                e.execCommand(t);
              };
            }
            ll(
              "inserttable tableprops deletetable | cell row column".split(" "),
              function(n) {
                "|" === n ? t.push({ text: "-" }) : t.push(e.menuItems[n]);
              }
            ),
              e.addButton("table", {
                type: "menubutton",
                title: "Table",
                menu: t
              }),
              e.addButton("tableprops", {
                title: "Table properties",
                onclick: n("mceTableProps"),
                icon: "table"
              }),
              e.addButton("tabledelete", {
                title: "Delete table",
                onclick: n("mceTableDelete")
              }),
              e.addButton("tablecellprops", {
                title: "Cell properties",
                onclick: n("mceTableCellProps")
              }),
              e.addButton("tablemergecells", {
                title: "Merge cells",
                onclick: n("mceTableMergeCells")
              }),
              e.addButton("tablesplitcells", {
                title: "Split cell",
                onclick: n("mceTableSplitCells")
              }),
              e.addButton("tableinsertrowbefore", {
                title: "Insert row before",
                onclick: n("mceTableInsertRowBefore")
              }),
              e.addButton("tableinsertrowafter", {
                title: "Insert row after",
                onclick: n("mceTableInsertRowAfter")
              }),
              e.addButton("tabledeleterow", {
                title: "Delete row",
                onclick: n("mceTableDeleteRow")
              }),
              e.addButton("tablerowprops", {
                title: "Row properties",
                onclick: n("mceTableRowProps")
              }),
              e.addButton("tablecutrow", {
                title: "Cut row",
                onclick: n("mceTableCutRow")
              }),
              e.addButton("tablecopyrow", {
                title: "Copy row",
                onclick: n("mceTableCopyRow")
              }),
              e.addButton("tablepasterowbefore", {
                title: "Paste row before",
                onclick: n("mceTablePasteRowBefore")
              }),
              e.addButton("tablepasterowafter", {
                title: "Paste row after",
                onclick: n("mceTablePasteRowAfter")
              }),
              e.addButton("tableinsertcolbefore", {
                title: "Insert column before",
                onclick: n("mceTableInsertColBefore")
              }),
              e.addButton("tableinsertcolafter", {
                title: "Insert column after",
                onclick: n("mceTableInsertColAfter")
              }),
              e.addButton("tabledeletecol", {
                title: "Delete column",
                onclick: n("mceTableDeleteCol")
              });
          },
          dl = function(e) {
            var t = (function(e) {
              var t = e.getParam("table_toolbar", Ia);
              return "" === t || !1 === t
                ? []
                : g(t)
                ? t.split(/[ ,]/)
                : p(t)
                ? t
                : [];
            })(e);
            t.length > 0 &&
              e.addContextToolbar(function(t) {
                return e.dom.is(t, "table") && e.getBody().contains(t);
              }, t.join(" "));
          },
          ml = function(e, t) {
            var n = m.none(),
              r = [],
              o = [],
              i = [],
              a = [],
              u = function(e) {
                e.disabled(!0);
              },
              s = function(e) {
                e.disabled(!1);
              },
              c = function() {
                var e = this;
                r.push(e),
                  n.fold(
                    function() {
                      u(e);
                    },
                    function(t) {
                      s(e);
                    }
                  );
              },
              l = function() {
                var e = this;
                o.push(e),
                  n.fold(
                    function() {
                      u(e);
                    },
                    function(t) {
                      s(e);
                    }
                  );
              };
            e.on("init", function() {
              e.on("nodechange", function(c) {
                var l = m.from(
                  e.dom.getParent(e.selection.getStart(), "th,td")
                );
                (n = l.bind(function(e) {
                  var n = ve.fromDom(e);
                  return Kt(n).map(function(e) {
                    return vr.forMenu(t, e, n);
                  });
                })).fold(
                  function() {
                    N(r, u), N(o, u), N(i, u), N(a, u);
                  },
                  function(e) {
                    N(r, s),
                      N(o, s),
                      N(i, function(t) {
                        t.disabled(e.mergable().isNone());
                      }),
                      N(a, function(t) {
                        t.disabled(e.unmergable().isNone());
                      });
                  }
                );
              });
            });
            var f = function(e, t, n, r) {
                var o,
                  i,
                  a,
                  u,
                  s,
                  c = r.getEl().getElementsByTagName("table")[0],
                  l = r.isRtl() || "tl-tr" === r.parent().rel;
                for (
                  c.nextSibling.innerHTML = t + 1 + " x " + (n + 1),
                    l && (t = 9 - t),
                    i = 0;
                  i < 10;
                  i++
                )
                  for (o = 0; o < 10; o++)
                    (u = c.rows[i].childNodes[o].firstChild),
                      (s = (l ? o >= t : o <= t) && i <= n),
                      e.dom.toggleClass(u, "mce-active", s),
                      s && (a = u);
                return a.parentNode;
              },
              d =
                !1 ===
                (function(e) {
                  return e.getParam("table_grid", !0, "boolean");
                })(e)
                  ? {
                      text: "Table",
                      icon: "table",
                      context: "table",
                      onclick: h("mceInsertTable")
                    }
                  : {
                      text: "Table",
                      icon: "table",
                      context: "table",
                      ariaHideMenu: !0,
                      onclick: function(t) {
                        t.aria &&
                          (this.parent().hideAll(),
                          t.stopImmediatePropagation(),
                          e.execCommand("mceInsertTable"));
                      },
                      onshow: function() {
                        f(e, 0, 0, this.menu.items()[0]);
                      },
                      onhide: function() {
                        var t = this.menu
                          .items()[0]
                          .getEl()
                          .getElementsByTagName("a");
                        e.dom.removeClass(t, "mce-active"),
                          e.dom.addClass(t[0], "mce-active");
                      },
                      menu: [
                        {
                          type: "container",
                          html: (function() {
                            var e = "";
                            e =
                              '<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';
                            for (var t = 0; t < 10; t++) {
                              e += "<tr>";
                              for (var n = 0; n < 10; n++)
                                e +=
                                  '<td role="gridcell" tabindex="-1"><a id="mcegrid' +
                                  (10 * t + n) +
                                  '" href="#" data-mce-x="' +
                                  n +
                                  '" data-mce-y="' +
                                  t +
                                  '"></a></td>';
                              e += "</tr>";
                            }
                            return (
                              (e += "</table>"),
                              (e +=
                                '<div class="mce-text-center" role="presentation">1 x 1</div>')
                            );
                          })(),
                          onPostRender: function() {
                            this.lastX = this.lastY = 0;
                          },
                          onmousemove: function(t) {
                            var n,
                              r,
                              o = t.target;
                            "A" === o.tagName.toUpperCase() &&
                              ((n = parseInt(o.getAttribute("data-mce-x"), 10)),
                              (r = parseInt(o.getAttribute("data-mce-y"), 10)),
                              (this.isRtl() || "tl-tr" === this.parent().rel) &&
                                (n = 9 - n),
                              (n === this.lastX && r === this.lastY) ||
                                (f(e, n, r, t.control),
                                (this.lastX = n),
                                (this.lastY = r)));
                          },
                          onclick: function(t) {
                            var n = this;
                            "A" === t.target.tagName.toUpperCase() &&
                              (t.preventDefault(),
                              t.stopPropagation(),
                              n.parent().cancel(),
                              e.undoManager.transact(function() {
                                bu(e, n.lastX + 1, n.lastY + 1);
                              }),
                              e.addVisual());
                          }
                        }
                      ]
                    };
            function h(t) {
              return function() {
                e.execCommand(t);
              };
            }
            var g = {
                text: "Table properties",
                context: "table",
                onPostRender: c,
                onclick: h("mceTableProps")
              },
              p = {
                text: "Delete table",
                context: "table",
                onPostRender: c,
                cmd: "mceTableDelete"
              },
              v = {
                text: "Row",
                context: "table",
                menu: [
                  {
                    text: "Insert row before",
                    onclick: h("mceTableInsertRowBefore"),
                    onPostRender: l
                  },
                  {
                    text: "Insert row after",
                    onclick: h("mceTableInsertRowAfter"),
                    onPostRender: l
                  },
                  {
                    text: "Delete row",
                    onclick: h("mceTableDeleteRow"),
                    onPostRender: l
                  },
                  {
                    text: "Row properties",
                    onclick: h("mceTableRowProps"),
                    onPostRender: l
                  },
                  { text: "-" },
                  {
                    text: "Cut row",
                    onclick: h("mceTableCutRow"),
                    onPostRender: l
                  },
                  {
                    text: "Copy row",
                    onclick: h("mceTableCopyRow"),
                    onPostRender: l
                  },
                  {
                    text: "Paste row before",
                    onclick: h("mceTablePasteRowBefore"),
                    onPostRender: l
                  },
                  {
                    text: "Paste row after",
                    onclick: h("mceTablePasteRowAfter"),
                    onPostRender: l
                  }
                ]
              },
              b = {
                text: "Column",
                context: "table",
                menu: [
                  {
                    text: "Insert column before",
                    onclick: h("mceTableInsertColBefore"),
                    onPostRender: l
                  },
                  {
                    text: "Insert column after",
                    onclick: h("mceTableInsertColAfter"),
                    onPostRender: l
                  },
                  {
                    text: "Delete column",
                    onclick: h("mceTableDeleteCol"),
                    onPostRender: l
                  }
                ]
              },
              y = {
                separator: "before",
                text: "Cell",
                context: "table",
                menu: [
                  {
                    text: "Cell properties",
                    onclick: h("mceTableCellProps"),
                    onPostRender: l
                  },
                  {
                    text: "Merge cells",
                    onclick: h("mceTableMergeCells"),
                    onPostRender: function() {
                      var e = this;
                      i.push(e),
                        n.fold(
                          function() {
                            u(e);
                          },
                          function(t) {
                            e.disabled(t.mergable().isNone());
                          }
                        );
                    }
                  },
                  {
                    text: "Split cell",
                    onclick: h("mceTableSplitCells"),
                    onPostRender: function() {
                      var e = this;
                      a.push(e),
                        n.fold(
                          function() {
                            u(e);
                          },
                          function(t) {
                            e.disabled(t.unmergable().isNone());
                          }
                        );
                    }
                  }
                ]
              };
            e.addMenuItem("inserttable", d),
              e.addMenuItem("tableprops", g),
              e.addMenuItem("deletetable", p),
              e.addMenuItem("row", v),
              e.addMenuItem("column", b),
              e.addMenuItem("cell", y);
          },
          hl = function(e, t) {
            return {
              insertTable: function(t, n) {
                return bu(e, t, n);
              },
              setClipboardRows: function(e) {
                return (function(e, t) {
                  var n = T(e, ve.fromDom);
                  t.set(m.from(n));
                })(e, t);
              },
              getClipboardRows: function() {
                return (function(e) {
                  return e.get().fold(
                    function() {},
                    function(e) {
                      return T(e, function(e) {
                        return e.dom();
                      });
                    }
                  );
                })(t);
              }
            };
          };
        t.add("table", function(e) {
          var t = Qu(e),
            n = cl(e, t.lazyResize),
            r = Za(e, t.lazyWire),
            o = (function(e) {
              return {
                get: function() {
                  var t = Na(e);
                  return or(t, ur.selectedSelector()).fold(
                    function() {
                      return void 0 === e.selection.getStart()
                        ? lr.none()
                        : lr.single(e.selection);
                    },
                    function(e) {
                      return lr.multiple(e);
                    }
                  );
                }
              };
            })(e),
            i = Gi(m.none());
          return (
            Eu(e, r, n, o, i),
            br(e, o, r, n),
            ml(e, o),
            fl(e),
            dl(e),
            e.on("PreInit", function() {
              e.serializer.addTempAttr(ur.firstSelected()),
                e.serializer.addTempAttr(ur.lastSelected());
            }),
            (function(e) {
              return e.getParam("table_tab_navigation", !0, "boolean");
            })(e) &&
              e.on("keydown", function(n) {
                $s(n, e, r, t.lazyWire);
              }),
            e.on("remove", function() {
              t.destroy(), n.destroy();
            }),
            hl(e, i)
          );
        });
      })(window);
    },
    1288: function(e, t) {
      !(function(e) {
        "use strict";
        var t,
          n,
          r,
          o,
          i,
          a = tinymce.util.Tools.resolve("tinymce.PluginManager"),
          u = tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),
          s = tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),
          c = tinymce.util.Tools.resolve("tinymce.util.VK"),
          l = tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),
          f = tinymce.util.Tools.resolve("tinymce.util.Tools"),
          d = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
          m = function(e) {
            return e && "BR" === e.nodeName;
          },
          h = function(e) {
            return e && 3 === e.nodeType;
          },
          g = function(e) {
            return e && /^(OL|UL|DL)$/.test(e.nodeName);
          },
          p = function(e) {
            return e && /^(OL|UL)$/.test(e.nodeName);
          },
          v = function(e) {
            return e && /^(DT|DD)$/.test(e.nodeName);
          },
          b = function(e) {
            return e && /^(LI|DT|DD)$/.test(e.nodeName);
          },
          y = function(e) {
            return e && /^(TH|TD)$/.test(e.nodeName);
          },
          w = m,
          x = function(e, t) {
            return t && !!e.schema.getTextBlockElements()[t.nodeName];
          },
          C = function(e, t) {
            return e && e.nodeName in t;
          },
          S = function(e, t) {
            return (
              !!m(t) && !(!e.isBlock(t.nextSibling) || m(t.previousSibling))
            );
          },
          E = function(e, t, n) {
            var r = e.isEmpty(t);
            return (
              !(n && e.select("span[data-mce-type=bookmark]", t).length > 0) &&
              r
            );
          },
          T = function(e, t) {
            return e.isChildOf(t, e.getRoot());
          },
          N = function(e, t) {
            if (h(e)) return { container: e, offset: t };
            var n = u.getNode(e, t);
            return h(n)
              ? {
                  container: n,
                  offset: t >= e.childNodes.length ? n.data.length : 0
                }
              : n.previousSibling && h(n.previousSibling)
              ? {
                  container: n.previousSibling,
                  offset: n.previousSibling.data.length
                }
              : n.nextSibling && h(n.nextSibling)
              ? { container: n.nextSibling, offset: 0 }
              : { container: e, offset: t };
          },
          _ = function(e) {
            var t = e.cloneRange(),
              n = N(e.startContainer, e.startOffset);
            t.setStart(n.container, n.offset);
            var r = N(e.endContainer, e.endOffset);
            return t.setEnd(r.container, r.offset), t;
          },
          k = d.DOM,
          R = function(e) {
            var t = {},
              n = function(n) {
                var r, o, i;
                (o = e[n ? "startContainer" : "endContainer"]),
                  (i = e[n ? "startOffset" : "endOffset"]),
                  1 === o.nodeType &&
                    ((r = k.create("span", { "data-mce-type": "bookmark" })),
                    o.hasChildNodes()
                      ? ((i = Math.min(i, o.childNodes.length - 1)),
                        n
                          ? o.insertBefore(r, o.childNodes[i])
                          : k.insertAfter(r, o.childNodes[i]))
                      : o.appendChild(r),
                    (o = r),
                    (i = 0)),
                  (t[n ? "startContainer" : "endContainer"] = o),
                  (t[n ? "startOffset" : "endOffset"] = i);
              };
            return n(!0), e.collapsed || n(), t;
          },
          D = function(e) {
            function t(t) {
              var n, r, o;
              (n = o = e[t ? "startContainer" : "endContainer"]),
                (r = e[t ? "startOffset" : "endOffset"]),
                n &&
                  (1 === n.nodeType &&
                    ((r = (function(e) {
                      for (var t = e.parentNode.firstChild, n = 0; t; ) {
                        if (t === e) return n;
                        (1 === t.nodeType &&
                          "bookmark" === t.getAttribute("data-mce-type")) ||
                          n++,
                          (t = t.nextSibling);
                      }
                      return -1;
                    })(n)),
                    (n = n.parentNode),
                    k.remove(o),
                    !n.hasChildNodes() &&
                      k.isBlock(n) &&
                      n.appendChild(k.create("br"))),
                  (e[t ? "startContainer" : "endContainer"] = n),
                  (e[t ? "startOffset" : "endOffset"] = r));
            }
            t(!0), t();
            var n = k.createRng();
            return (
              n.setStart(e.startContainer, e.startOffset),
              e.endContainer && n.setEnd(e.endContainer, e.endOffset),
              _(n)
            );
          },
          O = function() {},
          A = function(e) {
            return function() {
              return e;
            };
          },
          P = function(e) {
            return function() {
              for (var t = [], n = 0; n < arguments.length; n++)
                t[n] = arguments[n];
              return !e.apply(null, t);
            };
          },
          B = A(!1),
          I = A(!0),
          M = function() {
            return L;
          },
          L = (function() {
            var e = function(e) {
                return e.isNone();
              },
              t = function(e) {
                return e();
              },
              n = function(e) {
                return e;
              },
              r = {
                fold: function(e, t) {
                  return e();
                },
                is: B,
                isSome: B,
                isNone: I,
                getOr: n,
                getOrThunk: t,
                getOrDie: function(e) {
                  throw new Error(e || "error: getOrDie called on none.");
                },
                getOrNull: A(null),
                getOrUndefined: A(void 0),
                or: n,
                orThunk: t,
                map: M,
                each: O,
                bind: M,
                exists: B,
                forall: I,
                filter: M,
                equals: e,
                equals_: e,
                toArray: function() {
                  return [];
                },
                toString: A("none()")
              };
            return Object.freeze && Object.freeze(r), r;
          })(),
          F = function(e) {
            var t = A(e),
              n = function() {
                return o;
              },
              r = function(t) {
                return t(e);
              },
              o = {
                fold: function(t, n) {
                  return n(e);
                },
                is: function(t) {
                  return e === t;
                },
                isSome: I,
                isNone: B,
                getOr: t,
                getOrThunk: t,
                getOrDie: t,
                getOrNull: t,
                getOrUndefined: t,
                or: n,
                orThunk: n,
                map: function(t) {
                  return F(t(e));
                },
                each: function(t) {
                  t(e);
                },
                bind: r,
                exists: r,
                forall: r,
                filter: function(t) {
                  return t(e) ? o : L;
                },
                toArray: function() {
                  return [e];
                },
                toString: function() {
                  return "some(" + e + ")";
                },
                equals: function(t) {
                  return t.is(e);
                },
                equals_: function(t, n) {
                  return t.fold(B, function(t) {
                    return n(e, t);
                  });
                }
              };
            return o;
          },
          H = {
            some: F,
            none: M,
            from: function(e) {
              return null == e ? L : F(e);
            }
          },
          z = function(e) {
            return function(t) {
              return (
                (function(e) {
                  if (null === e) return "null";
                  var t = typeof e;
                  return "object" === t &&
                    (Array.prototype.isPrototypeOf(e) ||
                      (e.constructor && "Array" === e.constructor.name))
                    ? "array"
                    : "object" === t &&
                      (String.prototype.isPrototypeOf(e) ||
                        (e.constructor && "String" === e.constructor.name))
                    ? "string"
                    : t;
                })(t) === e
              );
            };
          },
          W = z("string"),
          U = z("array"),
          j = z("boolean"),
          V = z("function"),
          q = z("number"),
          $ = Array.prototype.slice,
          K = Array.prototype.push,
          Y = function(e, t) {
            for (var n = e.length, r = new Array(n), o = 0; o < n; o++) {
              var i = e[o];
              r[o] = t(i, o);
            }
            return r;
          },
          X = function(e, t) {
            for (var n = 0, r = e.length; n < r; n++) t(e[n], n);
          },
          G = function(e, t) {
            for (var n = [], r = 0, o = e.length; r < o; r++) {
              var i = e[r];
              t(i, r) && n.push(i);
            }
            return n;
          },
          J = function(e, t, n) {
            return (
              X(e, function(e) {
                n = t(n, e);
              }),
              n
            );
          },
          Q = function(e, t) {
            for (var n = 0, r = e.length; n < r; n++) {
              var o = e[n];
              if (t(o, n)) return H.some(o);
            }
            return H.none();
          },
          Z = function(e, t) {
            return (function(e) {
              for (var t = [], n = 0, r = e.length; n < r; ++n) {
                if (!U(e[n]))
                  throw new Error(
                    "Arr.flatten item " + n + " was not an array, input: " + e
                  );
                K.apply(t, e[n]);
              }
              return t;
            })(Y(e, t));
          },
          ee = function(e) {
            return 0 === e.length ? H.none() : H.some(e[0]);
          },
          te = function(e) {
            return 0 === e.length ? H.none() : H.some(e[e.length - 1]);
          },
          ne =
            (V(Array.from) && Array.from,
            void 0 !== e.window ? e.window : Function("return this;")()),
          re = function(e, t) {
            return (function(e, t) {
              for (
                var n = null != t ? t : ne, r = 0;
                r < e.length && null != n;
                ++r
              )
                n = n[e[r]];
              return n;
            })(e.split("."), t);
          },
          oe = function(e, t) {
            var n = (function(e, t) {
              return re(e, t);
            })(e, t);
            if (null == n)
              throw new Error(e + " not available on this browser");
            return n;
          },
          ie = function(e) {
            return (function(e) {
              return oe("HTMLElement", e);
            })(re("ownerDocument.defaultView", e)).prototype.isPrototypeOf(e);
          },
          ae = tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),
          ue = function(e) {
            var t = e.selection.getStart(!0);
            return e.dom.getParent(t, "OL,UL,DL", ce(e, t));
          },
          se = function(e) {
            var t = e.selection.getSelectedBlocks();
            return f.grep(
              (function(e, t) {
                var n = f.map(t, function(t) {
                  var n = e.dom.getParent(t, "li,dd,dt", ce(e, t));
                  return n || t;
                });
                return ae.unique(n);
              })(e, t),
              function(e) {
                return b(e);
              }
            );
          },
          ce = function(e, t) {
            var n = e.dom.getParents(t, "TD,TH");
            return n.length > 0 ? n[0] : e.getBody();
          },
          le = function(e, t) {
            var n = e.dom.getParents(t, "ol,ul", ce(e, t));
            return te(n);
          },
          fe = function(e, t) {
            var n = Y(t, function(t) {
              return le(e, t).getOr(t);
            });
            return ae.unique(n);
          },
          de = {
            isList: function(e) {
              var t = ue(e);
              return ie(t);
            },
            getParentList: ue,
            getSelectedSubLists: function(e) {
              var t = ue(e),
                n = e.selection.getSelectedBlocks();
              return (function(e, t) {
                return e && 1 === t.length && t[0] === e;
              })(t, n)
                ? (function(e) {
                    return f.grep(e.querySelectorAll("ol,ul,dl"), function(e) {
                      return g(e);
                    });
                  })(t)
                : f.grep(n, function(e) {
                    return g(e) && t !== e;
                  });
            },
            getSelectedListItems: se,
            getClosestListRootElm: ce,
            getSelectedDlItems: function(e) {
              return G(se(e), v);
            },
            getSelectedListRoots: function(e) {
              var t = (function(e) {
                var t = le(e, e.selection.getStart()),
                  n = G(e.selection.getSelectedBlocks(), p);
                return t.toArray().concat(n);
              })(e);
              return fe(e, t);
            }
          },
          me = function(e) {
            if (null == e) throw new Error("Node cannot be null or undefined");
            return { dom: A(e) };
          },
          he = {
            fromHtml: function(t, n) {
              var r = (n || e.document).createElement("div");
              if (
                ((r.innerHTML = t),
                !r.hasChildNodes() || r.childNodes.length > 1)
              )
                throw (e.console.error(
                  "HTML does not have a single root node",
                  t
                ),
                new Error("HTML must have a single root node"));
              return me(r.childNodes[0]);
            },
            fromTag: function(t, n) {
              var r = (n || e.document).createElement(t);
              return me(r);
            },
            fromText: function(t, n) {
              var r = (n || e.document).createTextNode(t);
              return me(r);
            },
            fromDom: me,
            fromPoint: function(e, t, n) {
              var r = e.dom();
              return H.from(r.elementFromPoint(t, n)).map(me);
            }
          },
          ge = function(e, t, n) {
            return e.isSome() && t.isSome()
              ? H.some(n(e.getOrDie(), t.getOrDie()))
              : H.none();
          },
          pe = Object.keys,
          ve = function() {
            return oe("Node");
          },
          be = function(e, t, n) {
            return 0 != (e.compareDocumentPosition(t) & n);
          },
          ye = function(e, t) {
            return be(e, t, ve().DOCUMENT_POSITION_CONTAINED_BY);
          },
          we = function() {
            return xe(0, 0);
          },
          xe = function(e, t) {
            return { major: e, minor: t };
          },
          Ce = {
            nu: xe,
            detect: function(e, t) {
              var n = String(t).toLowerCase();
              return 0 === e.length
                ? we()
                : (function(e, t) {
                    var n = (function(e, t) {
                      for (var n = 0; n < e.length; n++) {
                        var r = e[n];
                        if (r.test(t)) return r;
                      }
                    })(e, t);
                    if (!n) return { major: 0, minor: 0 };
                    var r = function(e) {
                      return Number(t.replace(n, "$" + e));
                    };
                    return xe(r(1), r(2));
                  })(e, n);
            },
            unknown: we
          },
          Se = function(e, t) {
            return function() {
              return t === e;
            };
          },
          Ee = function(e) {
            var t = e.current;
            return {
              current: t,
              version: e.version,
              isEdge: Se("Edge", t),
              isChrome: Se("Chrome", t),
              isIE: Se("IE", t),
              isOpera: Se("Opera", t),
              isFirefox: Se("Firefox", t),
              isSafari: Se("Safari", t)
            };
          },
          Te = {
            unknown: function() {
              return Ee({ current: void 0, version: Ce.unknown() });
            },
            nu: Ee,
            edge: A("Edge"),
            chrome: A("Chrome"),
            ie: A("IE"),
            opera: A("Opera"),
            firefox: A("Firefox"),
            safari: A("Safari")
          },
          Ne = function(e, t) {
            return function() {
              return t === e;
            };
          },
          _e = function(e) {
            var t = e.current;
            return {
              current: t,
              version: e.version,
              isWindows: Ne("Windows", t),
              isiOS: Ne("iOS", t),
              isAndroid: Ne("Android", t),
              isOSX: Ne("OSX", t),
              isLinux: Ne("Linux", t),
              isSolaris: Ne("Solaris", t),
              isFreeBSD: Ne("FreeBSD", t)
            };
          },
          ke = {
            unknown: function() {
              return _e({ current: void 0, version: Ce.unknown() });
            },
            nu: _e,
            windows: A("Windows"),
            ios: A("iOS"),
            android: A("Android"),
            linux: A("Linux"),
            osx: A("OSX"),
            solaris: A("Solaris"),
            freebsd: A("FreeBSD")
          },
          Re = function(e, t) {
            var n = String(t).toLowerCase();
            return Q(e, function(e) {
              return e.search(n);
            });
          },
          De = function(e, t) {
            return Re(e, t).map(function(e) {
              var n = Ce.detect(e.versionRegexes, t);
              return { current: e.name, version: n };
            });
          },
          Oe = function(e, t) {
            return Re(e, t).map(function(e) {
              var n = Ce.detect(e.versionRegexes, t);
              return { current: e.name, version: n };
            });
          },
          Ae = function(e, t) {
            return -1 !== e.indexOf(t);
          },
          Pe = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
          Be = function(e) {
            return function(t) {
              return Ae(t, e);
            };
          },
          Ie = [
            {
              name: "Edge",
              versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
              search: function(e) {
                return (
                  Ae(e, "edge/") &&
                  Ae(e, "chrome") &&
                  Ae(e, "safari") &&
                  Ae(e, "applewebkit")
                );
              }
            },
            {
              name: "Chrome",
              versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, Pe],
              search: function(e) {
                return Ae(e, "chrome") && !Ae(e, "chromeframe");
              }
            },
            {
              name: "IE",
              versionRegexes: [
                /.*?msie\ ?([0-9]+)\.([0-9]+).*/,
                /.*?rv:([0-9]+)\.([0-9]+).*/
              ],
              search: function(e) {
                return Ae(e, "msie") || Ae(e, "trident");
              }
            },
            {
              name: "Opera",
              versionRegexes: [Pe, /.*?opera\/([0-9]+)\.([0-9]+).*/],
              search: Be("opera")
            },
            {
              name: "Firefox",
              versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
              search: Be("firefox")
            },
            {
              name: "Safari",
              versionRegexes: [Pe, /.*?cpu os ([0-9]+)_([0-9]+).*/],
              search: function(e) {
                return (
                  (Ae(e, "safari") || Ae(e, "mobile/")) && Ae(e, "applewebkit")
                );
              }
            }
          ],
          Me = [
            {
              name: "Windows",
              search: Be("win"),
              versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
            },
            {
              name: "iOS",
              search: function(e) {
                return Ae(e, "iphone") || Ae(e, "ipad");
              },
              versionRegexes: [
                /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
                /.*cpu os ([0-9]+)_([0-9]+).*/,
                /.*cpu iphone os ([0-9]+)_([0-9]+).*/
              ]
            },
            {
              name: "Android",
              search: Be("android"),
              versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
            },
            {
              name: "OSX",
              search: Be("os x"),
              versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]
            },
            { name: "Linux", search: Be("linux"), versionRegexes: [] },
            { name: "Solaris", search: Be("sunos"), versionRegexes: [] },
            { name: "FreeBSD", search: Be("freebsd"), versionRegexes: [] }
          ],
          Le = { browsers: A(Ie), oses: A(Me) },
          Fe = function(e) {
            var t = Le.browsers(),
              n = Le.oses(),
              r = De(t, e).fold(Te.unknown, Te.nu),
              o = Oe(n, e).fold(ke.unknown, ke.nu),
              i = (function(e, t, n) {
                var r = e.isiOS() && !0 === /ipad/i.test(n),
                  o = e.isiOS() && !r,
                  i = e.isAndroid() && 3 === e.version.major,
                  a = e.isAndroid() && 4 === e.version.major,
                  u = r || i || (a && !0 === /mobile/i.test(n)),
                  s = e.isiOS() || e.isAndroid(),
                  c = s && !u,
                  l = t.isSafari() && e.isiOS() && !1 === /safari/i.test(n);
                return {
                  isiPad: A(r),
                  isiPhone: A(o),
                  isTablet: A(u),
                  isPhone: A(c),
                  isTouch: A(s),
                  isAndroid: e.isAndroid,
                  isiOS: e.isiOS,
                  isWebView: A(l)
                };
              })(o, r, e);
            return { browser: r, os: o, deviceType: i };
          },
          He = {
            detect:
              ((t = function() {
                var t = e.navigator.userAgent;
                return Fe(t);
              }),
              (r = !1),
              function() {
                for (var e = [], o = 0; o < arguments.length; o++)
                  e[o] = arguments[o];
                return r || ((r = !0), (n = t.apply(null, e))), n;
              })
          },
          ze =
            (e.Node.ATTRIBUTE_NODE,
            e.Node.CDATA_SECTION_NODE,
            e.Node.COMMENT_NODE,
            e.Node.DOCUMENT_NODE,
            e.Node.DOCUMENT_TYPE_NODE,
            e.Node.DOCUMENT_FRAGMENT_NODE,
            e.Node.ELEMENT_NODE),
          We =
            (e.Node.TEXT_NODE,
            e.Node.PROCESSING_INSTRUCTION_NODE,
            e.Node.ENTITY_REFERENCE_NODE,
            e.Node.ENTITY_NODE,
            e.Node.NOTATION_NODE,
            ze),
          Ue = function(e, t) {
            return e.dom() === t.dom();
          },
          je = He.detect().browser.isIE()
            ? function(e, t) {
                return ye(e.dom(), t.dom());
              }
            : function(e, t) {
                var n = e.dom(),
                  r = t.dom();
                return n !== r && n.contains(r);
              },
          Ve = function(e, t) {
            var n = e.dom();
            if (n.nodeType !== We) return !1;
            var r = n;
            if (void 0 !== r.matches) return r.matches(t);
            if (void 0 !== r.msMatchesSelector) return r.msMatchesSelector(t);
            if (void 0 !== r.webkitMatchesSelector)
              return r.webkitMatchesSelector(t);
            if (void 0 !== r.mozMatchesSelector) return r.mozMatchesSelector(t);
            throw new Error("Browser lacks native selectors");
          },
          qe = function(e) {
            return H.from(e.dom().parentNode).map(he.fromDom);
          },
          $e = function(e) {
            return Y(e.dom().childNodes, he.fromDom);
          },
          Ke = function(e, t) {
            var n = e.dom().childNodes;
            return H.from(n[t]).map(he.fromDom);
          },
          Ye = function(e) {
            return Ke(e, 0);
          },
          Xe = function(e) {
            return Ke(e, e.dom().childNodes.length - 1);
          },
          Ge =
            ((function() {
              for (var e = [], t = 0; t < arguments.length; t++)
                e[t] = arguments[t];
            })("element", "offset"),
            function(e, t) {
              qe(e).each(function(n) {
                n.dom().insertBefore(t.dom(), e.dom());
              });
            }),
          Je = function(e, t) {
            e.dom().appendChild(t.dom());
          },
          Qe = function(e, t) {
            X(t, function(t) {
              Je(e, t);
            });
          },
          Ze = function(e) {
            var t = e.dom();
            null !== t.parentNode && t.parentNode.removeChild(t);
          },
          et = function(e) {
            return e.dom().nodeName.toLowerCase();
          },
          tt =
            ((o = ze),
            function(e) {
              return (
                (function(e) {
                  return e.dom().nodeType;
                })(e) === o
              );
            }),
          nt = function(t, n) {
            var r = t.dom();
            !(function(e, t) {
              for (var n = pe(e), r = 0, o = n.length; r < o; r++) {
                var i = n[r];
                t(e[i], i);
              }
            })(n, function(t, n) {
              !(function(t, n, r) {
                if (!(W(r) || j(r) || q(r)))
                  throw (e.console.error(
                    "Invalid call to Attr.set. Key ",
                    n,
                    ":: Value ",
                    r,
                    ":: Element ",
                    t
                  ),
                  new Error("Attribute value was not simple"));
                t.setAttribute(n, r + "");
              })(r, n, t);
            });
          },
          rt = function(e) {
            return J(
              e.dom().attributes,
              function(e, t) {
                return (e[t.name] = t.value), e;
              },
              {}
            );
          },
          ot = function(t, n, r) {
            if (!W(r))
              throw (e.console.error(
                "Invalid call to CSS.set. Property ",
                n,
                ":: Value ",
                r,
                ":: Element ",
                t
              ),
              new Error("CSS value must be a string: " + r));
            (function(e) {
              return void 0 !== e.style && V(e.style.getPropertyValue);
            })(t) && t.style.setProperty(n, r);
          },
          it = function(e) {
            return (function(e, t) {
              return he.fromDom(e.dom().cloneNode(t));
            })(e, !0);
          },
          at = function(e, t) {
            var n = (function(e, t) {
              var n = he.fromTag(t),
                r = rt(e);
              return nt(n, r), n;
            })(e, t);
            Ge(e, n);
            var r = $e(e);
            return Qe(n, r), Ze(e), n;
          },
          ut = function(e, t) {
            Je(e.item, t.list);
          },
          st = function(e, t) {
            var n = { list: he.fromTag(t, e), item: he.fromTag("li", e) };
            return Je(n.list, n.item), n;
          },
          ct = function(e, t, n) {
            var r = t.slice(0, n.depth);
            return (
              te(r).each(function(t) {
                !(function(e, t) {
                  Je(e.list, t), (e.item = t);
                })(
                  t,
                  (function(e, t, n) {
                    var r = he.fromTag("li", e);
                    return nt(r, t), Qe(r, n), r;
                  })(e, n.itemAttributes, n.content)
                ),
                  (function(e, t) {
                    et(e.list) !== t.listType &&
                      (e.list = at(e.list, t.listType)),
                      nt(e.list, t.listAttributes);
                  })(t, n);
              }),
              r
            );
          },
          lt = function(e, t, n) {
            var r,
              o = (function(e, t, n) {
                for (var r = [], o = 0; o < n; o++) r.push(st(e, t.listType));
                return r;
              })(e, n, n.depth - t.length);
            return (
              (function(e) {
                for (var t = 1; t < e.length; t++) ut(e[t - 1], e[t]);
              })(o),
              (function(e, t) {
                for (var n = 0; n < e.length - 1; n++)
                  (r = e[n].item),
                    (o = "list-style-type"),
                    (i = "none"),
                    (a = void 0),
                    (a = r.dom()),
                    ot(a, o, i);
                var r, o, i, a;
                te(e).each(function(e) {
                  nt(e.list, t.listAttributes),
                    nt(e.item, t.itemAttributes),
                    Qe(e.item, t.content);
                });
              })(o, n),
              (r = o),
              ge(te(t), ee(r), ut),
              t.concat(o)
            );
          },
          ft = function(e) {
            return Ve(e, "OL,UL");
          },
          dt = function(e) {
            return Ye(e)
              .map(ft)
              .getOr(!1);
          },
          mt = function(e) {
            return e.depth > 0;
          },
          ht = function(e) {
            return e.isSelected;
          },
          gt = function(e) {
            var t = $e(e),
              n = Xe(e)
                .map(ft)
                .getOr(!1)
                ? t.slice(0, -1)
                : t;
            return Y(n, it);
          },
          pt = Object.prototype.hasOwnProperty,
          vt =
            ((i = function(e, t) {
              return t;
            }),
            function() {
              for (
                var e = new Array(arguments.length), t = 0;
                t < e.length;
                t++
              )
                e[t] = arguments[t];
              if (0 === e.length) throw new Error("Can't merge zero objects");
              for (var n = {}, r = 0; r < e.length; r++) {
                var o = e[r];
                for (var a in o) pt.call(o, a) && (n[a] = i(n[a], o[a]));
              }
              return n;
            }),
          bt = function(e) {
            X(e, function(t, n) {
              (function(e, t) {
                for (var n = e[t].depth, r = t - 1; r >= 0; r--) {
                  if (e[r].depth === n) return H.some(e[r]);
                  if (e[r].depth < n) break;
                }
                return H.none();
              })(e, n).each(function(e) {
                var n, r;
                (r = e),
                  ((n = t).listType = r.listType),
                  (n.listAttributes = vt({}, r.listAttributes));
              });
            });
          },
          yt = function(e) {
            var t = e,
              n = function() {
                return t;
              };
            return {
              get: n,
              set: function(e) {
                t = e;
              },
              clone: function() {
                return yt(n());
              }
            };
          },
          wt = function(e, t, n, r) {
            return Ye(r)
              .filter(ft)
              .fold(
                function() {
                  t.each(function(e) {
                    Ue(e.start, r) && n.set(!0);
                  });
                  var o = (function(e, t, n) {
                    return qe(e)
                      .filter(tt)
                      .map(function(r) {
                        return {
                          depth: t,
                          isSelected: n,
                          content: gt(e),
                          itemAttributes: rt(e),
                          listAttributes: rt(r),
                          listType: et(r)
                        };
                      });
                  })(r, e, n.get());
                  t.each(function(e) {
                    Ue(e.end, r) && n.set(!1);
                  });
                  var i = Xe(r)
                    .filter(ft)
                    .map(function(r) {
                      return xt(e, t, n, r);
                    })
                    .getOr([]);
                  return o.toArray().concat(i);
                },
                function(r) {
                  return xt(e, t, n, r);
                }
              );
          },
          xt = function(e, t, n, r) {
            return Z($e(r), function(r) {
              return (ft(r) ? xt : wt)(e + 1, t, n, r);
            });
          },
          Ct = tinymce.util.Tools.resolve("tinymce.Env"),
          St = function(e, t) {
            var n,
              r,
              o,
              i,
              a = e.dom,
              u = e.schema.getBlockElements(),
              s = a.createFragment();
            if (
              (e.settings.forced_root_block &&
                (o = e.settings.forced_root_block),
              o &&
                ((r = a.create(o)).tagName === e.settings.forced_root_block &&
                  a.setAttribs(r, e.settings.forced_root_block_attrs),
                C(t.firstChild, u) || s.appendChild(r)),
              t)
            )
              for (; (n = t.firstChild); ) {
                var c = n.nodeName;
                i ||
                  ("SPAN" === c &&
                    "bookmark" === n.getAttribute("data-mce-type")) ||
                  (i = !0),
                  C(n, u)
                    ? (s.appendChild(n), (r = null))
                    : o
                    ? (r || ((r = a.create(o)), s.appendChild(r)),
                      r.appendChild(n))
                    : s.appendChild(n);
              }
            return (
              e.settings.forced_root_block
                ? i ||
                  (Ct.ie && !(Ct.ie > 10)) ||
                  r.appendChild(a.create("br", { "data-mce-bogus": "1" }))
                : s.appendChild(a.create("br")),
              s
            );
          },
          Et = function(t, n) {
            return Y(n, function(n) {
              var r,
                o,
                i,
                a =
                  ((r = n.content),
                  (i = (o || e.document).createDocumentFragment()),
                  X(r, function(e) {
                    i.appendChild(e.dom());
                  }),
                  he.fromDom(i));
              return he.fromDom(St(t, a.dom()));
            });
          },
          Tt = function(e, t) {
            return (
              bt(t),
              (function(e, t) {
                var n = J(
                  t,
                  function(t, n) {
                    return n.depth > t.length ? lt(e, t, n) : ct(e, t, n);
                  },
                  []
                );
                return ee(n).map(function(e) {
                  return e.list;
                });
              })(e.contentDocument, t).toArray()
            );
          },
          Nt = function(e) {
            var t = Y(de.getSelectedListItems(e), he.fromDom);
            return ge(
              Q(t, P(dt)),
              Q(
                (function(e) {
                  var t = $.call(e, 0);
                  return t.reverse(), t;
                })(t),
                P(dt)
              ),
              function(e, t) {
                return { start: e, end: t };
              }
            );
          },
          _t = function(e, t, n) {
            var r = (function(e, t) {
              var n = yt(!1);
              return Y(e, function(e) {
                return { sourceList: e, entries: xt(0, t, n, e) };
              });
            })(t, Nt(e));
            X(r, function(t) {
              var r, o;
              !(function(e, t) {
                X(G(e, ht), function(e) {
                  return (function(e, t) {
                    switch (e) {
                      case "Indent":
                        t.depth++;
                        break;
                      case "Outdent":
                        t.depth--;
                        break;
                      case "Flatten":
                        t.depth = 0;
                    }
                  })(t, e);
                });
              })(t.entries, n),
                (r = t.sourceList),
                (o = (function(e, t) {
                  return Z(
                    (function(e, t) {
                      if (0 === e.length) return [];
                      for (
                        var n = t(e[0]), r = [], o = [], i = 0, a = e.length;
                        i < a;
                        i++
                      ) {
                        var u = e[i],
                          s = t(u);
                        s !== n && (r.push(o), (o = [])), (n = s), o.push(u);
                      }
                      return 0 !== o.length && r.push(o), r;
                    })(t, mt),
                    function(t) {
                      return ee(t)
                        .map(mt)
                        .getOr(!1)
                        ? Tt(e, t)
                        : Et(e, t);
                    }
                  );
                })(e, t.entries)),
                X(o, function(e) {
                  Ge(r, e);
                }),
                Ze(t.sourceList);
            });
          },
          kt = d.DOM,
          Rt = function(e, t, n) {
            var r, o, i, a, u, s;
            for (
              i = kt.select('span[data-mce-type="bookmark"]', t),
                u = St(e, n),
                (r = kt.createRng()).setStartAfter(n),
                r.setEndAfter(t),
                a = (o = r.extractContents()).firstChild;
              a;
              a = a.firstChild
            )
              if ("LI" === a.nodeName && e.dom.isEmpty(a)) {
                kt.remove(a);
                break;
              }
            e.dom.isEmpty(o) || kt.insertAfter(o, t),
              kt.insertAfter(u, t),
              E(e.dom, n.parentNode) &&
                ((s = n.parentNode),
                f.each(i, function(e) {
                  s.parentNode.insertBefore(e, n.parentNode);
                }),
                kt.remove(s)),
              kt.remove(n),
              E(e.dom, t) && kt.remove(t);
          },
          Dt = function(e) {
            Ve(e, "dt") && at(e, "dd");
          },
          Ot = function(e, t, n) {
            X(
              n,
              "Indent" === t
                ? Dt
                : function(t) {
                    return (function(e, t) {
                      Ve(t, "dd")
                        ? at(t, "dt")
                        : Ve(t, "dt") &&
                          qe(t).each(function(n) {
                            return Rt(e, n.dom(), t.dom());
                          });
                    })(e, t);
                  }
            );
          },
          At = function(e, t) {
            var n = Y(de.getSelectedListRoots(e), he.fromDom),
              r = Y(de.getSelectedDlItems(e), he.fromDom),
              o = !1;
            if (n.length || r.length) {
              var i = e.selection.getBookmark();
              _t(e, n, t),
                Ot(e, t, r),
                e.selection.moveToBookmark(i),
                e.selection.setRng(_(e.selection.getRng())),
                e.nodeChanged(),
                (o = !0);
            }
            return o;
          },
          Pt = function(e) {
            return At(e, "Indent");
          },
          Bt = function(e) {
            return At(e, "Outdent");
          },
          It = function(e) {
            return At(e, "Flatten");
          },
          Mt = function(e, t) {
            f.each(t, function(t, n) {
              e.setAttribute(n, t);
            });
          },
          Lt = function(e, t, n) {
            !(function(e, t, n) {
              var r = n["list-style-type"] ? n["list-style-type"] : null;
              e.setStyle(t, "list-style-type", r);
            })(e, t, n),
              (function(e, t, n) {
                Mt(t, n["list-attributes"]),
                  f.each(e.select("li", t), function(e) {
                    Mt(e, n["list-item-attributes"]);
                  });
              })(e, t, n);
          },
          Ft = function(e, t, n, r) {
            var o, i;
            for (
              o = t[n ? "startContainer" : "endContainer"],
                i = t[n ? "startOffset" : "endOffset"],
                1 === o.nodeType &&
                  (o = o.childNodes[Math.min(i, o.childNodes.length - 1)] || o),
                !n && w(o.nextSibling) && (o = o.nextSibling);
              o.parentNode !== r;

            ) {
              if (x(e, o)) return o;
              if (/^(TD|TH)$/.test(o.parentNode.nodeName)) return o;
              o = o.parentNode;
            }
            return o;
          },
          Ht = function(e, t, n) {
            void 0 === n && (n = {});
            var r,
              o = e.selection.getRng(!0),
              i = "LI",
              a = de.getClosestListRootElm(e, e.selection.getStart(!0)),
              u = e.dom;
            "false" !== u.getContentEditable(e.selection.getNode()) &&
              ("DL" === (t = t.toUpperCase()) && (i = "DT"),
              (r = R(o)),
              f.each(
                (function(e, t, n) {
                  for (
                    var r,
                      o = [],
                      i = e.dom,
                      a = Ft(e, t, !0, n),
                      u = Ft(e, t, !1, n),
                      s = [],
                      c = a;
                    c && (s.push(c), c !== u);
                    c = c.nextSibling
                  );
                  return (
                    f.each(s, function(t) {
                      if (x(e, t)) return o.push(t), void (r = null);
                      if (i.isBlock(t) || w(t))
                        return w(t) && i.remove(t), void (r = null);
                      var a = t.nextSibling;
                      l.isBookmarkNode(t) &&
                      (x(e, a) || (!a && t.parentNode === n))
                        ? (r = null)
                        : (r ||
                            ((r = i.create("p")),
                            t.parentNode.insertBefore(r, t),
                            o.push(r)),
                          r.appendChild(t));
                    }),
                    o
                  );
                })(e, o, a),
                function(r) {
                  var o, a;
                  (a = r.previousSibling) &&
                  g(a) &&
                  a.nodeName === t &&
                  (function(e, t, n) {
                    var r = e.getStyle(t, "list-style-type"),
                      o = n ? n["list-style-type"] : "";
                    return r === (o = null === o ? "" : o);
                  })(u, a, n)
                    ? ((o = a), (r = u.rename(r, i)), a.appendChild(r))
                    : ((o = u.create(t)),
                      r.parentNode.insertBefore(o, r),
                      o.appendChild(r),
                      (r = u.rename(r, i))),
                    (function(e, t, n) {
                      f.each(n, function(n) {
                        var r;
                        return e.setStyle(t, (((r = {})[n] = ""), r));
                      });
                    })(u, r, [
                      "margin",
                      "margin-right",
                      "margin-bottom",
                      "margin-left",
                      "margin-top",
                      "padding",
                      "padding-right",
                      "padding-bottom",
                      "padding-left",
                      "padding-top"
                    ]),
                    Lt(u, o, n),
                    Wt(e.dom, o);
                }
              ),
              e.selection.setRng(D(r)));
          },
          zt = function(e, t, n) {
            return (
              (function(e, t) {
                return e && t && g(e) && e.nodeName === t.nodeName;
              })(t, n) &&
              (function(e, t, n) {
                return (
                  e.getStyle(t, "list-style-type", !0) ===
                  e.getStyle(n, "list-style-type", !0)
                );
              })(e, t, n) &&
              ((r = n), t.className === r.className)
            );
            var r;
          },
          Wt = function(e, t) {
            var n, r;
            if (((n = t.nextSibling), zt(e, t, n))) {
              for (; (r = n.firstChild); ) t.appendChild(r);
              e.remove(n);
            }
            if (((n = t.previousSibling), zt(e, t, n))) {
              for (; (r = n.lastChild); ) t.insertBefore(r, t.firstChild);
              e.remove(n);
            }
          },
          Ut = function(e, t, n, r, o) {
            if (t.nodeName !== r || jt(o)) {
              var i = R(e.selection.getRng(!0));
              f.each([t].concat(n), function(t) {
                !(function(e, t, n, r) {
                  if (t.nodeName !== n) {
                    var o = e.rename(t, n);
                    Lt(e, o, r);
                  } else Lt(e, t, r);
                })(e.dom, t, r, o);
              }),
                e.selection.setRng(D(i));
            } else It(e);
          },
          jt = function(e) {
            return "list-style-type" in e;
          },
          Vt = {
            toggleList: function(e, t, n) {
              var r = de.getParentList(e),
                o = de.getSelectedSubLists(e);
              (n = n || {}),
                r && o.length > 0
                  ? Ut(e, r, o, t, n)
                  : (function(e, t, n, r) {
                      if (t !== e.getBody())
                        if (t)
                          if (t.nodeName !== n || jt(r)) {
                            var o = R(e.selection.getRng(!0));
                            Lt(e.dom, t, r),
                              Wt(e.dom, e.dom.rename(t, n)),
                              e.selection.setRng(D(o));
                          } else It(e);
                        else Ht(e, n, r);
                    })(e, r, t, n);
            },
            mergeWithAdjacentLists: Wt
          },
          qt = d.DOM,
          $t = function(e, t) {
            var n,
              r = t.parentNode;
            "LI" === r.nodeName &&
              r.firstChild === t &&
              ((n = r.previousSibling) && "LI" === n.nodeName
                ? (n.appendChild(t), E(e, r) && qt.remove(r))
                : qt.setStyle(r, "listStyleType", "none")),
              g(r) &&
                (n = r.previousSibling) &&
                "LI" === n.nodeName &&
                n.appendChild(t);
          },
          Kt = function(e, t) {
            f.each(f.grep(e.select("ol,ul", t)), function(t) {
              $t(e, t);
            });
          },
          Yt = function(e, t, n, r) {
            var o,
              i,
              a = t.startContainer,
              c = t.startOffset;
            if (3 === a.nodeType && (n ? c < a.data.length : c > 0)) return a;
            for (
              o = e.schema.getNonEmptyElements(),
                1 === a.nodeType && (a = u.getNode(a, c)),
                i = new s(a, r),
                n && S(e.dom, a) && i.next();
              (a = i[n ? "next" : "prev2"]());

            ) {
              if ("LI" === a.nodeName && !a.hasChildNodes()) return a;
              if (o[a.nodeName]) return a;
              if (3 === a.nodeType && a.data.length > 0) return a;
            }
          },
          Xt = function(e, t) {
            var n = t.childNodes;
            return 1 === n.length && !g(n[0]) && e.isBlock(n[0]);
          },
          Gt = function(e, t, n) {
            var r, o;
            if (
              ((o = Xt(e, n) ? n.firstChild : n),
              (function(e, t) {
                Xt(e, t) && e.remove(t.firstChild, !0);
              })(e, t),
              !E(e, t, !0))
            )
              for (; (r = t.firstChild); ) o.appendChild(r);
          },
          Jt = function(e, t, n) {
            var r,
              o,
              i = t.parentNode;
            if (T(e, t) && T(e, n)) {
              g(n.lastChild) && (o = n.lastChild),
                i === n.lastChild &&
                  w(i.previousSibling) &&
                  e.remove(i.previousSibling),
                (r = n.lastChild) && w(r) && t.hasChildNodes() && e.remove(r),
                E(e, n, !0) && e.$(n).empty(),
                Gt(e, t, n),
                o && n.appendChild(o);
              var a = je(he.fromDom(n), he.fromDom(t))
                ? e.getParents(t, g, n)
                : [];
              e.remove(t),
                X(a, function(t) {
                  E(e, t) && t !== e.getRoot() && e.remove(t);
                });
            }
          },
          Qt = function(e, t, n, r) {
            var o = e.dom;
            if (o.isEmpty(r))
              !(function(e, t, n) {
                e.dom.$(n).empty(),
                  Jt(e.dom, t, n),
                  e.selection.setCursorLocation(n);
              })(e, n, r);
            else {
              var i = R(t);
              Jt(o, n, r), e.selection.setRng(D(i));
            }
          },
          Zt = function(e, t) {
            var n,
              r,
              o,
              i = e.dom,
              a = e.selection,
              u = a.getStart(),
              s = de.getClosestListRootElm(e, u),
              c = i.getParent(a.getStart(), "LI", s);
            if (c) {
              if ((n = c.parentNode) === e.getBody() && E(i, n)) return !0;
              if (
                ((r = _(a.getRng(!0))),
                (o = i.getParent(Yt(e, r, t, s), "LI", s)) && o !== c)
              )
                return (
                  t
                    ? Qt(e, r, o, c)
                    : (function(e, t, n, r) {
                        var o = R(t);
                        Jt(e.dom, n, r);
                        var i = D(o);
                        e.selection.setRng(i);
                      })(e, r, c, o),
                  !0
                );
              if (!o && !t) return It(e), !0;
            }
            return !1;
          },
          en = function(e, t) {
            return (
              Zt(e, t) ||
              (function(e, t) {
                var n = e.dom,
                  r = e.selection.getStart(),
                  o = de.getClosestListRootElm(e, r),
                  i = n.getParent(r, n.isBlock, o);
                if (i && n.isEmpty(i)) {
                  var a = _(e.selection.getRng(!0)),
                    u = n.getParent(Yt(e, a, t, o), "LI", o);
                  if (u)
                    return (
                      e.undoManager.transact(function() {
                        !(function(e, t, n) {
                          var r = e.getParent(t.parentNode, e.isBlock, n);
                          e.remove(t), r && e.isEmpty(r) && e.remove(r);
                        })(n, i, o),
                          Vt.mergeWithAdjacentLists(n, u.parentNode),
                          e.selection.select(u, !0),
                          e.selection.collapse(t);
                      }),
                      !0
                    );
                }
                return !1;
              })(e, t)
            );
          },
          tn = function(e, t) {
            return e.selection.isCollapsed()
              ? en(e, t)
              : (function(e) {
                  var t = e.selection.getStart(),
                    n = de.getClosestListRootElm(e, t);
                  return (
                    !!(
                      e.dom.getParent(t, "LI,DT,DD", n) ||
                      de.getSelectedListItems(e).length > 0
                    ) &&
                    (e.undoManager.transact(function() {
                      e.execCommand("Delete"), Kt(e.dom, e.getBody());
                    }),
                    !0)
                  );
                })(e);
          },
          nn = function(e) {
            e.on("keydown", function(t) {
              t.keyCode === c.BACKSPACE
                ? tn(e, !1) && t.preventDefault()
                : t.keyCode === c.DELETE && tn(e, !0) && t.preventDefault();
            });
          },
          rn = tn,
          on = function(e) {
            return {
              backspaceDelete: function(t) {
                rn(e, t);
              }
            };
          },
          an = function(e, t) {
            return function() {
              var n = e.dom.getParent(e.selection.getStart(), "UL,OL,DL");
              return n && n.nodeName === t;
            };
          },
          un = function(e) {
            e.on("BeforeExecCommand", function(t) {
              var n = t.command.toLowerCase();
              "indent" === n ? Pt(e) : "outdent" === n && Bt(e);
            }),
              e.addCommand("InsertUnorderedList", function(t, n) {
                Vt.toggleList(e, "UL", n);
              }),
              e.addCommand("InsertOrderedList", function(t, n) {
                Vt.toggleList(e, "OL", n);
              }),
              e.addCommand("InsertDefinitionList", function(t, n) {
                Vt.toggleList(e, "DL", n);
              }),
              e.addCommand("RemoveList", function() {
                It(e);
              }),
              e.addQueryStateHandler("InsertUnorderedList", an(e, "UL")),
              e.addQueryStateHandler("InsertOrderedList", an(e, "OL")),
              e.addQueryStateHandler("InsertDefinitionList", an(e, "DL"));
          },
          sn = function(e) {
            return e.getParam("lists_indent_on_tab", !0);
          },
          cn = function(e) {
            sn(e) &&
              (function(e) {
                e.on("keydown", function(t) {
                  t.keyCode !== c.TAB ||
                    c.metaKeyPressed(t) ||
                    e.undoManager.transact(function() {
                      (t.shiftKey ? Bt(e) : Pt(e)) && t.preventDefault();
                    });
                });
              })(e),
              nn(e);
          },
          ln = function(e, t) {
            return function(n) {
              var r = n.control;
              e.on("NodeChange", function(e) {
                var n = (function(e, t) {
                    for (var n = 0; n < e.length; n++) if (t(e[n])) return n;
                    return -1;
                  })(e.parents, y),
                  o = -1 !== n ? e.parents.slice(0, n) : e.parents,
                  i = f.grep(o, g);
                r.active(i.length > 0 && i[0].nodeName === t);
              });
            };
          },
          fn = function(e) {
            (function(e, t) {
              var n = e.settings.plugins ? e.settings.plugins : "";
              return -1 !== f.inArray(n.split(/[ ,]/), t);
            })(e, "advlist") ||
              (e.addButton("numlist", {
                active: !1,
                title: "Numbered list",
                cmd: "InsertOrderedList",
                onPostRender: ln(e, "OL")
              }),
              e.addButton("bullist", {
                active: !1,
                title: "Bullet list",
                cmd: "InsertUnorderedList",
                onPostRender: ln(e, "UL")
              })),
              e.addButton("indent", {
                icon: "indent",
                title: "Increase indent",
                cmd: "Indent"
              });
          };
        a.add("lists", function(e) {
          return cn(e), fn(e), un(e), on(e);
        });
      })(window);
    },
    1289: function(e, t) {
      !(function() {
        "use strict";
        var e = tinymce.util.Tools.resolve("tinymce.PluginManager"),
          t = tinymce.util.Tools.resolve("tinymce.util.Tools"),
          n = function(e, t, n) {
            var r = "UL" === t ? "InsertUnorderedList" : "InsertOrderedList";
            e.execCommand(r, !1, !1 === n ? null : { "list-style-type": n });
          },
          r = function(e) {
            e.addCommand("ApplyUnorderedListStyle", function(t, r) {
              n(e, "UL", r["list-style-type"]);
            }),
              e.addCommand("ApplyOrderedListStyle", function(t, r) {
                n(e, "OL", r["list-style-type"]);
              });
          },
          o = function(e) {
            var t = e.getParam(
              "advlist_number_styles",
              "default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman"
            );
            return t ? t.split(/[ ,]/) : [];
          },
          i = function(e) {
            var t = e.getParam(
              "advlist_bullet_styles",
              "default,circle,disc,square"
            );
            return t ? t.split(/[ ,]/) : [];
          },
          a = function(e) {
            return e && /^(TH|TD)$/.test(e.nodeName);
          },
          u = function(e) {
            return function(t) {
              return (
                t &&
                /^(OL|UL|DL)$/.test(t.nodeName) &&
                (function(e, t) {
                  return e.$.contains(e.getBody(), t);
                })(e, t)
              );
            };
          },
          s = function(e) {
            var t = e.dom.getParent(e.selection.getNode(), "ol,ul");
            return e.dom.getStyle(t, "listStyleType") || "";
          },
          c = function(e) {
            return t.map(e, function(e) {
              return {
                text: (function(e) {
                  return e.replace(/\-/g, " ").replace(/\b\w/g, function(e) {
                    return e.toUpperCase();
                  });
                })(e),
                data: "default" === e ? "" : e
              };
            });
          },
          l = function(e, n) {
            return function(r) {
              var o = r.control;
              e.on("NodeChange", function(r) {
                var i = (function(e, t) {
                    for (var n = 0; n < e.length; n++) if (t(e[n])) return n;
                    return -1;
                  })(r.parents, a),
                  s = -1 !== i ? r.parents.slice(0, i) : r.parents,
                  c = t.grep(s, u(e));
                o.active(c.length > 0 && c[0].nodeName === n);
              });
            };
          },
          f = function(e) {
            return function(t) {
              var n = s(e);
              t.control.items().each(function(e) {
                e.active(e.settings.data === n);
              });
            };
          },
          d = function(e, t, r, o, i, a) {
            a.length > 0
              ? (function(e, t, r, o, i, a) {
                  e.addButton(t, {
                    active: !1,
                    type: "splitbutton",
                    tooltip: r,
                    menu: c(a),
                    onPostRender: l(e, i),
                    onshow: f(e),
                    onselect: function(t) {
                      n(e, i, t.control.settings.data);
                    },
                    onclick: function() {
                      e.execCommand(o);
                    }
                  });
                })(e, t, r, o, i, a)
              : (function(e, t, n, r, o, i) {
                  e.addButton(t, {
                    active: !1,
                    type: "button",
                    tooltip: n,
                    onPostRender: l(e, o),
                    onclick: function() {
                      e.execCommand(r);
                    }
                  });
                })(e, t, r, o, i);
          },
          m = function(e) {
            d(e, "numlist", "Numbered list", "InsertOrderedList", "OL", o(e)),
              d(e, "bullist", "Bullet list", "InsertUnorderedList", "UL", i(e));
          };
        e.add("advlist", function(e) {
          (function(e, n) {
            var r = e.settings.plugins ? e.settings.plugins : "";
            return -1 !== t.inArray(r.split(/[ ,]/), n);
          })(e, "lists") && (m(e), r(e));
        });
      })();
    },
    1290: function(e, t, n) {
      (function(e) {
        !(function(t) {
          "use strict";
          var n = function(e) {
              var t = e,
                r = function() {
                  return t;
                };
              return {
                get: r,
                set: function(e) {
                  t = e;
                },
                clone: function() {
                  return n(r());
                }
              };
            },
            r = tinymce.util.Tools.resolve("tinymce.PluginManager"),
            o = function(e) {
              return !(
                !/(^|[ ,])powerpaste([, ]|$)/.test(e.settings.plugins) ||
                !r.get("powerpaste") ||
                (void 0 !== t.window.console &&
                  t.window.console.log &&
                  t.window.console.log(
                    "PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."
                  ),
                0)
              );
            },
            i = function(e, t) {
              return { clipboard: e, quirks: t };
            },
            a = function(e, t, n, r) {
              return e.fire("PastePreProcess", {
                content: t,
                internal: n,
                wordContent: r
              });
            },
            u = function(e, t, n, r) {
              return e.fire("PastePostProcess", {
                node: t,
                internal: n,
                wordContent: r
              });
            },
            s = function(e, t) {
              return e.fire("PastePlainTextToggle", { state: t });
            },
            c = function(e, t) {
              return e.fire("paste", { ieFake: t });
            },
            l = function(e) {
              return e.getParam("paste_plaintext_inform", !0);
            },
            f = function(e) {
              return e.getParam("paste_block_drop", !1);
            },
            d = function(e) {
              return e.getParam("paste_data_images", !1);
            },
            m = function(e) {
              return e.getParam("paste_filter_drop", !0);
            },
            h = function(e) {
              return e.getParam("paste_preprocess");
            },
            g = function(e) {
              return e.getParam("paste_postprocess");
            },
            p = function(e) {
              return e.getParam("paste_webkit_styles");
            },
            v = function(e) {
              return e.getParam("paste_remove_styles_if_webkit", !0);
            },
            b = function(e) {
              return e.getParam("paste_merge_formats", !0);
            },
            y = function(e) {
              return e.getParam("smart_paste", !0);
            },
            w = function(e) {
              return e.getParam("paste_as_text", !1);
            },
            x = function(e) {
              return e.getParam("paste_retain_style_properties");
            },
            C = function(e) {
              return e.getParam(
                "paste_word_valid_elements",
                "-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody"
              );
            },
            S = function(e) {
              return e.getParam("paste_convert_word_fake_lists", !0);
            },
            E = function(e) {
              return e.getParam("paste_enable_default_filters", !0);
            },
            T = function(e, t, n) {
              "text" === t.pasteFormat.get()
                ? (t.pasteFormat.set("html"), s(e, !1))
                : (t.pasteFormat.set("text"),
                  s(e, !0),
                  (function(e, t) {
                    return !1 === t.get() && l(e);
                  })(e, n) &&
                    ((function(e, t) {
                      e.notificationManager.open({
                        text: e.translate(t),
                        type: "info"
                      });
                    })(
                      e,
                      "Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off."
                    ),
                    n.set(!0))),
                e.focus();
            },
            N = function(e, t, n) {
              e.addCommand("mceTogglePlainTextPaste", function() {
                T(e, t, n);
              }),
                e.addCommand("mceInsertClipboardContent", function(e, n) {
                  n.content && t.pasteHtml(n.content, n.internal),
                    n.text && t.pasteText(n.text);
                });
            },
            _ = tinymce.util.Tools.resolve("tinymce.Env"),
            k = tinymce.util.Tools.resolve("tinymce.util.Delay"),
            R = tinymce.util.Tools.resolve("tinymce.util.Tools"),
            D = tinymce.util.Tools.resolve("tinymce.util.VK"),
            O = function(e) {
              return "\x3c!-- x-tinymce/html --\x3e" + e;
            },
            A = function(e) {
              return e.replace("\x3c!-- x-tinymce/html --\x3e", "");
            },
            P = function(e) {
              return -1 !== e.indexOf("\x3c!-- x-tinymce/html --\x3e");
            },
            B = function() {
              return "x-tinymce/html";
            },
            I = tinymce.util.Tools.resolve("tinymce.html.Entities"),
            M = function(e) {
              return e.replace(/\r?\n/g, "<br>");
            },
            L = function(e, t, n) {
              var r = e.split(/\n\n/),
                o = (function(e, t) {
                  var n,
                    r = [],
                    o = "<" + e;
                  if ("object" == typeof t) {
                    for (n in t)
                      t.hasOwnProperty(n) &&
                        r.push(n + '="' + I.encodeAllRaw(t[n]) + '"');
                    r.length && (o += " " + r.join(" "));
                  }
                  return o + ">";
                })(t, n),
                i = "</" + t + ">",
                a = R.map(r, function(e) {
                  return e.split(/\n/).join("<br />");
                });
              return 1 === a.length
                ? a[0]
                : R.map(a, function(e) {
                    return o + e + i;
                  }).join("");
            },
            F = function(e) {
              return !/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(
                e
              );
            },
            H = function(e, t, n) {
              return t ? L(e, t, n) : M(e);
            },
            z = tinymce.util.Tools.resolve("tinymce.html.DomParser"),
            W = tinymce.util.Tools.resolve("tinymce.html.Serializer"),
            U = tinymce.util.Tools.resolve("tinymce.html.Node"),
            j = tinymce.util.Tools.resolve("tinymce.html.Schema");
          function V(e, t) {
            return (
              R.each(t, function(t) {
                e =
                  t.constructor === RegExp
                    ? e.replace(t, "")
                    : e.replace(t[0], t[1]);
              }),
              e
            );
          }
          var q = {
            filter: V,
            innerText: function(e) {
              var t = j(),
                n = z({}, t),
                r = "",
                o = t.getShortEndedElements(),
                i = R.makeMap(
                  "script noscript style textarea video audio iframe object",
                  " "
                ),
                a = t.getBlockElements();
              return (
                (e = V(e, [/<!\[[^\]]+\]>/g])),
                (function e(t) {
                  var n = t.name,
                    u = t;
                  if ("br" !== n) {
                    if ("wbr" !== n)
                      if ((o[n] && (r += " "), i[n])) r += " ";
                      else {
                        if (
                          (3 === t.type && (r += t.value),
                          !t.shortEnded && (t = t.firstChild))
                        )
                          do {
                            e(t);
                          } while ((t = t.next));
                        a[n] &&
                          u.next &&
                          ((r += "\n"), "p" === n && (r += "\n"));
                      }
                  } else r += "\n";
                })(n.parse(e)),
                r
              );
            },
            trimHtml: function(e) {
              return (e = V(e, [
                /^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,
                /<!--StartFragment-->|<!--EndFragment-->/g,
                [
                  /( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,
                  function(e, t, n) {
                    return t || n ? " " : " ";
                  }
                ],
                /<br class="Apple-interchange-newline">/g,
                /<br>$/i
              ]));
            },
            createIdGenerator: function(e) {
              var t = 0;
              return function() {
                return e + t++;
              };
            },
            isMsEdge: function() {
              return -1 !== t.navigator.userAgent.indexOf(" Edge/");
            }
          };
          function $(e) {
            var t, n;
            return (
              (n = [
                /^[IVXLMCD]{1,2}\.[ \u00a0]/,
                /^[ivxlmcd]{1,2}\.[ \u00a0]/,
                /^[a-z]{1,2}[\.\)][ \u00a0]/,
                /^[A-Z]{1,2}[\.\)][ \u00a0]/,
                /^[0-9]+\.[ \u00a0]/,
                /^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,
                /^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/
              ]),
              (e = e.replace(/^[\u00a0 ]+/, "")),
              R.each(n, function(n) {
                if (n.test(e)) return (t = !0), !1;
              }),
              t
            );
          }
          function K(e) {
            var t,
              n,
              r = 1;
            function o(e) {
              var t = "";
              if (3 === e.type) return e.value;
              if ((e = e.firstChild))
                do {
                  t += o(e);
                } while ((e = e.next));
              return t;
            }
            function i(e, t) {
              if (3 === e.type && t.test(e.value))
                return (e.value = e.value.replace(t, "")), !1;
              if ((e = e.firstChild))
                do {
                  if (!i(e, t)) return !1;
                } while ((e = e.next));
              return !0;
            }
            function a(e, o, a) {
              var u = e._listLevel || r;
              u !== r &&
                (u < r ? t && (t = t.parent.parent) : ((n = t), (t = null))),
                t && t.name === o
                  ? t.append(e)
                  : ((n = n || t),
                    (t = new U(o, 1)),
                    a > 1 && t.attr("start", "" + a),
                    e.wrap(t)),
                (e.name = "li"),
                u > r && n && n.lastChild.append(t),
                (r = u),
                (function e(t) {
                  if (t._listIgnore) t.remove();
                  else if ((t = t.firstChild))
                    do {
                      e(t);
                    } while ((t = t.next));
                })(e),
                i(e, /^\u00a0+/),
                i(e, /^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),
                i(e, /^\u00a0+/);
            }
            for (var u = [], s = e.firstChild; null != s; )
              if ((u.push(s), null !== (s = s.walk())))
                for (; void 0 !== s && s.parent !== e; ) s = s.walk();
            for (var c = 0; c < u.length; c++)
              if ("p" === (e = u[c]).name && e.firstChild) {
                var l = o(e);
                if (/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(l)) {
                  a(e, "ul");
                  continue;
                }
                if ($(l)) {
                  var f = /([0-9]+)\./.exec(l),
                    d = 1;
                  f && (d = parseInt(f[1], 10)), a(e, "ol", d);
                  continue;
                }
                if (e._listLevel) {
                  a(e, "ul", 1);
                  continue;
                }
                t = null;
              } else (n = t), (t = null);
          }
          function Y(e, t, n, r) {
            var o,
              i = {},
              a = e.dom.parseStyle(r);
            return (
              R.each(a, function(a, u) {
                switch (u) {
                  case "mso-list":
                    (o = /\w+ \w+([0-9]+)/i.exec(r)) &&
                      (n._listLevel = parseInt(o[1], 10)),
                      /Ignore/i.test(a) &&
                        n.firstChild &&
                        ((n._listIgnore = !0), (n.firstChild._listIgnore = !0));
                    break;
                  case "horiz-align":
                    u = "text-align";
                    break;
                  case "vert-align":
                    u = "vertical-align";
                    break;
                  case "font-color":
                  case "mso-foreground":
                    u = "color";
                    break;
                  case "mso-background":
                  case "mso-highlight":
                    u = "background";
                    break;
                  case "font-weight":
                  case "font-style":
                    return void ("normal" !== a && (i[u] = a));
                  case "mso-element":
                    if (/^(comment|comment-list)$/i.test(a))
                      return void n.remove();
                }
                0 !== u.indexOf("mso-comment")
                  ? 0 !== u.indexOf("mso-") &&
                    ("all" === x(e) || (t && t[u])) &&
                    (i[u] = a)
                  : n.remove();
              }),
              /(bold)/i.test(i["font-weight"]) &&
                (delete i["font-weight"], n.wrap(new U("b", 1))),
              /(italic)/i.test(i["font-style"]) &&
                (delete i["font-style"], n.wrap(new U("i", 1))),
              (i = e.dom.serializeStyle(i, n.name)) || null
            );
          }
          var X,
            G,
            J,
            Q,
            Z,
            ee = {
              preProcess: function(e, t) {
                return E(e)
                  ? (function(e, t) {
                      var n, r;
                      (n = x(e)) && (r = R.makeMap(n.split(/[, ]/))),
                        (t = q.filter(t, [
                          /<br class="?Apple-interchange-newline"?>/gi,
                          /<b[^>]+id="?docs-internal-[^>]*>/gi,
                          /<!--[\s\S]+?-->/gi,
                          /<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,
                          [/<(\/?)s>/gi, "<$1strike>"],
                          [/&nbsp;/gi, " "],
                          [
                            /<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,
                            function(e, t) {
                              return t.length > 0
                                ? t
                                    .replace(/./, " ")
                                    .slice(Math.floor(t.length / 2))
                                    .split("")
                                    .join(" ")
                                : "";
                            }
                          ]
                        ]));
                      var o = C(e),
                        i = j({ valid_elements: o, valid_children: "-li[p]" });
                      R.each(i.elements, function(e) {
                        e.attributes.class ||
                          ((e.attributes.class = {}),
                          e.attributesOrder.push("class")),
                          e.attributes.style ||
                            ((e.attributes.style = {}),
                            e.attributesOrder.push("style"));
                      });
                      var a = z({}, i);
                      a.addAttributeFilter("style", function(t) {
                        for (var n, o = t.length; o--; )
                          (n = t[o]).attr("style", Y(e, r, n, n.attr("style"))),
                            "span" === n.name &&
                              n.parent &&
                              !n.attributes.length &&
                              n.unwrap();
                      }),
                        a.addAttributeFilter("class", function(e) {
                          for (var t, n, r = e.length; r--; )
                            (n = (t = e[r]).attr("class")),
                              /^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(
                                n
                              ) && t.remove(),
                              t.attr("class", null);
                        }),
                        a.addNodeFilter("del", function(e) {
                          for (var t = e.length; t--; ) e[t].remove();
                        }),
                        a.addNodeFilter("a", function(e) {
                          for (var t, n, r, o = e.length; o--; )
                            if (
                              ((n = (t = e[o]).attr("href")),
                              (r = t.attr("name")),
                              n && -1 !== n.indexOf("#_msocom_"))
                            )
                              t.remove();
                            else if (
                              (n &&
                                0 === n.indexOf("file://") &&
                                (n = n.split("#")[1]) &&
                                (n = "#" + n),
                              n || r)
                            ) {
                              if (r && !/^_?(?:toc|edn|ftn)/i.test(r)) {
                                t.unwrap();
                                continue;
                              }
                              t.attr({ href: n, name: r });
                            } else t.unwrap();
                        });
                      var u = a.parse(t);
                      return (
                        S(e) && K(u),
                        (t = W({ validate: e.settings.validate }, i).serialize(
                          u
                        ))
                      );
                    })(e, t)
                  : t;
              },
              isWordContent: function(e) {
                return (
                  /<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(
                    e
                  ) ||
                  /class="OutlineElement/.test(e) ||
                  /id="?docs\-internal\-guid\-/.test(e)
                );
              }
            },
            te = function(e, t) {
              return { content: e, cancelled: t };
            },
            ne = function(e, t, n, r) {
              var o = a(e, t, n, r),
                i = (function(e, t) {
                  var n = z({}, e.schema);
                  n.addNodeFilter("meta", function(e) {
                    R.each(e, function(e) {
                      return e.remove();
                    });
                  });
                  var r = n.parse(t, {
                    forced_root_block: !1,
                    isRootContent: !0
                  });
                  return W(
                    { validate: e.settings.validate },
                    e.schema
                  ).serialize(r);
                })(e, o.content);
              return e.hasEventListeners("PastePostProcess") &&
                !o.isDefaultPrevented()
                ? (function(e, t, n, r) {
                    var o = e.dom.create("div", { style: "display:none" }, t),
                      i = u(e, o, n, r);
                    return te(i.node.innerHTML, i.isDefaultPrevented());
                  })(e, i, n, r)
                : te(i, o.isDefaultPrevented());
            },
            re = function(e, t, n) {
              var r = ee.isWordContent(t),
                o = r ? ee.preProcess(e, t) : t;
              return ne(e, o, n, r);
            },
            oe = function(e, t) {
              return e.insertContent(t, { merge: b(e), paste: !0 }), !0;
            },
            ie = function(e) {
              return /^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e);
            },
            ae = function(e) {
              return ie(e) && /.(gif|jpe?g|png)$/.test(e);
            },
            ue = function(e, t, n) {
              return (
                !(!1 !== e.selection.isCollapsed() || !ie(t)) &&
                (function(e, t, n) {
                  return (
                    e.undoManager.extra(
                      function() {
                        n(e, t);
                      },
                      function() {
                        e.execCommand("mceInsertLink", !1, t);
                      }
                    ),
                    !0
                  );
                })(e, t, n)
              );
            },
            se = function(e, t, n) {
              return (
                !!ae(t) &&
                (function(e, t, n) {
                  return (
                    e.undoManager.extra(
                      function() {
                        n(e, t);
                      },
                      function() {
                        e.insertContent('<img src="' + t + '">');
                      }
                    ),
                    !0
                  );
                })(e, t, n)
              );
            },
            ce = function(e, t) {
              !1 === y(e)
                ? oe(e, t)
                : (function(e, t) {
                    R.each([ue, se, oe], function(n) {
                      return !0 !== n(e, t, oe);
                    });
                  })(e, t);
            },
            le = function() {},
            fe = function(e) {
              return function() {
                return e;
              };
            },
            de = fe(!1),
            me = fe(!0),
            he = function() {
              return ge;
            },
            ge =
              ((X = function(e) {
                return e.isNone();
              }),
              (Q = {
                fold: function(e, t) {
                  return e();
                },
                is: de,
                isSome: de,
                isNone: me,
                getOr: (J = function(e) {
                  return e;
                }),
                getOrThunk: (G = function(e) {
                  return e();
                }),
                getOrDie: function(e) {
                  throw new Error(e || "error: getOrDie called on none.");
                },
                getOrNull: fe(null),
                getOrUndefined: fe(void 0),
                or: J,
                orThunk: G,
                map: he,
                each: le,
                bind: he,
                exists: de,
                forall: me,
                filter: he,
                equals: X,
                equals_: X,
                toArray: function() {
                  return [];
                },
                toString: fe("none()")
              }),
              Object.freeze && Object.freeze(Q),
              Q),
            pe = function(e) {
              var t = fe(e),
                n = function() {
                  return o;
                },
                r = function(t) {
                  return t(e);
                },
                o = {
                  fold: function(t, n) {
                    return n(e);
                  },
                  is: function(t) {
                    return e === t;
                  },
                  isSome: me,
                  isNone: de,
                  getOr: t,
                  getOrThunk: t,
                  getOrDie: t,
                  getOrNull: t,
                  getOrUndefined: t,
                  or: n,
                  orThunk: n,
                  map: function(t) {
                    return pe(t(e));
                  },
                  each: function(t) {
                    t(e);
                  },
                  bind: r,
                  exists: r,
                  forall: r,
                  filter: function(t) {
                    return t(e) ? o : ge;
                  },
                  toArray: function() {
                    return [e];
                  },
                  toString: function() {
                    return "some(" + e + ")";
                  },
                  equals: function(t) {
                    return t.is(e);
                  },
                  equals_: function(t, n) {
                    return t.fold(de, function(t) {
                      return n(e, t);
                    });
                  }
                };
              return o;
            },
            ve = {
              some: pe,
              none: he,
              from: function(e) {
                return null == e ? ge : pe(e);
              }
            },
            be =
              ((Z = "function"),
              function(e) {
                return (
                  (function(e) {
                    if (null === e) return "null";
                    var t = typeof e;
                    return "object" === t &&
                      (Array.prototype.isPrototypeOf(e) ||
                        (e.constructor && "Array" === e.constructor.name))
                      ? "array"
                      : "object" === t &&
                        (String.prototype.isPrototypeOf(e) ||
                          (e.constructor && "String" === e.constructor.name))
                      ? "string"
                      : t;
                  })(e) === Z
                );
              }),
            ye = Array.prototype.slice,
            we = function(e, t) {
              for (var n = e.length, r = new Array(n), o = 0; o < n; o++) {
                var i = e[o];
                r[o] = t(i, o);
              }
              return r;
            },
            xe = function(e, t) {
              for (var n = 0, r = e.length; n < r; n++) t(e[n], n);
            },
            Ce = be(Array.from)
              ? Array.from
              : function(e) {
                  return ye.call(e);
                },
            Se = {},
            Ee = { exports: Se };
          !(function(t, n, r, o) {
            !(function(o) {
              "object" == typeof n && void 0 !== r
                ? (r.exports = o())
                : "function" == typeof t && t.amd
                ? t([], o)
                : (("undefined" != typeof window
                    ? window
                    : void 0 !== e
                    ? e
                    : "undefined" != typeof self
                    ? self
                    : this
                  ).EphoxContactWrapper = o());
            })(function() {
              return (function e(t, n, r) {
                function o(a, u) {
                  if (!n[a]) {
                    if (!t[a]) {
                      var s = !1;
                      if (!u && s) return s(a, !0);
                      if (i) return i(a, !0);
                      var c = new Error("Cannot find module '" + a + "'");
                      throw ((c.code = "MODULE_NOT_FOUND"), c);
                    }
                    var l = (n[a] = { exports: {} });
                    t[a][0].call(
                      l.exports,
                      function(e) {
                        return o(t[a][1][e] || e);
                      },
                      l,
                      l.exports,
                      e,
                      t,
                      n,
                      r
                    );
                  }
                  return n[a].exports;
                }
                for (var i = !1, a = 0; a < r.length; a++) o(r[a]);
                return o;
              })(
                {
                  1: [
                    function(e, t, n) {
                      var r,
                        o,
                        i = (t.exports = {});
                      function a() {
                        throw new Error("setTimeout has not been defined");
                      }
                      function u() {
                        throw new Error("clearTimeout has not been defined");
                      }
                      function s(e) {
                        if (r === setTimeout) return setTimeout(e, 0);
                        if ((r === a || !r) && setTimeout)
                          return (r = setTimeout), setTimeout(e, 0);
                        try {
                          return r(e, 0);
                        } catch (t) {
                          try {
                            return r.call(null, e, 0);
                          } catch (t) {
                            return r.call(this, e, 0);
                          }
                        }
                      }
                      !(function() {
                        try {
                          r = "function" == typeof setTimeout ? setTimeout : a;
                        } catch (e) {
                          r = a;
                        }
                        try {
                          o =
                            "function" == typeof clearTimeout
                              ? clearTimeout
                              : u;
                        } catch (e) {
                          o = u;
                        }
                      })();
                      var c,
                        l = [],
                        f = !1,
                        d = -1;
                      function m() {
                        f &&
                          c &&
                          ((f = !1),
                          c.length ? (l = c.concat(l)) : (d = -1),
                          l.length && h());
                      }
                      function h() {
                        if (!f) {
                          var e = s(m);
                          f = !0;
                          for (var t = l.length; t; ) {
                            for (c = l, l = []; ++d < t; ) c && c[d].run();
                            (d = -1), (t = l.length);
                          }
                          (c = null),
                            (f = !1),
                            (function(e) {
                              if (o === clearTimeout) return clearTimeout(e);
                              if ((o === u || !o) && clearTimeout)
                                return (o = clearTimeout), clearTimeout(e);
                              try {
                                o(e);
                              } catch (t) {
                                try {
                                  return o.call(null, e);
                                } catch (t) {
                                  return o.call(this, e);
                                }
                              }
                            })(e);
                        }
                      }
                      function g(e, t) {
                        (this.fun = e), (this.array = t);
                      }
                      function p() {}
                      (i.nextTick = function(e) {
                        var t = new Array(arguments.length - 1);
                        if (arguments.length > 1)
                          for (var n = 1; n < arguments.length; n++)
                            t[n - 1] = arguments[n];
                        l.push(new g(e, t)), 1 !== l.length || f || s(h);
                      }),
                        (g.prototype.run = function() {
                          this.fun.apply(null, this.array);
                        }),
                        (i.title = "browser"),
                        (i.browser = !0),
                        (i.env = {}),
                        (i.argv = []),
                        (i.version = ""),
                        (i.versions = {}),
                        (i.on = p),
                        (i.addListener = p),
                        (i.once = p),
                        (i.off = p),
                        (i.removeListener = p),
                        (i.removeAllListeners = p),
                        (i.emit = p),
                        (i.prependListener = p),
                        (i.prependOnceListener = p),
                        (i.listeners = function(e) {
                          return [];
                        }),
                        (i.binding = function(e) {
                          throw new Error("process.binding is not supported");
                        }),
                        (i.cwd = function() {
                          return "/";
                        }),
                        (i.chdir = function(e) {
                          throw new Error("process.chdir is not supported");
                        }),
                        (i.umask = function() {
                          return 0;
                        });
                    },
                    {}
                  ],
                  2: [
                    function(e, t, n) {
                      (function(e) {
                        !(function(n) {
                          var r = setTimeout;
                          function o() {}
                          function i(e) {
                            if ("object" != typeof this)
                              throw new TypeError(
                                "Promises must be constructed via new"
                              );
                            if ("function" != typeof e)
                              throw new TypeError("not a function");
                            (this._state = 0),
                              (this._handled = !1),
                              (this._value = void 0),
                              (this._deferreds = []),
                              f(e, this);
                          }
                          function a(e, t) {
                            for (; 3 === e._state; ) e = e._value;
                            0 !== e._state
                              ? ((e._handled = !0),
                                i._immediateFn(function() {
                                  var n =
                                    1 === e._state
                                      ? t.onFulfilled
                                      : t.onRejected;
                                  if (null !== n) {
                                    var r;
                                    try {
                                      r = n(e._value);
                                    } catch (e) {
                                      return void s(t.promise, e);
                                    }
                                    u(t.promise, r);
                                  } else (1 === e._state ? u : s)(t.promise, e._value);
                                }))
                              : e._deferreds.push(t);
                          }
                          function u(e, t) {
                            try {
                              if (t === e)
                                throw new TypeError(
                                  "A promise cannot be resolved with itself."
                                );
                              if (
                                t &&
                                ("object" == typeof t || "function" == typeof t)
                              ) {
                                var n = t.then;
                                if (t instanceof i)
                                  return (
                                    (e._state = 3), (e._value = t), void c(e)
                                  );
                                if ("function" == typeof n)
                                  return void f(
                                    ((r = n),
                                    (o = t),
                                    function() {
                                      r.apply(o, arguments);
                                    }),
                                    e
                                  );
                              }
                              (e._state = 1), (e._value = t), c(e);
                            } catch (t) {
                              s(e, t);
                            }
                            var r, o;
                          }
                          function s(e, t) {
                            (e._state = 2), (e._value = t), c(e);
                          }
                          function c(e) {
                            2 === e._state &&
                              0 === e._deferreds.length &&
                              i._immediateFn(function() {
                                e._handled || i._unhandledRejectionFn(e._value);
                              });
                            for (var t = 0, n = e._deferreds.length; t < n; t++)
                              a(e, e._deferreds[t]);
                            e._deferreds = null;
                          }
                          function l(e, t, n) {
                            (this.onFulfilled =
                              "function" == typeof e ? e : null),
                              (this.onRejected =
                                "function" == typeof t ? t : null),
                              (this.promise = n);
                          }
                          function f(e, t) {
                            var n = !1;
                            try {
                              e(
                                function(e) {
                                  n || ((n = !0), u(t, e));
                                },
                                function(e) {
                                  n || ((n = !0), s(t, e));
                                }
                              );
                            } catch (e) {
                              if (n) return;
                              (n = !0), s(t, e);
                            }
                          }
                          (i.prototype.catch = function(e) {
                            return this.then(null, e);
                          }),
                            (i.prototype.then = function(e, t) {
                              var n = new this.constructor(o);
                              return a(this, new l(e, t, n)), n;
                            }),
                            (i.all = function(e) {
                              var t = Array.prototype.slice.call(e);
                              return new i(function(e, n) {
                                if (0 === t.length) return e([]);
                                var r = t.length;
                                function o(i, a) {
                                  try {
                                    if (
                                      a &&
                                      ("object" == typeof a ||
                                        "function" == typeof a)
                                    ) {
                                      var u = a.then;
                                      if ("function" == typeof u)
                                        return void u.call(
                                          a,
                                          function(e) {
                                            o(i, e);
                                          },
                                          n
                                        );
                                    }
                                    (t[i] = a), 0 == --r && e(t);
                                  } catch (e) {
                                    n(e);
                                  }
                                }
                                for (var i = 0; i < t.length; i++) o(i, t[i]);
                              });
                            }),
                            (i.resolve = function(e) {
                              return e &&
                                "object" == typeof e &&
                                e.constructor === i
                                ? e
                                : new i(function(t) {
                                    t(e);
                                  });
                            }),
                            (i.reject = function(e) {
                              return new i(function(t, n) {
                                n(e);
                              });
                            }),
                            (i.race = function(e) {
                              return new i(function(t, n) {
                                for (var r = 0, o = e.length; r < o; r++)
                                  e[r].then(t, n);
                              });
                            }),
                            (i._immediateFn =
                              "function" == typeof e
                                ? function(t) {
                                    e(t);
                                  }
                                : function(e) {
                                    r(e, 0);
                                  }),
                            (i._unhandledRejectionFn = function(e) {
                              "undefined" != typeof console &&
                                console &&
                                console.warn(
                                  "Possible Unhandled Promise Rejection:",
                                  e
                                );
                            }),
                            (i._setImmediateFn = function(e) {
                              i._immediateFn = e;
                            }),
                            (i._setUnhandledRejectionFn = function(e) {
                              i._unhandledRejectionFn = e;
                            }),
                            void 0 !== t && t.exports
                              ? (t.exports = i)
                              : n.Promise || (n.Promise = i);
                        })(this);
                      }.call(this, e("timers").setImmediate));
                    },
                    { timers: 3 }
                  ],
                  3: [
                    function(e, t, n) {
                      (function(t, r) {
                        var o = e("process/browser.js").nextTick,
                          i = Function.prototype.apply,
                          a = Array.prototype.slice,
                          u = {},
                          s = 0;
                        function c(e, t) {
                          (this._id = e), (this._clearFn = t);
                        }
                        (n.setTimeout = function() {
                          return new c(
                            i.call(setTimeout, window, arguments),
                            clearTimeout
                          );
                        }),
                          (n.setInterval = function() {
                            return new c(
                              i.call(setInterval, window, arguments),
                              clearInterval
                            );
                          }),
                          (n.clearTimeout = n.clearInterval = function(e) {
                            e.close();
                          }),
                          (c.prototype.unref = c.prototype.ref = function() {}),
                          (c.prototype.close = function() {
                            this._clearFn.call(window, this._id);
                          }),
                          (n.enroll = function(e, t) {
                            clearTimeout(e._idleTimeoutId),
                              (e._idleTimeout = t);
                          }),
                          (n.unenroll = function(e) {
                            clearTimeout(e._idleTimeoutId),
                              (e._idleTimeout = -1);
                          }),
                          (n._unrefActive = n.active = function(e) {
                            clearTimeout(e._idleTimeoutId);
                            var t = e._idleTimeout;
                            t >= 0 &&
                              (e._idleTimeoutId = setTimeout(function() {
                                e._onTimeout && e._onTimeout();
                              }, t));
                          }),
                          (n.setImmediate =
                            "function" == typeof t
                              ? t
                              : function(e) {
                                  var t = s++,
                                    r =
                                      !(arguments.length < 2) &&
                                      a.call(arguments, 1);
                                  return (
                                    (u[t] = !0),
                                    o(function() {
                                      u[t] &&
                                        (r ? e.apply(null, r) : e.call(null),
                                        n.clearImmediate(t));
                                    }),
                                    t
                                  );
                                }),
                          (n.clearImmediate =
                            "function" == typeof r
                              ? r
                              : function(e) {
                                  delete u[e];
                                });
                      }.call(
                        this,
                        e("timers").setImmediate,
                        e("timers").clearImmediate
                      ));
                    },
                    { "process/browser.js": 1, timers: 3 }
                  ],
                  4: [
                    function(e, t, n) {
                      var r = e("promise-polyfill"),
                        o =
                          "undefined" != typeof window
                            ? window
                            : Function("return this;")();
                      t.exports = { boltExport: o.Promise || r };
                    },
                    { "promise-polyfill": 2 }
                  ]
                },
                {},
                [4]
              )(4);
            });
          })(void 0, Se, Ee);
          var Te = Ee.exports.boltExport,
            Ne = function(e) {
              var n = ve.none(),
                r = [],
                o = function(e) {
                  i() ? u(e) : r.push(e);
                },
                i = function() {
                  return n.isSome();
                },
                a = function(e) {
                  xe(e, u);
                },
                u = function(e) {
                  n.each(function(n) {
                    t.setTimeout(function() {
                      e(n);
                    }, 0);
                  });
                };
              return (
                e(function(e) {
                  (n = ve.some(e)), a(r), (r = []);
                }),
                {
                  get: o,
                  map: function(e) {
                    return Ne(function(t) {
                      o(function(n) {
                        t(e(n));
                      });
                    });
                  },
                  isReady: i
                }
              );
            },
            _e = {
              nu: Ne,
              pure: function(e) {
                return Ne(function(t) {
                  t(e);
                });
              }
            },
            ke = function(e) {
              t.setTimeout(function() {
                throw e;
              }, 0);
            },
            Re = function(e) {
              var t = function(t) {
                e().then(t, ke);
              };
              return {
                map: function(t) {
                  return Re(function() {
                    return e().then(t);
                  });
                },
                bind: function(t) {
                  return Re(function() {
                    return e().then(function(e) {
                      return t(e).toPromise();
                    });
                  });
                },
                anonBind: function(t) {
                  return Re(function() {
                    return e().then(function() {
                      return t.toPromise();
                    });
                  });
                },
                toLazy: function() {
                  return _e.nu(t);
                },
                toCached: function() {
                  var t = null;
                  return Re(function() {
                    return null === t && (t = e()), t;
                  });
                },
                toPromise: e,
                get: t
              };
            },
            De = function(e) {
              return Re(function() {
                return new Te(e);
              });
            },
            Oe = function(e, t) {
              return t(function(t) {
                var n = [],
                  r = 0;
                0 === e.length
                  ? t([])
                  : xe(e, function(o, i) {
                      o.get(
                        (function(o) {
                          return function(i) {
                            (n[o] = i), ++r >= e.length && t(n);
                          };
                        })(i)
                      );
                    });
              });
            },
            Ae = function(e, t) {
              return (n = we(e, t)), Oe(n, De);
              var n;
            },
            Pe = function(e, t, n) {
              var r = n || P(t),
                o = re(e, A(t), r);
              !1 === o.cancelled && ce(e, o.content);
            },
            Be = function(e, t) {
              (t = e.dom.encode(t).replace(/\r\n/g, "\n")),
                (t = H(
                  t,
                  e.settings.forced_root_block,
                  e.settings.forced_root_block_attrs
                )),
                Pe(e, t, !1);
            },
            Ie = function(e) {
              var t = {};
              if (e) {
                if (e.getData) {
                  var n = e.getData("Text");
                  n &&
                    n.length > 0 &&
                    -1 === n.indexOf("data:text/mce-internal,") &&
                    (t["text/plain"] = n);
                }
                if (e.types)
                  for (var r = 0; r < e.types.length; r++) {
                    var o = e.types[r];
                    try {
                      t[o] = e.getData(o);
                    } catch (e) {
                      t[o] = "";
                    }
                  }
              }
              return t;
            },
            Me = function(e, t) {
              return t in e && e[t].length > 0;
            },
            Le = function(e) {
              return Me(e, "text/html") || Me(e, "text/plain");
            },
            Fe = q.createIdGenerator("mceclip"),
            He = function(e, n, r) {
              var o,
                i = "paste" === n.type ? n.clipboardData : n.dataTransfer;
              if (e.settings.paste_data_images && i) {
                var a = (function(e) {
                  var t = e.items
                      ? we(Ce(e.items), function(e) {
                          return e.getAsFile();
                        })
                      : [],
                    n = e.files ? Ce(e.files) : [];
                  return (function(e, t) {
                    for (var n = [], r = 0, o = e.length; r < o; r++) {
                      var i = e[r];
                      t(i, r) && n.push(i);
                    }
                    return n;
                  })(t.length > 0 ? t : n, function(e) {
                    return /^image\/(jpeg|png|gif|bmp)$/.test(e.type);
                  });
                })(i);
                if (a.length > 0)
                  return (
                    n.preventDefault(),
                    ((o = a),
                    Ae(o, function(e) {
                      return De(function(t) {
                        var n = e.getAsFile ? e.getAsFile() : e,
                          r = new window.FileReader();
                        (r.onload = function() {
                          t({ blob: n, uri: r.result });
                        }),
                          r.readAsDataURL(n);
                      });
                    })).get(function(n) {
                      r && e.selection.setRng(r),
                        xe(n, function(n) {
                          !(function(e, n) {
                            var r,
                              o,
                              i,
                              a,
                              u =
                                ((r = n.uri),
                                -1 !== (o = r.indexOf(","))
                                  ? r.substr(o + 1)
                                  : null),
                              s = Fe(),
                              c =
                                e.settings.images_reuse_filename && n.blob.name
                                  ? (function(e, t) {
                                      var n = t.match(
                                        /([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i
                                      );
                                      return n ? e.dom.encode(n[1]) : null;
                                    })(e, n.blob.name)
                                  : s,
                              l = new t.Image();
                            if (
                              ((l.src = n.uri),
                              (i = e.settings),
                              (a = l),
                              !i.images_dataimg_filter ||
                                i.images_dataimg_filter(a))
                            ) {
                              var f,
                                d = e.editorUpload.blobCache,
                                m = void 0;
                              (f = d.findFirst(function(e) {
                                return e.base64() === u;
                              }))
                                ? (m = f)
                                : ((m = d.create(s, n.blob, u, c)), d.add(m)),
                                Pe(e, '<img src="' + m.blobUri() + '">', !1);
                            } else Pe(e, '<img src="' + n.uri + '">', !1);
                          })(e, n);
                        });
                    }),
                    !0
                  );
              }
              return !1;
            },
            ze = function(e) {
              return (
                (D.metaKeyPressed(e) && 86 === e.keyCode) ||
                (e.shiftKey && 45 === e.keyCode)
              );
            },
            We = function(e, r, o) {
              var i,
                a,
                u =
                  ((i = n(ve.none())),
                  {
                    clear: function() {
                      i.set(ve.none());
                    },
                    set: function(e) {
                      i.set(ve.some(e));
                    },
                    isSet: function() {
                      return i.get().isSome();
                    },
                    on: function(e) {
                      i.get().each(e);
                    }
                  });
              function s(t, n, o, i) {
                var a, u;
                Me(t, "text/html")
                  ? (a = t["text/html"])
                  : ((a = r.getHtml()),
                    (i = i || P(a)),
                    r.isDefaultContent(a) && (o = !0)),
                  (a = q.trimHtml(a)),
                  r.remove(),
                  (u = !1 === i && F(a)),
                  (a.length && !u) || (o = !0),
                  o &&
                    (a =
                      Me(t, "text/plain") && u
                        ? t["text/plain"]
                        : q.innerText(a)),
                  r.isDefaultContent(a)
                    ? n ||
                      e.windowManager.alert(
                        "Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."
                      )
                    : o
                    ? Be(e, a)
                    : Pe(e, a, i);
              }
              e.on("keydown", function(n) {
                function o(e) {
                  ze(e) && !e.isDefaultPrevented() && r.remove();
                }
                if (ze(n) && !n.isDefaultPrevented()) {
                  if (
                    (a = n.shiftKey && 86 === n.keyCode) &&
                    _.webkit &&
                    -1 !== t.navigator.userAgent.indexOf("Version/")
                  )
                    return;
                  if (
                    (n.stopImmediatePropagation(),
                    u.set(n),
                    window.setTimeout(function() {
                      u.clear();
                    }, 100),
                    _.ie && a)
                  )
                    return n.preventDefault(), void c(e, !0);
                  r.remove(),
                    r.create(),
                    e.once("keyup", o),
                    e.once("paste", function() {
                      e.off("keyup", o);
                    });
                }
              }),
                e.on("paste", function(n) {
                  var i = u.isSet(),
                    c = (function(e, t) {
                      var n = Ie(t.clipboardData || e.getDoc().dataTransfer);
                      return q.isMsEdge()
                        ? R.extend(n, { "text/html": "" })
                        : n;
                    })(e, n),
                    l = "text" === o.get() || a,
                    f = Me(c, B());
                  (a = !1),
                    n.isDefaultPrevented() ||
                    (function(e) {
                      var n = e.clipboardData;
                      return (
                        -1 !== t.navigator.userAgent.indexOf("Android") &&
                        n &&
                        n.items &&
                        0 === n.items.length
                      );
                    })(n)
                      ? r.remove()
                      : Le(c) ||
                        !He(e, n, r.getLastRng() || e.selection.getRng())
                      ? (i || n.preventDefault(),
                        !_.ie ||
                          (i && !n.ieFake) ||
                          Me(c, "text/html") ||
                          (r.create(),
                          e.dom.bind(r.getEl(), "paste", function(e) {
                            e.stopPropagation();
                          }),
                          e.getDoc().execCommand("Paste", !1, null),
                          (c["text/html"] = r.getHtml())),
                        Me(c, "text/html")
                          ? (n.preventDefault(),
                            f || (f = P(c["text/html"])),
                            s(c, i, l, f))
                          : k.setEditorTimeout(
                              e,
                              function() {
                                s(c, i, l, f);
                              },
                              0
                            ))
                      : r.remove();
                });
            },
            Ue = function(e) {
              return _.ie && e.inline ? t.document.body : e.getBody();
            },
            je = function(e, t, n) {
              (function(e) {
                return Ue(e) !== e.getBody();
              })(e) &&
                e.dom.bind(t, "paste keyup", function(t) {
                  $e(e, n) || e.fire("paste");
                });
            },
            Ve = function(e) {
              return e.dom.get("mcepastebin");
            },
            qe = function(e, t) {
              return t === e;
            },
            $e = function(e, t) {
              var n,
                r = Ve(e);
              return (n = r) && "mcepastebin" === n.id && qe(t, r.innerHTML);
            },
            Ke = function(e) {
              var t = n(null);
              return {
                create: function() {
                  return (function(e, t, n) {
                    var r,
                      o = e.dom,
                      i = e.getBody();
                    t.set(e.selection.getRng()),
                      (r = e.dom.add(
                        Ue(e),
                        "div",
                        {
                          id: "mcepastebin",
                          class: "mce-pastebin",
                          contentEditable: !0,
                          "data-mce-bogus": "all",
                          style:
                            "position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"
                        },
                        n
                      )),
                      (_.ie || _.gecko) &&
                        o.setStyle(
                          r,
                          "left",
                          "rtl" === o.getStyle(i, "direction", !0)
                            ? 65535
                            : -65535
                        ),
                      o.bind(r, "beforedeactivate focusin focusout", function(
                        e
                      ) {
                        e.stopPropagation();
                      }),
                      je(e, r, n),
                      r.focus(),
                      e.selection.select(r, !0);
                  })(e, t, "%MCEPASTEBIN%");
                },
                remove: function() {
                  return (function(e, t) {
                    if (Ve(e)) {
                      for (
                        var n = void 0, r = t.get();
                        (n = e.dom.get("mcepastebin"));

                      )
                        e.dom.remove(n), e.dom.unbind(n);
                      r && e.selection.setRng(r);
                    }
                    t.set(null);
                  })(e, t);
                },
                getEl: function() {
                  return Ve(e);
                },
                getHtml: function() {
                  return (function(e) {
                    var t,
                      n,
                      r,
                      o,
                      i,
                      a = function(t, n) {
                        t.appendChild(n), e.dom.remove(n, !0);
                      };
                    for (
                      n = R.grep(Ue(e).childNodes, function(e) {
                        return "mcepastebin" === e.id;
                      }),
                        t = n.shift(),
                        R.each(n, function(e) {
                          a(t, e);
                        }),
                        r =
                          (o = e.dom.select("div[id=mcepastebin]", t)).length -
                          1;
                      r >= 0;
                      r--
                    )
                      (i = e.dom.create("div")),
                        t.insertBefore(i, o[r]),
                        a(i, o[r]);
                    return t ? t.innerHTML : "";
                  })(e);
                },
                getLastRng: function() {
                  return (function(e) {
                    return e.get();
                  })(t);
                },
                isDefault: function() {
                  return $e(e, "%MCEPASTEBIN%");
                },
                isDefaultContent: function(e) {
                  return qe("%MCEPASTEBIN%", e);
                }
              };
            },
            Ye = function(e, t) {
              var n = Ke(e);
              return (
                e.on("preInit", function() {
                  return (function(e, t, n) {
                    var r;
                    We(e, t, n),
                      e.parser.addNodeFilter("img", function(t, n, o) {
                        var i = function(e) {
                            e.attr("data-mce-object") ||
                              r === _.transparentSrc ||
                              e.remove();
                          },
                          a = function(e) {
                            return 0 === e.indexOf("webkit-fake-url");
                          },
                          u = function(e) {
                            return 0 === e.indexOf("data:");
                          };
                        if (
                          !e.settings.paste_data_images &&
                          (function(e) {
                            return e.data && !0 === e.data.paste;
                          })(o)
                        )
                          for (var s = t.length; s--; )
                            (r = t[s].attributes.map.src) &&
                              (a(r) ||
                                (!e.settings.allow_html_data_urls && u(r))) &&
                              i(t[s]);
                      });
                  })(e, n, t);
                }),
                {
                  pasteFormat: t,
                  pasteHtml: function(t, n) {
                    return Pe(e, t, n);
                  },
                  pasteText: function(t) {
                    return Be(e, t);
                  },
                  pasteImageData: function(t, n) {
                    return He(e, t, n);
                  },
                  getDataTransferItems: Ie,
                  hasHtmlOrText: Le,
                  hasContentType: Me
                }
              );
            },
            Xe = function() {},
            Ge = function(e, t, n) {
              if (
                !(function(e) {
                  return (
                    !1 === _.iOS &&
                    void 0 !== e &&
                    "function" == typeof e.setData &&
                    !0 !== q.isMsEdge()
                  );
                })(e)
              )
                return !1;
              try {
                return (
                  e.clearData(),
                  e.setData("text/html", t),
                  e.setData("text/plain", n),
                  e.setData(B(), t),
                  !0
                );
              } catch (e) {
                return !1;
              }
            },
            Je = function(e, t, n, r) {
              Ge(e.clipboardData, t.html, t.text)
                ? (e.preventDefault(), r())
                : n(t.html, r);
            },
            Qe = function(e) {
              return function(t, n) {
                var r = O(t),
                  o = e.dom.create("div", {
                    contenteditable: "false",
                    "data-mce-bogus": "all"
                  }),
                  i = e.dom.create("div", { contenteditable: "true" }, r);
                e.dom.setStyles(o, {
                  position: "fixed",
                  top: "0",
                  left: "-3000px",
                  width: "1000px",
                  overflow: "hidden"
                }),
                  o.appendChild(i),
                  e.dom.add(e.getBody(), o);
                var a = e.selection.getRng();
                i.focus();
                var u = e.dom.createRng();
                u.selectNodeContents(i),
                  e.selection.setRng(u),
                  setTimeout(function() {
                    e.selection.setRng(a), o.parentNode.removeChild(o), n();
                  }, 0);
              };
            },
            Ze = function(e) {
              return {
                html: e.selection.getContent({ contextual: !0 }),
                text: e.selection.getContent({ format: "text" })
              };
            },
            et = function(e) {
              return (
                !e.selection.isCollapsed() ||
                (function(e) {
                  return !!e.dom.getParent(
                    e.selection.getStart(),
                    "td[data-mce-selected],th[data-mce-selected]",
                    e.getBody()
                  );
                })(e)
              );
            },
            tt = function(e) {
              e.on(
                "cut",
                (function(e) {
                  return function(t) {
                    et(e) &&
                      Je(t, Ze(e), Qe(e), function() {
                        setTimeout(function() {
                          e.execCommand("Delete");
                        }, 0);
                      });
                  };
                })(e)
              ),
                e.on(
                  "copy",
                  (function(e) {
                    return function(t) {
                      et(e) && Je(t, Ze(e), Qe(e), Xe);
                    };
                  })(e)
                );
            },
            nt = tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),
            rt = function(e, t) {
              return nt.getCaretRangeFromPoint(
                t.clientX,
                t.clientY,
                e.getDoc()
              );
            },
            ot = function(e, t) {
              e.focus(), e.selection.setRng(t);
            },
            it = function(e, t, n) {
              f(e) &&
                e.on(
                  "dragend dragover draggesture dragdrop drop drag",
                  function(e) {
                    e.preventDefault(), e.stopPropagation();
                  }
                ),
                d(e) ||
                  e.on("drop", function(e) {
                    var t = e.dataTransfer;
                    t && t.files && t.files.length > 0 && e.preventDefault();
                  }),
                e.on("drop", function(r) {
                  var o, i;
                  if (((i = rt(e, r)), !r.isDefaultPrevented() && !n.get())) {
                    o = t.getDataTransferItems(r.dataTransfer);
                    var a,
                      u = t.hasContentType(o, B());
                    if (
                      ((t.hasHtmlOrText(o) &&
                        (!(a = o["text/plain"]) ||
                          0 !== a.indexOf("file://"))) ||
                        !t.pasteImageData(r, i)) &&
                      i &&
                      m(e)
                    ) {
                      var s =
                        o["mce-internal"] || o["text/html"] || o["text/plain"];
                      s &&
                        (r.preventDefault(),
                        k.setEditorTimeout(e, function() {
                          e.undoManager.transact(function() {
                            o["mce-internal"] && e.execCommand("Delete"),
                              ot(e, i),
                              (s = q.trimHtml(s)),
                              o["text/html"]
                                ? t.pasteHtml(s, u)
                                : t.pasteText(s);
                          });
                        }));
                    }
                  }
                }),
                e.on("dragstart", function(e) {
                  n.set(!0);
                }),
                e.on("dragover dragend", function(t) {
                  d(e) &&
                    !1 === n.get() &&
                    (t.preventDefault(), ot(e, rt(e, t))),
                    "dragend" === t.type && n.set(!1);
                });
            },
            at = function(e) {
              var t = e.plugins.paste,
                n = h(e);
              n &&
                e.on("PastePreProcess", function(e) {
                  n.call(t, t, e);
                });
              var r = g(e);
              r &&
                e.on("PastePostProcess", function(e) {
                  r.call(t, t, e);
                });
            };
          function ut(e, t) {
            e.on("PastePreProcess", function(n) {
              n.content = t(e, n.content, n.internal, n.wordContent);
            });
          }
          function st(e, t) {
            if (!ee.isWordContent(t)) return t;
            var n = [];
            R.each(e.schema.getBlockElements(), function(e, t) {
              n.push(t);
            });
            var r = new RegExp(
              "(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?(" +
                n.join("|") +
                ")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*",
              "g"
            );
            return (
              (t = q.filter(t, [[r, "$1"]])),
              (t = q.filter(t, [
                [/<br><br>/g, "<BR><BR>"],
                [/<br>/g, " "],
                [/<BR><BR>/g, "<br>"]
              ]))
            );
          }
          function ct(e, t, n, r) {
            if (r || n) return t;
            var o,
              i = p(e);
            if (!1 === v(e) || "all" === i) return t;
            if ((i && (o = i.split(/[, ]/)), o)) {
              var a = e.dom,
                u = e.selection.getNode();
              t = t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi, function(
                e,
                t,
                n,
                r
              ) {
                var i = a.parseStyle(a.decode(n)),
                  s = {};
                if ("none" === o) return t + r;
                for (var c = 0; c < o.length; c++) {
                  var l = i[o[c]],
                    f = a.getStyle(u, o[c], !0);
                  /color/.test(o[c]) && ((l = a.toHex(l)), (f = a.toHex(f))),
                    f !== l && (s[o[c]] = l);
                }
                return (s = a.serializeStyle(s, "span"))
                  ? t + ' style="' + s + '"' + r
                  : t + r;
              });
            } else t = t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi, "$1$3");
            return (t = t.replace(
              /(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,
              function(e, t, n, r) {
                return t + ' style="' + n + '"' + r;
              }
            ));
          }
          function lt(e, t) {
            e.$("a", t)
              .find("font,u")
              .each(function(t, n) {
                e.dom.remove(n, !0);
              });
          }
          var ft = function(e) {
              _.webkit && ut(e, ct),
                _.ie &&
                  (ut(e, st),
                  (function(e, t) {
                    e.on("PastePostProcess", function(n) {
                      t(e, n.node);
                    });
                  })(e, lt));
            },
            dt = function(e, t, n) {
              var r = n.control;
              r.active("text" === t.pasteFormat.get()),
                e.on("PastePlainTextToggle", function(e) {
                  r.active(e.state);
                });
            },
            mt = function(e, t) {
              var n = (function(e) {
                for (var t = [], n = 1; n < arguments.length; n++)
                  t[n - 1] = arguments[n];
                return function() {
                  for (var n = [], r = 0; r < arguments.length; r++)
                    n[r] = arguments[r];
                  var o = t.concat(n);
                  return e.apply(null, o);
                };
              })(dt, e, t);
              e.addButton("pastetext", {
                active: !1,
                icon: "pastetext",
                tooltip: "Paste as text",
                cmd: "mceTogglePlainTextPaste",
                onPostRender: n
              }),
                e.addMenuItem("pastetext", {
                  text: "Paste as text",
                  selectable: !0,
                  active: t.pasteFormat,
                  cmd: "mceTogglePlainTextPaste",
                  onPostRender: n
                });
            };
          r.add("paste", function(e) {
            if (!1 === o(e)) {
              var t = n(!1),
                r = n(!1),
                a = n(w(e) ? "text" : "html"),
                u = Ye(e, a),
                s = ft(e);
              return mt(e, u), N(e, u, t), at(e), tt(e), it(e, u, r), i(u, s);
            }
          });
        })(window);
      }.call(this, n(81)));
    },
    1291: function(e, t) {
      !(function() {
        "use strict";
        var e = tinymce.util.Tools.resolve("tinymce.PluginManager"),
          t = tinymce.util.Tools.resolve("tinymce.Env"),
          n = function(e) {
            return e.getParam(
              "pagebreak_separator",
              "\x3c!-- pagebreak --\x3e"
            );
          },
          r = function(e) {
            return e.getParam("pagebreak_split_block", !1);
          },
          o = function() {
            return "mce-pagebreak";
          },
          i = function() {
            return (
              '<img src="' +
              t.transparentSrc +
              '" class="mce-pagebreak" data-mce-resize="false" data-mce-placeholder />'
            );
          },
          a = function(e) {
            var t = n(e),
              o = new RegExp(
                t.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g, function(e) {
                  return "\\" + e;
                }),
                "gi"
              );
            e.on("BeforeSetContent", function(e) {
              e.content = e.content.replace(o, i());
            }),
              e.on("PreInit", function() {
                e.serializer.addNodeFilter("img", function(n) {
                  for (var o, i, a = n.length; a--; )
                    if (
                      (i = (o = n[a]).attr("class")) &&
                      -1 !== i.indexOf("mce-pagebreak")
                    ) {
                      var u = o.parent;
                      if (e.schema.getBlockElements()[u.name] && r(e)) {
                        (u.type = 3), (u.value = t), (u.raw = !0), o.remove();
                        continue;
                      }
                      (o.type = 3), (o.value = t), (o.raw = !0);
                    }
                });
              });
          },
          u = i,
          s = o,
          c = function(e) {
            e.addCommand("mcePageBreak", function() {
              e.settings.pagebreak_split_block
                ? e.insertContent("<p>" + u() + "</p>")
                : e.insertContent(u());
            });
          },
          l = function(e) {
            e.on("ResolveName", function(t) {
              "IMG" === t.target.nodeName &&
                e.dom.hasClass(t.target, s()) &&
                (t.name = "pagebreak");
            });
          },
          f = function(e) {
            e.addButton("pagebreak", {
              title: "Page break",
              cmd: "mcePageBreak"
            }),
              e.addMenuItem("pagebreak", {
                text: "Page break",
                icon: "pagebreak",
                cmd: "mcePageBreak",
                context: "insert"
              });
          };
        e.add("pagebreak", function(e) {
          c(e), f(e), a(e), l(e);
        });
      })();
    },
    1292: function(e, t) {
      !(function() {
        "use strict";
        var e = tinymce.util.Tools.resolve("tinymce.PluginManager"),
          t = function(e, t) {
            var n;
            return (
              e.dom.getParents(e.selection.getStart(), function(e) {
                var r;
                (r =
                  e.style["forecolor" === t ? "color" : "background-color"]) &&
                  (n = n || r);
              }),
              n
            );
          },
          n = function(e) {
            var t,
              n = [];
            for (t = 0; t < e.length; t += 2)
              n.push({ text: e[t + 1], color: "#" + e[t] });
            return n;
          },
          r = function(e, t, n) {
            e.undoManager.transact(function() {
              e.focus(), e.formatter.apply(t, { value: n }), e.nodeChanged();
            });
          },
          o = function(e, t) {
            e.undoManager.transact(function() {
              e.focus(),
                e.formatter.remove(t, { value: null }, null, !0),
                e.nodeChanged();
            });
          },
          i = function(e) {
            e.addCommand("mceApplyTextcolor", function(t, n) {
              r(e, t, n);
            }),
              e.addCommand("mceRemoveTextcolor", function(t) {
                o(e, t);
              });
          },
          a = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
          u = tinymce.util.Tools.resolve("tinymce.util.Tools"),
          s = [
            "000000",
            "Black",
            "993300",
            "Burnt orange",
            "333300",
            "Dark olive",
            "003300",
            "Dark green",
            "003366",
            "Dark azure",
            "000080",
            "Navy Blue",
            "333399",
            "Indigo",
            "333333",
            "Very dark gray",
            "800000",
            "Maroon",
            "FF6600",
            "Orange",
            "808000",
            "Olive",
            "008000",
            "Green",
            "008080",
            "Teal",
            "0000FF",
            "Blue",
            "666699",
            "Grayish blue",
            "808080",
            "Gray",
            "FF0000",
            "Red",
            "FF9900",
            "Amber",
            "99CC00",
            "Yellow green",
            "339966",
            "Sea green",
            "33CCCC",
            "Turquoise",
            "3366FF",
            "Royal blue",
            "800080",
            "Purple",
            "999999",
            "Medium gray",
            "FF00FF",
            "Magenta",
            "FFCC00",
            "Gold",
            "FFFF00",
            "Yellow",
            "00FF00",
            "Lime",
            "00FFFF",
            "Aqua",
            "00CCFF",
            "Sky blue",
            "993366",
            "Red violet",
            "FFFFFF",
            "White",
            "FF99CC",
            "Pink",
            "FFCC99",
            "Peach",
            "FFFF99",
            "Light yellow",
            "CCFFCC",
            "Pale green",
            "CCFFFF",
            "Pale cyan",
            "99CCFF",
            "Light sky blue",
            "CC99FF",
            "Plum"
          ],
          c = function(e) {
            return e.getParam("textcolor_map", s);
          },
          l = function(e) {
            return e.getParam("textcolor_rows", 5);
          },
          f = function(e) {
            return e.getParam("textcolor_cols", 8);
          },
          d = function(e) {
            return e.getParam("color_picker_callback", null);
          },
          m = function(e) {
            return e.getParam("forecolor_map", c(e));
          },
          h = function(e) {
            return e.getParam("backcolor_map", c(e));
          },
          g = function(e) {
            return e.getParam("forecolor_rows", l(e));
          },
          p = function(e) {
            return e.getParam("backcolor_rows", l(e));
          },
          v = function(e) {
            return e.getParam("forecolor_cols", f(e));
          },
          b = function(e) {
            return e.getParam("backcolor_cols", f(e));
          },
          y = d,
          w = function(e) {
            return "function" == typeof d(e);
          },
          x = tinymce.util.Tools.resolve("tinymce.util.I18n"),
          C = function(e, t, r, o) {
            var i,
              u,
              s,
              c,
              l,
              f,
              d,
              m = 0,
              h = a.DOM.uniqueId("mcearia"),
              g = function(e, t) {
                var n = "transparent" === e;
                return (
                  '<td class="mce-grid-cell' +
                  (n ? " mce-colorbtn-trans" : "") +
                  '"><div id="' +
                  h +
                  "-" +
                  m++ +
                  '" data-mce-color="' +
                  (e || "") +
                  '" role="option" tabIndex="-1" style="' +
                  (e ? "background-color: " + e : "") +
                  '" title="' +
                  x.translate(t) +
                  '">' +
                  (n ? "&#215;" : "") +
                  "</div></td>"
                );
              };
            for (
              (i = n(r)).push({
                text: x.translate("No color"),
                color: "transparent"
              }),
                s =
                  '<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',
                c = i.length - 1,
                f = 0;
              f < t;
              f++
            ) {
              for (s += "<tr>", l = 0; l < e; l++)
                s +=
                  (d = f * e + l) > c
                    ? "<td></td>"
                    : g((u = i[d]).color, u.text);
              s += "</tr>";
            }
            if (o) {
              for (
                s +=
                  '<tr><td colspan="' +
                  e +
                  '" class="mce-custom-color-btn"><div id="' +
                  h +
                  '-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="' +
                  h +
                  '-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">' +
                  x.translate("Custom...") +
                  "</button></div></td></tr>",
                  s += "<tr>",
                  l = 0;
                l < e;
                l++
              )
                s += g("", "Custom color");
              s += "</tr>";
            }
            return (s += "</tbody></table>");
          },
          S = function(e, t) {
            (e.style.background = t), e.setAttribute("data-mce-color", t);
          },
          E = function(e) {
            return function(t) {
              var n = t.control;
              n._color
                ? e.execCommand(
                    "mceApplyTextcolor",
                    n.settings.format,
                    n._color
                  )
                : e.execCommand("mceRemoveTextcolor", n.settings.format);
            };
          },
          T = function(e, n) {
            return function(r) {
              var o,
                i = this.parent(),
                s = t(e, i.settings.format),
                c = function(t) {
                  e.execCommand("mceApplyTextcolor", i.settings.format, t),
                    i.hidePanel(),
                    i.color(t);
                };
              a.DOM.getParent(r.target, ".mce-custom-color-btn") &&
                (i.hidePanel(),
                y(e).call(
                  e,
                  function(e) {
                    var t,
                      r,
                      o,
                      a = i.panel.getEl().getElementsByTagName("table")[0];
                    for (
                      t = u.map(a.rows[a.rows.length - 1].childNodes, function(
                        e
                      ) {
                        return e.firstChild;
                      }),
                        o = 0;
                      o < t.length && (r = t[o]).getAttribute("data-mce-color");
                      o++
                    );
                    if (o === n)
                      for (o = 0; o < n - 1; o++)
                        S(t[o], t[o + 1].getAttribute("data-mce-color"));
                    S(r, e), c(e);
                  },
                  s
                )),
                (o = r.target.getAttribute("data-mce-color"))
                  ? (this.lastId &&
                      a.DOM.get(this.lastId).setAttribute(
                        "aria-selected",
                        "false"
                      ),
                    r.target.setAttribute("aria-selected", !0),
                    (this.lastId = r.target.id),
                    "transparent" === o
                      ? (e.execCommand("mceRemoveTextcolor", i.settings.format),
                        i.hidePanel(),
                        i.resetColor())
                      : c(o))
                  : null !== o && i.hidePanel();
            };
          },
          N = function(e, t) {
            return function() {
              var n = t ? v(e) : b(e),
                r = t ? g(e) : p(e),
                o = t ? m(e) : h(e),
                i = w(e);
              return C(n, r, o, i);
            };
          },
          _ = function(e) {
            e.addButton("forecolor", {
              type: "colorbutton",
              tooltip: "Text color",
              format: "forecolor",
              panel: {
                role: "application",
                ariaRemember: !0,
                html: N(e, !0),
                onclick: T(e, v(e))
              },
              onclick: E(e)
            }),
              e.addButton("backcolor", {
                type: "colorbutton",
                tooltip: "Background color",
                format: "hilitecolor",
                panel: {
                  role: "application",
                  ariaRemember: !0,
                  html: N(e, !1),
                  onclick: T(e, b(e))
                },
                onclick: E(e)
              });
          };
        e.add("textcolor", function(e) {
          i(e), _(e);
        });
      })();
    },
    1293: function(e, t, n) {
      "use strict";
      (function(e) {
        n.d(t, "a", function() {
          return o;
        });
        var r = function() {
            return "undefined" != typeof window ? window : e;
          },
          o = function() {
            var e = r();
            return e && e.tinymce ? e.tinymce : null;
          };
      }.call(this, n(81)));
    },
    752: function(e, t, n) {
      (function(t, n) {
        !(function(r) {
          "use strict";
          var o = function() {},
            i = function(e, t) {
              return function() {
                for (var n = [], r = 0; r < arguments.length; r++)
                  n[r] = arguments[r];
                return e(t.apply(null, n));
              };
            },
            a = function(e) {
              return function() {
                return e;
              };
            },
            u = function(e) {
              return e;
            };
          function s(e) {
            for (var t = [], n = 1; n < arguments.length; n++)
              t[n - 1] = arguments[n];
            return function() {
              for (var n = [], r = 0; r < arguments.length; r++)
                n[r] = arguments[r];
              var o = t.concat(n);
              return e.apply(null, o);
            };
          }
          var c,
            l,
            f,
            d,
            m,
            h,
            g,
            p,
            v,
            b,
            y,
            w,
            x = function(e) {
              return function() {
                for (var t = [], n = 0; n < arguments.length; n++)
                  t[n] = arguments[n];
                return !e.apply(null, t);
              };
            },
            C = a(!1),
            S = a(!0),
            E = function() {
              return T;
            },
            T = (function() {
              var e = function(e) {
                  return e.isNone();
                },
                t = function(e) {
                  return e();
                },
                n = function(e) {
                  return e;
                },
                r = {
                  fold: function(e, t) {
                    return e();
                  },
                  is: C,
                  isSome: C,
                  isNone: S,
                  getOr: n,
                  getOrThunk: t,
                  getOrDie: function(e) {
                    throw new Error(e || "error: getOrDie called on none.");
                  },
                  getOrNull: a(null),
                  getOrUndefined: a(void 0),
                  or: n,
                  orThunk: t,
                  map: E,
                  each: o,
                  bind: E,
                  exists: C,
                  forall: S,
                  filter: E,
                  equals: e,
                  equals_: e,
                  toArray: function() {
                    return [];
                  },
                  toString: a("none()")
                };
              return Object.freeze && Object.freeze(r), r;
            })(),
            N = function(e) {
              var t = a(e),
                n = function() {
                  return o;
                },
                r = function(t) {
                  return t(e);
                },
                o = {
                  fold: function(t, n) {
                    return n(e);
                  },
                  is: function(t) {
                    return e === t;
                  },
                  isSome: S,
                  isNone: C,
                  getOr: t,
                  getOrThunk: t,
                  getOrDie: t,
                  getOrNull: t,
                  getOrUndefined: t,
                  or: n,
                  orThunk: n,
                  map: function(t) {
                    return N(t(e));
                  },
                  each: function(t) {
                    t(e);
                  },
                  bind: r,
                  exists: r,
                  forall: r,
                  filter: function(t) {
                    return t(e) ? o : T;
                  },
                  toArray: function() {
                    return [e];
                  },
                  toString: function() {
                    return "some(" + e + ")";
                  },
                  equals: function(t) {
                    return t.is(e);
                  },
                  equals_: function(t, n) {
                    return t.fold(C, function(t) {
                      return n(e, t);
                    });
                  }
                };
              return o;
            },
            _ = {
              some: N,
              none: E,
              from: function(e) {
                return null == e ? T : N(e);
              }
            },
            k = function(e) {
              return function(t) {
                return (
                  (function(e) {
                    if (null === e) return "null";
                    var t = typeof e;
                    return "object" === t &&
                      (Array.prototype.isPrototypeOf(e) ||
                        (e.constructor && "Array" === e.constructor.name))
                      ? "array"
                      : "object" === t &&
                        (String.prototype.isPrototypeOf(e) ||
                          (e.constructor && "String" === e.constructor.name))
                      ? "string"
                      : t;
                  })(t) === e
                );
              };
            },
            R = k("string"),
            D = k("object"),
            O = k("array"),
            A = k("null"),
            P = k("boolean"),
            B = k("function"),
            I = k("number"),
            M = Array.prototype.slice,
            L = Array.prototype.indexOf,
            F = Array.prototype.push,
            H = function(e, t) {
              return L.call(e, t);
            },
            z = function(e, t) {
              return H(e, t) > -1;
            },
            W = function(e, t) {
              for (var n = 0, r = e.length; n < r; n++)
                if (t(e[n], n)) return !0;
              return !1;
            },
            U = function(e, t) {
              for (var n = e.length, r = new Array(n), o = 0; o < n; o++) {
                var i = e[o];
                r[o] = t(i, o);
              }
              return r;
            },
            j = function(e, t) {
              for (var n = 0, r = e.length; n < r; n++) t(e[n], n);
            },
            V = function(e, t) {
              for (var n = [], r = [], o = 0, i = e.length; o < i; o++) {
                var a = e[o];
                (t(a, o) ? n : r).push(a);
              }
              return { pass: n, fail: r };
            },
            q = function(e, t) {
              for (var n = [], r = 0, o = e.length; r < o; r++) {
                var i = e[r];
                t(i, r) && n.push(i);
              }
              return n;
            },
            $ = function(e, t, n) {
              return (
                j(e, function(e) {
                  n = t(n, e);
                }),
                n
              );
            },
            K = function(e, t) {
              for (var n = 0, r = e.length; n < r; n++) {
                var o = e[n];
                if (t(o, n)) return _.some(o);
              }
              return _.none();
            },
            Y = function(e, t) {
              for (var n = 0, r = e.length; n < r; n++)
                if (t(e[n], n)) return _.some(n);
              return _.none();
            },
            X = function(e, t) {
              return (function(e) {
                for (var t = [], n = 0, r = e.length; n < r; ++n) {
                  if (!O(e[n]))
                    throw new Error(
                      "Arr.flatten item " + n + " was not an array, input: " + e
                    );
                  F.apply(t, e[n]);
                }
                return t;
              })(U(e, t));
            },
            G = function(e, t) {
              for (var n = 0, r = e.length; n < r; ++n)
                if (!0 !== t(e[n], n)) return !1;
              return !0;
            },
            J = function(e, t) {
              return q(e, function(e) {
                return !z(t, e);
              });
            },
            Q = function(e) {
              return 0 === e.length ? _.none() : _.some(e[0]);
            },
            Z = function(e) {
              return 0 === e.length ? _.none() : _.some(e[e.length - 1]);
            },
            ee = B(Array.from)
              ? Array.from
              : function(e) {
                  return M.call(e);
                },
            te = void 0 !== r.window ? r.window : Function("return this;")(),
            ne = function(e, t) {
              return (function(e, t) {
                for (
                  var n = null != t ? t : te, r = 0;
                  r < e.length && null != n;
                  ++r
                )
                  n = n[e[r]];
                return n;
              })(e.split("."), t);
            },
            re = function(e, t) {
              var n = (function(e, t) {
                return ne(e, t);
              })(e, t);
              if (null == n)
                throw new Error(e + " not available on this browser");
              return n;
            },
            oe = function() {
              return re("URL");
            },
            ie = function(e) {
              return oe().createObjectURL(e);
            },
            ae = function(e) {
              oe().revokeObjectURL(e);
            },
            ue = r.navigator,
            se = ue.userAgent,
            ce = function(e) {
              return "matchMedia" in r.window && r.matchMedia(e).matches;
            };
          (p = /Android/.test(se)),
            (l =
              (l =
                !(c = /WebKit/.test(se)) &&
                /MSIE/gi.test(se) &&
                /Explorer/gi.test(ue.appName)) && /MSIE (\w+)\./.exec(se)[1]),
            (f =
              -1 !== se.indexOf("Trident/") &&
              (-1 !== se.indexOf("rv:") ||
                -1 !== ue.appName.indexOf("Netscape")) &&
              11),
            (d = -1 !== se.indexOf("Edge/") && !l && !f && 12),
            (l = l || f || d),
            (m = !c && !f && /Gecko/.test(se)),
            (h = -1 !== se.indexOf("Mac")),
            (g = /(iPad|iPhone)/.test(se)),
            (v =
              "FormData" in r.window &&
              "FileReader" in r.window &&
              "URL" in r.window &&
              !!ie),
            (b = ce("only screen and (max-device-width: 480px)") && (p || g)),
            (y = ce("only screen and (min-width: 800px)") && (p || g)),
            (w = -1 !== se.indexOf("Windows Phone")),
            d && (c = !1);
          var le,
            fe = {
              opera: !1,
              webkit: c,
              ie: l,
              gecko: m,
              mac: h,
              iOS: g,
              android: p,
              contentEditable:
                !g ||
                v ||
                parseInt(se.match(/AppleWebKit\/(\d*)/)[1], 10) >= 534,
              transparentSrc:
                "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",
              caretAfter: 8 !== l,
              range: r.window.getSelection && "Range" in r.window,
              documentMode: l && !d ? r.document.documentMode || 7 : 10,
              fileApi: v,
              ceFalse: !1 === l || l > 8,
              cacheSuffix: null,
              container: null,
              overrideViewPort: null,
              experimentalShadowDom: !1,
              canHaveCSP: !1 === l || l > 11,
              desktop: !b && !y,
              windowsPhone: w
            },
            de = window.Promise
              ? window.Promise
              : (function() {
                  function e(e, t) {
                    return function() {
                      e.apply(t, arguments);
                    };
                  }
                  var n =
                      Array.isArray ||
                      function(e) {
                        return (
                          "[object Array]" === Object.prototype.toString.call(e)
                        );
                      },
                    r = function(t) {
                      if ("object" != typeof this)
                        throw new TypeError(
                          "Promises must be constructed via new"
                        );
                      if ("function" != typeof t)
                        throw new TypeError("not a function");
                      (this._state = null),
                        (this._value = null),
                        (this._deferreds = []),
                        l(t, e(a, this), e(u, this));
                    },
                    o =
                      r.immediateFn ||
                      ("function" == typeof t && t) ||
                      function(e) {
                        setTimeout(e, 1);
                      };
                  function i(e) {
                    var t = this;
                    null !== this._state
                      ? o(function() {
                          var n = t._state ? e.onFulfilled : e.onRejected;
                          if (null !== n) {
                            var r;
                            try {
                              r = n(t._value);
                            } catch (t) {
                              return void e.reject(t);
                            }
                            e.resolve(r);
                          } else (t._state ? e.resolve : e.reject)(t._value);
                        })
                      : this._deferreds.push(e);
                  }
                  function a(t) {
                    try {
                      if (t === this)
                        throw new TypeError(
                          "A promise cannot be resolved with itself."
                        );
                      if (
                        t &&
                        ("object" == typeof t || "function" == typeof t)
                      ) {
                        var n = t.then;
                        if ("function" == typeof n)
                          return void l(e(n, t), e(a, this), e(u, this));
                      }
                      (this._state = !0), (this._value = t), s.call(this);
                    } catch (e) {
                      u.call(this, e);
                    }
                  }
                  function u(e) {
                    (this._state = !1), (this._value = e), s.call(this);
                  }
                  function s() {
                    for (var e = 0, t = this._deferreds.length; e < t; e++)
                      i.call(this, this._deferreds[e]);
                    this._deferreds = null;
                  }
                  function c(e, t, n, r) {
                    (this.onFulfilled = "function" == typeof e ? e : null),
                      (this.onRejected = "function" == typeof t ? t : null),
                      (this.resolve = n),
                      (this.reject = r);
                  }
                  function l(e, t, n) {
                    var r = !1;
                    try {
                      e(
                        function(e) {
                          r || ((r = !0), t(e));
                        },
                        function(e) {
                          r || ((r = !0), n(e));
                        }
                      );
                    } catch (e) {
                      if (r) return;
                      (r = !0), n(e);
                    }
                  }
                  return (
                    (r.prototype.catch = function(e) {
                      return this.then(null, e);
                    }),
                    (r.prototype.then = function(e, t) {
                      var n = this;
                      return new r(function(r, o) {
                        i.call(n, new c(e, t, r, o));
                      });
                    }),
                    (r.all = function() {
                      var e = Array.prototype.slice.call(
                        1 === arguments.length && n(arguments[0])
                          ? arguments[0]
                          : arguments
                      );
                      return new r(function(t, n) {
                        if (0 === e.length) return t([]);
                        var r = e.length;
                        function o(i, a) {
                          try {
                            if (
                              a &&
                              ("object" == typeof a || "function" == typeof a)
                            ) {
                              var u = a.then;
                              if ("function" == typeof u)
                                return void u.call(
                                  a,
                                  function(e) {
                                    o(i, e);
                                  },
                                  n
                                );
                            }
                            (e[i] = a), 0 == --r && t(e);
                          } catch (e) {
                            n(e);
                          }
                        }
                        for (var i = 0; i < e.length; i++) o(i, e[i]);
                      });
                    }),
                    (r.resolve = function(e) {
                      return e && "object" == typeof e && e.constructor === r
                        ? e
                        : new r(function(t) {
                            t(e);
                          });
                    }),
                    (r.reject = function(e) {
                      return new r(function(t, n) {
                        n(e);
                      });
                    }),
                    (r.race = function(e) {
                      return new r(function(t, n) {
                        for (var r = 0, o = e.length; r < o; r++)
                          e[r].then(t, n);
                      });
                    }),
                    r
                  );
                })(),
            me = function(e, t) {
              return "number" != typeof t && (t = 0), setTimeout(e, t);
            },
            he = function(e, t) {
              return "number" != typeof t && (t = 1), setInterval(e, t);
            },
            ge = function(e, t) {
              var n, r;
              return (
                ((r = function() {
                  var r = arguments;
                  clearTimeout(n),
                    (n = me(function() {
                      e.apply(this, r);
                    }, t));
                }).stop = function() {
                  clearTimeout(n);
                }),
                r
              );
            },
            pe = {
              requestAnimationFrame: function(e, t) {
                le
                  ? le.then(e)
                  : (le = new de(function(e) {
                      t || (t = r.document.body),
                        (function(e, t) {
                          var n,
                            o = r.window.requestAnimationFrame,
                            i = ["ms", "moz", "webkit"];
                          for (n = 0; n < i.length && !o; n++)
                            o = r.window[i[n] + "RequestAnimationFrame"];
                          o ||
                            (o = function(e) {
                              r.window.setTimeout(e, 0);
                            }),
                            o(e, t);
                        })(e, t);
                    }).then(e));
              },
              setTimeout: me,
              setInterval: he,
              setEditorTimeout: function(e, t, n) {
                return me(function() {
                  e.removed || t();
                }, n);
              },
              setEditorInterval: function(e, t, n) {
                var r;
                return (r = he(function() {
                  e.removed ? clearInterval(r) : t();
                }, n));
              },
              debounce: ge,
              throttle: ge,
              clearInterval: function(e) {
                return clearInterval(e);
              },
              clearTimeout: function(e) {
                return clearTimeout(e);
              }
            },
            ve = /^(?:mouse|contextmenu)|click/,
            be = {
              keyLocation: 1,
              layerX: 1,
              layerY: 1,
              returnValue: 1,
              webkitMovementX: 1,
              webkitMovementY: 1,
              keyIdentifier: 1
            },
            ye = function() {
              return !1;
            },
            we = function() {
              return !0;
            },
            xe = function(e, t, n, r) {
              e.addEventListener
                ? e.addEventListener(t, n, r || !1)
                : e.attachEvent && e.attachEvent("on" + t, n);
            },
            Ce = function(e, t, n, r) {
              e.removeEventListener
                ? e.removeEventListener(t, n, r || !1)
                : e.detachEvent && e.detachEvent("on" + t, n);
            },
            Se = function(e, t) {
              var n,
                o = t || {};
              for (n in e) be[n] || (o[n] = e[n]);
              if (
                (o.target || (o.target = o.srcElement || r.document),
                fe.experimentalShadowDom &&
                  (o.target = (function(e, t) {
                    if (e.composedPath) {
                      var n = e.composedPath();
                      if (n && n.length > 0) return n[0];
                    }
                    return t;
                  })(e, o.target)),
                e &&
                  ve.test(e.type) &&
                  void 0 === e.pageX &&
                  void 0 !== e.clientX)
              ) {
                var i = o.target.ownerDocument || r.document,
                  a = i.documentElement,
                  u = i.body;
                (o.pageX =
                  e.clientX +
                  ((a && a.scrollLeft) || (u && u.scrollLeft) || 0) -
                  ((a && a.clientLeft) || (u && u.clientLeft) || 0)),
                  (o.pageY =
                    e.clientY +
                    ((a && a.scrollTop) || (u && u.scrollTop) || 0) -
                    ((a && a.clientTop) || (u && u.clientTop) || 0));
              }
              return (
                (o.preventDefault = function() {
                  (o.isDefaultPrevented = we),
                    e &&
                      (e.preventDefault
                        ? e.preventDefault()
                        : (e.returnValue = !1));
                }),
                (o.stopPropagation = function() {
                  (o.isPropagationStopped = we),
                    e &&
                      (e.stopPropagation
                        ? e.stopPropagation()
                        : (e.cancelBubble = !0));
                }),
                (o.stopImmediatePropagation = function() {
                  (o.isImmediatePropagationStopped = we), o.stopPropagation();
                }),
                !1 ===
                  (function(e) {
                    return (
                      e.isDefaultPrevented === we || e.isDefaultPrevented === ye
                    );
                  })(o) &&
                  ((o.isDefaultPrevented = ye),
                  (o.isPropagationStopped = ye),
                  (o.isImmediatePropagationStopped = ye)),
                void 0 === o.metaKey && (o.metaKey = !1),
                o
              );
            },
            Ee = function(e, t, n) {
              var r = e.document,
                o = { type: "ready" };
              if (n.domLoaded) t(o);
              else {
                var i = function() {
                    return (
                      "complete" === r.readyState ||
                      ("interactive" === r.readyState && r.body)
                    );
                  },
                  a = function() {
                    n.domLoaded || ((n.domLoaded = !0), t(o));
                  },
                  u = function() {
                    i() && (Ce(r, "readystatechange", u), a());
                  },
                  s = function() {
                    try {
                      r.documentElement.doScroll("left");
                    } catch (e) {
                      return void pe.setTimeout(s);
                    }
                    a();
                  };
                !r.addEventListener || (fe.ie && fe.ie < 11)
                  ? (xe(r, "readystatechange", u),
                    r.documentElement.doScroll && e.self === e.top && s())
                  : i()
                  ? a()
                  : xe(e, "DOMContentLoaded", a),
                  xe(e, "load", a);
              }
            },
            Te = function() {
              var e,
                t,
                n,
                o,
                i,
                a = this,
                u = {};
              (t = "mce-data-" + (+new Date()).toString(32)),
                (o = "onmouseenter" in r.document.documentElement),
                (n = "onfocusin" in r.document.documentElement),
                (i = { mouseenter: "mouseover", mouseleave: "mouseout" }),
                (e = 1),
                (a.domLoaded = !1),
                (a.events = u);
              var s = function(e, t) {
                var n,
                  r,
                  o,
                  i,
                  a = u[t];
                if ((n = a && a[e.type]))
                  for (r = 0, o = n.length; r < o; r++)
                    if (
                      ((i = n[r]) &&
                        !1 === i.func.call(i.scope, e) &&
                        e.preventDefault(),
                      e.isImmediatePropagationStopped())
                    )
                      return;
              };
              (a.bind = function(c, l, f, d) {
                var m,
                  h,
                  g,
                  p,
                  v,
                  b,
                  y,
                  w = r.window,
                  x = function(e) {
                    s(Se(e || w.event), m);
                  };
                if (c && 3 !== c.nodeType && 8 !== c.nodeType) {
                  for (
                    c[t] ? (m = c[t]) : ((m = e++), (c[t] = m), (u[m] = {})),
                      d = d || c,
                      g = (l = l.split(" ")).length;
                    g--;

                  )
                    (b = x),
                      (v = y = !1),
                      "DOMContentLoaded" === (p = l[g]) && (p = "ready"),
                      a.domLoaded &&
                      "ready" === p &&
                      "complete" === c.readyState
                        ? f.call(d, Se({ type: p }))
                        : (o ||
                            ((v = i[p]) &&
                              (b = function(e) {
                                var t, n;
                                if (
                                  ((t = e.currentTarget),
                                  (n = e.relatedTarget) && t.contains)
                                )
                                  n = t.contains(n);
                                else for (; n && n !== t; ) n = n.parentNode;
                                n ||
                                  (((e = Se(e || w.event)).type =
                                    "mouseout" === e.type
                                      ? "mouseleave"
                                      : "mouseenter"),
                                  (e.target = t),
                                  s(e, m));
                              })),
                          n ||
                            ("focusin" !== p && "focusout" !== p) ||
                            ((y = !0),
                            (v = "focusin" === p ? "focus" : "blur"),
                            (b = function(e) {
                              ((e = Se(e || w.event)).type =
                                "focus" === e.type ? "focusin" : "focusout"),
                                s(e, m);
                            })),
                          (h = u[m][p])
                            ? "ready" === p && a.domLoaded
                              ? f({ type: p })
                              : h.push({ func: f, scope: d })
                            : ((u[m][p] = h = [{ func: f, scope: d }]),
                              (h.fakeName = v),
                              (h.capture = y),
                              (h.nativeHandler = b),
                              "ready" === p
                                ? Ee(c, b, a)
                                : xe(c, v || p, b, y)));
                  return (c = h = 0), f;
                }
              }),
                (a.unbind = function(e, n, r) {
                  var o, i, s, c, l, f;
                  if (!e || 3 === e.nodeType || 8 === e.nodeType) return a;
                  if ((o = e[t])) {
                    if (((f = u[o]), n)) {
                      for (s = (n = n.split(" ")).length; s--; )
                        if ((i = f[(l = n[s])])) {
                          if (r)
                            for (c = i.length; c--; )
                              if (i[c].func === r) {
                                var d = i.nativeHandler,
                                  m = i.fakeName,
                                  h = i.capture;
                                ((i = i
                                  .slice(0, c)
                                  .concat(i.slice(c + 1))).nativeHandler = d),
                                  (i.fakeName = m),
                                  (i.capture = h),
                                  (f[l] = i);
                              }
                          (r && 0 !== i.length) ||
                            (delete f[l],
                            Ce(e, i.fakeName || l, i.nativeHandler, i.capture));
                        }
                    } else {
                      for (l in f)
                        (i = f[l]),
                          Ce(e, i.fakeName || l, i.nativeHandler, i.capture);
                      f = {};
                    }
                    for (l in f) return a;
                    delete u[o];
                    try {
                      delete e[t];
                    } catch (n) {
                      e[t] = null;
                    }
                  }
                  return a;
                }),
                (a.fire = function(e, n, r) {
                  var o;
                  if (!e || 3 === e.nodeType || 8 === e.nodeType) return a;
                  ((r = Se(null, r)).type = n), (r.target = e);
                  do {
                    (o = e[t]) && s(r, o),
                      (e =
                        e.parentNode ||
                        e.ownerDocument ||
                        e.defaultView ||
                        e.parentWindow);
                  } while (e && !r.isPropagationStopped());
                  return a;
                }),
                (a.clean = function(e) {
                  var n,
                    r,
                    o = a.unbind;
                  if (!e || 3 === e.nodeType || 8 === e.nodeType) return a;
                  if (
                    (e[t] && o(e),
                    e.getElementsByTagName || (e = e.document),
                    e && e.getElementsByTagName)
                  )
                    for (
                      o(e), n = (r = e.getElementsByTagName("*")).length;
                      n--;

                    )
                      (e = r[n])[t] && o(e);
                  return a;
                }),
                (a.destroy = function() {
                  u = {};
                }),
                (a.cancel = function(e) {
                  return (
                    e && (e.preventDefault(), e.stopImmediatePropagation()), !1
                  );
                });
            };
          (Te.Event = new Te()).bind(r.window, "ready", function() {});
          var Ne,
            _e,
            ke,
            Re,
            De,
            Oe,
            Ae,
            Pe,
            Be,
            Ie,
            Me,
            Le,
            Fe,
            He,
            ze,
            We,
            Ue,
            je,
            Ve = "sizzle" + -new Date(),
            qe = r.window.document,
            $e = 0,
            Ke = 0,
            Ye = Tt(),
            Xe = Tt(),
            Ge = Tt(),
            Je = function(e, t) {
              return e === t && (Me = !0), 0;
            },
            Qe = {}.hasOwnProperty,
            Ze = [],
            et = Ze.pop,
            tt = Ze.push,
            nt = Ze.push,
            rt = Ze.slice,
            ot =
              Ze.indexOf ||
              function(e) {
                for (var t = 0, n = this.length; t < n; t++)
                  if (this[t] === e) return t;
                return -1;
              },
            it = "[\\x20\\t\\r\\n\\f]",
            at = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
            ut =
              "\\[" +
              it +
              "*(" +
              at +
              ")(?:" +
              it +
              "*([*^$|!~]?=)" +
              it +
              "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" +
              at +
              "))|)" +
              it +
              "*\\]",
            st =
              ":(" +
              at +
              ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" +
              ut +
              ")*)|.*)\\)|)",
            ct = new RegExp(
              "^" + it + "+|((?:^|[^\\\\])(?:\\\\.)*)" + it + "+$",
              "g"
            ),
            lt = new RegExp("^" + it + "*," + it + "*"),
            ft = new RegExp("^" + it + "*([>+~]|" + it + ")" + it + "*"),
            dt = new RegExp("=" + it + "*([^\\]'\"]*?)" + it + "*\\]", "g"),
            mt = new RegExp(st),
            ht = new RegExp("^" + at + "$"),
            gt = {
              ID: new RegExp("^#(" + at + ")"),
              CLASS: new RegExp("^\\.(" + at + ")"),
              TAG: new RegExp("^(" + at + "|[*])"),
              ATTR: new RegExp("^" + ut),
              PSEUDO: new RegExp("^" + st),
              CHILD: new RegExp(
                "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" +
                  it +
                  "*(even|odd|(([+-]|)(\\d*)n|)" +
                  it +
                  "*(?:([+-]|)" +
                  it +
                  "*(\\d+)|))" +
                  it +
                  "*\\)|)",
                "i"
              ),
              bool: new RegExp(
                "^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$",
                "i"
              ),
              needsContext: new RegExp(
                "^" +
                  it +
                  "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
                  it +
                  "*((?:-\\d)?\\d*)" +
                  it +
                  "*\\)|)(?=[^-]|$)",
                "i"
              )
            },
            pt = /^(?:input|select|textarea|button)$/i,
            vt = /^h\d$/i,
            bt = /^[^{]+\{\s*\[native \w/,
            yt = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
            wt = /[+~]/,
            xt = /'|\\/g,
            Ct = new RegExp(
              "\\\\([\\da-f]{1,6}" + it + "?|(" + it + ")|.)",
              "ig"
            ),
            St = function(e, t, n) {
              var r = "0x" + t - 65536;
              return r != r || n
                ? t
                : r < 0
                ? String.fromCharCode(r + 65536)
                : String.fromCharCode((r >> 10) | 55296, (1023 & r) | 56320);
            };
          try {
            nt.apply((Ze = rt.call(qe.childNodes)), qe.childNodes),
              Ze[qe.childNodes.length].nodeType;
          } catch (e) {
            nt = {
              apply: Ze.length
                ? function(e, t) {
                    tt.apply(e, rt.call(t));
                  }
                : function(e, t) {
                    for (var n = e.length, r = 0; (e[n++] = t[r++]); );
                    e.length = n - 1;
                  }
            };
          }
          var Et = function(e, t, n, r) {
            var o, i, a, u, s, c, l, f, d, m;
            if (
              ((t ? t.ownerDocument || t : qe) !== Fe && Le(t),
              (n = n || []),
              !e || "string" != typeof e)
            )
              return n;
            if (1 !== (u = (t = t || Fe).nodeType) && 9 !== u) return [];
            if (ze && !r) {
              if ((o = yt.exec(e)))
                if ((a = o[1])) {
                  if (9 === u) {
                    if (!(i = t.getElementById(a)) || !i.parentNode) return n;
                    if (i.id === a) return n.push(i), n;
                  } else if (
                    t.ownerDocument &&
                    (i = t.ownerDocument.getElementById(a)) &&
                    je(t, i) &&
                    i.id === a
                  )
                    return n.push(i), n;
                } else {
                  if (o[2]) return nt.apply(n, t.getElementsByTagName(e)), n;
                  if ((a = o[3]) && _e.getElementsByClassName)
                    return nt.apply(n, t.getElementsByClassName(a)), n;
                }
              if (_e.qsa && (!We || !We.test(e))) {
                if (
                  ((f = l = Ve),
                  (d = t),
                  (m = 9 === u && e),
                  1 === u && "object" !== t.nodeName.toLowerCase())
                ) {
                  for (
                    c = Oe(e),
                      (l = t.getAttribute("id"))
                        ? (f = l.replace(xt, "\\$&"))
                        : t.setAttribute("id", f),
                      f = "[id='" + f + "'] ",
                      s = c.length;
                    s--;

                  )
                    c[s] = f + Pt(c[s]);
                  (d = (wt.test(e) && Ot(t.parentNode)) || t),
                    (m = c.join(","));
                }
                if (m)
                  try {
                    return nt.apply(n, d.querySelectorAll(m)), n;
                  } catch (e) {
                  } finally {
                    l || t.removeAttribute("id");
                  }
              }
            }
            return Pe(e.replace(ct, "$1"), t, n, r);
          };
          function Tt() {
            var e = [];
            return function t(n, r) {
              return (
                e.push(n + " ") > ke.cacheLength && delete t[e.shift()],
                (t[n + " "] = r)
              );
            };
          }
          function Nt(e) {
            return (e[Ve] = !0), e;
          }
          function _t(e, t) {
            var n = t && e,
              r =
                n &&
                1 === e.nodeType &&
                1 === t.nodeType &&
                (~t.sourceIndex || 1 << 31) - (~e.sourceIndex || 1 << 31);
            if (r) return r;
            if (n) for (; (n = n.nextSibling); ) if (n === t) return -1;
            return e ? 1 : -1;
          }
          function kt(e) {
            return function(t) {
              return "input" === t.nodeName.toLowerCase() && t.type === e;
            };
          }
          function Rt(e) {
            return function(t) {
              var n = t.nodeName.toLowerCase();
              return ("input" === n || "button" === n) && t.type === e;
            };
          }
          function Dt(e) {
            return Nt(function(t) {
              return (
                (t = +t),
                Nt(function(n, r) {
                  for (var o, i = e([], n.length, t), a = i.length; a--; )
                    n[(o = i[a])] && (n[o] = !(r[o] = n[o]));
                })
              );
            });
          }
          function Ot(e) {
            return e && void 0 !== e.getElementsByTagName && e;
          }
          for (Ne in ((_e = Et.support = {}),
          (De = Et.isXML = function(e) {
            var t = e && (e.ownerDocument || e).documentElement;
            return !!t && "HTML" !== t.nodeName;
          }),
          (Le = Et.setDocument = function(e) {
            var t,
              n = e ? e.ownerDocument || e : qe,
              r = n.defaultView;
            return n !== Fe && 9 === n.nodeType && n.documentElement
              ? ((Fe = n),
                (He = n.documentElement),
                (ze = !De(n)),
                r &&
                  r !==
                    (function(e) {
                      try {
                        return e.top;
                      } catch (e) {}
                      return null;
                    })(r) &&
                  (r.addEventListener
                    ? r.addEventListener(
                        "unload",
                        function() {
                          Le();
                        },
                        !1
                      )
                    : r.attachEvent &&
                      r.attachEvent("onunload", function() {
                        Le();
                      })),
                (_e.attributes = !0),
                (_e.getElementsByTagName = !0),
                (_e.getElementsByClassName = bt.test(n.getElementsByClassName)),
                (_e.getById = !0),
                (ke.find.ID = function(e, t) {
                  if (void 0 !== t.getElementById && ze) {
                    var n = t.getElementById(e);
                    return n && n.parentNode ? [n] : [];
                  }
                }),
                (ke.filter.ID = function(e) {
                  var t = e.replace(Ct, St);
                  return function(e) {
                    return e.getAttribute("id") === t;
                  };
                }),
                (ke.find.TAG = _e.getElementsByTagName
                  ? function(e, t) {
                      if (void 0 !== t.getElementsByTagName)
                        return t.getElementsByTagName(e);
                    }
                  : function(e, t) {
                      var n,
                        r = [],
                        o = 0,
                        i = t.getElementsByTagName(e);
                      if ("*" === e) {
                        for (; (n = i[o++]); ) 1 === n.nodeType && r.push(n);
                        return r;
                      }
                      return i;
                    }),
                (ke.find.CLASS =
                  _e.getElementsByClassName &&
                  function(e, t) {
                    if (ze) return t.getElementsByClassName(e);
                  }),
                (Ue = []),
                (We = []),
                (_e.disconnectedMatch = !0),
                (We = We.length && new RegExp(We.join("|"))),
                (Ue = Ue.length && new RegExp(Ue.join("|"))),
                (t = bt.test(He.compareDocumentPosition)),
                (je =
                  t || bt.test(He.contains)
                    ? function(e, t) {
                        var n = 9 === e.nodeType ? e.documentElement : e,
                          r = t && t.parentNode;
                        return (
                          e === r ||
                          !(
                            !r ||
                            1 !== r.nodeType ||
                            !(n.contains
                              ? n.contains(r)
                              : e.compareDocumentPosition &&
                                16 & e.compareDocumentPosition(r))
                          )
                        );
                      }
                    : function(e, t) {
                        if (t)
                          for (; (t = t.parentNode); ) if (t === e) return !0;
                        return !1;
                      }),
                (Je = t
                  ? function(e, t) {
                      if (e === t) return (Me = !0), 0;
                      var r =
                        !e.compareDocumentPosition - !t.compareDocumentPosition;
                      return (
                        r ||
                        (1 &
                          (r =
                            (e.ownerDocument || e) === (t.ownerDocument || t)
                              ? e.compareDocumentPosition(t)
                              : 1) ||
                        (!_e.sortDetached && t.compareDocumentPosition(e) === r)
                          ? e === n || (e.ownerDocument === qe && je(qe, e))
                            ? -1
                            : t === n || (t.ownerDocument === qe && je(qe, t))
                            ? 1
                            : Ie
                            ? ot.call(Ie, e) - ot.call(Ie, t)
                            : 0
                          : 4 & r
                          ? -1
                          : 1)
                      );
                    }
                  : function(e, t) {
                      if (e === t) return (Me = !0), 0;
                      var r,
                        o = 0,
                        i = e.parentNode,
                        a = t.parentNode,
                        u = [e],
                        s = [t];
                      if (!i || !a)
                        return e === n
                          ? -1
                          : t === n
                          ? 1
                          : i
                          ? -1
                          : a
                          ? 1
                          : Ie
                          ? ot.call(Ie, e) - ot.call(Ie, t)
                          : 0;
                      if (i === a) return _t(e, t);
                      for (r = e; (r = r.parentNode); ) u.unshift(r);
                      for (r = t; (r = r.parentNode); ) s.unshift(r);
                      for (; u[o] === s[o]; ) o++;
                      return o
                        ? _t(u[o], s[o])
                        : u[o] === qe
                        ? -1
                        : s[o] === qe
                        ? 1
                        : 0;
                    }),
                n)
              : Fe;
          }),
          (Et.matches = function(e, t) {
            return Et(e, null, null, t);
          }),
          (Et.matchesSelector = function(e, t) {
            if (
              ((e.ownerDocument || e) !== Fe && Le(e),
              (t = t.replace(dt, "='$1']")),
              _e.matchesSelector &&
                ze &&
                (!Ue || !Ue.test(t)) &&
                (!We || !We.test(t)))
            )
              try {
                var n = (void 0).call(e, t);
                if (
                  n ||
                  _e.disconnectedMatch ||
                  (e.document && 11 !== e.document.nodeType)
                )
                  return n;
              } catch (e) {}
            return Et(t, Fe, null, [e]).length > 0;
          }),
          (Et.contains = function(e, t) {
            return (e.ownerDocument || e) !== Fe && Le(e), je(e, t);
          }),
          (Et.attr = function(e, t) {
            (e.ownerDocument || e) !== Fe && Le(e);
            var n = ke.attrHandle[t.toLowerCase()],
              r =
                n && Qe.call(ke.attrHandle, t.toLowerCase())
                  ? n(e, t, !ze)
                  : void 0;
            return void 0 !== r
              ? r
              : _e.attributes || !ze
              ? e.getAttribute(t)
              : (r = e.getAttributeNode(t)) && r.specified
              ? r.value
              : null;
          }),
          (Et.error = function(e) {
            throw new Error("Syntax error, unrecognized expression: " + e);
          }),
          (Et.uniqueSort = function(e) {
            var t,
              n = [],
              r = 0,
              o = 0;
            if (
              ((Me = !_e.detectDuplicates),
              (Ie = !_e.sortStable && e.slice(0)),
              e.sort(Je),
              Me)
            ) {
              for (; (t = e[o++]); ) t === e[o] && (r = n.push(o));
              for (; r--; ) e.splice(n[r], 1);
            }
            return (Ie = null), e;
          }),
          (Re = Et.getText = function(e) {
            var t,
              n = "",
              r = 0,
              o = e.nodeType;
            if (o) {
              if (1 === o || 9 === o || 11 === o) {
                if ("string" == typeof e.textContent) return e.textContent;
                for (e = e.firstChild; e; e = e.nextSibling) n += Re(e);
              } else if (3 === o || 4 === o) return e.nodeValue;
            } else for (; (t = e[r++]); ) n += Re(t);
            return n;
          }),
          ((ke = Et.selectors = {
            cacheLength: 50,
            createPseudo: Nt,
            match: gt,
            attrHandle: {},
            find: {},
            relative: {
              ">": { dir: "parentNode", first: !0 },
              " ": { dir: "parentNode" },
              "+": { dir: "previousSibling", first: !0 },
              "~": { dir: "previousSibling" }
            },
            preFilter: {
              ATTR: function(e) {
                return (
                  (e[1] = e[1].replace(Ct, St)),
                  (e[3] = (e[3] || e[4] || e[5] || "").replace(Ct, St)),
                  "~=" === e[2] && (e[3] = " " + e[3] + " "),
                  e.slice(0, 4)
                );
              },
              CHILD: function(e) {
                return (
                  (e[1] = e[1].toLowerCase()),
                  "nth" === e[1].slice(0, 3)
                    ? (e[3] || Et.error(e[0]),
                      (e[4] = +(e[4]
                        ? e[5] + (e[6] || 1)
                        : 2 * ("even" === e[3] || "odd" === e[3]))),
                      (e[5] = +(e[7] + e[8] || "odd" === e[3])))
                    : e[3] && Et.error(e[0]),
                  e
                );
              },
              PSEUDO: function(e) {
                var t,
                  n = !e[6] && e[2];
                return gt.CHILD.test(e[0])
                  ? null
                  : (e[3]
                      ? (e[2] = e[4] || e[5] || "")
                      : n &&
                        mt.test(n) &&
                        (t = Oe(n, !0)) &&
                        (t = n.indexOf(")", n.length - t) - n.length) &&
                        ((e[0] = e[0].slice(0, t)), (e[2] = n.slice(0, t))),
                    e.slice(0, 3));
              }
            },
            filter: {
              TAG: function(e) {
                var t = e.replace(Ct, St).toLowerCase();
                return "*" === e
                  ? function() {
                      return !0;
                    }
                  : function(e) {
                      return e.nodeName && e.nodeName.toLowerCase() === t;
                    };
              },
              CLASS: function(e) {
                var t = Ye[e + " "];
                return (
                  t ||
                  ((t = new RegExp("(^|" + it + ")" + e + "(" + it + "|$)")) &&
                    Ye(e, function(e) {
                      return t.test(
                        ("string" == typeof e.className && e.className) ||
                          (void 0 !== e.getAttribute &&
                            e.getAttribute("class")) ||
                          ""
                      );
                    }))
                );
              },
              ATTR: function(e, t, n) {
                return function(r) {
                  var o = Et.attr(r, e);
                  return null == o
                    ? "!=" === t
                    : !t ||
                        ((o += ""),
                        "=" === t
                          ? o === n
                          : "!=" === t
                          ? o !== n
                          : "^=" === t
                          ? n && 0 === o.indexOf(n)
                          : "*=" === t
                          ? n && o.indexOf(n) > -1
                          : "$=" === t
                          ? n && o.slice(-n.length) === n
                          : "~=" === t
                          ? (" " + o + " ").indexOf(n) > -1
                          : "|=" === t &&
                            (o === n || o.slice(0, n.length + 1) === n + "-"));
                };
              },
              CHILD: function(e, t, n, r, o) {
                var i = "nth" !== e.slice(0, 3),
                  a = "last" !== e.slice(-4),
                  u = "of-type" === t;
                return 1 === r && 0 === o
                  ? function(e) {
                      return !!e.parentNode;
                    }
                  : function(t, n, s) {
                      var c,
                        l,
                        f,
                        d,
                        m,
                        h,
                        g = i !== a ? "nextSibling" : "previousSibling",
                        p = t.parentNode,
                        v = u && t.nodeName.toLowerCase(),
                        b = !s && !u;
                      if (p) {
                        if (i) {
                          for (; g; ) {
                            for (f = t; (f = f[g]); )
                              if (
                                u
                                  ? f.nodeName.toLowerCase() === v
                                  : 1 === f.nodeType
                              )
                                return !1;
                            h = g = "only" === e && !h && "nextSibling";
                          }
                          return !0;
                        }
                        if (((h = [a ? p.firstChild : p.lastChild]), a && b)) {
                          for (
                            m =
                              (c = (l = p[Ve] || (p[Ve] = {}))[e] || [])[0] ===
                                $e && c[1],
                              d = c[0] === $e && c[2],
                              f = m && p.childNodes[m];
                            (f = (++m && f && f[g]) || (d = m = 0) || h.pop());

                          )
                            if (1 === f.nodeType && ++d && f === t) {
                              l[e] = [$e, m, d];
                              break;
                            }
                        } else if (
                          b &&
                          (c = (t[Ve] || (t[Ve] = {}))[e]) &&
                          c[0] === $e
                        )
                          d = c[1];
                        else
                          for (
                            ;
                            (f =
                              (++m && f && f[g]) || (d = m = 0) || h.pop()) &&
                            ((u
                              ? f.nodeName.toLowerCase() !== v
                              : 1 !== f.nodeType) ||
                              !++d ||
                              (b && ((f[Ve] || (f[Ve] = {}))[e] = [$e, d]),
                              f !== t));

                          );
                        return (d -= o) === r || (d % r == 0 && d / r >= 0);
                      }
                    };
              },
              PSEUDO: function(e, t) {
                var n,
                  r =
                    ke.pseudos[e] ||
                    ke.setFilters[e.toLowerCase()] ||
                    Et.error("unsupported pseudo: " + e);
                return r[Ve]
                  ? r(t)
                  : r.length > 1
                  ? ((n = [e, e, "", t]),
                    ke.setFilters.hasOwnProperty(e.toLowerCase())
                      ? Nt(function(e, n) {
                          for (var o, i = r(e, t), a = i.length; a--; )
                            e[(o = ot.call(e, i[a]))] = !(n[o] = i[a]);
                        })
                      : function(e) {
                          return r(e, 0, n);
                        })
                  : r;
              }
            },
            pseudos: {
              not: Nt(function(e) {
                var t = [],
                  n = [],
                  r = Ae(e.replace(ct, "$1"));
                return r[Ve]
                  ? Nt(function(e, t, n, o) {
                      for (var i, a = r(e, null, o, []), u = e.length; u--; )
                        (i = a[u]) && (e[u] = !(t[u] = i));
                    })
                  : function(e, o, i) {
                      return (t[0] = e), r(t, null, i, n), !n.pop();
                    };
              }),
              has: Nt(function(e) {
                return function(t) {
                  return Et(e, t).length > 0;
                };
              }),
              contains: Nt(function(e) {
                return (
                  (e = e.replace(Ct, St)),
                  function(t) {
                    return (
                      (t.textContent || t.innerText || Re(t)).indexOf(e) > -1
                    );
                  }
                );
              }),
              lang: Nt(function(e) {
                return (
                  ht.test(e || "") || Et.error("unsupported lang: " + e),
                  (e = e.replace(Ct, St).toLowerCase()),
                  function(t) {
                    var n;
                    do {
                      if (
                        (n = ze
                          ? t.lang
                          : t.getAttribute("xml:lang") ||
                            t.getAttribute("lang"))
                      )
                        return (
                          (n = n.toLowerCase()) === e ||
                          0 === n.indexOf(e + "-")
                        );
                    } while ((t = t.parentNode) && 1 === t.nodeType);
                    return !1;
                  }
                );
              }),
              target: function(e) {
                var t = r.window.location && r.window.location.hash;
                return t && t.slice(1) === e.id;
              },
              root: function(e) {
                return e === He;
              },
              focus: function(e) {
                return (
                  e === Fe.activeElement &&
                  (!Fe.hasFocus || Fe.hasFocus()) &&
                  !!(e.type || e.href || ~e.tabIndex)
                );
              },
              enabled: function(e) {
                return !1 === e.disabled;
              },
              disabled: function(e) {
                return !0 === e.disabled;
              },
              checked: function(e) {
                var t = e.nodeName.toLowerCase();
                return (
                  ("input" === t && !!e.checked) ||
                  ("option" === t && !!e.selected)
                );
              },
              selected: function(e) {
                return (
                  e.parentNode && e.parentNode.selectedIndex, !0 === e.selected
                );
              },
              empty: function(e) {
                for (e = e.firstChild; e; e = e.nextSibling)
                  if (e.nodeType < 6) return !1;
                return !0;
              },
              parent: function(e) {
                return !ke.pseudos.empty(e);
              },
              header: function(e) {
                return vt.test(e.nodeName);
              },
              input: function(e) {
                return pt.test(e.nodeName);
              },
              button: function(e) {
                var t = e.nodeName.toLowerCase();
                return ("input" === t && "button" === e.type) || "button" === t;
              },
              text: function(e) {
                var t;
                return (
                  "input" === e.nodeName.toLowerCase() &&
                  "text" === e.type &&
                  (null == (t = e.getAttribute("type")) ||
                    "text" === t.toLowerCase())
                );
              },
              first: Dt(function() {
                return [0];
              }),
              last: Dt(function(e, t) {
                return [t - 1];
              }),
              eq: Dt(function(e, t, n) {
                return [n < 0 ? n + t : n];
              }),
              even: Dt(function(e, t) {
                for (var n = 0; n < t; n += 2) e.push(n);
                return e;
              }),
              odd: Dt(function(e, t) {
                for (var n = 1; n < t; n += 2) e.push(n);
                return e;
              }),
              lt: Dt(function(e, t, n) {
                for (var r = n < 0 ? n + t : n; --r >= 0; ) e.push(r);
                return e;
              }),
              gt: Dt(function(e, t, n) {
                for (var r = n < 0 ? n + t : n; ++r < t; ) e.push(r);
                return e;
              })
            }
          }).pseudos.nth = ke.pseudos.eq),
          { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 }))
            ke.pseudos[Ne] = kt(Ne);
          for (Ne in { submit: !0, reset: !0 }) ke.pseudos[Ne] = Rt(Ne);
          function At() {}
          function Pt(e) {
            for (var t = 0, n = e.length, r = ""; t < n; t++) r += e[t].value;
            return r;
          }
          function Bt(e, t, n) {
            var r = t.dir,
              o = n && "parentNode" === r,
              i = Ke++;
            return t.first
              ? function(t, n, i) {
                  for (; (t = t[r]); )
                    if (1 === t.nodeType || o) return e(t, n, i);
                }
              : function(t, n, a) {
                  var u,
                    s,
                    c = [$e, i];
                  if (a) {
                    for (; (t = t[r]); )
                      if ((1 === t.nodeType || o) && e(t, n, a)) return !0;
                  } else
                    for (; (t = t[r]); )
                      if (1 === t.nodeType || o) {
                        if (
                          (u = (s = t[Ve] || (t[Ve] = {}))[r]) &&
                          u[0] === $e &&
                          u[1] === i
                        )
                          return (c[2] = u[2]);
                        if (((s[r] = c), (c[2] = e(t, n, a)))) return !0;
                      }
                };
          }
          function It(e) {
            return e.length > 1
              ? function(t, n, r) {
                  for (var o = e.length; o--; ) if (!e[o](t, n, r)) return !1;
                  return !0;
                }
              : e[0];
          }
          function Mt(e, t, n, r, o) {
            for (var i, a = [], u = 0, s = e.length, c = null != t; u < s; u++)
              (i = e[u]) && ((n && !n(i, r, o)) || (a.push(i), c && t.push(u)));
            return a;
          }
          function Lt(e, t, n, r, o, i) {
            return (
              r && !r[Ve] && (r = Lt(r)),
              o && !o[Ve] && (o = Lt(o, i)),
              Nt(function(i, a, u, s) {
                var c,
                  l,
                  f,
                  d = [],
                  m = [],
                  h = a.length,
                  g =
                    i ||
                    (function(e, t, n) {
                      for (var r = 0, o = t.length; r < o; r++) Et(e, t[r], n);
                      return n;
                    })(t || "*", u.nodeType ? [u] : u, []),
                  p = !e || (!i && t) ? g : Mt(g, d, e, u, s),
                  v = n ? (o || (i ? e : h || r) ? [] : a) : p;
                if ((n && n(p, v, u, s), r))
                  for (c = Mt(v, m), r(c, [], u, s), l = c.length; l--; )
                    (f = c[l]) && (v[m[l]] = !(p[m[l]] = f));
                if (i) {
                  if (o || e) {
                    if (o) {
                      for (c = [], l = v.length; l--; )
                        (f = v[l]) && c.push((p[l] = f));
                      o(null, (v = []), c, s);
                    }
                    for (l = v.length; l--; )
                      (f = v[l]) &&
                        (c = o ? ot.call(i, f) : d[l]) > -1 &&
                        (i[c] = !(a[c] = f));
                  }
                } else (v = Mt(v === a ? v.splice(h, v.length) : v)), o ? o(null, a, v, s) : nt.apply(a, v);
              })
            );
          }
          function Ft(e) {
            for (
              var t,
                n,
                r,
                o = e.length,
                i = ke.relative[e[0].type],
                a = i || ke.relative[" "],
                u = i ? 1 : 0,
                s = Bt(
                  function(e) {
                    return e === t;
                  },
                  a,
                  !0
                ),
                c = Bt(
                  function(e) {
                    return ot.call(t, e) > -1;
                  },
                  a,
                  !0
                ),
                l = [
                  function(e, n, r) {
                    return (
                      (!i && (r || n !== Be)) ||
                      ((t = n).nodeType ? s(e, n, r) : c(e, n, r))
                    );
                  }
                ];
              u < o;
              u++
            )
              if ((n = ke.relative[e[u].type])) l = [Bt(It(l), n)];
              else {
                if ((n = ke.filter[e[u].type].apply(null, e[u].matches))[Ve]) {
                  for (r = ++u; r < o && !ke.relative[e[r].type]; r++);
                  return Lt(
                    u > 1 && It(l),
                    u > 1 &&
                      Pt(
                        e
                          .slice(0, u - 1)
                          .concat({ value: " " === e[u - 2].type ? "*" : "" })
                      ).replace(ct, "$1"),
                    n,
                    u < r && Ft(e.slice(u, r)),
                    r < o && Ft((e = e.slice(r))),
                    r < o && Pt(e)
                  );
                }
                l.push(n);
              }
            return It(l);
          }
          (At.prototype = ke.filters = ke.pseudos),
            (ke.setFilters = new At()),
            (Oe = Et.tokenize = function(e, t) {
              var n,
                r,
                o,
                i,
                a,
                u,
                s,
                c = Xe[e + " "];
              if (c) return t ? 0 : c.slice(0);
              for (a = e, u = [], s = ke.preFilter; a; ) {
                for (i in ((n && !(r = lt.exec(a))) ||
                  (r && (a = a.slice(r[0].length) || a), u.push((o = []))),
                (n = !1),
                (r = ft.exec(a)) &&
                  ((n = r.shift()),
                  o.push({ value: n, type: r[0].replace(ct, " ") }),
                  (a = a.slice(n.length))),
                ke.filter))
                  !(r = gt[i].exec(a)) ||
                    (s[i] && !(r = s[i](r))) ||
                    ((n = r.shift()),
                    o.push({ value: n, type: i, matches: r }),
                    (a = a.slice(n.length)));
                if (!n) break;
              }
              return t ? a.length : a ? Et.error(e) : Xe(e, u).slice(0);
            }),
            (Ae = Et.compile = function(e, t) {
              var n,
                r = [],
                o = [],
                i = Ge[e + " "];
              if (!i) {
                for (t || (t = Oe(e)), n = t.length; n--; )
                  (i = Ft(t[n]))[Ve] ? r.push(i) : o.push(i);
                (i = Ge(
                  e,
                  (function(e, t) {
                    var n = t.length > 0,
                      r = e.length > 0,
                      o = function(o, i, a, u, s) {
                        var c,
                          l,
                          f,
                          d = 0,
                          m = "0",
                          h = o && [],
                          g = [],
                          p = Be,
                          v = o || (r && ke.find.TAG("*", s)),
                          b = ($e += null == p ? 1 : Math.random() || 0.1),
                          y = v.length;
                        for (
                          s && (Be = i !== Fe && i);
                          m !== y && null != (c = v[m]);
                          m++
                        ) {
                          if (r && c) {
                            for (l = 0; (f = e[l++]); )
                              if (f(c, i, a)) {
                                u.push(c);
                                break;
                              }
                            s && ($e = b);
                          }
                          n && ((c = !f && c) && d--, o && h.push(c));
                        }
                        if (((d += m), n && m !== d)) {
                          for (l = 0; (f = t[l++]); ) f(h, g, i, a);
                          if (o) {
                            if (d > 0)
                              for (; m--; ) h[m] || g[m] || (g[m] = et.call(u));
                            g = Mt(g);
                          }
                          nt.apply(u, g),
                            s &&
                              !o &&
                              g.length > 0 &&
                              d + t.length > 1 &&
                              Et.uniqueSort(u);
                        }
                        return s && (($e = b), (Be = p)), h;
                      };
                    return n ? Nt(o) : o;
                  })(o, r)
                )).selector = e;
              }
              return i;
            }),
            (Pe = Et.select = function(e, t, n, r) {
              var o,
                i,
                a,
                u,
                s,
                c = "function" == typeof e && e,
                l = !r && Oe((e = c.selector || e));
              if (((n = n || []), 1 === l.length)) {
                if (
                  (i = l[0] = l[0].slice(0)).length > 2 &&
                  "ID" === (a = i[0]).type &&
                  _e.getById &&
                  9 === t.nodeType &&
                  ze &&
                  ke.relative[i[1].type]
                ) {
                  if (
                    !(t = (ke.find.ID(a.matches[0].replace(Ct, St), t) ||
                      [])[0])
                  )
                    return n;
                  c && (t = t.parentNode),
                    (e = e.slice(i.shift().value.length));
                }
                for (
                  o = gt.needsContext.test(e) ? 0 : i.length;
                  o-- && ((a = i[o]), !ke.relative[(u = a.type)]);

                )
                  if (
                    (s = ke.find[u]) &&
                    (r = s(
                      a.matches[0].replace(Ct, St),
                      (wt.test(i[0].type) && Ot(t.parentNode)) || t
                    ))
                  ) {
                    if ((i.splice(o, 1), !(e = r.length && Pt(i))))
                      return nt.apply(n, r), n;
                    break;
                  }
              }
              return (
                (c || Ae(e, l))(
                  r,
                  t,
                  !ze,
                  n,
                  (wt.test(e) && Ot(t.parentNode)) || t
                ),
                n
              );
            }),
            (_e.sortStable =
              Ve.split("")
                .sort(Je)
                .join("") === Ve),
            (_e.detectDuplicates = !!Me),
            Le(),
            (_e.sortDetached = !0);
          var Ht = Array.isArray,
            zt = function(e, t, n) {
              var r, o;
              if (!e) return 0;
              if (((n = n || e), void 0 !== e.length)) {
                for (r = 0, o = e.length; r < o; r++)
                  if (!1 === t.call(n, e[r], r, e)) return 0;
              } else
                for (r in e)
                  if (e.hasOwnProperty(r) && !1 === t.call(n, e[r], r, e))
                    return 0;
              return 1;
            },
            Wt = function(e, t, n) {
              var r, o;
              for (r = 0, o = e.length; r < o; r++)
                if (t.call(n, e[r], r, e)) return r;
              return -1;
            },
            Ut = {
              isArray: Ht,
              toArray: function(e) {
                var t,
                  n,
                  r = e;
                if (!Ht(e))
                  for (r = [], t = 0, n = e.length; t < n; t++) r[t] = e[t];
                return r;
              },
              each: zt,
              map: function(e, t) {
                var n = [];
                return (
                  zt(e, function(r, o) {
                    n.push(t(r, o, e));
                  }),
                  n
                );
              },
              filter: function(e, t) {
                var n = [];
                return (
                  zt(e, function(r, o) {
                    (t && !t(r, o, e)) || n.push(r);
                  }),
                  n
                );
              },
              indexOf: function(e, t) {
                var n, r;
                if (e)
                  for (n = 0, r = e.length; n < r; n++)
                    if (e[n] === t) return n;
                return -1;
              },
              reduce: function(e, t, n, r) {
                var o = 0;
                for (arguments.length < 3 && (n = e[0]); o < e.length; o++)
                  n = t.call(r, n, e[o], o);
                return n;
              },
              findIndex: Wt,
              find: function(e, t, n) {
                var r = Wt(e, t, n);
                if (-1 !== r) return e[r];
              },
              last: function(e) {
                return e[e.length - 1];
              }
            },
            jt = /^\s*|\s*$/g,
            Vt = function(e) {
              return null == e ? "" : ("" + e).replace(jt, "");
            },
            qt = function(e, t) {
              return t
                ? !("array" !== t || !Ut.isArray(e)) || typeof e === t
                : void 0 !== e;
            },
            $t = function(e, t, n, r) {
              (r = r || this),
                e &&
                  (n && (e = e[n]),
                  Ut.each(e, function(e, o) {
                    if (!1 === t.call(r, e, o, n)) return !1;
                    $t(e, t, n, r);
                  }));
            },
            Kt = {
              trim: Vt,
              isArray: Ut.isArray,
              is: qt,
              toArray: Ut.toArray,
              makeMap: function(e, t, n) {
                var r;
                for (
                  t = t || ",",
                    "string" == typeof (e = e || []) && (e = e.split(t)),
                    n = n || {},
                    r = e.length;
                  r--;

                )
                  n[e[r]] = {};
                return n;
              },
              each: Ut.each,
              map: Ut.map,
              grep: Ut.filter,
              inArray: Ut.indexOf,
              hasOwn: function(e, t) {
                return Object.prototype.hasOwnProperty.call(e, t);
              },
              extend: function(e, t) {
                for (var n, r, o, i = [], a = 2; a < arguments.length; a++)
                  i[a - 2] = arguments[a];
                var u,
                  s = arguments;
                for (n = 1, r = s.length; n < r; n++)
                  for (o in (t = s[n]))
                    t.hasOwnProperty(o) && void 0 !== (u = t[o]) && (e[o] = u);
                return e;
              },
              create: function(e, t, n) {
                var r,
                  o,
                  i,
                  a,
                  u,
                  s = 0;
                if (
                  ((e = /^((static) )?([\w.]+)(:([\w.]+))?/.exec(e)),
                  (i = e[3].match(/(^|\.)(\w+)$/i)[2]),
                  !(o = this.createNS(e[3].replace(/\.\w+$/, ""), n))[i])
                ) {
                  if ("static" === e[2])
                    return (
                      (o[i] = t),
                      void (this.onCreate && this.onCreate(e[2], e[3], o[i]))
                    );
                  t[i] || ((t[i] = function() {}), (s = 1)),
                    (o[i] = t[i]),
                    this.extend(o[i].prototype, t),
                    e[5] &&
                      ((r = this.resolve(e[5]).prototype),
                      (a = e[5].match(/\.(\w+)$/i)[1]),
                      (u = o[i]),
                      (o[i] = s
                        ? function() {
                            return r[a].apply(this, arguments);
                          }
                        : function() {
                            return (
                              (this.parent = r[a]), u.apply(this, arguments)
                            );
                          }),
                      (o[i].prototype[i] = o[i]),
                      this.each(r, function(e, t) {
                        o[i].prototype[t] = r[t];
                      }),
                      this.each(t, function(e, t) {
                        r[t]
                          ? (o[i].prototype[t] = function() {
                              return (
                                (this.parent = r[t]), e.apply(this, arguments)
                              );
                            })
                          : t !== i && (o[i].prototype[t] = e);
                      })),
                    this.each(t.static, function(e, t) {
                      o[i][t] = e;
                    });
                }
              },
              walk: $t,
              createNS: function(e, t) {
                var n, o;
                for (
                  t = t || r.window, e = e.split("."), n = 0;
                  n < e.length;
                  n++
                )
                  t[(o = e[n])] || (t[o] = {}), (t = t[o]);
                return t;
              },
              resolve: function(e, t) {
                var n, o;
                for (
                  t = t || r.window, n = 0, o = (e = e.split(".")).length;
                  n < o && (t = t[e[n]]);
                  n++
                );
                return t;
              },
              explode: function(e, t) {
                return !e || qt(e, "array") ? e : Ut.map(e.split(t || ","), Vt);
              },
              _addCacheSuffix: function(e) {
                var t = fe.cacheSuffix;
                return t && (e += (-1 === e.indexOf("?") ? "?" : "&") + t), e;
              }
            },
            Yt = r.document,
            Xt = Array.prototype.push,
            Gt = Array.prototype.slice,
            Jt = /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,
            Qt = Te.Event,
            Zt = Kt.makeMap("children,contents,next,prev"),
            en = function(e) {
              return void 0 !== e;
            },
            tn = function(e) {
              return "string" == typeof e;
            },
            nn = function(e, t) {
              var n, r, o;
              for (
                o = (t = t || Yt).createElement("div"),
                  n = t.createDocumentFragment(),
                  o.innerHTML = e;
                (r = o.firstChild);

              )
                n.appendChild(r);
              return n;
            },
            rn = function(e, t, n, r) {
              var o;
              if (tn(t)) t = nn(t, bn(e[0]));
              else if (t.length && !t.nodeType) {
                if (((t = mn.makeArray(t)), r))
                  for (o = t.length - 1; o >= 0; o--) rn(e, t[o], n, r);
                else for (o = 0; o < t.length; o++) rn(e, t[o], n, r);
                return e;
              }
              if (t.nodeType) for (o = e.length; o--; ) n.call(e[o], t);
              return e;
            },
            on = function(e, t) {
              return (
                e &&
                t &&
                -1 !== (" " + e.className + " ").indexOf(" " + t + " ")
              );
            },
            an = function(e, t, n) {
              var r, o;
              return (
                (t = mn(t)[0]),
                e.each(function() {
                  (n && r === this.parentNode) ||
                    ((r = this.parentNode),
                    (o = t.cloneNode(!1)),
                    this.parentNode.insertBefore(o, this)),
                    o.appendChild(this);
                }),
                e
              );
            },
            un = Kt.makeMap(
              "fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom",
              " "
            ),
            sn = Kt.makeMap(
              "checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected",
              " "
            ),
            cn = { for: "htmlFor", class: "className", readonly: "readOnly" },
            ln = { float: "cssFloat" },
            fn = {},
            dn = {},
            mn = function(e, t) {
              return new mn.fn.init(e, t);
            },
            hn = /^\s*|\s*$/g,
            gn = function(e) {
              return null == e ? "" : ("" + e).replace(hn, "");
            },
            pn = function(e, t) {
              var n, r, o, i;
              if (e)
                if (void 0 === (n = e.length)) {
                  for (r in e)
                    if (
                      e.hasOwnProperty(r) &&
                      ((i = e[r]), !1 === t.call(i, r, i))
                    )
                      break;
                } else
                  for (
                    o = 0;
                    o < n && ((i = e[o]), !1 !== t.call(i, o, i));
                    o++
                  );
              return e;
            },
            vn = function(e, t) {
              var n = [];
              return (
                pn(e, function(e, r) {
                  t(r, e) && n.push(r);
                }),
                n
              );
            },
            bn = function(e) {
              return e ? (9 === e.nodeType ? e : e.ownerDocument) : Yt;
            };
          (mn.fn = mn.prototype = {
            constructor: mn,
            selector: "",
            context: null,
            length: 0,
            init: function(e, t) {
              var n, o;
              if (!e) return this;
              if (e.nodeType)
                return (this.context = this[0] = e), (this.length = 1), this;
              if (t && t.nodeType) this.context = t;
              else {
                if (t) return mn(e).attr(t);
                this.context = t = r.document;
              }
              if (tn(e)) {
                if (
                  ((this.selector = e),
                  !(n =
                    "<" === e.charAt(0) &&
                    ">" === e.charAt(e.length - 1) &&
                    e.length >= 3
                      ? [null, e, null]
                      : Jt.exec(e)))
                )
                  return mn(t).find(e);
                if (n[1])
                  for (o = nn(e, bn(t)).firstChild; o; )
                    Xt.call(this, o), (o = o.nextSibling);
                else {
                  if (!(o = bn(t).getElementById(n[2]))) return this;
                  if (o.id !== n[2]) return this.find(e);
                  (this.length = 1), (this[0] = o);
                }
              } else this.add(e, !1);
              return this;
            },
            toArray: function() {
              return Kt.toArray(this);
            },
            add: function(e, t) {
              var n, r;
              if (tn(e)) return this.add(mn(e));
              if (!1 !== t)
                for (
                  n = mn.unique(this.toArray().concat(mn.makeArray(e))),
                    this.length = n.length,
                    r = 0;
                  r < n.length;
                  r++
                )
                  this[r] = n[r];
              else Xt.apply(this, mn.makeArray(e));
              return this;
            },
            attr: function(e, t) {
              var n,
                r = this;
              if ("object" == typeof e)
                pn(e, function(e, t) {
                  r.attr(e, t);
                });
              else {
                if (!en(t)) {
                  if (r[0] && 1 === r[0].nodeType) {
                    if ((n = fn[e]) && n.get) return n.get(r[0], e);
                    if (sn[e]) return r.prop(e) ? e : void 0;
                    null === (t = r[0].getAttribute(e, 2)) && (t = void 0);
                  }
                  return t;
                }
                this.each(function() {
                  var n;
                  if (1 === this.nodeType) {
                    if ((n = fn[e]) && n.set) return void n.set(this, t);
                    null === t
                      ? this.removeAttribute(e, 2)
                      : this.setAttribute(e, t, 2);
                  }
                });
              }
              return r;
            },
            removeAttr: function(e) {
              return this.attr(e, null);
            },
            prop: function(e, t) {
              var n = this;
              if ("object" == typeof (e = cn[e] || e))
                pn(e, function(e, t) {
                  n.prop(e, t);
                });
              else {
                if (!en(t))
                  return n[0] && n[0].nodeType && e in n[0] ? n[0][e] : t;
                this.each(function() {
                  1 === this.nodeType && (this[e] = t);
                });
              }
              return n;
            },
            css: function(e, t) {
              var n,
                r,
                o = this,
                i = function(e) {
                  return e.replace(/-(\D)/g, function(e, t) {
                    return t.toUpperCase();
                  });
                },
                a = function(e) {
                  return e.replace(/[A-Z]/g, function(e) {
                    return "-" + e;
                  });
                };
              if ("object" == typeof e)
                pn(e, function(e, t) {
                  o.css(e, t);
                });
              else if (en(t))
                (e = i(e)),
                  "number" != typeof t || un[e] || (t = t.toString() + "px"),
                  o.each(function() {
                    var n = this.style;
                    if ((r = dn[e]) && r.set) r.set(this, t);
                    else {
                      try {
                        this.style[ln[e] || e] = t;
                      } catch (e) {}
                      (null !== t && "" !== t) ||
                        (n.removeProperty
                          ? n.removeProperty(a(e))
                          : n.removeAttribute(e));
                    }
                  });
              else {
                if (((n = o[0]), (r = dn[e]) && r.get)) return r.get(n);
                if (!n.ownerDocument.defaultView)
                  return n.currentStyle ? n.currentStyle[i(e)] : "";
                try {
                  return n.ownerDocument.defaultView
                    .getComputedStyle(n, null)
                    .getPropertyValue(a(e));
                } catch (e) {
                  return;
                }
              }
              return o;
            },
            remove: function() {
              for (var e, t = this.length; t--; )
                (e = this[t]),
                  Qt.clean(e),
                  e.parentNode && e.parentNode.removeChild(e);
              return this;
            },
            empty: function() {
              for (var e, t = this.length; t--; )
                for (e = this[t]; e.firstChild; ) e.removeChild(e.firstChild);
              return this;
            },
            html: function(e) {
              var t;
              if (en(e)) {
                t = this.length;
                try {
                  for (; t--; ) this[t].innerHTML = e;
                } catch (n) {
                  mn(this[t])
                    .empty()
                    .append(e);
                }
                return this;
              }
              return this[0] ? this[0].innerHTML : "";
            },
            text: function(e) {
              var t;
              if (en(e)) {
                for (t = this.length; t--; )
                  "innerText" in this[t]
                    ? (this[t].innerText = e)
                    : (this[0].textContent = e);
                return this;
              }
              return this[0] ? this[0].innerText || this[0].textContent : "";
            },
            append: function() {
              return rn(this, arguments, function(e) {
                (1 === this.nodeType ||
                  (this.host && 1 === this.host.nodeType)) &&
                  this.appendChild(e);
              });
            },
            prepend: function() {
              return rn(
                this,
                arguments,
                function(e) {
                  (1 === this.nodeType ||
                    (this.host && 1 === this.host.nodeType)) &&
                    this.insertBefore(e, this.firstChild);
                },
                !0
              );
            },
            before: function() {
              var e = this;
              return e[0] && e[0].parentNode
                ? rn(e, arguments, function(e) {
                    this.parentNode.insertBefore(e, this);
                  })
                : e;
            },
            after: function() {
              var e = this;
              return e[0] && e[0].parentNode
                ? rn(
                    e,
                    arguments,
                    function(e) {
                      this.parentNode.insertBefore(e, this.nextSibling);
                    },
                    !0
                  )
                : e;
            },
            appendTo: function(e) {
              return mn(e).append(this), this;
            },
            prependTo: function(e) {
              return mn(e).prepend(this), this;
            },
            replaceWith: function(e) {
              return this.before(e).remove();
            },
            wrap: function(e) {
              return an(this, e);
            },
            wrapAll: function(e) {
              return an(this, e, !0);
            },
            wrapInner: function(e) {
              return (
                this.each(function() {
                  mn(this)
                    .contents()
                    .wrapAll(e);
                }),
                this
              );
            },
            unwrap: function() {
              return this.parent().each(function() {
                mn(this).replaceWith(this.childNodes);
              });
            },
            clone: function() {
              var e = [];
              return (
                this.each(function() {
                  e.push(this.cloneNode(!0));
                }),
                mn(e)
              );
            },
            addClass: function(e) {
              return this.toggleClass(e, !0);
            },
            removeClass: function(e) {
              return this.toggleClass(e, !1);
            },
            toggleClass: function(e, t) {
              var n = this;
              return (
                "string" != typeof e ||
                  (-1 !== e.indexOf(" ")
                    ? pn(e.split(" "), function() {
                        n.toggleClass(this, t);
                      })
                    : n.each(function(n, r) {
                        var o, i;
                        (i = on(r, e)) !== t &&
                          ((o = r.className),
                          i
                            ? (r.className = gn(
                                (" " + o + " ").replace(" " + e + " ", " ")
                              ))
                            : (r.className += o ? " " + e : e));
                      })),
                n
              );
            },
            hasClass: function(e) {
              return on(this[0], e);
            },
            each: function(e) {
              return pn(this, e);
            },
            on: function(e, t) {
              return this.each(function() {
                Qt.bind(this, e, t);
              });
            },
            off: function(e, t) {
              return this.each(function() {
                Qt.unbind(this, e, t);
              });
            },
            trigger: function(e) {
              return this.each(function() {
                "object" == typeof e
                  ? Qt.fire(this, e.type, e)
                  : Qt.fire(this, e);
              });
            },
            show: function() {
              return this.css("display", "");
            },
            hide: function() {
              return this.css("display", "none");
            },
            slice: function() {
              return new mn(Gt.apply(this, arguments));
            },
            eq: function(e) {
              return -1 === e ? this.slice(e) : this.slice(e, +e + 1);
            },
            first: function() {
              return this.eq(0);
            },
            last: function() {
              return this.eq(-1);
            },
            find: function(e) {
              var t,
                n,
                r = [];
              for (t = 0, n = this.length; t < n; t++) mn.find(e, this[t], r);
              return mn(r);
            },
            filter: function(e) {
              return mn(
                "function" == typeof e
                  ? vn(this.toArray(), function(t, n) {
                      return e(n, t);
                    })
                  : mn.filter(e, this.toArray())
              );
            },
            closest: function(e) {
              var t = [];
              return (
                e instanceof mn && (e = e[0]),
                this.each(function(n, r) {
                  for (; r; ) {
                    if ("string" == typeof e && mn(r).is(e)) {
                      t.push(r);
                      break;
                    }
                    if (r === e) {
                      t.push(r);
                      break;
                    }
                    r = r.parentNode;
                  }
                }),
                mn(t)
              );
            },
            offset: function(e) {
              var t,
                n,
                r,
                o,
                i = 0,
                a = 0;
              return e
                ? this.css(e)
                : ((t = this[0]) &&
                    ((r = (n = t.ownerDocument).documentElement),
                    t.getBoundingClientRect &&
                      ((i =
                        (o = t.getBoundingClientRect()).left +
                        (r.scrollLeft || n.body.scrollLeft) -
                        r.clientLeft),
                      (a =
                        o.top +
                        (r.scrollTop || n.body.scrollTop) -
                        r.clientTop))),
                  { left: i, top: a });
            },
            push: Xt,
            sort: [].sort,
            splice: [].splice
          }),
            Kt.extend(mn, {
              extend: Kt.extend,
              makeArray: function(e) {
                return ((t = e) && t === t.window) || e.nodeType
                  ? [e]
                  : Kt.toArray(e);
                var t;
              },
              inArray: function(e, t) {
                var n;
                if (t.indexOf) return t.indexOf(e);
                for (n = t.length; n--; ) if (t[n] === e) return n;
                return -1;
              },
              isArray: Kt.isArray,
              each: pn,
              trim: gn,
              grep: vn,
              find: Et,
              expr: Et.selectors,
              unique: Et.uniqueSort,
              text: Et.getText,
              contains: Et.contains,
              filter: function(e, t, n) {
                var r = t.length;
                for (n && (e = ":not(" + e + ")"); r--; )
                  1 !== t[r].nodeType && t.splice(r, 1);
                return (t =
                  1 === t.length
                    ? mn.find.matchesSelector(t[0], e)
                      ? [t[0]]
                      : []
                    : mn.find.matches(e, t));
              }
            });
          var yn = function(e, t, n) {
              var r = [],
                o = e[t];
              for (
                "string" != typeof n && n instanceof mn && (n = n[0]);
                o && 9 !== o.nodeType;

              ) {
                if (void 0 !== n) {
                  if (o === n) break;
                  if ("string" == typeof n && mn(o).is(n)) break;
                }
                1 === o.nodeType && r.push(o), (o = o[t]);
              }
              return r;
            },
            wn = function(e, t, n, r) {
              var o = [];
              for (r instanceof mn && (r = r[0]); e; e = e[t])
                if (!n || e.nodeType === n) {
                  if (void 0 !== r) {
                    if (e === r) break;
                    if ("string" == typeof r && mn(e).is(r)) break;
                  }
                  o.push(e);
                }
              return o;
            },
            xn = function(e, t, n) {
              for (e = e[t]; e; e = e[t]) if (e.nodeType === n) return e;
              return null;
            };
          pn(
            {
              parent: function(e) {
                var t = e.parentNode;
                return t && 11 !== t.nodeType ? t : null;
              },
              parents: function(e) {
                return yn(e, "parentNode");
              },
              next: function(e) {
                return xn(e, "nextSibling", 1);
              },
              prev: function(e) {
                return xn(e, "previousSibling", 1);
              },
              children: function(e) {
                return wn(e.firstChild, "nextSibling", 1);
              },
              contents: function(e) {
                return Kt.toArray(
                  ("iframe" === e.nodeName
                    ? e.contentDocument || e.contentWindow.document
                    : e
                  ).childNodes
                );
              }
            },
            function(e, t) {
              mn.fn[e] = function(n) {
                var r = [];
                return (
                  this.each(function() {
                    var e = t.call(r, this, n, r);
                    e && (mn.isArray(e) ? r.push.apply(r, e) : r.push(e));
                  }),
                  this.length > 1 &&
                    (Zt[e] || (r = mn.unique(r)),
                    0 === e.indexOf("parents") && (r = r.reverse())),
                  (r = mn(r)),
                  n ? r.filter(n) : r
                );
              };
            }
          ),
            pn(
              {
                parentsUntil: function(e, t) {
                  return yn(e, "parentNode", t);
                },
                nextUntil: function(e, t) {
                  return wn(e, "nextSibling", 1, t).slice(1);
                },
                prevUntil: function(e, t) {
                  return wn(e, "previousSibling", 1, t).slice(1);
                }
              },
              function(e, t) {
                mn.fn[e] = function(n, r) {
                  var o = [];
                  return (
                    this.each(function() {
                      var e = t.call(o, this, n, o);
                      e && (mn.isArray(e) ? o.push.apply(o, e) : o.push(e));
                    }),
                    this.length > 1 &&
                      ((o = mn.unique(o)),
                      (0 !== e.indexOf("parents") && "prevUntil" !== e) ||
                        (o = o.reverse())),
                    (o = mn(o)),
                    r ? o.filter(r) : o
                  );
                };
              }
            ),
            (mn.fn.is = function(e) {
              return !!e && this.filter(e).length > 0;
            }),
            (mn.fn.init.prototype = mn.fn),
            (mn.overrideDefaults = function(e) {
              var t,
                n = function(r, o) {
                  return (
                    (t = t || e()),
                    0 === arguments.length && (r = t.element),
                    o || (o = t.context),
                    new n.fn.init(r, o)
                  );
                };
              return mn.extend(n, this), n;
            });
          var Cn = function(e, t, n) {
            pn(n, function(n, r) {
              (e[n] = e[n] || {}), (e[n][t] = r);
            });
          };
          fe.ie &&
            fe.ie < 8 &&
            (Cn(fn, "get", {
              maxlength: function(e) {
                var t = e.maxLength;
                if (2147483647 !== t) return t;
              },
              size: function(e) {
                var t = e.size;
                if (20 !== t) return t;
              },
              class: function(e) {
                return e.className;
              },
              style: function(e) {
                var t = e.style.cssText;
                if (0 !== t.length) return t;
              }
            }),
            Cn(fn, "set", {
              class: function(e, t) {
                e.className = t;
              },
              style: function(e, t) {
                e.style.cssText = t;
              }
            })),
            fe.ie &&
              fe.ie < 9 &&
              ((ln.float = "styleFloat"),
              Cn(dn, "set", {
                opacity: function(e, t) {
                  var n = e.style;
                  null === t || "" === t
                    ? n.removeAttribute("filter")
                    : ((n.zoom = 1),
                      (n.filter = "alpha(opacity=" + 100 * t + ")"));
                }
              })),
            (mn.attrHooks = fn),
            (mn.cssHooks = dn);
          var Sn,
            En,
            Tn,
            Nn = function() {
              return _n(0, 0);
            },
            _n = function(e, t) {
              return { major: e, minor: t };
            },
            kn = {
              nu: _n,
              detect: function(e, t) {
                var n = String(t).toLowerCase();
                return 0 === e.length
                  ? Nn()
                  : (function(e, t) {
                      var n = (function(e, t) {
                        for (var n = 0; n < e.length; n++) {
                          var r = e[n];
                          if (r.test(t)) return r;
                        }
                      })(e, t);
                      if (!n) return { major: 0, minor: 0 };
                      var r = function(e) {
                        return Number(t.replace(n, "$" + e));
                      };
                      return _n(r(1), r(2));
                    })(e, n);
              },
              unknown: Nn
            },
            Rn = function(e, t) {
              return function() {
                return t === e;
              };
            },
            Dn = function(e) {
              var t = e.current;
              return {
                current: t,
                version: e.version,
                isEdge: Rn("Edge", t),
                isChrome: Rn("Chrome", t),
                isIE: Rn("IE", t),
                isOpera: Rn("Opera", t),
                isFirefox: Rn("Firefox", t),
                isSafari: Rn("Safari", t)
              };
            },
            On = {
              unknown: function() {
                return Dn({ current: void 0, version: kn.unknown() });
              },
              nu: Dn,
              edge: a("Edge"),
              chrome: a("Chrome"),
              ie: a("IE"),
              opera: a("Opera"),
              firefox: a("Firefox"),
              safari: a("Safari")
            },
            An = function(e, t) {
              return function() {
                return t === e;
              };
            },
            Pn = function(e) {
              var t = e.current;
              return {
                current: t,
                version: e.version,
                isWindows: An("Windows", t),
                isiOS: An("iOS", t),
                isAndroid: An("Android", t),
                isOSX: An("OSX", t),
                isLinux: An("Linux", t),
                isSolaris: An("Solaris", t),
                isFreeBSD: An("FreeBSD", t)
              };
            },
            Bn = {
              unknown: function() {
                return Pn({ current: void 0, version: kn.unknown() });
              },
              nu: Pn,
              windows: a("Windows"),
              ios: a("iOS"),
              android: a("Android"),
              linux: a("Linux"),
              osx: a("OSX"),
              solaris: a("Solaris"),
              freebsd: a("FreeBSD")
            },
            In = function(e, t) {
              var n = String(t).toLowerCase();
              return K(e, function(e) {
                return e.search(n);
              });
            },
            Mn = function(e, t) {
              return In(e, t).map(function(e) {
                var n = kn.detect(e.versionRegexes, t);
                return { current: e.name, version: n };
              });
            },
            Ln = function(e, t) {
              return In(e, t).map(function(e) {
                var n = kn.detect(e.versionRegexes, t);
                return { current: e.name, version: n };
              });
            },
            Fn = function(e, t) {
              return -1 !== e.indexOf(t);
            },
            Hn = function(e) {
              return e.replace(/^\s+|\s+$/g, "");
            },
            zn = function(e) {
              return e.replace(/\s+$/g, "");
            },
            Wn = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
            Un = function(e) {
              return function(t) {
                return Fn(t, e);
              };
            },
            jn = [
              {
                name: "Edge",
                versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
                search: function(e) {
                  return (
                    Fn(e, "edge/") &&
                    Fn(e, "chrome") &&
                    Fn(e, "safari") &&
                    Fn(e, "applewebkit")
                  );
                }
              },
              {
                name: "Chrome",
                versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, Wn],
                search: function(e) {
                  return Fn(e, "chrome") && !Fn(e, "chromeframe");
                }
              },
              {
                name: "IE",
                versionRegexes: [
                  /.*?msie\ ?([0-9]+)\.([0-9]+).*/,
                  /.*?rv:([0-9]+)\.([0-9]+).*/
                ],
                search: function(e) {
                  return Fn(e, "msie") || Fn(e, "trident");
                }
              },
              {
                name: "Opera",
                versionRegexes: [Wn, /.*?opera\/([0-9]+)\.([0-9]+).*/],
                search: Un("opera")
              },
              {
                name: "Firefox",
                versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
                search: Un("firefox")
              },
              {
                name: "Safari",
                versionRegexes: [Wn, /.*?cpu os ([0-9]+)_([0-9]+).*/],
                search: function(e) {
                  return (
                    (Fn(e, "safari") || Fn(e, "mobile/")) &&
                    Fn(e, "applewebkit")
                  );
                }
              }
            ],
            Vn = [
              {
                name: "Windows",
                search: Un("win"),
                versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
              },
              {
                name: "iOS",
                search: function(e) {
                  return Fn(e, "iphone") || Fn(e, "ipad");
                },
                versionRegexes: [
                  /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
                  /.*cpu os ([0-9]+)_([0-9]+).*/,
                  /.*cpu iphone os ([0-9]+)_([0-9]+).*/
                ]
              },
              {
                name: "Android",
                search: Un("android"),
                versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
              },
              {
                name: "OSX",
                search: Un("os x"),
                versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]
              },
              { name: "Linux", search: Un("linux"), versionRegexes: [] },
              { name: "Solaris", search: Un("sunos"), versionRegexes: [] },
              { name: "FreeBSD", search: Un("freebsd"), versionRegexes: [] }
            ],
            qn = { browsers: a(jn), oses: a(Vn) },
            $n = function(e) {
              var t = qn.browsers(),
                n = qn.oses(),
                r = Mn(t, e).fold(On.unknown, On.nu),
                o = Ln(n, e).fold(Bn.unknown, Bn.nu),
                i = (function(e, t, n) {
                  var r = e.isiOS() && !0 === /ipad/i.test(n),
                    o = e.isiOS() && !r,
                    i = e.isAndroid() && 3 === e.version.major,
                    u = e.isAndroid() && 4 === e.version.major,
                    s = r || i || (u && !0 === /mobile/i.test(n)),
                    c = e.isiOS() || e.isAndroid(),
                    l = c && !s,
                    f = t.isSafari() && e.isiOS() && !1 === /safari/i.test(n);
                  return {
                    isiPad: a(r),
                    isiPhone: a(o),
                    isTablet: a(s),
                    isPhone: a(l),
                    isTouch: a(c),
                    isAndroid: e.isAndroid,
                    isiOS: e.isiOS,
                    isWebView: a(f)
                  };
                })(o, r, e);
              return { browser: r, os: o, deviceType: i };
            },
            Kn = {
              detect:
                ((Sn = function() {
                  var e = r.navigator.userAgent;
                  return $n(e);
                }),
                (Tn = !1),
                function() {
                  for (var e = [], t = 0; t < arguments.length; t++)
                    e[t] = arguments[t];
                  return Tn || ((Tn = !0), (En = Sn.apply(null, e))), En;
                })
            },
            Yn = function(e) {
              if (null == e)
                throw new Error("Node cannot be null or undefined");
              return { dom: a(e) };
            },
            Xn = {
              fromHtml: function(e, t) {
                var n = (t || r.document).createElement("div");
                if (
                  ((n.innerHTML = e),
                  !n.hasChildNodes() || n.childNodes.length > 1)
                )
                  throw (r.console.error(
                    "HTML does not have a single root node",
                    e
                  ),
                  new Error("HTML must have a single root node"));
                return Yn(n.childNodes[0]);
              },
              fromTag: function(e, t) {
                var n = (t || r.document).createElement(e);
                return Yn(n);
              },
              fromText: function(e, t) {
                var n = (t || r.document).createTextNode(e);
                return Yn(n);
              },
              fromDom: Yn,
              fromPoint: function(e, t, n) {
                var r = e.dom();
                return _.from(r.elementFromPoint(t, n)).map(Yn);
              }
            },
            Gn =
              (r.Node.ATTRIBUTE_NODE,
              r.Node.CDATA_SECTION_NODE,
              r.Node.COMMENT_NODE,
              r.Node.DOCUMENT_NODE),
            Jn =
              (r.Node.DOCUMENT_TYPE_NODE,
              r.Node.DOCUMENT_FRAGMENT_NODE,
              r.Node.ELEMENT_NODE),
            Qn = r.Node.TEXT_NODE,
            Zn =
              (r.Node.PROCESSING_INSTRUCTION_NODE,
              r.Node.ENTITY_REFERENCE_NODE,
              r.Node.ENTITY_NODE,
              r.Node.NOTATION_NODE,
              function(e) {
                return e.dom().nodeName.toLowerCase();
              }),
            er = function(e) {
              return function(t) {
                return (
                  (function(e) {
                    return e.dom().nodeType;
                  })(t) === e
                );
              };
            },
            tr = er(Jn),
            nr = er(Qn),
            rr = Object.keys,
            or = Object.hasOwnProperty,
            ir = function(e, t) {
              for (var n = rr(e), r = 0, o = n.length; r < o; r++) {
                var i = n[r];
                t(e[i], i);
              }
            },
            ar = function(e, t) {
              var n = {};
              return (
                ir(e, function(e, r) {
                  var o = t(e, r);
                  n[o.k] = o.v;
                }),
                n
              );
            },
            ur = function(e, t) {
              var n = {},
                r = {};
              return (
                ir(e, function(e, o) {
                  (t(e, o) ? n : r)[o] = e;
                }),
                { t: n, f: r }
              );
            },
            sr = function(e, t) {
              return or.call(e, t);
            },
            cr = function(e) {
              return void 0 !== e.style && B(e.style.getPropertyValue);
            },
            lr = function(e, t, n) {
              if (!(R(n) || P(n) || I(n)))
                throw (r.console.error(
                  "Invalid call to Attr.set. Key ",
                  t,
                  ":: Value ",
                  n,
                  ":: Element ",
                  e
                ),
                new Error("Attribute value was not simple"));
              e.setAttribute(t, n + "");
            },
            fr = function(e, t, n) {
              lr(e.dom(), t, n);
            },
            dr = function(e, t) {
              var n = e.dom();
              ir(t, function(e, t) {
                lr(n, t, e);
              });
            },
            mr = function(e, t) {
              var n = e.dom().getAttribute(t);
              return null === n ? void 0 : n;
            },
            hr = function(e, t) {
              e.dom().removeAttribute(t);
            },
            gr = function(e, t) {
              var n = e.dom();
              ir(t, function(e, t) {
                !(function(e, t, n) {
                  if (!R(n))
                    throw (r.console.error(
                      "Invalid call to CSS.set. Property ",
                      t,
                      ":: Value ",
                      n,
                      ":: Element ",
                      e
                    ),
                    new Error("CSS value must be a string: " + n));
                  cr(e) && e.style.setProperty(t, n);
                })(n, t, e);
              });
            },
            pr = function(e, t) {
              var n = e.dom(),
                o = r.window.getComputedStyle(n).getPropertyValue(t),
                i =
                  "" !== o ||
                  (function(e) {
                    var t = nr(e) ? e.dom().parentNode : e.dom();
                    return null != t && t.ownerDocument.body.contains(t);
                  })(e)
                    ? o
                    : vr(n, t);
              return null === i ? void 0 : i;
            },
            vr = function(e, t) {
              return cr(e) ? e.style.getPropertyValue(t) : "";
            },
            br = function() {
              for (var e = [], t = 0; t < arguments.length; t++)
                e[t] = arguments[t];
              return function() {
                for (var t = [], n = 0; n < arguments.length; n++)
                  t[n] = arguments[n];
                if (e.length !== t.length)
                  throw new Error(
                    'Wrong number of arguments to struct. Expected "[' +
                      e.length +
                      ']", got ' +
                      t.length +
                      " arguments"
                  );
                var r = {};
                return (
                  j(e, function(e, n) {
                    r[e] = a(t[n]);
                  }),
                  r
                );
              };
            },
            yr = function(e, t) {
              var n = [],
                r = function(e) {
                  return n.push(e), t(e);
                },
                o = t(e);
              do {
                o = o.bind(r);
              } while (o.isSome());
              return n;
            },
            wr = function() {
              return re("Node");
            },
            xr = function(e, t, n) {
              return 0 != (e.compareDocumentPosition(t) & n);
            },
            Cr = function(e, t) {
              return xr(e, t, wr().DOCUMENT_POSITION_CONTAINED_BY);
            },
            Sr = Jn,
            Er = Gn,
            Tr = function(e, t) {
              var n = e.dom();
              if (n.nodeType !== Sr) return !1;
              var r = n;
              if (void 0 !== r.matches) return r.matches(t);
              if (void 0 !== r.msMatchesSelector) return r.msMatchesSelector(t);
              if (void 0 !== r.webkitMatchesSelector)
                return r.webkitMatchesSelector(t);
              if (void 0 !== r.mozMatchesSelector)
                return r.mozMatchesSelector(t);
              throw new Error("Browser lacks native selectors");
            },
            Nr = function(e) {
              return (
                (e.nodeType !== Sr && e.nodeType !== Er) ||
                0 === e.childElementCount
              );
            },
            _r = function(e, t) {
              return e.dom() === t.dom();
            },
            kr = Kn.detect().browser.isIE()
              ? function(e, t) {
                  return Cr(e.dom(), t.dom());
                }
              : function(e, t) {
                  var n = e.dom(),
                    r = t.dom();
                  return n !== r && n.contains(r);
                },
            Rr = function(e) {
              return Xn.fromDom(e.dom().ownerDocument);
            },
            Dr = function(e) {
              return Xn.fromDom(e.dom().ownerDocument.defaultView);
            },
            Or = function(e) {
              return _.from(e.dom().parentNode).map(Xn.fromDom);
            },
            Ar = function(e) {
              return _.from(e.dom().previousSibling).map(Xn.fromDom);
            },
            Pr = function(e) {
              return _.from(e.dom().nextSibling).map(Xn.fromDom);
            },
            Br = function(e) {
              return (function(e) {
                var t = M.call(e, 0);
                return t.reverse(), t;
              })(yr(e, Ar));
            },
            Ir = function(e) {
              return yr(e, Pr);
            },
            Mr = function(e) {
              return U(e.dom().childNodes, Xn.fromDom);
            },
            Lr = function(e, t) {
              var n = e.dom().childNodes;
              return _.from(n[t]).map(Xn.fromDom);
            },
            Fr = function(e) {
              return Lr(e, 0);
            },
            Hr = function(e) {
              return Lr(e, e.dom().childNodes.length - 1);
            },
            zr = (br("element", "offset"), Kn.detect().browser),
            Wr = function(e) {
              return K(e, tr);
            },
            Ur = function(e, t, n) {
              var r,
                o,
                i = 0,
                a = 0,
                u = e.ownerDocument;
              if (((n = n || e), t)) {
                if (
                  n === e &&
                  t.getBoundingClientRect &&
                  "static" === pr(Xn.fromDom(e), "position")
                )
                  return {
                    x: (i =
                      (o = t.getBoundingClientRect()).left +
                      (u.documentElement.scrollLeft || e.scrollLeft) -
                      u.documentElement.clientLeft),
                    y: (a =
                      o.top +
                      (u.documentElement.scrollTop || e.scrollTop) -
                      u.documentElement.clientTop)
                  };
                for (r = t; r && r !== n && r.nodeType; )
                  (i += r.offsetLeft || 0),
                    (a += r.offsetTop || 0),
                    (r = r.offsetParent);
                for (r = t.parentNode; r && r !== n && r.nodeType; )
                  (i -= r.scrollLeft || 0),
                    (a -= r.scrollTop || 0),
                    (r = r.parentNode);
                a += (function(e) {
                  return zr.isFirefox() && "table" === Zn(e)
                    ? Wr(Mr(e))
                        .filter(function(e) {
                          return "caption" === Zn(e);
                        })
                        .bind(function(e) {
                          return Wr(Ir(e)).map(function(t) {
                            var n = t.dom().offsetTop,
                              r = e.dom().offsetTop,
                              o = e.dom().offsetHeight;
                            return n <= r ? -o : 0;
                          });
                        })
                        .getOr(0)
                    : 0;
                })(Xn.fromDom(t));
              }
              return { x: i, y: a };
            },
            jr = {},
            Vr = { exports: jr };
          !(function(e, t, r, o) {
            !(function(o) {
              "object" == typeof t && void 0 !== r
                ? (r.exports = o())
                : "function" == typeof e && e.amd
                ? e([], o)
                : (("undefined" != typeof window
                    ? window
                    : void 0 !== n
                    ? n
                    : "undefined" != typeof self
                    ? self
                    : this
                  ).EphoxContactWrapper = o());
            })(function() {
              return (function e(t, n, r) {
                function o(a, u) {
                  if (!n[a]) {
                    if (!t[a]) {
                      var s = !1;
                      if (!u && s) return s(a, !0);
                      if (i) return i(a, !0);
                      var c = new Error("Cannot find module '" + a + "'");
                      throw ((c.code = "MODULE_NOT_FOUND"), c);
                    }
                    var l = (n[a] = { exports: {} });
                    t[a][0].call(
                      l.exports,
                      function(e) {
                        return o(t[a][1][e] || e);
                      },
                      l,
                      l.exports,
                      e,
                      t,
                      n,
                      r
                    );
                  }
                  return n[a].exports;
                }
                for (var i = !1, a = 0; a < r.length; a++) o(r[a]);
                return o;
              })(
                {
                  1: [
                    function(e, t, n) {
                      var r,
                        o,
                        i = (t.exports = {});
                      function a() {
                        throw new Error("setTimeout has not been defined");
                      }
                      function u() {
                        throw new Error("clearTimeout has not been defined");
                      }
                      function s(e) {
                        if (r === setTimeout) return setTimeout(e, 0);
                        if ((r === a || !r) && setTimeout)
                          return (r = setTimeout), setTimeout(e, 0);
                        try {
                          return r(e, 0);
                        } catch (t) {
                          try {
                            return r.call(null, e, 0);
                          } catch (t) {
                            return r.call(this, e, 0);
                          }
                        }
                      }
                      !(function() {
                        try {
                          r = "function" == typeof setTimeout ? setTimeout : a;
                        } catch (e) {
                          r = a;
                        }
                        try {
                          o =
                            "function" == typeof clearTimeout
                              ? clearTimeout
                              : u;
                        } catch (e) {
                          o = u;
                        }
                      })();
                      var c,
                        l = [],
                        f = !1,
                        d = -1;
                      function m() {
                        f &&
                          c &&
                          ((f = !1),
                          c.length ? (l = c.concat(l)) : (d = -1),
                          l.length && h());
                      }
                      function h() {
                        if (!f) {
                          var e = s(m);
                          f = !0;
                          for (var t = l.length; t; ) {
                            for (c = l, l = []; ++d < t; ) c && c[d].run();
                            (d = -1), (t = l.length);
                          }
                          (c = null),
                            (f = !1),
                            (function(e) {
                              if (o === clearTimeout) return clearTimeout(e);
                              if ((o === u || !o) && clearTimeout)
                                return (o = clearTimeout), clearTimeout(e);
                              try {
                                o(e);
                              } catch (t) {
                                try {
                                  return o.call(null, e);
                                } catch (t) {
                                  return o.call(this, e);
                                }
                              }
                            })(e);
                        }
                      }
                      function g(e, t) {
                        (this.fun = e), (this.array = t);
                      }
                      function p() {}
                      (i.nextTick = function(e) {
                        var t = new Array(arguments.length - 1);
                        if (arguments.length > 1)
                          for (var n = 1; n < arguments.length; n++)
                            t[n - 1] = arguments[n];
                        l.push(new g(e, t)), 1 !== l.length || f || s(h);
                      }),
                        (g.prototype.run = function() {
                          this.fun.apply(null, this.array);
                        }),
                        (i.title = "browser"),
                        (i.browser = !0),
                        (i.env = {}),
                        (i.argv = []),
                        (i.version = ""),
                        (i.versions = {}),
                        (i.on = p),
                        (i.addListener = p),
                        (i.once = p),
                        (i.off = p),
                        (i.removeListener = p),
                        (i.removeAllListeners = p),
                        (i.emit = p),
                        (i.prependListener = p),
                        (i.prependOnceListener = p),
                        (i.listeners = function(e) {
                          return [];
                        }),
                        (i.binding = function(e) {
                          throw new Error("process.binding is not supported");
                        }),
                        (i.cwd = function() {
                          return "/";
                        }),
                        (i.chdir = function(e) {
                          throw new Error("process.chdir is not supported");
                        }),
                        (i.umask = function() {
                          return 0;
                        });
                    },
                    {}
                  ],
                  2: [
                    function(e, t, n) {
                      (function(e) {
                        !(function(n) {
                          var r = setTimeout;
                          function o() {}
                          function i(e) {
                            if ("object" != typeof this)
                              throw new TypeError(
                                "Promises must be constructed via new"
                              );
                            if ("function" != typeof e)
                              throw new TypeError("not a function");
                            (this._state = 0),
                              (this._handled = !1),
                              (this._value = void 0),
                              (this._deferreds = []),
                              f(e, this);
                          }
                          function a(e, t) {
                            for (; 3 === e._state; ) e = e._value;
                            0 !== e._state
                              ? ((e._handled = !0),
                                i._immediateFn(function() {
                                  var n =
                                    1 === e._state
                                      ? t.onFulfilled
                                      : t.onRejected;
                                  if (null !== n) {
                                    var r;
                                    try {
                                      r = n(e._value);
                                    } catch (e) {
                                      return void s(t.promise, e);
                                    }
                                    u(t.promise, r);
                                  } else (1 === e._state ? u : s)(t.promise, e._value);
                                }))
                              : e._deferreds.push(t);
                          }
                          function u(e, t) {
                            try {
                              if (t === e)
                                throw new TypeError(
                                  "A promise cannot be resolved with itself."
                                );
                              if (
                                t &&
                                ("object" == typeof t || "function" == typeof t)
                              ) {
                                var n = t.then;
                                if (t instanceof i)
                                  return (
                                    (e._state = 3), (e._value = t), void c(e)
                                  );
                                if ("function" == typeof n)
                                  return void f(
                                    ((r = n),
                                    (o = t),
                                    function() {
                                      r.apply(o, arguments);
                                    }),
                                    e
                                  );
                              }
                              (e._state = 1), (e._value = t), c(e);
                            } catch (t) {
                              s(e, t);
                            }
                            var r, o;
                          }
                          function s(e, t) {
                            (e._state = 2), (e._value = t), c(e);
                          }
                          function c(e) {
                            2 === e._state &&
                              0 === e._deferreds.length &&
                              i._immediateFn(function() {
                                e._handled || i._unhandledRejectionFn(e._value);
                              });
                            for (var t = 0, n = e._deferreds.length; t < n; t++)
                              a(e, e._deferreds[t]);
                            e._deferreds = null;
                          }
                          function l(e, t, n) {
                            (this.onFulfilled =
                              "function" == typeof e ? e : null),
                              (this.onRejected =
                                "function" == typeof t ? t : null),
                              (this.promise = n);
                          }
                          function f(e, t) {
                            var n = !1;
                            try {
                              e(
                                function(e) {
                                  n || ((n = !0), u(t, e));
                                },
                                function(e) {
                                  n || ((n = !0), s(t, e));
                                }
                              );
                            } catch (e) {
                              if (n) return;
                              (n = !0), s(t, e);
                            }
                          }
                          (i.prototype.catch = function(e) {
                            return this.then(null, e);
                          }),
                            (i.prototype.then = function(e, t) {
                              var n = new this.constructor(o);
                              return a(this, new l(e, t, n)), n;
                            }),
                            (i.all = function(e) {
                              var t = Array.prototype.slice.call(e);
                              return new i(function(e, n) {
                                if (0 === t.length) return e([]);
                                var r = t.length;
                                function o(i, a) {
                                  try {
                                    if (
                                      a &&
                                      ("object" == typeof a ||
                                        "function" == typeof a)
                                    ) {
                                      var u = a.then;
                                      if ("function" == typeof u)
                                        return void u.call(
                                          a,
                                          function(e) {
                                            o(i, e);
                                          },
                                          n
                                        );
                                    }
                                    (t[i] = a), 0 == --r && e(t);
                                  } catch (e) {
                                    n(e);
                                  }
                                }
                                for (var i = 0; i < t.length; i++) o(i, t[i]);
                              });
                            }),
                            (i.resolve = function(e) {
                              return e &&
                                "object" == typeof e &&
                                e.constructor === i
                                ? e
                                : new i(function(t) {
                                    t(e);
                                  });
                            }),
                            (i.reject = function(e) {
                              return new i(function(t, n) {
                                n(e);
                              });
                            }),
                            (i.race = function(e) {
                              return new i(function(t, n) {
                                for (var r = 0, o = e.length; r < o; r++)
                                  e[r].then(t, n);
                              });
                            }),
                            (i._immediateFn =
                              "function" == typeof e
                                ? function(t) {
                                    e(t);
                                  }
                                : function(e) {
                                    r(e, 0);
                                  }),
                            (i._unhandledRejectionFn = function(e) {
                              "undefined" != typeof console &&
                                console &&
                                console.warn(
                                  "Possible Unhandled Promise Rejection:",
                                  e
                                );
                            }),
                            (i._setImmediateFn = function(e) {
                              i._immediateFn = e;
                            }),
                            (i._setUnhandledRejectionFn = function(e) {
                              i._unhandledRejectionFn = e;
                            }),
                            void 0 !== t && t.exports
                              ? (t.exports = i)
                              : n.Promise || (n.Promise = i);
                        })(this);
                      }.call(this, e("timers").setImmediate));
                    },
                    { timers: 3 }
                  ],
                  3: [
                    function(e, t, n) {
                      (function(t, r) {
                        var o = e("process/browser.js").nextTick,
                          i = Function.prototype.apply,
                          a = Array.prototype.slice,
                          u = {},
                          s = 0;
                        function c(e, t) {
                          (this._id = e), (this._clearFn = t);
                        }
                        (n.setTimeout = function() {
                          return new c(
                            i.call(setTimeout, window, arguments),
                            clearTimeout
                          );
                        }),
                          (n.setInterval = function() {
                            return new c(
                              i.call(setInterval, window, arguments),
                              clearInterval
                            );
                          }),
                          (n.clearTimeout = n.clearInterval = function(e) {
                            e.close();
                          }),
                          (c.prototype.unref = c.prototype.ref = function() {}),
                          (c.prototype.close = function() {
                            this._clearFn.call(window, this._id);
                          }),
                          (n.enroll = function(e, t) {
                            clearTimeout(e._idleTimeoutId),
                              (e._idleTimeout = t);
                          }),
                          (n.unenroll = function(e) {
                            clearTimeout(e._idleTimeoutId),
                              (e._idleTimeout = -1);
                          }),
                          (n._unrefActive = n.active = function(e) {
                            clearTimeout(e._idleTimeoutId);
                            var t = e._idleTimeout;
                            t >= 0 &&
                              (e._idleTimeoutId = setTimeout(function() {
                                e._onTimeout && e._onTimeout();
                              }, t));
                          }),
                          (n.setImmediate =
                            "function" == typeof t
                              ? t
                              : function(e) {
                                  var t = s++,
                                    r =
                                      !(arguments.length < 2) &&
                                      a.call(arguments, 1);
                                  return (
                                    (u[t] = !0),
                                    o(function() {
                                      u[t] &&
                                        (r ? e.apply(null, r) : e.call(null),
                                        n.clearImmediate(t));
                                    }),
                                    t
                                  );
                                }),
                          (n.clearImmediate =
                            "function" == typeof r
                              ? r
                              : function(e) {
                                  delete u[e];
                                });
                      }.call(
                        this,
                        e("timers").setImmediate,
                        e("timers").clearImmediate
                      ));
                    },
                    { "process/browser.js": 1, timers: 3 }
                  ],
                  4: [
                    function(e, t, n) {
                      var r = e("promise-polyfill"),
                        o =
                          "undefined" != typeof window
                            ? window
                            : Function("return this;")();
                      t.exports = { boltExport: o.Promise || r };
                    },
                    { "promise-polyfill": 2 }
                  ]
                },
                {},
                [4]
              )(4);
            });
          })(void 0, jr, Vr);
          var qr = Vr.exports.boltExport,
            $r = function(e) {
              var t = _.none(),
                n = [],
                o = function(e) {
                  i() ? u(e) : n.push(e);
                },
                i = function() {
                  return t.isSome();
                },
                a = function(e) {
                  j(e, u);
                },
                u = function(e) {
                  t.each(function(t) {
                    r.setTimeout(function() {
                      e(t);
                    }, 0);
                  });
                };
              return (
                e(function(e) {
                  (t = _.some(e)), a(n), (n = []);
                }),
                {
                  get: o,
                  map: function(e) {
                    return $r(function(t) {
                      o(function(n) {
                        t(e(n));
                      });
                    });
                  },
                  isReady: i
                }
              );
            },
            Kr = {
              nu: $r,
              pure: function(e) {
                return $r(function(t) {
                  t(e);
                });
              }
            },
            Yr = function(e) {
              r.setTimeout(function() {
                throw e;
              }, 0);
            },
            Xr = function(e) {
              var t = function(t) {
                e().then(t, Yr);
              };
              return {
                map: function(t) {
                  return Xr(function() {
                    return e().then(t);
                  });
                },
                bind: function(t) {
                  return Xr(function() {
                    return e().then(function(e) {
                      return t(e).toPromise();
                    });
                  });
                },
                anonBind: function(t) {
                  return Xr(function() {
                    return e().then(function() {
                      return t.toPromise();
                    });
                  });
                },
                toLazy: function() {
                  return Kr.nu(t);
                },
                toCached: function() {
                  var t = null;
                  return Xr(function() {
                    return null === t && (t = e()), t;
                  });
                },
                toPromise: e,
                get: t
              };
            },
            Gr = function(e) {
              return Xr(function() {
                return new qr(e);
              });
            },
            Jr = function(e, t) {
              return t(function(t) {
                var n = [],
                  r = 0;
                0 === e.length
                  ? t([])
                  : j(e, function(o, i) {
                      o.get(
                        (function(o) {
                          return function(i) {
                            (n[o] = i), ++r >= e.length && t(n);
                          };
                        })(i)
                      );
                    });
              });
            },
            Qr = function(e) {
              return {
                is: function(t) {
                  return e === t;
                },
                isValue: S,
                isError: C,
                getOr: a(e),
                getOrThunk: a(e),
                getOrDie: a(e),
                or: function(t) {
                  return Qr(e);
                },
                orThunk: function(t) {
                  return Qr(e);
                },
                fold: function(t, n) {
                  return n(e);
                },
                map: function(t) {
                  return Qr(t(e));
                },
                mapError: function(t) {
                  return Qr(e);
                },
                each: function(t) {
                  t(e);
                },
                bind: function(t) {
                  return t(e);
                },
                exists: function(t) {
                  return t(e);
                },
                forall: function(t) {
                  return t(e);
                },
                toOption: function() {
                  return _.some(e);
                }
              };
            },
            Zr = function(e) {
              return {
                is: C,
                isValue: C,
                isError: S,
                getOr: u,
                getOrThunk: function(e) {
                  return e();
                },
                getOrDie: function() {
                  return ((t = String(e)),
                  function() {
                    throw new Error(t);
                  })();
                  var t;
                },
                or: function(e) {
                  return e;
                },
                orThunk: function(e) {
                  return e();
                },
                fold: function(t, n) {
                  return t(e);
                },
                map: function(t) {
                  return Zr(e);
                },
                mapError: function(t) {
                  return Zr(t(e));
                },
                each: o,
                bind: function(t) {
                  return Zr(e);
                },
                exists: C,
                forall: S,
                toOption: _.none
              };
            },
            eo = {
              value: Qr,
              error: Zr,
              fromOption: function(e, t) {
                return e.fold(function() {
                  return Zr(t);
                }, Qr);
              }
            };
          function to(e, t) {
            void 0 === t && (t = {});
            var n,
              o = 0,
              s = {};
            n = t.maxLoadTime || 5e3;
            var c = function(t) {
                e.getElementsByTagName("head")[0].appendChild(t);
              },
              l = function(i, a, u) {
                var l,
                  f,
                  d,
                  m,
                  h = function() {
                    for (var e = m.passed, t = e.length; t--; ) e[t]();
                    (m.status = 2), (m.passed = []), (m.failed = []);
                  },
                  g = function() {
                    for (var e = m.failed, t = e.length; t--; ) e[t]();
                    (m.status = 3), (m.passed = []), (m.failed = []);
                  },
                  p = function(e, t) {
                    e() ||
                      (new Date().getTime() - d < n ? pe.setTimeout(t) : g());
                  },
                  v = function() {
                    p(function() {
                      for (var t, n, r = e.styleSheets, o = r.length; o--; )
                        if (
                          (n = (t = r[o]).ownerNode
                            ? t.ownerNode
                            : t.owningElement) &&
                          n.id === l.id
                        )
                          return h(), !0;
                    }, v);
                  },
                  b = function() {
                    p(function() {
                      try {
                        var e = f.sheet.cssRules;
                        return h(), !!e;
                      } catch (e) {}
                    }, b);
                  };
                if (
                  ((i = Kt._addCacheSuffix(i)),
                  s[i]
                    ? (m = s[i])
                    : ((m = { passed: [], failed: [] }), (s[i] = m)),
                  a && m.passed.push(a),
                  u && m.failed.push(u),
                  1 !== m.status)
                )
                  if (2 !== m.status)
                    if (3 !== m.status) {
                      if (
                        ((m.status = 1),
                        ((l = e.createElement("link")).rel = "stylesheet"),
                        (l.type = "text/css"),
                        (l.id = "u" + o++),
                        (l.async = !1),
                        (l.defer = !1),
                        (d = new Date().getTime()),
                        t.contentCssCors && (l.crossOrigin = "anonymous"),
                        !("onload" in l) ||
                          ((y = r.navigator.userAgent.match(/WebKit\/(\d*)/)) &&
                            parseInt(y[1], 10) < 536))
                      ) {
                        if (r.navigator.userAgent.indexOf("Firefox") > 0)
                          return (
                            ((f = e.createElement("style")).textContent =
                              '@import "' + i + '"'),
                            b(),
                            void c(f)
                          );
                        v();
                      } else (l.onload = v), (l.onerror = g);
                      var y;
                      c(l), (l.href = i);
                    } else g();
                  else h();
              },
              f = function(e) {
                return Gr(function(t) {
                  l(e, i(t, a(eo.value(e))), i(t, a(eo.error(e))));
                });
              },
              d = function(e) {
                return e.fold(u, u);
              };
            return {
              load: l,
              loadAll: function(e, t, n) {
                var r;
                ((r = U(e, f)), Jr(r, Gr)).get(function(e) {
                  var r = V(e, function(e) {
                    return e.isValue();
                  });
                  r.fail.length > 0 ? n(r.fail.map(d)) : t(r.pass.map(d));
                });
              }
            };
          }
          function no(e, t) {
            var n = e,
              r = function(e, n, r, o) {
                var i, a;
                if (e) {
                  if (!o && e[n]) return e[n];
                  if (e !== t) {
                    if ((i = e[r])) return i;
                    for (a = e.parentNode; a && a !== t; a = a.parentNode)
                      if ((i = a[r])) return i;
                  }
                }
              };
            (this.current = function() {
              return n;
            }),
              (this.next = function(e) {
                return (n = r(n, "firstChild", "nextSibling", e));
              }),
              (this.prev = function(e) {
                return (n = r(n, "lastChild", "previousSibling", e));
              }),
              (this.prev2 = function(e) {
                return (n = (function(e, n, r, o) {
                  var i, a, u;
                  if (e) {
                    if (((i = e[r]), t && i === t)) return;
                    if (i) {
                      if (!o) for (u = i[n]; u; u = u[n]) if (!u[n]) return u;
                      return i;
                    }
                    if ((a = e.parentNode) && a !== t) return a;
                  }
                })(n, "lastChild", "previousSibling", e));
              });
          }
          var ro,
            oo,
            io,
            ao = function(e) {
              var t;
              return function(n) {
                return (t =
                  t ||
                  (function(e, t) {
                    for (var n = {}, r = 0, o = e.length; r < o; r++) {
                      var i = e[r];
                      n[String(i)] = t(i, r);
                    }
                    return n;
                  })(e, a(!0))).hasOwnProperty(Zn(n));
              };
            },
            uo = ao(["h1", "h2", "h3", "h4", "h5", "h6"]),
            so = ao([
              "article",
              "aside",
              "details",
              "div",
              "dt",
              "figcaption",
              "footer",
              "form",
              "fieldset",
              "header",
              "hgroup",
              "html",
              "main",
              "nav",
              "section",
              "summary",
              "body",
              "p",
              "dl",
              "multicol",
              "dd",
              "figure",
              "address",
              "center",
              "blockquote",
              "h1",
              "h2",
              "h3",
              "h4",
              "h5",
              "h6",
              "listing",
              "xmp",
              "pre",
              "plaintext",
              "menu",
              "dir",
              "ul",
              "ol",
              "li",
              "hr",
              "table",
              "tbody",
              "thead",
              "tfoot",
              "th",
              "tr",
              "td",
              "caption"
            ]),
            co = function(e) {
              return tr(e) && !so(e);
            },
            lo = function(e) {
              return tr(e) && "br" === Zn(e);
            },
            fo = ao([
              "h1",
              "h2",
              "h3",
              "h4",
              "h5",
              "h6",
              "p",
              "div",
              "address",
              "pre",
              "form",
              "blockquote",
              "center",
              "dir",
              "fieldset",
              "header",
              "footer",
              "article",
              "section",
              "hgroup",
              "aside",
              "nav",
              "figure"
            ]),
            mo = ao(["ul", "ol", "dl"]),
            ho = ao(["li", "dd", "dt"]),
            go = ao([
              "area",
              "base",
              "basefont",
              "br",
              "col",
              "frame",
              "hr",
              "img",
              "input",
              "isindex",
              "link",
              "meta",
              "param",
              "embed",
              "source",
              "wbr",
              "track"
            ]),
            po = ao(["thead", "tbody", "tfoot"]),
            vo = ao(["td", "th"]),
            bo = ao(["pre", "script", "textarea", "style"]),
            yo = function(e) {
              return function(t) {
                return !!t && t.nodeType === e;
              };
            },
            wo = yo(1),
            xo = function(e) {
              var t = e.toLowerCase().split(" ");
              return function(e) {
                var n, r;
                if (e && e.nodeType)
                  for (r = e.nodeName.toLowerCase(), n = 0; n < t.length; n++)
                    if (r === t[n]) return !0;
                return !1;
              };
            },
            Co = function(e) {
              return function(t) {
                if (wo(t)) {
                  if (t.contentEditable === e) return !0;
                  if (t.getAttribute("data-mce-contenteditable") === e)
                    return !0;
                }
                return !1;
              };
            },
            So = yo(3),
            Eo = yo(8),
            To = yo(9),
            No = yo(11),
            _o = xo("br"),
            ko = Co("true"),
            Ro = Co("false"),
            Do = {
              isText: So,
              isElement: wo,
              isComment: Eo,
              isDocument: To,
              isDocumentFragment: No,
              isBr: _o,
              isContentEditableTrue: ko,
              isContentEditableFalse: Ro,
              isRestrictedNode: function(e) {
                return !!e && !Object.getPrototypeOf(e);
              },
              matchNodeNames: xo,
              hasPropValue: function(e, t) {
                return function(n) {
                  return wo(n) && n[e] === t;
                };
              },
              hasAttribute: function(e, t) {
                return function(t) {
                  return wo(t) && t.hasAttribute(e);
                };
              },
              hasAttributeValue: function(e, t) {
                return function(n) {
                  return wo(n) && n.getAttribute(e) === t;
                };
              },
              matchStyleValues: function(e, t) {
                var n = t.toLowerCase().split(" ");
                return function(t) {
                  var r;
                  if (wo(t))
                    for (r = 0; r < n.length; r++) {
                      var o = t.ownerDocument.defaultView.getComputedStyle(
                        t,
                        null
                      );
                      if ((o ? o.getPropertyValue(e) : null) === n[r])
                        return !0;
                    }
                  return !1;
                };
              },
              isBogus: function(e) {
                return wo(e) && e.hasAttribute("data-mce-bogus");
              },
              isBogusAll: function(e) {
                return wo(e) && "all" === e.getAttribute("data-mce-bogus");
              },
              isTable: function(e) {
                return wo(e) && "TABLE" === e.tagName;
              }
            },
            Oo = function(e) {
              return (
                e &&
                "SPAN" === e.tagName &&
                "bookmark" === e.getAttribute("data-mce-type")
              );
            },
            Ao = function(e, t) {
              var n,
                r = t.childNodes;
              if (!Do.isElement(t) || !Oo(t)) {
                for (n = r.length - 1; n >= 0; n--) Ao(e, r[n]);
                if (!1 === Do.isDocument(t)) {
                  if (Do.isText(t) && t.nodeValue.length > 0) {
                    var o = Kt.trim(t.nodeValue).length;
                    if (e.isBlock(t.parentNode) || o > 0) return;
                    if (
                      0 === o &&
                      (function(e) {
                        var t =
                            e.previousSibling &&
                            "SPAN" === e.previousSibling.nodeName,
                          n =
                            e.nextSibling && "SPAN" === e.nextSibling.nodeName;
                        return t && n;
                      })(t)
                    )
                      return;
                  } else if (
                    Do.isElement(t) &&
                    (1 === (r = t.childNodes).length &&
                      Oo(r[0]) &&
                      t.parentNode.insertBefore(r[0], t),
                    r.length || go(Xn.fromDom(t)))
                  )
                    return;
                  e.remove(t);
                }
                return t;
              }
            },
            Po = { trimNode: Ao },
            Bo = Kt.makeMap,
            Io = /[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
            Mo = /[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
            Lo = /[<>&\"\']/g,
            Fo = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi,
            Ho = {
              128: "€",
              130: "‚",
              131: "ƒ",
              132: "„",
              133: "…",
              134: "†",
              135: "‡",
              136: "ˆ",
              137: "‰",
              138: "Š",
              139: "‹",
              140: "Œ",
              142: "Ž",
              145: "‘",
              146: "’",
              147: "“",
              148: "”",
              149: "•",
              150: "–",
              151: "—",
              152: "˜",
              153: "™",
              154: "š",
              155: "›",
              156: "œ",
              158: "ž",
              159: "Ÿ"
            };
          (oo = {
            '"': "&quot;",
            "'": "&#39;",
            "<": "&lt;",
            ">": "&gt;",
            "&": "&amp;",
            "`": "&#96;"
          }),
            (io = {
              "&lt;": "<",
              "&gt;": ">",
              "&amp;": "&",
              "&quot;": '"',
              "&apos;": "'"
            });
          var zo = function(e, t) {
            var n,
              r,
              o,
              i = {};
            if (e) {
              for (e = e.split(","), t = t || 10, n = 0; n < e.length; n += 2)
                (r = String.fromCharCode(parseInt(e[n], t))),
                  oo[r] || ((o = "&" + e[n + 1] + ";"), (i[r] = o), (i[o] = r));
              return i;
            }
          };
          ro = zo(
            "50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",
            32
          );
          var Wo = function(e, t) {
              return e.replace(t ? Io : Mo, function(e) {
                return oo[e] || e;
              });
            },
            Uo = function(e, t) {
              return e.replace(t ? Io : Mo, function(e) {
                return e.length > 1
                  ? "&#" +
                      (1024 * (e.charCodeAt(0) - 55296) +
                        (e.charCodeAt(1) - 56320) +
                        65536) +
                      ";"
                  : oo[e] || "&#" + e.charCodeAt(0) + ";";
              });
            },
            jo = function(e, t, n) {
              return (
                (n = n || ro),
                e.replace(t ? Io : Mo, function(e) {
                  return oo[e] || n[e] || e;
                })
              );
            },
            Vo = {
              encodeRaw: Wo,
              encodeAllRaw: function(e) {
                return ("" + e).replace(Lo, function(e) {
                  return oo[e] || e;
                });
              },
              encodeNumeric: Uo,
              encodeNamed: jo,
              getEncodeFunc: function(e, t) {
                var n = zo(t) || ro,
                  r = Bo(e.replace(/\+/g, ","));
                return r.named && r.numeric
                  ? function(e, t) {
                      return e.replace(t ? Io : Mo, function(e) {
                        return void 0 !== oo[e]
                          ? oo[e]
                          : void 0 !== n[e]
                          ? n[e]
                          : e.length > 1
                          ? "&#" +
                            (1024 * (e.charCodeAt(0) - 55296) +
                              (e.charCodeAt(1) - 56320) +
                              65536) +
                            ";"
                          : "&#" + e.charCodeAt(0) + ";";
                      });
                    }
                  : r.named
                  ? t
                    ? function(e, t) {
                        return jo(e, t, n);
                      }
                    : jo
                  : r.numeric
                  ? Uo
                  : Wo;
              },
              decode: function(e) {
                return e.replace(Fo, function(e, t) {
                  return t
                    ? (t =
                        "x" === t.charAt(0).toLowerCase()
                          ? parseInt(t.substr(1), 16)
                          : parseInt(t, 10)) > 65535
                      ? ((t -= 65536),
                        String.fromCharCode(
                          55296 + (t >> 10),
                          56320 + (1023 & t)
                        ))
                      : Ho[t] || String.fromCharCode(t)
                    : io[e] ||
                        ro[e] ||
                        (function(e) {
                          var t;
                          return (
                            ((t = Xn.fromTag("div").dom()).innerHTML = e),
                            t.textContent || t.innerText || e
                          );
                        })(e);
                });
              }
            },
            qo = {},
            $o = {},
            Ko = Kt.makeMap,
            Yo = Kt.each,
            Xo = Kt.extend,
            Go = Kt.explode,
            Jo = Kt.inArray,
            Qo = function(e, t) {
              return (e = Kt.trim(e)) ? e.split(t || " ") : [];
            },
            Zo = function(e, t) {
              var n;
              return (
                e &&
                  ((n = {}),
                  "string" == typeof e && (e = { "*": e }),
                  Yo(e, function(e, r) {
                    n[r] = n[r.toUpperCase()] =
                      "map" === t ? Ko(e, /[, ]/) : Go(e, /[, ]/);
                  })),
                n
              );
            };
          function ei(e) {
            var t,
              n,
              r,
              o,
              i,
              a,
              u,
              s,
              c,
              l,
              f,
              d,
              m,
              h = {},
              g = {},
              p = [],
              v = {},
              b = {},
              y = function(t, n, r) {
                var o = e[t];
                return (
                  o
                    ? (o = Ko(o, /[, ]/, Ko(o.toUpperCase(), /[, ]/)))
                    : (o = qo[t]) ||
                      ((o = Ko(n, " ", Ko(n.toUpperCase(), " "))),
                      (o = Xo(o, r)),
                      (qo[t] = o)),
                  o
                );
              };
            (r = (function(e) {
              var t,
                n,
                r,
                o,
                i,
                a,
                u = {},
                s = function(e, n, r) {
                  var o,
                    i,
                    a,
                    s = function(e, t) {
                      var n,
                        r,
                        o = {};
                      for (n = 0, r = e.length; n < r; n++) o[e[n]] = t || {};
                      return o;
                    };
                  for (
                    n = n || "",
                      "string" == typeof (r = r || []) && (r = Qo(r)),
                      o = (e = Qo(e)).length;
                    o--;

                  )
                    (a = {
                      attributes: s((i = Qo([t, n].join(" ")))),
                      attributesOrder: i,
                      children: s(r, $o)
                    }),
                      (u[e[o]] = a);
                },
                c = function(e, t) {
                  var n, r, o, i;
                  for (n = (e = Qo(e)).length, t = Qo(t); n--; )
                    for (r = u[e[n]], o = 0, i = t.length; o < i; o++)
                      (r.attributes[t[o]] = {}), r.attributesOrder.push(t[o]);
                };
              return qo[e]
                ? qo[e]
                : ((t =
                    "id accesskey class dir lang style tabindex title role"),
                  (n =
                    "address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),
                  (r =
                    "a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),
                  "html4" !== e &&
                    ((t +=
                      " contenteditable contextmenu draggable dropzone hidden spellcheck translate"),
                    (n +=
                      " article aside details dialog figure main header footer hgroup section nav"),
                    (r +=
                      " audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen")),
                  "html5-strict" !== e &&
                    ((t += " xml:lang"),
                    (r = [
                      r,
                      (a = "acronym applet basefont big font strike tt")
                    ].join(" ")),
                    Yo(Qo(a), function(e) {
                      s(e, "", r);
                    }),
                    (n = [n, (i = "center dir isindex noframes")].join(" ")),
                    (o = [n, r].join(" ")),
                    Yo(Qo(i), function(e) {
                      s(e, "", o);
                    })),
                  (o = o || [n, r].join(" ")),
                  s("html", "manifest", "head body"),
                  s(
                    "head",
                    "",
                    "base command link meta noscript script style title"
                  ),
                  s("title hr noscript br"),
                  s("base", "href target"),
                  s("link", "href rel media hreflang type sizes hreflang"),
                  s("meta", "name http-equiv content charset"),
                  s("style", "media type scoped"),
                  s("script", "src async defer type charset"),
                  s(
                    "body",
                    "onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",
                    o
                  ),
                  s("address dt dd div caption", "", o),
                  s(
                    "h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn",
                    "",
                    r
                  ),
                  s("blockquote", "cite", o),
                  s("ol", "reversed start type", "li"),
                  s("ul", "", "li"),
                  s("li", "value", o),
                  s("dl", "", "dt dd"),
                  s("a", "href target rel media hreflang type", r),
                  s("q", "cite", r),
                  s("ins del", "cite datetime", o),
                  s("img", "src sizes srcset alt usemap ismap width height"),
                  s("iframe", "src name width height", o),
                  s("embed", "src type width height"),
                  s(
                    "object",
                    "data type typemustmatch name usemap form width height",
                    [o, "param"].join(" ")
                  ),
                  s("param", "name value"),
                  s("map", "name", [o, "area"].join(" ")),
                  s(
                    "area",
                    "alt coords shape href target rel media hreflang type"
                  ),
                  s(
                    "table",
                    "border",
                    "caption colgroup thead tfoot tbody tr" +
                      ("html4" === e ? " col" : "")
                  ),
                  s("colgroup", "span", "col"),
                  s("col", "span"),
                  s("tbody thead tfoot", "", "tr"),
                  s("tr", "", "td th"),
                  s("td", "colspan rowspan headers", o),
                  s("th", "colspan rowspan headers scope abbr", o),
                  s(
                    "form",
                    "accept-charset action autocomplete enctype method name novalidate target",
                    o
                  ),
                  s("fieldset", "disabled form name", [o, "legend"].join(" ")),
                  s("label", "form for", r),
                  s(
                    "input",
                    "accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"
                  ),
                  s(
                    "button",
                    "disabled form formaction formenctype formmethod formnovalidate formtarget name type value",
                    "html4" === e ? o : r
                  ),
                  s(
                    "select",
                    "disabled form multiple name required size",
                    "option optgroup"
                  ),
                  s("optgroup", "disabled label", "option"),
                  s("option", "disabled label selected value"),
                  s(
                    "textarea",
                    "cols dirname disabled form maxlength name readonly required rows wrap"
                  ),
                  s("menu", "type label", [o, "li"].join(" ")),
                  s("noscript", "", o),
                  "html4" !== e &&
                    (s("wbr"),
                    s("ruby", "", [r, "rt rp"].join(" ")),
                    s("figcaption", "", o),
                    s("mark rt rp summary bdi", "", r),
                    s("canvas", "width height", o),
                    s(
                      "video",
                      "src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",
                      [o, "track source"].join(" ")
                    ),
                    s(
                      "audio",
                      "src crossorigin preload autoplay mediagroup loop muted controls buffered volume",
                      [o, "track source"].join(" ")
                    ),
                    s("picture", "", "img source"),
                    s("source", "src srcset type media sizes"),
                    s("track", "kind src srclang label default"),
                    s("datalist", "", [r, "option"].join(" ")),
                    s("article section nav aside main header footer", "", o),
                    s("hgroup", "", "h1 h2 h3 h4 h5 h6"),
                    s("figure", "", [o, "figcaption"].join(" ")),
                    s("time", "datetime", r),
                    s("dialog", "open", o),
                    s(
                      "command",
                      "type label icon disabled checked radiogroup command"
                    ),
                    s("output", "for form name", r),
                    s("progress", "value max", r),
                    s("meter", "value min max low high optimum", r),
                    s("details", "open", [o, "summary"].join(" ")),
                    s(
                      "keygen",
                      "autofocus challenge disabled form keytype name"
                    )),
                  "html5-strict" !== e &&
                    (c("script", "language xml:space"),
                    c("style", "xml:space"),
                    c(
                      "object",
                      "declare classid code codebase codetype archive standby align border hspace vspace"
                    ),
                    c("embed", "align name hspace vspace"),
                    c("param", "valuetype type"),
                    c("a", "charset name rev shape coords"),
                    c("br", "clear"),
                    c(
                      "applet",
                      "codebase archive code object alt name width height align hspace vspace"
                    ),
                    c("img", "name longdesc align border hspace vspace"),
                    c(
                      "iframe",
                      "longdesc frameborder marginwidth marginheight scrolling align"
                    ),
                    c("font basefont", "size color face"),
                    c("input", "usemap align"),
                    c("select", "onchange"),
                    c("textarea"),
                    c("h1 h2 h3 h4 h5 h6 div p legend caption", "align"),
                    c("ul", "type compact"),
                    c("li", "type"),
                    c("ol dl menu dir", "compact"),
                    c("pre", "width xml:space"),
                    c("hr", "align noshade size width"),
                    c("isindex", "prompt"),
                    c(
                      "table",
                      "summary width frame rules cellspacing cellpadding align bgcolor"
                    ),
                    c("col", "width align char charoff valign"),
                    c("colgroup", "width align char charoff valign"),
                    c("thead", "align char charoff valign"),
                    c("tr", "align char charoff valign bgcolor"),
                    c(
                      "th",
                      "axis align char charoff valign nowrap bgcolor width height"
                    ),
                    c("form", "accept"),
                    c(
                      "td",
                      "abbr axis scope align char charoff valign nowrap bgcolor width height"
                    ),
                    c("tfoot", "align char charoff valign"),
                    c("tbody", "align char charoff valign"),
                    c("area", "nohref"),
                    c("body", "background bgcolor text link vlink alink")),
                  "html4" !== e &&
                    (c("input button select textarea", "autofocus"),
                    c("input textarea", "placeholder"),
                    c("a", "download"),
                    c("link script img", "crossorigin"),
                    c("iframe", "sandbox seamless allowfullscreen")),
                  Yo(Qo("a form meter progress dfn"), function(e) {
                    u[e] && delete u[e].children[e];
                  }),
                  delete u.caption.children.table,
                  delete u.script,
                  (qo[e] = u),
                  u);
            })((e = e || {}).schema)),
              !1 === e.verify_html && (e.valid_elements = "*[*]"),
              (t = Zo(e.valid_styles)),
              (n = Zo(e.invalid_styles, "map")),
              (s = Zo(e.valid_classes, "map")),
              (o = y(
                "whitespace_elements",
                "pre script noscript style textarea video audio iframe object code"
              )),
              (i = y(
                "self_closing_elements",
                "colgroup dd dt li option p td tfoot th thead tr"
              )),
              (a = y(
                "short_ended_elements",
                "area base basefont br col frame hr img input isindex link meta param embed source wbr track"
              )),
              (u = y(
                "boolean_attributes",
                "checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"
              )),
              (l = y(
                "non_empty_elements",
                "td th iframe video audio object script pre code",
                a
              )),
              (f = y("move_caret_before_on_enter_elements", "table", l)),
              (d = y(
                "text_block_elements",
                "h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"
              )),
              (c = y(
                "block_elements",
                "hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",
                d
              )),
              (m = y(
                "text_inline_elements",
                "span strong b em i font strike u var cite dfn code mark q sup sub samp"
              )),
              Yo(
                (
                  e.special ||
                  "script noscript iframe noframes noembed title style textarea xmp"
                ).split(" "),
                function(e) {
                  b[e] = new RegExp("</" + e + "[^>]*>", "gi");
                }
              );
            var w = function(e) {
                return new RegExp("^" + e.replace(/([?+*])/g, ".$1") + "$");
              },
              x = function(e) {
                var t,
                  n,
                  r,
                  o,
                  i,
                  a,
                  u,
                  s,
                  c,
                  l,
                  f,
                  d,
                  m,
                  g,
                  v,
                  b,
                  y,
                  x,
                  C,
                  S = /^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,
                  E = /^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,
                  T = /[*?+]/;
                if (e)
                  for (
                    e = Qo(e, ","),
                      h["@"] &&
                        ((b = h["@"].attributes), (y = h["@"].attributesOrder)),
                      t = 0,
                      n = e.length;
                    t < n;
                    t++
                  )
                    if ((i = S.exec(e[t]))) {
                      if (
                        ((g = i[1]),
                        (c = i[2]),
                        (v = i[3]),
                        (s = i[5]),
                        (a = {
                          attributes: (d = {}),
                          attributesOrder: (m = [])
                        }),
                        "#" === g && (a.paddEmpty = !0),
                        "-" === g && (a.removeEmpty = !0),
                        "!" === i[4] && (a.removeEmptyAttrs = !0),
                        b)
                      ) {
                        for (x in b) d[x] = b[x];
                        m.push.apply(m, y);
                      }
                      if (s)
                        for (r = 0, o = (s = Qo(s, "|")).length; r < o; r++)
                          if ((i = E.exec(s[r]))) {
                            if (
                              ((u = {}),
                              (f = i[1]),
                              (l = i[2].replace(/[\\:]:/g, ":")),
                              (g = i[3]),
                              (C = i[4]),
                              "!" === f &&
                                ((a.attributesRequired =
                                  a.attributesRequired || []),
                                a.attributesRequired.push(l),
                                (u.required = !0)),
                              "-" === f)
                            ) {
                              delete d[l], m.splice(Jo(m, l), 1);
                              continue;
                            }
                            g &&
                              ("=" === g &&
                                ((a.attributesDefault =
                                  a.attributesDefault || []),
                                a.attributesDefault.push({ name: l, value: C }),
                                (u.defaultValue = C)),
                              ":" === g &&
                                ((a.attributesForced =
                                  a.attributesForced || []),
                                a.attributesForced.push({ name: l, value: C }),
                                (u.forcedValue = C)),
                              "<" === g && (u.validValues = Ko(C, "?"))),
                              T.test(l)
                                ? ((a.attributePatterns =
                                    a.attributePatterns || []),
                                  (u.pattern = w(l)),
                                  a.attributePatterns.push(u))
                                : (d[l] || m.push(l), (d[l] = u));
                          }
                      b || "@" !== c || ((b = d), (y = m)),
                        v && ((a.outputName = c), (h[v] = a)),
                        T.test(c)
                          ? ((a.pattern = w(c)), p.push(a))
                          : (h[c] = a);
                    }
              },
              C = function(e) {
                (h = {}),
                  (p = []),
                  x(e),
                  Yo(r, function(e, t) {
                    g[t] = e.children;
                  });
              },
              S = function(e) {
                var t = /^(~)?(.+)$/;
                e &&
                  ((qo.text_block_elements = qo.block_elements = null),
                  Yo(Qo(e, ","), function(e) {
                    var n = t.exec(e),
                      r = "~" === n[1],
                      o = r ? "span" : "div",
                      i = n[2];
                    if (
                      ((g[i] = g[o]),
                      (v[i] = o),
                      r || ((c[i.toUpperCase()] = {}), (c[i] = {})),
                      !h[i])
                    ) {
                      var a = h[o];
                      delete (a = Xo({}, a)).removeEmptyAttrs,
                        delete a.removeEmpty,
                        (h[i] = a);
                    }
                    Yo(g, function(e, t) {
                      e[o] && ((g[t] = e = Xo({}, g[t])), (e[i] = e[o]));
                    });
                  }));
              },
              E = function(t) {
                var n = /^([+\-]?)(\w+)\[([^\]]+)\]$/;
                (qo[e.schema] = null),
                  t &&
                    Yo(Qo(t, ","), function(e) {
                      var t,
                        r,
                        o = n.exec(e);
                      o &&
                        ((r = o[1]),
                        (t = r ? g[o[2]] : (g[o[2]] = { "#comment": {} })),
                        (t = g[o[2]]),
                        Yo(Qo(o[3], "|"), function(e) {
                          "-" === r ? delete t[e] : (t[e] = {});
                        }));
                    });
              },
              T = function(e) {
                var t,
                  n = h[e];
                if (n) return n;
                for (t = p.length; t--; )
                  if ((n = p[t]).pattern.test(e)) return n;
              };
            return (
              e.valid_elements
                ? C(e.valid_elements)
                : (Yo(r, function(e, t) {
                    (h[t] = {
                      attributes: e.attributes,
                      attributesOrder: e.attributesOrder
                    }),
                      (g[t] = e.children);
                  }),
                  "html5" !== e.schema &&
                    Yo(Qo("strong/b em/i"), function(e) {
                      (e = Qo(e, "/")), (h[e[1]].outputName = e[0]);
                    }),
                  Yo(
                    Qo(
                      "ol ul sub sup blockquote span font a table tbody tr strong em b i"
                    ),
                    function(e) {
                      h[e] && (h[e].removeEmpty = !0);
                    }
                  ),
                  Yo(
                    Qo("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),
                    function(e) {
                      h[e].paddEmpty = !0;
                    }
                  ),
                  Yo(Qo("span"), function(e) {
                    h[e].removeEmptyAttrs = !0;
                  })),
              S(e.custom_elements),
              E(e.valid_children),
              x(e.extended_valid_elements),
              E("+ol[ul|ol],+ul[ul|ol]"),
              Yo(
                {
                  dd: "dl",
                  dt: "dl",
                  li: "ul ol",
                  td: "tr",
                  th: "tr",
                  tr: "tbody thead tfoot",
                  tbody: "table",
                  thead: "table",
                  tfoot: "table",
                  legend: "fieldset",
                  area: "map",
                  param: "video audio object"
                },
                function(e, t) {
                  h[t] && (h[t].parentsRequired = Qo(e));
                }
              ),
              e.invalid_elements &&
                Yo(Go(e.invalid_elements), function(e) {
                  h[e] && delete h[e];
                }),
              T("span") || x("span[!data-mce-type|*]"),
              {
                children: g,
                elements: h,
                getValidStyles: function() {
                  return t;
                },
                getValidClasses: function() {
                  return s;
                },
                getBlockElements: function() {
                  return c;
                },
                getInvalidStyles: function() {
                  return n;
                },
                getShortEndedElements: function() {
                  return a;
                },
                getTextBlockElements: function() {
                  return d;
                },
                getTextInlineElements: function() {
                  return m;
                },
                getBoolAttrs: function() {
                  return u;
                },
                getElementRule: T,
                getSelfClosingElements: function() {
                  return i;
                },
                getNonEmptyElements: function() {
                  return l;
                },
                getMoveCaretBeforeOnEnterElements: function() {
                  return f;
                },
                getWhiteSpaceElements: function() {
                  return o;
                },
                getSpecialElements: function() {
                  return b;
                },
                isValidChild: function(e, t) {
                  var n = g[e.toLowerCase()];
                  return !(!n || !n[t.toLowerCase()]);
                },
                isValid: function(e, t) {
                  var n,
                    r,
                    o = T(e);
                  if (o) {
                    if (!t) return !0;
                    if (o.attributes[t]) return !0;
                    if ((n = o.attributePatterns))
                      for (r = n.length; r--; )
                        if (n[r].pattern.test(e)) return !0;
                  }
                  return !1;
                },
                getCustomElements: function() {
                  return v;
                },
                addValidElements: x,
                setValidElements: C,
                addCustomElements: S,
                addValidChildren: E
              }
            );
          }
          var ti = function(e, t, n, r) {
            var o = function(e) {
              return (e = parseInt(e, 10).toString(16)).length > 1
                ? e
                : "0" + e;
            };
            return "#" + o(t) + o(n) + o(r);
          };
          function ni(e, t) {
            var n,
              r,
              o,
              i,
              a = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,
              u = /(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,
              s = /\s*([^:]+):\s*([^;]+);?/g,
              c = /\s+$/,
              l = {};
            for (
              e = e || {},
                t && ((o = t.getValidStyles()), (i = t.getInvalidStyles())),
                r = "\\\" \\' \\; \\: ; : \ufeff".split(" "),
                n = 0;
              n < r.length;
              n++
            )
              (l[r[n]] = "\ufeff" + n), (l["\ufeff" + n] = r[n]);
            return {
              toHex: function(e) {
                return e.replace(a, ti);
              },
              parse: function(t) {
                var r,
                  o,
                  i,
                  f,
                  d,
                  m,
                  h,
                  g,
                  p = {},
                  v = e.url_converter,
                  b = e.url_converter_scope || this,
                  y = function(e, t, r) {
                    var o, i, a, u;
                    if (
                      (o = p[e + "-top" + t]) &&
                      (i = p[e + "-right" + t]) &&
                      (a = p[e + "-bottom" + t]) &&
                      (u = p[e + "-left" + t])
                    ) {
                      var s = [o, i, a, u];
                      for (n = s.length - 1; n-- && s[n] === s[n + 1]; );
                      (n > -1 && r) ||
                        ((p[e + t] = -1 === n ? s[0] : s.join(" ")),
                        delete p[e + "-top" + t],
                        delete p[e + "-right" + t],
                        delete p[e + "-bottom" + t],
                        delete p[e + "-left" + t]);
                    }
                  },
                  w = function(e) {
                    var t,
                      n = p[e];
                    if (n) {
                      for (t = (n = n.split(" ")).length; t--; )
                        if (n[t] !== n[0]) return !1;
                      return (p[e] = n[0]), !0;
                    }
                  },
                  x = function(e) {
                    return (f = !0), l[e];
                  },
                  C = function(e, t) {
                    return (
                      f &&
                        (e = e.replace(/\uFEFF[0-9]/g, function(e) {
                          return l[e];
                        })),
                      t || (e = e.replace(/\\([\'\";:])/g, "$1")),
                      e
                    );
                  },
                  S = function(e) {
                    return String.fromCharCode(parseInt(e.slice(1), 16));
                  },
                  E = function(e) {
                    return e.replace(/\\[0-9a-f]+/gi, S);
                  },
                  T = function(t, n, r, o, i, a) {
                    if ((i = i || a))
                      return "'" + (i = C(i)).replace(/\'/g, "\\'") + "'";
                    if (((n = C(n || r || o)), !e.allow_script_urls)) {
                      var u = n.replace(/[\s\r\n]+/g, "");
                      if (/(java|vb)script:/i.test(u)) return "";
                      if (!e.allow_svg_data_urls && /^data:image\/svg/i.test(u))
                        return "";
                    }
                    return (
                      v && (n = v.call(b, n, "style")),
                      "url('" + n.replace(/\'/g, "\\'") + "')"
                    );
                  };
                if (t) {
                  for (
                    t = (t = t.replace(/[\u0000-\u001F]/g, ""))
                      .replace(/\\[\"\';:\uFEFF]/g, x)
                      .replace(/\"[^\"]+\"|\'[^\']+\'/g, function(e) {
                        return e.replace(/[;:]/g, x);
                      });
                    (r = s.exec(t));

                  )
                    if (
                      ((s.lastIndex = r.index + r[0].length),
                      (o = r[1].replace(c, "").toLowerCase()),
                      (i = r[2].replace(c, "")),
                      o && i)
                    ) {
                      if (
                        ((o = E(o)),
                        (i = E(i)),
                        -1 !== o.indexOf("\ufeff") || -1 !== o.indexOf('"'))
                      )
                        continue;
                      if (
                        !e.allow_script_urls &&
                        ("behavior" === o ||
                          /expression\s*\(|\/\*|\*\//.test(i))
                      )
                        continue;
                      "font-weight" === o && "700" === i
                        ? (i = "bold")
                        : ("color" !== o && "background-color" !== o) ||
                          (i = i.toLowerCase()),
                        (i = (i = i.replace(a, ti)).replace(u, T)),
                        (p[o] = f ? C(i, !0) : i);
                    }
                  y("border", "", !0),
                    y("border", "-width"),
                    y("border", "-color"),
                    y("border", "-style"),
                    y("padding", ""),
                    y("margin", ""),
                    (d = "border"),
                    (h = "border-style"),
                    (g = "border-color"),
                    w((m = "border-width")) &&
                      w(h) &&
                      w(g) &&
                      ((p[d] = p[m] + " " + p[h] + " " + p[g]),
                      delete p[m],
                      delete p[h],
                      delete p[g]),
                    "medium none" === p.border && delete p.border,
                    "none" === p["border-image"] && delete p["border-image"];
                }
                return p;
              },
              serialize: function(e, t) {
                var n,
                  r,
                  a = "",
                  u = function(t) {
                    var n, r, i, u;
                    if ((n = o[t]))
                      for (r = 0, i = n.length; r < i; r++)
                        (t = n[r]),
                          (u = e[t]) &&
                            (a +=
                              (a.length > 0 ? " " : "") + t + ": " + u + ";");
                  },
                  s = function(e, t) {
                    var n;
                    return !(((n = i["*"]) && n[e]) || ((n = i[t]) && n[e]));
                  };
                if (t && o) u("*"), u(t);
                else
                  for (n in e)
                    !(r = e[n]) ||
                      (i && !s(n, t)) ||
                      (a += (a.length > 0 ? " " : "") + n + ": " + r + ";");
                return a;
              }
            };
          }
          var ri = Kt.each,
            oi = Kt.grep,
            ii = fe.ie,
            ai = /^([a-z0-9],?)+$/i,
            ui = /^[ \t\r\n]*$/,
            si = function(e, t) {
              var n = t.attr("style"),
                r = e.serialize(e.parse(n), t[0].nodeName);
              r || (r = null), t.attr("data-mce-style", r);
            },
            ci = function(e, t) {
              var n,
                r,
                o = 0;
              if (e)
                for (
                  n = e.nodeType, e = e.previousSibling;
                  e;
                  e = e.previousSibling
                )
                  (r = e.nodeType),
                    (!t || 3 !== r || (r !== n && e.nodeValue.length)) &&
                      (o++, (n = r));
              return o;
            };
          function li(e, t) {
            var n,
              o = this;
            void 0 === t && (t = {});
            var i = {},
              a = r.window,
              u = {},
              s = 0,
              c = to(e, { contentCssCors: t.contentCssCors }),
              l = [],
              f = t.schema ? t.schema : ei({}),
              d = ni(
                {
                  url_converter: t.url_converter,
                  url_converter_scope: t.url_converter_scope
                },
                t.schema
              ),
              m = t.ownEvents ? new Te(t.proxy) : Te.Event,
              h = f.getBlockElements(),
              g = mn.overrideDefaults(function() {
                return { context: e, element: W.getRoot() };
              }),
              p = function(t) {
                if (t && e && "string" == typeof t) {
                  var n = e.getElementById(t);
                  return n && n.id !== t ? e.getElementsByName(t)[1] : n;
                }
                return t;
              },
              v = function(e) {
                return "string" == typeof e && (e = p(e)), g(e);
              },
              b = function(e, t, r) {
                var o,
                  i,
                  a = v(e);
                return (
                  a.length &&
                    (i = (o = n[t]) && o.get ? o.get(a, t) : a.attr(t)),
                  void 0 === i && (i = r || ""),
                  i
                );
              },
              y = function(e) {
                var t = p(e);
                return t ? t.attributes : [];
              },
              w = function(e, r, o) {
                var i, a;
                "" === o && (o = null);
                var u = v(e);
                (i = u.attr(r)),
                  u.length &&
                    ((a = n[r]) && a.set ? a.set(u, o, r) : u.attr(r, o),
                    i !== o &&
                      t.onSetAttrib &&
                      t.onSetAttrib({ attrElm: u, attrName: r, attrValue: o }));
              },
              x = function() {
                return t.root_element || e.body;
              },
              C = function(t, n) {
                return Ur(e.body, p(t), n);
              },
              S = function(e, t, n) {
                var r = v(e);
                return n
                  ? r.css(t)
                  : ("float" ===
                      (t = t.replace(/-(\D)/g, function(e, t) {
                        return t.toUpperCase();
                      })) &&
                      (t = fe.ie && fe.ie < 12 ? "styleFloat" : "cssFloat"),
                    r[0] && r[0].style ? r[0].style[t] : void 0);
              },
              E = function(e) {
                var t, n;
                return (
                  (e = p(e)),
                  (t = S(e, "width")),
                  (n = S(e, "height")),
                  -1 === t.indexOf("px") && (t = 0),
                  -1 === n.indexOf("px") && (n = 0),
                  {
                    w: parseInt(t, 10) || e.offsetWidth || e.clientWidth,
                    h: parseInt(n, 10) || e.offsetHeight || e.clientHeight
                  }
                );
              },
              T = function(e, t) {
                var n;
                if (!e) return !1;
                if (!Array.isArray(e)) {
                  if ("*" === t) return 1 === e.nodeType;
                  if (ai.test(t)) {
                    var r = t.toLowerCase().split(/,/),
                      o = e.nodeName.toLowerCase();
                    for (n = r.length - 1; n >= 0; n--)
                      if (r[n] === o) return !0;
                    return !1;
                  }
                  if (e.nodeType && 1 !== e.nodeType) return !1;
                }
                var i = Array.isArray(e) ? e : [e];
                return Et(t, i[0].ownerDocument || i[0], null, i).length > 0;
              },
              N = function(e, t, n, r) {
                var o,
                  i = [],
                  a = p(e);
                for (
                  r = void 0 === r,
                    n = n || ("BODY" !== x().nodeName ? x().parentNode : null),
                    Kt.is(t, "string") &&
                      ((o = t),
                      (t =
                        "*" === t
                          ? function(e) {
                              return 1 === e.nodeType;
                            }
                          : function(e) {
                              return T(e, o);
                            }));
                  a && a !== n && a.nodeType && 9 !== a.nodeType;

                ) {
                  if (!t || ("function" == typeof t && t(a))) {
                    if (!r) return [a];
                    i.push(a);
                  }
                  a = a.parentNode;
                }
                return r ? i : null;
              },
              _ = function(e, t, n) {
                var r = t;
                if (e)
                  for (
                    "string" == typeof t &&
                      (r = function(e) {
                        return T(e, t);
                      }),
                      e = e[n];
                    e;
                    e = e[n]
                  )
                    if ("function" == typeof r && r(e)) return e;
                return null;
              },
              k = function(e, t, n) {
                var r,
                  i = "string" == typeof e ? p(e) : e;
                if (!i) return !1;
                if (Kt.isArray(i) && (i.length || 0 === i.length))
                  return (
                    (r = []),
                    ri(i, function(e, o) {
                      e &&
                        ("string" == typeof e && (e = p(e)),
                        r.push(t.call(n, e, o)));
                    }),
                    r
                  );
                var a = n || o;
                return t.call(a, i);
              },
              R = function(e, t) {
                v(e).each(function(e, n) {
                  ri(t, function(e, t) {
                    w(n, t, e);
                  });
                });
              },
              D = function(e, t) {
                var n = v(e);
                ii
                  ? n.each(function(e, n) {
                      if (!1 !== n.canHaveHTML) {
                        for (; n.firstChild; ) n.removeChild(n.firstChild);
                        try {
                          (n.innerHTML = "<br>" + t),
                            n.removeChild(n.firstChild);
                        } catch (e) {
                          mn("<div></div>")
                            .html("<br>" + t)
                            .contents()
                            .slice(1)
                            .appendTo(n);
                        }
                        return t;
                      }
                    })
                  : n.html(t);
              },
              O = function(t, n, r, o, i) {
                return k(t, function(t) {
                  var a = "string" == typeof n ? e.createElement(n) : n;
                  return (
                    R(a, r),
                    o &&
                      ("string" != typeof o && o.nodeType
                        ? a.appendChild(o)
                        : "string" == typeof o && D(a, o)),
                    i ? a : t.appendChild(a)
                  );
                });
              },
              A = function(t, n, r) {
                return O(e.createElement(t), t, n, r, !0);
              },
              P = Vo.encodeAllRaw,
              B = function(e, t) {
                var n = v(e);
                return (
                  t
                    ? n
                        .each(function() {
                          for (var e; (e = this.firstChild); )
                            3 === e.nodeType && 0 === e.data.length
                              ? this.removeChild(e)
                              : this.parentNode.insertBefore(e, this);
                        })
                        .remove()
                    : n.remove(),
                  n.length > 1 ? n.toArray() : n[0]
                );
              },
              I = function(e, t, n) {
                v(e)
                  .toggleClass(t, n)
                  .each(function() {
                    "" === this.className && mn(this).attr("class", null);
                  });
              },
              M = function(e, t, n) {
                return k(t, function(t) {
                  return (
                    Kt.is(t, "array") && (e = e.cloneNode(!0)),
                    n &&
                      ri(oi(t.childNodes), function(t) {
                        e.appendChild(t);
                      }),
                    t.parentNode.replaceChild(e, t)
                  );
                });
              },
              L = function() {
                return e.createRange();
              },
              F = function(n, r, o, i) {
                if (Kt.isArray(n)) {
                  for (var u = n.length; u--; ) n[u] = F(n[u], r, o, i);
                  return n;
                }
                return (
                  !t.collect || (n !== e && n !== a) || l.push([n, r, o, i]),
                  m.bind(n, r, o, i || W)
                );
              },
              H = function(t, n, r) {
                var o;
                if (Kt.isArray(t)) {
                  for (o = t.length; o--; ) t[o] = H(t[o], n, r);
                  return t;
                }
                if (l && (t === e || t === a))
                  for (o = l.length; o--; ) {
                    var i = l[o];
                    t !== i[0] ||
                      (n && n !== i[1]) ||
                      (r && r !== i[2]) ||
                      m.unbind(i[0], i[1], i[2]);
                  }
                return m.unbind(t, n, r);
              },
              z = function(e) {
                if (e && Do.isElement(e)) {
                  var t = e.getAttribute("data-mce-contenteditable");
                  return t && "inherit" !== t
                    ? t
                    : "inherit" !== e.contentEditable
                    ? e.contentEditable
                    : null;
                }
                return null;
              },
              W = {
                doc: e,
                settings: t,
                win: a,
                files: u,
                stdMode: !0,
                boxModel: !0,
                styleSheetLoader: c,
                boundEvents: l,
                styles: d,
                schema: f,
                events: m,
                isBlock: function(e) {
                  if ("string" == typeof e) return !!h[e];
                  if (e) {
                    var t = e.nodeType;
                    if (t) return !(1 !== t || !h[e.nodeName]);
                  }
                  return !1;
                },
                $: g,
                $$: v,
                root: null,
                clone: function(t, n) {
                  if (!ii || 1 !== t.nodeType || n) return t.cloneNode(n);
                  if (!n) {
                    var r = e.createElement(t.nodeName);
                    return (
                      ri(y(t), function(e) {
                        w(r, e.nodeName, b(t, e.nodeName));
                      }),
                      r
                    );
                  }
                  return null;
                },
                getRoot: x,
                getViewPort: function(e) {
                  var t = e || a,
                    n = t.document.documentElement;
                  return {
                    x: t.pageXOffset || n.scrollLeft,
                    y: t.pageYOffset || n.scrollTop,
                    w: t.innerWidth || n.clientWidth,
                    h: t.innerHeight || n.clientHeight
                  };
                },
                getRect: function(e) {
                  var t, n;
                  return (
                    (e = p(e)),
                    (t = C(e)),
                    (n = E(e)),
                    { x: t.x, y: t.y, w: n.w, h: n.h }
                  );
                },
                getSize: E,
                getParent: function(e, t, n) {
                  var r = N(e, t, n, !1);
                  return r && r.length > 0 ? r[0] : null;
                },
                getParents: N,
                get: p,
                getNext: function(e, t) {
                  return _(e, t, "nextSibling");
                },
                getPrev: function(e, t) {
                  return _(e, t, "previousSibling");
                },
                select: function(n, r) {
                  return Et(n, p(r) || t.root_element || e, []);
                },
                is: T,
                add: O,
                create: A,
                createHTML: function(e, t, n) {
                  var r,
                    o = "";
                  for (r in ((o += "<" + e), t))
                    t.hasOwnProperty(r) &&
                      null !== t[r] &&
                      void 0 !== t[r] &&
                      (o += " " + r + '="' + P(t[r]) + '"');
                  return void 0 !== n
                    ? o + ">" + n + "</" + e + ">"
                    : o + " />";
                },
                createFragment: function(t) {
                  var n,
                    r = e.createElement("div"),
                    o = e.createDocumentFragment();
                  for (
                    o.appendChild(r), t && (r.innerHTML = t);
                    (n = r.firstChild);

                  )
                    o.appendChild(n);
                  return o.removeChild(r), o;
                },
                remove: B,
                setStyle: function(e, n, r) {
                  var o = v(e).css(n, r);
                  t.update_styles && si(d, o);
                },
                getStyle: S,
                setStyles: function(e, n) {
                  var r = v(e).css(n);
                  t.update_styles && si(d, r);
                },
                removeAllAttribs: function(e) {
                  return k(e, function(e) {
                    var t,
                      n = e.attributes;
                    for (t = n.length - 1; t >= 0; t--)
                      e.removeAttributeNode(n.item(t));
                  });
                },
                setAttrib: w,
                setAttribs: R,
                getAttrib: b,
                getPos: C,
                parseStyle: function(e) {
                  return d.parse(e);
                },
                serializeStyle: function(e, t) {
                  return d.serialize(e, t);
                },
                addStyle: function(t) {
                  var n, o;
                  if (W !== li.DOM && e === r.document) {
                    if (i[t]) return;
                    i[t] = !0;
                  }
                  (o = e.getElementById("mceDefaultStyles")) ||
                    (((o = e.createElement("style")).id = "mceDefaultStyles"),
                    (o.type = "text/css"),
                    (n = e.getElementsByTagName("head")[0]).firstChild
                      ? n.insertBefore(o, n.firstChild)
                      : n.appendChild(o)),
                    o.styleSheet
                      ? (o.styleSheet.cssText += t)
                      : o.appendChild(e.createTextNode(t));
                },
                loadCSS: function(t) {
                  var n;
                  W === li.DOM || e !== r.document
                    ? (t || (t = ""),
                      (n = e.getElementsByTagName("head")[0]),
                      ri(t.split(","), function(e) {
                        var t;
                        (e = Kt._addCacheSuffix(e)),
                          u[e] ||
                            ((u[e] = !0),
                            (t = A("link", { rel: "stylesheet", href: e })),
                            n.appendChild(t));
                      }))
                    : li.DOM.loadCSS(t);
                },
                addClass: function(e, t) {
                  v(e).addClass(t);
                },
                removeClass: function(e, t) {
                  I(e, t, !1);
                },
                hasClass: function(e, t) {
                  return v(e).hasClass(t);
                },
                toggleClass: I,
                show: function(e) {
                  v(e).show();
                },
                hide: function(e) {
                  v(e).hide();
                },
                isHidden: function(e) {
                  return "none" === v(e).css("display");
                },
                uniqueId: function(e) {
                  return (e || "mce_") + s++;
                },
                setHTML: D,
                getOuterHTML: function(e) {
                  var t = "string" == typeof e ? p(e) : e;
                  return Do.isElement(t)
                    ? t.outerHTML
                    : mn("<div></div>")
                        .append(mn(t).clone())
                        .html();
                },
                setOuterHTML: function(e, t) {
                  v(e).each(function() {
                    try {
                      if ("outerHTML" in this) return void (this.outerHTML = t);
                    } catch (e) {}
                    B(mn(this).html(t), !0);
                  });
                },
                decode: Vo.decode,
                encode: P,
                insertAfter: function(e, t) {
                  var n = p(t);
                  return k(e, function(e) {
                    var t, r;
                    return (
                      (t = n.parentNode),
                      (r = n.nextSibling)
                        ? t.insertBefore(e, r)
                        : t.appendChild(e),
                      e
                    );
                  });
                },
                replace: M,
                rename: function(e, t) {
                  var n;
                  return (
                    e.nodeName !== t.toUpperCase() &&
                      ((n = A(t)),
                      ri(y(e), function(t) {
                        w(n, t.nodeName, b(e, t.nodeName));
                      }),
                      M(n, e, !0)),
                    n || e
                  );
                },
                findCommonAncestor: function(e, t) {
                  for (var n, r = e; r; ) {
                    for (n = t; n && r !== n; ) n = n.parentNode;
                    if (r === n) break;
                    r = r.parentNode;
                  }
                  return !r && e.ownerDocument
                    ? e.ownerDocument.documentElement
                    : r;
                },
                toHex: function(e) {
                  return d.toHex(Kt.trim(e));
                },
                run: k,
                getAttribs: y,
                isEmpty: function(e, t) {
                  var n,
                    r,
                    o,
                    i,
                    a,
                    u,
                    s = 0;
                  if ((e = e.firstChild)) {
                    (a = new no(e, e.parentNode)),
                      (t = t || (f ? f.getNonEmptyElements() : null)),
                      (i = f ? f.getWhiteSpaceElements() : {});
                    do {
                      if (((o = e.nodeType), Do.isElement(e))) {
                        var c = e.getAttribute("data-mce-bogus");
                        if (c) {
                          e = a.next("all" === c);
                          continue;
                        }
                        if (((u = e.nodeName.toLowerCase()), t && t[u])) {
                          if ("br" === u) {
                            s++, (e = a.next());
                            continue;
                          }
                          return !1;
                        }
                        for (n = (r = y(e)).length; n--; )
                          if (
                            "name" === (u = r[n].nodeName) ||
                            "data-mce-bookmark" === u
                          )
                            return !1;
                      }
                      if (8 === o) return !1;
                      if (3 === o && !ui.test(e.nodeValue)) return !1;
                      if (
                        3 === o &&
                        e.parentNode &&
                        i[e.parentNode.nodeName] &&
                        ui.test(e.nodeValue)
                      )
                        return !1;
                      e = a.next();
                    } while (e);
                  }
                  return s <= 1;
                },
                createRng: L,
                nodeIndex: ci,
                split: function(e, t, n) {
                  var r,
                    o,
                    i,
                    a = L();
                  if (e && t)
                    return (
                      a.setStart(e.parentNode, ci(e)),
                      a.setEnd(t.parentNode, ci(t)),
                      (r = a.extractContents()),
                      (a = L()).setStart(t.parentNode, ci(t) + 1),
                      a.setEnd(e.parentNode, ci(e) + 1),
                      (o = a.extractContents()),
                      (i = e.parentNode).insertBefore(Po.trimNode(W, r), e),
                      n ? i.insertBefore(n, e) : i.insertBefore(t, e),
                      i.insertBefore(Po.trimNode(W, o), e),
                      B(e),
                      n || t
                    );
                },
                bind: F,
                unbind: H,
                fire: function(e, t, n) {
                  return m.fire(e, t, n);
                },
                getContentEditable: z,
                getContentEditableParent: function(e) {
                  for (
                    var t = x(), n = null;
                    e && e !== t && null === (n = z(e));
                    e = e.parentNode
                  );
                  return n;
                },
                destroy: function() {
                  if (l)
                    for (var e = l.length; e--; ) {
                      var t = l[e];
                      m.unbind(t[0], t[1], t[2]);
                    }
                  Et.setDocument && Et.setDocument();
                },
                isChildOf: function(e, t) {
                  for (; e; ) {
                    if (t === e) return !0;
                    e = e.parentNode;
                  }
                  return !1;
                },
                dumpRng: function(e) {
                  return (
                    "startContainer: " +
                    e.startContainer.nodeName +
                    ", startOffset: " +
                    e.startOffset +
                    ", endContainer: " +
                    e.endContainer.nodeName +
                    ", endOffset: " +
                    e.endOffset
                  );
                }
              };
            return (
              (n = (function(e, t, n) {
                var r = {},
                  o = t.keep_values,
                  i = {
                    set: function(e, r, o) {
                      t.url_converter &&
                        (r = t.url_converter.call(
                          t.url_converter_scope || n(),
                          r,
                          o,
                          e[0]
                        )),
                        e.attr("data-mce-" + o, r).attr(o, r);
                    },
                    get: function(e, t) {
                      return e.attr("data-mce-" + t) || e.attr(t);
                    }
                  };
                return (
                  (r = {
                    style: {
                      set: function(e, t) {
                        null === t || "object" != typeof t
                          ? (o && e.attr("data-mce-style", t),
                            e.attr("style", t))
                          : e.css(t);
                      },
                      get: function(t) {
                        var n = t.attr("data-mce-style") || t.attr("style");
                        return (n = e.serialize(e.parse(n), t[0].nodeName));
                      }
                    }
                  }),
                  o && (r.href = r.src = i),
                  r
                );
              })(d, t, function() {
                return W;
              })),
              W
            );
          }
          !(function(e) {
            (e.DOM = e(r.document)), (e.nodeIndex = ci);
          })(li || (li = {}));
          var fi = li,
            di = fi.DOM,
            mi = Kt.each,
            hi = Kt.grep,
            gi = function(e) {
              return "function" == typeof e;
            },
            pi = function() {
              var e = {},
                t = [],
                n = {},
                o = [],
                i = 0;
              (this.isDone = function(t) {
                return 2 === e[t];
              }),
                (this.markDone = function(t) {
                  e[t] = 2;
                }),
                (this.add = this.load = function(r, o, i, a) {
                  void 0 === e[r] && (t.push(r), (e[r] = 0)),
                    o &&
                      (n[r] || (n[r] = []),
                      n[r].push({ success: o, failure: a, scope: i || this }));
                }),
                (this.remove = function(t) {
                  delete e[t], delete n[t];
                }),
                (this.loadQueue = function(e, n, r) {
                  this.loadScripts(t, e, n, r);
                }),
                (this.loadScripts = function(t, a, u, s) {
                  var c,
                    l = [],
                    f = function(e, t) {
                      mi(n[t], function(t) {
                        gi(t[e]) && t[e].call(t.scope);
                      }),
                        (n[t] = void 0);
                    };
                  o.push({ success: a, failure: s, scope: u || this }),
                    (c = function() {
                      var n = hi(t);
                      if (
                        ((t.length = 0),
                        mi(n, function(t) {
                          2 !== e[t]
                            ? 3 !== e[t]
                              ? 1 !== e[t] &&
                                ((e[t] = 1),
                                i++,
                                (function(e, t, n) {
                                  var o,
                                    i,
                                    a = di;
                                  (i = a.uniqueId()),
                                    ((o = r.document.createElement(
                                      "script"
                                    )).id = i),
                                    (o.type = "text/javascript"),
                                    (o.src = Kt._addCacheSuffix(e)),
                                    (o.onload = function() {
                                      a.remove(i),
                                        o &&
                                          (o.onreadystatechange = o.onload = o = null),
                                        t();
                                    }),
                                    (o.onerror = function() {
                                      gi(n)
                                        ? n()
                                        : "undefined" != typeof console &&
                                          console.log &&
                                          console.log(
                                            "Failed to load script: " + e
                                          );
                                    }),
                                    (
                                      r.document.getElementsByTagName(
                                        "head"
                                      )[0] || r.document.body
                                    ).appendChild(o);
                                })(
                                  t,
                                  function() {
                                    (e[t] = 2), i--, f("success", t), c();
                                  },
                                  function() {
                                    (e[t] = 3),
                                      i--,
                                      l.push(t),
                                      f("failure", t),
                                      c();
                                  }
                                ))
                              : f("failure", t)
                            : f("success", t);
                        }),
                        !i)
                      ) {
                        var a = o.slice(0);
                        (o.length = 0),
                          mi(a, function(e) {
                            0 === l.length
                              ? gi(e.success) && e.success.call(e.scope)
                              : gi(e.failure) && e.failure.call(e.scope, l);
                          });
                      }
                    })();
                });
            };
          pi.ScriptLoader = new pi();
          var vi = Kt.each;
          function bi() {
            var e = this,
              t = [],
              n = {},
              r = {},
              o = [],
              i = function(e) {
                var t;
                return r[e] && (t = r[e].dependencies), t || [];
              },
              a = function(e, t) {
                return "object" == typeof t
                  ? t
                  : "string" == typeof e
                  ? { prefix: "", resource: t, suffix: "" }
                  : { prefix: e.prefix, resource: t, suffix: e.suffix };
              },
              u = function(e, t, n, r) {
                var o = i(e);
                vi(o, function(e) {
                  var n = a(t, e);
                  s(n.resource, n, void 0, void 0);
                }),
                  n && (r ? n.call(r) : n.call(pi));
              },
              s = function(e, t, o, i, a) {
                if (!n[e]) {
                  var s =
                    "string" == typeof t ? t : t.prefix + t.resource + t.suffix;
                  0 !== s.indexOf("/") &&
                    -1 === s.indexOf("://") &&
                    (s = bi.baseURL + "/" + s),
                    (n[e] = s.substring(0, s.lastIndexOf("/"))),
                    r[e]
                      ? u(e, t, o, i)
                      : pi.ScriptLoader.add(
                          s,
                          function() {
                            return u(e, t, o, i);
                          },
                          i,
                          a
                        );
                }
              };
            return {
              items: t,
              urls: n,
              lookup: r,
              _listeners: o,
              get: function(e) {
                if (r[e]) return r[e].instance;
              },
              dependencies: i,
              requireLangPack: function(e, t) {
                var r = bi.language;
                if (r && !1 !== bi.languageLoad) {
                  if (t)
                    if (
                      -1 !==
                      (t = "," + t + ",").indexOf("," + r.substr(0, 2) + ",")
                    )
                      r = r.substr(0, 2);
                    else if (-1 === t.indexOf("," + r + ",")) return;
                  pi.ScriptLoader.add(n[e] + "/langs/" + r + ".js");
                }
              },
              add: function(e, n, i) {
                t.push(n), (r[e] = { instance: n, dependencies: i });
                var a = V(o, function(t) {
                  return t.name === e;
                });
                return (
                  (o = a.fail),
                  vi(a.pass, function(e) {
                    e.callback();
                  }),
                  n
                );
              },
              remove: function(e) {
                delete n[e], delete r[e];
              },
              createUrl: a,
              addComponents: function(t, n) {
                var r = e.urls[t];
                vi(n, function(e) {
                  pi.ScriptLoader.add(r + "/" + e);
                });
              },
              load: s,
              waitFor: function(e, t) {
                r.hasOwnProperty(e) ? t() : o.push({ name: e, callback: t });
              }
            };
          }
          !(function(e) {
            (e.PluginManager = e()), (e.ThemeManager = e());
          })(bi || (bi = {}));
          var yi = function(e, t) {
              Or(e).each(function(n) {
                n.dom().insertBefore(t.dom(), e.dom());
              });
            },
            wi = function(e, t) {
              Pr(e).fold(
                function() {
                  Or(e).each(function(e) {
                    Ci(e, t);
                  });
                },
                function(e) {
                  yi(e, t);
                }
              );
            },
            xi = function(e, t) {
              Fr(e).fold(
                function() {
                  Ci(e, t);
                },
                function(n) {
                  e.dom().insertBefore(t.dom(), n.dom());
                }
              );
            },
            Ci = function(e, t) {
              e.dom().appendChild(t.dom());
            },
            Si = function(e, t) {
              j(t, function(t) {
                Ci(e, t);
              });
            },
            Ei = function(e) {
              (e.dom().textContent = ""),
                j(Mr(e), function(e) {
                  Ti(e);
                });
            },
            Ti = function(e) {
              var t = e.dom();
              null !== t.parentNode && t.parentNode.removeChild(t);
            },
            Ni = function(e) {
              var t,
                n = Mr(e);
              n.length > 0 &&
                ((t = e),
                j(n, function(e) {
                  yi(t, e);
                })),
                Ti(e);
            },
            _i = function(e, t) {
              var n = null;
              return {
                cancel: function() {
                  null !== n && (r.clearTimeout(n), (n = null));
                },
                throttle: function() {
                  for (var o = [], i = 0; i < arguments.length; i++)
                    o[i] = arguments[i];
                  null === n &&
                    (n = r.setTimeout(function() {
                      e.apply(null, o), (n = null);
                    }, t));
                }
              };
            },
            ki = function(e) {
              var t = e,
                n = function() {
                  return t;
                };
              return {
                get: n,
                set: function(e) {
                  t = e;
                },
                clone: function() {
                  return ki(n());
                }
              };
            },
            Ri = function(e, t) {
              var n = mr(e, t);
              return void 0 === n || "" === n ? [] : n.split(" ");
            },
            Di = function(e) {
              return void 0 !== e.dom().classList;
            },
            Oi = function(e, t) {
              return (function(e, t, n) {
                var r = Ri(e, t).concat([n]);
                return fr(e, t, r.join(" ")), !0;
              })(e, "class", t);
            },
            Ai = function(e, t) {
              return (function(e, t, n) {
                var r = q(Ri(e, t), function(e) {
                  return e !== n;
                });
                return r.length > 0 ? fr(e, t, r.join(" ")) : hr(e, t), !1;
              })(e, "class", t);
            },
            Pi = function(e, t) {
              Di(e) ? e.dom().classList.add(t) : Oi(e, t);
            },
            Bi = function(e) {
              0 ===
                (Di(e)
                  ? e.dom().classList
                  : (function(e) {
                      return Ri(e, "class");
                    })(e)
                ).length && hr(e, "class");
            },
            Ii = function(e, t) {
              return Di(e) && e.dom().classList.contains(t);
            },
            Mi = function(e, t) {
              var n = [];
              return (
                j(Mr(e), function(e) {
                  t(e) && (n = n.concat([e])), (n = n.concat(Mi(e, t)));
                }),
                n
              );
            },
            Li = function(e, t) {
              return (function(e, t) {
                var n = void 0 === t ? r.document : t.dom();
                return Nr(n) ? [] : U(n.querySelectorAll(e), Xn.fromDom);
              })(t, e);
            };
          function Fi(e, t, n, r, o) {
            return e(n, r) ? _.some(n) : B(o) && o(n) ? _.none() : t(n, r, o);
          }
          var Hi = function(e, t, n) {
              for (var r = e.dom(), o = B(n) ? n : a(!1); r.parentNode; ) {
                r = r.parentNode;
                var i = Xn.fromDom(r);
                if (t(i)) return _.some(i);
                if (o(i)) break;
              }
              return _.none();
            },
            zi = function(e, t, n) {
              return Fi(
                function(e, t) {
                  return t(e);
                },
                Hi,
                e,
                t,
                n
              );
            },
            Wi = function(e, t, n) {
              return Hi(
                e,
                function(e) {
                  return Tr(e, t);
                },
                n
              );
            },
            Ui = function(e, t) {
              return (function(e, t) {
                var n = void 0 === t ? r.document : t.dom();
                return Nr(n)
                  ? _.none()
                  : _.from(n.querySelector(e)).map(Xn.fromDom);
              })(t, e);
            },
            ji = function(e, t, n) {
              return Fi(Tr, Wi, e, t, n);
            },
            Vi = a("mce-annotation"),
            qi = a("data-mce-annotation"),
            $i = a("data-mce-annotation-uid"),
            Ki = function(e, t) {
              var n = e.selection.getRng(),
                r = Xn.fromDom(n.startContainer),
                o = Xn.fromDom(e.getBody()),
                i = t.fold(
                  function() {
                    return "." + Vi();
                  },
                  function(e) {
                    return "[" + qi() + '="' + e + '"]';
                  }
                ),
                a = Lr(r, n.startOffset).getOr(r),
                u = ji(a, i, function(e) {
                  return _r(e, o);
                }),
                s = function(e, t) {
                  return (function(e, t) {
                    var n = e.dom();
                    return !(!n || !n.hasAttribute) && n.hasAttribute(t);
                  })(e, t)
                    ? _.some(mr(e, t))
                    : _.none();
                };
              return u.bind(function(t) {
                return s(t, "" + $i()).bind(function(n) {
                  return s(t, "" + qi()).map(function(t) {
                    var r = Yi(e, n);
                    return { uid: n, name: t, elements: r };
                  });
                });
              });
            },
            Yi = function(e, t) {
              var n = Xn.fromDom(e.getBody());
              return Li(n, "[" + $i() + '="' + t + '"]');
            },
            Xi = function(e, t) {
              var n,
                o,
                i,
                a = ki({}),
                u = function(e, t) {
                  s(e, function(e) {
                    return t(e), e;
                  });
                },
                s = function(e, t) {
                  var n = a.get(),
                    r = t(
                      n.hasOwnProperty(e)
                        ? n[e]
                        : { listeners: [], previous: ki(_.none()) }
                    );
                  (n[e] = r), a.set(n);
                },
                c =
                  ((n = function() {
                    var t,
                      n,
                      r,
                      o = a.get(),
                      i = ((t = rr(o)), (r = M.call(t, 0)).sort(n), r);
                    j(i, function(t) {
                      s(t, function(n) {
                        var r = n.previous.get();
                        return (
                          Ki(e, _.some(t)).fold(
                            function() {
                              r.isSome() &&
                                ((function(e) {
                                  u(e, function(t) {
                                    j(t.listeners, function(t) {
                                      return t(!1, e);
                                    });
                                  });
                                })(t),
                                n.previous.set(_.none()));
                            },
                            function(e) {
                              var t = e.uid,
                                o = e.name,
                                i = e.elements;
                              r.is(t) ||
                                ((function(e, t, n) {
                                  u(e, function(r) {
                                    j(r.listeners, function(r) {
                                      return r(!0, e, {
                                        uid: t,
                                        nodes: U(n, function(e) {
                                          return e.dom();
                                        })
                                      });
                                    });
                                  });
                                })(o, t, i),
                                n.previous.set(_.some(t)));
                            }
                          ),
                          { previous: n.previous, listeners: n.listeners }
                        );
                      });
                    });
                  }),
                  (o = 30),
                  (i = null),
                  {
                    cancel: function() {
                      null !== i && (r.clearTimeout(i), (i = null));
                    },
                    throttle: function() {
                      for (var e = [], t = 0; t < arguments.length; t++)
                        e[t] = arguments[t];
                      null !== i && r.clearTimeout(i),
                        (i = r.setTimeout(function() {
                          n.apply(null, e), (i = null);
                        }, o));
                    }
                  });
              return (
                e.on("remove", function() {
                  c.cancel();
                }),
                e.on("nodeChange", function() {
                  c.throttle();
                }),
                {
                  addListener: function(e, t) {
                    s(e, function(e) {
                      return {
                        previous: e.previous,
                        listeners: e.listeners.concat([t])
                      };
                    });
                  }
                }
              );
            },
            Gi = function(e, t) {
              e.on("init", function() {
                e.serializer.addNodeFilter("span", function(e) {
                  j(e, function(e) {
                    (function(e) {
                      return _.from(e.attributes.map[qi()]).bind(t.lookup);
                    })(e).each(function(t) {
                      !1 === t.persistent && e.unwrap();
                    });
                  });
                });
              });
            },
            Ji = function() {
              return (Ji =
                Object.assign ||
                function(e) {
                  for (var t, n = 1, r = arguments.length; n < r; n++)
                    for (var o in (t = arguments[n]))
                      Object.prototype.hasOwnProperty.call(t, o) &&
                        (e[o] = t[o]);
                  return e;
                }).apply(this, arguments);
            },
            Qi = 0,
            Zi = function(e, t) {
              return Xn.fromDom(e.dom().cloneNode(t));
            },
            ea = function(e) {
              return Zi(e, !1);
            },
            ta = function(e) {
              return Zi(e, !0);
            },
            na = function(e, t) {
              var n,
                o,
                i = Rr(e).dom(),
                a = Xn.fromDom(i.createDocumentFragment()),
                u =
                  ((n = t),
                  ((o = (i || r.document).createElement("div")).innerHTML = n),
                  Mr(Xn.fromDom(o)));
              Si(a, u), Ei(e), Ci(e, a);
            },
            ra = function(e) {
              return "\ufeff" === e;
            },
            oa = "\ufeff",
            ia = function(e) {
              return e.replace(new RegExp("\ufeff", "g"), "");
            },
            aa = Do.isElement,
            ua = Do.isText,
            sa = function(e) {
              return (
                ua(e) && (e = e.parentNode),
                aa(e) && e.hasAttribute("data-mce-caret")
              );
            },
            ca = function(e) {
              return ua(e) && ra(e.data);
            },
            la = function(e) {
              return sa(e) || ca(e);
            },
            fa = function(e) {
              return e.firstChild !== e.lastChild || !Do.isBr(e.firstChild);
            },
            da = function(e) {
              var t = e.container();
              return (
                !(!e || !Do.isText(t)) &&
                (t.data.charAt(e.offset()) === oa ||
                  (e.isAtStart() && ca(t.previousSibling)))
              );
            },
            ma = function(e) {
              var t = e.container();
              return (
                !(!e || !Do.isText(t)) &&
                (t.data.charAt(e.offset() - 1) === oa ||
                  (e.isAtEnd() && ca(t.nextSibling)))
              );
            },
            ha = function(e, t, n) {
              var o, i, a;
              return (
                (o = t.ownerDocument.createElement(e)).setAttribute(
                  "data-mce-caret",
                  n ? "before" : "after"
                ),
                o.setAttribute("data-mce-bogus", "all"),
                o.appendChild(
                  ((a = r.document.createElement("br")).setAttribute(
                    "data-mce-bogus",
                    "1"
                  ),
                  a)
                ),
                (i = t.parentNode),
                n
                  ? i.insertBefore(o, t)
                  : t.nextSibling
                  ? i.insertBefore(o, t.nextSibling)
                  : i.appendChild(o),
                o
              );
            },
            ga = function(e) {
              return ua(e) && e.data[0] === oa;
            },
            pa = function(e) {
              return ua(e) && e.data[e.data.length - 1] === oa;
            },
            va = function(e) {
              return e && e.hasAttribute("data-mce-caret")
                ? ((t = e.getElementsByTagName("br")),
                  (n = t[t.length - 1]),
                  Do.isBogus(n) && n.parentNode.removeChild(n),
                  e.removeAttribute("data-mce-caret"),
                  e.removeAttribute("data-mce-bogus"),
                  e.removeAttribute("style"),
                  e.removeAttribute("_moz_abspos"),
                  e)
                : null;
              var t, n;
            },
            ba = Do.isContentEditableTrue,
            ya = Do.isContentEditableFalse,
            wa = Do.isBr,
            xa = Do.isText,
            Ca = Do.matchNodeNames("script style textarea"),
            Sa = Do.matchNodeNames(
              "img input textarea hr iframe video audio object"
            ),
            Ea = Do.matchNodeNames("table"),
            Ta = la,
            Na = function(e) {
              return (
                !Ta(e) &&
                (xa(e) ? !Ca(e.parentNode) : Sa(e) || wa(e) || Ea(e) || _a(e))
              );
            },
            _a = function(e) {
              return (
                !1 ===
                  (function(e) {
                    return (
                      Do.isElement(e) &&
                      "true" === e.getAttribute("unselectable")
                    );
                  })(e) && ya(e)
              );
            },
            ka = function(e, t) {
              return (
                Na(e) &&
                (function(e, t) {
                  for (e = e.parentNode; e && e !== t; e = e.parentNode) {
                    if (_a(e)) return !1;
                    if (ba(e)) return !0;
                  }
                  return !0;
                })(e, t)
              );
            },
            Ra = Math.round,
            Da = function(e) {
              return e
                ? {
                    left: Ra(e.left),
                    top: Ra(e.top),
                    bottom: Ra(e.bottom),
                    right: Ra(e.right),
                    width: Ra(e.width),
                    height: Ra(e.height)
                  }
                : { left: 0, top: 0, bottom: 0, right: 0, width: 0, height: 0 };
            },
            Oa = function(e, t) {
              return (
                (e = Da(e)),
                t || (e.left = e.left + e.width),
                (e.right = e.left),
                (e.width = 0),
                e
              );
            },
            Aa = function(e, t, n) {
              return e >= 0 && e <= Math.min(t.height, n.height) / 2;
            },
            Pa = function(e, t) {
              var n = Math.min(t.height / 2, e.height / 2);
              return (
                e.bottom - n < t.top ||
                (!(e.top > t.bottom) && Aa(t.top - e.bottom, e, t))
              );
            },
            Ba = function(e, t) {
              return (
                e.top > t.bottom ||
                (!(e.bottom < t.top) && Aa(t.bottom - e.top, e, t))
              );
            },
            Ia = function(e, t, n) {
              return t >= e.left && t <= e.right && n >= e.top && n <= e.bottom;
            },
            Ma = function(e, t) {
              return t.left > e.left && t.right < e.right
                ? 0
                : t.left < e.left
                ? t.left - e.left
                : t.right - e.right;
            },
            La = function(e, t) {
              return t.top > e.top && t.bottom < e.bottom
                ? 0
                : t.top < e.top
                ? t.top - e.top
                : t.bottom - e.bottom;
            },
            Fa = function(e) {
              var t = e.startContainer,
                n = e.startOffset;
              return t.hasChildNodes() && e.endOffset === n + 1
                ? t.childNodes[n]
                : null;
            },
            Ha = function(e, t) {
              return (
                1 === e.nodeType &&
                  e.hasChildNodes() &&
                  (t >= e.childNodes.length && (t = e.childNodes.length - 1),
                  (e = e.childNodes[t])),
                e
              );
            },
            za = new RegExp(
              "[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"
            ),
            Wa = function(e) {
              return (
                "string" == typeof e && e.charCodeAt(0) >= 768 && za.test(e)
              );
            },
            Ua = function(e, t, n) {
              return e.isSome() && t.isSome()
                ? _.some(n(e.getOrDie(), t.getOrDie()))
                : _.none();
            },
            ja = [].slice,
            Va = function() {
              for (var e = [], t = 0; t < arguments.length; t++)
                e[t] = arguments[t];
              var n = ja.call(arguments);
              return function(e) {
                for (var t = 0; t < n.length; t++) if (!n[t](e)) return !1;
                return !0;
              };
            },
            qa = function() {
              for (var e = [], t = 0; t < arguments.length; t++)
                e[t] = arguments[t];
              var n = ja.call(arguments);
              return function(e) {
                for (var t = 0; t < n.length; t++) if (n[t](e)) return !0;
                return !1;
              };
            },
            $a = Do.isElement,
            Ka = Na,
            Ya = Do.matchStyleValues("display", "block table"),
            Xa = Do.matchStyleValues("float", "left right"),
            Ga = Va($a, Ka, x(Xa)),
            Ja = x(Do.matchStyleValues("white-space", "pre pre-line pre-wrap")),
            Qa = Do.isText,
            Za = Do.isBr,
            eu = fi.nodeIndex,
            tu = Ha,
            nu = function(e) {
              return "createRange" in e ? e.createRange() : fi.DOM.createRng();
            },
            ru = function(e) {
              return e && /[\r\n\t ]/.test(e);
            },
            ou = function(e) {
              return !!e.setStart && !!e.setEnd;
            },
            iu = function(e) {
              var t,
                n = e.startContainer,
                r = e.startOffset;
              return !!(
                ru(e.toString()) &&
                Ja(n.parentNode) &&
                Do.isText(n) &&
                ((t = n.data), ru(t[r - 1]) || ru(t[r + 1]))
              );
            },
            au = function(e) {
              return (
                0 === e.left && 0 === e.right && 0 === e.top && 0 === e.bottom
              );
            },
            uu = function(e) {
              var t, n;
              return (
                (t =
                  (n = e.getClientRects()).length > 0
                    ? Da(n[0])
                    : Da(e.getBoundingClientRect())),
                !ou(e) && Za(e) && au(t)
                  ? (function(e) {
                      var t,
                        n = e.ownerDocument,
                        r = nu(n),
                        o = n.createTextNode(" "),
                        i = e.parentNode;
                      return (
                        i.insertBefore(o, e),
                        r.setStart(o, 0),
                        r.setEnd(o, 1),
                        (t = Da(r.getBoundingClientRect())),
                        i.removeChild(o),
                        t
                      );
                    })(e)
                  : au(t) && ou(e)
                  ? (function(e) {
                      var t = e.startContainer,
                        n = e.endContainer,
                        r = e.startOffset,
                        o = e.endOffset;
                      if (t === n && Do.isText(n) && 0 === r && 1 === o) {
                        var i = e.cloneRange();
                        return i.setEndAfter(n), uu(i);
                      }
                      return null;
                    })(e)
                  : t
              );
            },
            su = function(e, t) {
              var n = Oa(e, t);
              return (n.width = 1), (n.right = n.left + 1), n;
            },
            cu = function(e) {
              var t,
                n,
                r = [],
                o = function(e) {
                  var t, n;
                  0 !== e.height &&
                    ((r.length > 0 &&
                      ((t = e),
                      (n = r[r.length - 1]),
                      t.left === n.left &&
                        t.top === n.top &&
                        t.bottom === n.bottom &&
                        t.right === n.right)) ||
                      r.push(e));
                },
                i = function(e, t) {
                  var n = nu(e.ownerDocument);
                  if (t < e.data.length) {
                    if (Wa(e.data[t])) return r;
                    if (
                      Wa(e.data[t - 1]) &&
                      (n.setStart(e, t), n.setEnd(e, t + 1), !iu(n))
                    )
                      return o(su(uu(n), !1)), r;
                  }
                  t > 0 &&
                    (n.setStart(e, t - 1),
                    n.setEnd(e, t),
                    iu(n) || o(su(uu(n), !1))),
                    t < e.data.length &&
                      (n.setStart(e, t),
                      n.setEnd(e, t + 1),
                      iu(n) || o(su(uu(n), !0)));
                };
              if (Qa(e.container())) return i(e.container(), e.offset()), r;
              if ($a(e.container()))
                if (e.isAtEnd())
                  (n = tu(e.container(), e.offset())),
                    Qa(n) && i(n, n.data.length),
                    Ga(n) && !Za(n) && o(su(uu(n), !1));
                else {
                  if (
                    ((n = tu(e.container(), e.offset())),
                    Qa(n) && i(n, 0),
                    Ga(n) && e.isAtEnd())
                  )
                    return o(su(uu(n), !1)), r;
                  (t = tu(e.container(), e.offset() - 1)),
                    Ga(t) &&
                      !Za(t) &&
                      (Ya(t) || Ya(n) || !Ga(n)) &&
                      o(su(uu(t), !1)),
                    Ga(n) && o(su(uu(n), !0));
                }
              return r;
            };
          function lu(e, t, n) {
            var r = function() {
              return n || (n = cu(lu(e, t))), n;
            };
            return {
              container: a(e),
              offset: a(t),
              toRange: function() {
                var n;
                return (
                  (n = nu(e.ownerDocument)).setStart(e, t), n.setEnd(e, t), n
                );
              },
              getClientRects: r,
              isVisible: function() {
                return r().length > 0;
              },
              isAtStart: function() {
                return Qa(e), 0 === t;
              },
              isAtEnd: function() {
                return Qa(e) ? t >= e.data.length : t >= e.childNodes.length;
              },
              isEqual: function(n) {
                return n && e === n.container() && t === n.offset();
              },
              getNode: function(n) {
                return tu(e, n ? t - 1 : t);
              }
            };
          }
          !(function(e) {
            (e.fromRangeStart = function(t) {
              return e(t.startContainer, t.startOffset);
            }),
              (e.fromRangeEnd = function(t) {
                return e(t.endContainer, t.endOffset);
              }),
              (e.after = function(t) {
                return e(t.parentNode, eu(t) + 1);
              }),
              (e.before = function(t) {
                return e(t.parentNode, eu(t));
              }),
              (e.isAbove = function(e, t) {
                return Ua(
                  Q(t.getClientRects()),
                  Z(e.getClientRects()),
                  Pa
                ).getOr(!1);
              }),
              (e.isBelow = function(e, t) {
                return Ua(
                  Z(t.getClientRects()),
                  Q(e.getClientRects()),
                  Ba
                ).getOr(!1);
              }),
              (e.isAtStart = function(e) {
                return !!e && e.isAtStart();
              }),
              (e.isAtEnd = function(e) {
                return !!e && e.isAtEnd();
              }),
              (e.isTextPosition = function(e) {
                return !!e && Do.isText(e.container());
              }),
              (e.isElementPosition = function(t) {
                return !1 === e.isTextPosition(t);
              });
          })(lu || (lu = {}));
          var fu,
            du = lu,
            mu = Do.isText,
            hu = Do.isBogus,
            gu = fi.nodeIndex,
            pu = function(e) {
              var t = e.parentNode;
              return hu(t) ? pu(t) : t;
            },
            vu = function(e) {
              return e
                ? Ut.reduce(
                    e.childNodes,
                    function(e, t) {
                      return (
                        hu(t) && "BR" !== t.nodeName
                          ? (e = e.concat(vu(t)))
                          : e.push(t),
                        e
                      );
                    },
                    []
                  )
                : [];
            },
            bu = function(e) {
              return function(t) {
                return e === t;
              };
            },
            yu = function(e) {
              return (
                (mu(e) ? "text()" : e.nodeName.toLowerCase()) +
                "[" +
                (function(e) {
                  var t, n, r;
                  return (
                    (t = vu(pu(e))),
                    (n = Ut.findIndex(t, bu(e), e)),
                    (t = t.slice(0, n + 1)),
                    (r = Ut.reduce(
                      t,
                      function(e, n, r) {
                        return mu(n) && mu(t[r - 1]) && e++, e;
                      },
                      0
                    )),
                    (t = Ut.filter(t, Do.matchNodeNames(e.nodeName))),
                    (n = Ut.findIndex(t, bu(e), e)) - r
                  );
                })(e) +
                "]"
              );
            },
            wu = function(e, t) {
              var n,
                r,
                o,
                i,
                a,
                u = [];
              return (
                (n = t.container()),
                (r = t.offset()),
                mu(n)
                  ? (o = (function(e, t) {
                      for (; (e = e.previousSibling) && mu(e); )
                        t += e.data.length;
                      return t;
                    })(n, r))
                  : (r >= (i = n.childNodes).length
                      ? ((o = "after"), (r = i.length - 1))
                      : (o = "before"),
                    (n = i[r])),
                u.push(yu(n)),
                (a = (function(e, t, n) {
                  var r = [];
                  for (
                    t = t.parentNode;
                    !(t === e || (n && n(t)));
                    t = t.parentNode
                  )
                    r.push(t);
                  return r;
                })(e, n)),
                (a = Ut.filter(a, x(Do.isBogus))),
                (u = u.concat(
                  Ut.map(a, function(e) {
                    return yu(e);
                  })
                ))
                  .reverse()
                  .join("/") +
                  "," +
                  o
              );
            },
            xu = function(e, t) {
              var n, r, o;
              return t
                ? ((n = t.split(",")),
                  (t = n[0].split("/")),
                  (o = n.length > 1 ? n[1] : "before"),
                  (r = Ut.reduce(
                    t,
                    function(e, t) {
                      return (t = /([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))
                        ? ("text()" === t[1] && (t[1] = "#text"),
                          (function(e, t, n) {
                            var r = vu(e);
                            return (
                              (r = Ut.filter(r, function(e, t) {
                                return !mu(e) || !mu(r[t - 1]);
                              })),
                              (r = Ut.filter(r, Do.matchNodeNames(t)))[n]
                            );
                          })(e, t[1], parseInt(t[2], 10)))
                        : null;
                    },
                    e
                  ))
                    ? mu(r)
                      ? (function(e, t) {
                          for (var n, r = e, o = 0; mu(r); ) {
                            if (((n = r.data.length), t >= o && t <= o + n)) {
                              (e = r), (t -= o);
                              break;
                            }
                            if (!mu(r.nextSibling)) {
                              (e = r), (t = n);
                              break;
                            }
                            (o += n), (r = r.nextSibling);
                          }
                          return (
                            mu(e) && t > e.data.length && (t = e.data.length),
                            du(e, t)
                          );
                        })(r, parseInt(o, 10))
                      : ((o = "after" === o ? gu(r) + 1 : gu(r)),
                        du(r.parentNode, o))
                    : null)
                : null;
            },
            Cu = function(e, t) {
              Do.isText(t) && 0 === t.data.length && e.remove(t);
            },
            Su = function(e, t, n) {
              Do.isDocumentFragment(n)
                ? (function(e, t, n) {
                    var r = _.from(n.firstChild),
                      o = _.from(n.lastChild);
                    t.insertNode(n),
                      r.each(function(t) {
                        return Cu(e, t.previousSibling);
                      }),
                      o.each(function(t) {
                        return Cu(e, t.nextSibling);
                      });
                  })(e, t, n)
                : (function(e, t, n) {
                    t.insertNode(n),
                      Cu(e, n.previousSibling),
                      Cu(e, n.nextSibling);
                  })(e, t, n);
            },
            Eu = Do.isContentEditableFalse,
            Tu = function(e, t, n, r, o) {
              var i,
                a = r[o ? "startContainer" : "endContainer"],
                u = r[o ? "startOffset" : "endOffset"],
                s = [],
                c = 0,
                l = e.getRoot();
              for (
                Do.isText(a)
                  ? s.push(
                      n
                        ? (function(e, t, n) {
                            var r, o;
                            for (
                              o = e(t.data.slice(0, n)).length,
                                r = t.previousSibling;
                              r && Do.isText(r);
                              r = r.previousSibling
                            )
                              o += e(r.data).length;
                            return o;
                          })(t, a, u)
                        : u
                    )
                  : (u >= (i = a.childNodes).length &&
                      i.length &&
                      ((c = 1), (u = Math.max(0, i.length - 1))),
                    s.push(e.nodeIndex(i[u], n) + c));
                a && a !== l;
                a = a.parentNode
              )
                s.push(e.nodeIndex(a, n));
              return s;
            },
            Nu = function(e, t, n) {
              var r = 0;
              return (
                Kt.each(e.select(t), function(e) {
                  if ("all" !== e.getAttribute("data-mce-bogus"))
                    return e !== n && void r++;
                }),
                r
              );
            },
            _u = function(e, t) {
              var n,
                r,
                o,
                i = t ? "start" : "end";
              (n = e[i + "Container"]),
                (r = e[i + "Offset"]),
                Do.isElement(n) &&
                  "TR" === n.nodeName &&
                  (n = (o = n.childNodes)[
                    Math.min(t ? r : r - 1, o.length - 1)
                  ]) &&
                  ((r = t ? 0 : n.childNodes.length),
                  e["set" + (t ? "Start" : "End")](n, r));
            },
            ku = function(e) {
              return _u(e, !0), _u(e, !1), e;
            },
            Ru = function(e, t) {
              var n;
              if (Do.isElement(e) && ((e = Ha(e, t)), Eu(e))) return e;
              if (la(e)) {
                if (
                  (Do.isText(e) && sa(e) && (e = e.parentNode),
                  (n = e.previousSibling),
                  Eu(n))
                )
                  return n;
                if (((n = e.nextSibling), Eu(n))) return n;
              }
            },
            Du = function(e, t, n) {
              var r = n.getNode(),
                o = r ? r.nodeName : null,
                i = n.getRng();
              if (Eu(r) || "IMG" === o)
                return { name: o, index: Nu(n.dom, o, r) };
              var a = (function(e) {
                return (
                  Ru(e.startContainer, e.startOffset) ||
                  Ru(e.endContainer, e.endOffset)
                );
              })(i);
              return a
                ? { name: (o = a.tagName), index: Nu(n.dom, o, a) }
                : (function(e, t, n, r) {
                    var o = t.dom,
                      i = {};
                    return (
                      (i.start = Tu(o, e, n, r, !0)),
                      t.isCollapsed() || (i.end = Tu(o, e, n, r, !1)),
                      i
                    );
                  })(e, n, t, i);
            },
            Ou = function(e, t, n) {
              var r = {
                "data-mce-type": "bookmark",
                id: t,
                style: "overflow:hidden;line-height:0px"
              };
              return n ? e.create("span", r, "&#xFEFF;") : e.create("span", r);
            },
            Au = function(e, t) {
              var n = e.dom,
                r = e.getRng(),
                o = n.uniqueId(),
                i = e.isCollapsed(),
                a = e.getNode(),
                u = a.nodeName;
              if ("IMG" === u) return { name: u, index: Nu(n, u, a) };
              var s = ku(r.cloneRange());
              if (!i) {
                s.collapse(!1);
                var c = Ou(n, o + "_end", t);
                Su(n, s, c);
              }
              (r = ku(r)).collapse(!0);
              var l = Ou(n, o + "_start", t);
              return (
                Su(n, r, l), e.moveToBookmark({ id: o, keep: 1 }), { id: o }
              );
            },
            Pu = {
              getBookmark: function(e, t, n) {
                return 2 === t
                  ? Du(ia, n, e)
                  : 3 === t
                  ? (function(e) {
                      var t = e.getRng();
                      return {
                        start: wu(e.dom.getRoot(), du.fromRangeStart(t)),
                        end: wu(e.dom.getRoot(), du.fromRangeEnd(t))
                      };
                    })(e)
                  : t
                  ? (function(e) {
                      return { rng: e.getRng() };
                    })(e)
                  : Au(e, !1);
              },
              getUndoBookmark: s(Du, u, !0),
              getPersistentBookmark: Au
            },
            Bu = function(e) {
              return Do.isElement(e) && "_mce_caret" === e.id;
            },
            Iu = function(e, t) {
              for (; t && t !== e; ) {
                if ("_mce_caret" === t.id) return t;
                t = t.parentNode;
              }
              return null;
            },
            Mu = Do.isElement,
            Lu = Do.isText,
            Fu = function(e) {
              var t = e.parentNode;
              t && t.removeChild(e);
            },
            Hu = function(e, t) {
              0 === t.length ? Fu(e) : (e.nodeValue = t);
            },
            zu = function(e) {
              var t = ia(e);
              return { count: e.length - t.length, text: t };
            },
            Wu = function(e, t) {
              return Vu(e), t;
            },
            Uu = function(e, t) {
              var n = t.container(),
                r = (function(e, t) {
                  var n = H(e, t);
                  return -1 === n ? _.none() : _.some(n);
                })(ee(n.childNodes), e)
                  .map(function(e) {
                    return e < t.offset() ? du(n, t.offset() - 1) : t;
                  })
                  .getOr(t);
              return Vu(e), r;
            },
            ju = function(e, t) {
              return Lu(e) && t.container() === e
                ? (function(e, t) {
                    var n = zu(e.data.substr(0, t.offset())),
                      r = zu(e.data.substr(t.offset())),
                      o = n.text + r.text;
                    return o.length > 0
                      ? (Hu(e, o), du(e, t.offset() - n.count))
                      : t;
                  })(e, t)
                : Wu(e, t);
            },
            Vu = function(e) {
              if (
                (Mu(e) &&
                  la(e) &&
                  (fa(e) ? e.removeAttribute("data-mce-caret") : Fu(e)),
                Lu(e))
              ) {
                var t = ia(
                  (function(e) {
                    try {
                      return e.nodeValue;
                    } catch (e) {
                      return "";
                    }
                  })(e)
                );
                Hu(e, t);
              }
            },
            qu = {
              removeAndReposition: function(e, t) {
                return du.isTextPosition(t)
                  ? ju(e, t)
                  : (function(e, t) {
                      return t.container() === e.parentNode
                        ? Uu(e, t)
                        : Wu(e, t);
                    })(e, t);
              },
              remove: Vu
            },
            $u = Kn.detect().browser,
            Ku = Do.isContentEditableFalse,
            Yu = function(e, t, n) {
              var r,
                o,
                i,
                a,
                u,
                s = Oa(t.getBoundingClientRect(), n);
              return (
                "BODY" === e.tagName
                  ? ((r = e.ownerDocument.documentElement),
                    (o = e.scrollLeft || r.scrollLeft),
                    (i = e.scrollTop || r.scrollTop))
                  : ((u = e.getBoundingClientRect()),
                    (o = e.scrollLeft - u.left),
                    (i = e.scrollTop - u.top)),
                (s.left += o),
                (s.right += o),
                (s.top += i),
                (s.bottom += i),
                (s.width = 1),
                (a = t.offsetWidth - t.clientWidth) > 0 &&
                  (n && (a *= -1), (s.left += a), (s.right += a)),
                s
              );
            },
            Xu = function(e, t, n) {
              var r,
                o,
                i = ki(_.none()),
                a = function() {
                  !(function(e) {
                    var t, n, r, o, i;
                    for (
                      t = mn("*[contentEditable=false]", e), o = 0;
                      o < t.length;
                      o++
                    )
                      (r = (n = t[o]).previousSibling),
                        pa(r) &&
                          (1 === (i = r.data).length
                            ? r.parentNode.removeChild(r)
                            : r.deleteData(i.length - 1, 1)),
                        (r = n.nextSibling),
                        ga(r) &&
                          (1 === (i = r.data).length
                            ? r.parentNode.removeChild(r)
                            : r.deleteData(0, 1));
                  })(e),
                    o && (qu.remove(o), (o = null)),
                    i.get().each(function(e) {
                      mn(e.caret).remove(), i.set(_.none());
                    }),
                    clearInterval(r);
                },
                u = function() {
                  r = pe.setInterval(function() {
                    n()
                      ? mn("div.mce-visual-caret", e).toggleClass(
                          "mce-visual-caret-hidden"
                        )
                      : mn("div.mce-visual-caret", e).addClass(
                          "mce-visual-caret-hidden"
                        );
                  }, 500);
                };
              return {
                show: function(n, r) {
                  var s, c;
                  if (
                    (a(),
                    (function(e) {
                      return Do.isElement(e) && /^(TD|TH)$/i.test(e.tagName);
                    })(r))
                  )
                    return null;
                  if (!t(r))
                    return (
                      (o = (function(e, t) {
                        var n, r, o;
                        if (
                          ((r = e.ownerDocument.createTextNode(oa)),
                          (o = e.parentNode),
                          t)
                        ) {
                          if (((n = e.previousSibling), ua(n))) {
                            if (la(n)) return n;
                            if (pa(n)) return n.splitText(n.data.length - 1);
                          }
                          o.insertBefore(r, e);
                        } else {
                          if (((n = e.nextSibling), ua(n))) {
                            if (la(n)) return n;
                            if (ga(n)) return n.splitText(1), n;
                          }
                          e.nextSibling
                            ? o.insertBefore(r, e.nextSibling)
                            : o.appendChild(r);
                        }
                        return r;
                      })(r, n)),
                      (c = r.ownerDocument.createRange()),
                      Ku(o.nextSibling)
                        ? (c.setStart(o, 0), c.setEnd(o, 0))
                        : (c.setStart(o, 1), c.setEnd(o, 1)),
                      c
                    );
                  (o = ha("p", r, n)),
                    (s = Yu(e, r, n)),
                    mn(o).css("top", s.top);
                  var l = mn(
                    '<div class="mce-visual-caret" data-mce-bogus="all"></div>'
                  )
                    .css(s)
                    .appendTo(e)[0];
                  return (
                    i.set(_.some({ caret: l, element: r, before: n })),
                    i.get().each(function(e) {
                      n && mn(e.caret).addClass("mce-visual-caret-before");
                    }),
                    u(),
                    (c = r.ownerDocument.createRange()).setStart(o, 0),
                    c.setEnd(o, 0),
                    c
                  );
                },
                hide: a,
                getCss: function() {
                  return ".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}";
                },
                reposition: function() {
                  i.get().each(function(t) {
                    var n = Yu(e, t.element, t.before);
                    mn(t.caret).css(n);
                  });
                },
                destroy: function() {
                  return pe.clearInterval(r);
                }
              };
            },
            Gu = function() {
              return $u.isIE() || $u.isEdge() || $u.isFirefox();
            },
            Ju = function(e) {
              return Ku(e) || (Do.isTable(e) && Gu());
            },
            Qu = Do.isContentEditableFalse,
            Zu = Do.matchStyleValues(
              "display",
              "block table table-cell table-caption list-item"
            ),
            es = la,
            ts = sa,
            ns = Do.isElement,
            rs = Na,
            os = function(e) {
              return e > 0;
            },
            is = function(e) {
              return e < 0;
            },
            as = function(e, t) {
              for (var n; (n = e(t)); ) if (!ts(n)) return n;
              return null;
            },
            us = function(e, t, n, r, o) {
              var i = new no(e, r);
              if (is(t)) {
                if ((Qu(e) || ts(e)) && n((e = as(i.prev, !0)))) return e;
                for (; (e = as(i.prev, o)); ) if (n(e)) return e;
              }
              if (os(t)) {
                if ((Qu(e) || ts(e)) && n((e = as(i.next, !0)))) return e;
                for (; (e = as(i.next, o)); ) if (n(e)) return e;
              }
              return null;
            },
            ss = function(e, t) {
              for (; e && e !== t; ) {
                if (Zu(e)) return e;
                e = e.parentNode;
              }
              return null;
            },
            cs = function(e, t, n) {
              return ss(e.container(), n) === ss(t.container(), n);
            },
            ls = function(e, t) {
              var n, r;
              return t
                ? ((n = t.container()),
                  (r = t.offset()),
                  ns(n) ? n.childNodes[r + e] : null)
                : null;
            },
            fs = function(e, t) {
              var n = t.ownerDocument.createRange();
              return (
                e
                  ? (n.setStartBefore(t), n.setEndBefore(t))
                  : (n.setStartAfter(t), n.setEndAfter(t)),
                n
              );
            },
            ds = function(e, t, n) {
              return ss(t, e) === ss(n, e);
            },
            ms = function(e, t, n) {
              var r, o;
              for (o = e ? "previousSibling" : "nextSibling"; n && n !== t; ) {
                if (((r = n[o]), es(r) && (r = r[o]), Qu(r))) {
                  if (ds(t, r, n)) return r;
                  break;
                }
                if (rs(r)) break;
                n = n.parentNode;
              }
              return null;
            },
            hs = s(fs, !0),
            gs = s(fs, !1),
            ps = function(e, t, n) {
              var r,
                o,
                i,
                a,
                u = s(ms, !0, t),
                c = s(ms, !1, t);
              if (((o = n.startContainer), (i = n.startOffset), sa(o))) {
                if (
                  (ns(o) || (o = o.parentNode),
                  "before" === (a = o.getAttribute("data-mce-caret")) &&
                    ((r = o.nextSibling), Ju(r)))
                )
                  return hs(r);
                if ("after" === a && ((r = o.previousSibling), Ju(r)))
                  return gs(r);
              }
              if (!n.collapsed) return n;
              if (Do.isText(o)) {
                if (es(o)) {
                  if (1 === e) {
                    if ((r = c(o))) return hs(r);
                    if ((r = u(o))) return gs(r);
                  }
                  if (-1 === e) {
                    if ((r = u(o))) return gs(r);
                    if ((r = c(o))) return hs(r);
                  }
                  return n;
                }
                if (pa(o) && i >= o.data.length - 1)
                  return 1 === e && (r = c(o)) ? hs(r) : n;
                if (ga(o) && i <= 1) return -1 === e && (r = u(o)) ? gs(r) : n;
                if (i === o.data.length) return (r = c(o)) ? hs(r) : n;
                if (0 === i) return (r = u(o)) ? gs(r) : n;
              }
              return n;
            },
            vs = function(e, t) {
              return _.from(ls(e ? 0 : -1, t)).filter(Qu);
            },
            bs = function(e, t, n) {
              var r = ps(e, t, n);
              return -1 === e ? lu.fromRangeStart(r) : lu.fromRangeEnd(r);
            },
            ys = function(e) {
              return _.from(e.getNode()).map(Xn.fromDom);
            },
            ws = function(e, t) {
              for (; (t = e(t)); ) if (t.isVisible()) return t;
              return t;
            },
            xs = function(e, t) {
              var n = cs(e, t);
              return !(n || !Do.isBr(e.getNode())) || n;
            };
          !(function(e) {
            (e[(e.Backwards = -1)] = "Backwards"),
              (e[(e.Forwards = 1)] = "Forwards");
          })(fu || (fu = {}));
          var Cs = Do.isContentEditableFalse,
            Ss = Do.isText,
            Es = Do.isElement,
            Ts = Do.isBr,
            Ns = Na,
            _s = function(e) {
              return (
                Sa(e) ||
                (function(e) {
                  return (
                    !!_a(e) &&
                    !0 !==
                      $(
                        ee(e.getElementsByTagName("*")),
                        function(e, t) {
                          return e || ba(t);
                        },
                        !1
                      )
                  );
                })(e)
              );
            },
            ks = ka,
            Rs = function(e, t) {
              return e.hasChildNodes() && t < e.childNodes.length
                ? e.childNodes[t]
                : null;
            },
            Ds = function(e, t) {
              if (os(e)) {
                if (Ns(t.previousSibling) && !Ss(t.previousSibling))
                  return du.before(t);
                if (Ss(t)) return du(t, 0);
              }
              if (is(e)) {
                if (Ns(t.nextSibling) && !Ss(t.nextSibling)) return du.after(t);
                if (Ss(t)) return du(t, t.data.length);
              }
              return is(e)
                ? Ts(t)
                  ? du.before(t)
                  : du.after(t)
                : du.before(t);
            },
            Os = function(e, t, n) {
              var r, o, i, u, s;
              if (!Es(n) || !t) return null;
              if (t.isEqual(du.after(n)) && n.lastChild) {
                if (
                  ((s = du.after(n.lastChild)),
                  is(e) && Ns(n.lastChild) && Es(n.lastChild))
                )
                  return Ts(n.lastChild) ? du.before(n.lastChild) : s;
              } else s = t;
              var c = s.container(),
                l = s.offset();
              if (Ss(c)) {
                if (is(e) && l > 0) return du(c, --l);
                if (os(e) && l < c.length) return du(c, ++l);
                r = c;
              } else {
                if (is(e) && l > 0 && ((o = Rs(c, l - 1)), Ns(o)))
                  return !_s(o) && (i = us(o, e, ks, o))
                    ? Ss(i)
                      ? du(i, i.data.length)
                      : du.after(i)
                    : Ss(o)
                    ? du(o, o.data.length)
                    : du.before(o);
                if (os(e) && l < c.childNodes.length && ((o = Rs(c, l)), Ns(o)))
                  return Ts(o)
                    ? (function(e, t) {
                        var n = t.nextSibling;
                        return n && Ns(n)
                          ? Ss(n)
                            ? du(n, 0)
                            : du.before(n)
                          : Os(fu.Forwards, du.after(t), e);
                      })(n, o)
                    : !_s(o) && (i = us(o, e, ks, o))
                    ? Ss(i)
                      ? du(i, 0)
                      : du.before(i)
                    : Ss(o)
                    ? du(o, 0)
                    : du.after(o);
                r = o || s.getNode();
              }
              return ((os(e) && s.isAtEnd()) || (is(e) && s.isAtStart())) &&
                ((r = us(r, e, a(!0), n, !0)), ks(r, n))
                ? Ds(e, r)
                : ((o = us(r, e, ks, n)),
                  !(u = Ut.last(
                    q(
                      (function(e, t) {
                        for (var n = []; e && e !== t; )
                          n.push(e), (e = e.parentNode);
                        return n;
                      })(c, n),
                      Cs
                    )
                  )) ||
                  (o && u.contains(o))
                    ? o
                      ? Ds(e, o)
                      : null
                    : (s = os(e) ? du.after(u) : du.before(u)));
            },
            As = function(e) {
              return {
                next: function(t) {
                  return Os(fu.Forwards, t, e);
                },
                prev: function(t) {
                  return Os(fu.Backwards, t, e);
                }
              };
            },
            Ps = function(e) {
              return du.isTextPosition(e) ? 0 === e.offset() : Na(e.getNode());
            },
            Bs = function(e) {
              if (du.isTextPosition(e)) {
                var t = e.container();
                return e.offset() === t.data.length;
              }
              return Na(e.getNode(!0));
            },
            Is = function(e, t) {
              return (
                !du.isTextPosition(e) &&
                !du.isTextPosition(t) &&
                e.getNode() === t.getNode(!0)
              );
            },
            Ms = function(e, t, n) {
              return e
                ? !Is(t, n) &&
                    ((r = t),
                    !(!du.isTextPosition(r) && Do.isBr(r.getNode()))) &&
                    Bs(t) &&
                    Ps(n)
                : !Is(n, t) && Ps(t) && Bs(n);
              var r;
            },
            Ls = function(e, t, n) {
              var r = As(t);
              return _.from(e ? r.next(n) : r.prev(n));
            },
            Fs = function(e, t, n) {
              return Ls(e, t, n).bind(function(r) {
                return cs(n, r, t) && Ms(e, n, r) ? Ls(e, t, r) : _.some(r);
              });
            },
            Hs = function(e, t, n, r) {
              return Fs(e, t, n).bind(function(n) {
                return r(n) ? Hs(e, t, n, r) : _.some(n);
              });
            },
            zs = function(e, t) {
              var n = e ? t.firstChild : t.lastChild;
              return Do.isText(n)
                ? _.some(du(n, e ? 0 : n.data.length))
                : n
                ? Na(n)
                  ? _.some(
                      e
                        ? du.before(n)
                        : (function(e) {
                            return Do.isBr(e) ? du.before(e) : du.after(e);
                          })(n)
                    )
                  : (function(e, t, n) {
                      var r = e ? du.before(n) : du.after(n);
                      return Ls(e, t, r);
                    })(e, t, n)
                : _.none();
            },
            Ws = s(Ls, !0),
            Us = s(Ls, !1),
            js = {
              fromPosition: Ls,
              nextPosition: Ws,
              prevPosition: Us,
              navigate: Fs,
              navigateIgnore: Hs,
              positionIn: zs,
              firstPositionIn: s(zs, !0),
              lastPositionIn: s(zs, !1)
            },
            Vs = function(e, t) {
              return (
                Do.isElement(t) &&
                  e.isBlock(t) &&
                  !t.innerHTML &&
                  !fe.ie &&
                  (t.innerHTML = '<br data-mce-bogus="1" />'),
                t
              );
            },
            qs = function(e, t) {
              return js.lastPositionIn(e).fold(
                function() {
                  return !1;
                },
                function(e) {
                  return (
                    t.setStart(e.container(), e.offset()),
                    t.setEnd(e.container(), e.offset()),
                    !0
                  );
                }
              );
            },
            $s = function(e, t, n) {
              return !(
                !(function(e) {
                  return !1 === e.hasChildNodes();
                })(t) ||
                !Iu(e, t) ||
                ((function(e, t) {
                  var n = e.ownerDocument.createTextNode(oa);
                  e.appendChild(n), t.setStart(n, 0), t.setEnd(n, 0);
                })(t, n),
                0)
              );
            },
            Ks = function(e, t, n, r) {
              var o,
                i,
                a,
                u,
                s = n[t ? "start" : "end"],
                c = e.getRoot();
              if (s) {
                for (a = s[0], i = c, o = s.length - 1; o >= 1; o--) {
                  if (((u = i.childNodes), $s(c, i, r))) return !0;
                  if (s[o] > u.length - 1) return !!$s(c, i, r) || qs(i, r);
                  i = u[s[o]];
                }
                3 === i.nodeType && (a = Math.min(s[0], i.nodeValue.length)),
                  1 === i.nodeType && (a = Math.min(s[0], i.childNodes.length)),
                  t ? r.setStart(i, a) : r.setEnd(i, a);
              }
              return !0;
            },
            Ys = function(e) {
              return Do.isText(e) && e.data.length > 0;
            },
            Xs = function(e, t, n) {
              var r,
                o,
                i,
                a,
                u,
                s,
                c = e.get(n.id + "_" + t),
                l = n.keep;
              if (c) {
                if (
                  ((r = c.parentNode),
                  "start" === t
                    ? (l
                        ? c.hasChildNodes()
                          ? ((r = c.firstChild), (o = 1))
                          : Ys(c.nextSibling)
                          ? ((r = c.nextSibling), (o = 0))
                          : Ys(c.previousSibling)
                          ? ((r = c.previousSibling),
                            (o = c.previousSibling.data.length))
                          : ((r = c.parentNode), (o = e.nodeIndex(c) + 1))
                        : (o = e.nodeIndex(c)),
                      (u = r),
                      (s = o))
                    : (l
                        ? c.hasChildNodes()
                          ? ((r = c.firstChild), (o = 1))
                          : Ys(c.previousSibling)
                          ? ((r = c.previousSibling),
                            (o = c.previousSibling.data.length))
                          : ((r = c.parentNode), (o = e.nodeIndex(c)))
                        : (o = e.nodeIndex(c)),
                      (u = r),
                      (s = o)),
                  !l)
                ) {
                  for (
                    a = c.previousSibling,
                      i = c.nextSibling,
                      Kt.each(Kt.grep(c.childNodes), function(e) {
                        Do.isText(e) &&
                          (e.nodeValue = e.nodeValue.replace(/\uFEFF/g, ""));
                      });
                    (c = e.get(n.id + "_" + t));

                  )
                    e.remove(c, !0);
                  a &&
                    i &&
                    a.nodeType === i.nodeType &&
                    Do.isText(a) &&
                    !fe.opera &&
                    ((o = a.nodeValue.length),
                    a.appendData(i.nodeValue),
                    e.remove(i),
                    (u = a),
                    (s = o));
                }
                return _.some(du(u, s));
              }
              return _.none();
            },
            Gs = function(e, t) {
              var n = e.dom;
              if (t) {
                if (
                  (function(e) {
                    return Kt.isArray(e.start);
                  })(t)
                )
                  return (function(e, t) {
                    var n = e.createRng();
                    return Ks(e, !0, t, n) && Ks(e, !1, t, n)
                      ? _.some(n)
                      : _.none();
                  })(n, t);
                if (
                  (function(e) {
                    return "string" == typeof e.start;
                  })(t)
                )
                  return _.some(
                    (function(e, t) {
                      var n, r;
                      return (
                        (n = e.createRng()),
                        (r = xu(e.getRoot(), t.start)),
                        n.setStart(r.container(), r.offset()),
                        (r = xu(e.getRoot(), t.end)),
                        n.setEnd(r.container(), r.offset()),
                        n
                      );
                    })(n, t)
                  );
                if (
                  (function(e) {
                    return e.hasOwnProperty("id");
                  })(t)
                )
                  return (function(e, t) {
                    var n,
                      r,
                      o = Xs(e, "start", t),
                      i = Xs(e, "end", t);
                    return Ua(o, ((r = o), (n = i).isSome() ? n : r), function(
                      t,
                      n
                    ) {
                      var r = e.createRng();
                      return (
                        r.setStart(Vs(e, t.container()), t.offset()),
                        r.setEnd(Vs(e, n.container()), n.offset()),
                        r
                      );
                    });
                  })(n, t);
                if (
                  (function(e) {
                    return e.hasOwnProperty("name");
                  })(t)
                )
                  return (function(e, t) {
                    return _.from(e.select(t.name)[t.index]).map(function(t) {
                      var n = e.createRng();
                      return n.selectNode(t), n;
                    });
                  })(n, t);
                if (
                  (function(e) {
                    return e.hasOwnProperty("rng");
                  })(t)
                )
                  return _.some(t.rng);
              }
              return _.none();
            },
            Js = function(e, t, n) {
              return Pu.getBookmark(e, t, n);
            },
            Qs = function(e, t) {
              Gs(e, t).each(function(t) {
                e.setRng(t);
              });
            },
            Zs = function(e) {
              return (
                Do.isElement(e) &&
                "SPAN" === e.tagName &&
                "bookmark" === e.getAttribute("data-mce-type")
              );
            },
            ec = function(e) {
              return e && /^(IMG)$/.test(e.nodeName);
            },
            tc = function(e) {
              return (
                e && 3 === e.nodeType && /^([\t \r\n]+|)$/.test(e.nodeValue)
              );
            },
            nc = function(e, t, n) {
              return (
                ("color" !== n && "backgroundColor" !== n) || (t = e.toHex(t)),
                "fontWeight" === n && 700 === t && (t = "bold"),
                "fontFamily" === n &&
                  (t = t.replace(/[\'\"]/g, "").replace(/,\s+/g, ",")),
                "" + t
              );
            },
            rc = {
              isInlineBlock: ec,
              moveStart: function(e, t, n) {
                var r,
                  o,
                  i,
                  a = n.startOffset,
                  u = n.startContainer;
                if (
                  (n.startContainer !== n.endContainer ||
                    !ec(n.startContainer.childNodes[n.startOffset])) &&
                  1 === u.nodeType
                )
                  for (
                    a < (i = u.childNodes).length
                      ? (r = new no((u = i[a]), e.getParent(u, e.isBlock)))
                      : (r = new no(
                          (u = i[i.length - 1]),
                          e.getParent(u, e.isBlock)
                        )).next(!0),
                      o = r.current();
                    o;
                    o = r.next()
                  )
                    if (3 === o.nodeType && !tc(o))
                      return n.setStart(o, 0), void t.setRng(n);
              },
              getNonWhiteSpaceSibling: function(e, t, n) {
                if (e)
                  for (
                    t = t ? "nextSibling" : "previousSibling", e = n ? e : e[t];
                    e;
                    e = e[t]
                  )
                    if (1 === e.nodeType || !tc(e)) return e;
              },
              isTextBlock: function(e, t) {
                return (
                  t.nodeType && (t = t.nodeName),
                  !!e.schema.getTextBlockElements()[t.toLowerCase()]
                );
              },
              isValid: function(e, t, n) {
                return e.schema.isValidChild(t, n);
              },
              isWhiteSpaceNode: tc,
              replaceVars: function(e, t) {
                return (
                  "string" != typeof e
                    ? (e = e(t))
                    : t &&
                      (e = e.replace(/%(\w+)/g, function(e, n) {
                        return t[n] || e;
                      })),
                  e
                );
              },
              isEq: function(e, t) {
                return (
                  (t = t || ""),
                  (e = "" + ((e = e || "").nodeName || e)),
                  (t = "" + (t.nodeName || t)),
                  e.toLowerCase() === t.toLowerCase()
                );
              },
              normalizeStyleValue: nc,
              getStyle: function(e, t, n) {
                return nc(e, e.getStyle(t, n), n);
              },
              getTextDecoration: function(e, t) {
                var n;
                return (
                  e.getParent(t, function(t) {
                    return (
                      (n = e.getStyle(t, "text-decoration")) && "none" !== n
                    );
                  }),
                  n
                );
              },
              getParents: function(e, t, n) {
                return e.getParents(t, n, e.getRoot());
              }
            },
            oc = Zs,
            ic = rc.getParents,
            ac = rc.isWhiteSpaceNode,
            uc = rc.isTextBlock,
            sc = function(e, t) {
              for (
                void 0 === t &&
                (t = 3 === e.nodeType ? e.length : e.childNodes.length);
                e && e.hasChildNodes();

              )
                (e = e.childNodes[t]) &&
                  (t = 3 === e.nodeType ? e.length : e.childNodes.length);
              return { node: e, offset: t };
            },
            cc = function(e) {
              return (
                "BR" === e.nodeName &&
                e.getAttribute("data-mce-bogus") &&
                !e.nextSibling
              );
            },
            lc = function(e, t) {
              for (var n = t; n; ) {
                if (1 === n.nodeType && e.getContentEditable(n))
                  return "false" === e.getContentEditable(n) ? n : t;
                n = n.parentNode;
              }
              return t;
            },
            fc = function(e, t, n, r) {
              var o,
                i,
                a = n.nodeValue;
              return (
                void 0 === r && (r = e ? a.length : 0),
                e
                  ? -1 !==
                      (o =
                        (o = a.lastIndexOf(" ", r)) >
                        (i = a.lastIndexOf(" ", r))
                          ? o
                          : i) &&
                    !t &&
                    (o < r || !e) &&
                    o <= a.length &&
                    o++
                  : ((o = a.indexOf(" ", r)),
                    (i = a.indexOf(" ", r)),
                    (o = -1 !== o && (-1 === i || o < i) ? o : i)),
                o
              );
            },
            dc = function(e, t, n, r, o, i) {
              var a, u, s, c;
              if (3 === n.nodeType) {
                if (-1 !== (s = fc(o, i, n, r)))
                  return { container: n, offset: s };
                c = n;
              }
              for (
                a = new no(n, e.getParent(n, e.isBlock) || t);
                (u = a[o ? "prev" : "next"]());

              )
                if (3 !== u.nodeType || oc(u.parentNode)) {
                  if (e.isBlock(u) || rc.isEq(u, "BR")) break;
                } else if (((c = u), -1 !== (s = fc(o, i, u))))
                  return { container: u, offset: s };
              if (c) return { container: c, offset: (r = o ? 0 : c.length) };
            },
            mc = function(e, t, n, r, o) {
              var i, a, u, s;
              for (
                3 === r.nodeType &&
                  0 === r.nodeValue.length &&
                  r[o] &&
                  (r = r[o]),
                  i = ic(e, r),
                  a = 0;
                a < i.length;
                a++
              )
                for (u = 0; u < t.length; u++)
                  if (
                    (!("collapsed" in (s = t[u])) ||
                      s.collapsed === n.collapsed) &&
                    e.is(i[a], s.selector)
                  )
                    return i[a];
              return r;
            },
            hc = function(e, t, n, r) {
              var o,
                i = e.dom,
                a = i.getRoot();
              if ((t[0].wrapper || (o = i.getParent(n, t[0].block, a)), !o)) {
                var u = i.getParent(n, "LI,TD,TH");
                o = i.getParent(
                  3 === n.nodeType ? n.parentNode : n,
                  function(t) {
                    return t !== a && uc(e, t);
                  },
                  u
                );
              }
              if (
                (o && t[0].wrapper && (o = ic(i, o, "ul,ol").reverse()[0] || o),
                !o)
              )
                for (
                  o = n;
                  o[r] && !i.isBlock(o[r]) && ((o = o[r]), !rc.isEq(o, "br"));

                );
              return o || n;
            },
            gc = function(e, t, n, r, o, i, a) {
              var u, s, c, l, f;
              if (
                ((u = s = a ? n : o),
                (l = a ? "previousSibling" : "nextSibling"),
                (f = e.getRoot()),
                3 === u.nodeType &&
                  !ac(u) &&
                  (a ? r > 0 : i < u.nodeValue.length))
              )
                return u;
              for (;;) {
                if (!t[0].block_expand && e.isBlock(s)) return s;
                for (c = s[l]; c; c = c[l])
                  if (!oc(c) && !ac(c) && !cc(c)) return s;
                if (s === f || s.parentNode === f) {
                  u = s;
                  break;
                }
                s = s.parentNode;
              }
              return u;
            },
            pc = function(e, t, n, r) {
              var o,
                i = t.startContainer,
                a = t.startOffset,
                u = t.endContainer,
                s = t.endOffset,
                c = e.dom;
              return (
                1 === i.nodeType &&
                  i.hasChildNodes() &&
                  3 === (i = Ha(i, a)).nodeType &&
                  (a = 0),
                1 === u.nodeType &&
                  u.hasChildNodes() &&
                  3 === (u = Ha(u, t.collapsed ? s : s - 1)).nodeType &&
                  (s = u.nodeValue.length),
                (i = lc(c, i)),
                (u = lc(c, u)),
                (oc(i.parentNode) || oc(i)) &&
                  ((i = oc(i) ? i : i.parentNode),
                  3 ===
                    (i = t.collapsed
                      ? i.previousSibling || i
                      : i.nextSibling || i).nodeType &&
                    (a = t.collapsed ? i.length : 0)),
                (oc(u.parentNode) || oc(u)) &&
                  ((u = oc(u) ? u : u.parentNode),
                  3 ===
                    (u = t.collapsed
                      ? u.nextSibling || u
                      : u.previousSibling || u).nodeType &&
                    (s = t.collapsed ? 0 : u.length)),
                t.collapsed &&
                  ((o = dc(c, e.getBody(), i, a, !0, r)) &&
                    ((i = o.container), (a = o.offset)),
                  (o = dc(c, e.getBody(), u, s, !1, r)) &&
                    ((u = o.container), (s = o.offset))),
                n[0].inline &&
                  (u = r
                    ? u
                    : (function(e, t) {
                        var n = sc(e, t);
                        if (n.node) {
                          for (
                            ;
                            n.node && 0 === n.offset && n.node.previousSibling;

                          )
                            n = sc(n.node.previousSibling);
                          n.node &&
                            n.offset > 0 &&
                            3 === n.node.nodeType &&
                            " " === n.node.nodeValue.charAt(n.offset - 1) &&
                            n.offset > 1 &&
                            (e = n.node).splitText(n.offset - 1);
                        }
                        return e;
                      })(u, s)),
                (n[0].inline || n[0].block_expand) &&
                  ((n[0].inline && 3 === i.nodeType && 0 !== a) ||
                    (i = gc(c, n, i, a, u, s, !0)),
                  (n[0].inline &&
                    3 === u.nodeType &&
                    s !== u.nodeValue.length) ||
                    (u = gc(c, n, i, a, u, s, !1))),
                n[0].selector &&
                  !1 !== n[0].expand &&
                  !n[0].inline &&
                  ((i = mc(c, n, t, i, "previousSibling")),
                  (u = mc(c, n, t, u, "nextSibling"))),
                (n[0].block || n[0].selector) &&
                  ((i = hc(e, n, i, "previousSibling")),
                  (u = hc(e, n, u, "nextSibling")),
                  n[0].block &&
                    (c.isBlock(i) || (i = gc(c, n, i, a, u, s, !0)),
                    c.isBlock(u) || (u = gc(c, n, i, a, u, s, !1)))),
                1 === i.nodeType && ((a = c.nodeIndex(i)), (i = i.parentNode)),
                1 === u.nodeType &&
                  ((s = c.nodeIndex(u) + 1), (u = u.parentNode)),
                {
                  startContainer: i,
                  startOffset: a,
                  endContainer: u,
                  endOffset: s
                }
              );
            },
            vc = Kt.each,
            bc = function(e, t, n) {
              var r,
                o,
                i,
                a,
                u,
                s,
                c,
                l = t.startContainer,
                f = t.startOffset,
                d = t.endContainer,
                m = t.endOffset;
              if (
                (c = e.select("td[data-mce-selected],th[data-mce-selected]"))
                  .length > 0
              )
                vc(c, function(e) {
                  n([e]);
                });
              else {
                var h,
                  g,
                  p,
                  v = function(e) {
                    var t;
                    return (
                      3 === (t = e[0]).nodeType &&
                        t === l &&
                        f >= t.nodeValue.length &&
                        e.splice(0, 1),
                      (t = e[e.length - 1]),
                      0 === m &&
                        e.length > 0 &&
                        t === d &&
                        3 === t.nodeType &&
                        e.splice(e.length - 1, 1),
                      e
                    );
                  },
                  b = function(e, t, n) {
                    for (var r = []; e && e !== n; e = e[t]) r.push(e);
                    return r;
                  },
                  y = function(e, t) {
                    do {
                      if (e.parentNode === t) return e;
                      e = e.parentNode;
                    } while (e);
                  },
                  w = function(e, t, r) {
                    var o = r ? "nextSibling" : "previousSibling";
                    for (u = (a = e).parentNode; a && a !== t; a = u)
                      (u = a.parentNode),
                        (s = b(a === e ? a : a[o], o)).length &&
                          (r || s.reverse(), n(v(s)));
                  };
                if (
                  (1 === l.nodeType &&
                    l.hasChildNodes() &&
                    (l = l.childNodes[f]),
                  1 === d.nodeType &&
                    d.hasChildNodes() &&
                    ((g = m),
                    (p = (h = d).childNodes),
                    --g > p.length - 1 ? (g = p.length - 1) : g < 0 && (g = 0),
                    (d = p[g] || h)),
                  l === d)
                )
                  return n(v([l]));
                for (
                  r = e.findCommonAncestor(l, d), a = l;
                  a;
                  a = a.parentNode
                ) {
                  if (a === d) return w(l, r, !0);
                  if (a === r) break;
                }
                for (a = d; a; a = a.parentNode) {
                  if (a === l) return w(d, r);
                  if (a === r) break;
                }
                (o = y(l, r) || l),
                  (i = y(d, r) || d),
                  w(l, o, !0),
                  (s = b(
                    o === l ? o : o.nextSibling,
                    "nextSibling",
                    i === d ? i.nextSibling : i
                  )).length && n(v(s)),
                  w(d, i);
              }
            },
            yc = (function(e, t) {
              var n = function(t) {
                return e(t) ? _.from(t.dom().nodeValue) : _.none();
              };
              return {
                get: function(r) {
                  if (!e(r))
                    throw new Error(
                      "Can only get " + t + " value of a " + t + " node"
                    );
                  return n(r).getOr("");
                },
                getOption: n,
                set: function(n, r) {
                  if (!e(n))
                    throw new Error(
                      "Can only set raw " + t + " value of a " + t + " node"
                    );
                  n.dom().nodeValue = r;
                }
              };
            })(nr, "text"),
            wc = function(e) {
              return yc.get(e);
            },
            xc = function(e, t, n, r) {
              return Or(t).fold(
                function() {
                  return "skipping";
                },
                function(o) {
                  return "br" === r ||
                    (function(e) {
                      return nr(e) && "\ufeff" === wc(e);
                    })(t)
                    ? "valid"
                    : (function(e) {
                        return tr(e) && Ii(e, Vi());
                      })(t)
                    ? "existing"
                    : Bu(t)
                    ? "caret"
                    : rc.isValid(e, n, r) && rc.isValid(e, Zn(o), n)
                    ? "valid"
                    : "invalid-child";
                }
              );
            },
            Cc = function(e, t, n, r) {
              var o,
                i,
                a = t.uid,
                u =
                  void 0 === a
                    ? ((o = "mce-annotation"),
                      (i = new Date().getTime()),
                      o +
                        "_" +
                        Math.floor(1e9 * Math.random()) +
                        ++Qi +
                        String(i))
                    : a,
                s = (function(e, t) {
                  var n = {};
                  for (var r in e)
                    Object.prototype.hasOwnProperty.call(e, r) &&
                      t.indexOf(r) < 0 &&
                      (n[r] = e[r]);
                  if (
                    null != e &&
                    "function" == typeof Object.getOwnPropertySymbols
                  ) {
                    var o = 0;
                    for (r = Object.getOwnPropertySymbols(e); o < r.length; o++)
                      t.indexOf(r[o]) < 0 &&
                        Object.prototype.propertyIsEnumerable.call(e, r[o]) &&
                        (n[r[o]] = e[r[o]]);
                  }
                  return n;
                })(t, ["uid"]),
                c = Xn.fromTag("span", e);
              Pi(c, Vi()), fr(c, "" + $i(), u), fr(c, "" + qi(), n);
              var l = r(u, s),
                f = l.attributes,
                d = void 0 === f ? {} : f,
                m = l.classes,
                h = void 0 === m ? [] : m;
              return (
                dr(c, d),
                (function(e, t) {
                  j(t, function(t) {
                    Pi(e, t);
                  });
                })(c, h),
                c
              );
            },
            Sc = function(e, t, n, r, o) {
              var i = [],
                a = Cc(e.getDoc(), o, n, r),
                u = ki(_.none()),
                s = function() {
                  u.set(_.none());
                },
                c = function(e) {
                  j(e, l);
                },
                l = function(t) {
                  switch (xc(e, t, "span", Zn(t))) {
                    case "invalid-child":
                      s();
                      var n = Mr(t);
                      c(n), s();
                      break;
                    case "valid":
                      !(function(e, t) {
                        yi(e, t), Ci(t, e);
                      })(
                        t,
                        u.get().getOrThunk(function() {
                          var e = ea(a);
                          return i.push(e), u.set(_.some(e)), e;
                        })
                      );
                  }
                };
              return (
                bc(e.dom, t, function(e) {
                  s(),
                    (function(e) {
                      var t = U(e, Xn.fromDom);
                      c(t);
                    })(e);
                }),
                i
              );
            },
            Ec = function(e, t, n, r) {
              e.undoManager.transact(function() {
                var o = e.selection.getRng();
                if (
                  (o.collapsed &&
                    (function(e, t) {
                      var n = pc(
                        e,
                        t,
                        [{ inline: !0 }],
                        (function(e) {
                          return (
                            3 === e.startContainer.nodeType &&
                            e.startContainer.nodeValue.length >=
                              e.startOffset &&
                            " " === e.startContainer.nodeValue[e.startOffset]
                          );
                        })(t)
                      );
                      t.setStart(n.startContainer, n.startOffset),
                        t.setEnd(n.endContainer, n.endOffset),
                        e.selection.setRng(t);
                    })(e, o),
                  e.selection.getRng().collapsed)
                ) {
                  var i = Cc(e.getDoc(), r, t, n.decorate);
                  na(i, " "),
                    e.selection.getRng().insertNode(i.dom()),
                    e.selection.select(i.dom());
                } else {
                  var a = Pu.getPersistentBookmark(e.selection, !1),
                    u = e.selection.getRng();
                  Sc(e, u, t, n.decorate, r), e.selection.moveToBookmark(a);
                }
              });
            };
          function Tc(e) {
            var t,
              n =
                ((t = {}),
                {
                  register: function(e, n) {
                    t[e] = { name: e, settings: n };
                  },
                  lookup: function(e) {
                    return t.hasOwnProperty(e)
                      ? _.from(t[e]).map(function(e) {
                          return e.settings;
                        })
                      : _.none();
                  }
                });
            Gi(e, n);
            var r = Xi(e);
            return {
              register: function(e, t) {
                n.register(e, t);
              },
              annotate: function(t, r) {
                n.lookup(t).each(function(n) {
                  Ec(e, t, n, r);
                });
              },
              annotationChanged: function(e, t) {
                r.addListener(e, t);
              },
              remove: function(t) {
                Ki(e, _.some(t)).each(function(e) {
                  var t = e.elements;
                  j(t, Ni);
                });
              },
              getAll: function(t) {
                return (function(e, t) {
                  return ar(e, function(e, n) {
                    return { k: n, v: t(e, n) };
                  });
                })(
                  (function(e, t) {
                    var n = Xn.fromDom(e.getBody()),
                      r = Li(n, "[" + qi() + '="' + t + '"]'),
                      o = {};
                    return (
                      j(r, function(e) {
                        var t = mr(e, $i()),
                          n = o.hasOwnProperty(t) ? o[t] : [];
                        o[t] = n.concat([e]);
                      }),
                      o
                    );
                  })(e, t),
                  function(e) {
                    return U(e, function(e) {
                      return e.dom();
                    });
                  }
                );
              }
            };
          }
          var Nc = function(e) {
              return Kt.grep(e.childNodes, function(e) {
                return "LI" === e.nodeName;
              });
            },
            _c = function(e) {
              return (
                e &&
                e.firstChild &&
                e.firstChild === e.lastChild &&
                (function(e) {
                  return " " === e.data || Do.isBr(e);
                })(e.firstChild)
              );
            },
            kc = function(e) {
              return e.length > 0 &&
                (!(t = e[e.length - 1]).firstChild || _c(t))
                ? e.slice(0, -1)
                : e;
              var t;
            },
            Rc = function(e, t) {
              var n = e.getParent(t, e.isBlock);
              return n && "LI" === n.nodeName ? n : null;
            },
            Dc = function(e, t) {
              var n = du.after(e),
                r = As(t).prev(n);
              return r ? r.toRange() : null;
            },
            Oc = function(e, t, n) {
              var r = e.parentNode;
              return (
                Kt.each(t, function(t) {
                  r.insertBefore(t, e);
                }),
                (function(e, t) {
                  var n = du.before(e),
                    r = As(t).next(n);
                  return r ? r.toRange() : null;
                })(e, n)
              );
            },
            Ac = function(e, t) {
              var n = t.firstChild,
                r = t.lastChild;
              return (
                n && "meta" === n.name && (n = n.next),
                r && "mce_marker" === r.attr("id") && (r = r.prev),
                (function(e, t) {
                  var n = e.getNonEmptyElements();
                  return (
                    t &&
                    (t.isEmpty(n) ||
                      (function(e, t) {
                        return (
                          e.getBlockElements()[t.name] &&
                          (function(e) {
                            return e.firstChild && e.firstChild === e.lastChild;
                          })(t) &&
                          (function(e) {
                            return "br" === e.name || " " === e.value;
                          })(t.firstChild)
                        );
                      })(e, t))
                  );
                })(e, r) && (r = r.prev),
                !(!n || n !== r || ("ul" !== n.name && "ol" !== n.name))
              );
            },
            Pc = function(e, t, n, r) {
              var o = (function(e, t, n) {
                  var r = t.serialize(n);
                  return (function(e) {
                    var t = e.firstChild,
                      n = e.lastChild;
                    return (
                      t && "META" === t.nodeName && t.parentNode.removeChild(t),
                      n && "mce_marker" === n.id && n.parentNode.removeChild(n),
                      e
                    );
                  })(e.createFragment(r));
                })(t, e, r),
                i = Rc(t, n.startContainer),
                a = kc(Nc(o.firstChild)),
                u = t.getRoot(),
                s = function(e) {
                  var r = du.fromRangeStart(n),
                    o = As(t.getRoot()),
                    a = 1 === e ? o.prev(r) : o.next(r);
                  return !a || Rc(t, a.getNode()) !== i;
                };
              return s(1)
                ? Oc(i, a, u)
                : s(2)
                ? (function(e, t, n, r) {
                    return r.insertAfter(t.reverse(), e), Dc(t[0], n);
                  })(i, a, u, t)
                : (function(e, t, n, r) {
                    var o = (function(e, t) {
                        var n = t.cloneRange(),
                          r = t.cloneRange();
                        return (
                          n.setStartBefore(e),
                          r.setEndAfter(e),
                          [n.cloneContents(), r.cloneContents()]
                        );
                      })(e, r),
                      i = e.parentNode;
                    return (
                      i.insertBefore(o[0], e),
                      Kt.each(t, function(t) {
                        i.insertBefore(t, e);
                      }),
                      i.insertBefore(o[1], e),
                      i.removeChild(e),
                      Dc(t[t.length - 1], n)
                    );
                  })(i, a, u, n);
            },
            Bc = function(e, t) {
              return !!Rc(e, t);
            },
            Ic = Kt.each,
            Mc = function(e) {
              this.compare = function(t, n) {
                if (t.nodeName !== n.nodeName) return !1;
                var r = function(t) {
                    var n = {};
                    return (
                      Ic(e.getAttribs(t), function(r) {
                        var o = r.nodeName.toLowerCase();
                        0 !== o.indexOf("_") &&
                          "style" !== o &&
                          0 !== o.indexOf("data-") &&
                          (n[o] = e.getAttrib(t, o));
                      }),
                      n
                    );
                  },
                  o = function(e, t) {
                    var n, r;
                    for (r in e)
                      if (e.hasOwnProperty(r)) {
                        if (void 0 === (n = t[r])) return !1;
                        if (e[r] !== n) return !1;
                        delete t[r];
                      }
                    for (r in t) if (t.hasOwnProperty(r)) return !1;
                    return !0;
                  };
                return !(
                  !o(r(t), r(n)) ||
                  !o(
                    e.parseStyle(e.getAttrib(t, "style")),
                    e.parseStyle(e.getAttrib(n, "style"))
                  ) ||
                  Zs(t) ||
                  Zs(n)
                );
              };
            },
            Lc = function(e) {
              var t = Li(e, "br"),
                n = q(
                  (function(e) {
                    for (var t = [], n = e.dom(); n; )
                      t.push(Xn.fromDom(n)), (n = n.lastChild);
                    return t;
                  })(e).slice(-1),
                  lo
                );
              t.length === n.length && j(n, Ti);
            },
            Fc = function(e) {
              Ei(e), Ci(e, Xn.fromHtml('<br data-mce-bogus="1">'));
            },
            Hc = function(e) {
              Hr(e).each(function(t) {
                Ar(t).each(function(n) {
                  so(e) && lo(t) && so(n) && Ti(t);
                });
              });
            },
            zc = Kt.makeMap;
          function Wc(e) {
            var t,
              n,
              r,
              o,
              i,
              a = [];
            return (
              (t = (e = e || {}).indent),
              (n = zc(e.indent_before || "")),
              (r = zc(e.indent_after || "")),
              (o = Vo.getEncodeFunc(e.entity_encoding || "raw", e.entities)),
              (i = "html" === e.element_format),
              {
                start: function(e, u, s) {
                  var c, l, f, d;
                  if (
                    (t &&
                      n[e] &&
                      a.length > 0 &&
                      (d = a[a.length - 1]).length > 0 &&
                      "\n" !== d &&
                      a.push("\n"),
                    a.push("<", e),
                    u)
                  )
                    for (c = 0, l = u.length; c < l; c++)
                      (f = u[c]),
                        a.push(" ", f.name, '="', o(f.value, !0), '"');
                  (a[a.length] = !s || i ? ">" : " />"),
                    s &&
                      t &&
                      r[e] &&
                      a.length > 0 &&
                      (d = a[a.length - 1]).length > 0 &&
                      "\n" !== d &&
                      a.push("\n");
                },
                end: function(e) {
                  var n;
                  a.push("</", e, ">"),
                    t &&
                      r[e] &&
                      a.length > 0 &&
                      (n = a[a.length - 1]).length > 0 &&
                      "\n" !== n &&
                      a.push("\n");
                },
                text: function(e, t) {
                  e.length > 0 && (a[a.length] = t ? e : o(e));
                },
                cdata: function(e) {
                  a.push("<![CDATA[", e, "]]>");
                },
                comment: function(e) {
                  a.push("\x3c!--", e, "--\x3e");
                },
                pi: function(e, n) {
                  n ? a.push("<?", e, " ", o(n), "?>") : a.push("<?", e, "?>"),
                    t && a.push("\n");
                },
                doctype: function(e) {
                  a.push("<!DOCTYPE", e, ">", t ? "\n" : "");
                },
                reset: function() {
                  a.length = 0;
                },
                getContent: function() {
                  return a.join("").replace(/\n$/, "");
                }
              }
            );
          }
          function Uc(e, t) {
            void 0 === t && (t = ei());
            var n = Wc(e);
            return (
              ((e = e || {}).validate = !("validate" in e) || e.validate),
              {
                serialize: function(r) {
                  var o, i;
                  (i = e.validate),
                    (o = {
                      3: function(e) {
                        n.text(e.value, e.raw);
                      },
                      8: function(e) {
                        n.comment(e.value);
                      },
                      7: function(e) {
                        n.pi(e.name, e.value);
                      },
                      10: function(e) {
                        n.doctype(e.value);
                      },
                      4: function(e) {
                        n.cdata(e.value);
                      },
                      11: function(e) {
                        if ((e = e.firstChild))
                          do {
                            a(e);
                          } while ((e = e.next));
                      }
                    }),
                    n.reset();
                  var a = function(e) {
                    var r,
                      u,
                      s,
                      c,
                      l,
                      f,
                      d,
                      m,
                      h,
                      g = o[e.type];
                    if (g) g(e);
                    else {
                      if (
                        ((r = e.name),
                        (u = e.shortEnded),
                        (s = e.attributes),
                        i &&
                          s &&
                          s.length > 1 &&
                          (((f = []).map = {}), (h = t.getElementRule(e.name))))
                      ) {
                        for (d = 0, m = h.attributesOrder.length; d < m; d++)
                          (c = h.attributesOrder[d]) in s.map &&
                            ((l = s.map[c]),
                            (f.map[c] = l),
                            f.push({ name: c, value: l }));
                        for (d = 0, m = s.length; d < m; d++)
                          (c = s[d].name) in f.map ||
                            ((l = s.map[c]),
                            (f.map[c] = l),
                            f.push({ name: c, value: l }));
                        s = f;
                      }
                      if ((n.start(e.name, s, u), !u)) {
                        if ((e = e.firstChild))
                          do {
                            a(e);
                          } while ((e = e.next));
                        n.end(r);
                      }
                    }
                  };
                  return (
                    1 !== r.type || e.inner ? o[11](r) : a(r), n.getContent()
                  );
                }
              }
            );
          }
          var jc,
            Vc = function(e) {
              var t = du.fromRangeStart(e),
                n = du.fromRangeEnd(e),
                o = e.commonAncestorContainer;
              return js
                .fromPosition(!1, o, n)
                .map(function(i) {
                  return !cs(t, n, o) && cs(t, i, o)
                    ? (function(e, t, n, o) {
                        var i = r.document.createRange();
                        return i.setStart(e, t), i.setEnd(n, o), i;
                      })(t.container(), t.offset(), i.container(), i.offset())
                    : e;
                })
                .getOr(e);
            },
            qc = function(e) {
              return e.collapsed ? e : Vc(e);
            },
            $c = Do.matchNodeNames("td th"),
            Kc = function(e, t) {
              var n = e.selection.getRng(),
                r = n.startContainer,
                o = n.startOffset;
              n.collapsed &&
                (function(e, t) {
                  return Do.isText(e) && " " === e.nodeValue[t - 1];
                })(r, o) &&
                Do.isText(r) &&
                (r.insertData(o - 1, " "),
                r.deleteData(o, 1),
                n.setStart(r, o),
                n.setEnd(r, o),
                e.selection.setRng(n)),
                e.selection.setContent(t);
            },
            Yc = function(e, t, n) {
              var r,
                o,
                i,
                a,
                u,
                s,
                c,
                l,
                f,
                d,
                m,
                h = e.selection,
                g = e.dom;
              if (
                (/^ | $/.test(t) &&
                  (t = (function(e, t) {
                    var n, r;
                    (n = e.startContainer), (r = e.startOffset);
                    var o = function(e) {
                      return n[e] && 3 === n[e].nodeType;
                    };
                    return (
                      3 === n.nodeType &&
                        (r > 0
                          ? (t = t.replace(/^&nbsp;/, " "))
                          : o("previousSibling") ||
                            (t = t.replace(/^ /, "&nbsp;")),
                        r < n.length
                          ? (t = t.replace(/&nbsp;(<br>|)$/, " "))
                          : o("nextSibling") ||
                            (t = t.replace(/(&nbsp;| )(<br>|)$/, "&nbsp;"))),
                      t
                    );
                  })(h.getRng(), t)),
                (r = e.parser),
                (m = n.merge),
                (o = Uc({ validate: e.settings.validate }, e.schema)),
                (d =
                  '<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>'),
                (s = {
                  content: t,
                  format: "html",
                  selection: !0,
                  paste: n.paste
                }),
                (s = e.fire("BeforeSetContent", s)).isDefaultPrevented())
              )
                e.fire("SetContent", {
                  content: s.content,
                  format: "html",
                  selection: !0,
                  paste: n.paste
                });
              else {
                -1 === (t = s.content).indexOf("{$caret}") && (t += "{$caret}"),
                  (t = t.replace(/\{\$caret\}/, d));
                var p =
                    (l = h.getRng()).startContainer ||
                    (l.parentElement ? l.parentElement() : null),
                  v = e.getBody();
                p === v &&
                  h.isCollapsed() &&
                  g.isBlock(v.firstChild) &&
                  (function(e, t) {
                    return t && !e.schema.getShortEndedElements()[t.nodeName];
                  })(e, v.firstChild) &&
                  g.isEmpty(v.firstChild) &&
                  ((l = g.createRng()).setStart(v.firstChild, 0),
                  l.setEnd(v.firstChild, 0),
                  h.setRng(l)),
                  h.isCollapsed() ||
                    (e.selection.setRng(qc(e.selection.getRng())),
                    e.getDoc().execCommand("Delete", !1, null),
                    (t = (function(e, t) {
                      var n, r;
                      return (
                        (n = e.startContainer),
                        (r = e.startOffset),
                        3 === n.nodeType &&
                          e.collapsed &&
                          (" " === n.data[r]
                            ? (n.deleteData(r, 1),
                              /[\u00a0| ]$/.test(t) || (t += " "))
                            : " " === n.data[r - 1] &&
                              (n.deleteData(r - 1, 1),
                              /[\u00a0| ]$/.test(t) || (t = " " + t))),
                        t
                      );
                    })(e.selection.getRng(), t)));
                var b,
                  y = {
                    context: (i = h.getNode()).nodeName.toLowerCase(),
                    data: n.data,
                    insert: !0
                  };
                if (
                  ((u = r.parse(t, y)),
                  !0 === n.paste && Ac(e.schema, u) && Bc(g, i))
                )
                  return (
                    (l = Pc(o, g, e.selection.getRng(), u)),
                    e.selection.setRng(l),
                    void e.fire("SetContent", s)
                  );
                if (
                  ((function(e) {
                    for (var t = e; (t = t.walk()); )
                      1 === t.type && t.attr("data-mce-fragment", "1");
                  })(u),
                  "mce_marker" === (f = u.lastChild).attr("id"))
                )
                  for (c = f, f = f.prev; f; f = f.walk(!0))
                    if (3 === f.type || !g.isBlock(f.name)) {
                      e.schema.isValidChild(f.parent.name, "span") &&
                        f.parent.insert(c, f, "br" === f.name);
                      break;
                    }
                if (
                  (e._selectionOverrides.showBlockCaretContainer(i), y.invalid)
                ) {
                  for (
                    Kc(e, d),
                      i = h.getNode(),
                      a = e.getBody(),
                      9 === i.nodeType ? (i = f = a) : (f = i);
                    f !== a;

                  )
                    (i = f), (f = f.parentNode);
                  (t = i === a ? a.innerHTML : g.getOuterHTML(i)),
                    (t = o.serialize(
                      r.parse(
                        t.replace(
                          /<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,
                          function() {
                            return o.serialize(u);
                          }
                        )
                      )
                    )),
                    i === a ? g.setHTML(a, t) : g.setOuterHTML(i, t);
                } else
                  !(function(e, t, n) {
                    if ("all" === n.getAttribute("data-mce-bogus"))
                      n.parentNode.insertBefore(e.dom.createFragment(t), n);
                    else {
                      var r = n.firstChild,
                        o = n.lastChild;
                      !r || (r === o && "BR" === r.nodeName)
                        ? e.dom.setHTML(n, t)
                        : Kc(e, t);
                    }
                  })(e, (t = o.serialize(u)), i);
                !(function(e, t) {
                  var n = e.schema.getTextInlineElements(),
                    r = e.dom;
                  if (t) {
                    var o = e.getBody(),
                      i = new Mc(r);
                    Kt.each(r.select("*[data-mce-fragment]"), function(e) {
                      for (var t = e.parentNode; t && t !== o; t = t.parentNode)
                        n[e.nodeName.toLowerCase()] &&
                          i.compare(t, e) &&
                          r.remove(e, !0);
                    });
                  }
                })(e, m),
                  (function(e, t) {
                    var n,
                      r,
                      o,
                      i,
                      a,
                      u = e.dom,
                      s = e.selection;
                    if (t) {
                      if (
                        (e.selection.scrollIntoView(t),
                        (n = (function(t) {
                          for (
                            var n = e.getBody();
                            t && t !== n;
                            t = t.parentNode
                          )
                            if ("false" === e.dom.getContentEditable(t))
                              return t;
                          return null;
                        })(t)))
                      )
                        return u.remove(t), void s.select(n);
                      var c = u.createRng();
                      (i = t.previousSibling) && 3 === i.nodeType
                        ? (c.setStart(i, i.nodeValue.length),
                          fe.ie ||
                            ((a = t.nextSibling) &&
                              3 === a.nodeType &&
                              (i.appendData(a.data),
                              a.parentNode.removeChild(a))))
                        : (c.setStartBefore(t), c.setEndBefore(t)),
                        (r = u.getParent(t, u.isBlock)),
                        u.remove(t),
                        r &&
                          u.isEmpty(r) &&
                          (e.$(r).empty(),
                          c.setStart(r, 0),
                          c.setEnd(r, 0),
                          $c(r) ||
                          (function(e) {
                            return !!e.getAttribute("data-mce-fragment");
                          })(r) ||
                          !(o = (function(t) {
                            var n = du.fromRangeStart(t);
                            if ((n = As(e.getBody()).next(n)))
                              return n.toRange();
                          })(c))
                            ? u.add(
                                r,
                                u.create("br", { "data-mce-bogus": "1" })
                              )
                            : ((c = o), u.remove(r))),
                        s.setRng(c);
                    }
                  })(e, g.get("mce_marker")),
                  (b = e.getBody()),
                  Kt.each(b.getElementsByTagName("*"), function(e) {
                    e.removeAttribute("data-mce-fragment");
                  }),
                  (function(e, t) {
                    _.from(e.getParent(t, "td,th"))
                      .map(Xn.fromDom)
                      .each(Hc);
                  })(e.dom, e.selection.getStart()),
                  e.fire("SetContent", s),
                  e.addVisual();
              }
            },
            Xc = function(e, t) {
              var n = (function(e) {
                var t;
                return "string" != typeof e
                  ? ((t = Kt.extend(
                      { paste: e.paste, data: { paste: e.paste } },
                      e
                    )),
                    { content: e.content, details: t })
                  : { content: e, details: {} };
              })(t);
              Yc(e, n.content, n.details);
            },
            Gc = /[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,
            Jc = function(e, t, n) {
              var r = e.getParam(t, n);
              if (-1 !== r.indexOf("=")) {
                var o = e.getParam(t, "", "hash");
                return o.hasOwnProperty(e.id) ? o[e.id] : n;
              }
              return r;
            },
            Qc = function(e) {
              return e.getParam("iframe_attrs", {});
            },
            Zc = function(e) {
              return e.getParam("doctype", "<!DOCTYPE html>");
            },
            el = function(e) {
              return e.getParam("document_base_url", "");
            },
            tl = function(e) {
              return Jc(e, "body_id", "tinymce");
            },
            nl = function(e) {
              return Jc(e, "body_class", "");
            },
            rl = function(e) {
              return e.getParam("content_security_policy", "");
            },
            ol = function(e) {
              return e.getParam("br_in_pre", !0);
            },
            il = function(e) {
              if (e.getParam("force_p_newlines", !1)) return "p";
              var t = e.getParam("forced_root_block", "p");
              return !1 === t ? "" : t;
            },
            al = function(e) {
              return e.getParam("forced_root_block_attrs", {});
            },
            ul = function(e) {
              return e.getParam(
                "br_newline_selector",
                ".mce-toc h2,figcaption,caption"
              );
            },
            sl = function(e) {
              return e.getParam("no_newline_selector", "");
            },
            cl = function(e) {
              return e.getParam("keep_styles", !0);
            },
            ll = function(e) {
              return e.getParam("end_container_on_empty_block", !1);
            },
            fl = function(e) {
              return Kt.explode(e.getParam("font_size_style_values", ""));
            },
            dl = function(e) {
              return Kt.explode(e.getParam("font_size_classes", ""));
            },
            ml = function(e) {
              return e.getParam("images_dataimg_filter", a(!0), "function");
            },
            hl = function(e) {
              return e.getParam("automatic_uploads", !0, "boolean");
            },
            gl = function(e) {
              return e.getParam("images_reuse_filename", !1, "boolean");
            },
            pl = function(e) {
              return e.getParam("images_replace_blob_uris", !0, "boolean");
            },
            vl = function(e) {
              return e.getParam("images_upload_url", "", "string");
            },
            bl = function(e) {
              return e.getParam("images_upload_base_path", "", "string");
            },
            yl = function(e) {
              return e.getParam("images_upload_credentials", !1, "boolean");
            },
            wl = function(e) {
              return e.getParam("images_upload_handler", null, "function");
            },
            xl = function(e) {
              return e.getParam("content_css_cors", !1, "boolean");
            },
            Cl = function(e) {
              return e.getParam(
                "inline_boundaries_selector",
                "a[href],code,.mce-annotation",
                "string"
              );
            },
            Sl = function(e, t) {
              if (!t) return t;
              var n = t.container(),
                r = t.offset();
              return e
                ? ca(n)
                  ? Do.isText(n.nextSibling)
                    ? du(n.nextSibling, 0)
                    : du.after(n)
                  : da(t)
                  ? du(n, r + 1)
                  : t
                : ca(n)
                ? Do.isText(n.previousSibling)
                  ? du(n.previousSibling, n.previousSibling.data.length)
                  : du.before(n)
                : ma(t)
                ? du(n, r - 1)
                : t;
            },
            El = s(Sl, !0),
            Tl = s(Sl, !1),
            Nl = {
              isInlineTarget: function(e, t) {
                return Tr(Xn.fromDom(t), Cl(e));
              },
              findRootInline: function(e, t, n) {
                var r = (function(e, t, n) {
                  return q(fi.DOM.getParents(n.container(), "*", t), e);
                })(e, t, n);
                return _.from(r[r.length - 1]);
              },
              isRtl: function(e) {
                return (
                  "rtl" === fi.DOM.getStyle(e, "direction", !0) ||
                  ((t = e.textContent), Gc.test(t))
                );
                var t;
              },
              isAtZwsp: function(e) {
                return da(e) || ma(e);
              },
              normalizePosition: Sl,
              normalizeForwards: El,
              normalizeBackwards: Tl,
              hasSameParentBlock: function(e, t, n) {
                var r = ss(t, e),
                  o = ss(n, e);
                return r && r === o;
              }
            },
            _l = function(e, t) {
              return kr(e, t)
                ? zi(
                    t,
                    function(e) {
                      return fo(e) || ho(e);
                    },
                    (function(e) {
                      return function(t) {
                        return _r(e, Xn.fromDom(t.dom().parentNode));
                      };
                    })(e)
                  )
                : _.none();
            },
            kl = function(e) {
              e.dom.isEmpty(e.getBody()) &&
                (e.setContent(""),
                (function(e) {
                  var t = e.getBody(),
                    n =
                      t.firstChild && e.dom.isBlock(t.firstChild)
                        ? t.firstChild
                        : t;
                  e.selection.setCursorLocation(n, 0);
                })(e));
            },
            Rl = function(e, t, n) {
              return Ua(js.firstPositionIn(n), js.lastPositionIn(n), function(
                r,
                o
              ) {
                var i = Nl.normalizePosition(!0, r),
                  a = Nl.normalizePosition(!1, o),
                  u = Nl.normalizePosition(!1, t);
                return e
                  ? js
                      .nextPosition(n, u)
                      .map(function(e) {
                        return e.isEqual(a) && t.isEqual(i);
                      })
                      .getOr(!1)
                  : js
                      .prevPosition(n, u)
                      .map(function(e) {
                        return e.isEqual(i) && t.isEqual(a);
                      })
                      .getOr(!1);
              }).getOr(!0);
            },
            Dl = function(e, t) {
              var n,
                r,
                o,
                i = Xn.fromDom(e),
                a = Xn.fromDom(t);
              return (
                (n = a), (r = "pre,code"), (o = s(_r, i)), Wi(n, r, o).isSome()
              );
            },
            Ol = function(e, t) {
              return (
                (Na(t) &&
                  !1 ===
                    (function(e, t) {
                      return (
                        Do.isText(t) &&
                        /^[ \t\r\n]*$/.test(t.data) &&
                        !1 === Dl(e, t)
                      );
                    })(e, t)) ||
                (function(e) {
                  return (
                    Do.isElement(e) &&
                    "A" === e.nodeName &&
                    e.hasAttribute("name")
                  );
                })(t) ||
                Al(t)
              );
            },
            Al = Do.hasAttribute("data-mce-bookmark"),
            Pl = Do.hasAttribute("data-mce-bogus"),
            Bl = Do.hasAttributeValue("data-mce-bogus", "all"),
            Il = function(e) {
              return (function(e) {
                var t,
                  n,
                  r = 0;
                if (Ol(e, e)) return !1;
                if (!(n = e.firstChild)) return !0;
                t = new no(n, e);
                do {
                  if (Bl(n)) n = t.next(!0);
                  else if (Pl(n)) n = t.next();
                  else if (Do.isBr(n)) r++, (n = t.next());
                  else {
                    if (Ol(e, n)) return !1;
                    n = t.next();
                  }
                } while (n);
                return r <= 1;
              })(e.dom());
            },
            Ml = br("block", "position"),
            Ll = br("from", "to"),
            Fl = function(e, t) {
              var n = Xn.fromDom(e),
                r = Xn.fromDom(t.container());
              return _l(n, r).map(function(e) {
                return Ml(e, t);
              });
            },
            Hl = function(e, t, n) {
              var r = Fl(e, du.fromRangeStart(n)),
                o = r.bind(function(n) {
                  return js.fromPosition(t, e, n.position()).bind(function(n) {
                    return Fl(e, n).map(function(n) {
                      return (function(e, t, n) {
                        return Do.isBr(n.position().getNode()) &&
                          !1 === Il(n.block())
                          ? js
                              .positionIn(!1, n.block().dom())
                              .bind(function(r) {
                                return r.isEqual(n.position())
                                  ? js.fromPosition(t, e, r).bind(function(t) {
                                      return Fl(e, t);
                                    })
                                  : _.some(n);
                              })
                              .getOr(n)
                          : n;
                      })(e, t, n);
                    });
                  });
                });
              return Ua(r, o, Ll).filter(function(e) {
                return (
                  (function(e) {
                    return !1 === _r(e.from().block(), e.to().block());
                  })(e) &&
                  (function(e) {
                    return Or(e.from().block())
                      .bind(function(t) {
                        return Or(e.to().block()).filter(function(e) {
                          return _r(t, e);
                        });
                      })
                      .isSome();
                  })(e) &&
                  (function(e) {
                    return (
                      !1 ===
                        Do.isContentEditableFalse(
                          e
                            .from()
                            .block()
                            .dom()
                        ) &&
                      !1 ===
                        Do.isContentEditableFalse(
                          e
                            .to()
                            .block()
                            .dom()
                        )
                    );
                  })(e)
                );
              });
            },
            zl = function(e, t, n) {
              return n.collapsed ? Hl(e, t, n) : _.none();
            },
            Wl = function(e, t, n) {
              return kr(t, e)
                ? (function(e, t) {
                    for (
                      var n = B(t) ? t : C, r = e.dom(), o = [];
                      null !== r.parentNode && void 0 !== r.parentNode;

                    ) {
                      var i = r.parentNode,
                        a = Xn.fromDom(i);
                      if ((o.push(a), !0 === n(a))) break;
                      r = i;
                    }
                    return o;
                  })(e, function(e) {
                    return n(e) || _r(e, t);
                  }).slice(0, -1)
                : [];
            },
            Ul = function(e, t) {
              return Wl(e, t, a(!1));
            },
            jl = Ul,
            Vl = function(e, t) {
              return [e].concat(Ul(e, t));
            },
            ql = function(e) {
              var t = Mr(e);
              return Y(t, so).fold(
                function() {
                  return t;
                },
                function(e) {
                  return t.slice(0, e);
                }
              );
            },
            $l = function(e) {
              var t = ql(e);
              return j(t, Ti), t;
            },
            Kl = function(e, t) {
              var n = Vl(t, e);
              return K(n.reverse(), Il).each(Ti);
            },
            Yl = function(e, t, n, r) {
              if (Il(n)) return Fc(n), js.firstPositionIn(n.dom());
              0 ===
                q(Br(r), function(e) {
                  return !Il(e);
                }).length &&
                Il(t) &&
                yi(r, Xn.fromTag("br"));
              var o = js.prevPosition(n.dom(), du.before(r.dom()));
              return (
                j($l(t), function(e) {
                  yi(r, e);
                }),
                Kl(e, t),
                o
              );
            },
            Xl = function(e, t, n) {
              if (Il(n))
                return Ti(n), Il(t) && Fc(t), js.firstPositionIn(t.dom());
              var r = js.lastPositionIn(n.dom());
              return (
                j($l(t), function(e) {
                  Ci(n, e);
                }),
                Kl(e, t),
                r
              );
            },
            Gl = function(e, t) {
              return kr(t, e)
                ? (function(e, t) {
                    var n = Vl(t, e);
                    return _.from(n[n.length - 1]);
                  })(t, e)
                : _.none();
            },
            Jl = function(e, t) {
              js.positionIn(e, t.dom())
                .map(function(e) {
                  return e.getNode();
                })
                .map(Xn.fromDom)
                .filter(lo)
                .each(Ti);
            },
            Ql = function(e, t, n) {
              return (
                Jl(!0, t),
                Jl(!1, n),
                Gl(t, n).fold(s(Xl, e, t, n), s(Yl, e, t, n))
              );
            },
            Zl = function(e, t, n, r) {
              return t ? Ql(e, r, n) : Ql(e, n, r);
            },
            ef = function(e, t) {
              var n,
                r = Xn.fromDom(e.getBody());
              return (
                (n = zl(r.dom(), t, e.selection.getRng()).bind(function(e) {
                  return Zl(r, t, e.from().block(), e.to().block());
                })).each(function(t) {
                  e.selection.setRng(t.toRange());
                }),
                n.isSome()
              );
            },
            tf = function(e, t) {
              var n = Xn.fromDom(t),
                r = s(_r, e);
              return Hi(n, vo, r).isSome();
            },
            nf = function(e, t) {
              var n = js.prevPosition(e.dom(), du.fromRangeStart(t)).isNone(),
                r = js.nextPosition(e.dom(), du.fromRangeEnd(t)).isNone();
              return (
                !(function(e, t) {
                  return tf(e, t.startContainer) || tf(e, t.endContainer);
                })(e, t) &&
                n &&
                r
              );
            },
            rf = function(e) {
              var t = Xn.fromDom(e.getBody()),
                n = e.selection.getRng();
              return nf(t, n)
                ? (function(e) {
                    return (
                      e.setContent(""), e.selection.setCursorLocation(), !0
                    );
                  })(e)
                : (function(e, t) {
                    var n = t.getRng();
                    return Ua(
                      _l(e, Xn.fromDom(n.startContainer)),
                      _l(e, Xn.fromDom(n.endContainer)),
                      function(r, o) {
                        return (
                          !1 === _r(r, o) &&
                          (n.deleteContents(),
                          Zl(e, !0, r, o).each(function(e) {
                            t.setRng(e.toRange());
                          }),
                          !0)
                        );
                      }
                    ).getOr(!1);
                  })(t, e.selection);
            },
            of = function(e, t) {
              return !e.selection.isCollapsed() && rf(e);
            },
            af = function(e) {
              if (!O(e)) throw new Error("cases must be an array");
              if (0 === e.length)
                throw new Error("there must be at least one case");
              var t = [],
                n = {};
              return (
                j(e, function(o, i) {
                  var a = rr(o);
                  if (1 !== a.length)
                    throw new Error("one and only one name per case");
                  var u = a[0],
                    s = o[u];
                  if (void 0 !== n[u])
                    throw new Error("duplicate key detected:" + u);
                  if ("cata" === u)
                    throw new Error("cannot have a case named cata (sorry)");
                  if (!O(s)) throw new Error("case arguments must be an array");
                  t.push(u),
                    (n[u] = function() {
                      var n = arguments.length;
                      if (n !== s.length)
                        throw new Error(
                          "Wrong number of arguments to case " +
                            u +
                            ". Expected " +
                            s.length +
                            " (" +
                            s +
                            "), got " +
                            n
                        );
                      for (var o = new Array(n), a = 0; a < o.length; a++)
                        o[a] = arguments[a];
                      var c = function(e) {
                        var n = rr(e);
                        if (t.length !== n.length)
                          throw new Error(
                            "Wrong number of arguments to match. Expected: " +
                              t.join(",") +
                              "\nActual: " +
                              n.join(",")
                          );
                        if (
                          !G(t, function(e) {
                            return z(n, e);
                          })
                        )
                          throw new Error(
                            "Not all branches were specified when using match. Specified: " +
                              n.join(", ") +
                              "\nRequired: " +
                              t.join(", ")
                          );
                        return e[u].apply(null, o);
                      };
                      return {
                        fold: function() {
                          if (arguments.length !== e.length)
                            throw new Error(
                              "Wrong number of arguments to fold. Expected " +
                                e.length +
                                ", got " +
                                arguments.length
                            );
                          var t = arguments[i];
                          return t.apply(null, o);
                        },
                        match: c,
                        log: function(e) {
                          r.console.log(e, {
                            constructors: t,
                            constructor: u,
                            params: o
                          });
                        }
                      };
                    });
                }),
                n
              );
            },
            uf = function(e) {
              return ys(e).exists(lo);
            },
            sf = function(e, t, n) {
              var r = q(Vl(Xn.fromDom(n.container()), t), so),
                o = Q(r).getOr(t);
              return js.fromPosition(e, o.dom(), n).filter(uf);
            },
            cf = function(e, t) {
              return ys(t).exists(lo) || sf(!0, e, t).isSome();
            },
            lf = function(e, t) {
              return (
                (function(e) {
                  return _.from(e.getNode(!0)).map(Xn.fromDom);
                })(t).exists(lo) || sf(!1, e, t).isSome()
              );
            },
            ff = s(sf, !1),
            df = s(sf, !0),
            mf =
              ((jc = " "),
              function(e) {
                return jc === e;
              }),
            hf = function(e) {
              return /^[\r\n\t ]$/.test(e);
            },
            gf = function(e) {
              return !hf(e) && !mf(e);
            },
            pf = function(e, t, n) {
              return _.from(n.container())
                .filter(Do.isText)
                .exists(function(r) {
                  var o = e ? 0 : -1;
                  return t(r.data.charAt(n.offset() + o));
                });
            },
            vf = s(pf, !0, hf),
            bf = s(pf, !1, hf),
            yf = function(e) {
              var t = e.container();
              return Do.isText(t) && 0 === t.data.length;
            },
            wf = function(e, t) {
              var n = ls(e, t);
              return Do.isContentEditableFalse(n) && !Do.isBogusAll(n);
            },
            xf = s(wf, 0),
            Cf = s(wf, -1),
            Sf = function(e, t) {
              return Do.isTable(ls(e, t));
            },
            Ef = s(Sf, 0),
            Tf = s(Sf, -1),
            Nf = af([
              { remove: ["element"] },
              { moveToElement: ["element"] },
              { moveToPosition: ["position"] }
            ]),
            _f = function(e, t, n, r) {
              var o = r.getNode(!1 === t);
              return _l(Xn.fromDom(e), Xn.fromDom(n.getNode()))
                .map(function(e) {
                  return Il(e) ? Nf.remove(e.dom()) : Nf.moveToElement(o);
                })
                .orThunk(function() {
                  return _.some(Nf.moveToElement(o));
                });
            },
            kf = function(e, t, n) {
              return js.fromPosition(t, e, n).bind(function(r) {
                return (function(e) {
                  return vo(Xn.fromDom(e)) || ho(Xn.fromDom(e));
                })(r.getNode()) ||
                  (function(e, t, n, r) {
                    var o = function(t) {
                      return co(Xn.fromDom(t)) && !cs(n, r, e);
                    };
                    return vs(!t, n).fold(function() {
                      return vs(t, r).fold(a(!1), o);
                    }, o);
                  })(e, t, n, r)
                  ? _.none()
                  : (t && Do.isContentEditableFalse(r.getNode())) ||
                    (!1 === t && Do.isContentEditableFalse(r.getNode(!0)))
                  ? _f(e, t, n, r)
                  : (t && Cf(n)) || (!1 === t && xf(n))
                  ? _.some(Nf.moveToPosition(r))
                  : _.none();
              });
            },
            Rf = function(e, t, n) {
              return (function(e, t) {
                var n = t.getNode(!1 === e),
                  r = e ? "after" : "before";
                return (
                  Do.isElement(n) && n.getAttribute("data-mce-caret") === r
                );
              })(t, n)
                ? (function(e, t) {
                    return e && Do.isContentEditableFalse(t.nextSibling)
                      ? _.some(Nf.moveToElement(t.nextSibling))
                      : !1 === e && Do.isContentEditableFalse(t.previousSibling)
                      ? _.some(Nf.moveToElement(t.previousSibling))
                      : _.none();
                  })(t, n.getNode(!1 === t)).fold(function() {
                    return kf(e, t, n);
                  }, _.some)
                : kf(e, t, n).bind(function(t) {
                    return (function(e, t, n) {
                      return n.fold(
                        function(e) {
                          return _.some(Nf.remove(e));
                        },
                        function(e) {
                          return _.some(Nf.moveToElement(e));
                        },
                        function(n) {
                          return cs(t, n, e)
                            ? _.none()
                            : _.some(Nf.moveToPosition(n));
                        }
                      );
                    })(e, n, t);
                  });
            },
            Df = function(e, t, n) {
              if (0 !== n) {
                var r = e.data.slice(t, t + n),
                  o = t + n >= e.data.length,
                  i = 0 === t;
                e.replaceData(
                  t,
                  n,
                  (function(e, t, n) {
                    return $(
                      e.split(""),
                      function(r, o) {
                        return (function(e) {
                          return -1 !== " \f\n\r\t\v".indexOf(e);
                        })(o) || " " === o
                          ? r.previousCharIsSpace ||
                            ("" === r.str && t) ||
                            (r.str.length === e.length - 1 && n)
                            ? { previousCharIsSpace: !1, str: r.str + " " }
                            : { previousCharIsSpace: !0, str: r.str + " " }
                          : { previousCharIsSpace: !1, str: r.str + o };
                      },
                      { previousCharIsSpace: !1, str: "" }
                    ).str;
                  })(r, i, o)
                );
              }
            },
            Of = function(e, t) {
              var n,
                r = e.data.slice(t),
                o = r.length - ((n = r), n.replace(/^\s+/g, "")).length;
              return Df(e, t, o);
            },
            Af = function(e, t) {
              return (function(e, t) {
                var n = e.container(),
                  r = e.offset();
                return (
                  !1 === du.isTextPosition(e) &&
                  n === t.parentNode &&
                  r > du.before(t).offset()
                );
              })(t, e)
                ? du(t.container(), t.offset() - 1)
                : t;
            },
            Pf = function(e) {
              return Na(e.previousSibling)
                ? _.some(
                    (function(e) {
                      return Do.isText(e) ? du(e, e.data.length) : du.after(e);
                    })(e.previousSibling)
                  )
                : e.previousSibling
                ? js.lastPositionIn(e.previousSibling)
                : _.none();
            },
            Bf = function(e) {
              return Na(e.nextSibling)
                ? _.some(
                    (function(e) {
                      return Do.isText(e) ? du(e, 0) : du.before(e);
                    })(e.nextSibling)
                  )
                : e.nextSibling
                ? js.firstPositionIn(e.nextSibling)
                : _.none();
            },
            If = function(e, t) {
              return Pf(t)
                .orThunk(function() {
                  return Bf(t);
                })
                .orThunk(function() {
                  return (function(e, t) {
                    var n = du.before(
                      t.previousSibling ? t.previousSibling : t.parentNode
                    );
                    return js.prevPosition(e, n).fold(function() {
                      return js.nextPosition(e, du.after(t));
                    }, _.some);
                  })(e, t);
                });
            },
            Mf = function(e, t) {
              return Bf(t)
                .orThunk(function() {
                  return Pf(t);
                })
                .orThunk(function() {
                  return (function(e, t) {
                    return js.nextPosition(e, du.after(t)).fold(function() {
                      return js.prevPosition(e, du.before(t));
                    }, _.some);
                  })(e, t);
                });
            },
            Lf = function(e, t, n) {
              return (function(e, t, n) {
                return e ? Mf(t, n) : If(t, n);
              })(e, t, n).map(s(Af, n));
            },
            Ff = function(e, t, n) {
              n.fold(
                function() {
                  e.focus();
                },
                function(n) {
                  e.selection.setRng(n.toRange(), t);
                }
              );
            },
            Hf = function(e, t) {
              return t && e.schema.getBlockElements().hasOwnProperty(Zn(t));
            },
            zf = function(e) {
              if (Il(e)) {
                var t = Xn.fromHtml('<br data-mce-bogus="1">');
                return Ei(e), Ci(e, t), _.some(du.before(t.dom()));
              }
              return _.none();
            },
            Wf = function(e, t, n) {
              var r = Ar(e).filter(nr),
                o = Pr(e).filter(nr);
              return (
                Ti(e),
                (function(e, t, n, r) {
                  return e.isSome() && t.isSome() && n.isSome()
                    ? _.some(r(e.getOrDie(), t.getOrDie(), n.getOrDie()))
                    : _.none();
                })(r, o, t, function(e, t, r) {
                  var o = e.dom(),
                    i = t.dom(),
                    a = o.data.length;
                  return (
                    (function(e, t, n) {
                      var r = zn(e.data).length;
                      e.appendData(t.data), Ti(Xn.fromDom(t)), n && Of(e, r);
                    })(o, i, n),
                    r.container() === i ? du(o, a) : r
                  );
                }).orThunk(function() {
                  return (
                    n &&
                      (r.each(function(e) {
                        return (function(e, t) {
                          var n = e.data.slice(0, t),
                            r = n.length - zn(n).length;
                          return Df(e, t - r, r);
                        })(e.dom(), e.dom().length);
                      }),
                      o.each(function(e) {
                        return Of(e.dom(), 0);
                      })),
                    t
                  );
                })
              );
            },
            Uf = function(e, t, n, r) {
              void 0 === r && (r = !0);
              var o,
                i = Lf(t, e.getBody(), n.dom()),
                a = Hi(
                  n,
                  s(Hf, e),
                  ((o = e.getBody()),
                  function(e) {
                    return e.dom() === o;
                  })
                ),
                u = Wf(
                  n,
                  i,
                  (function(e, t) {
                    return sr(e.schema.getTextInlineElements(), Zn(t));
                  })(e, n)
                );
              e.dom.isEmpty(e.getBody())
                ? (e.setContent(""), e.selection.setCursorLocation())
                : a.bind(zf).fold(
                    function() {
                      r && Ff(e, t, u);
                    },
                    function(n) {
                      r && Ff(e, t, _.some(n));
                    }
                  );
            },
            jf = function(e, t) {
              return (function(e, t, n) {
                var r = ps(t ? 1 : -1, e, n),
                  o = du.fromRangeStart(r),
                  i = Xn.fromDom(e);
                return !1 === t && Cf(o)
                  ? _.some(Nf.remove(o.getNode(!0)))
                  : t && xf(o)
                  ? _.some(Nf.remove(o.getNode()))
                  : !1 === t && xf(o) && lf(i, o)
                  ? ff(i, o).map(function(e) {
                      return Nf.remove(e.getNode());
                    })
                  : t && Cf(o) && cf(i, o)
                  ? df(i, o).map(function(e) {
                      return Nf.remove(e.getNode());
                    })
                  : Rf(e, t, o);
              })(e.getBody(), t, e.selection.getRng())
                .map(function(n) {
                  return n.fold(
                    (function(e, t) {
                      return function(n) {
                        return (
                          e._selectionOverrides.hideFakeCaret(),
                          Uf(e, t, Xn.fromDom(n)),
                          !0
                        );
                      };
                    })(e, t),
                    (function(e, t) {
                      return function(n) {
                        var r = t ? du.before(n) : du.after(n);
                        return e.selection.setRng(r.toRange()), !0;
                      };
                    })(e, t),
                    (function(e) {
                      return function(t) {
                        return e.selection.setRng(t.toRange()), !0;
                      };
                    })(e)
                  );
                })
                .getOr(!1);
            },
            Vf = function(e, t) {
              var n,
                r = e.selection.getNode();
              return (
                !!Do.isContentEditableFalse(r) &&
                ((n = Xn.fromDom(e.getBody())),
                j(Li(n, ".mce-offscreen-selection"), Ti),
                Uf(e, t, Xn.fromDom(e.selection.getNode())),
                kl(e),
                !0)
              );
            },
            qf = function(e, t) {
              return e.selection.isCollapsed() ? jf(e, t) : Vf(e, t);
            },
            $f = function(e) {
              var t,
                n = (function(e, t) {
                  for (; t && t !== e; ) {
                    if (
                      Do.isContentEditableTrue(t) ||
                      Do.isContentEditableFalse(t)
                    )
                      return t;
                    t = t.parentNode;
                  }
                  return null;
                })(e.getBody(), e.selection.getNode());
              return (
                Do.isContentEditableTrue(n) &&
                  e.dom.isBlock(n) &&
                  e.dom.isEmpty(n) &&
                  ((t = e.dom.create("br", { "data-mce-bogus": "1" })),
                  e.dom.setHTML(n, ""),
                  n.appendChild(t),
                  e.selection.setRng(du.before(t).toRange())),
                !0
              );
            },
            Kf = Do.isText,
            Yf = function(e) {
              return Kf(e) && e.data[0] === oa;
            },
            Xf = function(e) {
              return Kf(e) && e.data[e.data.length - 1] === oa;
            },
            Gf = function(e) {
              return e.ownerDocument.createTextNode(oa);
            },
            Jf = function(e, t) {
              return e
                ? (function(e) {
                    if (Kf(e.previousSibling))
                      return (
                        Xf(e.previousSibling) ||
                          e.previousSibling.appendData(oa),
                        e.previousSibling
                      );
                    if (Kf(e)) return Yf(e) || e.insertData(0, oa), e;
                    var t = Gf(e);
                    return e.parentNode.insertBefore(t, e), t;
                  })(t)
                : (function(e) {
                    if (Kf(e.nextSibling))
                      return (
                        Yf(e.nextSibling) || e.nextSibling.insertData(0, oa),
                        e.nextSibling
                      );
                    if (Kf(e)) return Xf(e) || e.appendData(oa), e;
                    var t = Gf(e);
                    return (
                      e.nextSibling
                        ? e.parentNode.insertBefore(t, e.nextSibling)
                        : e.parentNode.appendChild(t),
                      t
                    );
                  })(t);
            },
            Qf = s(Jf, !0),
            Zf = s(Jf, !1),
            ed = function(e, t) {
              return Do.isText(e.container())
                ? Jf(t, e.container())
                : Jf(t, e.getNode());
            },
            td = function(e, t) {
              var n = t.get();
              return n && e.container() === n && ca(n);
            },
            nd = function(e, t) {
              return t.fold(
                function(t) {
                  qu.remove(e.get());
                  var n = Qf(t);
                  return e.set(n), _.some(du(n, n.length - 1));
                },
                function(t) {
                  return js.firstPositionIn(t).map(function(t) {
                    if (td(t, e)) return du(e.get(), 1);
                    qu.remove(e.get());
                    var n = ed(t, !0);
                    return e.set(n), du(n, 1);
                  });
                },
                function(t) {
                  return js.lastPositionIn(t).map(function(t) {
                    if (td(t, e)) return du(e.get(), e.get().length - 1);
                    qu.remove(e.get());
                    var n = ed(t, !1);
                    return e.set(n), du(n, n.length - 1);
                  });
                },
                function(t) {
                  qu.remove(e.get());
                  var n = Zf(t);
                  return e.set(n), _.some(du(n, 1));
                }
              );
            },
            rd = function(e, t) {
              for (var n = 0; n < e.length; n++) {
                var r = e[n].apply(null, t);
                if (r.isSome()) return r;
              }
              return _.none();
            },
            od = af([
              { before: ["element"] },
              { start: ["element"] },
              { end: ["element"] },
              { after: ["element"] }
            ]),
            id = function(e, t) {
              var n = ss(t, e);
              return n || e;
            },
            ad = function(e, t, n) {
              var r = Nl.normalizeForwards(n),
                o = id(t, r.container());
              return Nl.findRootInline(e, o, r).fold(function() {
                return js
                  .nextPosition(o, r)
                  .bind(s(Nl.findRootInline, e, o))
                  .map(function(e) {
                    return od.before(e);
                  });
              }, _.none);
            },
            ud = function(e, t) {
              return null === Iu(e, t);
            },
            sd = function(e, t, n) {
              return Nl.findRootInline(e, t, n).filter(s(ud, t));
            },
            cd = function(e, t, n) {
              var r = Nl.normalizeBackwards(n);
              return sd(e, t, r).bind(function(e) {
                return js.prevPosition(e, r).isNone()
                  ? _.some(od.start(e))
                  : _.none();
              });
            },
            ld = function(e, t, n) {
              var r = Nl.normalizeForwards(n);
              return sd(e, t, r).bind(function(e) {
                return js.nextPosition(e, r).isNone()
                  ? _.some(od.end(e))
                  : _.none();
              });
            },
            fd = function(e, t, n) {
              var r = Nl.normalizeBackwards(n),
                o = id(t, r.container());
              return Nl.findRootInline(e, o, r).fold(function() {
                return js
                  .prevPosition(o, r)
                  .bind(s(Nl.findRootInline, e, o))
                  .map(function(e) {
                    return od.after(e);
                  });
              }, _.none);
            },
            dd = function(e) {
              return !1 === Nl.isRtl(hd(e));
            },
            md = function(e, t, n) {
              return rd([ad, cd, ld, fd], [e, t, n]).filter(dd);
            },
            hd = function(e) {
              return e.fold(u, u, u, u);
            },
            gd = function(e) {
              return e.fold(a("before"), a("start"), a("end"), a("after"));
            },
            pd = function(e) {
              return e.fold(od.before, od.before, od.after, od.after);
            },
            vd = function(e, t, n, r, o, i) {
              return Ua(
                Nl.findRootInline(t, n, r),
                Nl.findRootInline(t, n, o),
                function(t, r) {
                  return t !== r && Nl.hasSameParentBlock(n, t, r)
                    ? od.after(e ? t : r)
                    : i;
                }
              ).getOr(i);
            },
            bd = function(e, t) {
              return e.fold(a(!0), function(e) {
                return (r = t), !(gd((n = e)) === gd(r) && hd(n) === hd(r));
                var n, r;
              });
            },
            yd = function(e, t) {
              return e
                ? t.fold(
                    i(_.some, od.start),
                    _.none,
                    i(_.some, od.after),
                    _.none
                  )
                : t.fold(
                    _.none,
                    i(_.some, od.before),
                    _.none,
                    i(_.some, od.end)
                  );
            },
            wd = function(e, t, n, r) {
              var o = Nl.normalizePosition(e, r),
                i = md(t, n, o);
              return md(t, n, o)
                .bind(s(yd, e))
                .orThunk(function() {
                  return (function(e, t, n, r, o) {
                    var i = Nl.normalizePosition(e, o);
                    return js
                      .fromPosition(e, n, i)
                      .map(s(Nl.normalizePosition, e))
                      .fold(
                        function() {
                          return r.map(pd);
                        },
                        function(o) {
                          return md(t, n, o)
                            .map(s(vd, e, t, n, i, o))
                            .filter(s(bd, r));
                        }
                      )
                      .filter(dd);
                  })(e, t, n, i, r);
                });
            },
            xd = md,
            Cd = wd,
            Sd = (s(wd, !1), s(wd, !0), pd),
            Ed = function(e) {
              return e.fold(od.start, od.start, od.end, od.end);
            },
            Td = function(e) {
              return B(e.selection.getSel().modify);
            },
            Nd = function(e, t, n) {
              var r = e ? 1 : -1;
              return (
                t.setRng(du(n.container(), n.offset() + r).toRange()),
                t.getSel().modify("move", e ? "forward" : "backward", "word"),
                !0
              );
            },
            _d = function(e, t) {
              var n = t.selection.getRng(),
                r = e ? du.fromRangeEnd(n) : du.fromRangeStart(n);
              return (
                !!Td(t) &&
                (e && da(r)
                  ? Nd(!0, t.selection, r)
                  : !(e || !ma(r)) && Nd(!1, t.selection, r))
              );
            },
            kd = function(e, t) {
              var n = e.dom.createRng();
              n.setStart(t.container(), t.offset()),
                n.setEnd(t.container(), t.offset()),
                e.selection.setRng(n);
            },
            Rd = function(e) {
              return !1 !== e.settings.inline_boundaries;
            },
            Dd = function(e, t) {
              e
                ? t.setAttribute("data-mce-selected", "inline-boundary")
                : t.removeAttribute("data-mce-selected");
            },
            Od = function(e, t, n) {
              return nd(t, n).map(function(t) {
                return kd(e, t), n;
              });
            },
            Ad = function(e, t, n) {
              return function() {
                return !!Rd(t) && _d(e, t);
              };
            },
            Pd = s(Ad, !0),
            Bd = s(Ad, !1),
            Id = {
              move: function(e, t, n) {
                return function() {
                  return (
                    !!Rd(e) &&
                    (function(e, t, n) {
                      var r = e.getBody(),
                        o = du.fromRangeStart(e.selection.getRng()),
                        i = s(Nl.isInlineTarget, e);
                      return Cd(n, i, r, o).bind(function(n) {
                        return Od(e, t, n);
                      });
                    })(e, t, n).isSome()
                  );
                };
              },
              moveNextWord: Pd,
              movePrevWord: Bd,
              setupSelectedState: function(e) {
                var t = ki(null),
                  n = s(Nl.isInlineTarget, e);
                return (
                  e.on("NodeChange", function(r) {
                    Rd(e) &&
                      ((function(e, t, n) {
                        var r = q(
                            t.select('*[data-mce-selected="inline-boundary"]'),
                            e
                          ),
                          o = q(n, e);
                        j(J(r, o), s(Dd, !1)), j(J(o, r), s(Dd, !0));
                      })(n, e.dom, r.parents),
                      (function(e, t) {
                        if (
                          e.selection.isCollapsed() &&
                          !0 !== e.composing &&
                          t.get()
                        ) {
                          var n = du.fromRangeStart(e.selection.getRng());
                          du.isTextPosition(n) &&
                            !1 === Nl.isAtZwsp(n) &&
                            (kd(e, qu.removeAndReposition(t.get(), n)),
                            t.set(null));
                        }
                      })(e, t),
                      (function(e, t, n, r) {
                        if (t.selection.isCollapsed()) {
                          var o = q(r, e);
                          j(o, function(r) {
                            var o = du.fromRangeStart(t.selection.getRng());
                            xd(e, t.getBody(), o).bind(function(e) {
                              return Od(t, n, e);
                            });
                          });
                        }
                      })(n, e, t, r.parents));
                  }),
                  t
                );
              },
              setCaretPosition: kd
            },
            Md = function(e, t) {
              return function(n) {
                return nd(t, n)
                  .map(function(t) {
                    return Id.setCaretPosition(e, t), !0;
                  })
                  .getOr(!1);
              };
            },
            Ld = function(e, t, n, o) {
              var i = e.getBody(),
                a = s(Nl.isInlineTarget, e);
              e.undoManager.ignore(function() {
                e.selection.setRng(
                  (function(e, t) {
                    var n = r.document.createRange();
                    return (
                      n.setStart(e.container(), e.offset()),
                      n.setEnd(t.container(), t.offset()),
                      n
                    );
                  })(n, o)
                ),
                  e.execCommand("Delete"),
                  xd(a, i, du.fromRangeStart(e.selection.getRng()))
                    .map(Ed)
                    .map(Md(e, t));
              }),
                e.nodeChanged();
            },
            Fd = function(e, t, n, r) {
              var o = (function(e, t) {
                  var n = ss(t, e);
                  return n || e;
                })(e.getBody(), r.container()),
                i = s(Nl.isInlineTarget, e),
                u = xd(i, o, r);
              return u
                .bind(function(e) {
                  return n
                    ? e.fold(a(_.some(Ed(e))), _.none, a(_.some(Sd(e))), _.none)
                    : e.fold(
                        _.none,
                        a(_.some(Sd(e))),
                        _.none,
                        a(_.some(Ed(e)))
                      );
                })
                .map(Md(e, t))
                .getOrThunk(function() {
                  var a = js.navigate(n, o, r),
                    s = a.bind(function(e) {
                      return xd(i, o, e);
                    });
                  return u.isSome() && s.isSome()
                    ? Nl.findRootInline(i, o, r)
                        .map(function(t) {
                          return (
                            !!(function(e) {
                              return Ua(
                                js.firstPositionIn(e),
                                js.lastPositionIn(e),
                                function(t, n) {
                                  var r = Nl.normalizePosition(!0, t),
                                    o = Nl.normalizePosition(!1, n);
                                  return js
                                    .nextPosition(e, r)
                                    .map(function(e) {
                                      return e.isEqual(o);
                                    })
                                    .getOr(!0);
                                }
                              ).getOr(!0);
                            })(t) && (Uf(e, n, Xn.fromDom(t)), !0)
                          );
                        })
                        .getOr(!1)
                    : s
                        .bind(function(o) {
                          return a.map(function(o) {
                            return n ? Ld(e, t, r, o) : Ld(e, t, o, r), !0;
                          });
                        })
                        .getOr(!1);
                });
            },
            Hd = function(e, t, n) {
              if (
                e.selection.isCollapsed() &&
                (function(e) {
                  return !1 !== e.settings.inline_boundaries;
                })(e)
              ) {
                var r = du.fromRangeStart(e.selection.getRng());
                return Fd(e, t, n, r);
              }
              return !1;
            },
            zd = br("start", "end"),
            Wd = br("rng", "table", "cells"),
            Ud = af([{ removeTable: ["element"] }, { emptyCells: ["cells"] }]),
            jd = function(e, t) {
              return ji(Xn.fromDom(e), "td,th", t);
            },
            Vd = function(e, t) {
              return Wi(e, "table", t);
            },
            qd = function(e) {
              return !1 === _r(e.start(), e.end());
            },
            $d = function(e, t) {
              return Vd(e.start(), t).bind(function(n) {
                return Vd(e.end(), t).bind(function(e) {
                  return _r(n, e) ? _.some(n) : _.none();
                });
              });
            },
            Kd = function(e) {
              return Li(e, "td,th");
            },
            Yd = function(e, t) {
              var n = jd(t.startContainer, e),
                r = jd(t.endContainer, e);
              return t.collapsed
                ? _.none()
                : Ua(n, r, zd).fold(
                    function() {
                      return n.fold(
                        function() {
                          return r.bind(function(t) {
                            return Vd(t, e).bind(function(e) {
                              return Q(Kd(e)).map(function(e) {
                                return zd(e, t);
                              });
                            });
                          });
                        },
                        function(t) {
                          return Vd(t, e).bind(function(e) {
                            return Z(Kd(e)).map(function(e) {
                              return zd(t, e);
                            });
                          });
                        }
                      );
                    },
                    function(t) {
                      return Xd(e, t)
                        ? _.none()
                        : (function(e, t) {
                            return Vd(e.start(), t).bind(function(t) {
                              return Z(Kd(t)).map(function(t) {
                                return zd(e.start(), t);
                              });
                            });
                          })(t, e);
                    }
                  );
            },
            Xd = function(e, t) {
              return $d(t, e).isSome();
            },
            Gd = function(e, t) {
              var n = (function(e) {
                return s(_r, e);
              })(e);
              return (function(e, t) {
                var n = jd(e.startContainer, t),
                  r = jd(e.endContainer, t);
                return Ua(n, r, zd)
                  .filter(qd)
                  .filter(function(e) {
                    return Xd(t, e);
                  })
                  .orThunk(function() {
                    return Yd(t, e);
                  });
              })(t, n).bind(function(e) {
                return (function(e, t) {
                  return $d(e, t).map(function(t) {
                    return Wd(e, t, Kd(t));
                  });
                })(e, n);
              });
            },
            Jd = function(e, t) {
              return Y(e, function(e) {
                return _r(e, t);
              });
            },
            Qd = function(e) {
              return (function(e) {
                return Ua(
                  Jd(e.cells(), e.rng().start()),
                  Jd(e.cells(), e.rng().end()),
                  function(t, n) {
                    return e.cells().slice(t, n + 1);
                  }
                );
              })(e).map(function(t) {
                var n = e.cells();
                return t.length === n.length
                  ? Ud.removeTable(e.table())
                  : Ud.emptyCells(t);
              });
            },
            Zd = function(e, t) {
              return Gd(e, t).bind(Qd);
            },
            em = function(e) {
              var t = [];
              if (e)
                for (var n = 0; n < e.rangeCount; n++) t.push(e.getRangeAt(n));
              return t;
            },
            tm = em,
            nm = function(e) {
              return X(e, function(e) {
                var t = Fa(e);
                return t ? [Xn.fromDom(t)] : [];
              });
            },
            rm = function(e) {
              return em(e).length > 1;
            },
            om = function(e) {
              return q(nm(e), vo);
            },
            im = function(e) {
              return Li(e, "td[data-mce-selected],th[data-mce-selected]");
            },
            am = function(e, t) {
              var n = im(t),
                r = om(e);
              return n.length > 0 ? n : r;
            },
            um = am,
            sm = function(e) {
              return am(tm(e.selection.getSel()), Xn.fromDom(e.getBody()));
            },
            cm = function(e, t) {
              return j(t, Fc), e.selection.setCursorLocation(t[0].dom(), 0), !0;
            },
            lm = function(e, t) {
              return Uf(e, !1, t), !0;
            },
            fm = function(e, t, n, r) {
              return mm(t, r)
                .fold(
                  function() {
                    return (function(e, t, n) {
                      return Zd(t, n).map(function(t) {
                        return t.fold(s(lm, e), s(cm, e));
                      });
                    })(e, t, n);
                  },
                  function(t) {
                    return (function(e, t) {
                      return hm(e, t);
                    })(e, t);
                  }
                )
                .getOr(!1);
            },
            dm = function(e, t) {
              return K(Vl(t, e), vo);
            },
            mm = function(e, t) {
              return K(Vl(t, e), function(e) {
                return "caption" === Zn(e);
              });
            },
            hm = function(e, t) {
              return (
                Fc(t), e.selection.setCursorLocation(t.dom(), 0), _.some(!0)
              );
            },
            gm = function(e, t, n, r, o) {
              return js
                .navigate(n, e.getBody(), o)
                .bind(function(i) {
                  return (function(e, t, n, r) {
                    return js
                      .firstPositionIn(e.dom())
                      .bind(function(o) {
                        return js.lastPositionIn(e.dom()).map(function(e) {
                          return t
                            ? n.isEqual(o) && r.isEqual(e)
                            : n.isEqual(e) && r.isEqual(o);
                        });
                      })
                      .getOr(!0);
                  })(r, n, o, i)
                    ? (function(e, t) {
                        return hm(e, t);
                      })(e, r)
                    : (function(e, t, n) {
                        return mm(e, Xn.fromDom(n.getNode())).map(function(e) {
                          return !1 === _r(e, t);
                        });
                      })(t, r, i);
                })
                .or(_.some(!0));
            },
            pm = function(e, t, n, r) {
              var o = du.fromRangeStart(e.selection.getRng());
              return dm(n, r).bind(function(r) {
                return Il(r)
                  ? hm(e, r)
                  : (function(e, t, n, r, o) {
                      return js.navigate(n, e.getBody(), o).bind(function(e) {
                        return dm(t, Xn.fromDom(e.getNode())).map(function(e) {
                          return !1 === _r(e, r);
                        });
                      });
                    })(e, n, t, r, o);
              });
            },
            vm = function(e, t, n) {
              var r = Xn.fromDom(e.getBody());
              return mm(r, n)
                .fold(
                  function() {
                    return pm(e, t, r, n);
                  },
                  function(n) {
                    return (function(e, t, n, r) {
                      var o = du.fromRangeStart(e.selection.getRng());
                      return Il(r) ? hm(e, r) : gm(e, n, t, r, o);
                    })(e, t, r, n);
                  }
                )
                .getOr(!1);
            },
            bm = function(e, t) {
              var n = Xn.fromDom(e.selection.getStart(!0)),
                r = sm(e);
              return e.selection.isCollapsed() && 0 === r.length
                ? vm(e, t, n)
                : (function(e, t) {
                    var n = Xn.fromDom(e.getBody()),
                      r = e.selection.getRng(),
                      o = sm(e);
                    return 0 !== o.length ? cm(e, o) : fm(e, n, r, t);
                  })(e, n);
            },
            ym = rc.isEq,
            wm = function(e, t, n) {
              var r = e.formatter.get(n);
              if (r)
                for (var o = 0; o < r.length; o++)
                  if (!1 === r[o].inherit && e.dom.is(t, r[o].selector))
                    return !0;
              return !1;
            },
            xm = function(e, t, n, r) {
              var o = e.dom.getRoot();
              return (
                t !== o &&
                ((t = e.dom.getParent(t, function(t) {
                  return (
                    !!wm(e, t, n) || t.parentNode === o || !!Em(e, t, n, r, !0)
                  );
                })),
                Em(e, t, n, r))
              );
            },
            Cm = function(e, t, n) {
              return (
                !!ym(t, n.inline) ||
                !!ym(t, n.block) ||
                (n.selector ? 1 === t.nodeType && e.is(t, n.selector) : void 0)
              );
            },
            Sm = function(e, t, n, r, o, i) {
              var a,
                u,
                s,
                c = n[r];
              if (n.onmatch) return n.onmatch(t, n, r);
              if (c)
                if (void 0 === c.length) {
                  for (a in c)
                    if (c.hasOwnProperty(a)) {
                      if (
                        ((u =
                          "attributes" === r
                            ? e.getAttrib(t, a)
                            : rc.getStyle(e, t, a)),
                        o && !u && !n.exact)
                      )
                        return;
                      if (
                        (!o || n.exact) &&
                        !ym(
                          u,
                          rc.normalizeStyleValue(e, rc.replaceVars(c[a], i), a)
                        )
                      )
                        return;
                    }
                } else
                  for (s = 0; s < c.length; s++)
                    if (
                      "attributes" === r
                        ? e.getAttrib(t, c[s])
                        : rc.getStyle(e, t, c[s])
                    )
                      return n;
              return n;
            },
            Em = function(e, t, n, r, o) {
              var i,
                a,
                u,
                s,
                c = e.formatter.get(n),
                l = e.dom;
              if (c && t)
                for (a = 0; a < c.length; a++)
                  if (
                    ((i = c[a]),
                    Cm(e.dom, t, i) &&
                      Sm(l, t, i, "attributes", o, r) &&
                      Sm(l, t, i, "styles", o, r))
                  ) {
                    if ((s = i.classes))
                      for (u = 0; u < s.length; u++)
                        if (!e.dom.hasClass(t, s[u])) return;
                    return i;
                  }
            },
            Tm = {
              matchNode: Em,
              matchName: Cm,
              match: function(e, t, n, r) {
                var o;
                return r
                  ? xm(e, r, t, n)
                  : ((r = e.selection.getNode()),
                    !!xm(e, r, t, n) ||
                      !((o = e.selection.getStart()) === r || !xm(e, o, t, n)));
              },
              matchAll: function(e, t, n) {
                var r,
                  o = [],
                  i = {};
                return (
                  (r = e.selection.getStart()),
                  e.dom.getParent(
                    r,
                    function(r) {
                      var a, u;
                      for (a = 0; a < t.length; a++)
                        (u = t[a]),
                          !i[u] && Em(e, r, u, n) && ((i[u] = !0), o.push(u));
                    },
                    e.dom.getRoot()
                  ),
                  o
                );
              },
              canApply: function(e, t) {
                var n,
                  r,
                  o,
                  i,
                  a,
                  u = e.formatter.get(t),
                  s = e.dom;
                if (u)
                  for (
                    n = e.selection.getStart(),
                      r = rc.getParents(s, n),
                      i = u.length - 1;
                    i >= 0;
                    i--
                  ) {
                    if (!(a = u[i].selector) || u[i].defaultBlock) return !0;
                    for (o = r.length - 1; o >= 0; o--)
                      if (s.is(r[o], a)) return !0;
                  }
                return !1;
              },
              matchesUnInheritedFormatSelector: wm
            },
            Nm = function(e, t) {
              return e.splitText(t);
            },
            _m = function(e) {
              var t = e.startContainer,
                n = e.startOffset,
                r = e.endContainer,
                o = e.endOffset;
              return (
                t === r && Do.isText(t)
                  ? n > 0 &&
                    n < t.nodeValue.length &&
                    ((t = (r = Nm(t, n)).previousSibling),
                    o > n
                      ? ((t = r = Nm(r, (o -= n)).previousSibling),
                        (o = r.nodeValue.length),
                        (n = 0))
                      : (o = 0))
                  : (Do.isText(t) &&
                      n > 0 &&
                      n < t.nodeValue.length &&
                      ((t = Nm(t, n)), (n = 0)),
                    Do.isText(r) &&
                      o > 0 &&
                      o < r.nodeValue.length &&
                      (o = (r = Nm(r, o).previousSibling).nodeValue.length)),
                {
                  startContainer: t,
                  startOffset: n,
                  endContainer: r,
                  endOffset: o
                }
              );
            },
            km = oa,
            Rm = function(e) {
              return (
                (function(e) {
                  for (var t = []; e; ) {
                    if (
                      (3 === e.nodeType && e.nodeValue !== km) ||
                      e.childNodes.length > 1
                    )
                      return [];
                    1 === e.nodeType && t.push(e), (e = e.firstChild);
                  }
                  return t;
                })(e).length > 0
              );
            },
            Dm = function(e) {
              var t;
              if (e)
                for (e = (t = new no(e, e)).current(); e; e = t.next())
                  if (3 === e.nodeType) return e;
              return null;
            },
            Om = function(e) {
              var t = Xn.fromTag("span");
              return (
                dr(t, {
                  id: "_mce_caret",
                  "data-mce-bogus": "1",
                  "data-mce-type": "format-caret"
                }),
                e && Ci(t, Xn.fromText(km)),
                t
              );
            },
            Am = function(e, t, n) {
              void 0 === n && (n = !0);
              var r = e.dom,
                o = e.selection;
              if (Rm(t)) Uf(e, !1, Xn.fromDom(t), n);
              else {
                var i = o.getRng(),
                  a = r.getParent(t, r.isBlock),
                  u = (function(e) {
                    var t = Dm(e);
                    return (
                      t && t.nodeValue.charAt(0) === km && t.deleteData(0, 1), t
                    );
                  })(t);
                i.startContainer === u &&
                  i.startOffset > 0 &&
                  i.setStart(u, i.startOffset - 1),
                  i.endContainer === u &&
                    i.endOffset > 0 &&
                    i.setEnd(u, i.endOffset - 1),
                  r.remove(t, !0),
                  a && r.isEmpty(a) && Fc(Xn.fromDom(a)),
                  o.setRng(i);
              }
            },
            Pm = function(e, t, n) {
              void 0 === n && (n = !0);
              var r = e.dom,
                o = e.selection;
              if (t) Am(e, t, n);
              else if (!(t = Iu(e.getBody(), o.getStart())))
                for (; (t = r.get("_mce_caret")); ) Am(e, t, !1);
            },
            Bm = function(e, t, n) {
              var r = e.dom,
                o = r.getParent(n, s(rc.isTextBlock, e));
              o && r.isEmpty(o)
                ? n.parentNode.replaceChild(t, n)
                : (Lc(Xn.fromDom(n)),
                  r.isEmpty(n)
                    ? n.parentNode.replaceChild(t, n)
                    : r.insertAfter(t, n));
            },
            Im = function(e, t) {
              return e.appendChild(t), t;
            },
            Mm = function(e, t) {
              var n = (function(e, t, n) {
                return (
                  (function(e, t) {
                    for (var n = e.length - 1; n >= 0; n--) t(e[n], n);
                  })(e, function(e) {
                    n = t(n, e);
                  }),
                  n
                );
              })(
                e,
                function(e, t) {
                  return Im(e, t.cloneNode(!1));
                },
                t
              );
              return Im(n, n.ownerDocument.createTextNode(km));
            },
            Lm = function(e) {
              e.on("mouseup keydown", function(t) {
                !(function(e, t) {
                  var n = e.selection,
                    r = e.getBody();
                  Pm(e, null, !1),
                    (8 !== t && 46 !== t) ||
                      !n.isCollapsed() ||
                      n.getStart().innerHTML !== km ||
                      Pm(e, Iu(r, n.getStart())),
                    (37 !== t && 39 !== t) || Pm(e, Iu(r, n.getStart()));
                })(e, t.keyCode);
              });
            },
            Fm = function(e, t) {
              return (
                e.schema.getTextInlineElements().hasOwnProperty(Zn(t)) &&
                !Bu(t.dom()) &&
                !Do.isBogus(t.dom())
              );
            },
            Hm = function(e) {
              return 1 === Mr(e).length;
            },
            zm = function(e, t, n, r) {
              var o = s(Fm, t),
                i = U(q(r, o), function(e) {
                  return e.dom();
                });
              if (0 === i.length) Uf(t, e, n);
              else {
                var a = (function(e, t) {
                  var n = Om(!1),
                    r = Mm(t, n.dom());
                  return yi(Xn.fromDom(e), n), Ti(Xn.fromDom(e)), du(r, 0);
                })(n.dom(), i);
                t.selection.setRng(a.toRange());
              }
            },
            Wm = function(e, t) {
              var n = Xn.fromDom(e.getBody()),
                r = Xn.fromDom(e.selection.getStart()),
                o = q(
                  (function(e, t) {
                    var n = Vl(t, e);
                    return Y(n, so).fold(a(n), function(e) {
                      return n.slice(0, e);
                    });
                  })(n, r),
                  Hm
                );
              return Z(o)
                .map(function(n) {
                  var r,
                    i = du.fromRangeStart(e.selection.getRng());
                  return !(
                    !Rl(t, i, n.dom()) ||
                    ((r = n), Bu(r.dom()) && Rm(r.dom())) ||
                    (zm(t, e, n, o), 0)
                  );
                })
                .getOr(!1);
            },
            Um = function(e, t) {
              return !!e.selection.isCollapsed() && Wm(e, t);
            },
            jm = function(e) {
              for (var t = 0, n = 0, r = e; r && r.nodeType; )
                (t += r.offsetLeft || 0),
                  (n += r.offsetTop || 0),
                  (r = r.offsetParent);
              return { x: t, y: n };
            },
            Vm = function(e, t, n) {
              var r,
                o,
                i,
                a,
                u = e.dom,
                s = u.getRoot(),
                c = 0;
              if (
                !(function(e, t, n) {
                  var r = { elm: t, alignToTop: n };
                  return e.fire("scrollIntoView", r), r.isDefaultPrevented();
                })(e, t, n) &&
                Do.isElement(t)
              ) {
                if ((!1 === n && (c = t.offsetHeight), "BODY" !== s.nodeName)) {
                  var l = e.selection.getScrollContainer();
                  if (l)
                    return (
                      (r = jm(t).y - jm(l).y + c),
                      (a = l.clientHeight),
                      void (
                        (r < (i = l.scrollTop) || r + 25 > i + a) &&
                        (l.scrollTop = r < i ? r : r - a + 25)
                      )
                    );
                }
                (o = u.getViewPort(e.getWin())),
                  (r = u.getPos(t).y + c),
                  (i = o.y),
                  (a = o.h),
                  (r < o.y || r + 25 > i + a) &&
                    e.getWin().scrollTo(0, r < i ? r : r - a + 25);
              }
            },
            qm = function(e, t) {
              Q(lu.fromRangeStart(t).getClientRects()).each(function(t) {
                var n,
                  r,
                  o = (function(e) {
                    if (e.inline) return e.getBody().getBoundingClientRect();
                    var t = e.getWin();
                    return {
                      left: 0,
                      right: t.innerWidth,
                      top: 0,
                      bottom: t.innerHeight,
                      width: t.innerWidth,
                      height: t.innerHeight
                    };
                  })(e),
                  i = { x: Ma((n = o), (r = t)), y: La(n, r) };
                !(function(e, t, n) {
                  e.inline
                    ? ((e.getBody().scrollLeft += t),
                      (e.getBody().scrollTop += n))
                    : e.getWin().scrollBy(t, n);
                })(
                  e,
                  0 !== i.x ? (i.x > 0 ? i.x + 4 : i.x - 4) : 0,
                  0 !== i.y ? (i.y > 0 ? i.y + 4 : i.y - 4) : 0
                );
              });
            },
            $m = Do.isContentEditableTrue,
            Km = Do.isContentEditableFalse,
            Ym = function(e, t, n, r, o) {
              return t._selectionOverrides.showCaret(e, n, r, o);
            },
            Xm = function(e, t) {
              return e
                .fire("BeforeObjectSelected", { target: t })
                .isDefaultPrevented()
                ? null
                : (function(e) {
                    var t = e.ownerDocument.createRange();
                    return t.selectNode(e), t;
                  })(t);
            },
            Gm = function(e, t, n) {
              var r = ps(1, e.getBody(), t),
                o = du.fromRangeStart(r),
                i = o.getNode();
              if (Km(i)) return Ym(1, e, i, !o.isAtEnd(), !1);
              var a = o.getNode(!0);
              if (Km(a)) return Ym(1, e, a, !1, !1);
              var u = e.dom.getParent(o.getNode(), function(e) {
                return Km(e) || $m(e);
              });
              return Km(u) ? Ym(1, e, u, !1, n) : null;
            },
            Jm = function(e, t, n) {
              if (!t || !t.collapsed) return t;
              var r = Gm(e, t, n);
              return r || t;
            },
            Qm = function(e, t) {
              e.selection.setRng(t), qm(e, e.selection.getRng());
            },
            Zm = function(e, t, n, r, o, i) {
              var a = Ym(r, e, i.getNode(!o), o, !0);
              if (t.collapsed) {
                var u = t.cloneRange();
                o
                  ? u.setEnd(a.startContainer, a.startOffset)
                  : u.setStart(a.endContainer, a.endOffset),
                  u.deleteContents();
              } else t.deleteContents();
              return (
                e.selection.setRng(a),
                (function(e, t) {
                  Do.isText(t) && 0 === t.data.length && e.remove(t);
                })(e.dom, n),
                !0
              );
            },
            eh = function(e, t) {
              return (function(e, t) {
                var n = e.selection.getRng();
                if (!Do.isText(n.commonAncestorContainer)) return !1;
                var r = t ? fu.Forwards : fu.Backwards,
                  o = As(e.getBody()),
                  i = s(ws, o.next),
                  a = s(ws, o.prev),
                  u = t ? i : a,
                  c = t ? xf : Cf,
                  l = bs(r, e.getBody(), n),
                  f = Nl.normalizePosition(t, u(l));
                if (!f) return !1;
                if (c(f)) return Zm(e, n, l.getNode(), r, t, f);
                var d = u(f);
                return (
                  !!(d && c(d) && xs(f, d)) && Zm(e, n, l.getNode(), r, t, d)
                );
              })(e, t);
            },
            th = function(e, t) {
              e.getDoc().execCommand(t, !1, null);
            },
            nh = function(e) {
              qf(e, !1) ||
                eh(e, !1) ||
                Hd(e, !1) ||
                ef(e, !1) ||
                bm(e) ||
                of(e, !1) ||
                Um(e, !1) ||
                (th(e, "Delete"), kl(e));
            },
            rh = function(e) {
              qf(e, !0) ||
                eh(e, !0) ||
                Hd(e, !0) ||
                ef(e, !0) ||
                bm(e) ||
                of(e, !0) ||
                Um(e, !0) ||
                th(e, "ForwardDelete");
            },
            oh = function(e, t, n) {
              var r = function(t) {
                return (function(e, t) {
                  var n = e.dom(),
                    r = vr(n, t);
                  return _.from(r).filter(function(e) {
                    return e.length > 0;
                  });
                })(t, e);
              };
              return zi(
                Xn.fromDom(n),
                function(e) {
                  return r(e).isSome();
                },
                function(e) {
                  return _r(Xn.fromDom(t), e);
                }
              ).bind(r);
            },
            ih = function(e) {
              return function(t, n) {
                return _.from(n)
                  .map(Xn.fromDom)
                  .filter(tr)
                  .bind(function(n) {
                    return oh(e, t, n.dom()).or(
                      (function(e, t) {
                        return _.from(fi.DOM.getStyle(t, e, !0));
                      })(e, n.dom())
                    );
                  })
                  .getOr("");
              };
            },
            ah = {
              getFontSize: ih("font-size"),
              getFontFamily: i(function(e) {
                return e.replace(/[\'\"\\]/g, "").replace(/,\s+/g, ",");
              }, ih("font-family")),
              toPt: function(e, t) {
                return /[0-9.]+px$/.test(e)
                  ? (function(e, t) {
                      var n = Math.pow(10, t);
                      return Math.round(e * n) / n;
                    })((72 * parseInt(e, 10)) / 96, t || 0) + "pt"
                  : e;
              }
            },
            uh = function(e) {
              return js.firstPositionIn(e.getBody()).map(function(e) {
                var t = e.container();
                return Do.isText(t) ? t.parentNode : t;
              });
            },
            sh = function(e) {
              return _.from(e.selection.getRng()).bind(function(t) {
                return (function(e, t) {
                  return e.startContainer === t && 0 === e.startOffset;
                })(t, e.getBody())
                  ? _.none()
                  : _.from(e.selection.getStart(!0));
              });
            },
            ch = function(e, t) {
              if (/^[0-9\.]+$/.test(t)) {
                var n = parseInt(t, 10);
                if (n >= 1 && n <= 7) {
                  var r = fl(e),
                    o = dl(e);
                  return o ? o[n - 1] || t : r[n - 1] || t;
                }
                return t;
              }
              return t;
            },
            lh = function(e, t) {
              return (
                e &&
                t &&
                e.startContainer === t.startContainer &&
                e.startOffset === t.startOffset &&
                e.endContainer === t.endContainer &&
                e.endOffset === t.endOffset
              );
            },
            fh = function(e, t, n) {
              return (
                null !==
                (function(e, t, n) {
                  for (; e && e !== t; ) {
                    if (n(e)) return e;
                    e = e.parentNode;
                  }
                  return null;
                })(e, t, n)
              );
            },
            dh = function(e, t, n) {
              return fh(e, t, function(e) {
                return e.nodeName === n;
              });
            },
            mh = function(e) {
              return e && "TABLE" === e.nodeName;
            },
            hh = function(e) {
              return e && /^(TD|TH|CAPTION)$/.test(e.nodeName);
            },
            gh = function(e, t) {
              return la(e) && !1 === fh(e, t, Bu);
            },
            ph = function(e, t, n) {
              for (
                var r = new no(
                  t,
                  e.getParent(t.parentNode, e.isBlock) || e.getRoot()
                );
                (t = r[n ? "prev" : "next"]());

              )
                if (Do.isBr(t)) return !0;
            },
            vh = function(e, t, n, r, o) {
              var i,
                a,
                u,
                s,
                c = e.getRoot(),
                l = e.schema.getNonEmptyElements();
              if (
                ((u = e.getParent(o.parentNode, e.isBlock) || c),
                r && Do.isBr(o) && t && e.isEmpty(u))
              )
                return _.some(lu(o.parentNode, e.nodeIndex(o)));
              for (i = new no(o, u); (s = i[r ? "prev" : "next"]()); ) {
                if ("false" === e.getContentEditableParent(s) || gh(s, c))
                  return _.none();
                if (Do.isText(s) && s.nodeValue.length > 0)
                  return !1 === dh(s, c, "A")
                    ? _.some(lu(s, r ? s.nodeValue.length : 0))
                    : _.none();
                if (e.isBlock(s) || l[s.nodeName.toLowerCase()])
                  return _.none();
                a = s;
              }
              return n && a ? _.some(lu(a, 0)) : _.none();
            },
            bh = function(e, t, n, r) {
              var o,
                i,
                a,
                u,
                s,
                c,
                l,
                f = e.getRoot(),
                d = !1;
              if (
                ((o = r[(n ? "start" : "end") + "Container"]),
                (i = r[(n ? "start" : "end") + "Offset"]),
                (l = Do.isElement(o) && i === o.childNodes.length),
                (s = e.schema.getNonEmptyElements()),
                (c = n),
                la(o))
              )
                return _.none();
              if (
                (Do.isElement(o) && i > o.childNodes.length - 1 && (c = !1),
                Do.isDocument(o) && ((o = f), (i = 0)),
                o === f)
              ) {
                if (c && (u = o.childNodes[i > 0 ? i - 1 : 0])) {
                  if (la(u)) return _.none();
                  if (s[u.nodeName] || mh(u)) return _.none();
                }
                if (o.hasChildNodes()) {
                  if (
                    ((i = Math.min(
                      !c && i > 0 ? i - 1 : i,
                      o.childNodes.length - 1
                    )),
                    (o = o.childNodes[i]),
                    (i = Do.isText(o) && l ? o.data.length : 0),
                    !t && o === f.lastChild && mh(o))
                  )
                    return _.none();
                  if (
                    (function(e, t) {
                      for (; t && t !== e; ) {
                        if (Do.isContentEditableFalse(t)) return !0;
                        t = t.parentNode;
                      }
                      return !1;
                    })(f, o) ||
                    la(o)
                  )
                    return _.none();
                  if (o.hasChildNodes() && !1 === mh(o)) {
                    (u = o), (a = new no(o, f));
                    do {
                      if (Do.isContentEditableFalse(u) || la(u)) {
                        d = !1;
                        break;
                      }
                      if (Do.isText(u) && u.nodeValue.length > 0) {
                        (i = c ? 0 : u.nodeValue.length), (o = u), (d = !0);
                        break;
                      }
                      if (s[u.nodeName.toLowerCase()] && !hh(u)) {
                        (i = e.nodeIndex(u)),
                          (o = u.parentNode),
                          c || i++,
                          (d = !0);
                        break;
                      }
                    } while ((u = c ? a.next() : a.prev()));
                  }
                }
              }
              return (
                t &&
                  (Do.isText(o) &&
                    0 === i &&
                    vh(e, l, t, !0, o).each(function(e) {
                      (o = e.container()), (i = e.offset()), (d = !0);
                    }),
                  Do.isElement(o) &&
                    ((u = o.childNodes[i]) || (u = o.childNodes[i - 1]),
                    !u ||
                      !Do.isBr(u) ||
                      (function(e, t) {
                        return (
                          e.previousSibling && e.previousSibling.nodeName === t
                        );
                      })(u, "A") ||
                      ph(e, u, !1) ||
                      ph(e, u, !0) ||
                      vh(e, l, t, !0, u).each(function(e) {
                        (o = e.container()), (i = e.offset()), (d = !0);
                      }))),
                c &&
                  !t &&
                  Do.isText(o) &&
                  i === o.nodeValue.length &&
                  vh(e, l, t, !1, o).each(function(e) {
                    (o = e.container()), (i = e.offset()), (d = !0);
                  }),
                d ? _.some(lu(o, i)) : _.none()
              );
            },
            yh = function(e, t) {
              var n = t.collapsed,
                r = t.cloneRange(),
                o = lu.fromRangeStart(t);
              return (
                bh(e, n, !0, r).each(function(e) {
                  (n && lu.isAbove(o, e)) ||
                    r.setStart(e.container(), e.offset());
                }),
                n ||
                  bh(e, n, !1, r).each(function(e) {
                    r.setEnd(e.container(), e.offset());
                  }),
                n && r.collapse(!0),
                lh(t, r) ? _.none() : _.some(r)
              );
            },
            wh = function(e, t, n) {
              var r = e.create("span", {}, "&nbsp;");
              n.parentNode.insertBefore(r, n), t.scrollIntoView(r), e.remove(r);
            },
            xh = function(e, t, n, r) {
              var o = e.createRng();
              r
                ? (o.setStartBefore(n), o.setEndBefore(n))
                : (o.setStartAfter(n), o.setEndAfter(n)),
                t.setRng(o);
            },
            Ch = function(e, t) {
              var n,
                r,
                o = e.selection,
                i = e.dom,
                a = o.getRng();
              yh(i, a).each(function(e) {
                a.setStart(e.startContainer, e.startOffset),
                  a.setEnd(e.endContainer, e.endOffset);
              });
              var u = a.startOffset,
                s = a.startContainer;
              if (1 === s.nodeType && s.hasChildNodes()) {
                var c = u > s.childNodes.length - 1;
                (s = s.childNodes[Math.min(u, s.childNodes.length - 1)] || s),
                  (u = c && 3 === s.nodeType ? s.nodeValue.length : 0);
              }
              var l = i.getParent(s, i.isBlock),
                f = l ? i.getParent(l.parentNode, i.isBlock) : null,
                d = f ? f.nodeName.toUpperCase() : "",
                m = t && t.ctrlKey;
              "LI" !== d || m || (l = f),
                s &&
                  3 === s.nodeType &&
                  u >= s.nodeValue.length &&
                  ((function(e, t, n) {
                    for (
                      var r, o = new no(t, n), i = e.getNonEmptyElements();
                      (r = o.next());

                    )
                      if (i[r.nodeName.toLowerCase()] || r.length > 0)
                        return !0;
                  })(e.schema, s, l) ||
                    ((n = i.create("br")),
                    a.insertNode(n),
                    a.setStartAfter(n),
                    a.setEndAfter(n),
                    (r = !0))),
                (n = i.create("br")),
                Su(i, a, n),
                wh(i, o, n),
                xh(i, o, n, r),
                e.undoManager.add();
            },
            Sh = function(e, t) {
              var n = Xn.fromTag("br");
              yi(Xn.fromDom(t), n), e.undoManager.add();
            },
            Eh = function(e, t) {
              Th(e.getBody(), t) || wi(Xn.fromDom(t), Xn.fromTag("br"));
              var n = Xn.fromTag("br");
              wi(Xn.fromDom(t), n),
                wh(e.dom, e.selection, n.dom()),
                xh(e.dom, e.selection, n.dom(), !1),
                e.undoManager.add();
            },
            Th = function(e, t) {
              return (
                (n = du.after(t)),
                !!Do.isBr(n.getNode()) ||
                  js
                    .nextPosition(e, du.after(t))
                    .map(function(e) {
                      return Do.isBr(e.getNode());
                    })
                    .getOr(!1)
              );
              var n;
            },
            Nh = function(e) {
              return e && "A" === e.nodeName && "href" in e;
            },
            _h = function(e) {
              return e.fold(a(!1), Nh, Nh, a(!1));
            },
            kh = function(e, t) {
              t.fold(o, s(Sh, e), s(Eh, e), o);
            },
            Rh = function(e, t) {
              var n = (function(e) {
                var t = s(Nl.isInlineTarget, e),
                  n = du.fromRangeStart(e.selection.getRng());
                return xd(t, e.getBody(), n).filter(_h);
              })(e);
              n.isSome() ? n.each(s(kh, e)) : Ch(e, t);
            },
            Dh = { create: br("start", "soffset", "finish", "foffset") },
            Oh = af([
              { before: ["element"] },
              { on: ["element", "offset"] },
              { after: ["element"] }
            ]),
            Ah =
              (Oh.before,
              Oh.on,
              Oh.after,
              function(e) {
                return e.fold(u, u, u);
              }),
            Ph = af([
              { domRange: ["rng"] },
              { relative: ["startSitu", "finishSitu"] },
              { exact: ["start", "soffset", "finish", "foffset"] }
            ]),
            Bh = {
              domRange: Ph.domRange,
              relative: Ph.relative,
              exact: Ph.exact,
              exactFromRange: function(e) {
                return Ph.exact(
                  e.start(),
                  e.soffset(),
                  e.finish(),
                  e.foffset()
                );
              },
              getWin: function(e) {
                var t = (function(e) {
                  return e.match({
                    domRange: function(e) {
                      return Xn.fromDom(e.startContainer);
                    },
                    relative: function(e, t) {
                      return Ah(e);
                    },
                    exact: function(e, t, n, r) {
                      return e;
                    }
                  });
                })(e);
                return Dr(t);
              },
              range: Dh.create
            },
            Ih = Kn.detect().browser,
            Mh = function(e, t) {
              var n = nr(t) ? wc(t).length : Mr(t).length + 1;
              return e > n ? n : e < 0 ? 0 : e;
            },
            Lh = function(e) {
              return Bh.range(
                e.start(),
                Mh(e.soffset(), e.start()),
                e.finish(),
                Mh(e.foffset(), e.finish())
              );
            },
            Fh = function(e, t) {
              return !Do.isRestrictedNode(t.dom()) && (kr(e, t) || _r(e, t));
            },
            Hh = function(e) {
              return function(t) {
                return Fh(e, t.start()) && Fh(e, t.finish());
              };
            },
            zh = function(e) {
              return !0 === e.inline || Ih.isIE();
            },
            Wh = function(e) {
              return Bh.range(
                Xn.fromDom(e.startContainer),
                e.startOffset,
                Xn.fromDom(e.endContainer),
                e.endOffset
              );
            },
            Uh = function(e) {
              var t = e.getSelection();
              return (t && 0 !== t.rangeCount
                ? _.from(t.getRangeAt(0))
                : _.none()
              ).map(Wh);
            },
            jh = function(e) {
              var t = Dr(e);
              return Uh(t.dom()).filter(Hh(e));
            },
            Vh = function(e, t) {
              return _.from(t)
                .filter(Hh(e))
                .map(Lh);
            },
            qh = function(e) {
              var t = r.document.createRange();
              try {
                return (
                  t.setStart(e.start().dom(), e.soffset()),
                  t.setEnd(e.finish().dom(), e.foffset()),
                  _.some(t)
                );
              } catch (e) {
                return _.none();
              }
            },
            $h = function(e) {
              return (e.bookmark ? e.bookmark : _.none())
                .bind(s(Vh, Xn.fromDom(e.getBody())))
                .bind(qh);
            },
            Kh = function(e) {
              var t = zh(e) ? jh(Xn.fromDom(e.getBody())) : _.none();
              e.bookmark = t.isSome() ? t : e.bookmark;
            },
            Yh = function(e) {
              $h(e).each(function(t) {
                e.selection.setRng(t);
              });
            },
            Xh = $h,
            Gh = function(e) {
              return mo(e) || ho(e);
            },
            Jh = function(e) {
              return q(U(e.selection.getSelectedBlocks(), Xn.fromDom), function(
                e
              ) {
                return (
                  !Gh(e) &&
                  !(function(e) {
                    return Or(e)
                      .map(Gh)
                      .getOr(!1);
                  })(e)
                );
              });
            },
            Qh = function(e, t) {
              var n = e.settings,
                r = e.dom,
                o = e.selection,
                i = e.formatter,
                a = /[a-z%]+$/i.exec(n.indentation)[0],
                u = parseInt(n.indentation, 10),
                s = e.getParam("indent_use_margin", !1);
              e.queryCommandState("InsertUnorderedList") ||
                e.queryCommandState("InsertOrderedList") ||
                n.forced_root_block ||
                r.getParent(o.getNode(), r.isBlock) ||
                i.apply("div"),
                j(Jh(e), function(e) {
                  !(function(e, t, n, r, o, i) {
                    if ("false" !== e.getContentEditable(i)) {
                      var a = n ? "margin" : "padding";
                      if (
                        ((a = "TABLE" === i.nodeName ? "margin" : a),
                        (a +=
                          "rtl" === e.getStyle(i, "direction", !0)
                            ? "Right"
                            : "Left"),
                        "outdent" === t)
                      ) {
                        var u = Math.max(0, parseInt(i.style[a] || 0, 10) - r);
                        e.setStyle(i, a, u ? u + o : "");
                      } else
                        (u = parseInt(i.style[a] || 0, 10) + r + o),
                          e.setStyle(i, a, u);
                    }
                  })(r, t, s, u, a, e.dom());
                });
            },
            Zh = Kt.each,
            eg = Kt.extend,
            tg = Kt.map,
            ng = Kt.inArray;
          function rg(e) {
            var t,
              n,
              r,
              o,
              i = { state: {}, exec: {}, value: {} },
              a = e.settings;
            e.on("PreInit", function() {
              (t = e.dom),
                (n = e.selection),
                (a = e.settings),
                (r = e.formatter);
            });
            var u = function(t) {
                var n;
                if (!e.quirks.isHidden() && !e.removed) {
                  if (((t = t.toLowerCase()), (n = i.state[t]))) return n(t);
                  try {
                    return e.getDoc().queryCommandState(t);
                  } catch (e) {}
                  return !1;
                }
              },
              s = function(e, t) {
                (t = t || "exec"),
                  Zh(e, function(e, n) {
                    Zh(n.toLowerCase().split(","), function(n) {
                      i[t][n] = e;
                    });
                  });
              },
              c = function(t, n, r) {
                (t = t.toLowerCase()),
                  (i.value[t] = function() {
                    return n.call(r || e);
                  });
              };
            eg(this, {
              execCommand: function(t, n, r, o) {
                var a,
                  u,
                  s = !1;
                if (!e.removed) {
                  if (
                    (/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(
                      t
                    ) ||
                    (o && o.skip_focus)
                      ? Yh(e)
                      : e.focus(),
                    (o = e.fire("BeforeExecCommand", {
                      command: t,
                      ui: n,
                      value: r
                    })).isDefaultPrevented())
                  )
                    return !1;
                  if (((u = t.toLowerCase()), (a = i.exec[u])))
                    return (
                      a(u, n, r),
                      e.fire("ExecCommand", { command: t, ui: n, value: r }),
                      !0
                    );
                  if (
                    (Zh(e.plugins, function(o) {
                      if (o.execCommand && o.execCommand(t, n, r))
                        return (
                          e.fire("ExecCommand", {
                            command: t,
                            ui: n,
                            value: r
                          }),
                          (s = !0),
                          !1
                        );
                    }),
                    s)
                  )
                    return s;
                  if (
                    e.theme &&
                    e.theme.execCommand &&
                    e.theme.execCommand(t, n, r)
                  )
                    return (
                      e.fire("ExecCommand", { command: t, ui: n, value: r }), !0
                    );
                  try {
                    s = e.getDoc().execCommand(t, n, r);
                  } catch (e) {}
                  return (
                    !!s &&
                    (e.fire("ExecCommand", { command: t, ui: n, value: r }), !0)
                  );
                }
              },
              queryCommandState: u,
              queryCommandValue: function(t) {
                var n;
                if (!e.quirks.isHidden() && !e.removed) {
                  if (((t = t.toLowerCase()), (n = i.value[t]))) return n(t);
                  try {
                    return e.getDoc().queryCommandValue(t);
                  } catch (e) {}
                }
              },
              queryCommandSupported: function(t) {
                if (((t = t.toLowerCase()), i.exec[t])) return !0;
                try {
                  return e.getDoc().queryCommandSupported(t);
                } catch (e) {}
                return !1;
              },
              addCommands: s,
              addCommand: function(t, n, r) {
                (t = t.toLowerCase()),
                  (i.exec[t] = function(t, o, i, a) {
                    return n.call(r || e, o, i, a);
                  });
              },
              addQueryStateHandler: function(t, n, r) {
                (t = t.toLowerCase()),
                  (i.state[t] = function() {
                    return n.call(r || e);
                  });
              },
              addQueryValueHandler: c,
              hasCustomCommand: function(e) {
                return (e = e.toLowerCase()), !!i.exec[e];
              }
            });
            var l = function(t, n, r) {
                return (
                  void 0 === n && (n = !1),
                  void 0 === r && (r = null),
                  e.getDoc().execCommand(t, n, r)
                );
              },
              f = function(e) {
                return r.match(e);
              },
              d = function(t, n) {
                r.toggle(t, n ? { value: n } : void 0), e.nodeChanged();
              },
              m = function(e) {
                o = n.getBookmark(e);
              },
              h = function() {
                n.moveToBookmark(o);
              };
            s({
              "mceResetDesignMode,mceBeginUndoLevel": function() {},
              "mceEndUndoLevel,mceAddUndoLevel": function() {
                e.undoManager.add();
              },
              "Cut,Copy,Paste": function(t) {
                var n,
                  r = e.getDoc();
                try {
                  l(t);
                } catch (e) {
                  n = !0;
                }
                if (
                  ("paste" !== t || r.queryCommandEnabled(t) || (n = !0),
                  n || !r.queryCommandSupported(t))
                ) {
                  var o = e.translate(
                    "Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."
                  );
                  fe.mac && (o = o.replace(/Ctrl\+/g, "⌘+")),
                    e.notificationManager.open({ text: o, type: "error" });
                }
              },
              unlink: function() {
                if (n.isCollapsed()) {
                  var t = e.dom.getParent(e.selection.getStart(), "a");
                  t && e.dom.remove(t, !0);
                } else r.remove("link");
              },
              "JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone": function(
                e
              ) {
                var t = e.substring(7);
                "full" === t && (t = "justify"),
                  Zh("left,center,right,justify".split(","), function(e) {
                    t !== e && r.remove("align" + e);
                  }),
                  "none" !== t && d("align" + t);
              },
              "InsertUnorderedList,InsertOrderedList": function(e) {
                var r, o;
                l(e),
                  (r = t.getParent(n.getNode(), "ol,ul")) &&
                    ((o = r.parentNode),
                    /^(H[1-6]|P|ADDRESS|PRE)$/.test(o.nodeName) &&
                      (m(), t.split(o, r), h()));
              },
              "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function(
                e
              ) {
                d(e);
              },
              "ForeColor,HiliteColor": function(e, t, n) {
                d(e, n);
              },
              FontName: function(t, n, r) {
                !(function(e, t) {
                  e.formatter.toggle("fontname", { value: ch(e, t) }),
                    e.nodeChanged();
                })(e, r);
              },
              FontSize: function(t, n, r) {
                !(function(e, t) {
                  e.formatter.toggle("fontsize", { value: ch(e, t) }),
                    e.nodeChanged();
                })(e, r);
              },
              RemoveFormat: function(e) {
                r.remove(e);
              },
              mceBlockQuote: function() {
                d("blockquote");
              },
              FormatBlock: function(e, t, n) {
                return d(n || "p");
              },
              mceCleanup: function() {
                var t = n.getBookmark();
                e.setContent(e.getContent()), n.moveToBookmark(t);
              },
              mceRemoveNode: function(t, r, o) {
                var i = o || n.getNode();
                i !== e.getBody() && (m(), e.dom.remove(i, !0), h());
              },
              mceSelectNodeDepth: function(r, o, i) {
                var a = 0;
                t.getParent(
                  n.getNode(),
                  function(e) {
                    if (1 === e.nodeType && a++ === i) return n.select(e), !1;
                  },
                  e.getBody()
                );
              },
              mceSelectNode: function(e, t, r) {
                n.select(r);
              },
              mceInsertContent: function(t, n, r) {
                Xc(e, r);
              },
              mceInsertRawHTML: function(t, r, o) {
                n.setContent("tiny_mce_marker");
                var i = e.getContent();
                e.setContent(
                  i.replace(/tiny_mce_marker/g, function() {
                    return o;
                  })
                );
              },
              mceToggleFormat: function(e, t, n) {
                d(n);
              },
              mceSetContent: function(t, n, r) {
                e.setContent(r);
              },
              "Indent,Outdent": function(t) {
                Qh(e, t);
              },
              mceRepaint: function() {},
              InsertHorizontalRule: function() {
                e.execCommand("mceInsertContent", !1, "<hr />");
              },
              mceToggleVisualAid: function() {
                (e.hasVisual = !e.hasVisual), e.addVisual();
              },
              mceReplaceContent: function(t, r, o) {
                e.execCommand(
                  "mceInsertContent",
                  !1,
                  o.replace(
                    /\{\$selection\}/g,
                    n.getContent({ format: "text" })
                  )
                );
              },
              mceInsertLink: function(e, o, i) {
                var a;
                "string" == typeof i && (i = { href: i }),
                  (a = t.getParent(n.getNode(), "a")),
                  (i.href = i.href.replace(" ", "%20")),
                  (a && i.href) || r.remove("link"),
                  i.href && r.apply("link", i, a);
              },
              selectAll: function() {
                var e = t.getParent(n.getStart(), Do.isContentEditableTrue);
                if (e) {
                  var r = t.createRng();
                  r.selectNodeContents(e), n.setRng(r);
                }
              },
              delete: function() {
                nh(e);
              },
              forwardDelete: function() {
                rh(e);
              },
              mceNewDocument: function() {
                e.setContent("");
              },
              InsertLineBreak: function(t, n, r) {
                return Rh(e, r), !0;
              }
            });
            var g = function(e) {
              return function() {
                var o = n.isCollapsed()
                    ? [t.getParent(n.getNode(), t.isBlock)]
                    : n.getSelectedBlocks(),
                  i = tg(o, function(t) {
                    return !!r.matchNode(t, e);
                  });
                return -1 !== ng(i, !0);
              };
            };
            s(
              {
                JustifyLeft: g("alignleft"),
                JustifyCenter: g("aligncenter"),
                JustifyRight: g("alignright"),
                JustifyFull: g("alignjustify"),
                "Bold,Italic,Underline,Strikethrough,Superscript,Subscript": function(
                  e
                ) {
                  return f(e);
                },
                mceBlockQuote: function() {
                  return f("blockquote");
                },
                Outdent: function() {
                  var e;
                  if (a.inline_styles) {
                    if (
                      (e = t.getParent(n.getStart(), t.isBlock)) &&
                      parseInt(e.style.paddingLeft, 10) > 0
                    )
                      return !0;
                    if (
                      (e = t.getParent(n.getEnd(), t.isBlock)) &&
                      parseInt(e.style.paddingLeft, 10) > 0
                    )
                      return !0;
                  }
                  return (
                    u("InsertUnorderedList") ||
                    u("InsertOrderedList") ||
                    (!a.inline_styles &&
                      !!t.getParent(n.getNode(), "BLOCKQUOTE"))
                  );
                },
                "InsertUnorderedList,InsertOrderedList": function(e) {
                  var r = t.getParent(n.getNode(), "ul,ol");
                  return (
                    r &&
                    (("insertunorderedlist" === e && "UL" === r.tagName) ||
                      ("insertorderedlist" === e && "OL" === r.tagName))
                  );
                }
              },
              "state"
            ),
              s({
                Undo: function() {
                  e.undoManager.undo();
                },
                Redo: function() {
                  e.undoManager.redo();
                }
              }),
              c(
                "FontName",
                function() {
                  return (function(e) {
                    return sh(e).fold(
                      function() {
                        return uh(e)
                          .map(function(t) {
                            return ah.getFontFamily(e.getBody(), t);
                          })
                          .getOr("");
                      },
                      function(t) {
                        return ah.getFontFamily(e.getBody(), t);
                      }
                    );
                  })(e);
                },
                this
              ),
              c(
                "FontSize",
                function() {
                  return (function(e) {
                    return sh(e).fold(
                      function() {
                        return uh(e)
                          .map(function(t) {
                            return ah.getFontSize(e.getBody(), t);
                          })
                          .getOr("");
                      },
                      function(t) {
                        return ah.getFontSize(e.getBody(), t);
                      }
                    );
                  })(e);
                },
                this
              );
          }
          var og = Kt.makeMap(
              "focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend",
              " "
            ),
            ig = function(e) {
              var t,
                n,
                r = this,
                o = {},
                i = function() {
                  return !1;
                },
                a = function() {
                  return !0;
                };
              (t = (e = e || {}).scope || r), (n = e.toggleEvent || i);
              var u = function(e, t, a, u) {
                  var s, c, l;
                  if ((!1 === t && (t = i), t))
                    for (
                      t = { func: t },
                        u && Kt.extend(t, u),
                        l = (c = e.toLowerCase().split(" ")).length;
                      l--;

                    )
                      (e = c[l]),
                        (s = o[e]) || ((s = o[e] = []), n(e, !0)),
                        a ? s.unshift(t) : s.push(t);
                  return r;
                },
                s = function(e, t) {
                  var i, a, u, s, c;
                  if (e)
                    for (i = (s = e.toLowerCase().split(" ")).length; i--; ) {
                      if (((e = s[i]), (a = o[e]), !e)) {
                        for (u in o) n(u, !1), delete o[u];
                        return r;
                      }
                      if (a) {
                        if (t)
                          for (c = a.length; c--; )
                            a[c].func === t &&
                              ((a = a.slice(0, c).concat(a.slice(c + 1))),
                              (o[e] = a));
                        else a.length = 0;
                        a.length || (n(e, !1), delete o[e]);
                      }
                    }
                  else {
                    for (e in o) n(e, !1);
                    o = {};
                  }
                  return r;
                };
              (r.fire = function(n, r) {
                var u, c, l, f;
                if (
                  ((n = n.toLowerCase()),
                  ((r = r || {}).type = n),
                  r.target || (r.target = t),
                  r.preventDefault ||
                    ((r.preventDefault = function() {
                      r.isDefaultPrevented = a;
                    }),
                    (r.stopPropagation = function() {
                      r.isPropagationStopped = a;
                    }),
                    (r.stopImmediatePropagation = function() {
                      r.isImmediatePropagationStopped = a;
                    }),
                    (r.isDefaultPrevented = i),
                    (r.isPropagationStopped = i),
                    (r.isImmediatePropagationStopped = i)),
                  e.beforeFire && e.beforeFire(r),
                  (u = o[n]))
                )
                  for (c = 0, l = u.length; c < l; c++) {
                    if (
                      ((f = u[c]).once && s(n, f.func),
                      r.isImmediatePropagationStopped())
                    )
                      return r.stopPropagation(), r;
                    if (!1 === f.func.call(t, r)) return r.preventDefault(), r;
                  }
                return r;
              }),
                (r.on = u),
                (r.off = s),
                (r.once = function(e, t, n) {
                  return u(e, t, n, { once: !0 });
                }),
                (r.has = function(e) {
                  return (e = e.toLowerCase()), !(!o[e] || 0 === o[e].length);
                });
            };
          ig.isNative = function(e) {
            return !!og[e.toLowerCase()];
          };
          var ag,
            ug = function(e) {
              return (
                e._eventDispatcher ||
                  (e._eventDispatcher = new ig({
                    scope: e,
                    toggleEvent: function(t, n) {
                      ig.isNative(t) &&
                        e.toggleNativeEvent &&
                        e.toggleNativeEvent(t, n);
                    }
                  })),
                e._eventDispatcher
              );
            },
            sg = {
              fire: function(e, t, n) {
                if (this.removed && "remove" !== e && "detach" !== e) return t;
                if (((t = ug(this).fire(e, t, n)), !1 !== n && this.parent))
                  for (var r = this.parent(); r && !t.isPropagationStopped(); )
                    r.fire(e, t, !1), (r = r.parent());
                return t;
              },
              on: function(e, t, n) {
                return ug(this).on(e, t, n);
              },
              off: function(e, t) {
                return ug(this).off(e, t);
              },
              once: function(e, t) {
                return ug(this).once(e, t);
              },
              hasEventListeners: function(e) {
                return ug(this).has(e);
              }
            },
            cg = function(e, t) {
              return e.fire("PreProcess", t);
            },
            lg = function(e, t) {
              return e.fire("PostProcess", t);
            },
            fg = function(e) {
              return e.fire("remove");
            },
            dg = function(e) {
              return e.fire("detach");
            },
            mg = function(e, t) {
              return e.fire("SwitchMode", { mode: t });
            },
            hg = function(e, t, n, r) {
              e.fire("ObjectResizeStart", { target: t, width: n, height: r });
            },
            gg = function(e, t, n, r) {
              e.fire("ObjectResized", { target: t, width: n, height: r });
            },
            pg = function(e, t, n) {
              try {
                e.getDoc().execCommand(t, !1, n);
              } catch (e) {}
            },
            vg = function(e, t, n) {
              var r, o;
              Ii(e, t) && !1 === n
                ? ((o = t),
                  Di((r = e)) ? r.dom().classList.remove(o) : Ai(r, o),
                  Bi(r))
                : n && Pi(e, t);
            },
            bg = function(e, t) {
              vg(Xn.fromDom(e.getBody()), "mce-content-readonly", t),
                t
                  ? (e.selection.controlSelection.hideResizeRect(),
                    (e.readonly = !0),
                    (e.getBody().contentEditable = "false"))
                  : ((e.readonly = !1),
                    (e.getBody().contentEditable = "true"),
                    pg(e, "StyleWithCSS", !1),
                    pg(e, "enableInlineTableEditing", !1),
                    pg(e, "enableObjectResizing", !1),
                    e.focus(),
                    e.nodeChanged());
            },
            yg = function(e) {
              return e.readonly ? "readonly" : "design";
            },
            wg = fi.DOM,
            xg = function(e, t) {
              return "selectionchange" === t
                ? e.getDoc()
                : !e.inline &&
                  /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)
                ? e.getDoc().documentElement
                : e.settings.event_root
                ? (e.eventRoot ||
                    (e.eventRoot = wg.select(e.settings.event_root)[0]),
                  e.eventRoot)
                : e.getBody();
            },
            Cg = function(e, t, n) {
              !(function(e) {
                return !e.hidden && !e.readonly;
              })(e)
                ? (function(e) {
                    return !0 === e.readonly;
                  })(e) && n.preventDefault()
                : e.fire(t, n);
            },
            Sg = function(e, t) {
              var n, r;
              if (
                (e.delegates || (e.delegates = {}),
                !e.delegates[t] && !e.removed)
              )
                if (((n = xg(e, t)), e.settings.event_root)) {
                  if (
                    (ag ||
                      ((ag = {}),
                      e.editorManager.on("removeEditor", function() {
                        var t;
                        if (!e.editorManager.activeEditor && ag) {
                          for (t in ag) e.dom.unbind(xg(e, t));
                          ag = null;
                        }
                      })),
                    ag[t])
                  )
                    return;
                  (r = function(n) {
                    for (
                      var r = n.target, o = e.editorManager.get(), i = o.length;
                      i--;

                    ) {
                      var a = o[i].getBody();
                      (a === r || wg.isChildOf(r, a)) && Cg(o[i], t, n);
                    }
                  }),
                    (ag[t] = r),
                    wg.bind(n, t, r);
                } else
                  (r = function(n) {
                    Cg(e, t, n);
                  }),
                    wg.bind(n, t, r),
                    (e.delegates[t] = r);
            },
            Eg = {
              bindPendingEventDelegates: function() {
                var e = this;
                Kt.each(e._pendingNativeEvents, function(t) {
                  Sg(e, t);
                });
              },
              toggleNativeEvent: function(e, t) {
                "focus" !== e &&
                  "blur" !== e &&
                  (t
                    ? this.initialized
                      ? Sg(this, e)
                      : this._pendingNativeEvents
                      ? this._pendingNativeEvents.push(e)
                      : (this._pendingNativeEvents = [e])
                    : this.initialized &&
                      (this.dom.unbind(xg(this, e), e, this.delegates[e]),
                      delete this.delegates[e]));
              },
              unbindAllNativeEvents: function() {
                var e,
                  t = this.getBody(),
                  n = this.dom;
                if (this.delegates) {
                  for (e in this.delegates)
                    this.dom.unbind(xg(this, e), e, this.delegates[e]);
                  delete this.delegates;
                }
                !this.inline &&
                  t &&
                  n &&
                  ((t.onload = null),
                  n.unbind(this.getWin()),
                  n.unbind(this.getDoc())),
                  n && (n.unbind(t), n.unbind(this.getContainer()));
              }
            },
            Tg = (Eg = Kt.extend({}, sg, Eg)),
            Ng = br("sections", "settings"),
            _g = Kn.detect().deviceType.isTouch(),
            kg = ["lists", "autolink", "autosave"],
            Rg = { theme: "mobile" },
            Dg = function(e) {
              var t = O(e) ? e.join(" ") : e,
                n = U(R(t) ? t.split(" ") : [], Hn);
              return q(n, function(e) {
                return e.length > 0;
              });
            },
            Og = function(e, t) {
              var n = ur(t, function(t, n) {
                return z(e, n);
              });
              return Ng(n.t, n.f);
            },
            Ag = function(e, t) {
              return e.sections().hasOwnProperty(t);
            },
            Pg = function(e, t) {
              var n = t.external_plugins ? t.external_plugins : {};
              return e && e.external_plugins
                ? Kt.extend({}, e.external_plugins, n)
                : n;
            },
            Bg = function(e, t, n, r) {
              var o = Dg(n.forced_plugins),
                i = Dg(r.plugins),
                a = (function(e, t) {
                  return [].concat(Dg(e)).concat(Dg(t));
                })(
                  o,
                  e && Ag(t, "mobile")
                    ? (function(e) {
                        return q(e, s(z, kg));
                      })(i)
                    : i
                );
              return Kt.extend(r, { plugins: a.join(" ") });
            },
            Ig = function(e, t, n, r) {
              var o = Og(["mobile"], r),
                i = Kt.extend(
                  t,
                  n,
                  o.settings(),
                  (function(e, t) {
                    var n = t.settings().inline;
                    return e && Ag(t, "mobile") && !n;
                  })(e, o)
                    ? (function(e, t, n) {
                        var r = e.sections(),
                          o = r.hasOwnProperty(t) ? r[t] : {};
                        return Kt.extend({}, n, o);
                      })(o, "mobile", Rg)
                    : {},
                  {
                    validate: !0,
                    content_editable: o.settings().inline,
                    external_plugins: Pg(n, o.settings())
                  }
                );
              return Bg(e, o, n, i);
            },
            Mg = function(e, t, n) {
              return _.from(t.settings[n]).filter(e);
            },
            Lg = function(e, t, n, r) {
              var o,
                i = t in e.settings ? e.settings[t] : n;
              return "hash" === r
                ? (function(e) {
                    var t = {};
                    return (
                      "string" == typeof e
                        ? j(
                            e.indexOf("=") > 0
                              ? e.split(/[;,](?![^=;,]*(?:[;,]|$))/)
                              : e.split(","),
                            function(e) {
                              var n = e.split("=");
                              n.length > 1
                                ? (t[Kt.trim(n[0])] = Kt.trim(n[1]))
                                : (t[Kt.trim(n[0])] = Kt.trim(n));
                            }
                          )
                        : (t = e),
                      t
                    );
                  })(i)
                : "string" === r
                ? Mg(R, e, t).getOr(n)
                : "number" === r
                ? Mg(I, e, t).getOr(n)
                : "boolean" === r
                ? Mg(P, e, t).getOr(n)
                : "object" === r
                ? Mg(D, e, t).getOr(n)
                : "array" === r
                ? Mg(O, e, t).getOr(n)
                : "string[]" === r
                ? Mg(
                    ((o = R),
                    function(e) {
                      return O(e) && G(e, o);
                    }),
                    e,
                    t
                  ).getOr(n)
                : "function" === r
                ? Mg(B, e, t).getOr(n)
                : i;
            },
            Fg = Kt.each,
            Hg = Kt.explode,
            zg = {
              f1: 112,
              f2: 113,
              f3: 114,
              f4: 115,
              f5: 116,
              f6: 117,
              f7: 118,
              f8: 119,
              f9: 120,
              f10: 121,
              f11: 122,
              f12: 123
            },
            Wg = Kt.makeMap("alt,ctrl,shift,meta,access");
          function Ug(e) {
            var t = {},
              n = [],
              r = function(e) {
                var t,
                  n,
                  r = {};
                for (n in (Fg(Hg(e, "+"), function(e) {
                  e in Wg
                    ? (r[e] = !0)
                    : /^[0-9]{2,}$/.test(e)
                    ? (r.keyCode = parseInt(e, 10))
                    : ((r.charCode = e.charCodeAt(0)),
                      (r.keyCode = zg[e] || e.toUpperCase().charCodeAt(0)));
                }),
                (t = [r.keyCode]),
                Wg))
                  r[n] ? t.push(n) : (r[n] = !1);
                return (
                  (r.id = t.join(",")),
                  r.access &&
                    ((r.alt = !0), fe.mac ? (r.ctrl = !0) : (r.shift = !0)),
                  r.meta &&
                    (fe.mac ? (r.meta = !0) : ((r.ctrl = !0), (r.meta = !1))),
                  r
                );
              },
              o = function(t, n, o, i) {
                var a;
                return (
                  ((a = Kt.map(Hg(t, ">"), r))[a.length - 1] = Kt.extend(
                    a[a.length - 1],
                    { func: o, scope: i || e }
                  )),
                  Kt.extend(a[0], {
                    desc: e.translate(n),
                    subpatterns: a.slice(1)
                  })
                );
              },
              i = function(e, t) {
                return (
                  !!t &&
                  t.ctrl === e.ctrlKey &&
                  t.meta === e.metaKey &&
                  t.alt === e.altKey &&
                  t.shift === e.shiftKey &&
                  !!(
                    e.keyCode === t.keyCode ||
                    (e.charCode && e.charCode === t.charCode)
                  ) &&
                  (e.preventDefault(), !0)
                );
              },
              a = function(e) {
                return e.func ? e.func.call(e.scope) : null;
              };
            e.on("keyup keypress keydown", function(e) {
              (!(function(e) {
                return e.altKey || e.ctrlKey || e.metaKey;
              })(e) &&
                !(function(e) {
                  return (
                    "keydown" === e.type && e.keyCode >= 112 && e.keyCode <= 123
                  );
                })(e)) ||
                e.isDefaultPrevented() ||
                (Fg(t, function(t) {
                  if (i(e, t))
                    return (
                      (n = t.subpatterns.slice(0)),
                      "keydown" === e.type && a(t),
                      !0
                    );
                }),
                i(e, n[0]) &&
                  (1 === n.length && "keydown" === e.type && a(n[0]),
                  n.shift()));
            }),
              (this.add = function(n, r, i, a) {
                var u;
                return (
                  (u = i),
                  "string" == typeof i
                    ? (i = function() {
                        e.execCommand(u, !1, null);
                      })
                    : Kt.isArray(u) &&
                      (i = function() {
                        e.execCommand(u[0], u[1], u[2]);
                      }),
                  Fg(Hg(Kt.trim(n.toLowerCase())), function(e) {
                    var n = o(e, r, i, a);
                    t[n.id] = n;
                  }),
                  !0
                );
              }),
              (this.remove = function(e) {
                var n = o(e);
                return !!t[n.id] && (delete t[n.id], !0);
              });
          }
          var jg = function(e) {
              var t = Rr(e).dom();
              return e.dom() === t.activeElement;
            },
            Vg = function(e) {
              return (function(e) {
                var t = void 0 !== e ? e.dom() : r.document;
                return _.from(t.activeElement).map(Xn.fromDom);
              })(Rr(e)).filter(function(t) {
                return e.dom().contains(t.dom());
              });
            },
            qg = function(e, t) {
              return (function(e) {
                return e.collapsed
                  ? _.from(Ha(e.startContainer, e.startOffset)).map(Xn.fromDom)
                  : _.none();
              })(t).bind(function(t) {
                return po(t)
                  ? _.some(t)
                  : !1 === kr(e, t)
                  ? _.some(e)
                  : _.none();
              });
            },
            $g = function(e, t) {
              qg(Xn.fromDom(e.getBody()), t)
                .bind(function(e) {
                  return js.firstPositionIn(e.dom());
                })
                .fold(
                  function() {
                    e.selection.normalize();
                  },
                  function(t) {
                    return e.selection.setRng(t.toRange());
                  }
                );
            },
            Kg = function(e) {
              if (e.setActive)
                try {
                  e.setActive();
                } catch (t) {
                  e.focus();
                }
              else e.focus();
            },
            Yg = function(e) {
              var t,
                n = e.getBody();
              return n && ((t = Xn.fromDom(n)), jg(t) || Vg(t).isSome());
            },
            Xg = function(e) {
              return e.inline
                ? Yg(e)
                : (function(e) {
                    return e.iframeElement && jg(Xn.fromDom(e.iframeElement));
                  })(e);
            },
            Gg = function(e) {
              return e.editorManager.setActive(e);
            },
            Jg = function(e, t) {
              e.removed ||
                (t
                  ? Gg(e)
                  : (function(e) {
                      var t = e.selection,
                        n = e.settings.content_editable,
                        r = e.getBody(),
                        o = t.getRng();
                      e.quirks.refreshContentEditable();
                      var i = (function(e, t) {
                        return e.dom.getParent(t, function(t) {
                          return "true" === e.dom.getContentEditable(t);
                        });
                      })(e, t.getNode());
                      if (e.$.contains(r, i))
                        return Kg(i), $g(e, o), void Gg(e);
                      void 0 !== e.bookmark &&
                        !1 === Xg(e) &&
                        Xh(e).each(function(t) {
                          e.selection.setRng(t), (o = t);
                        }),
                        n || (fe.opera || Kg(r), e.getWin().focus()),
                        (fe.gecko || n) && (Kg(r), $g(e, o)),
                        Gg(e);
                    })(e));
            },
            Qg = Xg,
            Zg = function(e, t) {
              return t.dom()[e];
            },
            ep = function(e, t) {
              return parseInt(pr(t, e), 10);
            },
            tp = s(Zg, "clientWidth"),
            np = s(Zg, "clientHeight"),
            rp = s(ep, "margin-top"),
            op = s(ep, "margin-left"),
            ip = function(e, t, n) {
              var r,
                o = Xn.fromDom(e.getBody()),
                i = e.inline
                  ? o
                  : ((r = o),
                    Xn.fromDom(r.dom().ownerDocument.documentElement)),
                a = (function(e, t, n, r) {
                  var o = (function(e) {
                    return e.dom().getBoundingClientRect();
                  })(t);
                  return {
                    x: n - (e ? o.left + t.dom().clientLeft + op(t) : 0),
                    y: r - (e ? o.top + t.dom().clientTop + rp(t) : 0)
                  };
                })(e.inline, i, t, n);
              return (function(e, t, n) {
                var r = tp(e),
                  o = np(e);
                return t >= 0 && n >= 0 && t <= r && n <= o;
              })(i, a.x, a.y);
            },
            ap = function(e) {
              return (function(e) {
                return _.from(e).map(Xn.fromDom);
              })(e.inline ? e.getBody() : e.getContentAreaContainer())
                .map(function(e) {
                  return kr(Rr(e), e);
                })
                .getOr(!1);
            };
          function up(e) {
            var t = [],
              n = function() {
                var t,
                  n = e.theme;
                return n && n.getNotificationManagerImpl
                  ? n.getNotificationManagerImpl()
                  : {
                      open: (t = function() {
                        throw new Error(
                          "Theme did not provide a NotificationManager implementation."
                        );
                      }),
                      close: t,
                      reposition: t,
                      getArgs: t
                    };
              },
              r = function() {
                t.length > 0 && n().reposition(t);
              },
              o = function(e) {
                Y(t, function(t) {
                  return t === e;
                }).each(function(e) {
                  t.splice(e, 1);
                });
              },
              i = function(i) {
                if (!e.removed && ap(e))
                  return K(t, function(e) {
                    return (
                      (t = n().getArgs(e)),
                      (r = i),
                      !(
                        t.type !== r.type ||
                        t.text !== r.text ||
                        t.progressBar ||
                        t.timeout ||
                        r.progressBar ||
                        r.timeout
                      )
                    );
                    var t, r;
                  }).getOrThunk(function() {
                    e.editorManager.setActive(e);
                    var a = n().open(i, function() {
                      o(a), r();
                    });
                    return (
                      (function(e) {
                        t.push(e);
                      })(a),
                      r(),
                      a
                    );
                  });
              };
            return (
              (function(e) {
                e.on("SkinLoaded", function() {
                  var t = e.settings.service_message;
                  t && i({ text: t, type: "warning", timeout: 0, icon: "" });
                }),
                  e.on("ResizeEditor ResizeWindow", function() {
                    pe.requestAnimationFrame(r);
                  }),
                  e.on("remove", function() {
                    j(t.slice(), function(e) {
                      n().close(e);
                    });
                  });
              })(e),
              {
                open: i,
                close: function() {
                  _.from(t[0]).each(function(e) {
                    n().close(e), o(e), r();
                  });
                },
                getNotifications: function() {
                  return t;
                }
              }
            );
          }
          function sp(e) {
            var t = [],
              n = function() {
                var t,
                  n = e.theme;
                return n && n.getWindowManagerImpl
                  ? n.getWindowManagerImpl()
                  : {
                      open: (t = function() {
                        throw new Error(
                          "Theme did not provide a WindowManager implementation."
                        );
                      }),
                      alert: t,
                      confirm: t,
                      close: t,
                      getParams: t,
                      setParams: t
                    };
              },
              r = function(e, t) {
                return function() {
                  return t ? t.apply(e, arguments) : void 0;
                };
              },
              o = function(n) {
                t.push(n),
                  (function(t) {
                    e.fire("OpenWindow", { win: t });
                  })(n);
              },
              i = function(n) {
                Y(t, function(e) {
                  return e === n;
                }).each(function(r) {
                  t.splice(r, 1),
                    (function(t) {
                      e.fire("CloseWindow", { win: t });
                    })(n),
                    0 === t.length && e.focus();
                });
              },
              a = function() {
                return _.from(t[t.length - 1]);
              };
            return (
              e.on("remove", function() {
                j(t.slice(0), function(e) {
                  n().close(e);
                });
              }),
              {
                windows: t,
                open: function(t, r) {
                  e.editorManager.setActive(e), Kh(e);
                  var a = n().open(t, r, i);
                  return o(a), a;
                },
                alert: function(e, t, a) {
                  var u = n().alert(e, r(a || this, t), i);
                  o(u);
                },
                confirm: function(e, t, a) {
                  var u = n().confirm(e, r(a || this, t), i);
                  o(u);
                },
                close: function() {
                  a().each(function(e) {
                    n().close(e), i(e);
                  });
                },
                getParams: function() {
                  return a()
                    .map(n().getParams)
                    .getOr(null);
                },
                setParams: function(e) {
                  a().each(function(t) {
                    n().setParams(t, e);
                  });
                },
                getWindows: function() {
                  return t;
                }
              }
            );
          }
          var cp = {},
            lp = "en",
            fp = {
              setCode: function(e) {
                e &&
                  ((lp = e),
                  (this.rtl = !!this.data[e] && "rtl" === this.data[e]._dir));
              },
              getCode: function() {
                return lp;
              },
              rtl: !1,
              add: function(e, t) {
                var n = cp[e];
                for (var r in (n || (cp[e] = n = {}), t)) n[r] = t[r];
                this.setCode(e);
              },
              translate: function(e) {
                var t = cp[lp] || {},
                  n = function(e) {
                    return Kt.is(e, "function")
                      ? Object.prototype.toString.call(e)
                      : r(e)
                      ? ""
                      : "" + e;
                  },
                  r = function(e) {
                    return "" === e || null === e || Kt.is(e, "undefined");
                  },
                  o = function(e) {
                    return (e = n(e)), Kt.hasOwn(t, e) ? n(t[e]) : e;
                  };
                if (r(e)) return "";
                if (Kt.is(e, "object") && Kt.hasOwn(e, "raw")) return n(e.raw);
                if (Kt.is(e, "array")) {
                  var i = e.slice(1);
                  e = o(e[0]).replace(/\{([0-9]+)\}/g, function(e, t) {
                    return Kt.hasOwn(i, t) ? n(i[t]) : e;
                  });
                }
                return o(e).replace(/{context:\w+}$/, "");
              },
              data: cp
            },
            dp = bi.PluginManager,
            mp = function(e, t) {
              var n = (function(e, t) {
                for (var n in dp.urls)
                  if (dp.urls[n] + "/plugin" + t + ".js" === e) return n;
                return null;
              })(t, e.suffix);
              return n
                ? fp.translate([
                    "Failed to load plugin: {0} from url {1}",
                    n,
                    t
                  ])
                : fp.translate(["Failed to load plugin url: {0}", t]);
            },
            hp = function(e, t) {
              e.notificationManager.open({ type: "error", text: t });
            },
            gp = function(e, t) {
              e._skinLoaded
                ? hp(e, t)
                : e.on("SkinLoaded", function() {
                    hp(e, t);
                  });
            },
            pp = function(e) {
              for (var t = [], n = 1; n < arguments.length; n++)
                t[n - 1] = arguments[n];
              var o = r.window.console;
              o &&
                (o.error
                  ? o.error.apply(o, arguments)
                  : o.log.apply(o, arguments));
            },
            vp = {
              pluginLoadError: function(e, t) {
                gp(e, mp(e, t));
              },
              pluginInitError: function(e, t, n) {
                var r = fp.translate(["Failed to initialize plugin: {0}", t]);
                pp(r, n), gp(e, r);
              },
              uploadError: function(e, t) {
                gp(e, fp.translate(["Failed to upload image: {0}", t]));
              },
              displayError: gp,
              initError: pp
            },
            bp = bi.PluginManager,
            yp = bi.ThemeManager;
          function wp() {
            return new (re("XMLHttpRequest"))();
          }
          function xp(e, t) {
            var n = {},
              o = function(e, n, o, i) {
                var a, u;
                (a = wp()).open("POST", t.url),
                  (a.withCredentials = t.credentials),
                  (a.upload.onprogress = function(e) {
                    i((e.loaded / e.total) * 100);
                  }),
                  (a.onerror = function() {
                    o(
                      "Image upload failed due to a XHR Transport error. Code: " +
                        a.status
                    );
                  }),
                  (a.onload = function() {
                    var e, r, i;
                    a.status < 200 || a.status >= 300
                      ? o("HTTP Error: " + a.status)
                      : (e = JSON.parse(a.responseText)) &&
                        "string" == typeof e.location
                      ? n(
                          ((r = t.basePath),
                          (i = e.location),
                          r
                            ? r.replace(/\/$/, "") + "/" + i.replace(/^\//, "")
                            : i)
                        )
                      : o("Invalid JSON: " + a.responseText);
                  }),
                  (u = new r.FormData()).append("file", e.blob(), e.filename()),
                  a.send(u);
              },
              i = function(e, t) {
                return { url: t, blobInfo: e, status: !0 };
              },
              a = function(e, t) {
                return { url: "", blobInfo: e, status: !1, error: t };
              },
              u = function(e, t) {
                Kt.each(n[e], function(e) {
                  e(t);
                }),
                  delete n[e];
              },
              s = function(r, o) {
                return (
                  (r = Kt.grep(r, function(t) {
                    return !e.isUploaded(t.blobUri());
                  })),
                  de.all(
                    Kt.map(r, function(r) {
                      return e.isPending(r.blobUri())
                        ? (function(e) {
                            var t = e.blobUri();
                            return new de(function(e) {
                              (n[t] = n[t] || []), n[t].push(e);
                            });
                          })(r)
                        : (function(t, n, r) {
                            return (
                              e.markPending(t.blobUri()),
                              new de(function(o) {
                                var s;
                                try {
                                  var c = function() {
                                    s && s.close();
                                  };
                                  n(
                                    t,
                                    function(n) {
                                      c(),
                                        e.markUploaded(t.blobUri(), n),
                                        u(t.blobUri(), i(t, n)),
                                        o(i(t, n));
                                    },
                                    function(n) {
                                      c(),
                                        e.removeFailed(t.blobUri()),
                                        u(t.blobUri(), a(t, n)),
                                        o(a(t, n));
                                    },
                                    function(e) {
                                      e < 0 ||
                                        e > 100 ||
                                        (s || (s = r()),
                                        s.progressBar.value(e));
                                    }
                                  );
                                } catch (e) {
                                  o(a(t, e.message));
                                }
                              })
                            );
                          })(r, t.handler, o);
                    })
                  )
                );
              };
            return (
              !1 === B(t.handler) && (t.handler = o),
              {
                upload: function(e, n) {
                  return t.url || t.handler !== o
                    ? s(e, n)
                    : new de(function(e) {
                        e([]);
                      });
                }
              }
            );
          }
          var Cp = function(e) {
              return re("atob")(e);
            },
            Sp = function(e) {
              var t,
                n,
                r = decodeURIComponent(e).split(",");
              return (
                (n = /data:([^;]+)/.exec(r[0])) && (t = n[1]),
                { type: t, data: r[1] }
              );
            },
            Ep = function(e) {
              return new de(function(t) {
                var n,
                  o,
                  i,
                  a = Sp(e);
                try {
                  n = Cp(a.data);
                } catch (e) {
                  return void t(new r.Blob([]));
                }
                for (
                  o = (function(e) {
                    return new (re("Uint8Array"))(e);
                  })(n.length),
                    i = 0;
                  i < o.length;
                  i++
                )
                  o[i] = n.charCodeAt(i);
                t(new r.Blob([o], { type: a.type }));
              });
            },
            Tp = function(e) {
              return 0 === e.indexOf("blob:")
                ? (function(e) {
                    return new de(function(t, n) {
                      var r = function() {
                        n(
                          "Cannot convert " +
                            e +
                            " to Blob. Resource might not exist or is inaccessible."
                        );
                      };
                      try {
                        var o = wp();
                        o.open("GET", e, !0),
                          (o.responseType = "blob"),
                          (o.onload = function() {
                            200 === this.status ? t(this.response) : r();
                          }),
                          (o.onerror = r),
                          o.send();
                      } catch (e) {
                        r();
                      }
                    });
                  })(e)
                : 0 === e.indexOf("data:")
                ? Ep(e)
                : null;
            },
            Np = function(e) {
              return new de(function(t) {
                var n = new (re("FileReader"))();
                (n.onloadend = function() {
                  t(n.result);
                }),
                  n.readAsDataURL(e);
              });
            },
            _p = Sp,
            kp = 0,
            Rp = function(e) {
              return (e || "blobid") + kp++;
            };
          function Dp(e, t) {
            var n = {};
            return {
              findAll: function(r, o) {
                var i;
                o || (o = a(!0)),
                  (i = q(
                    (function(e) {
                      return e ? ee(e.getElementsByTagName("img")) : [];
                    })(r),
                    function(t) {
                      var n = t.src;
                      return (
                        !!fe.fileApi &&
                        !t.hasAttribute("data-mce-bogus") &&
                        !t.hasAttribute("data-mce-placeholder") &&
                        !(!n || n === fe.transparentSrc) &&
                        (0 === n.indexOf("blob:")
                          ? !e.isUploaded(n) && o(t)
                          : 0 === n.indexOf("data:") && o(t))
                      );
                    }
                  ));
                var u = U(i, function(e) {
                  if (n[e.src])
                    return new de(function(t) {
                      n[e.src].then(function(n) {
                        if ("string" == typeof n) return n;
                        t({ image: e, blobInfo: n.blobInfo });
                      });
                    });
                  var r = new de(function(n, r) {
                    !(function(e, t, n, r) {
                      var o, i;
                      0 !== t.src.indexOf("blob:")
                        ? ((o = _p(t.src).data),
                          (i = e.findFirst(function(e) {
                            return e.base64() === o;
                          }))
                            ? n({ image: t, blobInfo: i })
                            : Tp(t.src).then(
                                function(r) {
                                  (i = e.create(Rp(), r, o)),
                                    e.add(i),
                                    n({ image: t, blobInfo: i });
                                },
                                function(e) {
                                  r(e);
                                }
                              ))
                        : (i = e.getByUri(t.src))
                        ? n({ image: t, blobInfo: i })
                        : Tp(t.src).then(
                            function(r) {
                              Np(r).then(function(a) {
                                (o = _p(a).data),
                                  (i = e.create(Rp(), r, o)),
                                  e.add(i),
                                  n({ image: t, blobInfo: i });
                              });
                            },
                            function(e) {
                              r(e);
                            }
                          );
                    })(t, e, n, r);
                  })
                    .then(function(e) {
                      return delete n[e.image.src], e;
                    })
                    .catch(function(t) {
                      return delete n[e.src], t;
                    });
                  return (n[e.src] = r), r;
                });
                return de.all(u);
              }
            };
          }
          var Op = 0,
            Ap = function(e) {
              return (
                e +
                Op++ +
                ((t = function() {
                  return Math.round(4294967295 * Math.random()).toString(36);
                }),
                "s" + new Date().getTime().toString(36) + t() + t() + t())
              );
              var t;
            };
          function Pp(e) {
            var t,
              n,
              r,
              o,
              i,
              u = (function() {
                var e = [],
                  t = function(e) {
                    var t, n, r;
                    if (!e.blob || !e.base64)
                      throw new Error(
                        "blob and base64 representations of the image are required for BlobInfo to be created"
                      );
                    return (
                      (t = e.id || Ap("blobid")),
                      (n = e.name || t),
                      {
                        id: a(t),
                        name: a(n),
                        filename: a(
                          n +
                            "." +
                            ((r = e.blob.type),
                            {
                              "image/jpeg": "jpg",
                              "image/jpg": "jpg",
                              "image/gif": "gif",
                              "image/png": "png"
                            }[r.toLowerCase()] || "dat")
                        ),
                        blob: a(e.blob),
                        base64: a(e.base64),
                        blobUri: a(e.blobUri || ie(e.blob)),
                        uri: a(e.uri)
                      }
                    );
                  },
                  n = function(e) {
                    return r(function(t) {
                      return t.id() === e;
                    });
                  },
                  r = function(t) {
                    return q(e, t)[0];
                  };
                return {
                  create: function(e, n, r, o) {
                    if (R(e)) return t({ id: e, name: o, blob: n, base64: r });
                    if (D(e)) return t(e);
                    throw new Error("Unknown input type");
                  },
                  add: function(t) {
                    n(t.id()) || e.push(t);
                  },
                  get: n,
                  getByUri: function(e) {
                    return r(function(t) {
                      return t.blobUri() === e;
                    });
                  },
                  findFirst: r,
                  removeByUri: function(t) {
                    e = q(e, function(e) {
                      return e.blobUri() !== t || (ae(e.blobUri()), !1);
                    });
                  },
                  destroy: function() {
                    j(e, function(e) {
                      ae(e.blobUri());
                    }),
                      (e = []);
                  }
                };
              })(),
              s =
                ((r = {}),
                (o = function(e, t) {
                  return { status: e, resultUri: t };
                }),
                {
                  hasBlobUri: (i = function(e) {
                    return e in r;
                  }),
                  getResultUri: function(e) {
                    var t = r[e];
                    return t ? t.resultUri : null;
                  },
                  isPending: function(e) {
                    return !!i(e) && 1 === r[e].status;
                  },
                  isUploaded: function(e) {
                    return !!i(e) && 2 === r[e].status;
                  },
                  markPending: function(e) {
                    r[e] = o(1, null);
                  },
                  markUploaded: function(e, t) {
                    r[e] = o(2, t);
                  },
                  removeFailed: function(e) {
                    delete r[e];
                  },
                  destroy: function() {
                    r = {};
                  }
                }),
              c = [],
              l = function(t) {
                return function(n) {
                  return e.selection ? t(n) : [];
                };
              },
              f = function(e, t, n) {
                var r = 0;
                do {
                  -1 !== (r = e.indexOf(t, r)) &&
                    ((e = e.substring(0, r) + n + e.substr(r + t.length)),
                    (r += n.length - t.length + 1));
                } while (-1 !== r);
                return e;
              },
              d = function(e, t, n) {
                return (
                  (e = f(e, 'src="' + t + '"', 'src="' + n + '"')),
                  (e = f(
                    e,
                    'data-mce-src="' + t + '"',
                    'data-mce-src="' + n + '"'
                  ))
                );
              },
              m = function(t, n) {
                j(e.undoManager.data, function(e) {
                  "fragmented" === e.type
                    ? (e.fragments = U(e.fragments, function(e) {
                        return d(e, t, n);
                      }))
                    : (e.content = d(e.content, t, n));
                });
              },
              h = function() {
                return e.notificationManager.open({
                  text: e.translate("Image uploading..."),
                  type: "info",
                  timeout: -1,
                  progressBar: !0
                });
              },
              g = function(n) {
                return (
                  t ||
                    (t = xp(s, {
                      url: vl(e),
                      basePath: bl(e),
                      credentials: yl(e),
                      handler: wl(e)
                    })),
                  b().then(
                    l(function(r) {
                      var o;
                      return (
                        (o = U(r, function(e) {
                          return e.blobInfo;
                        })),
                        t.upload(o, h).then(
                          l(function(t) {
                            var o = U(t, function(t, n) {
                              var o = r[n].image;
                              return (
                                t.status && pl(e)
                                  ? (function(t, n) {
                                      u.removeByUri(t.src),
                                        m(t.src, n),
                                        e
                                          .$(t)
                                          .attr({
                                            src: gl(e)
                                              ? n + "?" + new Date().getTime()
                                              : n,
                                            "data-mce-src": e.convertURL(
                                              n,
                                              "src"
                                            )
                                          });
                                    })(o, t.url)
                                  : t.error && vp.uploadError(e, t.error),
                                { element: o, status: t.status }
                              );
                            });
                            return n && n(o), o;
                          })
                        )
                      );
                    })
                  )
                );
              },
              p = function(t) {
                if (hl(e)) return g(t);
              },
              v = function(t) {
                return (
                  !1 !==
                    G(c, function(e) {
                      return e(t);
                    }) &&
                  (0 !== t.getAttribute("src").indexOf("data:") || ml(e)(t))
                );
              },
              b = function() {
                return (
                  n || (n = Dp(s, u)),
                  n.findAll(e.getBody(), v).then(
                    l(function(t) {
                      return (
                        (t = q(t, function(t) {
                          return (
                            "string" != typeof t || (vp.displayError(e, t), !1)
                          );
                        })),
                        j(t, function(e) {
                          m(e.image.src, e.blobInfo.blobUri()),
                            (e.image.src = e.blobInfo.blobUri()),
                            e.image.removeAttribute("data-mce-src");
                        }),
                        t
                      );
                    })
                  )
                );
              },
              y = function(t) {
                return t.replace(/src="(blob:[^"]+)"/g, function(t, n) {
                  var r = s.getResultUri(n);
                  if (r) return 'src="' + r + '"';
                  var o = u.getByUri(n);
                  return (
                    o ||
                      (o = $(
                        e.editorManager.get(),
                        function(e, t) {
                          return (
                            e ||
                            (t.editorUpload &&
                              t.editorUpload.blobCache.getByUri(n))
                          );
                        },
                        null
                      )),
                    o
                      ? 'src="data:' +
                        o.blob().type +
                        ";base64," +
                        o.base64() +
                        '"'
                      : t
                  );
                });
              };
            return (
              e.on("setContent", function() {
                hl(e) ? p() : b();
              }),
              e.on("RawSaveContent", function(e) {
                e.content = y(e.content);
              }),
              e.on("getContent", function(e) {
                e.source_view ||
                  "raw" === e.format ||
                  (e.content = y(e.content));
              }),
              e.on("PostRender", function() {
                e.parser.addNodeFilter("img", function(e) {
                  j(e, function(e) {
                    var t = e.attr("src");
                    if (!u.getByUri(t)) {
                      var n = s.getResultUri(t);
                      n && e.attr("src", n);
                    }
                  });
                });
              }),
              {
                blobCache: u,
                addFilter: function(e) {
                  c.push(e);
                },
                uploadImages: g,
                uploadImagesAuto: p,
                scanForImages: b,
                destroy: function() {
                  u.destroy(), s.destroy(), (n = t = null);
                }
              }
            );
          }
          var Bp = function(e, t) {
              return e.hasOwnProperty(t.nodeName);
            },
            Ip = function(e, t) {
              return (
                !!Do.isText(t) || (!!Do.isElement(t) && !Bp(e, t) && !Zs(t))
              );
            },
            Mp = function(e, t) {
              if (Do.isText(t)) {
                if (0 === t.nodeValue.length) return !0;
                if (
                  /^\s+$/.test(t.nodeValue) &&
                  (!t.nextSibling || Bp(e, t.nextSibling))
                )
                  return !0;
              }
              return !1;
            },
            Lp = function(e) {
              var t,
                n,
                r,
                o,
                i,
                a,
                u,
                s,
                c,
                l,
                f,
                d = e.settings,
                m = e.dom,
                h = e.selection,
                g = e.schema,
                p = g.getBlockElements(),
                v = h.getStart(),
                b = e.getBody();
              if (
                ((f = d.forced_root_block),
                v &&
                  Do.isElement(v) &&
                  f &&
                  ((l = b.nodeName.toLowerCase()),
                  g.isValidChild(l, f.toLowerCase()) &&
                    !(function(e, t, n) {
                      return W(jl(Xn.fromDom(n), Xn.fromDom(t)), function(t) {
                        return Bp(e, t.dom());
                      });
                    })(p, b, v)))
              ) {
                for (
                  n = (t = h.getRng()).startContainer,
                    r = t.startOffset,
                    o = t.endContainer,
                    i = t.endOffset,
                    c = Qg(e),
                    v = b.firstChild;
                  v;

                )
                  if (Ip(p, v)) {
                    if (Mp(p, v)) {
                      (u = v), (v = v.nextSibling), m.remove(u);
                      continue;
                    }
                    a ||
                      ((a = m.create(f, e.settings.forced_root_block_attrs)),
                      v.parentNode.insertBefore(a, v),
                      (s = !0)),
                      (u = v),
                      (v = v.nextSibling),
                      a.appendChild(u);
                  } else (a = null), (v = v.nextSibling);
                s &&
                  c &&
                  (t.setStart(n, r),
                  t.setEnd(o, i),
                  h.setRng(t),
                  e.nodeChanged());
              }
            },
            Fp = function(e) {
              e.settings.forced_root_block && e.on("NodeChange", s(Lp, e));
            },
            Hp = function(e) {
              return Fr(e).fold(a([e]), function(t) {
                return [e].concat(Hp(t));
              });
            },
            zp = function(e) {
              return Hr(e).fold(a([e]), function(t) {
                return "br" === Zn(t)
                  ? Ar(t)
                      .map(function(t) {
                        return [e].concat(zp(t));
                      })
                      .getOr([])
                  : [e].concat(zp(t));
              });
            },
            Wp = function(e, t) {
              return Ua(
                (function(e) {
                  var t = e.startContainer,
                    n = e.startOffset;
                  return Do.isText(t)
                    ? 0 === n
                      ? _.some(Xn.fromDom(t))
                      : _.none()
                    : _.from(t.childNodes[n]).map(Xn.fromDom);
                })(t),
                (function(e) {
                  var t = e.endContainer,
                    n = e.endOffset;
                  return Do.isText(t)
                    ? n === t.data.length
                      ? _.some(Xn.fromDom(t))
                      : _.none()
                    : _.from(t.childNodes[n - 1]).map(Xn.fromDom);
                })(t),
                function(t, n) {
                  var r = K(Hp(e), s(_r, t)),
                    o = K(zp(e), s(_r, n));
                  return r.isSome() && o.isSome();
                }
              ).getOr(!1);
            },
            Up = function(e, t, n, r) {
              var o = n,
                i = new no(n, o),
                a = e.schema.getNonEmptyElements();
              do {
                if (3 === n.nodeType && 0 !== Kt.trim(n.nodeValue).length)
                  return void (r
                    ? t.setStart(n, 0)
                    : t.setEnd(n, n.nodeValue.length));
                if (a[n.nodeName] && !/^(TD|TH)$/.test(n.nodeName))
                  return void (r
                    ? t.setStartBefore(n)
                    : "BR" === n.nodeName
                    ? t.setEndBefore(n)
                    : t.setEndAfter(n));
                if (fe.ie && fe.ie < 11 && e.isBlock(n) && e.isEmpty(n))
                  return void (r ? t.setStart(n, 0) : t.setEnd(n, 0));
              } while ((n = r ? i.next() : i.prev()));
              "BODY" === o.nodeName &&
                (r ? t.setStart(o, 0) : t.setEnd(o, o.childNodes.length));
            },
            jp = function(e) {
              var t = e.selection.getSel();
              return t && t.rangeCount > 0;
            };
          function Vp(e) {
            var t,
              n = [];
            "onselectionchange" in e.getDoc() ||
              e.on("NodeChange Click MouseUp KeyUp Focus", function(n) {
                var r, o;
                (o = {
                  startContainer: (r = e.selection.getRng()).startContainer,
                  startOffset: r.startOffset,
                  endContainer: r.endContainer,
                  endOffset: r.endOffset
                }),
                  ("nodechange" !== n.type && lh(o, t)) ||
                    e.fire("SelectionChange"),
                  (t = o);
              }),
              e.on("contextmenu", function() {
                e.fire("SelectionChange");
              }),
              e.on("SelectionChange", function() {
                var t = e.selection.getStart(!0);
                !t ||
                  (!fe.range && e.selection.isCollapsed()) ||
                  (jp(e) &&
                    !(function(t) {
                      var r, o;
                      if (
                        (o = e
                          .$(t)
                          .parentsUntil(e.getBody())
                          .add(t)).length === n.length
                      ) {
                        for (r = o.length; r >= 0 && o[r] === n[r]; r--);
                        if (-1 === r) return (n = o), !0;
                      }
                      return (n = o), !1;
                    })(t) &&
                    e.dom.isChildOf(t, e.getBody()) &&
                    e.nodeChanged({ selectionChange: !0 }));
              }),
              e.on("MouseUp", function(t) {
                !t.isDefaultPrevented() &&
                  jp(e) &&
                  ("IMG" === e.selection.getNode().nodeName
                    ? pe.setEditorTimeout(e, function() {
                        e.nodeChanged();
                      })
                    : e.nodeChanged());
              }),
              (this.nodeChanged = function(t) {
                var n,
                  r,
                  o,
                  i = e.selection;
                e.initialized &&
                  i &&
                  !e.settings.disable_nodechange &&
                  !e.readonly &&
                  ((o = e.getBody()),
                  ((n = i.getStart(!0) || o).ownerDocument === e.getDoc() &&
                    e.dom.isChildOf(n, o)) ||
                    (n = o),
                  (r = []),
                  e.dom.getParent(n, function(e) {
                    if (e === o) return !0;
                    r.push(e);
                  }),
                  ((t = t || {}).element = n),
                  (t.parents = r),
                  e.fire("NodeChange", t));
              });
          }
          var qp,
            $p = {
              BACKSPACE: 8,
              DELETE: 46,
              DOWN: 40,
              ENTER: 13,
              LEFT: 37,
              RIGHT: 39,
              SPACEBAR: 32,
              TAB: 9,
              UP: 38,
              END: 35,
              HOME: 36,
              modifierPressed: function(e) {
                return (
                  e.shiftKey || e.ctrlKey || e.altKey || this.metaKeyPressed(e)
                );
              },
              metaKeyPressed: function(e) {
                return fe.mac ? e.metaKey : e.ctrlKey && !e.altKey;
              }
            },
            Kp = function(e) {
              return $(
                e,
                function(e, t) {
                  return e.concat(
                    (function(e) {
                      var t = function(t) {
                        return U(t, function(t) {
                          return ((t = Da(t)).node = e), t;
                        });
                      };
                      if (Do.isElement(e)) return t(e.getClientRects());
                      if (Do.isText(e)) {
                        var n = e.ownerDocument.createRange();
                        return (
                          n.setStart(e, 0),
                          n.setEnd(e, e.data.length),
                          t(n.getClientRects())
                        );
                      }
                    })(t)
                  );
                },
                []
              );
            };
          !(function(e) {
            (e[(e.Up = -1)] = "Up"), (e[(e.Down = 1)] = "Down");
          })(qp || (qp = {}));
          var Yp = function(e, t, n, r, o, i) {
              var a,
                u,
                s = 0,
                c = [],
                l = function(r) {
                  var i, a, l;
                  for (
                    l = Kp([r]), -1 === e && (l = l.reverse()), i = 0;
                    i < l.length;
                    i++
                  )
                    if (((a = l[i]), !n(a, u))) {
                      if (
                        (c.length > 0 && t(a, Ut.last(c)) && s++,
                        (a.line = s),
                        o(a))
                      )
                        return !0;
                      c.push(a);
                    }
                };
              return (u = Ut.last(i.getClientRects()))
                ? (l((a = i.getNode())),
                  (function(e, t, n, r) {
                    for (; (r = us(r, e, ka, t)); ) if (n(r)) return;
                  })(e, r, l, a),
                  c)
                : c;
            },
            Xp = s(Yp, qp.Up, Pa, Ba),
            Gp = s(Yp, qp.Down, Ba, Pa),
            Jp = function(e) {
              return function(t) {
                return (function(e, t) {
                  return t.line > e;
                })(e, t);
              };
            },
            Qp = function(e) {
              return function(t) {
                return (function(e, t) {
                  return t.line === e;
                })(e, t);
              };
            },
            Zp = Do.isContentEditableFalse,
            ev = us,
            tv = function(e, t) {
              return Math.abs(e.left - t);
            },
            nv = function(e, t) {
              return Math.abs(e.right - t);
            },
            rv = function(e, t) {
              return e >= t.left && e <= t.right;
            },
            ov = function(e, t) {
              return Ut.reduce(e, function(e, n) {
                var r, o;
                return (
                  (r = Math.min(tv(e, t), nv(e, t))),
                  (o = Math.min(tv(n, t), nv(n, t))),
                  rv(t, n)
                    ? n
                    : rv(t, e)
                    ? e
                    : (o === r && Zp(n.node)) || o < r
                    ? n
                    : e
                );
              });
            },
            iv = function(e, t, n, r) {
              for (; (r = ev(r, e, ka, t)); ) if (n(r)) return;
            },
            av = function(e, t, n) {
              var r,
                o = Kp(
                  (function(e) {
                    return q(ee(e.getElementsByTagName("*")), Ju);
                  })(e)
                ),
                i = q(o, function(e) {
                  return n >= e.top && n <= e.bottom;
                });
              return (r = ov(i, t)) &&
                (r = ov(
                  (function(e, t) {
                    var n = [],
                      r = function(e, r) {
                        var o;
                        return (
                          (o = q(Kp([r]), function(n) {
                            return !e(n, t);
                          })),
                          (n = n.concat(o)),
                          0 === o.length
                        );
                      };
                    return (
                      n.push(t),
                      iv(qp.Up, e, s(r, Pa), t.node),
                      iv(qp.Down, e, s(r, Ba), t.node),
                      n
                    );
                  })(e, r),
                  t
                )) &&
                Ju(r.node)
                ? (function(e, t) {
                    return { node: e.node, before: tv(e, t) < nv(e, t) };
                  })(r, t)
                : null;
            },
            uv = function(e, t, n) {
              if (n.collapsed) return !1;
              if (
                fe.ie &&
                fe.ie <= 11 &&
                n.startOffset === n.endOffset - 1 &&
                n.startContainer === n.endContainer
              ) {
                var r = n.startContainer.childNodes[n.startOffset];
                if (Do.isElement(r))
                  return W(r.getClientRects(), function(n) {
                    return Ia(n, e, t);
                  });
              }
              return W(n.getClientRects(), function(n) {
                return Ia(n, e, t);
              });
            },
            sv = function(e) {
              var t, n, r, o;
              return (
                (o = e.getBoundingClientRect()),
                (n = (t = e.ownerDocument).documentElement),
                (r = t.defaultView),
                {
                  top: o.top + r.pageYOffset - n.clientTop,
                  left: o.left + r.pageXOffset - n.clientLeft
                }
              );
            },
            cv = function(e, t) {
              return (function(e, t, n) {
                return {
                  pageX: n.left - e.left + t.left,
                  pageY: n.top - e.top + t.top
                };
              })(
                (function(e) {
                  return e.inline ? sv(e.getBody()) : { left: 0, top: 0 };
                })(e),
                (function(e) {
                  var t = e.getBody();
                  return e.inline
                    ? { left: t.scrollLeft, top: t.scrollTop }
                    : { left: 0, top: 0 };
                })(e),
                (function(e, t) {
                  if (t.target.ownerDocument !== e.getDoc()) {
                    var n = sv(e.getContentAreaContainer()),
                      r = (function(e) {
                        var t = e.getBody(),
                          n = e.getDoc().documentElement,
                          r = { left: t.scrollLeft, top: t.scrollTop },
                          o = {
                            left: t.scrollLeft || n.scrollLeft,
                            top: t.scrollTop || n.scrollTop
                          };
                        return e.inline ? r : o;
                      })(e);
                    return {
                      left: t.pageX - n.left + r.left,
                      top: t.pageY - n.top + r.top
                    };
                  }
                  return { left: t.pageX, top: t.pageY };
                })(e, t)
              );
            },
            lv = Do.isContentEditableFalse,
            fv = Do.isContentEditableTrue,
            dv = function(e) {
              e && e.parentNode && e.parentNode.removeChild(e);
            },
            mv = function(e, t) {
              return function(n) {
                if (
                  (function(e) {
                    return 0 === e.button;
                  })(n)
                ) {
                  var r = K(t.dom.getParents(n.target), qa(lv, fv)).getOr(null);
                  if (((u = t.getBody()), lv((s = r)) && s !== u)) {
                    var o = t.dom.getPos(r),
                      i = t.getBody(),
                      a = t.getDoc().documentElement;
                    (e.element = r),
                      (e.screenX = n.screenX),
                      (e.screenY = n.screenY),
                      (e.maxX = (t.inline ? i.scrollWidth : a.offsetWidth) - 2),
                      (e.maxY =
                        (t.inline ? i.scrollHeight : a.offsetHeight) - 2),
                      (e.relX = n.pageX - o.x),
                      (e.relY = n.pageY - o.y),
                      (e.width = r.offsetWidth),
                      (e.height = r.offsetHeight),
                      (e.ghost = (function(e, t, n, r) {
                        var o = t.cloneNode(!0);
                        e.dom.setStyles(o, { width: n, height: r }),
                          e.dom.setAttrib(o, "data-mce-selected", null);
                        var i = e.dom.create("div", {
                          class: "mce-drag-container",
                          "data-mce-bogus": "all",
                          unselectable: "on",
                          contenteditable: "false"
                        });
                        return (
                          e.dom.setStyles(i, {
                            position: "absolute",
                            opacity: 0.5,
                            overflow: "hidden",
                            border: 0,
                            padding: 0,
                            margin: 0,
                            width: n,
                            height: r
                          }),
                          e.dom.setStyles(o, {
                            margin: 0,
                            boxSizing: "border-box"
                          }),
                          i.appendChild(o),
                          i
                        );
                      })(t, r, e.width, e.height));
                  }
                }
                var u, s;
              };
            },
            hv = function(e, t) {
              return function(n) {
                if (
                  e.dragging &&
                  (function(e, t, n) {
                    return t !== n && !e.dom.isChildOf(t, n) && !lv(t);
                  })(
                    t,
                    ((u = t.selection),
                    3 === (s = u.getSel().getRangeAt(0).startContainer).nodeType
                      ? s.parentNode
                      : s),
                    e.element
                  )
                ) {
                  var r =
                      ((i = e.element),
                      (a = i.cloneNode(!0)).removeAttribute(
                        "data-mce-selected"
                      ),
                      a),
                    o = t.fire("drop", {
                      targetClone: r,
                      clientX: n.clientX,
                      clientY: n.clientY
                    });
                  o.isDefaultPrevented() ||
                    ((r = o.targetClone),
                    t.undoManager.transact(function() {
                      dv(e.element),
                        t.insertContent(t.dom.getOuterHTML(r)),
                        t._selectionOverrides.hideFakeCaret();
                    }));
                }
                var i, a, u, s;
                gv(e);
              };
            },
            gv = function(e) {
              (e.dragging = !1), (e.element = null), dv(e.ghost);
            },
            pv = function(e) {
              var t,
                n,
                o,
                i,
                a,
                u,
                s = {};
              (t = fi.DOM),
                (u = r.document),
                (n = mv(s, e)),
                (o = (function(e, t) {
                  var n = pe.throttle(function(e, n) {
                    t._selectionOverrides.hideFakeCaret(),
                      t.selection.placeCaretAt(e, n);
                  }, 0);
                  return function(r) {
                    var o,
                      i,
                      a = Math.max(
                        Math.abs(r.screenX - e.screenX),
                        Math.abs(r.screenY - e.screenY)
                      );
                    if (
                      (function(e) {
                        return e.element;
                      })(e) &&
                      !e.dragging &&
                      a > 10
                    ) {
                      if (
                        t
                          .fire("dragstart", { target: e.element })
                          .isDefaultPrevented()
                      )
                        return;
                      (e.dragging = !0), t.focus();
                    }
                    if (e.dragging) {
                      var u = (function(e, t) {
                        return { pageX: t.pageX - e.relX, pageY: t.pageY + 5 };
                      })(e, cv(t, r));
                      (o = e.ghost),
                        (i = t.getBody()),
                        o.parentNode !== i && i.appendChild(o),
                        (function(e, t, n, r, o, i) {
                          var a = 0,
                            u = 0;
                          (e.style.left = t.pageX + "px"),
                            (e.style.top = t.pageY + "px"),
                            t.pageX + n > o && (a = t.pageX + n - o),
                            t.pageY + r > i && (u = t.pageY + r - i),
                            (e.style.width = n - a + "px"),
                            (e.style.height = r - u + "px");
                        })(e.ghost, u, e.width, e.height, e.maxX, e.maxY),
                        n(r.clientX, r.clientY);
                    }
                  };
                })(s, e)),
                (i = hv(s, e)),
                (a = (function(e, t) {
                  return function() {
                    e.dragging && t.fire("dragend"), gv(e);
                  };
                })(s, e)),
                e.on("mousedown", n),
                e.on("mousemove", o),
                e.on("mouseup", i),
                t.bind(u, "mousemove", o),
                t.bind(u, "mouseup", a),
                e.on("remove", function() {
                  t.unbind(u, "mousemove", o), t.unbind(u, "mouseup", a);
                });
            },
            vv = function(e) {
              pv(e),
                (function(e) {
                  e.on("drop", function(t) {
                    var n =
                      void 0 !== t.clientX
                        ? e.getDoc().elementFromPoint(t.clientX, t.clientY)
                        : null;
                    (lv(n) || lv(e.dom.getContentEditableParent(n))) &&
                      t.preventDefault();
                  });
                })(e);
            },
            bv = function(e) {
              var t = _i(function() {
                if (!e.removed && e.selection.getRng().collapsed) {
                  var t = Jm(e, e.selection.getRng(), !1);
                  e.selection.setRng(t);
                }
              }, 0);
              e.on("focus", function() {
                t.throttle();
              }),
                e.on("blur", function() {
                  t.cancel();
                });
            },
            yv = Do.isContentEditableTrue,
            wv = Do.isContentEditableFalse,
            xv = function(e, t) {
              for (var n = e.getBody(); t && t !== n; ) {
                if (yv(t) || wv(t)) return t;
                t = t.parentNode;
              }
              return null;
            },
            Cv = function(e) {
              var t,
                n,
                r = e.getBody(),
                o = Xu(
                  e.getBody(),
                  function(t) {
                    return e.dom.isBlock(t);
                  },
                  function() {
                    return Qg(e);
                  }
                ),
                i = "sel-" + e.dom.uniqueId(),
                a = function(t) {
                  t && e.selection.setRng(t);
                },
                u = function() {
                  return e.selection.getRng();
                },
                s = function(t, n, r, i) {
                  return (
                    void 0 === i && (i = !0),
                    e
                      .fire("ShowCaret", { target: n, direction: t, before: r })
                      .isDefaultPrevented()
                      ? null
                      : (i && e.selection.scrollIntoView(n, -1 === t),
                        o.show(r, n))
                  );
                },
                c = function(e, t) {
                  return (
                    (t = ps(e, r, t)),
                    -1 === e ? du.fromRangeStart(t) : du.fromRangeEnd(t)
                  );
                },
                l = function(e) {
                  return la(e) || ga(e) || pa(e);
                },
                f = function(e) {
                  return l(e.startContainer) || l(e.endContainer);
                },
                d = function(t) {
                  var n = e.schema.getShortEndedElements(),
                    r = e.dom.createRng(),
                    o = t.startContainer,
                    i = t.startOffset,
                    a = t.endContainer,
                    u = t.endOffset;
                  return (
                    sr(n, o.nodeName.toLowerCase())
                      ? 0 === i
                        ? r.setStartBefore(o)
                        : r.setStartAfter(o)
                      : r.setStart(o, i),
                    sr(n, a.nodeName.toLowerCase())
                      ? 0 === u
                        ? r.setEndBefore(a)
                        : r.setEndAfter(a)
                      : r.setEnd(a, u),
                    r
                  );
                },
                m = function(n, r) {
                  var o,
                    a,
                    u,
                    l,
                    d,
                    m,
                    h,
                    p,
                    v,
                    b,
                    y = e.$,
                    w = e.dom;
                  if (!n) return null;
                  if (n.collapsed) {
                    if (!f(n))
                      if (!1 === r) {
                        if (((p = c(-1, n)), Ju(p.getNode(!0))))
                          return s(-1, p.getNode(!0), !1, !1);
                        if (Ju(p.getNode()))
                          return s(-1, p.getNode(), !p.isAtEnd(), !1);
                      } else {
                        if (((p = c(1, n)), Ju(p.getNode())))
                          return s(1, p.getNode(), !p.isAtEnd(), !1);
                        if (Ju(p.getNode(!0)))
                          return s(1, p.getNode(!0), !1, !1);
                      }
                    return null;
                  }
                  return (
                    (l = n.startContainer),
                    (d = n.startOffset),
                    (m = n.endOffset),
                    3 === l.nodeType &&
                      0 === d &&
                      wv(l.parentNode) &&
                      ((l = l.parentNode),
                      (d = w.nodeIndex(l)),
                      (l = l.parentNode)),
                    1 !== l.nodeType
                      ? null
                      : (m === d + 1 &&
                          l === n.endContainer &&
                          (o = l.childNodes[d]),
                        wv(o)
                          ? ((v = b = o.cloneNode(!0)),
                            (h = e.fire("ObjectSelected", {
                              target: o,
                              targetClone: v
                            })).isDefaultPrevented()
                              ? null
                              : ((a = Ui(Xn.fromDom(e.getBody()), "#" + i).fold(
                                  function() {
                                    return y([]);
                                  },
                                  function(e) {
                                    return y([e.dom()]);
                                  }
                                )),
                                (v = h.targetClone),
                                0 === a.length &&
                                  (a = y(
                                    '<div data-mce-bogus="all" class="mce-offscreen-selection"></div>'
                                  ).attr("id", i)).appendTo(e.getBody()),
                                (n = e.dom.createRng()),
                                v === b && fe.ie
                                  ? (a
                                      .empty()
                                      .append(
                                        '<p style="font-size: 0" data-mce-bogus="all"> </p>'
                                      )
                                      .append(v),
                                    n.setStartAfter(a[0].firstChild.firstChild),
                                    n.setEndAfter(v))
                                  : (a
                                      .empty()
                                      .append(" ")
                                      .append(v)
                                      .append(" "),
                                    n.setStart(a[0].firstChild, 1),
                                    n.setEnd(a[0].lastChild, 0)),
                                a.css({ top: w.getPos(o, e.getBody()).y }),
                                a[0].focus(),
                                (u = e.selection.getSel()).removeAllRanges(),
                                u.addRange(n),
                                j(
                                  Li(
                                    Xn.fromDom(e.getBody()),
                                    "*[data-mce-selected]"
                                  ),
                                  function(e) {
                                    hr(e, "data-mce-selected");
                                  }
                                ),
                                o.setAttribute("data-mce-selected", "1"),
                                (t = o),
                                g(),
                                n))
                          : null)
                  );
                },
                h = function() {
                  t &&
                    (t.removeAttribute("data-mce-selected"),
                    Ui(Xn.fromDom(e.getBody()), "#" + i).each(Ti),
                    (t = null)),
                    Ui(Xn.fromDom(e.getBody()), "#" + i).each(Ti),
                    (t = null);
                },
                g = function() {
                  o.hide();
                };
              return (
                fe.ceFalse &&
                  ((function() {
                    e.on("mouseup", function(t) {
                      var n = u();
                      n.collapsed &&
                        ip(e, t.clientX, t.clientY) &&
                        a(Gm(e, n, !1));
                    }),
                      e.on("click", function(t) {
                        var n;
                        (n = xv(e, t.target)) &&
                          (wv(n) && (t.preventDefault(), e.focus()),
                          yv(n) &&
                            e.dom.isChildOf(n, e.selection.getNode()) &&
                            h());
                      }),
                      e.on("blur NewBlock", function() {
                        h();
                      }),
                      e.on("ResizeWindow FullscreenStateChanged", function() {
                        return o.reposition();
                      });
                    var n = function(t, n) {
                      var r,
                        o,
                        i = e.dom.getParent(t, e.dom.isBlock),
                        a = e.dom.getParent(n, e.dom.isBlock);
                      return (
                        !(
                          !i ||
                          !e.dom.isChildOf(i, a) ||
                          !1 !== wv(xv(e, i))
                        ) ||
                        (i &&
                          ((r = i),
                          (o = a),
                          !(
                            e.dom.getParent(r, e.dom.isBlock) ===
                            e.dom.getParent(o, e.dom.isBlock)
                          )) &&
                          (function(e) {
                            var t = As(e);
                            if (!e.firstChild) return !1;
                            var n = du.before(e.firstChild),
                              r = t.next(n);
                            return r && !xf(r) && !Cf(r);
                          })(i))
                      );
                    };
                    !(function(e) {
                      var t = !1;
                      e.on("touchstart", function() {
                        t = !1;
                      }),
                        e.on("touchmove", function() {
                          t = !0;
                        }),
                        e.on("touchend", function(n) {
                          var r = xv(e, n.target);
                          wv(r) && (t || (n.preventDefault(), m(Xm(e, r))));
                        });
                    })(e),
                      e.on("mousedown", function(t) {
                        var o,
                          i = t.target;
                        if (
                          (i === r ||
                            "HTML" === i.nodeName ||
                            e.dom.isChildOf(i, r)) &&
                          !1 !== ip(e, t.clientX, t.clientY)
                        )
                          if ((o = xv(e, i)))
                            wv(o)
                              ? (t.preventDefault(), m(Xm(e, o)))
                              : (h(),
                                (yv(o) && t.shiftKey) ||
                                  uv(
                                    t.clientX,
                                    t.clientY,
                                    e.selection.getRng()
                                  ) ||
                                  (g(),
                                  e.selection.placeCaretAt(
                                    t.clientX,
                                    t.clientY
                                  )));
                          else if (!1 === Ju(i)) {
                            h(), g();
                            var u = av(r, t.clientX, t.clientY);
                            if (u && !n(t.target, u.node)) {
                              t.preventDefault();
                              var c = s(1, u.node, u.before, !1);
                              e.getBody().focus(), a(c);
                            }
                          }
                      }),
                      e.on("keypress", function(t) {
                        $p.modifierPressed(t) ||
                          (t.keyCode,
                          wv(e.selection.getNode()) && t.preventDefault());
                      }),
                      e.on("getSelectionRange", function(e) {
                        var n = e.range;
                        if (t) {
                          if (!t.parentNode) return void (t = null);
                          (n = n.cloneRange()).selectNode(t), (e.range = n);
                        }
                      }),
                      e.on("setSelectionRange", function(e) {
                        e.range = d(e.range);
                        var t = m(e.range, e.forward);
                        t && (e.range = t);
                      }),
                      e.on("AfterSetSelectionRange", function(t) {
                        var n,
                          r = t.range;
                        f(r) ||
                          (function(e) {
                            return "mcepastebin" === e.id;
                          })(r.startContainer.parentNode) ||
                          g(),
                          (n = r.startContainer.parentNode),
                          e.dom.hasClass(n, "mce-offscreen-selection") || h();
                      }),
                      e.on("copy", function(t) {
                        var n,
                          r = t.clipboardData;
                        if (
                          !t.isDefaultPrevented() &&
                          t.clipboardData &&
                          !fe.ie
                        ) {
                          var o = (n = e.dom.get(i))
                            ? n.getElementsByTagName("*")[0]
                            : n;
                          o &&
                            (t.preventDefault(),
                            r.clearData(),
                            r.setData("text/html", o.outerHTML),
                            r.setData("text/plain", o.outerText));
                        }
                      }),
                      vv(e),
                      bv(e);
                  })(),
                  (n = e.contentStyles).push(o.getCss()),
                  n.push(
                    ".mce-content-body .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}.mce-content-body *[contentEditable=false] {cursor: default;}.mce-content-body *[contentEditable=true] {cursor: text;}"
                  )),
                {
                  showCaret: s,
                  showBlockCaretContainer: function(t) {
                    t.hasAttribute("data-mce-caret") &&
                      (va(t), a(u()), e.selection.scrollIntoView(t[0]));
                  },
                  hideFakeCaret: g,
                  destroy: function() {
                    o.destroy(), (t = null);
                  }
                }
              );
            },
            Sv = function(e) {
              for (var t = e; /<!--|--!?>/g.test(t); )
                t = t.replace(/<!--|--!?>/g, "");
              return t;
            },
            Ev = function(e, t, n) {
              var r,
                o,
                i,
                a,
                u = 1;
              for (
                a = e.getShortEndedElements(),
                  (i = /<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex = r = n;
                (o = i.exec(t));

              ) {
                if (((r = i.lastIndex), "/" === o[1])) u--;
                else if (!o[1]) {
                  if (o[2] in a) continue;
                  u++;
                }
                if (0 === u) break;
              }
              return r;
            },
            Tv = function(e, t) {
              var n = e.exec(t);
              if (n) {
                var r = n[1],
                  o = n[2];
                return "string" == typeof r &&
                  "data-mce-bogus" === r.toLowerCase()
                  ? o
                  : null;
              }
              return null;
            };
          function Nv(e, t) {
            void 0 === t && (t = ei());
            var n = function() {};
            !1 !== (e = e || {}).fix_self_closing && (e.fix_self_closing = !0);
            var r = e.comment ? e.comment : n,
              o = e.cdata ? e.cdata : n,
              i = e.text ? e.text : n,
              a = e.start ? e.start : n,
              u = e.end ? e.end : n,
              s = e.pi ? e.pi : n,
              c = e.doctype ? e.doctype : n;
            return {
              parse: function(n) {
                var l,
                  f,
                  d,
                  m,
                  h,
                  g,
                  p,
                  v,
                  b,
                  y,
                  w,
                  x,
                  C,
                  S,
                  E,
                  T,
                  N,
                  _,
                  k,
                  R,
                  D,
                  O,
                  A,
                  P,
                  B,
                  I,
                  M,
                  L,
                  F,
                  H = 0,
                  z = [],
                  W = 0,
                  U = Vo.decode,
                  j = Kt.makeMap(
                    "src,href,data,background,formaction,poster,xlink:href"
                  ),
                  V = /((java|vb)script|mhtml):/i,
                  q = function(e) {
                    var t, n;
                    for (t = z.length; t-- && z[t].name !== e; );
                    if (t >= 0) {
                      for (n = z.length - 1; n >= t; n--)
                        (e = z[n]).valid && u(e.name);
                      z.length = t;
                    }
                  },
                  $ = function(t, n, r, o, i) {
                    var a, u;
                    if (
                      ((r =
                        (n = n.toLowerCase()) in w ? n : U(r || o || i || "")),
                      C &&
                        !v &&
                        !1 ===
                          (function(e) {
                            return (
                              0 === e.indexOf("data-") ||
                              0 === e.indexOf("aria-")
                            );
                          })(n))
                    ) {
                      if (!(a = _[n]) && k) {
                        for (
                          u = k.length;
                          u-- && !(a = k[u]).pattern.test(n);

                        );
                        -1 === u && (a = null);
                      }
                      if (!a) return;
                      if (a.validValues && !(r in a.validValues)) return;
                    }
                    if (j[n] && !e.allow_script_urls) {
                      var s = r.replace(/[\s\u0000-\u001F]+/g, "");
                      try {
                        s = decodeURIComponent(s);
                      } catch (e) {
                        s = unescape(s);
                      }
                      if (V.test(s)) return;
                      if (
                        (function(e, t) {
                          return (
                            !e.allow_html_data_urls &&
                            (/^data:image\//i.test(t)
                              ? !1 === e.allow_svg_data_urls &&
                                /^data:image\/svg\+xml/i.test(t)
                              : /^data:/i.test(t))
                          );
                        })(e, s)
                      )
                        return;
                    }
                    (v && (n in j || 0 === n.indexOf("on"))) ||
                      ((m.map[n] = r), m.push({ name: n, value: r }));
                  };
                for (
                  B = new RegExp(
                    "<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))",
                    "g"
                  ),
                    I = /([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,
                    y = t.getShortEndedElements(),
                    P = e.self_closing_elements || t.getSelfClosingElements(),
                    w = t.getBoolAttrs(),
                    C = e.validate,
                    b = e.remove_internals,
                    F = e.fix_self_closing,
                    M = t.getSpecialElements(),
                    A = n + ">";
                  (l = B.exec(A));

                ) {
                  if (
                    (H < l.index && i(U(n.substr(H, l.index - H))), (f = l[6]))
                  )
                    ":" === (f = f.toLowerCase()).charAt(0) &&
                      (f = f.substr(1)),
                      q(f);
                  else if ((f = l[7])) {
                    if (l.index + l[0].length > n.length) {
                      i(U(n.substr(l.index))), (H = l.index + l[0].length);
                      continue;
                    }
                    ":" === (f = f.toLowerCase()).charAt(0) &&
                      (f = f.substr(1)),
                      (x = f in y),
                      F &&
                        P[f] &&
                        z.length > 0 &&
                        z[z.length - 1].name === f &&
                        q(f);
                    var K = Tv(I, l[8]);
                    if (null !== K) {
                      if ("all" === K) {
                        (H = Ev(t, n, B.lastIndex)), (B.lastIndex = H);
                        continue;
                      }
                      E = !1;
                    }
                    if (!C || (S = t.getElementRule(f))) {
                      if (
                        ((E = !0),
                        C && ((_ = S.attributes), (k = S.attributePatterns)),
                        (N = l[8])
                          ? ((v = -1 !== N.indexOf("data-mce-type")) &&
                              b &&
                              (E = !1),
                            ((m = []).map = {}),
                            N.replace(I, $))
                          : ((m = []).map = {}),
                        C && !v)
                      ) {
                        if (
                          ((R = S.attributesRequired),
                          (D = S.attributesDefault),
                          (O = S.attributesForced),
                          S.removeEmptyAttrs && !m.length && (E = !1),
                          O)
                        )
                          for (h = O.length; h--; )
                            (p = (T = O[h]).name),
                              "{$uid}" === (L = T.value) && (L = "mce_" + W++),
                              (m.map[p] = L),
                              m.push({ name: p, value: L });
                        if (D)
                          for (h = D.length; h--; )
                            (p = (T = D[h]).name) in m.map ||
                              ("{$uid}" === (L = T.value) && (L = "mce_" + W++),
                              (m.map[p] = L),
                              m.push({ name: p, value: L }));
                        if (R) {
                          for (h = R.length; h-- && !(R[h] in m.map); );
                          -1 === h && (E = !1);
                        }
                        if ((T = m.map["data-mce-bogus"])) {
                          if ("all" === T) {
                            (H = Ev(t, n, B.lastIndex)), (B.lastIndex = H);
                            continue;
                          }
                          E = !1;
                        }
                      }
                      E && a(f, m, x);
                    } else E = !1;
                    if ((d = M[f])) {
                      (d.lastIndex = H = l.index + l[0].length),
                        (l = d.exec(n))
                          ? (E && (g = n.substr(H, l.index - H)),
                            (H = l.index + l[0].length))
                          : ((g = n.substr(H)), (H = n.length)),
                        E && (g.length > 0 && i(g, !0), u(f)),
                        (B.lastIndex = H);
                      continue;
                    }
                    x ||
                      (N && N.indexOf("/") === N.length - 1
                        ? E && u(f)
                        : z.push({ name: f, valid: E }));
                  } else
                    (f = l[1])
                      ? (">" === f.charAt(0) && (f = " " + f),
                        e.allow_conditional_comments ||
                          "[if" !== f.substr(0, 3).toLowerCase() ||
                          (f = " " + f),
                        r(f))
                      : (f = l[2])
                      ? o(Sv(f))
                      : (f = l[3])
                      ? c(f)
                      : (f = l[4]) && s(f, l[5]);
                  H = l.index + l[0].length;
                }
                for (
                  H < n.length && i(U(n.substr(H))), h = z.length - 1;
                  h >= 0;
                  h--
                )
                  (f = z[h]).valid && u(f.name);
              }
            };
          }
          !(function(e) {
            e.findEndTag = Ev;
          })(Nv || (Nv = {}));
          var _v = Nv,
            kv = function(e, t) {
              var n,
                r,
                o,
                i,
                a,
                u = t,
                s = /<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,
                c = e.schema;
              for (
                u = (function(e, t) {
                  var n = new RegExp(
                    ["\\s?(" + e.join("|") + ')="[^"]+"'].join("|"),
                    "gi"
                  );
                  return t.replace(n, "");
                })(e.getTempAttrs(), u),
                  a = c.getShortEndedElements();
                (i = s.exec(u));

              )
                (r = s.lastIndex),
                  (o = i[0].length),
                  (n = a[i[1]] ? r : _v.findEndTag(c, u, r)),
                  (u = u.substring(0, r - o) + u.substring(n)),
                  (s.lastIndex = r - o);
              return ia(u);
            },
            Rv = { trimExternal: kv, trimInternal: kv },
            Dv = 0,
            Ov = 2,
            Av = 1,
            Pv = function(e, t) {
              var n = e.length + t.length + 2,
                r = new Array(n),
                o = new Array(n),
                i = function(n, r, o, a, s) {
                  var c = u(n, r, o, a);
                  if (
                    null === c ||
                    (c.start === r && c.diag === r - a) ||
                    (c.end === n && c.diag === n - o)
                  )
                    for (var l = n, f = o; l < r || f < a; )
                      l < r && f < a && e[l] === t[f]
                        ? (s.push([0, e[l]]), ++l, ++f)
                        : r - n > a - o
                        ? (s.push([2, e[l]]), ++l)
                        : (s.push([1, t[f]]), ++f);
                  else {
                    i(n, c.start, o, c.start - c.diag, s);
                    for (var d = c.start; d < c.end; ++d) s.push([0, e[d]]);
                    i(c.end, r, c.end - c.diag, a, s);
                  }
                },
                a = function(n, r, o, i) {
                  for (var a = n; a - r < i && a < o && e[a] === t[a - r]; )
                    ++a;
                  return (function(e, t, n) {
                    return { start: e, end: t, diag: n };
                  })(n, a, r);
                },
                u = function(n, i, u, s) {
                  var c = i - n,
                    l = s - u;
                  if (0 === c || 0 === l) return null;
                  var f,
                    d,
                    m,
                    h,
                    g,
                    p = c - l,
                    v = l + c,
                    b = (v % 2 == 0 ? v : v + 1) / 2;
                  for (r[1 + b] = n, o[1 + b] = i + 1, f = 0; f <= b; ++f) {
                    for (d = -f; d <= f; d += 2) {
                      for (
                        m = d + b,
                          d === -f || (d !== f && r[m - 1] < r[m + 1])
                            ? (r[m] = r[m + 1])
                            : (r[m] = r[m - 1] + 1),
                          g = (h = r[m]) - n + u - d;
                        h < i && g < s && e[h] === t[g];

                      )
                        (r[m] = ++h), ++g;
                      if (
                        p % 2 != 0 &&
                        p - f <= d &&
                        d <= p + f &&
                        o[m - p] <= r[m]
                      )
                        return a(o[m - p], d + n - u, i, s);
                    }
                    for (d = p - f; d <= p + f; d += 2) {
                      for (
                        m = d + b - p,
                          d === p - f || (d !== p + f && o[m + 1] <= o[m - 1])
                            ? (o[m] = o[m + 1] - 1)
                            : (o[m] = o[m - 1]),
                          g = (h = o[m] - 1) - n + u - d;
                        h >= n && g >= u && e[h] === t[g];

                      )
                        (o[m] = h--), g--;
                      if (p % 2 == 0 && -f <= d && d <= f && o[m] <= r[m + p])
                        return a(o[m], d + n - u, i, s);
                    }
                  }
                },
                s = [];
              return i(0, e.length, 0, t.length, s), s;
            },
            Bv = function(e) {
              return Do.isElement(e)
                ? e.outerHTML
                : Do.isText(e)
                ? Vo.encodeRaw(e.data, !1)
                : Do.isComment(e)
                ? "\x3c!--" + e.data + "--\x3e"
                : "";
            },
            Iv = function(e, t, n) {
              var o = (function(e) {
                var t, n, o;
                for (
                  o = r.document.createElement("div"),
                    t = r.document.createDocumentFragment(),
                    e && (o.innerHTML = e);
                  (n = o.firstChild);

                )
                  t.appendChild(n);
                return t;
              })(t);
              if (e.hasChildNodes() && n < e.childNodes.length) {
                var i = e.childNodes[n];
                i.parentNode.insertBefore(o, i);
              } else e.appendChild(o);
            },
            Mv = function(e) {
              return q(U(ee(e.childNodes), Bv), function(e) {
                return e.length > 0;
              });
            },
            Lv = function(e, t) {
              var n = U(ee(t.childNodes), Bv);
              return (
                (function(e, t) {
                  var n = 0;
                  j(e, function(e) {
                    e[0] === Dv
                      ? n++
                      : e[0] === Av
                      ? (Iv(t, e[1], n), n++)
                      : e[0] === Ov &&
                        (function(e, t) {
                          if (e.hasChildNodes() && t < e.childNodes.length) {
                            var n = e.childNodes[t];
                            n.parentNode.removeChild(n);
                          }
                        })(t, n);
                  });
                })(Pv(n, e), t),
                t
              );
            },
            Fv = ki(_.none()),
            Hv = function(e) {
              return {
                type: "fragmented",
                fragments: e,
                content: "",
                bookmark: null,
                beforeBookmark: null
              };
            },
            zv = function(e) {
              return {
                type: "complete",
                fragments: null,
                content: e,
                bookmark: null,
                beforeBookmark: null
              };
            },
            Wv = function(e) {
              return "fragmented" === e.type ? e.fragments.join("") : e.content;
            },
            Uv = function(e) {
              var t = Xn.fromTag(
                "body",
                Fv.get().getOrThunk(function() {
                  var e = r.document.implementation.createHTMLDocument("undo");
                  return Fv.set(_.some(e)), e;
                })
              );
              return (
                na(t, Wv(e)),
                j(Li(t, "*[data-mce-bogus]"), Ni),
                t.dom().innerHTML
              );
            },
            jv = function(e) {
              var t, n, r;
              return (
                (t = Mv(e.getBody())),
                -1 !==
                (n = (r = X(t, function(t) {
                  var n = Rv.trimInternal(e.serializer, t);
                  return n.length > 0 ? [n] : [];
                })).join("")).indexOf("</iframe>")
                  ? Hv(r)
                  : zv(n)
              );
            },
            Vv = function(e, t, n) {
              "fragmented" === t.type
                ? Lv(t.fragments, e.getBody())
                : e.setContent(t.content, { format: "raw" }),
                e.selection.moveToBookmark(n ? t.beforeBookmark : t.bookmark);
            },
            qv = function(e, t) {
              return (
                !(!e || !t) &&
                (!!(function(e, t) {
                  return Wv(e) === Wv(t);
                })(e, t) ||
                  (function(e, t) {
                    return Uv(e) === Uv(t);
                  })(e, t))
              );
            };
          function $v(e) {
            var t,
              n,
              r = this,
              o = 0,
              i = [],
              a = 0,
              u = function() {
                return 0 === a;
              },
              s = function(e) {
                u() && (r.typing = e);
              },
              c = function(t) {
                e.setDirty(t);
              },
              l = function(e) {
                s(!1), r.add({}, e);
              },
              f = function() {
                r.typing && (s(!1), r.add());
              };
            return (
              e.on("init", function() {
                r.add();
              }),
              e.on("BeforeExecCommand", function(e) {
                var t = e.command;
                "Undo" !== t &&
                  "Redo" !== t &&
                  "mceRepaint" !== t &&
                  (f(), r.beforeChange());
              }),
              e.on("ExecCommand", function(e) {
                var t = e.command;
                "Undo" !== t && "Redo" !== t && "mceRepaint" !== t && l(e);
              }),
              e.on("ObjectResizeStart Cut", function() {
                r.beforeChange();
              }),
              e.on("SaveContent ObjectResized blur", l),
              e.on("DragEnd", l),
              e.on("KeyUp", function(t) {
                var o = t.keyCode;
                t.isDefaultPrevented() ||
                  (((o >= 33 && o <= 36) ||
                    (o >= 37 && o <= 40) ||
                    45 === o ||
                    t.ctrlKey) &&
                    (l(), e.nodeChanged()),
                  (46 !== o && 8 !== o) || e.nodeChanged(),
                  n &&
                    r.typing &&
                    !1 === qv(jv(e), i[0]) &&
                    (!1 === e.isDirty() &&
                      (c(!0),
                      e.fire("change", { level: i[0], lastLevel: null })),
                    e.fire("TypingUndo"),
                    (n = !1),
                    e.nodeChanged()));
              }),
              e.on("KeyDown", function(e) {
                var t = e.keyCode;
                if (!e.isDefaultPrevented())
                  if ((t >= 33 && t <= 36) || (t >= 37 && t <= 40) || 45 === t)
                    r.typing && l(e);
                  else {
                    var o = (e.ctrlKey && !e.altKey) || e.metaKey;
                    !(t < 16 || t > 20) ||
                      224 === t ||
                      91 === t ||
                      r.typing ||
                      o ||
                      (r.beforeChange(), s(!0), r.add({}, e), (n = !0));
                  }
              }),
              e.on("MouseDown", function(e) {
                r.typing && l(e);
              }),
              e.on("input", function(e) {
                e.inputType &&
                  ("insertReplacementText" === e.inputType ||
                    (function(e) {
                      return "insertText" === e.inputType && null === e.data;
                    })(e)) &&
                  l(e);
              }),
              e.addShortcut("meta+z", "", "Undo"),
              e.addShortcut("meta+y,meta+shift+z", "", "Redo"),
              e.on("AddUndo Undo Redo ClearUndos", function(t) {
                t.isDefaultPrevented() || e.nodeChanged();
              }),
              (r = {
                data: i,
                typing: !1,
                beforeChange: function() {
                  u() && (t = Pu.getUndoBookmark(e.selection));
                },
                add: function(n, r) {
                  var a,
                    s,
                    l,
                    f = e.settings;
                  if (
                    ((l = jv(e)),
                    (n = n || {}),
                    (n = Kt.extend(n, l)),
                    !1 === u() || e.removed)
                  )
                    return null;
                  if (
                    ((s = i[o]),
                    e
                      .fire("BeforeAddUndo", {
                        level: n,
                        lastLevel: s,
                        originalEvent: r
                      })
                      .isDefaultPrevented())
                  )
                    return null;
                  if (s && qv(s, n)) return null;
                  if (
                    (i[o] && (i[o].beforeBookmark = t),
                    f.custom_undo_redo_levels &&
                      i.length > f.custom_undo_redo_levels)
                  ) {
                    for (a = 0; a < i.length - 1; a++) i[a] = i[a + 1];
                    i.length--, (o = i.length);
                  }
                  (n.bookmark = Pu.getUndoBookmark(e.selection)),
                    o < i.length - 1 && (i.length = o + 1),
                    i.push(n),
                    (o = i.length - 1);
                  var d = { level: n, lastLevel: s, originalEvent: r };
                  return (
                    e.fire("AddUndo", d),
                    o > 0 && (c(!0), e.fire("change", d)),
                    n
                  );
                },
                undo: function() {
                  var t;
                  return (
                    r.typing && (r.add(), (r.typing = !1), s(!1)),
                    o > 0 &&
                      ((t = i[--o]),
                      Vv(e, t, !0),
                      c(!0),
                      e.fire("undo", { level: t })),
                    t
                  );
                },
                redo: function() {
                  var t;
                  return (
                    o < i.length - 1 &&
                      ((t = i[++o]),
                      Vv(e, t, !1),
                      c(!0),
                      e.fire("redo", { level: t })),
                    t
                  );
                },
                clear: function() {
                  (i = []),
                    (o = 0),
                    (r.typing = !1),
                    (r.data = i),
                    e.fire("ClearUndos");
                },
                hasUndo: function() {
                  return o > 0 || (r.typing && i[0] && !qv(jv(e), i[0]));
                },
                hasRedo: function() {
                  return o < i.length - 1 && !r.typing;
                },
                transact: function(e) {
                  return f(), r.beforeChange(), r.ignore(e), r.add();
                },
                ignore: function(e) {
                  try {
                    a++, e();
                  } finally {
                    a--;
                  }
                },
                extra: function(t, n) {
                  var a, u;
                  r.transact(t) &&
                    ((u = i[o].bookmark),
                    (a = i[o - 1]),
                    Vv(e, a, !0),
                    r.transact(n) && (i[o - 1].beforeBookmark = u));
                }
              })
            );
          }
          var Kv = {},
            Yv = Ut.filter,
            Xv = Ut.each;
          !(function(e, t) {
            var n = Kv[e];
            n || (Kv[e] = n = []), Kv[e].push(t);
          })("pre", function(e) {
            var t,
              n,
              r = e.selection.getRng();
            (t = Do.matchNodeNames("pre")),
              r.collapsed ||
                ((n = e.selection.getSelectedBlocks()),
                Xv(
                  Yv(Yv(n, t), function(e) {
                    return (
                      t(e.previousSibling) &&
                      -1 !== Ut.indexOf(n, e.previousSibling)
                    );
                  }),
                  function(e) {
                    var t, n;
                    (t = e.previousSibling),
                      mn((n = e)).remove(),
                      mn(t)
                        .append("<br><br>")
                        .append(n.childNodes);
                  }
                ));
          });
          var Gv = function(e, t) {
              Xv(Kv[e], function(e) {
                e(t);
              });
            },
            Jv = /^(src|href|style)$/,
            Qv = Kt.each,
            Zv = rc.isEq,
            eb = function(e, t, n) {
              return e.isChildOf(t, n) && t !== n && !e.isBlock(n);
            },
            tb = function(e, t, n) {
              var r, o, i;
              return (
                (r = t[n ? "startContainer" : "endContainer"]),
                (o = t[n ? "startOffset" : "endOffset"]),
                Do.isElement(r) &&
                  ((i = r.childNodes.length - 1),
                  !n && o && o--,
                  (r = r.childNodes[o > i ? i : o])),
                Do.isText(r) &&
                  n &&
                  o >= r.nodeValue.length &&
                  (r = new no(r, e.getBody()).next() || r),
                Do.isText(r) &&
                  !n &&
                  0 === o &&
                  (r = new no(r, e.getBody()).prev() || r),
                r
              );
            },
            nb = function(e, t, n, r) {
              var o = e.create(n, r);
              return t.parentNode.insertBefore(o, t), o.appendChild(t), o;
            },
            rb = function(e, t, n, r, o) {
              var i = Xn.fromDom(t),
                a = Xn.fromDom(e.create(r, o)),
                u = n ? Ir(i) : Br(i);
              return (
                Si(a, u),
                n ? (yi(i, a), xi(a, i)) : (wi(i, a), Ci(a, i)),
                a.dom()
              );
            },
            ob = function(e, t, n, r) {
              return (
                !(t = rc.getNonWhiteSpaceSibling(t, n, r)) ||
                "BR" === t.nodeName ||
                e.isBlock(t)
              );
            },
            ib = function(e, t, n, r, o) {
              var i,
                a,
                u,
                s = e.dom;
              if (
                !(function(e, t, n) {
                  return (
                    !!Zv(t, n.inline) ||
                    !!Zv(t, n.block) ||
                    (n.selector
                      ? Do.isElement(t) && e.is(t, n.selector)
                      : void 0)
                  );
                })(s, r, t) &&
                !(function(e, t) {
                  return t.links && "A" === e.tagName;
                })(r, t)
              )
                return !1;
              if ("all" !== t.remove)
                for (
                  Qv(t.styles, function(e, i) {
                    (e = rc.normalizeStyleValue(s, rc.replaceVars(e, n), i)),
                      "number" == typeof i && ((i = e), (o = 0)),
                      (t.remove_similar || !o || Zv(rc.getStyle(s, o, i), e)) &&
                        s.setStyle(r, i, ""),
                      (u = 1);
                  }),
                    u &&
                      "" === s.getAttrib(r, "style") &&
                      (r.removeAttribute("style"),
                      r.removeAttribute("data-mce-style")),
                    Qv(t.attributes, function(e, t) {
                      var i;
                      if (
                        ((e = rc.replaceVars(e, n)),
                        "number" == typeof t && ((t = e), (o = 0)),
                        !o || Zv(s.getAttrib(o, t), e))
                      ) {
                        if (
                          "class" === t &&
                          (e = s.getAttrib(r, t)) &&
                          ((i = ""),
                          Qv(e.split(/\s+/), function(e) {
                            /mce\-\w+/.test(e) && (i += (i ? " " : "") + e);
                          }),
                          i)
                        )
                          return void s.setAttrib(r, t, i);
                        "class" === t && r.removeAttribute("className"),
                          Jv.test(t) && r.removeAttribute("data-mce-" + t),
                          r.removeAttribute(t);
                      }
                    }),
                    Qv(t.classes, function(e) {
                      (e = rc.replaceVars(e, n)),
                        (o && !s.hasClass(o, e)) || s.removeClass(r, e);
                    }),
                    a = s.getAttribs(r),
                    i = 0;
                  i < a.length;
                  i++
                ) {
                  var c = a[i].nodeName;
                  if (0 !== c.indexOf("_") && 0 !== c.indexOf("data-"))
                    return !1;
                }
              return "none" !== t.remove
                ? ((function(e, t, n) {
                    var r,
                      o = t.parentNode,
                      i = e.dom,
                      a = e.settings.forced_root_block;
                    n.block &&
                      (a
                        ? o === i.getRoot() &&
                          ((n.list_block && Zv(t, n.list_block)) ||
                            Qv(Kt.grep(t.childNodes), function(t) {
                              rc.isValid(e, a, t.nodeName.toLowerCase())
                                ? r
                                  ? r.appendChild(t)
                                  : ((r = nb(i, t, a)),
                                    i.setAttribs(
                                      r,
                                      e.settings.forced_root_block_attrs
                                    ))
                                : (r = 0);
                            }))
                        : i.isBlock(t) &&
                          !i.isBlock(o) &&
                          (ob(i, t, !1) ||
                            ob(i, t.firstChild, !0, 1) ||
                            t.insertBefore(i.create("br"), t.firstChild),
                          ob(i, t, !0) ||
                            ob(i, t.lastChild, !1, 1) ||
                            t.appendChild(i.create("br")))),
                      (n.selector && n.inline && !Zv(n.inline, t)) ||
                        i.remove(t, 1);
                  })(e, r, t),
                  !0)
                : void 0;
            },
            ab = ib,
            ub = function(e, t, n, r, o) {
              var i,
                a,
                u = e.formatter.get(t),
                s = u[0],
                c = !0,
                l = e.dom,
                f = e.selection,
                d = function(r) {
                  var i = (function(e, t, n, r, o) {
                    var i;
                    return (
                      Qv(rc.getParents(e.dom, t.parentNode).reverse(), function(
                        t
                      ) {
                        var a;
                        i ||
                          "_start" === t.id ||
                          "_end" === t.id ||
                          ((a = Tm.matchNode(e, t, n, r, o)) &&
                            !1 !== a.split &&
                            (i = t));
                      }),
                      i
                    );
                  })(e, r, t, n, o);
                  return (function(e, t, n, r, o, i, a, u) {
                    var s,
                      c,
                      l,
                      f,
                      d,
                      m,
                      h = e.dom;
                    if (n) {
                      for (
                        m = n.parentNode, s = r.parentNode;
                        s && s !== m;
                        s = s.parentNode
                      ) {
                        for (c = h.clone(s, !1), d = 0; d < t.length; d++)
                          if (ib(e, t[d], u, c, c)) {
                            c = 0;
                            break;
                          }
                        c && (l && c.appendChild(l), f || (f = c), (l = c));
                      }
                      !i || (a.mixed && h.isBlock(n)) || (r = h.split(n, r)),
                        l &&
                          (o.parentNode.insertBefore(l, o), f.appendChild(o));
                    }
                    return r;
                  })(e, u, i, r, r, !0, s, n);
                },
                m = function(t) {
                  var r, o, i, a, f;
                  if (
                    (Do.isElement(t) &&
                      l.getContentEditable(t) &&
                      ((a = c),
                      (c = "true" === l.getContentEditable(t)),
                      (f = !0)),
                    (r = Kt.grep(t.childNodes)),
                    c && !f)
                  )
                    for (
                      o = 0, i = u.length;
                      o < i && !ib(e, u[o], n, t, t);
                      o++
                    );
                  if (s.deep && r.length) {
                    for (o = 0, i = r.length; o < i; o++) m(r[o]);
                    f && (c = a);
                  }
                },
                h = function(e) {
                  var t = l.get(e ? "_start" : "_end"),
                    n = t[e ? "firstChild" : "lastChild"];
                  return (
                    (function(e) {
                      return (
                        Zs(e) &&
                        Do.isElement(e) &&
                        ("_start" === e.id || "_end" === e.id)
                      );
                    })(n) && (n = n[e ? "firstChild" : "lastChild"]),
                    Do.isText(n) &&
                      0 === n.data.length &&
                      (n = e
                        ? t.previousSibling || t.nextSibling
                        : t.nextSibling || t.previousSibling),
                    l.remove(t, !0),
                    n
                  );
                },
                g = function(t) {
                  var n,
                    r,
                    o = t.commonAncestorContainer;
                  if (((t = pc(e, t, u, !0)), s.split)) {
                    if (((t = _m(t)), (n = tb(e, t, !0)) !== (r = tb(e, t)))) {
                      if (
                        (/^(TR|TH|TD)$/.test(n.nodeName) &&
                          n.firstChild &&
                          (n =
                            "TR" === n.nodeName
                              ? n.firstChild.firstChild || n
                              : n.firstChild || n),
                        o &&
                          /^T(HEAD|BODY|FOOT|R)$/.test(o.nodeName) &&
                          (function(e) {
                            return /^(TH|TD)$/.test(e.nodeName);
                          })(r) &&
                          r.firstChild &&
                          (r = r.firstChild || r),
                        eb(l, n, r))
                      ) {
                        var i = _.from(n.firstChild).getOr(n);
                        return (
                          d(
                            rb(l, i, !0, "span", {
                              id: "_start",
                              "data-mce-type": "bookmark"
                            })
                          ),
                          void h(!0)
                        );
                      }
                      if (eb(l, r, n))
                        return (
                          (i = _.from(r.lastChild).getOr(r)),
                          d(
                            rb(l, i, !1, "span", {
                              id: "_end",
                              "data-mce-type": "bookmark"
                            })
                          ),
                          void h(!1)
                        );
                      (n = nb(l, n, "span", {
                        id: "_start",
                        "data-mce-type": "bookmark"
                      })),
                        (r = nb(l, r, "span", {
                          id: "_end",
                          "data-mce-type": "bookmark"
                        })),
                        d(n),
                        d(r),
                        (n = h(!0)),
                        (r = h());
                    } else n = r = d(n);
                    (t.startContainer = n.parentNode ? n.parentNode : n),
                      (t.startOffset = l.nodeIndex(n)),
                      (t.endContainer = r.parentNode ? r.parentNode : r),
                      (t.endOffset = l.nodeIndex(r) + 1);
                  }
                  bc(l, t, function(t) {
                    Qv(t, function(t) {
                      m(t),
                        Do.isElement(t) &&
                          "underline" ===
                            e.dom.getStyle(t, "text-decoration") &&
                          t.parentNode &&
                          "underline" ===
                            rc.getTextDecoration(l, t.parentNode) &&
                          ib(
                            e,
                            {
                              deep: !1,
                              exact: !0,
                              inline: "span",
                              styles: { textDecoration: "underline" }
                            },
                            null,
                            t
                          );
                    });
                  });
                };
              if (r)
                r.nodeType
                  ? ((a = l.createRng()).setStartBefore(r),
                    a.setEndAfter(r),
                    g(a))
                  : g(r);
              else if ("false" !== l.getContentEditable(f.getNode()))
                f.isCollapsed() &&
                s.inline &&
                !l.select("td[data-mce-selected],th[data-mce-selected]").length
                  ? (function(e, t, n, r) {
                      var o,
                        i,
                        a,
                        u,
                        s,
                        c,
                        l,
                        f = e.dom,
                        d = e.selection,
                        m = [],
                        h = d.getRng();
                      for (
                        o = h.startContainer,
                          i = h.startOffset,
                          s = o,
                          3 === o.nodeType &&
                            (i !== o.nodeValue.length && (u = !0),
                            (s = s.parentNode));
                        s;

                      ) {
                        if (Tm.matchNode(e, s, t, n, r)) {
                          c = s;
                          break;
                        }
                        s.nextSibling && (u = !0),
                          m.push(s),
                          (s = s.parentNode);
                      }
                      if (c)
                        if (u) {
                          (a = d.getBookmark()), h.collapse(!0);
                          var g = pc(e, h, e.formatter.get(t), !0);
                          (g = _m(g)),
                            e.formatter.remove(t, n, g),
                            d.moveToBookmark(a);
                        } else {
                          l = Iu(e.getBody(), c);
                          var p = Om(!1).dom(),
                            v = Mm(m, p);
                          Bm(e, p, l || c),
                            Am(e, l, !1),
                            d.setCursorLocation(v, 1),
                            f.isEmpty(c) && f.remove(c);
                        }
                    })(e, t, n, o)
                  : ((i = Pu.getPersistentBookmark(e.selection, !0)),
                    g(f.getRng()),
                    f.moveToBookmark(i),
                    s.inline &&
                      Tm.match(e, t, n, f.getStart()) &&
                      rc.moveStart(l, f, f.getRng()),
                    e.nodeChanged());
              else {
                r = f.getNode();
                for (
                  var p = 0, v = u.length;
                  p < v && (!u[p].ceFalseOverride || !ib(e, u[p], n, r, r));
                  p++
                );
              }
            },
            sb = Kt.each,
            cb = function(e) {
              return (
                e && 1 === e.nodeType && !Zs(e) && !Bu(e) && !Do.isBogus(e)
              );
            },
            lb = function(e, t) {
              var n;
              for (n = e; n; n = n[t]) {
                if (3 === n.nodeType && 0 !== n.nodeValue.length) return e;
                if (1 === n.nodeType && !Zs(n)) return n;
              }
              return e;
            },
            fb = function(e, t, n) {
              var r,
                o,
                i = new Mc(e);
              if (
                t &&
                n &&
                ((t = lb(t, "previousSibling")),
                (n = lb(n, "nextSibling")),
                i.compare(t, n))
              ) {
                for (r = t.nextSibling; r && r !== n; )
                  (o = r), (r = r.nextSibling), t.appendChild(o);
                return (
                  e.remove(n),
                  Kt.each(Kt.grep(n.childNodes), function(e) {
                    t.appendChild(e);
                  }),
                  t
                );
              }
              return n;
            },
            db = function(e, t, n) {
              sb(e.childNodes, function(e) {
                cb(e) && (t(e) && n(e), e.hasChildNodes() && db(e, t, n));
              });
            },
            mb = function(e, t) {
              return s(function(t, n) {
                return !(!n || !rc.getStyle(e, n, t));
              }, t);
            },
            hb = function(e, t, n) {
              return s(
                function(t, n, r) {
                  e.setStyle(r, t, n),
                    "" === r.getAttribute("style") &&
                      r.removeAttribute("style"),
                    gb(e, r);
                },
                t,
                n
              );
            },
            gb = function(e, t) {
              "SPAN" === t.nodeName &&
                0 === e.getAttribs(t).length &&
                e.remove(t, !0);
            },
            pb = function(e, t) {
              var n;
              1 === t.nodeType &&
                t.parentNode &&
                1 === t.parentNode.nodeType &&
                ((n = rc.getTextDecoration(e, t.parentNode)),
                e.getStyle(t, "color") && n
                  ? e.setStyle(t, "text-decoration", n)
                  : e.getStyle(t, "text-decoration") === n &&
                    e.setStyle(t, "text-decoration", null));
            },
            vb = function(e, t, n, r) {
              sb(t, function(t) {
                sb(e.dom.select(t.inline, r), function(r) {
                  cb(r) && ab(e, t, n, r, t.exact ? r : null);
                }),
                  (function(e, t, n) {
                    if (t.clear_child_styles) {
                      var r = t.links ? "*:not(a)" : "*";
                      sb(e.select(r, n), function(n) {
                        cb(n) &&
                          sb(t.styles, function(t, r) {
                            e.setStyle(n, r, "");
                          });
                      });
                    }
                  })(e.dom, t, r);
              });
            },
            bb = function(e, t, n, r) {
              (t.styles.color || t.styles.textDecoration) &&
                (Kt.walk(r, s(pb, e), "childNodes"), pb(e, r));
            },
            yb = function(e, t, n, r) {
              t.styles &&
                t.styles.backgroundColor &&
                db(
                  r,
                  mb(e, "fontSize"),
                  hb(
                    e,
                    "backgroundColor",
                    rc.replaceVars(t.styles.backgroundColor, n)
                  )
                );
            },
            wb = function(e, t, n, r) {
              ("sub" !== t.inline && "sup" !== t.inline) ||
                (db(r, mb(e, "fontSize"), hb(e, "fontSize", "")),
                e.remove(e.select("sup" === t.inline ? "sub" : "sup", r), !0));
            },
            xb = function(e, t, n, r) {
              r &&
                !1 !== t.merge_siblings &&
                ((r = fb(e, rc.getNonWhiteSpaceSibling(r), r)),
                (r = fb(e, r, rc.getNonWhiteSpaceSibling(r, !0))));
            },
            Cb = function(e, t, n, r, o) {
              (Tm.matchNode(e, o.parentNode, n, r) && ab(e, t, r, o)) ||
                (t.merge_with_parents &&
                  e.dom.getParent(o.parentNode, function(i) {
                    if (Tm.matchNode(e, i, n, r)) return ab(e, t, r, o), !0;
                  }));
            },
            Sb = Kt.each,
            Eb = function(e, t, n, r) {
              var o,
                i,
                a = e.formatter.get(t),
                u = a[0],
                s = !r && e.selection.isCollapsed(),
                c = e.dom,
                l = e.selection,
                f = function(e, t) {
                  if (((t = t || u), e)) {
                    if (
                      (t.onformat && t.onformat(e, t, n, r),
                      Sb(t.styles, function(t, r) {
                        c.setStyle(e, r, rc.replaceVars(t, n));
                      }),
                      t.styles)
                    ) {
                      var o = c.getAttrib(e, "style");
                      o && e.setAttribute("data-mce-style", o);
                    }
                    Sb(t.attributes, function(t, r) {
                      c.setAttrib(e, r, rc.replaceVars(t, n));
                    }),
                      Sb(t.classes, function(t) {
                        (t = rc.replaceVars(t, n)),
                          c.hasClass(e, t) || c.addClass(e, t);
                      });
                  }
                },
                d = function(e, t) {
                  var n = !1;
                  return (
                    !!u.selector &&
                    (Sb(e, function(e) {
                      if (!("collapsed" in e) || e.collapsed === s)
                        return c.is(t, e.selector) && !Bu(t)
                          ? (f(t, e), (n = !0), !1)
                          : void 0;
                    }),
                    n)
                  );
                },
                m = function(r, o, i, s) {
                  var c,
                    l,
                    m = [],
                    h = !0;
                  (c = u.inline || u.block),
                    (l = r.create(c)),
                    f(l),
                    bc(r, o, function(o) {
                      var i,
                        g = function(o) {
                          var p, v, b, y;
                          if (
                            ((y = h),
                            (p = o.nodeName.toLowerCase()),
                            (v = o.parentNode.nodeName.toLowerCase()),
                            1 === o.nodeType &&
                              r.getContentEditable(o) &&
                              ((y = h),
                              (h = "true" === r.getContentEditable(o)),
                              (b = !0)),
                            rc.isEq(p, "br"))
                          )
                            return (i = 0), void (u.block && r.remove(o));
                          if (u.wrapper && Tm.matchNode(e, o, t, n)) i = 0;
                          else {
                            if (
                              h &&
                              !b &&
                              u.block &&
                              !u.wrapper &&
                              rc.isTextBlock(e, p) &&
                              rc.isValid(e, v, c)
                            )
                              return (
                                (o = r.rename(o, c)),
                                f(o),
                                m.push(o),
                                void (i = 0)
                              );
                            if (u.selector) {
                              var w = d(a, o);
                              if (!u.inline || w) return void (i = 0);
                            }
                            !h ||
                            b ||
                            !rc.isValid(e, c, p) ||
                            !rc.isValid(e, v, c) ||
                            (!s &&
                              3 === o.nodeType &&
                              1 === o.nodeValue.length &&
                              65279 === o.nodeValue.charCodeAt(0)) ||
                            Bu(o) ||
                            (u.inline && r.isBlock(o))
                              ? ((i = 0),
                                Sb(Kt.grep(o.childNodes), g),
                                b && (h = y),
                                (i = 0))
                              : (i ||
                                  ((i = r.clone(l, !1)),
                                  o.parentNode.insertBefore(i, o),
                                  m.push(i)),
                                i.appendChild(o));
                          }
                        };
                      Sb(o, g);
                    }),
                    !0 === u.links &&
                      Sb(m, function(e) {
                        var t = function(e) {
                          "A" === e.nodeName && f(e, u),
                            Sb(Kt.grep(e.childNodes), t);
                        };
                        t(e);
                      }),
                    Sb(m, function(o) {
                      var i,
                        s = function(e) {
                          var t = !1;
                          return (
                            Sb(e.childNodes, function(e) {
                              if (
                                (function(e) {
                                  return (
                                    e &&
                                    1 === e.nodeType &&
                                    !Zs(e) &&
                                    !Bu(e) &&
                                    !Do.isBogus(e)
                                  );
                                })(e)
                              )
                                return (t = e), !1;
                            }),
                            t
                          );
                        };
                      (i = (function(e) {
                        var t = 0;
                        return (
                          Sb(e.childNodes, function(e) {
                            rc.isWhiteSpaceNode(e) || Zs(e) || t++;
                          }),
                          t
                        );
                      })(o)),
                        (!(m.length > 1) && r.isBlock(o)) || 0 !== i
                          ? (u.inline || u.wrapper) &&
                            (u.exact ||
                              1 !== i ||
                              (o = (function(e) {
                                var t, n;
                                return (
                                  (t = s(e)) &&
                                    !Zs(t) &&
                                    Tm.matchName(r, t, u) &&
                                    ((n = r.clone(t, !1)),
                                    f(n),
                                    r.replace(n, e, !0),
                                    r.remove(t, 1)),
                                  n || e
                                );
                              })(o)),
                            vb(e, a, n, o),
                            Cb(e, u, t, n, o),
                            yb(r, u, n, o),
                            wb(r, u, n, o),
                            xb(r, u, n, o))
                          : r.remove(o, 1);
                    });
                };
              if ("false" !== c.getContentEditable(l.getNode())) {
                if (u) {
                  if (r)
                    r.nodeType
                      ? d(a, r) ||
                        ((i = c.createRng()).setStartBefore(r),
                        i.setEndAfter(r),
                        m(c, pc(e, i, a), 0, !0))
                      : m(c, r, 0, !0);
                  else if (
                    s &&
                    u.inline &&
                    !c.select("td[data-mce-selected],th[data-mce-selected]")
                      .length
                  )
                    !(function(e, t, n) {
                      var r,
                        o,
                        i,
                        a,
                        u,
                        s,
                        c = e.selection;
                      (a = (r = c.getRng(!0)).startOffset),
                        (s = r.startContainer.nodeValue),
                        (o = Iu(e.getBody(), c.getStart())) && (i = Dm(o));
                      var l = /[^\s\u00a0\u00ad\u200b\ufeff]/;
                      s &&
                      a > 0 &&
                      a < s.length &&
                      l.test(s.charAt(a)) &&
                      l.test(s.charAt(a - 1))
                        ? ((u = c.getBookmark()),
                          r.collapse(!0),
                          (r = pc(e, r, e.formatter.get(t))),
                          (r = _m(r)),
                          e.formatter.apply(t, n, r),
                          c.moveToBookmark(u))
                        : ((o && i.nodeValue === km) ||
                            ((i = (o = (function(e, t) {
                              return e.importNode(t, !0);
                            })(e.getDoc(), Om(!0).dom())).firstChild),
                            r.insertNode(o),
                            (a = 1)),
                          e.formatter.apply(t, n, o),
                          c.setCursorLocation(i, a));
                    })(e, t, n);
                  else {
                    var h = e.selection.getNode();
                    e.settings.forced_root_block ||
                      !a[0].defaultBlock ||
                      c.getParent(h, c.isBlock) ||
                      Eb(e, a[0].defaultBlock),
                      e.selection.setRng(qc(e.selection.getRng())),
                      (o = Pu.getPersistentBookmark(e.selection, !0)),
                      m(c, pc(e, l.getRng(), a)),
                      u.styles && bb(c, u, n, h),
                      l.moveToBookmark(o),
                      rc.moveStart(c, l, l.getRng()),
                      e.nodeChanged();
                  }
                  Gv(t, e);
                }
              } else {
                r = l.getNode();
                for (var g = 0, p = a.length; g < p; g++)
                  if (a[g].ceFalseOverride && c.is(r, a[g].selector))
                    return void f(r, a[g]);
              }
            },
            Tb = { applyFormat: Eb },
            Nb = Kt.each,
            _b = function(e, t, n, r, o) {
              null === t.get() &&
                (function(e, t) {
                  var n = {};
                  e.set({}),
                    t.on("NodeChange", function(r) {
                      var o = rc.getParents(t.dom, r.element),
                        i = {};
                      (o = Kt.grep(o, function(e) {
                        return (
                          1 === e.nodeType && !e.getAttribute("data-mce-bogus")
                        );
                      })),
                        Nb(e.get(), function(e, r) {
                          Nb(o, function(a) {
                            return t.formatter.matchNode(a, r, {}, e.similar)
                              ? (n[r] ||
                                  (Nb(e, function(e) {
                                    e(!0, { node: a, format: r, parents: o });
                                  }),
                                  (n[r] = e)),
                                (i[r] = e),
                                !1)
                              : !Tm.matchesUnInheritedFormatSelector(t, a, r) &&
                                  void 0;
                          });
                        }),
                        Nb(n, function(e, t) {
                          i[t] ||
                            (delete n[t],
                            Nb(e, function(e) {
                              e(!1, { node: r.element, format: t, parents: o });
                            }));
                        });
                    });
                })(t, e),
                (function(e, t, n, r) {
                  var o = e.get();
                  Nb(t.split(","), function(e) {
                    o[e] || ((o[e] = []), (o[e].similar = r)), o[e].push(n);
                  }),
                    e.set(o);
                })(t, n, r, o);
            },
            kb = function(e) {
              var t = {
                valigntop: [
                  { selector: "td,th", styles: { verticalAlign: "top" } }
                ],
                valignmiddle: [
                  { selector: "td,th", styles: { verticalAlign: "middle" } }
                ],
                valignbottom: [
                  { selector: "td,th", styles: { verticalAlign: "bottom" } }
                ],
                alignleft: [
                  {
                    selector: "figure.image",
                    collapsed: !1,
                    classes: "align-left",
                    ceFalseOverride: !0,
                    preview: "font-family font-size"
                  },
                  {
                    selector:
                      "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                    styles: { textAlign: "left" },
                    inherit: !1,
                    preview: !1,
                    defaultBlock: "div"
                  },
                  {
                    selector: "img,table",
                    collapsed: !1,
                    styles: { float: "left" },
                    preview: "font-family font-size"
                  }
                ],
                aligncenter: [
                  {
                    selector:
                      "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                    styles: { textAlign: "center" },
                    inherit: !1,
                    preview: "font-family font-size",
                    defaultBlock: "div"
                  },
                  {
                    selector: "figure.image",
                    collapsed: !1,
                    classes: "align-center",
                    ceFalseOverride: !0,
                    preview: "font-family font-size"
                  },
                  {
                    selector: "img",
                    collapsed: !1,
                    styles: {
                      display: "block",
                      marginLeft: "auto",
                      marginRight: "auto"
                    },
                    preview: !1
                  },
                  {
                    selector: "table",
                    collapsed: !1,
                    styles: { marginLeft: "auto", marginRight: "auto" },
                    preview: "font-family font-size"
                  }
                ],
                alignright: [
                  {
                    selector: "figure.image",
                    collapsed: !1,
                    classes: "align-right",
                    ceFalseOverride: !0,
                    preview: "font-family font-size"
                  },
                  {
                    selector:
                      "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                    styles: { textAlign: "right" },
                    inherit: !1,
                    preview: "font-family font-size",
                    defaultBlock: "div"
                  },
                  {
                    selector: "img,table",
                    collapsed: !1,
                    styles: { float: "right" },
                    preview: "font-family font-size"
                  }
                ],
                alignjustify: [
                  {
                    selector:
                      "figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",
                    styles: { textAlign: "justify" },
                    inherit: !1,
                    defaultBlock: "div",
                    preview: "font-family font-size"
                  }
                ],
                bold: [
                  { inline: "strong", remove: "all" },
                  { inline: "span", styles: { fontWeight: "bold" } },
                  { inline: "b", remove: "all" }
                ],
                italic: [
                  { inline: "em", remove: "all" },
                  { inline: "span", styles: { fontStyle: "italic" } },
                  { inline: "i", remove: "all" }
                ],
                underline: [
                  {
                    inline: "span",
                    styles: { textDecoration: "underline" },
                    exact: !0
                  },
                  { inline: "u", remove: "all" }
                ],
                strikethrough: [
                  {
                    inline: "span",
                    styles: { textDecoration: "line-through" },
                    exact: !0
                  },
                  { inline: "strike", remove: "all" }
                ],
                forecolor: {
                  inline: "span",
                  styles: { color: "%value" },
                  links: !0,
                  remove_similar: !0,
                  clear_child_styles: !0
                },
                hilitecolor: {
                  inline: "span",
                  styles: { backgroundColor: "%value" },
                  links: !0,
                  remove_similar: !0,
                  clear_child_styles: !0
                },
                fontname: {
                  inline: "span",
                  toggle: !1,
                  styles: { fontFamily: "%value" },
                  clear_child_styles: !0
                },
                fontsize: {
                  inline: "span",
                  toggle: !1,
                  styles: { fontSize: "%value" },
                  clear_child_styles: !0
                },
                fontsize_class: {
                  inline: "span",
                  attributes: { class: "%value" }
                },
                blockquote: { block: "blockquote", wrapper: 1, remove: "all" },
                subscript: { inline: "sub" },
                superscript: { inline: "sup" },
                code: { inline: "code" },
                link: {
                  inline: "a",
                  selector: "a",
                  remove: "all",
                  split: !0,
                  deep: !0,
                  onmatch: function() {
                    return !0;
                  },
                  onformat: function(t, n, r) {
                    Kt.each(r, function(n, r) {
                      e.setAttrib(t, r, n);
                    });
                  }
                },
                removeformat: [
                  {
                    selector:
                      "b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",
                    remove: "all",
                    split: !0,
                    expand: !1,
                    block_expand: !0,
                    deep: !0
                  },
                  {
                    selector: "span",
                    attributes: ["style", "class"],
                    remove: "empty",
                    split: !0,
                    expand: !1,
                    deep: !0
                  },
                  {
                    selector: "*",
                    attributes: ["style", "class"],
                    split: !1,
                    expand: !1,
                    deep: !0
                  }
                ]
              };
              return (
                Kt.each(
                  "p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(
                    /\s/
                  ),
                  function(e) {
                    t[e] = { block: e, remove: "all" };
                  }
                ),
                t
              );
            },
            Rb = Kt.each,
            Db = fi.DOM,
            Ob = function(e, t) {
              var n,
                r,
                o,
                i = (t && t.schema) || ei({}),
                a = function(e) {
                  var t;
                  return (
                    (r =
                      "string" == typeof e
                        ? { name: e, classes: [], attrs: {} }
                        : e),
                    (function(e, t) {
                      t.classes.length && Db.addClass(e, t.classes.join(" ")),
                        Db.setAttribs(e, t.attrs);
                    })((t = Db.create(r.name)), r),
                    t
                  );
                },
                u = function(e, t, n) {
                  var r,
                    o,
                    s,
                    c = t.length > 0 && t[0],
                    l = c && c.name;
                  if (
                    (s = (function(e, t) {
                      var n =
                          "string" != typeof e ? e.nodeName.toLowerCase() : e,
                        r = i.getElementRule(n),
                        o = r && r.parentsRequired;
                      return (
                        !(!o || !o.length) &&
                        (t && -1 !== Kt.inArray(o, t) ? t : o[0])
                      );
                    })(e, l))
                  )
                    l === s ? ((o = t[0]), (t = t.slice(1))) : (o = s);
                  else if (c) (o = t[0]), (t = t.slice(1));
                  else if (!n) return e;
                  return (
                    o && (r = a(o)).appendChild(e),
                    n &&
                      (r || (r = Db.create("div")).appendChild(e),
                      Kt.each(n, function(t) {
                        var n = a(t);
                        r.insertBefore(n, e);
                      })),
                    u(r, t, o && o.siblings)
                  );
                };
              return e && e.length
                ? ((r = e[0]),
                  (n = a(r)),
                  (o = Db.create("div")).appendChild(
                    u(n, e.slice(1), r.siblings)
                  ),
                  o)
                : "";
            },
            Ab = function(e) {
              var t,
                n = { classes: [], attrs: {} };
              return (
                "*" !== (e = n.selector = Kt.trim(e)) &&
                  (t = e.replace(
                    /(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,
                    function(e, t, r, o, i) {
                      switch (t) {
                        case "#":
                          n.attrs.id = r;
                          break;
                        case ".":
                          n.classes.push(r);
                          break;
                        case ":":
                          -1 !==
                            Kt.inArray(
                              "checked disabled enabled read-only required".split(
                                " "
                              ),
                              r
                            ) && (n.attrs[r] = r);
                      }
                      if ("[" === o) {
                        var a = i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);
                        a && (n.attrs[a[1]] = a[2]);
                      }
                      return "";
                    }
                  )),
                (n.name = t || "div"),
                n
              );
            },
            Pb = function(e) {
              return e && "string" == typeof e
                ? ((e = (e = e.split(/\s*,\s*/)[0]).replace(
                    /\s*(~\+|~|\+|>)\s*/g,
                    "$1"
                  )),
                  Kt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/), function(e) {
                    var t = Kt.map(e.split(/(?:~\+|~|\+)/), Ab),
                      n = t.pop();
                    return t.length && (n.siblings = t), n;
                  }).reverse())
                : [];
            },
            Bb = function(e, t) {
              var n,
                r,
                o,
                i,
                a,
                u,
                s = "";
              if (!1 === (u = e.settings.preview_styles)) return "";
              "string" != typeof u &&
                (u =
                  "font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");
              var c = function(e) {
                return e.replace(/%(\w+)/g, "");
              };
              if ("string" == typeof t) {
                if (!(t = e.formatter.get(t))) return;
                t = t[0];
              }
              return "preview" in t && !1 === (u = t.preview)
                ? ""
                : ((n = t.block || t.inline || "span"),
                  (i = Pb(t.selector)).length
                    ? (i[0].name || (i[0].name = n),
                      (n = t.selector),
                      (r = Ob(i, e)))
                    : (r = Ob([n], e)),
                  (o = Db.select(n, r)[0] || r.firstChild),
                  Rb(t.styles, function(e, t) {
                    (e = c(e)) && Db.setStyle(o, t, e);
                  }),
                  Rb(t.attributes, function(e, t) {
                    (e = c(e)) && Db.setAttrib(o, t, e);
                  }),
                  Rb(t.classes, function(e) {
                    (e = c(e)), Db.hasClass(o, e) || Db.addClass(o, e);
                  }),
                  e.fire("PreviewFormats"),
                  Db.setStyles(r, { position: "absolute", left: -65535 }),
                  e.getBody().appendChild(r),
                  (a = Db.getStyle(e.getBody(), "fontSize", !0)),
                  (a = /px$/.test(a) ? parseInt(a, 10) : 0),
                  Rb(u.split(" "), function(t) {
                    var n = Db.getStyle(o, t, !0);
                    if (
                      !(
                        ("background-color" === t &&
                          /transparent|rgba\s*\([^)]+,\s*0\)/.test(n) &&
                          ((n = Db.getStyle(e.getBody(), t, !0)),
                          "#ffffff" === Db.toHex(n).toLowerCase())) ||
                        ("color" === t &&
                          "#000000" === Db.toHex(n).toLowerCase())
                      )
                    ) {
                      if ("font-size" === t && /em|%$/.test(n)) {
                        if (0 === a) return;
                        n =
                          (parseFloat(n) / (/%$/.test(n) ? 100 : 1)) * a + "px";
                      }
                      "border" === t && n && (s += "padding:0 2px;"),
                        (s += t + ":" + n + ";");
                    }
                  }),
                  e.fire("AfterPreviewFormats"),
                  Db.remove(r),
                  s);
            },
            Ib = function(e, t, n, r, o) {
              var i = t.get(n);
              !Tm.match(e, n, r, o) || ("toggle" in i[0] && !i[0].toggle)
                ? Tb.applyFormat(e, n, r, o)
                : ub(e, n, r, o);
            },
            Mb = function(e) {
              e.addShortcut("meta+b", "", "Bold"),
                e.addShortcut("meta+i", "", "Italic"),
                e.addShortcut("meta+u", "", "Underline");
              for (var t = 1; t <= 6; t++)
                e.addShortcut("access+" + t, "", ["FormatBlock", !1, "h" + t]);
              e.addShortcut("access+7", "", ["FormatBlock", !1, "p"]),
                e.addShortcut("access+8", "", ["FormatBlock", !1, "div"]),
                e.addShortcut("access+9", "", ["FormatBlock", !1, "address"]);
            };
          function Lb(e) {
            var t = (function(e) {
                var t = {},
                  n = function(e, r) {
                    e &&
                      ("string" != typeof e
                        ? Kt.each(e, function(e, t) {
                            n(t, e);
                          })
                        : ((r = r.length ? r : [r]),
                          Kt.each(r, function(e) {
                            void 0 === e.deep && (e.deep = !e.selector),
                              void 0 === e.split &&
                                (e.split = !e.selector || e.inline),
                              void 0 === e.remove &&
                                e.selector &&
                                !e.inline &&
                                (e.remove = "none"),
                              e.selector &&
                                e.inline &&
                                ((e.mixed = !0), (e.block_expand = !0)),
                              "string" == typeof e.classes &&
                                (e.classes = e.classes.split(/\s+/));
                          }),
                          (t[e] = r)));
                  };
                return (
                  n(kb(e.dom)),
                  n(e.settings.formats),
                  {
                    get: function(e) {
                      return e ? t[e] : t;
                    },
                    register: n,
                    unregister: function(e) {
                      return e && t[e] && delete t[e], t;
                    }
                  }
                );
              })(e),
              n = ki(null);
            return (
              Mb(e),
              Lm(e),
              {
                get: t.get,
                register: t.register,
                unregister: t.unregister,
                apply: s(Tb.applyFormat, e),
                remove: s(ub, e),
                toggle: s(Ib, e, t),
                match: s(Tm.match, e),
                matchAll: s(Tm.matchAll, e),
                matchNode: s(Tm.matchNode, e),
                canApply: s(Tm.canApply, e),
                formatChanged: s(_b, e, n),
                getCssText: s(Bb, e)
              }
            );
          }
          var Fb,
            Hb = Object.prototype.hasOwnProperty,
            zb =
              ((Fb = function(e, t) {
                return t;
              }),
              function() {
                for (
                  var e = new Array(arguments.length), t = 0;
                  t < e.length;
                  t++
                )
                  e[t] = arguments[t];
                if (0 === e.length) throw new Error("Can't merge zero objects");
                for (var n = {}, r = 0; r < e.length; r++) {
                  var o = e[r];
                  for (var i in o) Hb.call(o, i) && (n[i] = Fb(n[i], o[i]));
                }
                return n;
              }),
            Wb = function(e, t, n) {
              e.addAttributeFilter("data-mce-tabindex", function(e, t) {
                for (var n, r = e.length; r--; )
                  (n = e[r]).attr(
                    "tabindex",
                    n.attributes.map["data-mce-tabindex"]
                  ),
                    n.attr(t, null);
              }),
                e.addAttributeFilter("src,href,style", function(e, r) {
                  for (
                    var o,
                      i,
                      a = e.length,
                      u = "data-mce-" + r,
                      s = t.url_converter,
                      c = t.url_converter_scope;
                    a--;

                  )
                    void 0 !== (i = (o = e[a]).attributes.map[u])
                      ? (o.attr(r, i.length > 0 ? i : null), o.attr(u, null))
                      : ((i = o.attributes.map[r]),
                        "style" === r
                          ? (i = n.serializeStyle(n.parseStyle(i), o.name))
                          : s && (i = s.call(c, i, r, o.name)),
                        o.attr(r, i.length > 0 ? i : null));
                }),
                e.addAttributeFilter("class", function(e) {
                  for (var t, n, r = e.length; r--; )
                    (n = (t = e[r]).attr("class")) &&
                      ((n = t
                        .attr("class")
                        .replace(/(?:^|\s)mce-item-\w+(?!\S)/g, "")),
                      t.attr("class", n.length > 0 ? n : null));
                }),
                e.addAttributeFilter("data-mce-type", function(e, t, n) {
                  for (var r, o = e.length; o--; )
                    "bookmark" !== (r = e[o]).attributes.map["data-mce-type"] ||
                      n.cleanup ||
                      (_.from(r.firstChild).exists(function(e) {
                        return !ra(e.value);
                      })
                        ? r.unwrap()
                        : r.remove());
                }),
                e.addNodeFilter("noscript", function(e) {
                  for (var t, n = e.length; n--; )
                    (t = e[n].firstChild) && (t.value = Vo.decode(t.value));
                }),
                e.addNodeFilter("script,style", function(e, n) {
                  for (
                    var r,
                      o,
                      i,
                      a = e.length,
                      u = function(e) {
                        return e
                          .replace(/(<!--\[CDATA\[|\]\]-->)/g, "\n")
                          .replace(/^[\r\n]*|[\r\n]*$/g, "")
                          .replace(
                            /^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,
                            ""
                          )
                          .replace(
                            /\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,
                            ""
                          );
                      };
                    a--;

                  )
                    (o = (r = e[a]).firstChild ? r.firstChild.value : ""),
                      "script" === n
                        ? ((i = r.attr("type")) &&
                            r.attr(
                              "type",
                              "mce-no/type" === i
                                ? null
                                : i.replace(/^mce\-/, "")
                            ),
                          "xhtml" === t.element_format &&
                            o.length > 0 &&
                            (r.firstChild.value =
                              "// <![CDATA[\n" + u(o) + "\n// ]]>"))
                        : "xhtml" === t.element_format &&
                          o.length > 0 &&
                          (r.firstChild.value =
                            "\x3c!--\n" + u(o) + "\n--\x3e");
                }),
                e.addNodeFilter("#comment", function(e) {
                  for (var t, n = e.length; n--; )
                    0 === (t = e[n]).value.indexOf("[CDATA[")
                      ? ((t.name = "#cdata"),
                        (t.type = 4),
                        (t.value = t.value.replace(/^\[CDATA\[|\]\]$/g, "")))
                      : 0 === t.value.indexOf("mce:protected ") &&
                        ((t.name = "#text"),
                        (t.type = 3),
                        (t.raw = !0),
                        (t.value = unescape(t.value).substr(14)));
                }),
                e.addNodeFilter("xml:namespace,input", function(e, t) {
                  for (var n, r = e.length; r--; )
                    7 === (n = e[r]).type
                      ? n.remove()
                      : 1 === n.type &&
                        ("input" !== t ||
                          "type" in n.attributes.map ||
                          n.attr("type", "text"));
                }),
                e.addAttributeFilter("data-mce-type", function(t) {
                  j(t, function(t) {
                    "format-caret" === t.attr("data-mce-type") &&
                      (t.isEmpty(e.schema.getNonEmptyElements())
                        ? t.remove()
                        : t.unwrap());
                  });
                }),
                e.addAttributeFilter(
                  "data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",
                  function(e, t) {
                    for (var n = e.length; n--; ) e[n].attr(t, null);
                  }
                );
            },
            Ub = function(e) {
              var t,
                n,
                r = function(e) {
                  return e && "br" === e.name;
                };
              r((t = e.lastChild)) &&
                r((n = t.prev)) &&
                (t.remove(), n.remove());
            },
            jb = function(e, t, n) {
              return (function(e, t) {
                return e && e.hasEventListeners("PreProcess") && !t.no_events;
              })(e, n)
                ? (function(e, t, n) {
                    var o,
                      i,
                      a,
                      u = e.dom;
                    return (
                      (t = t.cloneNode(!0)),
                      (o = r.document.implementation).createHTMLDocument &&
                        ((i = o.createHTMLDocument("")),
                        Kt.each(
                          "BODY" === t.nodeName ? t.childNodes : [t],
                          function(e) {
                            i.body.appendChild(i.importNode(e, !0));
                          }
                        ),
                        (t =
                          "BODY" !== t.nodeName ? i.body.firstChild : i.body),
                        (a = u.doc),
                        (u.doc = i)),
                      cg(e, zb(n, { node: t })),
                      a && (u.doc = a),
                      t
                    );
                  })(e, t, n)
                : t;
            },
            Vb = function(e, t, n) {
              e.addNodeFilter("font", function(e) {
                j(e, function(e) {
                  var r = t.parse(e.attr("style")),
                    o = e.attr("color"),
                    i = e.attr("face"),
                    a = e.attr("size");
                  o && (r.color = o),
                    i && (r["font-family"] = i),
                    a && (r["font-size"] = n[parseInt(e.attr("size"), 10) - 1]),
                    (e.name = "span"),
                    e.attr("style", t.serialize(r)),
                    (function(e, t) {
                      j(t, function(t) {
                        e.attr(t, null);
                      });
                    })(e, ["color", "face", "size"]);
                });
              });
            },
            qb = function(e, t) {
              var n = ni();
              t.convert_fonts_to_spans &&
                Vb(e, n, Kt.explode(t.font_size_legacy_values)),
                (function(e, t) {
                  e.addNodeFilter("strike", function(e) {
                    j(e, function(e) {
                      var n = t.parse(e.attr("style"));
                      (n["text-decoration"] = "line-through"),
                        (e.name = "span"),
                        e.attr("style", t.serialize(n));
                    });
                  });
                })(e, n);
            },
            $b = function(e, t) {
              t.inline_styles && qb(e, t);
            },
            Kb = /^[ \t\r\n]*$/,
            Yb = {
              "#text": 3,
              "#comment": 8,
              "#cdata": 4,
              "#pi": 7,
              "#doctype": 10,
              "#document-fragment": 11
            },
            Xb = function(e, t, n) {
              var r,
                o,
                i = n ? "lastChild" : "firstChild",
                a = n ? "prev" : "next";
              if (e[i]) return e[i];
              if (e !== t) {
                if ((r = e[a])) return r;
                for (o = e.parent; o && o !== t; o = o.parent)
                  if ((r = o[a])) return r;
              }
            },
            Gb = (function() {
              function e(e, t) {
                (this.name = e),
                  (this.type = t),
                  1 === t &&
                    ((this.attributes = []), (this.attributes.map = {}));
              }
              return (
                (e.create = function(t, n) {
                  var r, o;
                  if (((r = new e(t, Yb[t] || 1)), n))
                    for (o in n) r.attr(o, n[o]);
                  return r;
                }),
                (e.prototype.replace = function(e) {
                  return (
                    e.parent && e.remove(),
                    this.insert(e, this),
                    this.remove(),
                    this
                  );
                }),
                (e.prototype.attr = function(e, t) {
                  var n, r;
                  if ("string" != typeof e) {
                    for (r in e) this.attr(r, e[r]);
                    return this;
                  }
                  if ((n = this.attributes)) {
                    if (void 0 !== t) {
                      if (null === t) {
                        if (e in n.map)
                          for (delete n.map[e], r = n.length; r--; )
                            if (n[r].name === e)
                              return (n = n.splice(r, 1)), this;
                        return this;
                      }
                      if (e in n.map) {
                        for (r = n.length; r--; )
                          if (n[r].name === e) {
                            n[r].value = t;
                            break;
                          }
                      } else n.push({ name: e, value: t });
                      return (n.map[e] = t), this;
                    }
                    return n.map[e];
                  }
                }),
                (e.prototype.clone = function() {
                  var t,
                    n,
                    r,
                    o,
                    i,
                    a = new e(this.name, this.type);
                  if ((r = this.attributes)) {
                    for ((i = []).map = {}, t = 0, n = r.length; t < n; t++)
                      "id" !== (o = r[t]).name &&
                        ((i[i.length] = { name: o.name, value: o.value }),
                        (i.map[o.name] = o.value));
                    a.attributes = i;
                  }
                  return (
                    (a.value = this.value), (a.shortEnded = this.shortEnded), a
                  );
                }),
                (e.prototype.wrap = function(e) {
                  return this.parent.insert(e, this), e.append(this), this;
                }),
                (e.prototype.unwrap = function() {
                  var e, t;
                  for (e = this.firstChild; e; )
                    (t = e.next), this.insert(e, this, !0), (e = t);
                  this.remove();
                }),
                (e.prototype.remove = function() {
                  var e = this.parent,
                    t = this.next,
                    n = this.prev;
                  return (
                    e &&
                      (e.firstChild === this
                        ? ((e.firstChild = t), t && (t.prev = null))
                        : (n.next = t),
                      e.lastChild === this
                        ? ((e.lastChild = n), n && (n.next = null))
                        : (t.prev = n),
                      (this.parent = this.next = this.prev = null)),
                    this
                  );
                }),
                (e.prototype.append = function(e) {
                  var t;
                  return (
                    e.parent && e.remove(),
                    (t = this.lastChild)
                      ? ((t.next = e), (e.prev = t), (this.lastChild = e))
                      : (this.lastChild = this.firstChild = e),
                    (e.parent = this),
                    e
                  );
                }),
                (e.prototype.insert = function(e, t, n) {
                  var r;
                  return (
                    e.parent && e.remove(),
                    (r = t.parent || this),
                    n
                      ? (t === r.firstChild
                          ? (r.firstChild = e)
                          : (t.prev.next = e),
                        (e.prev = t.prev),
                        (e.next = t),
                        (t.prev = e))
                      : (t === r.lastChild
                          ? (r.lastChild = e)
                          : (t.next.prev = e),
                        (e.next = t.next),
                        (e.prev = t),
                        (t.next = e)),
                    (e.parent = r),
                    e
                  );
                }),
                (e.prototype.getAll = function(e) {
                  var t,
                    n = [];
                  for (t = this.firstChild; t; t = Xb(t, this))
                    t.name === e && n.push(t);
                  return n;
                }),
                (e.prototype.empty = function() {
                  var e, t, n;
                  if (this.firstChild) {
                    for (e = [], n = this.firstChild; n; n = Xb(n, this))
                      e.push(n);
                    for (t = e.length; t--; )
                      (n =
                        e[
                          t
                        ]).parent = n.firstChild = n.lastChild = n.next = n.prev = null;
                  }
                  return (this.firstChild = this.lastChild = null), this;
                }),
                (e.prototype.isEmpty = function(e, t, n) {
                  var r,
                    o,
                    i = this.firstChild;
                  if (((t = t || {}), i))
                    do {
                      if (1 === i.type) {
                        if (i.attributes.map["data-mce-bogus"]) continue;
                        if (e[i.name]) return !1;
                        for (r = i.attributes.length; r--; )
                          if (
                            "name" === (o = i.attributes[r].name) ||
                            0 === o.indexOf("data-mce-bookmark")
                          )
                            return !1;
                      }
                      if (8 === i.type) return !1;
                      if (3 === i.type && !Kb.test(i.value)) return !1;
                      if (
                        3 === i.type &&
                        i.parent &&
                        t[i.parent.name] &&
                        Kb.test(i.value)
                      )
                        return !1;
                      if (n && n(i)) return !1;
                    } while ((i = Xb(i, this)));
                  return !0;
                }),
                (e.prototype.walk = function(e) {
                  return Xb(this, null, e);
                }),
                e
              );
            })(),
            Jb = function(e, t, n, r) {
              (e.padd_empty_with_br || t.insert) && n[r.name]
                ? (r.empty().append(new Gb("br", 1)).shortEnded = !0)
                : (r.empty().append(new Gb("#text", 3)).value = " ");
            },
            Qb = function(e, t) {
              return (
                e &&
                e.firstChild &&
                e.firstChild === e.lastChild &&
                e.firstChild.name === t
              );
            },
            Zb = function(e, t, n, r) {
              return r.isEmpty(t, n, function(t) {
                return (function(e, t) {
                  var n = e.getElementRule(t.name);
                  return n && n.paddEmpty;
                })(e, t);
              });
            },
            ey = Kt.makeMap,
            ty = Kt.each,
            ny = Kt.explode,
            ry = Kt.extend;
          function oy(e, t) {
            void 0 === t && (t = ei());
            var n = {},
              r = [],
              o = {},
              i = {};
            ((e = e || {}).validate = !("validate" in e) || e.validate),
              (e.root_name = e.root_name || "body");
            var a = function(e) {
                var t, a, u;
                (a = e.name) in n && ((u = o[a]) ? u.push(e) : (o[a] = [e])),
                  (t = r.length);
                for (; t--; )
                  (a = r[t].name) in e.attributes.map &&
                    ((u = i[a]) ? u.push(e) : (i[a] = [e]));
                return e;
              },
              u = {
                schema: t,
                addAttributeFilter: function(e, t) {
                  ty(ny(e), function(e) {
                    var n;
                    for (n = 0; n < r.length; n++)
                      if (r[n].name === e) return void r[n].callbacks.push(t);
                    r.push({ name: e, callbacks: [t] });
                  });
                },
                getAttributeFilters: function() {
                  return [].concat(r);
                },
                addNodeFilter: function(e, t) {
                  ty(ny(e), function(e) {
                    var r = n[e];
                    r || (n[e] = r = []), r.push(t);
                  });
                },
                getNodeFilters: function() {
                  var e = [];
                  for (var t in n)
                    n.hasOwnProperty(t) && e.push({ name: t, callbacks: n[t] });
                  return e;
                },
                filterNode: a,
                parse: function(u, s) {
                  var c,
                    l,
                    f,
                    d,
                    m,
                    h,
                    g,
                    p,
                    v,
                    b,
                    y,
                    w = [];
                  (s = s || {}),
                    (o = {}),
                    (i = {}),
                    (v = ry(
                      ey("script,style,head,html,body,title,meta,param"),
                      t.getBlockElements()
                    ));
                  var x = t.getNonEmptyElements(),
                    C = t.children,
                    S = e.validate,
                    E =
                      "forced_root_block" in s
                        ? s.forced_root_block
                        : e.forced_root_block,
                    T = t.getWhiteSpaceElements(),
                    N = /^[ \t\r\n]+/,
                    _ = /[ \t\r\n]+$/,
                    k = /[ \t\r\n]+/g,
                    R = /^[ \t\r\n]+$/;
                  b =
                    T.hasOwnProperty(s.context) ||
                    T.hasOwnProperty(e.root_name);
                  var D = function(e, t) {
                      var r,
                        i = new Gb(e, t);
                      return (
                        e in n && ((r = o[e]) ? r.push(i) : (o[e] = [i])), i
                      );
                    },
                    O = function(e) {
                      var n,
                        r,
                        o,
                        i,
                        a = t.getBlockElements();
                      for (n = e.prev; n && 3 === n.type; ) {
                        if ((o = n.value.replace(_, "")).length > 0)
                          return void (n.value = o);
                        if ((r = n.next)) {
                          if (3 === r.type && r.value.length) {
                            n = n.prev;
                            continue;
                          }
                          if (
                            !a[r.name] &&
                            "script" !== r.name &&
                            "style" !== r.name
                          ) {
                            n = n.prev;
                            continue;
                          }
                        }
                        (i = n.prev), n.remove(), (n = i);
                      }
                    };
                  c = _v(
                    {
                      validate: S,
                      allow_script_urls: e.allow_script_urls,
                      allow_conditional_comments: e.allow_conditional_comments,
                      self_closing_elements: (function(e) {
                        var t,
                          n = {};
                        for (t in e) "li" !== t && "p" !== t && (n[t] = e[t]);
                        return n;
                      })(t.getSelfClosingElements()),
                      cdata: function(e) {
                        y.append(D("#cdata", 4)).value = e;
                      },
                      text: function(e, t) {
                        var n;
                        b ||
                          ((e = e.replace(k, " ")),
                          (function(e, t) {
                            return e && (t[e.name] || "br" === e.name);
                          })(y.lastChild, v) && (e = e.replace(N, ""))),
                          0 !== e.length &&
                            (((n = D("#text", 3)).raw = !!t),
                            (y.append(n).value = e));
                      },
                      comment: function(e) {
                        y.append(D("#comment", 8)).value = e;
                      },
                      pi: function(e, t) {
                        (y.append(D(e, 7)).value = t), O(y);
                      },
                      doctype: function(e) {
                        (y.append(D("#doctype", 10)).value = e), O(y);
                      },
                      start: function(e, n, o) {
                        var a, u, s, c, l;
                        if ((s = S ? t.getElementRule(e) : {})) {
                          for (
                            (a = D(s.outputName || e, 1)).attributes = n,
                              a.shortEnded = o,
                              y.append(a),
                              (l = C[y.name]) &&
                                C[a.name] &&
                                !l[a.name] &&
                                w.push(a),
                              u = r.length;
                            u--;

                          )
                            (c = r[u].name) in n.map &&
                              ((g = i[c]) ? g.push(a) : (i[c] = [a]));
                          v[e] && O(a), o || (y = a), !b && T[e] && (b = !0);
                        }
                      },
                      end: function(n) {
                        var r, o, i, a, u;
                        if ((o = S ? t.getElementRule(n) : {})) {
                          if (v[n] && !b) {
                            if ((r = y.firstChild) && 3 === r.type)
                              if ((i = r.value.replace(N, "")).length > 0)
                                (r.value = i), (r = r.next);
                              else
                                for (
                                  a = r.next, r.remove(), r = a;
                                  r && 3 === r.type;

                                )
                                  (i = r.value),
                                    (a = r.next),
                                    (0 === i.length || R.test(i)) &&
                                      (r.remove(), (r = a)),
                                    (r = a);
                            if ((r = y.lastChild) && 3 === r.type)
                              if ((i = r.value.replace(_, "")).length > 0)
                                (r.value = i), (r = r.prev);
                              else
                                for (
                                  a = r.prev, r.remove(), r = a;
                                  r && 3 === r.type;

                                )
                                  (i = r.value),
                                    (a = r.prev),
                                    (0 === i.length || R.test(i)) &&
                                      (r.remove(), (r = a)),
                                    (r = a);
                          }
                          if (
                            (b && T[n] && (b = !1),
                            o.removeEmpty &&
                              Zb(t, x, T, y) &&
                              !y.attributes.map.name &&
                              !y.attr("id"))
                          )
                            return (
                              (u = y.parent),
                              v[y.name] ? y.empty().remove() : y.unwrap(),
                              void (y = u)
                            );
                          o.paddEmpty &&
                            ((function(e) {
                              return (
                                Qb(e, "#text") && " " === e.firstChild.value
                              );
                            })(y) ||
                              Zb(t, x, T, y)) &&
                            Jb(e, s, v, y),
                            (y = y.parent);
                        }
                      }
                    },
                    t
                  );
                  var A = (y = new Gb(s.context || e.root_name, 11));
                  if (
                    (c.parse(u),
                    S &&
                      w.length &&
                      (s.context
                        ? (s.invalid = !0)
                        : (function(e) {
                            var n, r, o, i, u, s, c, l, f, d, m, h, g, p, v, b;
                            for (
                              h = ey("tr,td,th,tbody,thead,tfoot,table"),
                                d = t.getNonEmptyElements(),
                                m = t.getWhiteSpaceElements(),
                                g = t.getTextBlockElements(),
                                p = t.getSpecialElements(),
                                n = 0;
                              n < e.length;
                              n++
                            )
                              if ((r = e[n]).parent && !r.fixed)
                                if (g[r.name] && "li" === r.parent.name) {
                                  for (v = r.next; v && g[v.name]; )
                                    (v.name = "li"),
                                      (v.fixed = !0),
                                      r.parent.insert(v, r.parent),
                                      (v = v.next);
                                  r.unwrap(r);
                                } else {
                                  for (
                                    i = [r], o = r.parent;
                                    o &&
                                    !t.isValidChild(o.name, r.name) &&
                                    !h[o.name];
                                    o = o.parent
                                  )
                                    i.push(o);
                                  if (o && i.length > 1) {
                                    for (
                                      i.reverse(),
                                        u = s = a(i[0].clone()),
                                        f = 0;
                                      f < i.length - 1;
                                      f++
                                    ) {
                                      for (
                                        t.isValidChild(s.name, i[f].name)
                                          ? ((c = a(i[f].clone())), s.append(c))
                                          : (c = s),
                                          l = i[f].firstChild;
                                        l && l !== i[f + 1];

                                      )
                                        (b = l.next), c.append(l), (l = b);
                                      s = c;
                                    }
                                    Zb(t, d, m, u)
                                      ? o.insert(r, i[0], !0)
                                      : (o.insert(u, i[0], !0), o.insert(r, u)),
                                      (o = i[0]),
                                      (Zb(t, d, m, o) || Qb(o, "br")) &&
                                        o.empty().remove();
                                  } else if (r.parent) {
                                    if ("li" === r.name) {
                                      if (
                                        (v = r.prev) &&
                                        ("ul" === v.name || "ul" === v.name)
                                      ) {
                                        v.append(r);
                                        continue;
                                      }
                                      if (
                                        (v = r.next) &&
                                        ("ul" === v.name || "ul" === v.name)
                                      ) {
                                        v.insert(r, v.firstChild, !0);
                                        continue;
                                      }
                                      r.wrap(a(new Gb("ul", 1)));
                                      continue;
                                    }
                                    t.isValidChild(r.parent.name, "div") &&
                                    t.isValidChild("div", r.name)
                                      ? r.wrap(a(new Gb("div", 1)))
                                      : p[r.name]
                                      ? r.empty().remove()
                                      : r.unwrap();
                                  }
                                }
                          })(w)),
                    E &&
                      ("body" === A.name || s.isRootContent) &&
                      (function() {
                        var n,
                          r,
                          o = A.firstChild,
                          i = function(e) {
                            e &&
                              ((o = e.firstChild) &&
                                3 === o.type &&
                                (o.value = o.value.replace(N, "")),
                              (o = e.lastChild) &&
                                3 === o.type &&
                                (o.value = o.value.replace(_, "")));
                          };
                        if (t.isValidChild(A.name, E.toLowerCase())) {
                          for (; o; )
                            (n = o.next),
                              3 === o.type ||
                              (1 === o.type &&
                                "p" !== o.name &&
                                !v[o.name] &&
                                !o.attr("data-mce-type"))
                                ? (r ||
                                    ((r = D(E, 1)).attr(
                                      e.forced_root_block_attrs
                                    ),
                                    A.insert(r, o)),
                                  r.append(o))
                                : (i(r), (r = null)),
                              (o = n);
                          i(r);
                        }
                      })(),
                    !s.invalid)
                  ) {
                    for (p in o) {
                      for (g = n[p], m = (l = o[p]).length; m--; )
                        l[m].parent || l.splice(m, 1);
                      for (f = 0, d = g.length; f < d; f++) g[f](l, p, s);
                    }
                    for (f = 0, d = r.length; f < d; f++)
                      if ((g = r[f]).name in i) {
                        for (m = (l = i[g.name]).length; m--; )
                          l[m].parent || l.splice(m, 1);
                        for (m = 0, h = g.callbacks.length; m < h; m++)
                          g.callbacks[m](l, g.name, s);
                      }
                  }
                  return A;
                }
              };
            return (
              (function(e, t) {
                var n = e.schema;
                t.remove_trailing_brs &&
                  e.addNodeFilter("br", function(e, r, o) {
                    var i,
                      a,
                      u,
                      s,
                      c,
                      l,
                      f,
                      d,
                      m = e.length,
                      h = Kt.extend({}, n.getBlockElements()),
                      g = n.getNonEmptyElements(),
                      p = n.getWhiteSpaceElements();
                    for (h.body = 1, i = 0; i < m; i++)
                      if (
                        ((u = (a = e[i]).parent),
                        h[a.parent.name] && a === u.lastChild)
                      ) {
                        for (c = a.prev; c; ) {
                          if (
                            "span" !== (l = c.name) ||
                            "bookmark" !== c.attr("data-mce-type")
                          ) {
                            if ("br" !== l) break;
                            if ("br" === l) {
                              a = null;
                              break;
                            }
                          }
                          c = c.prev;
                        }
                        a &&
                          (a.remove(),
                          Zb(n, g, p, u) &&
                            (f = n.getElementRule(u.name)) &&
                            (f.removeEmpty
                              ? u.remove()
                              : f.paddEmpty && Jb(t, o, h, u)));
                      } else {
                        for (
                          s = a;
                          u &&
                          u.firstChild === s &&
                          u.lastChild === s &&
                          ((s = u), !h[u.name]);

                        )
                          u = u.parent;
                        s === u &&
                          !0 !== t.padd_empty_with_br &&
                          (((d = new Gb("#text", 3)).value = " "),
                          a.replace(d));
                      }
                  }),
                  e.addAttributeFilter("href", function(e) {
                    var n,
                      r,
                      o,
                      i = e.length;
                    if (!t.allow_unsafe_link_target)
                      for (; i--; )
                        "a" === (n = e[i]).name &&
                          "_blank" === n.attr("target") &&
                          n.attr(
                            "rel",
                            ((r = n.attr("rel")),
                            (o = void 0),
                            (o = r ? Kt.trim(r) : ""),
                            /\b(noopener)\b/g.test(o)
                              ? o
                              : (function(e) {
                                  return e
                                    .split(" ")
                                    .filter(function(e) {
                                      return e.length > 0;
                                    })
                                    .concat(["noopener"])
                                    .sort()
                                    .join(" ");
                                })(o))
                          );
                  }),
                  t.allow_html_in_named_anchor ||
                    e.addAttributeFilter("id,name", function(e) {
                      for (var t, n, r, o, i = e.length; i--; )
                        if (
                          "a" === (o = e[i]).name &&
                          o.firstChild &&
                          !o.attr("href")
                        ) {
                          (r = o.parent), (t = o.lastChild);
                          do {
                            (n = t.prev), r.insert(t, o), (t = n);
                          } while (t);
                        }
                    }),
                  t.fix_list_elements &&
                    e.addNodeFilter("ul,ol", function(e) {
                      for (var t, n, r = e.length; r--; )
                        if (
                          "ul" === (n = (t = e[r]).parent).name ||
                          "ol" === n.name
                        )
                          if (t.prev && "li" === t.prev.name) t.prev.append(t);
                          else {
                            var o = new Gb("li", 1);
                            o.attr("style", "list-style-type: none"), t.wrap(o);
                          }
                    }),
                  t.validate &&
                    n.getValidClasses() &&
                    e.addAttributeFilter("class", function(e) {
                      for (
                        var t,
                          r,
                          o,
                          i,
                          a,
                          u,
                          s,
                          c = e.length,
                          l = n.getValidClasses();
                        c--;

                      ) {
                        for (
                          r = (t = e[c]).attr("class").split(" "),
                            a = "",
                            o = 0;
                          o < r.length;
                          o++
                        )
                          (i = r[o]),
                            (s = !1),
                            (u = l["*"]) && u[i] && (s = !0),
                            (u = l[t.name]),
                            !s && u && u[i] && (s = !0),
                            s && (a && (a += " "), (a += i));
                        a.length || (a = null), t.attr("class", a);
                      }
                    });
              })(u, e),
              $b(u, e),
              u
            );
          }
          var iy = function(e, t, n) {
              -1 === Kt.inArray(t, n) &&
                (e.addAttributeFilter(n, function(e, t) {
                  for (var n = e.length; n--; ) e[n].attr(t, null);
                }),
                t.push(n));
            },
            ay = function(e, t, n, r, o) {
              return (function(e, t, n) {
                return !t.no_events && e
                  ? lg(e, zb(t, { content: n })).content
                  : n;
              })(
                e,
                o,
                (function(e, t, n) {
                  return Uc(e, t).serialize(n);
                })(t, n, r)
              );
            };
          function uy(e, t) {
            var n,
              r,
              o,
              i = ["data-mce-selected"];
            return (
              (n = t && t.dom ? t.dom : fi.DOM),
              (r = t && t.schema ? t.schema : ei(e)),
              (e.entity_encoding = e.entity_encoding || "named"),
              (e.remove_trailing_brs =
                !("remove_trailing_brs" in e) || e.remove_trailing_brs),
              (o = oy(e, r)),
              Wb(o, e, n),
              {
                schema: r,
                addNodeFilter: o.addNodeFilter,
                addAttributeFilter: o.addAttributeFilter,
                serialize: function(i, a) {
                  var u = zb({ format: "html" }, a || {}),
                    s = jb(t, i, u),
                    c = (function(e, t, n) {
                      var r = ia(n.getInner ? t.innerHTML : e.getOuterHTML(t));
                      return n.selection || bo(Xn.fromDom(t)) ? r : Kt.trim(r);
                    })(n, s, u),
                    l = (function(e, t, n) {
                      var r = n.selection
                          ? zb({ forced_root_block: !1 }, n)
                          : n,
                        o = e.parse(t, r);
                      return Ub(o), o;
                    })(o, c, u);
                  return "tree" === u.format ? l : ay(t, e, r, l, u);
                },
                addRules: function(e) {
                  r.addValidElements(e);
                },
                setRules: function(e) {
                  r.setValidElements(e);
                },
                addTempAttr: s(iy, o, i),
                getTempAttrs: function() {
                  return i;
                }
              }
            );
          }
          function sy(e, t) {
            var n = uy(e, t);
            return {
              schema: n.schema,
              addNodeFilter: n.addNodeFilter,
              addAttributeFilter: n.addAttributeFilter,
              serialize: n.serialize,
              addRules: n.addRules,
              setRules: n.setRules,
              addTempAttr: n.addTempAttr,
              getTempAttrs: n.getTempAttrs
            };
          }
          function cy(e) {
            return { getBookmark: s(Js, e), moveToBookmark: s(Qs, e) };
          }
          !(function(e) {
            e.isBookmarkNode = Zs;
          })(cy || (cy = {}));
          var ly,
            fy = cy,
            dy = Do.isContentEditableFalse,
            my = Do.isContentEditableTrue,
            hy = function(e, t) {
              var n,
                o,
                i,
                a,
                u,
                s,
                c,
                l,
                f,
                d,
                m,
                h,
                g,
                p,
                v,
                b,
                y,
                w = t.dom,
                x = Kt.each,
                C = t.getDoc(),
                S = r.document,
                E = Math.abs,
                T = Math.round,
                N = t.getBody();
              a = {
                nw: [0, 0, -1, -1],
                ne: [1, 0, 1, -1],
                se: [1, 1, 1, 1],
                sw: [0, 1, -1, 1]
              };
              var _ = ".mce-content-body";
              t.contentStyles.push(
                _ +
                  " div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}" +
                  _ +
                  " .mce-resizehandle:hover {background: #000}" +
                  _ +
                  " img[data-mce-selected]," +
                  _ +
                  " hr[data-mce-selected] {outline: 1px solid black;resize: none}" +
                  _ +
                  " .mce-clonedresizable {position: absolute;" +
                  (fe.gecko ? "" : "outline: 1px dashed black;") +
                  "opacity: .5;filter: alpha(opacity=50);z-index: 10000}" +
                  _ +
                  " .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"
              );
              var k = function(e) {
                  return (
                    e && ("IMG" === e.nodeName || t.dom.is(e, "figure.image"))
                  );
                },
                R = function(e) {
                  var n = e.target;
                  (function(e, t) {
                    return k(e.target) && !uv(e.clientX, e.clientY, t);
                  })(e, t.selection.getRng()) &&
                    !e.isDefaultPrevented() &&
                    t.selection.select(n);
                },
                D = function(e) {
                  return t.dom.is(e, "figure.image")
                    ? e.querySelector("img")
                    : e;
                },
                O = function(e) {
                  var n = t.settings.object_resizing;
                  return (
                    !1 !== n &&
                    !fe.iOS &&
                    ("string" != typeof n && (n = "table,img,figure.image,div"),
                    "false" !== e.getAttribute("data-mce-resize") &&
                      e !== t.getBody() &&
                      Tr(Xn.fromDom(e), n))
                  );
                },
                A = function(e) {
                  var r, a, x, C;
                  (r = e.screenX - s),
                    (a = e.screenY - c),
                    (p = r * u[2] + d),
                    (v = a * u[3] + m),
                    (p = p < 5 ? 5 : p),
                    (v = v < 5 ? 5 : v),
                    (k(n) && !1 !== t.settings.resize_img_proportional
                      ? !$p.modifierPressed(e)
                      : $p.modifierPressed(e) || (k(n) && u[2] * u[3] != 0)) &&
                      (E(r) > E(a)
                        ? ((v = T(p * h)), (p = T(v / h)))
                        : ((p = T(v / h)), (v = T(p * h)))),
                    w.setStyles(D(o), { width: p, height: v }),
                    (x = (x = u.startPos.x + r) > 0 ? x : 0),
                    (C = (C = u.startPos.y + a) > 0 ? C : 0),
                    w.setStyles(i, { left: x, top: C, display: "block" }),
                    (i.innerHTML = p + " &times; " + v),
                    u[2] < 0 &&
                      o.clientWidth <= p &&
                      w.setStyle(o, "left", l + (d - p)),
                    u[3] < 0 &&
                      o.clientHeight <= v &&
                      w.setStyle(o, "top", f + (m - v)),
                    (r = N.scrollWidth - b) + (a = N.scrollHeight - y) != 0 &&
                      w.setStyles(i, { left: x - r, top: C - a }),
                    g || (hg(t, n, d, m), (g = !0));
                },
                P = function() {
                  g = !1;
                  var e = function(e, r) {
                    r &&
                      (n.style[e] ||
                      !t.schema.isValid(n.nodeName.toLowerCase(), e)
                        ? w.setStyle(D(n), e, r)
                        : w.setAttrib(D(n), e, r));
                  };
                  e("width", p),
                    e("height", v),
                    w.unbind(C, "mousemove", A),
                    w.unbind(C, "mouseup", P),
                    S !== C &&
                      (w.unbind(S, "mousemove", A), w.unbind(S, "mouseup", P)),
                    w.remove(o),
                    w.remove(i),
                    B(n),
                    gg(t, n, p, v),
                    w.setAttrib(n, "style", w.getAttrib(n, "style")),
                    t.nodeChanged();
                },
                B = function(e) {
                  var r, g, E, T, _;
                  I(),
                    F(),
                    (r = w.getPos(e, N)),
                    (l = r.x),
                    (f = r.y),
                    (_ = e.getBoundingClientRect()),
                    (g = _.width || _.right - _.left),
                    (E = _.height || _.bottom - _.top),
                    n !== e && ((n = e), (p = v = 0)),
                    (T = t.fire("ObjectSelected", { target: e })),
                    O(e) && !T.isDefaultPrevented()
                      ? x(a, function(e, t) {
                          var r;
                          (r = w.get("mceResizeHandle" + t)) && w.remove(r),
                            (r = w.add(N, "div", {
                              id: "mceResizeHandle" + t,
                              "data-mce-bogus": "all",
                              class: "mce-resizehandle",
                              unselectable: !0,
                              style:
                                "cursor:" + t + "-resize; margin:0; padding:0"
                            })),
                            11 === fe.ie && (r.contentEditable = !1),
                            w.bind(r, "mousedown", function(t) {
                              t.stopImmediatePropagation(),
                                t.preventDefault(),
                                (function(t) {
                                  (s = t.screenX),
                                    (c = t.screenY),
                                    (d = D(n).clientWidth),
                                    (m = D(n).clientHeight),
                                    (h = m / d),
                                    (u = e),
                                    (e.startPos = {
                                      x: g * e[0] + l,
                                      y: E * e[1] + f
                                    }),
                                    (b = N.scrollWidth),
                                    (y = N.scrollHeight),
                                    (o = n.cloneNode(!0)),
                                    w.addClass(o, "mce-clonedresizable"),
                                    w.setAttrib(o, "data-mce-bogus", "all"),
                                    (o.contentEditable = !1),
                                    (o.unSelectabe = !0),
                                    w.setStyles(o, {
                                      left: l,
                                      top: f,
                                      margin: 0
                                    }),
                                    o.removeAttribute("data-mce-selected"),
                                    N.appendChild(o),
                                    w.bind(C, "mousemove", A),
                                    w.bind(C, "mouseup", P),
                                    S !== C &&
                                      (w.bind(S, "mousemove", A),
                                      w.bind(S, "mouseup", P)),
                                    (i = w.add(
                                      N,
                                      "div",
                                      {
                                        class: "mce-resize-helper",
                                        "data-mce-bogus": "all"
                                      },
                                      d + " &times; " + m
                                    ));
                                })(t);
                            }),
                            (e.elm = r),
                            w.setStyles(r, {
                              left: g * e[0] + l - r.offsetWidth / 2,
                              top: E * e[1] + f - r.offsetHeight / 2
                            });
                        })
                      : I(),
                    n.setAttribute("data-mce-selected", "1");
                },
                I = function() {
                  var e, t;
                  for (e in (F(),
                  n && n.removeAttribute("data-mce-selected"),
                  a))
                    (t = w.get("mceResizeHandle" + e)) &&
                      (w.unbind(t), w.remove(t));
                },
                M = function(n) {
                  var r,
                    o = function(e, t) {
                      if (e)
                        do {
                          if (e === t) return !0;
                        } while ((e = e.parentNode));
                    };
                  g ||
                    t.removed ||
                    (x(
                      w.select("img[data-mce-selected],hr[data-mce-selected]"),
                      function(e) {
                        e.removeAttribute("data-mce-selected");
                      }
                    ),
                    (r = "mousedown" === n.type ? n.target : e.getNode()),
                    o(
                      (r = w.$(r).closest("table,img,figure.image,hr")[0]),
                      N
                    ) && (H(), o(e.getStart(!0), r) && o(e.getEnd(!0), r))
                      ? B(r)
                      : I());
                },
                L = function(e) {
                  return dy(
                    (function(e, t) {
                      for (; t && t !== e; ) {
                        if (my(t) || dy(t)) return t;
                        t = t.parentNode;
                      }
                      return null;
                    })(t.getBody(), e)
                  );
                },
                F = function() {
                  for (var e in a) {
                    var t = a[e];
                    t.elm && (w.unbind(t.elm), delete t.elm);
                  }
                },
                H = function() {
                  try {
                    t.getDoc().execCommand("enableObjectResizing", !1, !1);
                  } catch (e) {}
                };
              return (
                t.on("init", function() {
                  H(),
                    fe.ie &&
                      fe.ie >= 11 &&
                      (t.on("mousedown click", function(e) {
                        var n = e.target,
                          r = n.nodeName;
                        g ||
                          !/^(TABLE|IMG|HR)$/.test(r) ||
                          L(n) ||
                          (2 !== e.button &&
                            t.selection.select(n, "TABLE" === r),
                          "mousedown" === e.type && t.nodeChanged());
                      }),
                      t.dom.bind(N, "mscontrolselect", function(e) {
                        var n = function(e) {
                          pe.setEditorTimeout(t, function() {
                            t.selection.select(e);
                          });
                        };
                        if (L(e.target))
                          return e.preventDefault(), void n(e.target);
                        /^(TABLE|IMG|HR)$/.test(e.target.nodeName) &&
                          (e.preventDefault(),
                          "IMG" === e.target.tagName && n(e.target));
                      }));
                  var e = pe.throttle(function(e) {
                    t.composing || M(e);
                  });
                  t.on(
                    "nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",
                    e
                  ),
                    t.on("keyup compositionend", function(t) {
                      n && "TABLE" === n.nodeName && e(t);
                    }),
                    t.on("hide blur", I),
                    t.on("contextmenu", R);
                }),
                t.on("remove", F),
                {
                  isResizable: O,
                  showResizeRect: B,
                  hideResizeRect: I,
                  updateResizeRect: M,
                  destroy: function() {
                    n = o = null;
                  }
                }
              );
            },
            gy = function(e) {
              return (
                Do.isContentEditableTrue(e) || Do.isContentEditableFalse(e)
              );
            },
            py = function(e, t, n) {
              var r,
                o,
                i = n;
              if (i.caretPositionFromPoint)
                (o = i.caretPositionFromPoint(e, t)) &&
                  ((r = n.createRange()).setStart(o.offsetNode, o.offset),
                  r.collapse(!0));
              else if (n.caretRangeFromPoint) r = n.caretRangeFromPoint(e, t);
              else if (i.body.createTextRange) {
                r = i.body.createTextRange();
                try {
                  r.moveToPoint(e, t), r.collapse(!0);
                } catch (o) {
                  r = (function(e, t, n) {
                    var r, o, i;
                    if (
                      ((r = n.elementFromPoint(e, t)),
                      (o = n.body.createTextRange()),
                      (r && "HTML" !== r.tagName) || (r = n.body),
                      o.moveToElementText(r),
                      (i = (i = Kt.toArray(o.getClientRects())).sort(function(
                        e,
                        n
                      ) {
                        return (
                          (e = Math.abs(Math.max(e.top - t, e.bottom - t))) -
                          (n = Math.abs(Math.max(n.top - t, n.bottom - t)))
                        );
                      })).length > 0)
                    ) {
                      t = (i[0].bottom + i[0].top) / 2;
                      try {
                        return o.moveToPoint(e, t), o.collapse(!0), o;
                      } catch (e) {}
                    }
                    return null;
                  })(e, t, n);
                }
                return (function(e, t) {
                  var n = e && e.parentElement ? e.parentElement() : null;
                  return Do.isContentEditableFalse(
                    (function(e, t, n) {
                      for (; e && e !== t; ) {
                        if (n(e)) return e;
                        e = e.parentNode;
                      }
                      return null;
                    })(n, t, gy)
                  )
                    ? null
                    : e;
                })(r, n.body);
              }
              return r;
            },
            vy = function(e, t) {
              return U(t, function(t) {
                var n = e.fire("GetSelectionRange", { range: t });
                return n.range !== t ? n.range : t;
              });
            },
            by = function(e, t) {
              var n = (t || r.document).createDocumentFragment();
              return (
                j(e, function(e) {
                  n.appendChild(e.dom());
                }),
                Xn.fromDom(n)
              );
            },
            yy = br("element", "width", "rows"),
            wy = br("element", "cells"),
            xy = br("x", "y"),
            Cy = function(e, t) {
              var n = parseInt(mr(e, t), 10);
              return isNaN(n) ? 1 : n;
            },
            Sy = function(e, t, n) {
              var r = e.rows();
              return !!(r[n] ? r[n].cells() : [])[t];
            },
            Ey = function(e) {
              return $(
                e,
                function(e, t) {
                  return t.cells().length > e ? t.cells().length : e;
                },
                0
              );
            },
            Ty = function(e, t) {
              for (var n = e.rows(), r = 0; r < n.length; r++)
                for (var o = n[r].cells(), i = 0; i < o.length; i++)
                  if (_r(o[i], t)) return _.some(xy(i, r));
              return _.none();
            },
            Ny = function(e, t, n, r, o) {
              for (var i = [], a = e.rows(), u = n; u <= o; u++) {
                var s = a[u].cells(),
                  c = t < r ? s.slice(t, r + 1) : s.slice(r, t + 1);
                i.push(wy(a[u].element(), c));
              }
              return i;
            },
            _y = function(e) {
              var t = yy(ea(e), 0, []);
              return (
                j(Li(e, "tr"), function(e, n) {
                  j(Li(e, "td,th"), function(r, o) {
                    !(function(e, t, n, r, o) {
                      for (
                        var i = Cy(o, "rowspan"),
                          a = Cy(o, "colspan"),
                          u = e.rows(),
                          s = n;
                        s < n + i;
                        s++
                      ) {
                        u[s] || (u[s] = wy(ta(r), []));
                        for (var c = t; c < t + a; c++)
                          u[s].cells()[c] = s === n && c === t ? o : ea(o);
                      }
                    })(
                      t,
                      (function(e, t, n) {
                        for (; Sy(e, t, n); ) t++;
                        return t;
                      })(t, o, n),
                      n,
                      e,
                      r
                    );
                  });
                }),
                yy(t.element(), Ey(t.rows()), t.rows())
              );
            },
            ky = function(e) {
              return (function(e, t) {
                var n = ea(e.element()),
                  r = Xn.fromTag("tbody");
                return Si(r, t), Ci(n, r), n;
              })(
                e,
                (function(e) {
                  return U(e.rows(), function(e) {
                    var t = U(e.cells(), function(e) {
                        var t = ta(e);
                        return hr(t, "colspan"), hr(t, "rowspan"), t;
                      }),
                      n = ea(e.element());
                    return Si(n, t), n;
                  });
                })(e)
              );
            },
            Ry = function(e, t, n) {
              return Ty(e, t).bind(function(t) {
                return Ty(e, n).map(function(n) {
                  return (function(e, t, n) {
                    var r = t.x(),
                      o = t.y(),
                      i = n.x(),
                      a = n.y(),
                      u = o < a ? Ny(e, r, o, i, a) : Ny(e, r, a, i, o);
                    return yy(e.element(), Ey(u), u);
                  })(e, t, n);
                });
              });
            },
            Dy = function(e, t) {
              return K(e, function(e) {
                return "li" === Zn(e) && Wp(e, t);
              }).fold(a([]), function(t) {
                return (function(e) {
                  return K(e, function(e) {
                    return "ul" === Zn(e) || "ol" === Zn(e);
                  });
                })(e)
                  .map(function(e) {
                    return [Xn.fromTag("li"), Xn.fromTag(Zn(e))];
                  })
                  .getOr([]);
              });
            },
            Oy = function(e, t) {
              var n = Xn.fromDom(t.commonAncestorContainer),
                r = Vl(n, e),
                o = q(r, function(e) {
                  return co(e) || uo(e);
                }),
                i = Dy(r, t),
                u = o.concat(
                  i.length
                    ? i
                    : (function(e) {
                        return ho(e)
                          ? Or(e)
                              .filter(mo)
                              .fold(a([]), function(t) {
                                return [e, t];
                              })
                          : mo(e)
                          ? [e]
                          : [];
                      })(n)
                );
              return U(u, ea);
            },
            Ay = function() {
              return by([]);
            },
            Py = function(e, t) {
              return (
                (n = Xn.fromDom(t.cloneContents())),
                (r = Oy(e, t)),
                (o = $(
                  r,
                  function(e, t) {
                    return Ci(t, e), t;
                  },
                  n
                )),
                r.length > 0 ? by([o]) : o
              );
              var n, r, o;
            },
            By = function(e, t) {
              return ((n = e), (r = t[0]), Wi(r, "table", s(_r, n)))
                .bind(function(e) {
                  var n = t[0],
                    r = t[t.length - 1],
                    o = _y(e);
                  return Ry(o, n, r).map(function(e) {
                    return by([ky(e)]);
                  });
                })
                .getOrThunk(Ay);
              var n, r;
            },
            Iy = function(e, t) {
              var n = um(t, e);
              return n.length > 0
                ? By(e, n)
                : (function(e, t) {
                    return t.length > 0 && t[0].collapsed ? Ay() : Py(e, t[0]);
                  })(e, t);
            },
            My = function(e, t) {
              if (
                (void 0 === t && (t = {}),
                (t.get = !0),
                (t.format = t.format || "html"),
                (t.selection = !0),
                (t = e.fire("BeforeGetContent", t)).isDefaultPrevented())
              )
                return e.fire("GetContent", t), t.content;
              if ("text" === t.format)
                return (function(e) {
                  return _.from(e.selection.getRng())
                    .map(function(t) {
                      var n = e.dom.add(
                          e.getBody(),
                          "div",
                          {
                            "data-mce-bogus": "all",
                            style: "overflow: hidden; opacity: 0;"
                          },
                          t.cloneContents()
                        ),
                        r = ia(n.innerText);
                      return e.dom.remove(n), r;
                    })
                    .getOr("");
                })(e);
              t.getInner = !0;
              var n = (function(e, t) {
                var n,
                  r = e.selection.getRng(),
                  o = e.dom.create("body"),
                  i = e.selection.getSel(),
                  a = vy(e, tm(i));
                return (
                  (n = t.contextual
                    ? Iy(Xn.fromDom(e.getBody()), a).dom()
                    : r.cloneContents()) && o.appendChild(n),
                  e.selection.serializer.serialize(o, t)
                );
              })(e, t);
              return "tree" === t.format
                ? n
                : ((t.content = e.selection.isCollapsed() ? "" : n),
                  e.fire("GetContent", t),
                  t.content);
            },
            Ly = function(e, t, n) {
              var r,
                o,
                i,
                a = (function(e, t) {
                  return Ji(Ji({ format: "html" }, e), {
                    set: !0,
                    selection: !0,
                    content: t
                  });
                })(n, t),
                u = e.selection.getRng(),
                s = e.getDoc();
              if (
                a.no_events ||
                !(a = e.fire("BeforeSetContent", a)).isDefaultPrevented()
              ) {
                if (
                  ((t = (function(e, t) {
                    if ("raw" !== t.format) {
                      var n = e.parser.parse(
                        t.content,
                        Ji({ isRootContent: !0, forced_root_block: !1 }, t)
                      );
                      return Uc({ validate: e.validate }, e.schema).serialize(
                        n
                      );
                    }
                    return t.content;
                  })(e, a)),
                  u.insertNode)
                ) {
                  (t += '<span id="__caret">_</span>'),
                    u.startContainer === s && u.endContainer === s
                      ? (s.body.innerHTML = t)
                      : (u.deleteContents(),
                        0 === s.body.childNodes.length
                          ? (s.body.innerHTML = t)
                          : u.createContextualFragment
                          ? u.insertNode(u.createContextualFragment(t))
                          : ((o = s.createDocumentFragment()),
                            (i = s.createElement("div")),
                            o.appendChild(i),
                            (i.outerHTML = t),
                            u.insertNode(o))),
                    (r = e.dom.get("__caret")),
                    (u = s.createRange()).setStartBefore(r),
                    u.setEndBefore(r),
                    e.selection.setRng(u),
                    e.dom.remove("__caret");
                  try {
                    e.selection.setRng(u);
                  } catch (e) {}
                } else {
                  var c = u;
                  c.item &&
                    (s.execCommand("Delete", !1, null),
                    (c = e.selection.getRng())),
                    /^\s+/.test(t)
                      ? (c.pasteHTML('<span id="__mce_tmp">_</span>' + t),
                        e.dom.remove("__mce_tmp"))
                      : c.pasteHTML(t);
                }
                a.no_events || e.fire("SetContent", a);
              } else e.fire("SetContent", a);
            },
            Fy = function(e, t, n, r, o) {
              var i = n ? t.startContainer : t.endContainer,
                a = n ? t.startOffset : t.endOffset;
              return _.from(i)
                .map(Xn.fromDom)
                .map(function(e) {
                  return r && t.collapsed ? e : Lr(e, o(e, a)).getOr(e);
                })
                .bind(function(e) {
                  return tr(e) ? _.some(e) : Or(e);
                })
                .map(function(e) {
                  return e.dom();
                })
                .getOr(e);
            },
            Hy = function(e, t, n) {
              return Fy(e, t, !0, n, function(e, t) {
                return Math.min(e.dom().childNodes.length, t);
              });
            },
            zy = function(e, t, n) {
              return Fy(e, t, !1, n, function(e, t) {
                return t > 0 ? t - 1 : t;
              });
            },
            Wy = function(e, t) {
              for (var n = e; e && Do.isText(e) && 0 === e.length; )
                e = t ? e.nextSibling : e.previousSibling;
              return e || n;
            },
            Uy = Kt.each,
            jy = function(e) {
              return !!e.select;
            },
            Vy = function(e) {
              return (
                !(!e || !e.ownerDocument) &&
                kr(Xn.fromDom(e.ownerDocument), Xn.fromDom(e))
              );
            },
            qy = function(e, t, n, r) {
              var o,
                i,
                a,
                u,
                s,
                c = function(e, t) {
                  return Ly(r, e, t);
                },
                l = function(e) {
                  var t = d();
                  t.collapse(!!e), m(t);
                },
                f = function() {
                  return t.getSelection
                    ? t.getSelection()
                    : t.document.selection;
                },
                d = function() {
                  var n,
                    o,
                    i,
                    s,
                    c = function(e, t, n) {
                      try {
                        return t.compareBoundaryPoints(e, n);
                      } catch (e) {
                        return -1;
                      }
                    };
                  if (!t) return null;
                  if (null == (s = t.document)) return null;
                  if (void 0 !== r.bookmark && !1 === Qg(r)) {
                    var l = Xh(r);
                    if (l.isSome())
                      return l
                        .map(function(e) {
                          return vy(r, [e])[0];
                        })
                        .getOr(s.createRange());
                  }
                  try {
                    (n = f()) &&
                      !Do.isRestrictedNode(n.anchorNode) &&
                      (o =
                        n.rangeCount > 0
                          ? n.getRangeAt(0)
                          : n.createRange
                          ? n.createRange()
                          : s.createRange());
                  } catch (e) {}
                  return (
                    (o = vy(r, [o])[0]) ||
                      (o = s.createRange
                        ? s.createRange()
                        : s.body.createTextRange()),
                    o.setStart &&
                      9 === o.startContainer.nodeType &&
                      o.collapsed &&
                      ((i = e.getRoot()), o.setStart(i, 0), o.setEnd(i, 0)),
                    a &&
                      u &&
                      (0 === c(o.START_TO_START, o, a) &&
                      0 === c(o.END_TO_END, o, a)
                        ? (o = u)
                        : ((a = null), (u = null))),
                    o
                  );
                },
                m = function(e, t) {
                  var n, o;
                  if (
                    (function(e) {
                      return (
                        !!e &&
                        (!!jy(e) ||
                          (Vy(e.startContainer) && Vy(e.endContainer)))
                      );
                    })(e)
                  ) {
                    var i = jy(e) ? e : null;
                    if (i) {
                      u = null;
                      try {
                        i.select();
                      } catch (e) {}
                    } else {
                      if (
                        ((n = f()),
                        (e = r.fire("SetSelectionRange", {
                          range: e,
                          forward: t
                        }).range),
                        n)
                      ) {
                        u = e;
                        try {
                          n.removeAllRanges(), n.addRange(e);
                        } catch (e) {}
                        !1 === t &&
                          n.extend &&
                          (n.collapse(e.endContainer, e.endOffset),
                          n.extend(e.startContainer, e.startOffset)),
                          (a = n.rangeCount > 0 ? n.getRangeAt(0) : null);
                      }
                      e.collapsed ||
                        e.startContainer !== e.endContainer ||
                        !n.setBaseAndExtent ||
                        fe.ie ||
                        (e.endOffset - e.startOffset < 2 &&
                          e.startContainer.hasChildNodes() &&
                          (o = e.startContainer.childNodes[e.startOffset]) &&
                          "IMG" === o.tagName &&
                          (n.setBaseAndExtent(
                            e.startContainer,
                            e.startOffset,
                            e.endContainer,
                            e.endOffset
                          ),
                          (n.anchorNode === e.startContainer &&
                            n.focusNode === e.endContainer) ||
                            n.setBaseAndExtent(o, 0, o, 1))),
                        r.fire("AfterSetSelectionRange", {
                          range: e,
                          forward: t
                        });
                    }
                  }
                },
                h = function() {
                  var t,
                    n,
                    r = f();
                  return (
                    !(r && r.anchorNode && r.focusNode) ||
                    ((t = e.createRng()).setStart(r.anchorNode, r.anchorOffset),
                    t.collapse(!0),
                    (n = e.createRng()).setStart(r.focusNode, r.focusOffset),
                    n.collapse(!0),
                    t.compareBoundaryPoints(t.START_TO_START, n) <= 0)
                  );
                },
                g = {
                  bookmarkManager: null,
                  controlSelection: null,
                  dom: e,
                  win: t,
                  serializer: n,
                  editor: r,
                  collapse: l,
                  setCursorLocation: function(t, n) {
                    var o = e.createRng();
                    t
                      ? (o.setStart(t, n), o.setEnd(t, n), m(o), l(!1))
                      : (Up(e, o, r.getBody(), !0), m(o));
                  },
                  getContent: function(e) {
                    return My(r, e);
                  },
                  setContent: c,
                  getBookmark: function(e, t) {
                    return o.getBookmark(e, t);
                  },
                  moveToBookmark: function(e) {
                    return o.moveToBookmark(e);
                  },
                  select: function(t, n) {
                    return (
                      (function(e, t, n) {
                        return _.from(t).map(function(t) {
                          var r = e.nodeIndex(t),
                            o = e.createRng();
                          return (
                            o.setStart(t.parentNode, r),
                            o.setEnd(t.parentNode, r + 1),
                            n && (Up(e, o, t, !0), Up(e, o, t, !1)),
                            o
                          );
                        });
                      })(e, t, n).each(m),
                      t
                    );
                  },
                  isCollapsed: function() {
                    var e = d(),
                      t = f();
                    return (
                      !(!e || e.item) &&
                      (e.compareEndPoints
                        ? 0 === e.compareEndPoints("StartToEnd", e)
                        : !t || e.collapsed)
                    );
                  },
                  isForward: h,
                  setNode: function(t) {
                    return c(e.getOuterHTML(t)), t;
                  },
                  getNode: function() {
                    return (
                      (e = r.getBody()),
                      (t = d())
                        ? ((o = t.startContainer),
                          (i = t.endContainer),
                          (a = t.startOffset),
                          (u = t.endOffset),
                          (n = t.commonAncestorContainer),
                          !t.collapsed &&
                          (o === i &&
                            u - a < 2 &&
                            o.hasChildNodes() &&
                            (n = o.childNodes[a]),
                          3 === o.nodeType &&
                            3 === i.nodeType &&
                            ((o =
                              o.length === a
                                ? Wy(o.nextSibling, !0)
                                : o.parentNode),
                            (i =
                              0 === u
                                ? Wy(i.previousSibling, !1)
                                : i.parentNode),
                            o && o === i))
                            ? o
                            : n && 3 === n.nodeType
                            ? n.parentNode
                            : n)
                        : e
                    );
                    var e, t, n, o, i, a, u;
                  },
                  getSel: f,
                  setRng: m,
                  getRng: d,
                  getStart: function(e) {
                    return Hy(r.getBody(), d(), e);
                  },
                  getEnd: function(e) {
                    return zy(r.getBody(), d(), e);
                  },
                  getSelectedBlocks: function(t, n) {
                    return (function(e, t, n, r) {
                      var o,
                        i,
                        a = [];
                      if (
                        ((i = e.getRoot()),
                        (n = e.getParent(
                          n || Hy(i, t, t.collapsed),
                          e.isBlock
                        )),
                        (r = e.getParent(
                          r || zy(i, t, t.collapsed),
                          e.isBlock
                        )),
                        n && n !== i && a.push(n),
                        n && r && n !== r)
                      ) {
                        o = n;
                        for (var u = new no(n, i); (o = u.next()) && o !== r; )
                          e.isBlock(o) && a.push(o);
                      }
                      return r && n !== r && r !== i && a.push(r), a;
                    })(e, d(), t, n);
                  },
                  normalize: function() {
                    var t = d(),
                      n = f();
                    if (!rm(n) && jp(r)) {
                      var o = yh(e, t);
                      return (
                        o.each(function(e) {
                          m(e, h());
                        }),
                        o.getOr(t)
                      );
                    }
                    return t;
                  },
                  selectorChanged: function(t, n) {
                    var o;
                    return (
                      s ||
                        ((s = {}),
                        (o = {}),
                        r.on("NodeChange", function(t) {
                          var n = t.element,
                            r = e.getParents(n, null, e.getRoot()),
                            i = {};
                          Uy(s, function(t, n) {
                            Uy(r, function(a) {
                              if (e.is(a, n))
                                return (
                                  o[n] ||
                                    (Uy(t, function(e) {
                                      e(!0, {
                                        node: a,
                                        selector: n,
                                        parents: r
                                      });
                                    }),
                                    (o[n] = t)),
                                  (i[n] = t),
                                  !1
                                );
                            });
                          }),
                            Uy(o, function(e, t) {
                              i[t] ||
                                (delete o[t],
                                Uy(e, function(e) {
                                  e(!1, { node: n, selector: t, parents: r });
                                }));
                            });
                        })),
                      s[t] || (s[t] = []),
                      s[t].push(n),
                      g
                    );
                  },
                  getScrollContainer: function() {
                    for (var t, n = e.getRoot(); n && "BODY" !== n.nodeName; ) {
                      if (n.scrollHeight > n.clientHeight) {
                        t = n;
                        break;
                      }
                      n = n.parentNode;
                    }
                    return t;
                  },
                  scrollIntoView: function(e, t) {
                    return Vm(r, e, t);
                  },
                  placeCaretAt: function(e, t) {
                    return m(py(e, t, r.getDoc()));
                  },
                  getBoundingClientRect: function() {
                    var e = d();
                    return e.collapsed
                      ? du.fromRangeStart(e).getClientRects()[0]
                      : e.getBoundingClientRect();
                  },
                  destroy: function() {
                    (t = a = u = null), i.destroy();
                  }
                };
              return (
                (o = fy(g)),
                (i = hy(g, r)),
                (g.bookmarkManager = o),
                (g.controlSelection = i),
                g
              );
            };
          !(function(e) {
            (e[(e.Br = 0)] = "Br"),
              (e[(e.Block = 1)] = "Block"),
              (e[(e.Wrap = 2)] = "Wrap"),
              (e[(e.Eol = 3)] = "Eol");
          })(ly || (ly = {}));
          var $y = function(e, t) {
              return e === fu.Backwards ? t.reverse() : t;
            },
            Ky = function(e, t, n) {
              return e === fu.Forwards ? t.next(n) : t.prev(n);
            },
            Yy = function(e, t, n, r) {
              return Do.isBr(r.getNode(t === fu.Forwards))
                ? ly.Br
                : !1 === cs(n, r)
                ? ly.Block
                : ly.Wrap;
            },
            Xy = function(e, t, n, r) {
              for (var o, i = As(n), a = r, u = []; a && (o = Ky(t, i, a)); ) {
                if (Do.isBr(o.getNode(!1)))
                  return t === fu.Forwards
                    ? {
                        positions: $y(t, u).concat([o]),
                        breakType: ly.Br,
                        breakAt: _.some(o)
                      }
                    : {
                        positions: $y(t, u),
                        breakType: ly.Br,
                        breakAt: _.some(o)
                      };
                if (o.isVisible()) {
                  if (e(a, o)) {
                    var s = Yy(0, t, a, o);
                    return {
                      positions: $y(t, u),
                      breakType: s,
                      breakAt: _.some(o)
                    };
                  }
                  u.push(o), (a = o);
                } else a = o;
              }
              return {
                positions: $y(t, u),
                breakType: ly.Eol,
                breakAt: _.none()
              };
            },
            Gy = function(e, t, n, r) {
              return t(n, r)
                .breakAt.map(function(r) {
                  var o = t(n, r).positions;
                  return e === fu.Backwards ? o.concat(r) : [r].concat(o);
                })
                .getOr([]);
            },
            Jy = function(e, t) {
              return $(
                e,
                function(e, n) {
                  return e.fold(
                    function() {
                      return _.some(n);
                    },
                    function(r) {
                      return Ua(
                        Q(r.getClientRects()),
                        Q(n.getClientRects()),
                        function(e, o) {
                          var i = Math.abs(t - e.left);
                          return Math.abs(t - o.left) <= i ? n : r;
                        }
                      ).or(e);
                    }
                  );
                },
                _.none()
              );
            },
            Qy = function(e, t) {
              return Q(t.getClientRects()).bind(function(t) {
                return Jy(e, t.left);
              });
            },
            Zy = s(Xy, lu.isAbove, -1),
            ew = s(Xy, lu.isBelow, 1),
            tw = s(Gy, -1, Zy),
            nw = s(Gy, 1, ew),
            rw = Do.isContentEditableFalse,
            ow = Fa,
            iw = function(e, t, n, r) {
              var o = e === fu.Forwards,
                i = o ? xf : Cf;
              if (!r.collapsed) {
                var a = ow(r);
                if (rw(a)) return Ym(e, t, a, e === fu.Backwards, !0);
              }
              var u = (function(e) {
                  return sa(e.startContainer);
                })(r),
                s = bs(e, t.getBody(), r);
              if (i(s)) return Xm(t, s.getNode(!o));
              var c = Nl.normalizePosition(o, n(s));
              if (!c) return u ? r : null;
              if (i(c)) return Ym(e, t, c.getNode(!o), o, !0);
              var l = n(c);
              return l && i(l) && xs(c, l)
                ? Ym(e, t, l.getNode(!o), o, !0)
                : u
                ? Jm(t, c.toRange(), !0)
                : null;
            },
            aw = function(e, t, n, r) {
              var o, i, a, u, s, c, l, f, d;
              if (
                ((d = ow(r)),
                (o = bs(e, t.getBody(), r)),
                (i = n(t.getBody(), Jp(1), o)),
                (a = q(i, Qp(1))),
                (s = Ut.last(o.getClientRects())),
                (xf(o) || Ef(o)) && (d = o.getNode()),
                (Cf(o) || Tf(o)) && (d = o.getNode(!0)),
                !s)
              )
                return null;
              if (((c = s.left), (u = ov(a, c)) && rw(u.node)))
                return (
                  (l = Math.abs(c - u.left)),
                  (f = Math.abs(c - u.right)),
                  Ym(e, t, u.node, l < f, !0)
                );
              if (d) {
                var m = (function(e, t, n, r) {
                  var o,
                    i,
                    a,
                    u,
                    s,
                    c,
                    l = As(t),
                    f = [],
                    d = 0,
                    m = function(e) {
                      return Ut.last(e.getClientRects());
                    };
                  1 === e
                    ? ((o = l.next), (i = Ba), (a = Pa), (u = du.after(r)))
                    : ((o = l.prev), (i = Pa), (a = Ba), (u = du.before(r))),
                    (c = m(u));
                  do {
                    if (u.isVisible() && !a((s = m(u)), c)) {
                      if (
                        (f.length > 0 && i(s, Ut.last(f)) && d++,
                        ((s = Da(s)).position = u),
                        (s.line = d),
                        n(s))
                      )
                        return f;
                      f.push(s);
                    }
                  } while ((u = o(u)));
                  return f;
                })(e, t.getBody(), Jp(1), d);
                if ((u = ov(q(m, Qp(1)), c)))
                  return Jm(t, u.position.toRange(), !0);
                if ((u = Ut.last(q(m, Qp(0)))))
                  return Jm(t, u.position.toRange(), !0);
              }
            },
            uw = function(e, t, n) {
              var r,
                o,
                i = As(e.getBody()),
                a = s(ws, i.next),
                u = s(ws, i.prev);
              if (n.collapsed && e.settings.forced_root_block) {
                if (!(r = e.dom.getParent(n.startContainer, "PRE"))) return;
                (1 === t ? a(du.fromRangeStart(n)) : u(du.fromRangeStart(n))) ||
                  ((o = (function(e) {
                    var t = e.dom.create(il(e));
                    return (
                      (!fe.ie || fe.ie >= 11) &&
                        (t.innerHTML = '<br data-mce-bogus="1">'),
                      t
                    );
                  })(e)),
                  1 === t ? e.$(r).after(o) : e.$(r).before(o),
                  e.selection.select(o, !0),
                  e.selection.collapse());
              }
            },
            sw = function(e, t) {
              return function() {
                var n = (function(e, t) {
                  var n,
                    r = As(e.getBody()),
                    o = s(ws, r.next),
                    i = s(ws, r.prev),
                    a = t ? fu.Forwards : fu.Backwards,
                    u = t ? o : i,
                    c = e.selection.getRng();
                  return (n = iw(a, e, u, c)) ? n : (n = uw(e, a, c)) || null;
                })(e, t);
                return !!n && (Qm(e, n), !0);
              };
            },
            cw = function(e, t) {
              return function() {
                var n = (function(e, t) {
                  var n,
                    r = t ? 1 : -1,
                    o = t ? Gp : Xp,
                    i = e.selection.getRng();
                  return (n = aw(r, e, o, i)) ? n : (n = uw(e, r, i)) || null;
                })(e, t);
                return !!n && (Qm(e, n), !0);
              };
            },
            lw = function(e, t) {
              return function() {
                var n = t
                    ? du.fromRangeEnd(e.selection.getRng())
                    : du.fromRangeStart(e.selection.getRng()),
                  r = t ? ew(e.getBody(), n) : Zy(e.getBody(), n);
                return (t ? Z(r.positions) : Q(r.positions))
                  .filter(
                    (function(e) {
                      return function(t) {
                        return e ? Cf(t) : xf(t);
                      };
                    })(t)
                  )
                  .fold(a(!1), function(t) {
                    return e.selection.setRng(t.toRange()), !0;
                  });
              };
            },
            fw = function(e, t, n, r, o) {
              var i = Li(Xn.fromDom(n), "td,th,caption").map(function(e) {
                return e.dom();
              });
              return (function(e, t, n) {
                return $(
                  e,
                  function(e, r) {
                    return e.fold(
                      function() {
                        return _.some(r);
                      },
                      function(e) {
                        var o = Math.sqrt(
                            Math.abs(e.x - t) + Math.abs(e.y - n)
                          ),
                          i = Math.sqrt(Math.abs(r.x - t) + Math.abs(r.y - n));
                        return _.some(i < o ? r : e);
                      }
                    );
                  },
                  _.none()
                );
              })(
                q(
                  (function(e, t) {
                    return X(t, function(t) {
                      var n = (function(e, t) {
                        return {
                          left: e.left - t,
                          top: e.top - t,
                          right: e.right + 2 * t,
                          bottom: e.bottom + 2 * t,
                          width: e.width + t,
                          height: e.height + t
                        };
                      })(Da(t.getBoundingClientRect()), -1);
                      return [
                        { x: n.left, y: e(n), cell: t },
                        { x: n.right, y: e(n), cell: t }
                      ];
                    });
                  })(e, i),
                  function(e) {
                    return t(e, o);
                  }
                ),
                r,
                o
              ).map(function(e) {
                return e.cell;
              });
            },
            dw = s(
              fw,
              function(e) {
                return e.bottom;
              },
              function(e, t) {
                return e.y < t;
              }
            ),
            mw = s(
              fw,
              function(e) {
                return e.top;
              },
              function(e, t) {
                return e.y > t;
              }
            ),
            hw = function(e, t) {
              return Q(t.getClientRects())
                .bind(function(t) {
                  return dw(e, t.left, t.top);
                })
                .bind(function(e) {
                  return Qy(
                    ((n = e),
                    js
                      .lastPositionIn(n)
                      .map(function(e) {
                        return Zy(n, e).positions.concat(e);
                      })
                      .getOr([])),
                    t
                  );
                  var n;
                });
            },
            gw = function(e, t) {
              return Z(t.getClientRects())
                .bind(function(t) {
                  return mw(e, t.left, t.top);
                })
                .bind(function(e) {
                  return Qy(
                    ((n = e),
                    js
                      .firstPositionIn(n)
                      .map(function(e) {
                        return [e].concat(ew(n, e).positions);
                      })
                      .getOr([])),
                    t
                  );
                  var n;
                });
            },
            pw = function(e, t, n) {
              var r = e(t, n);
              return (function(e) {
                return e.breakType === ly.Wrap && 0 === e.positions.length;
              })(r) ||
                (!Do.isBr(n.getNode()) &&
                  (function(e) {
                    return e.breakType === ly.Br && 1 === e.positions.length;
                  })(r))
                ? !(function(e, t, n) {
                    return n.breakAt
                      .map(function(n) {
                        return e(t, n).breakAt.isSome();
                      })
                      .getOr(!1);
                  })(e, t, r)
                : r.breakAt.isNone();
            },
            vw = s(pw, Zy),
            bw = s(pw, ew),
            yw = function(e, t, n, r) {
              var o = e.selection.getRng(),
                i = t ? 1 : -1;
              if (
                Gu() &&
                (function(e, t, n) {
                  var r = du.fromRangeStart(t);
                  return js
                    .positionIn(!e, n)
                    .map(function(e) {
                      return e.isEqual(r);
                    })
                    .getOr(!1);
                })(t, o, n)
              ) {
                var a = Ym(i, e, n, !t, !0);
                return Qm(e, a), !0;
              }
              return !1;
            },
            ww = function(e, t) {
              var n = t.getNode(e);
              return Do.isElement(n) && "TABLE" === n.nodeName
                ? _.some(n)
                : _.none();
            },
            xw = function(e, t, n) {
              var r = ww(!!t, n),
                o = !1 === t;
              r.fold(
                function() {
                  return Qm(e, n.toRange());
                },
                function(r) {
                  return js
                    .positionIn(o, e.getBody())
                    .filter(function(e) {
                      return e.isEqual(n);
                    })
                    .fold(
                      function() {
                        return Qm(e, n.toRange());
                      },
                      function(o) {
                        return (function(e, t, n, r) {
                          var o = il(t);
                          o
                            ? t.undoManager.transact(function() {
                                var r = Xn.fromTag(o);
                                dr(r, al(t)),
                                  Ci(r, Xn.fromTag("br")),
                                  e
                                    ? wi(Xn.fromDom(n), r)
                                    : yi(Xn.fromDom(n), r);
                                var i = t.dom.createRng();
                                i.setStart(r.dom(), 0),
                                  i.setEnd(r.dom(), 0),
                                  Qm(t, i);
                              })
                            : Qm(t, r.toRange());
                        })(t, e, r, n);
                      }
                    );
                }
              );
            },
            Cw = function(e, t, n, r) {
              var o = e.selection.getRng(),
                i = du.fromRangeStart(o),
                a = e.getBody();
              if (!t && vw(r, i)) {
                var u = (function(e, t, n) {
                  return hw(t, n)
                    .orThunk(function() {
                      return Q(n.getClientRects()).bind(function(n) {
                        return Jy(tw(e, du.before(t)), n.left);
                      });
                    })
                    .getOr(du.before(t));
                })(a, n, i);
                return xw(e, t, u), !0;
              }
              return (
                !(!t || !bw(r, i)) &&
                ((u = (function(e, t, n) {
                  return gw(t, n)
                    .orThunk(function() {
                      return Q(n.getClientRects()).bind(function(n) {
                        return Jy(nw(e, du.after(t)), n.left);
                      });
                    })
                    .getOr(du.after(t));
                })(a, n, i)),
                xw(e, t, u),
                !0)
              );
            },
            Sw = function(e, t) {
              return function() {
                return _.from(e.dom.getParent(e.selection.getNode(), "td,th"))
                  .bind(function(n) {
                    return _.from(e.dom.getParent(n, "table")).map(function(n) {
                      return yw(e, t, n);
                    });
                  })
                  .getOr(!1);
              };
            },
            Ew = function(e, t) {
              return function() {
                return _.from(e.dom.getParent(e.selection.getNode(), "td,th"))
                  .bind(function(n) {
                    return _.from(e.dom.getParent(n, "table")).map(function(r) {
                      return Cw(e, t, r, n);
                    });
                  })
                  .getOr(!1);
              };
            },
            Tw = function(e) {
              return z(["figcaption"], Zn(e));
            },
            Nw = function(e) {
              var t = r.document.createRange();
              return t.setStartBefore(e.dom()), t.setEndBefore(e.dom()), t;
            },
            _w = function(e, t, n) {
              n ? Ci(e, t) : xi(e, t);
            },
            kw = function(e, t, n, r) {
              return "" === t
                ? (function(e, t) {
                    var n = Xn.fromTag("br");
                    return _w(e, n, t), Nw(n);
                  })(e, r)
                : (function(e, t, n, r) {
                    var o = Xn.fromTag(n),
                      i = Xn.fromTag("br");
                    return dr(o, r), Ci(o, i), _w(e, o, t), Nw(i);
                  })(e, r, t, n);
            },
            Rw = function(e, t, n) {
              return t
                ? (function(e, t) {
                    return ew(e, t).breakAt.isNone();
                  })(e.dom(), n)
                : (function(e, t) {
                    return Zy(e, t).breakAt.isNone();
                  })(e.dom(), n);
            },
            Dw = function(e, t) {
              var n = Xn.fromDom(e.getBody()),
                r = du.fromRangeStart(e.selection.getRng()),
                o = il(e),
                i = al(e);
              return (function(e, t) {
                var n = s(_r, t);
                return zi(Xn.fromDom(e.container()), so, n).filter(Tw);
              })(r, n).exists(function() {
                if (Rw(n, t, r)) {
                  var a = kw(n, o, i, t);
                  return e.selection.setRng(a), !0;
                }
                return !1;
              });
            },
            Ow = function(e, t) {
              return function() {
                return !!e.selection.isCollapsed() && Dw(e, t);
              };
            },
            Aw = function(e, t) {
              return X(
                (function(e) {
                  return U(e, function(e) {
                    return zb(
                      {
                        shiftKey: !1,
                        altKey: !1,
                        ctrlKey: !1,
                        metaKey: !1,
                        keyCode: 0,
                        action: o
                      },
                      e
                    );
                  });
                })(e),
                function(e) {
                  return (function(e, t) {
                    return (
                      t.keyCode === e.keyCode &&
                      t.shiftKey === e.shiftKey &&
                      t.altKey === e.altKey &&
                      t.ctrlKey === e.ctrlKey &&
                      t.metaKey === e.metaKey
                    );
                  })(e, t)
                    ? [e]
                    : [];
                }
              );
            },
            Pw = function(e) {
              for (var t = [], n = 1; n < arguments.length; n++)
                t[n - 1] = arguments[n];
              var r = Array.prototype.slice.call(arguments, 1);
              return function() {
                return e.apply(null, r);
              };
            },
            Bw = function(e, t) {
              return K(Aw(e, t), function(e) {
                return e.action();
              });
            },
            Iw = function(e, t) {
              e.on("keydown", function(n) {
                !1 === n.isDefaultPrevented() &&
                  (function(e, t, n) {
                    var r = Kn.detect().os;
                    Bw(
                      [
                        { keyCode: $p.RIGHT, action: sw(e, !0) },
                        { keyCode: $p.LEFT, action: sw(e, !1) },
                        { keyCode: $p.UP, action: cw(e, !1) },
                        { keyCode: $p.DOWN, action: cw(e, !0) },
                        { keyCode: $p.RIGHT, action: Sw(e, !0) },
                        { keyCode: $p.LEFT, action: Sw(e, !1) },
                        { keyCode: $p.UP, action: Ew(e, !1) },
                        { keyCode: $p.DOWN, action: Ew(e, !0) },
                        { keyCode: $p.RIGHT, action: Id.move(e, t, !0) },
                        { keyCode: $p.LEFT, action: Id.move(e, t, !1) },
                        {
                          keyCode: $p.RIGHT,
                          ctrlKey: !r.isOSX(),
                          altKey: r.isOSX(),
                          action: Id.moveNextWord(e, t)
                        },
                        {
                          keyCode: $p.LEFT,
                          ctrlKey: !r.isOSX(),
                          altKey: r.isOSX(),
                          action: Id.movePrevWord(e, t)
                        },
                        { keyCode: $p.UP, action: Ow(e, !1) },
                        { keyCode: $p.DOWN, action: Ow(e, !0) }
                      ],
                      n
                    ).each(function(e) {
                      n.preventDefault();
                    });
                  })(e, t, n);
              });
            },
            Mw = function(e, t) {
              e.on("keydown", function(n) {
                !1 === n.isDefaultPrevented() &&
                  (function(e, t, n) {
                    Bw(
                      [
                        { keyCode: $p.BACKSPACE, action: Pw(qf, e, !1) },
                        { keyCode: $p.DELETE, action: Pw(qf, e, !0) },
                        { keyCode: $p.BACKSPACE, action: Pw(eh, e, !1) },
                        { keyCode: $p.DELETE, action: Pw(eh, e, !0) },
                        { keyCode: $p.BACKSPACE, action: Pw(Hd, e, t, !1) },
                        { keyCode: $p.DELETE, action: Pw(Hd, e, t, !0) },
                        { keyCode: $p.BACKSPACE, action: Pw(bm, e, !1) },
                        { keyCode: $p.DELETE, action: Pw(bm, e, !0) },
                        { keyCode: $p.BACKSPACE, action: Pw(of, e, !1) },
                        { keyCode: $p.DELETE, action: Pw(of, e, !0) },
                        { keyCode: $p.BACKSPACE, action: Pw(ef, e, !1) },
                        { keyCode: $p.DELETE, action: Pw(ef, e, !0) },
                        { keyCode: $p.BACKSPACE, action: Pw(Um, e, !1) },
                        { keyCode: $p.DELETE, action: Pw(Um, e, !0) }
                      ],
                      n
                    ).each(function(e) {
                      n.preventDefault();
                    });
                  })(e, t, n);
              }),
                e.on("keyup", function(t) {
                  !1 === t.isDefaultPrevented() &&
                    (function(e, t) {
                      Bw(
                        [
                          { keyCode: $p.BACKSPACE, action: Pw($f, e) },
                          { keyCode: $p.DELETE, action: Pw($f, e) }
                        ],
                        t
                      );
                    })(e, t);
                });
            },
            Lw = function(e) {
              return _.from(
                e.dom.getParent(e.selection.getStart(!0), e.dom.isBlock)
              );
            },
            Fw = function(e, t) {
              var n,
                r,
                o,
                i = t,
                a = e.dom,
                u = e.schema.getMoveCaretBeforeOnEnterElements();
              if (t) {
                if (/^(LI|DT|DD)$/.test(t.nodeName)) {
                  var s = (function(e) {
                    for (; e; ) {
                      if (
                        1 === e.nodeType ||
                        (3 === e.nodeType && e.data && /[\r\n\s]/.test(e.data))
                      )
                        return e;
                      e = e.nextSibling;
                    }
                  })(t.firstChild);
                  s &&
                    /^(UL|OL|DL)$/.test(s.nodeName) &&
                    t.insertBefore(a.doc.createTextNode(" "), t.firstChild);
                }
                if (((o = a.createRng()), t.normalize(), t.hasChildNodes())) {
                  for (n = new no(t, t); (r = n.current()); ) {
                    if (Do.isText(r)) {
                      o.setStart(r, 0), o.setEnd(r, 0);
                      break;
                    }
                    if (u[r.nodeName.toLowerCase()]) {
                      o.setStartBefore(r), o.setEndBefore(r);
                      break;
                    }
                    (i = r), (r = n.next());
                  }
                  r || (o.setStart(i, 0), o.setEnd(i, 0));
                } else
                  Do.isBr(t)
                    ? t.nextSibling && a.isBlock(t.nextSibling)
                      ? (o.setStartBefore(t), o.setEndBefore(t))
                      : (o.setStartAfter(t), o.setEndAfter(t))
                    : (o.setStart(t, 0), o.setEnd(t, 0));
                e.selection.setRng(o),
                  a.remove(void 0),
                  e.selection.scrollIntoView(t);
              }
            },
            Hw = function(e, t) {
              var n,
                r,
                o = e.getRoot();
              for (n = t; n !== o && "false" !== e.getContentEditable(n); )
                "true" === e.getContentEditable(n) && (r = n),
                  (n = n.parentNode);
              return n !== o ? r : o;
            },
            zw = Lw,
            Ww = function(e) {
              return Lw(e).fold(a(""), function(e) {
                return e.nodeName.toUpperCase();
              });
            },
            Uw = function(e) {
              return Lw(e)
                .filter(function(e) {
                  return ho(Xn.fromDom(e));
                })
                .isSome();
            },
            jw = function(e, t) {
              return e && e.parentNode && e.parentNode.nodeName === t;
            },
            Vw = function(e) {
              return e && /^(OL|UL|LI)$/.test(e.nodeName);
            },
            qw = function(e) {
              var t = e.parentNode;
              return /^(LI|DT|DD)$/.test(t.nodeName) ? t : e;
            },
            $w = function(e, t, n) {
              for (
                var r = e[n ? "firstChild" : "lastChild"];
                r && !Do.isElement(r);

              )
                r = r[n ? "nextSibling" : "previousSibling"];
              return r === t;
            },
            Kw = function(e, t, n, r, o) {
              var i = e.dom,
                a = e.selection.getRng();
              if (n !== e.getBody()) {
                var u;
                Vw((u = n)) && Vw(u.parentNode) && (o = "LI");
                var s = o ? t(o) : i.create("BR");
                if ($w(n, r, !0) && $w(n, r, !1))
                  jw(n, "LI") ? i.insertAfter(s, qw(n)) : i.replace(s, n);
                else if ($w(n, r, !0))
                  jw(n, "LI")
                    ? (i.insertAfter(s, qw(n)),
                      s.appendChild(i.doc.createTextNode(" ")),
                      s.appendChild(n))
                    : n.parentNode.insertBefore(s, n);
                else if ($w(n, r, !1)) i.insertAfter(s, qw(n));
                else {
                  n = qw(n);
                  var c = a.cloneRange();
                  c.setStartAfter(r), c.setEndAfter(n);
                  var l = c.extractContents();
                  "LI" === o &&
                  (function(e, t) {
                    return e.firstChild && e.firstChild.nodeName === t;
                  })(l, "LI")
                    ? ((s = l.firstChild), i.insertAfter(l, n))
                    : (i.insertAfter(l, n), i.insertAfter(s, n));
                }
                i.remove(r), Fw(e, s);
              }
            },
            Yw = function(e, t) {
              return t && "A" === t.nodeName && e.isEmpty(t);
            },
            Xw = function(e) {
              e.innerHTML = '<br data-mce-bogus="1">';
            },
            Gw = function(e, t) {
              return (
                e.nodeName === t ||
                (e.previousSibling && e.previousSibling.nodeName === t)
              );
            },
            Jw = function(e, t) {
              return (
                t &&
                e.isBlock(t) &&
                !/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName) &&
                !/^(fixed|absolute)/i.test(t.style.position) &&
                "true" !== e.getContentEditable(t)
              );
            },
            Qw = function(e, t, n) {
              return !1 === Do.isText(t)
                ? n
                : e
                ? 1 === n && t.data.charAt(n - 1) === oa
                  ? 0
                  : n
                : n === t.data.length - 1 && t.data.charAt(n) === oa
                ? t.data.length
                : n;
            },
            Zw = function(e, t) {
              var n,
                r,
                o = e.getRoot();
              for (n = t; n !== o && "false" !== e.getContentEditable(n); )
                "true" === e.getContentEditable(n) && (r = n),
                  (n = n.parentNode);
              return n !== o ? r : o;
            },
            ex = function(e, t, n) {
              _.from(n.style)
                .map(e.dom.parseStyle)
                .each(function(n) {
                  var r = (function(e) {
                      var t = {},
                        n = e.dom();
                      if (cr(n))
                        for (var r = 0; r < n.style.length; r++) {
                          var o = n.style.item(r);
                          t[o] = n.style[o];
                        }
                      return t;
                    })(Xn.fromDom(t)),
                    o = Ji(Ji({}, r), n);
                  e.dom.setStyles(t, o);
                });
              var r = _.from(n.class).map(function(e) {
                  return e.split(/\s+/);
                }),
                o = _.from(t.className).map(function(e) {
                  return q(e.split(/\s+/), function(e) {
                    return "" !== e;
                  });
                });
              Ua(r, o, function(n, r) {
                var o = q(r, function(e) {
                    return !z(n, e);
                  }),
                  i = (function() {
                    for (var e = 0, t = 0, n = arguments.length; t < n; t++)
                      e += arguments[t].length;
                    var r = Array(e),
                      o = 0;
                    for (t = 0; t < n; t++)
                      for (
                        var i = arguments[t], a = 0, u = i.length;
                        a < u;
                        a++, o++
                      )
                        r[o] = i[a];
                    return r;
                  })(n, o);
                e.dom.setAttrib(t, "class", i.join(" "));
              });
              var i = ["style", "class"],
                a = ur(n, function(e, t) {
                  return !z(i, t);
                }).t;
              e.dom.setAttribs(t, a);
            },
            tx = function(e, t) {
              var n = il(e);
              if (n && n.toLowerCase() === t.tagName.toLowerCase()) {
                var r = al(e);
                ex(e, t, r);
              }
            },
            nx = function(e, t) {
              var n,
                r,
                o,
                i,
                a,
                u,
                s,
                c,
                l,
                f,
                d,
                m,
                h,
                g = e.dom,
                p = e.schema,
                v = p.getNonEmptyElements(),
                b = e.selection.getRng(),
                y = function(t) {
                  var n,
                    i,
                    u,
                    s = o,
                    c = p.getTextInlineElements();
                  if (
                    ((u = n =
                      t || "TABLE" === f || "HR" === f
                        ? g.create(t || m)
                        : a.cloneNode(!1)),
                    !1 === cl(e))
                  )
                    g.setAttrib(n, "style", null),
                      g.setAttrib(n, "class", null);
                  else
                    do {
                      if (c[s.nodeName]) {
                        if (Bu(s) || Zs(s)) continue;
                        (i = s.cloneNode(!1)),
                          g.setAttrib(i, "id", ""),
                          n.hasChildNodes()
                            ? (i.appendChild(n.firstChild), n.appendChild(i))
                            : ((u = i), n.appendChild(i));
                      }
                    } while ((s = s.parentNode) && s !== r);
                  return tx(e, n), Xw(u), n;
                },
                w = function(e) {
                  var t, n, r, u;
                  if (
                    ((u = Qw(e, o, i)),
                    Do.isText(o) && (e ? u > 0 : u < o.nodeValue.length))
                  )
                    return !1;
                  if (o.parentNode === a && h && !e) return !0;
                  if (e && Do.isElement(o) && o === a.firstChild) return !0;
                  if (Gw(o, "TABLE") || Gw(o, "HR"))
                    return (h && !e) || (!h && e);
                  for (
                    t = new no(o, a),
                      Do.isText(o) &&
                        (e && 0 === u
                          ? t.prev()
                          : e || u !== o.nodeValue.length || t.next());
                    (n = t.current());

                  ) {
                    if (Do.isElement(n)) {
                      if (
                        !n.getAttribute("data-mce-bogus") &&
                        ((r = n.nodeName.toLowerCase()), v[r] && "br" !== r)
                      )
                        return !1;
                    } else if (
                      Do.isText(n) &&
                      !/^[ \t\r\n]*$/.test(n.nodeValue)
                    )
                      return !1;
                    e ? t.prev() : t.next();
                  }
                  return !0;
                },
                x = function() {
                  (s =
                    /^(H[1-6]|PRE|FIGURE)$/.test(f) && "HGROUP" !== d
                      ? y(m)
                      : y()),
                    ll(e) && Jw(g, l) && g.isEmpty(a)
                      ? (s = g.split(l, a))
                      : g.insertAfter(s, a),
                    Fw(e, s);
                };
              yh(g, b).each(function(e) {
                b.setStart(e.startContainer, e.startOffset),
                  b.setEnd(e.endContainer, e.endOffset);
              }),
                (o = b.startContainer),
                (i = b.startOffset),
                (m = il(e)),
                (u = t.shiftKey),
                Do.isElement(o) &&
                  o.hasChildNodes() &&
                  ((h = i > o.childNodes.length - 1),
                  (o = o.childNodes[Math.min(i, o.childNodes.length - 1)] || o),
                  (i = h && Do.isText(o) ? o.nodeValue.length : 0)),
                (r = Zw(g, o)) &&
                  (((m && !u) || (!m && u)) &&
                    (o = (function(e, t, n, r, o) {
                      var i,
                        a,
                        u,
                        s,
                        c,
                        l,
                        f = t || "P",
                        d = e.dom,
                        m = Zw(d, r);
                      if (!(a = d.getParent(r, d.isBlock)) || !Jw(d, a)) {
                        if (
                          ((l =
                            (a = a || m) === e.getBody() ||
                            (function(e) {
                              return e && /^(TD|TH|CAPTION)$/.test(e.nodeName);
                            })(a)
                              ? a.nodeName.toLowerCase()
                              : a.parentNode.nodeName.toLowerCase()),
                          !a.hasChildNodes())
                        )
                          return (
                            (i = d.create(f)),
                            tx(e, i),
                            a.appendChild(i),
                            n.setStart(i, 0),
                            n.setEnd(i, 0),
                            i
                          );
                        for (s = r; s.parentNode !== a; ) s = s.parentNode;
                        for (; s && !d.isBlock(s); )
                          (u = s), (s = s.previousSibling);
                        if (u && e.schema.isValidChild(l, f.toLowerCase())) {
                          for (
                            i = d.create(f),
                              tx(e, i),
                              u.parentNode.insertBefore(i, u),
                              s = u;
                            s && !d.isBlock(s);

                          )
                            (c = s.nextSibling), i.appendChild(s), (s = c);
                          n.setStart(r, o), n.setEnd(r, o);
                        }
                      }
                      return r;
                    })(e, m, b, o, i)),
                  (a = g.getParent(o, g.isBlock)),
                  (l = a ? g.getParent(a.parentNode, g.isBlock) : null),
                  (f = a ? a.nodeName.toUpperCase() : ""),
                  "LI" !== (d = l ? l.nodeName.toUpperCase() : "") ||
                    t.ctrlKey ||
                    ((a = l), (l = l.parentNode), (f = d)),
                  /^(LI|DT|DD)$/.test(f) && g.isEmpty(a)
                    ? Kw(e, y, l, a, m)
                    : (m && a === e.getBody()) ||
                      ((m = m || "P"),
                      sa(a)
                        ? ((s = va(a)),
                          g.isEmpty(a) && Xw(a),
                          tx(e, s),
                          Fw(e, s))
                        : w()
                        ? x()
                        : w(!0)
                        ? ((s = a.parentNode.insertBefore(y(), a)),
                          Fw(e, Gw(a, "HR") ? s : a))
                        : ((n = (function(e) {
                            var t = e.cloneRange();
                            return (
                              t.setStart(
                                e.startContainer,
                                Qw(!0, e.startContainer, e.startOffset)
                              ),
                              t.setEnd(
                                e.endContainer,
                                Qw(!1, e.endContainer, e.endOffset)
                              ),
                              t
                            );
                          })(b).cloneRange()).setEndAfter(a),
                          (function(e) {
                            j(Mi(Xn.fromDom(e), nr), function(e) {
                              var t = e.dom();
                              t.nodeValue = ia(t.nodeValue);
                            });
                          })((c = n.extractContents())),
                          (function(e) {
                            do {
                              Do.isText(e) &&
                                (e.nodeValue = e.nodeValue.replace(
                                  /^[\r\n]+/,
                                  ""
                                )),
                                (e = e.firstChild);
                            } while (e);
                          })(c),
                          (s = c.firstChild),
                          g.insertAfter(c, a),
                          (function(e, t, n) {
                            var r,
                              o = n,
                              i = [];
                            if (o) {
                              for (; (o = o.firstChild); ) {
                                if (e.isBlock(o)) return;
                                Do.isElement(o) &&
                                  !t[o.nodeName.toLowerCase()] &&
                                  i.push(o);
                              }
                              for (r = i.length; r--; )
                                (!(o = i[r]).hasChildNodes() ||
                                  (o.firstChild === o.lastChild &&
                                    "" === o.firstChild.nodeValue) ||
                                  Yw(e, o)) &&
                                  e.remove(o);
                            }
                          })(g, v, s),
                          (function(e, t) {
                            var n;
                            t.normalize(),
                              ((n = t.lastChild) &&
                                !/^(left|right)$/gi.test(
                                  e.getStyle(n, "float", !0)
                                )) ||
                                e.add(t, "br");
                          })(g, a),
                          g.isEmpty(a) && Xw(a),
                          s.normalize(),
                          g.isEmpty(s)
                            ? (g.remove(s), x())
                            : (tx(e, s), Fw(e, s))),
                      g.setAttrib(s, "id", ""),
                      e.fire("NewBlock", { newBlock: s })));
            },
            rx = function(e, t) {
              return zw(e)
                .filter(function(e) {
                  return t.length > 0 && Tr(Xn.fromDom(e), t);
                })
                .isSome();
            },
            ox = function(e) {
              return rx(e, ul(e));
            },
            ix = function(e) {
              return rx(e, sl(e));
            },
            ax = af([{ br: [] }, { block: [] }, { none: [] }]),
            ux = function(e, t) {
              return ix(e);
            },
            sx = function(e) {
              return function(t, n) {
                return ("" === il(t)) === e;
              };
            },
            cx = function(e) {
              return function(t, n) {
                return Uw(t) === e;
              };
            },
            lx = function(e, t) {
              return function(n, r) {
                return (Ww(n) === e.toUpperCase()) === t;
              };
            },
            fx = function(e) {
              return lx("pre", e);
            },
            dx = function(e) {
              return function(t, n) {
                return ol(t) === e;
              };
            },
            mx = function(e, t) {
              return ox(e);
            },
            hx = function(e, t) {
              return t;
            },
            gx = function(e) {
              var t = il(e),
                n = Hw(e.dom, e.selection.getStart());
              return n && e.schema.isValidChild(n.nodeName, t || "P");
            },
            px = function(e, t) {
              return function(n, r) {
                return $(
                  e,
                  function(e, t) {
                    return e && t(n, r);
                  },
                  !0
                )
                  ? _.some(t)
                  : _.none();
              };
            },
            vx = function(e, t) {
              return rd(
                [
                  px([ux], ax.none()),
                  px([lx("summary", !0)], ax.br()),
                  px([fx(!0), dx(!1), hx], ax.br()),
                  px([fx(!0), dx(!1)], ax.block()),
                  px([fx(!0), dx(!0), hx], ax.block()),
                  px([fx(!0), dx(!0)], ax.br()),
                  px([cx(!0), hx], ax.br()),
                  px([cx(!0)], ax.block()),
                  px([sx(!0), hx, gx], ax.block()),
                  px([sx(!0)], ax.br()),
                  px([mx], ax.br()),
                  px([sx(!1), hx], ax.br()),
                  px([gx], ax.block())
                ],
                [e, t.shiftKey]
              ).getOr(ax.none());
            },
            bx = function(e, t) {
              vx(e, t).fold(
                function() {
                  Rh(e, t);
                },
                function() {
                  nx(e, t);
                },
                o
              );
            },
            yx = function(e) {
              e.on("keydown", function(t) {
                t.keyCode === $p.ENTER &&
                  (function(e, t) {
                    var n;
                    t.isDefaultPrevented() ||
                      (t.preventDefault(),
                      (n = e.undoManager).typing && ((n.typing = !1), n.add()),
                      e.undoManager.transact(function() {
                        !1 === e.selection.isCollapsed() &&
                          e.execCommand("Delete"),
                          bx(e, t);
                      }));
                  })(e, t);
              });
            },
            wx = function(e, t) {
              var n = t.container(),
                r = t.offset();
              return Do.isText(n)
                ? (n.insertData(r, e), _.some(lu(n, r + e.length)))
                : ys(t).map(function(n) {
                    var r = Xn.fromText(e);
                    return (
                      t.isAtEnd() ? wi(n, r) : yi(n, r), lu(r.dom(), e.length)
                    );
                  });
            },
            xx = s(wx, " "),
            Cx = s(wx, " "),
            Sx = function(e, t, n) {
              return js.navigateIgnore(e, t, n, yf);
            },
            Ex = function(e, t) {
              return K(Vl(Xn.fromDom(t.container()), e), so);
            },
            Tx = function(e, t, n) {
              return Sx(e, t.dom(), n).forall(function(e) {
                return Ex(t, n).fold(
                  function() {
                    return !1 === cs(e, n, t.dom());
                  },
                  function(r) {
                    return (
                      !1 === cs(e, n, t.dom()) &&
                      kr(r, Xn.fromDom(e.container()))
                    );
                  }
                );
              });
            },
            Nx = function(e, t, n) {
              return Ex(t, n).fold(
                function() {
                  return Sx(e, t.dom(), n).forall(function(e) {
                    return !1 === cs(e, n, t.dom());
                  });
                },
                function(t) {
                  return Sx(e, t.dom(), n).isNone();
                }
              );
            },
            _x = s(Nx, !1),
            kx = s(Nx, !0),
            Rx = s(Tx, !1),
            Dx = s(Tx, !0),
            Ox = function(e) {
              return lu.isTextPosition(e) && !e.isAtStart() && !e.isAtEnd();
            },
            Ax = function(e, t) {
              var n = q(Vl(Xn.fromDom(t.container()), e), so);
              return Q(n).getOr(e);
            },
            Px = function(e, t) {
              return Ox(t)
                ? bf(t)
                : bf(t) || js.prevPosition(Ax(e, t).dom(), t).exists(bf);
            },
            Bx = function(e, t) {
              return Ox(t)
                ? vf(t)
                : vf(t) || js.nextPosition(Ax(e, t).dom(), t).exists(vf);
            },
            Ix = function(e) {
              return ys(e)
                .bind(function(e) {
                  return zi(e, tr);
                })
                .exists(function(e) {
                  return (function(e) {
                    return z(["pre", "pre-wrap"], e);
                  })(pr(e, "white-space"));
                });
            },
            Mx = function(e, t) {
              return (
                (function(e, t) {
                  return js.prevPosition(e.dom(), t).isNone();
                })(e, t) ||
                (function(e, t) {
                  return js.nextPosition(e.dom(), t).isNone();
                })(e, t) ||
                _x(e, t) ||
                kx(e, t) ||
                lf(e, t) ||
                cf(e, t)
              );
            },
            Lx = function(e, t) {
              var n = (function(e) {
                var t = e.container(),
                  n = e.offset();
                return Do.isText(t) && n < t.data.length ? lu(t, n + 1) : e;
              })(t);
              return !Ix(n) && (kx(e, n) || Dx(e, n) || cf(e, n) || Bx(e, n));
            },
            Fx = function(e, t) {
              return (
                (function(e, t) {
                  return (
                    !Ix(t) && (_x(e, t) || Rx(e, t) || lf(e, t) || Px(e, t))
                  );
                })(e, t) || Lx(e, t)
              );
            },
            Hx = function(e, t) {
              return mf(e.charAt(t));
            },
            zx = function(e) {
              var t = e.container();
              return Do.isText(t) && Fn(t.data, " ");
            },
            Wx = function(e) {
              var t = e.data,
                n = (function(e) {
                  var t = e.split("");
                  return U(t, function(e, n) {
                    return mf(e) &&
                      n > 0 &&
                      n < t.length - 1 &&
                      gf(t[n - 1]) &&
                      gf(t[n + 1])
                      ? " "
                      : e;
                  }).join("");
                })(t);
              return n !== t && ((e.data = n), !0);
            },
            Ux = function(e, t) {
              return _.some(t)
                .filter(zx)
                .bind(function(t) {
                  var n = t.container();
                  return (function(e, t) {
                    var n = t.data,
                      r = lu(t, 0);
                    return !(
                      !Hx(n, 0) ||
                      Fx(e, r) ||
                      ((t.data = " " + n.slice(1)), 0)
                    );
                  })(e, n) ||
                    Wx(n) ||
                    (function(e, t) {
                      var n = t.data,
                        r = lu(t, n.length - 1);
                      return !(
                        !Hx(n, n.length - 1) ||
                        Fx(e, r) ||
                        ((t.data = n.slice(0, -1) + " "), 0)
                      );
                    })(e, n)
                    ? _.some(t)
                    : _.none();
                });
            },
            jx = function(e) {
              var t = Xn.fromDom(e.getBody());
              e.selection.isCollapsed() &&
                Ux(t, lu.fromRangeStart(e.selection.getRng())).each(function(
                  t
                ) {
                  e.selection.setRng(t.toRange());
                });
            },
            Vx = function(e, t) {
              return function(n) {
                return (function(e, t) {
                  return !Ix(t) && (Mx(e, t) || Px(e, t) || Bx(e, t));
                })(e, n)
                  ? xx(t)
                  : Cx(t);
              };
            },
            qx = function(e) {
              var t = du.fromRangeStart(e.selection.getRng()),
                n = Xn.fromDom(e.getBody());
              if (e.selection.isCollapsed()) {
                var r = s(Nl.isInlineTarget, e),
                  o = du.fromRangeStart(e.selection.getRng());
                return xd(r, e.getBody(), o)
                  .bind(
                    (function(e) {
                      return function(t) {
                        return t.fold(
                          function(t) {
                            return js.prevPosition(e.dom(), du.before(t));
                          },
                          function(e) {
                            return js.firstPositionIn(e);
                          },
                          function(e) {
                            return js.lastPositionIn(e);
                          },
                          function(t) {
                            return js.nextPosition(e.dom(), du.after(t));
                          }
                        );
                      };
                    })(n)
                  )
                  .bind(Vx(n, t))
                  .exists(
                    (function(e) {
                      return function(t) {
                        return (
                          e.selection.setRng(t.toRange()), e.nodeChanged(), !0
                        );
                      };
                    })(e)
                  );
              }
              return !1;
            },
            $x = function(e) {
              e.on("keydown", function(t) {
                !1 === t.isDefaultPrevented() &&
                  (function(e, t) {
                    Bw([{ keyCode: $p.SPACEBAR, action: Pw(qx, e) }], t).each(
                      function(e) {
                        t.preventDefault();
                      }
                    );
                  })(e, t);
              });
            },
            Kx = function(e, t) {
              t.hasAttribute("data-mce-caret") &&
                (va(t),
                (function(e) {
                  e.selection.setRng(e.selection.getRng());
                })(e),
                e.selection.scrollIntoView(t));
            },
            Yx = function(e, t) {
              var n = (function(e) {
                return Ui(Xn.fromDom(e.getBody()), "*[data-mce-caret]").fold(
                  a(null),
                  function(e) {
                    return e.dom();
                  }
                );
              })(e);
              if (n)
                return "compositionstart" === t.type
                  ? (t.preventDefault(), t.stopPropagation(), void Kx(e, n))
                  : void (fa(n) && (Kx(e, n), e.undoManager.add()));
            },
            Xx = function(e) {
              e.on("keyup compositionstart", s(Yx, e));
            },
            Gx = Kn.detect().browser,
            Jx = function(e) {
              !(function(e) {
                var t = _i(function() {
                  e.composing || jx(e);
                }, 0);
                Gx.isIE() &&
                  (e.on("keypress", function(e) {
                    t.throttle();
                  }),
                  e.on("remove", function(e) {
                    t.cancel();
                  }));
              })(e),
                e.on("input", function(t) {
                  !1 === t.isComposing && jx(e);
                });
            },
            Qx = function(e) {
              e.on("keydown", function(t) {
                !1 === t.isDefaultPrevented() &&
                  (function(e, t) {
                    Bw(
                      [
                        { keyCode: $p.END, action: lw(e, !0) },
                        { keyCode: $p.HOME, action: lw(e, !1) }
                      ],
                      t
                    ).each(function(e) {
                      t.preventDefault();
                    });
                  })(e, t);
              });
            },
            Zx = function(e) {
              var t = Id.setupSelectedState(e);
              Xx(e), Iw(e, t), Mw(e, t), yx(e), $x(e), Jx(e), Qx(e);
            };
          function eC(e) {
            var t,
              n,
              o,
              i = Kt.each,
              a = $p.BACKSPACE,
              u = $p.DELETE,
              s = e.dom,
              c = e.selection,
              l = e.settings,
              f = e.parser,
              d = fe.gecko,
              m = fe.ie,
              h = fe.webkit,
              g = m ? "Text" : "URL",
              p = function(t, n) {
                try {
                  e.getDoc().execCommand(t, !1, n);
                } catch (e) {}
              },
              v = function(e) {
                return e.isDefaultPrevented();
              },
              b = function() {
                e.shortcuts.add("meta+a", null, "SelectAll");
              },
              y = function() {
                e.on("keydown", function(e) {
                  if (
                    !v(e) &&
                    e.keyCode === a &&
                    c.isCollapsed() &&
                    0 === c.getRng().startOffset
                  ) {
                    var t = c.getNode().previousSibling;
                    if (t && t.nodeName && "table" === t.nodeName.toLowerCase())
                      return e.preventDefault(), !1;
                  }
                });
              },
              w = function() {
                e.inline ||
                  (e.contentStyles.push("body {min-height: 150px}"),
                  e.on("click", function(t) {
                    var n;
                    if ("HTML" === t.target.nodeName) {
                      if (fe.ie > 11) return void e.getBody().focus();
                      (n = e.selection.getRng()),
                        e.getBody().focus(),
                        e.selection.setRng(n),
                        e.selection.normalize(),
                        e.nodeChanged();
                    }
                  }));
              };
            return (
              e.on("keydown", function(t) {
                var n, r, o, i, a;
                if (
                  !v(t) &&
                  t.keyCode === $p.BACKSPACE &&
                  ((r = (n = c.getRng()).startContainer),
                  (o = n.startOffset),
                  (i = s.getRoot()),
                  (a = r),
                  n.collapsed && 0 === o)
                ) {
                  for (
                    ;
                    a &&
                    a.parentNode &&
                    a.parentNode.firstChild === a &&
                    a.parentNode !== i;

                  )
                    a = a.parentNode;
                  "BLOCKQUOTE" === a.tagName &&
                    (e.formatter.toggle("blockquote", null, a),
                    (n = s.createRng()).setStart(r, 0),
                    n.setEnd(r, 0),
                    c.setRng(n));
                }
              }),
              (t = function(e) {
                var t = s.create("body"),
                  n = e.cloneContents();
                return (
                  t.appendChild(n),
                  c.serializer.serialize(t, { format: "html" })
                );
              }),
              e.on("keydown", function(n) {
                var r,
                  o,
                  i = n.keyCode;
                if (!v(n) && (i === u || i === a)) {
                  if (
                    ((r = e.selection.isCollapsed()),
                    (o = e.getBody()),
                    r && !s.isEmpty(o))
                  )
                    return;
                  if (
                    !r &&
                    !(function(n) {
                      var r = t(n),
                        o = s.createRng();
                      return o.selectNode(e.getBody()), r === t(o);
                    })(e.selection.getRng())
                  )
                    return;
                  n.preventDefault(),
                    e.setContent(""),
                    o.firstChild && s.isBlock(o.firstChild)
                      ? e.selection.setCursorLocation(o.firstChild, 0)
                      : e.selection.setCursorLocation(o, 0),
                    e.nodeChanged();
                }
              }),
              fe.windowsPhone ||
                e.on(
                  "keyup focusin mouseup",
                  function(e) {
                    $p.modifierPressed(e) || c.normalize();
                  },
                  !0
                ),
              h &&
                (e.settings.content_editable ||
                  s.bind(e.getDoc(), "mousedown mouseup", function(t) {
                    var n;
                    if (t.target === e.getDoc().documentElement)
                      if (
                        ((n = c.getRng()),
                        e.getBody().focus(),
                        "mousedown" === t.type)
                      ) {
                        if (la(n.startContainer)) return;
                        c.placeCaretAt(t.clientX, t.clientY);
                      } else c.setRng(n);
                  }),
                e.on("click", function(t) {
                  var n = t.target;
                  /^(IMG|HR)$/.test(n.nodeName) &&
                    "false" !== s.getContentEditableParent(n) &&
                    (t.preventDefault(),
                    e.selection.select(n),
                    e.nodeChanged()),
                    "A" === n.nodeName &&
                      s.hasClass(n, "mce-item-anchor") &&
                      (t.preventDefault(), c.select(n));
                }),
                l.forced_root_block &&
                  e.on("init", function() {
                    p("DefaultParagraphSeparator", l.forced_root_block);
                  }),
                e.on("init", function() {
                  e.dom.bind(e.getBody(), "submit", function(e) {
                    e.preventDefault();
                  });
                }),
                y(),
                f.addNodeFilter("br", function(e) {
                  for (var t = e.length; t--; )
                    "Apple-interchange-newline" === e[t].attr("class") &&
                      e[t].remove();
                }),
                fe.iOS
                  ? (e.inline ||
                      e.on("keydown", function() {
                        r.document.activeElement === r.document.body &&
                          e.getWin().focus();
                      }),
                    w(),
                    e.on("click", function(e) {
                      var t = e.target;
                      do {
                        if ("A" === t.tagName) return void e.preventDefault();
                      } while ((t = t.parentNode));
                    }),
                    e.contentStyles.push(
                      ".mce-content-body {-webkit-touch-callout: none}"
                    ))
                  : b()),
              fe.ie >= 11 && (w(), y()),
              fe.ie &&
                (b(),
                p("AutoUrlDetect", !1),
                e.on("dragstart", function(t) {
                  !(function(t) {
                    var n, r;
                    t.dataTransfer &&
                      (e.selection.isCollapsed() &&
                        "IMG" === t.target.tagName &&
                        c.select(t.target),
                      (n = e.selection.getContent()).length > 0 &&
                        ((r =
                          "data:text/mce-internal," +
                          escape(e.id) +
                          "," +
                          escape(n)),
                        t.dataTransfer.setData(g, r)));
                  })(t);
                }),
                e.on("drop", function(t) {
                  if (!v(t)) {
                    var n = (function(e) {
                      var t;
                      return e.dataTransfer &&
                        (t = e.dataTransfer.getData(g)) &&
                        t.indexOf("data:text/mce-internal,") >= 0
                        ? ((t = t
                            .substr("data:text/mce-internal,".length)
                            .split(",")),
                          { id: unescape(t[0]), html: unescape(t[1]) })
                        : null;
                    })(t);
                    if (n && n.id !== e.id) {
                      t.preventDefault();
                      var r = py(t.x, t.y, e.getDoc());
                      c.setRng(r),
                        (o = n.html),
                        (i = !0),
                        e.queryCommandSupported("mceInsertClipboardContent")
                          ? e.execCommand("mceInsertClipboardContent", !1, {
                              content: o,
                              internal: i
                            })
                          : e.execCommand("mceInsertContent", !1, o);
                    }
                  }
                  var o, i;
                })),
              d &&
                (e.on("keydown", function(t) {
                  if (!v(t) && t.keyCode === a) {
                    if (!e.getBody().getElementsByTagName("hr").length) return;
                    if (c.isCollapsed() && 0 === c.getRng().startOffset) {
                      var n = c.getNode(),
                        r = n.previousSibling;
                      if ("HR" === n.nodeName)
                        return s.remove(n), void t.preventDefault();
                      r &&
                        r.nodeName &&
                        "hr" === r.nodeName.toLowerCase() &&
                        (s.remove(r), t.preventDefault());
                    }
                  }
                }),
                r.Range.prototype.getClientRects ||
                  e.on("mousedown", function(t) {
                    if (!v(t) && "HTML" === t.target.nodeName) {
                      var n = e.getBody();
                      n.blur(),
                        pe.setEditorTimeout(e, function() {
                          n.focus();
                        });
                    }
                  }),
                (n = function() {
                  var t = s.getAttribs(c.getStart().cloneNode(!1));
                  return function() {
                    var n = c.getStart();
                    n !== e.getBody() &&
                      (s.setAttrib(n, "style", null),
                      i(t, function(e) {
                        n.setAttributeNode(e.cloneNode(!0));
                      }));
                  };
                }),
                (o = function() {
                  return (
                    !c.isCollapsed() &&
                    s.getParent(c.getStart(), s.isBlock) !==
                      s.getParent(c.getEnd(), s.isBlock)
                  );
                }),
                e.on("keypress", function(t) {
                  var r;
                  if (!v(t) && (8 === t.keyCode || 46 === t.keyCode) && o())
                    return (
                      (r = n()),
                      e.getDoc().execCommand("delete", !1, null),
                      r(),
                      t.preventDefault(),
                      !1
                    );
                }),
                s.bind(e.getDoc(), "cut", function(t) {
                  var r;
                  !v(t) &&
                    o() &&
                    ((r = n()),
                    pe.setEditorTimeout(e, function() {
                      r();
                    }));
                }),
                l.readonly ||
                  e.on("BeforeExecCommand MouseDown", function() {
                    p("StyleWithCSS", !1),
                      p("enableInlineTableEditing", !1),
                      l.object_resizing || p("enableObjectResizing", !1);
                  }),
                e.on("SetContent ExecCommand", function(e) {
                  ("setcontent" !== e.type && "mceInsertLink" !== e.command) ||
                    i(s.select("a"), function(e) {
                      var t = e.parentNode,
                        n = s.getRoot();
                      if (t.lastChild === e) {
                        for (; t && !s.isBlock(t); ) {
                          if (t.parentNode.lastChild !== t || t === n) return;
                          t = t.parentNode;
                        }
                        s.add(t, "br", { "data-mce-bogus": 1 });
                      }
                    });
                }),
                e.contentStyles.push(
                  "img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"
                ),
                fe.mac &&
                  e.on("keydown", function(t) {
                    !$p.metaKeyPressed(t) ||
                      t.shiftKey ||
                      (37 !== t.keyCode && 39 !== t.keyCode) ||
                      (t.preventDefault(),
                      e.selection
                        .getSel()
                        .modify(
                          "move",
                          37 === t.keyCode ? "backward" : "forward",
                          "lineboundary"
                        ));
                  }),
                y()),
              {
                refreshContentEditable: function() {},
                isHidden: function() {
                  var t;
                  return !d || e.removed
                    ? 0
                    : !(t = e.selection.getSel()) ||
                        !t.rangeCount ||
                        0 === t.rangeCount;
                }
              }
            );
          }
          var tC = function(e) {
              return Do.isElement(e) && fo(Xn.fromDom(e));
            },
            nC = function(e) {
              e.on("click", function(t) {
                t.detail >= 3 &&
                  (function(e) {
                    var t = e.selection.getRng(),
                      n = lu.fromRangeStart(t),
                      r = lu.fromRangeEnd(t);
                    if (lu.isElementPosition(n)) {
                      var o = n.container();
                      tC(o) &&
                        js.firstPositionIn(o).each(function(e) {
                          return t.setStart(e.container(), e.offset());
                        });
                    }
                    lu.isElementPosition(r) &&
                      ((o = n.container()),
                      tC(o) &&
                        js.lastPositionIn(o).each(function(e) {
                          return t.setEnd(e.container(), e.offset());
                        })),
                      e.selection.setRng(qc(t));
                  })(e);
              });
            },
            rC = function(e) {
              !(function(e) {
                e.on("click", function(t) {
                  e.dom.getParent(t.target, "details") && t.preventDefault();
                });
              })(e),
                (function(e) {
                  e.parser.addNodeFilter("details", function(e) {
                    j(e, function(e) {
                      e.attr("data-mce-open", e.attr("open")),
                        e.attr("open", "open");
                    });
                  }),
                    e.serializer.addNodeFilter("details", function(e) {
                      j(e, function(e) {
                        var t = e.attr("data-mce-open");
                        e.attr("open", R(t) ? t : null),
                          e.attr("data-mce-open", null);
                      });
                    });
                })(e);
            },
            oC = fi.DOM,
            iC = function(e) {
              e.bindPendingEventDelegates(),
                (e.initialized = !0),
                e.fire("init"),
                e.focus(!0),
                e.nodeChanged({ initial: !0 }),
                e.execCallback("init_instance_callback", e),
                (function(e) {
                  e.settings.auto_focus &&
                    pe.setEditorTimeout(
                      e,
                      function() {
                        var t;
                        (t =
                          !0 === e.settings.auto_focus
                            ? e
                            : e.editorManager.get(e.settings.auto_focus))
                          .destroyed || t.focus();
                      },
                      100
                    );
                })(e);
            },
            aC = function(e, t) {
              var n,
                o,
                i = e.settings,
                a = e.getElement(),
                u = e.getDoc();
              i.inline || (e.getElement().style.visibility = e.orgVisibility),
                t ||
                  i.content_editable ||
                  (u.open(), u.write(e.iframeHTML), u.close()),
                i.content_editable &&
                  (e.on("remove", function() {
                    var e = this.getBody();
                    oC.removeClass(e, "mce-content-body"),
                      oC.removeClass(e, "mce-edit-focus"),
                      oC.setAttrib(e, "contentEditable", null);
                  }),
                  oC.addClass(a, "mce-content-body"),
                  (e.contentDocument = u = i.content_document || r.document),
                  (e.contentWindow = i.content_window || r.window),
                  (e.bodyElement = a),
                  (i.content_document = i.content_window = null),
                  (i.root_name = a.nodeName.toLowerCase())),
                ((n = e.getBody()).disabled = !0),
                (e.readonly = i.readonly),
                e.readonly ||
                  (e.inline &&
                    "static" === oC.getStyle(n, "position", !0) &&
                    (n.style.position = "relative"),
                  (n.contentEditable = e.getParam(
                    "content_editable_state",
                    !0
                  ))),
                (n.disabled = !1),
                (e.editorUpload = Pp(e)),
                (e.schema = ei(i)),
                (e.dom = fi(u, {
                  keep_values: !0,
                  url_converter: e.convertURL,
                  url_converter_scope: e,
                  hex_colors: i.force_hex_style_colors,
                  class_filter: i.class_filter,
                  update_styles: !0,
                  root_element: e.inline ? e.getBody() : null,
                  collect: i.content_editable,
                  schema: e.schema,
                  contentCssCors: xl(e),
                  onSetAttrib: function(t) {
                    e.fire("SetAttrib", t);
                  }
                })),
                (e.parser = (function(e) {
                  var t = oy(e.settings, e.schema);
                  return (
                    t.addAttributeFilter("src,href,style,tabindex", function(
                      t,
                      n
                    ) {
                      for (var r, o, i, a = t.length, u = e.dom; a--; )
                        if (
                          ((o = (r = t[a]).attr(n)),
                          (i = "data-mce-" + n),
                          !r.attributes.map[i])
                        ) {
                          if (
                            0 === o.indexOf("data:") ||
                            0 === o.indexOf("blob:")
                          )
                            continue;
                          "style" === n
                            ? ((o = u.serializeStyle(u.parseStyle(o), r.name))
                                .length || (o = null),
                              r.attr(i, o),
                              r.attr(n, o))
                            : "tabindex" === n
                            ? (r.attr(i, o), r.attr(n, null))
                            : r.attr(i, e.convertURL(o, n, r.name));
                        }
                    }),
                    t.addNodeFilter("script", function(e) {
                      for (var t, n, r = e.length; r--; )
                        0 !==
                          (n = (t = e[r]).attr("type") || "no/type").indexOf(
                            "mce-"
                          ) && t.attr("type", "mce-" + n);
                    }),
                    t.addNodeFilter("#cdata", function(e) {
                      for (var t, n = e.length; n--; )
                        ((t = e[n]).type = 8),
                          (t.name = "#comment"),
                          (t.value = "[CDATA[" + t.value + "]]");
                    }),
                    t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div", function(t) {
                      for (
                        var n, r = t.length, o = e.schema.getNonEmptyElements();
                        r--;

                      )
                        (n = t[r]).isEmpty(o) &&
                          0 === n.getAll("br").length &&
                          (n.append(new Gb("br", 1)).shortEnded = !0);
                    }),
                    t
                  );
                })(e)),
                (e.serializer = sy(i, e)),
                (e.selection = qy(e.dom, e.getWin(), e.serializer, e)),
                (e.annotator = Tc(e)),
                (e.formatter = Lb(e)),
                (e.undoManager = $v(e)),
                (e._nodeChangeDispatcher = new Vp(e)),
                (e._selectionOverrides = Cv(e)),
                rC(e),
                nC(e),
                Zx(e),
                Fp(e),
                e.fire("PreInit"),
                i.browser_spellcheck ||
                  i.gecko_spellcheck ||
                  ((u.body.spellcheck = !1),
                  oC.setAttrib(n, "spellcheck", "false")),
                (e.quirks = eC(e)),
                e.fire("PostRender"),
                i.directionality && (n.dir = i.directionality),
                i.nowrap && (n.style.whiteSpace = "nowrap"),
                i.protect &&
                  e.on("BeforeSetContent", function(e) {
                    Kt.each(i.protect, function(t) {
                      e.content = e.content.replace(t, function(e) {
                        return "\x3c!--mce:protected " + escape(e) + "--\x3e";
                      });
                    });
                  }),
                e.on("SetContent", function() {
                  e.addVisual(e.getBody());
                }),
                e.load({ initial: !0, format: "html" }),
                (e.startContent = e.getContent({ format: "raw" })),
                e.on("compositionstart compositionend", function(t) {
                  e.composing = "compositionstart" === t.type;
                }),
                e.contentStyles.length > 0 &&
                  ((o = ""),
                  Kt.each(e.contentStyles, function(e) {
                    o += e + "\r\n";
                  }),
                  e.dom.addStyle(o)),
                (function(e) {
                  return e.inline
                    ? oC.styleSheetLoader
                    : e.dom.styleSheetLoader;
                })(e).loadAll(
                  e.contentCSS,
                  function(t) {
                    iC(e);
                  },
                  function(t) {
                    iC(e);
                  }
                ),
                i.content_style &&
                  (function(e, t) {
                    var n = Xn.fromDom(e.getDoc().head),
                      r = Xn.fromTag("style");
                    fr(r, "type", "text/css"), Ci(r, Xn.fromText(t)), Ci(n, r);
                  })(e, i.content_style);
            },
            uC = fi.DOM,
            sC = function(e) {
              var t = "number" == typeof e ? e + "px" : e;
              return t || "";
            },
            cC = function(e, t) {
              var n = e.editorManager.translate(
                  "Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"
                ),
                o = (function(e, t, n, r) {
                  var o = Xn.fromTag("iframe");
                  return (
                    dr(o, r),
                    dr(o, {
                      id: e + "_ifr",
                      frameBorder: "0",
                      allowTransparency: "true",
                      title: t
                    }),
                    gr(o, { width: "100%", height: sC(n), display: "block" }),
                    o
                  );
                })(e.id, n, t.height, Qc(e)).dom();
              o.onload = function() {
                (o.onload = null), e.fire("load");
              };
              var i = (function(e, t) {
                if (
                  r.document.domain !== r.window.location.hostname &&
                  fe.ie &&
                  fe.ie < 12
                ) {
                  var n = Ap("mce");
                  e[n] = function() {
                    aC(e);
                  };
                  var o =
                    'javascript:(function(){document.open();document.domain="' +
                    r.document.domain +
                    '";var ed = window.parent.tinymce.get("' +
                    e.id +
                    '");document.write(ed.iframeHTML);document.close();ed.' +
                    n +
                    "(true);})()";
                  return uC.setAttrib(t, "src", o), !0;
                }
                return !1;
              })(e, o);
              return (
                (e.contentAreaContainer = t.iframeContainer),
                (e.iframeElement = o),
                (e.iframeHTML = (function(e) {
                  var t, n, r;
                  return (
                    (r = Zc(e) + "<html><head>"),
                    el(e) !== e.documentBaseUrl &&
                      (r +=
                        '<base href="' + e.documentBaseURI.getURI() + '" />'),
                    (r +=
                      '<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />'),
                    (t = tl(e)),
                    (n = nl(e)),
                    rl(e) &&
                      (r +=
                        '<meta http-equiv="Content-Security-Policy" content="' +
                        rl(e) +
                        '" />'),
                    (r +=
                      '</head><body id="' +
                      t +
                      '" class="mce-content-body ' +
                      n +
                      '" data-id="' +
                      e.id +
                      '"><br></body></html>')
                  );
                })(e)),
                uC.add(t.iframeContainer, o),
                i
              );
            },
            lC = function(e, t) {
              var n = cC(e, t);
              t.editorContainer &&
                ((uC.get(t.editorContainer).style.display = e.orgDisplay),
                (e.hidden = uC.isHidden(t.editorContainer))),
                (e.getElement().style.display = "none"),
                uC.setAttrib(e.id, "aria-hidden", "true"),
                n || aC(e);
            },
            fC = fi.DOM,
            dC = function(e, t, n) {
              var r = bp.get(n),
                o = bp.urls[n] || e.documentBaseUrl.replace(/\/$/, "");
              if (((n = Kt.trim(n)), r && -1 === Kt.inArray(t, n))) {
                if (
                  (Kt.each(bp.dependencies(n), function(n) {
                    dC(e, t, n);
                  }),
                  e.plugins[n])
                )
                  return;
                try {
                  var i = new r(e, o, e.$);
                  (e.plugins[n] = i), i.init && (i.init(e, o), t.push(n));
                } catch (t) {
                  vp.pluginInitError(e, n, t);
                }
              }
            },
            mC = function(e) {
              return e.replace(/^\-/, "");
            },
            hC = function(e) {
              return { editorContainer: e, iframeContainer: e };
            },
            gC = function(e) {
              var t = e.getElement();
              return e.inline
                ? hC(null)
                : (function(e) {
                    var t = fC.create("div");
                    return fC.insertAfter(t, e), hC(t);
                  })(t);
            },
            pC = function(e) {
              var t = e.settings,
                n = e.getElement();
              return (
                (e.orgDisplay = n.style.display),
                R(t.theme)
                  ? (function(e) {
                      var t,
                        n,
                        r,
                        o,
                        i,
                        a = e.settings,
                        u = e.getElement();
                      return (
                        (t = a.width || fC.getStyle(u, "width") || "100%"),
                        (n =
                          a.height ||
                          fC.getStyle(u, "height") ||
                          u.offsetHeight),
                        (r = a.min_height || 100),
                        (o = /^[0-9\.]+(|px)$/i).test("" + t) &&
                          (t = Math.max(parseInt(t, 10), 100)),
                        o.test("" + n) && (n = Math.max(parseInt(n, 10), r)),
                        (i = e.theme.renderUI({
                          targetNode: u,
                          width: t,
                          height: n,
                          deltaWidth: a.delta_width,
                          deltaHeight: a.delta_height
                        })),
                        a.content_editable ||
                          ((n =
                            (i.iframeHeight || n) +
                            ("number" == typeof n ? i.deltaHeight || 0 : "")) <
                            r &&
                            (n = r)),
                        (i.height = n),
                        i
                      );
                    })(e)
                  : B(t.theme)
                  ? (function(e) {
                      var t,
                        n = e.getElement();
                      return (
                        (t = e.settings.theme(e, n)).editorContainer.nodeType &&
                          (t.editorContainer.id =
                            t.editorContainer.id || e.id + "_parent"),
                        t.iframeContainer &&
                          t.iframeContainer.nodeType &&
                          (t.iframeContainer.id =
                            t.iframeContainer.id || e.id + "_iframecontainer"),
                        (t.height = t.iframeHeight
                          ? t.iframeHeight
                          : n.offsetHeight),
                        t
                      );
                    })(e)
                  : gC(e)
              );
            },
            vC = function(e) {
              var t,
                n = e.settings,
                r = e.getElement();
              return (
                (e.rtl = n.rtl_ui || e.editorManager.i18n.rtl),
                e.editorManager.i18n.setCode(n.language),
                (n.aria_label =
                  n.aria_label ||
                  fC.getAttrib(
                    r,
                    "aria-label",
                    e.getLang("aria.rich_text_area")
                  )),
                e.fire("ScriptsLoaded"),
                (function(e) {
                  var t,
                    n = e.settings.theme;
                  R(n)
                    ? ((e.settings.theme = mC(n)),
                      (t = yp.get(n)),
                      (e.theme = new t(e, yp.urls[n])),
                      e.theme.init &&
                        e.theme.init(
                          e,
                          yp.urls[n] || e.documentBaseUrl.replace(/\/$/, ""),
                          e.$
                        ))
                    : (e.theme = {});
                })(e),
                (function(e) {
                  var t = [];
                  Kt.each(e.settings.plugins.split(/[ ,]/), function(n) {
                    dC(e, t, mC(n));
                  });
                })(e),
                (t = pC(e)),
                (e.editorContainer = t.editorContainer
                  ? t.editorContainer
                  : null),
                n.content_css &&
                  Kt.each(Kt.explode(n.content_css), function(t) {
                    e.contentCSS.push(e.documentBaseURI.toAbsolute(t));
                  }),
                n.content_editable ? aC(e) : lC(e, t)
              );
            },
            bC = fi.DOM,
            yC = function(e) {
              return "-" === e.charAt(0);
            },
            wC = function(e, t) {
              var n = pi.ScriptLoader;
              !(function(e, t, n, r) {
                var o = t.settings,
                  i = o.theme;
                if (R(i)) {
                  if (!yC(i) && !yp.urls.hasOwnProperty(i)) {
                    var a = o.theme_url;
                    a
                      ? yp.load(i, t.documentBaseURI.toAbsolute(a))
                      : yp.load(i, "themes/" + i + "/theme" + n + ".js");
                  }
                  e.loadQueue(function() {
                    yp.waitFor(i, r);
                  });
                } else r();
              })(n, e, t, function() {
                !(function(e, t) {
                  var n = t.settings;
                  n.language &&
                    "en" !== n.language &&
                    !n.language_url &&
                    (n.language_url =
                      t.editorManager.baseURL + "/langs/" + n.language + ".js"),
                    n.language_url &&
                      !t.editorManager.i18n.data[n.language] &&
                      e.add(n.language_url);
                })(n, e),
                  (function(e, t) {
                    Kt.isArray(e.plugins) && (e.plugins = e.plugins.join(" ")),
                      Kt.each(e.external_plugins, function(t, n) {
                        bp.load(n, t), (e.plugins += " " + n);
                      }),
                      Kt.each(e.plugins.split(/[ ,]/), function(e) {
                        if ((e = Kt.trim(e)) && !bp.urls[e])
                          if (yC(e)) {
                            e = e.substr(1, e.length);
                            var n = bp.dependencies(e);
                            Kt.each(n, function(e) {
                              var n = {
                                prefix: "plugins/",
                                resource: e,
                                suffix: "/plugin" + t + ".js"
                              };
                              (e = bp.createUrl(n, e)), bp.load(e.resource, e);
                            });
                          } else
                            bp.load(e, {
                              prefix: "plugins/",
                              resource: e,
                              suffix: "/plugin" + t + ".js"
                            });
                      });
                  })(e.settings, t),
                  n.loadQueue(
                    function() {
                      e.removed || vC(e);
                    },
                    e,
                    function(t) {
                      vp.pluginLoadError(e, t[0]), e.removed || vC(e);
                    }
                  );
              });
            },
            xC = function(e) {
              var t = e.settings,
                n = e.id,
                o = function() {
                  bC.unbind(r.window, "ready", o), e.render();
                };
              if (Te.Event.domLoaded) {
                if (e.getElement() && fe.contentEditable) {
                  t.inline
                    ? (e.inline = !0)
                    : ((e.orgVisibility = e.getElement().style.visibility),
                      (e.getElement().style.visibility = "hidden"));
                  var i = e.getElement().form || bC.getParent(n, "form");
                  i &&
                    ((e.formElement = i),
                    t.hidden_input &&
                      !/TEXTAREA|INPUT/i.test(e.getElement().nodeName) &&
                      (bC.insertAfter(
                        bC.create("input", { type: "hidden", name: n }),
                        n
                      ),
                      (e.hasHiddenInput = !0)),
                    (e.formEventDelegate = function(t) {
                      e.fire(t.type, t);
                    }),
                    bC.bind(i, "submit reset", e.formEventDelegate),
                    e.on("reset", function() {
                      e.setContent(e.startContent, { format: "raw" });
                    }),
                    !t.submit_patch ||
                      i.submit.nodeType ||
                      i.submit.length ||
                      i._mceOldSubmit ||
                      ((i._mceOldSubmit = i.submit),
                      (i.submit = function() {
                        return (
                          e.editorManager.triggerSave(),
                          e.setDirty(!1),
                          i._mceOldSubmit(i)
                        );
                      }))),
                    (e.windowManager = sp(e)),
                    (e.notificationManager = up(e)),
                    "xml" === t.encoding &&
                      e.on("GetContent", function(e) {
                        e.save && (e.content = bC.encode(e.content));
                      }),
                    t.add_form_submit_trigger &&
                      e.on("submit", function() {
                        e.initialized && e.save();
                      }),
                    t.add_unload_trigger &&
                      ((e._beforeUnload = function() {
                        !e.initialized ||
                          e.destroyed ||
                          e.isHidden() ||
                          e.save({
                            format: "raw",
                            no_events: !0,
                            set_dirty: !1
                          });
                      }),
                      e.editorManager.on("BeforeUnload", e._beforeUnload)),
                    e.editorManager.add(e),
                    wC(e, e.suffix);
                }
              } else bC.bind(r.window, "ready", o);
            },
            CC = function(e, t, n) {
              var r = e.sidebars ? e.sidebars : [];
              r.push({ name: t, settings: n }), (e.sidebars = r);
            },
            SC = Kt.each,
            EC = Kt.trim,
            TC = "source protocol authority userInfo user password host port relative path directory file query anchor".split(
              " "
            ),
            NC = { ftp: 21, http: 80, https: 443, mailto: 25 },
            _C = function(e, t) {
              var n,
                o,
                i = this;
              if (
                ((e = EC(e)),
                (n = (t = i.settings = t || {}).base_uri),
                /^([\w\-]+):([^\/]{2})/i.test(e) || /^\s*#/.test(e))
              )
                i.source = e;
              else {
                var a = 0 === e.indexOf("//");
                0 !== e.indexOf("/") ||
                  a ||
                  (e = ((n && n.protocol) || "http") + "://mce_host" + e),
                  /^[\w\-]*:?\/\//.test(e) ||
                    ((o = t.base_uri
                      ? t.base_uri.path
                      : new _C(r.document.location.href).directory),
                    "" == t.base_uri.protocol
                      ? (e = "//mce_host" + i.toAbsPath(o, e))
                      : ((e = /([^#?]*)([#?]?.*)/.exec(e)),
                        (e =
                          ((n && n.protocol) || "http") +
                          "://mce_host" +
                          i.toAbsPath(o, e[1]) +
                          e[2]))),
                  (e = e.replace(/@@/g, "(mce_at)")),
                  (e = /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(
                    e
                  )),
                  SC(TC, function(t, n) {
                    var r = e[n];
                    r && (r = r.replace(/\(mce_at\)/g, "@@")), (i[t] = r);
                  }),
                  n &&
                    (i.protocol || (i.protocol = n.protocol),
                    i.userInfo || (i.userInfo = n.userInfo),
                    i.port || "mce_host" !== i.host || (i.port = n.port),
                    (i.host && "mce_host" !== i.host) || (i.host = n.host),
                    (i.source = "")),
                  a && (i.protocol = "");
              }
            };
          (_C.prototype = {
            setPath: function(e) {
              (e = /^(.*?)\/?(\w+)?$/.exec(e)),
                (this.path = e[0]),
                (this.directory = e[1]),
                (this.file = e[2]),
                (this.source = ""),
                this.getURI();
            },
            toRelative: function(e) {
              var t;
              if ("./" === e) return e;
              if (
                ("mce_host" !== (e = new _C(e, { base_uri: this })).host &&
                  this.host !== e.host &&
                  e.host) ||
                this.port !== e.port ||
                (this.protocol !== e.protocol && "" !== e.protocol)
              )
                return e.getURI();
              var n = this.getURI(),
                r = e.getURI();
              return n === r ||
                ("/" === n.charAt(n.length - 1) &&
                  n.substr(0, n.length - 1) === r)
                ? n
                : ((t = this.toRelPath(this.path, e.path)),
                  e.query && (t += "?" + e.query),
                  e.anchor && (t += "#" + e.anchor),
                  t);
            },
            toAbsolute: function(e, t) {
              return (e = new _C(e, { base_uri: this })).getURI(
                t && this.isSameOrigin(e)
              );
            },
            isSameOrigin: function(e) {
              if (this.host == e.host && this.protocol == e.protocol) {
                if (this.port == e.port) return !0;
                var t = NC[this.protocol];
                if (t && (this.port || t) == (e.port || t)) return !0;
              }
              return !1;
            },
            toRelPath: function(e, t) {
              var n,
                r,
                o,
                i = 0,
                a = "";
              if (
                ((e = (e = e.substring(0, e.lastIndexOf("/"))).split("/")),
                (n = t.split("/")),
                e.length >= n.length)
              )
                for (r = 0, o = e.length; r < o; r++)
                  if (r >= n.length || e[r] !== n[r]) {
                    i = r + 1;
                    break;
                  }
              if (e.length < n.length)
                for (r = 0, o = n.length; r < o; r++)
                  if (r >= e.length || e[r] !== n[r]) {
                    i = r + 1;
                    break;
                  }
              if (1 === i) return t;
              for (r = 0, o = e.length - (i - 1); r < o; r++) a += "../";
              for (r = i - 1, o = n.length; r < o; r++)
                a += r !== i - 1 ? "/" + n[r] : n[r];
              return a;
            },
            toAbsPath: function(e, t) {
              var n,
                r,
                o,
                i = 0,
                a = [];
              for (
                r = /\/$/.test(t) ? "/" : "",
                  e = e.split("/"),
                  t = t.split("/"),
                  SC(e, function(e) {
                    e && a.push(e);
                  }),
                  e = a,
                  n = t.length - 1,
                  a = [];
                n >= 0;
                n--
              )
                0 !== t[n].length &&
                  "." !== t[n] &&
                  (".." !== t[n] ? (i > 0 ? i-- : a.push(t[n])) : i++);
              return (
                0 !==
                  (o =
                    (n = e.length - i) <= 0
                      ? a.reverse().join("/")
                      : e.slice(0, n).join("/") +
                        "/" +
                        a.reverse().join("/")).indexOf("/") && (o = "/" + o),
                r && o.lastIndexOf("/") !== o.length - 1 && (o += r),
                o
              );
            },
            getURI: function(e) {
              var t;
              return (
                (this.source && !e) ||
                  ((t = ""),
                  e ||
                    (this.protocol ? (t += this.protocol + "://") : (t += "//"),
                    this.userInfo && (t += this.userInfo + "@"),
                    this.host && (t += this.host),
                    this.port && (t += ":" + this.port)),
                  this.path && (t += this.path),
                  this.query && (t += "?" + this.query),
                  this.anchor && (t += "#" + this.anchor),
                  (this.source = t)),
                this.source
              );
            }
          }),
            (_C.parseDataUri = function(e) {
              var t, n;
              return (
                (e = decodeURIComponent(e).split(",")),
                (n = /data:([^;]+)/.exec(e[0])) && (t = n[1]),
                { type: t, data: e[1] }
              );
            }),
            (_C.getDocumentBaseUrl = function(e) {
              var t;
              return (
                (t =
                  0 !== e.protocol.indexOf("http") && "file:" !== e.protocol
                    ? e.href
                    : e.protocol + "//" + e.host + e.pathname),
                /^[^:]+:\/\/\/?[^\/]+\//.test(t) &&
                  ((t = t.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, "")),
                  /[\/\\]$/.test(t) || (t += "/")),
                t
              );
            });
          var kC = function(e, t, n) {
              var r;
              if (
                ((t.format = t.format ? t.format : "html"),
                (t.get = !0),
                (t.getInner = !0),
                t.no_events || e.fire("BeforeGetContent", t),
                "raw" === t.format)
              )
                r = Kt.trim(Rv.trimExternal(e.serializer, n.innerHTML));
              else if ("text" === t.format)
                r = ia(n.innerText || n.textContent);
              else {
                if ("tree" === t.format) return e.serializer.serialize(n, t);
                r = (function(e, t) {
                  var n = il(e),
                    r = new RegExp(
                      "^(<" +
                        n +
                        "[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/" +
                        n +
                        ">[\r\n]*|<br \\/>[\r\n]*)$"
                    );
                  return t.replace(r, "");
                })(e, e.serializer.serialize(n, t));
              }
              return (
                "text" === t.format || bo(Xn.fromDom(n))
                  ? (t.content = r)
                  : (t.content = Kt.trim(r)),
                t.no_events || e.fire("GetContent", t),
                t.content
              );
            },
            RC = function(e, t) {
              t(e),
                e.firstChild && RC(e.firstChild, t),
                e.next && RC(e.next, t);
            },
            DC = function(e, t, n) {
              var r = (function(e, t, n) {
                var r = {},
                  o = {},
                  i = [];
                for (var a in (n.firstChild &&
                  RC(n.firstChild, function(n) {
                    j(e, function(e) {
                      e.name === n.name &&
                        (r[e.name]
                          ? r[e.name].nodes.push(n)
                          : (r[e.name] = { filter: e, nodes: [n] }));
                    }),
                      j(t, function(e) {
                        "string" == typeof n.attr(e.name) &&
                          (o[e.name]
                            ? o[e.name].nodes.push(n)
                            : (o[e.name] = { filter: e, nodes: [n] }));
                      });
                  }),
                r))
                  r.hasOwnProperty(a) && i.push(r[a]);
                for (var a in o) o.hasOwnProperty(a) && i.push(o[a]);
                return i;
              })(e, t, n);
              j(r, function(e) {
                j(e.filter.callbacks, function(t) {
                  t(e.nodes, e.filter.name, {});
                });
              });
            },
            OC = function(e) {
              return e instanceof Gb;
            },
            AC = function(e, t) {
              e.dom.setHTML(e.getBody(), t),
                (function(e) {
                  Qg(e) &&
                    js.firstPositionIn(e.getBody()).each(function(t) {
                      var n = t.getNode(),
                        r = Do.isTable(n) ? js.firstPositionIn(n).getOr(t) : t;
                      e.selection.setRng(r.toRange());
                    });
                })(e);
            },
            PC = function(e, t, n) {
              return (
                void 0 === n && (n = {}),
                (n.format = n.format ? n.format : "html"),
                (n.set = !0),
                (n.content = OC(t) ? "" : t),
                OC(t) ||
                  n.no_events ||
                  (e.fire("BeforeSetContent", n), (t = n.content)),
                _.from(e.getBody()).fold(a(t), function(r) {
                  return OC(t)
                    ? (function(e, t, n, r) {
                        DC(
                          e.parser.getNodeFilters(),
                          e.parser.getAttributeFilters(),
                          n
                        );
                        var o = Uc(
                          { validate: e.validate },
                          e.schema
                        ).serialize(n);
                        return (
                          (r.content = bo(Xn.fromDom(t)) ? o : Kt.trim(o)),
                          AC(e, r.content),
                          r.no_events || e.fire("SetContent", r),
                          n
                        );
                      })(e, r, t, n)
                    : (function(e, t, n, r) {
                        var o, i;
                        return (
                          0 === n.length || /^\s+$/.test(n)
                            ? ((i = '<br data-mce-bogus="1">'),
                              "TABLE" === t.nodeName
                                ? (n = "<tr><td>" + i + "</td></tr>")
                                : /^(UL|OL)$/.test(t.nodeName) &&
                                  (n = "<li>" + i + "</li>"),
                              (o = il(e)) &&
                              e.schema.isValidChild(
                                t.nodeName.toLowerCase(),
                                o.toLowerCase()
                              )
                                ? ((n = i),
                                  (n = e.dom.createHTML(
                                    o,
                                    e.settings.forced_root_block_attrs,
                                    n
                                  )))
                                : n || (n = '<br data-mce-bogus="1">'),
                              AC(e, n),
                              e.fire("SetContent", r))
                            : ("raw" !== r.format &&
                                (n = Uc(
                                  { validate: e.validate },
                                  e.schema
                                ).serialize(
                                  e.parser.parse(n, {
                                    isRootContent: !0,
                                    insert: !0
                                  })
                                )),
                              (r.content = bo(Xn.fromDom(t)) ? n : Kt.trim(n)),
                              AC(e, r.content),
                              r.no_events || e.fire("SetContent", r)),
                          r.content
                        );
                      })(e, r, t, n);
                })
              );
            },
            BC = fi.DOM,
            IC = function(e) {
              return _.from(e).each(function(e) {
                return e.destroy();
              });
            },
            MC = function(e) {
              if (!e.removed) {
                var t = e._selectionOverrides,
                  n = e.editorUpload,
                  r = e.getBody(),
                  o = e.getElement();
                r && e.save({ is_removing: !0 }),
                  (e.removed = !0),
                  e.unbindAllNativeEvents(),
                  e.hasHiddenInput && o && BC.remove(o.nextSibling),
                  fg(e),
                  e.editorManager.remove(e),
                  !e.inline &&
                    r &&
                    (function(e) {
                      BC.setStyle(e.id, "display", e.orgDisplay);
                    })(e),
                  dg(e),
                  BC.remove(e.getContainer()),
                  IC(t),
                  IC(n),
                  e.destroy();
              }
            },
            LC = function(e, t) {
              var n = e.selection,
                r = e.dom;
              e.destroyed ||
                (t || e.removed
                  ? (t ||
                      (e.editorManager.off("beforeunload", e._beforeUnload),
                      e.theme && e.theme.destroy && e.theme.destroy(),
                      IC(n),
                      IC(r)),
                    (function(e) {
                      var t = e.formElement;
                      t &&
                        (t._mceOldSubmit &&
                          ((t.submit = t._mceOldSubmit),
                          (t._mceOldSubmit = null)),
                        BC.unbind(t, "submit reset", e.formEventDelegate));
                    })(e),
                    (function(e) {
                      (e.contentAreaContainer = e.formElement = e.container = e.editorContainer = null),
                        (e.bodyElement = e.contentDocument = e.contentWindow = null),
                        (e.iframeElement = e.targetElm = null),
                        e.selection &&
                          (e.selection = e.selection.win = e.selection.dom = e.selection.dom.doc = null);
                    })(e),
                    (e.destroyed = !0))
                  : e.remove());
            },
            FC = fi.DOM,
            HC = Kt.extend,
            zC = Kt.each,
            WC = Kt.resolve,
            UC = fe.ie,
            jC = function(e, t, n) {
              var r = this,
                o = (r.documentBaseUrl = n.documentBaseURL),
                i = n.baseURI;
              (t = (function(e, t, n, r, o) {
                var i = (function(e, t, n) {
                  return {
                    id: e,
                    theme: "modern",
                    delta_width: 0,
                    delta_height: 0,
                    popup_css: "",
                    plugins: "",
                    document_base_url: t,
                    add_form_submit_trigger: !0,
                    submit_patch: !0,
                    add_unload_trigger: !0,
                    convert_urls: !0,
                    relative_urls: !0,
                    remove_script_host: !0,
                    object_resizing: !0,
                    doctype: "<!DOCTYPE html>",
                    visual: !0,
                    font_size_style_values:
                      "xx-small,x-small,small,medium,large,x-large,xx-large",
                    font_size_legacy_values:
                      "xx-small,small,medium,large,x-large,xx-large,300%",
                    forced_root_block: "p",
                    hidden_input: !0,
                    render_ui: !0,
                    indentation: "40px",
                    inline_styles: !0,
                    convert_fonts_to_spans: !0,
                    indent: "simple",
                    indent_before:
                      "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
                    indent_after:
                      "p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",
                    entity_encoding: "named",
                    url_converter: n.convertURL,
                    url_converter_scope: n,
                    ie7_compat: !0
                  };
                })(t, n, e);
                return Ig(_g, i, r, o);
              })(r, e, o, n.defaultSettings, t)),
                (r.settings = t),
                (bi.language = t.language || "en"),
                (bi.languageLoad = t.language_load),
                (bi.baseURL = n.baseURL),
                (r.id = e),
                r.setDirty(!1),
                (r.plugins = {}),
                (r.documentBaseURI = new _C(t.document_base_url, {
                  base_uri: i
                })),
                (r.baseURI = i),
                (r.contentCSS = []),
                (r.contentStyles = []),
                (r.shortcuts = new Ug(r)),
                (r.loadedCSS = {}),
                (r.editorCommands = new rg(r)),
                (r.suffix = n.suffix),
                (r.editorManager = n),
                (r.inline = t.inline),
                (r.buttons = {}),
                (r.menuItems = {}),
                t.cache_suffix &&
                  (fe.cacheSuffix = t.cache_suffix.replace(/^[\?\&]+/, "")),
                !1 === t.override_viewport && (fe.overrideViewPort = !1),
                n.fire("SetupEditor", { editor: r }),
                r.execCallback("setup", r),
                (r.$ = mn.overrideDefaults(function() {
                  return {
                    context: r.inline ? r.getBody() : r.getDoc(),
                    element: r.getBody()
                  };
                }));
            };
          (jC.prototype = {
            render: function() {
              xC(this);
            },
            focus: function(e) {
              Jg(this, e);
            },
            hasFocus: function() {
              return Qg(this);
            },
            execCallback: function(e) {
              for (var t = [], n = 1; n < arguments.length; n++)
                t[n - 1] = arguments[n];
              var r,
                o = this,
                i = o.settings[e];
              if (i)
                return (
                  o.callbackLookup &&
                    (r = o.callbackLookup[e]) &&
                    ((i = r.func), (r = r.scope)),
                  "string" == typeof i &&
                    ((r = (r = i.replace(/\.\w+$/, "")) ? WC(r) : 0),
                    (i = WC(i)),
                    (o.callbackLookup = o.callbackLookup || {}),
                    (o.callbackLookup[e] = { func: i, scope: r })),
                  i.apply(r || o, Array.prototype.slice.call(arguments, 1))
                );
            },
            translate: function(e) {
              if (e && Kt.is(e, "string")) {
                var t = this.settings.language || "en",
                  n = this.editorManager.i18n;
                e =
                  n.data[t + "." + e] ||
                  e.replace(/\{\#([^\}]+)\}/g, function(e, r) {
                    return n.data[t + "." + r] || "{#" + r + "}";
                  });
              }
              return this.editorManager.translate(e);
            },
            getLang: function(e, t) {
              return (
                this.editorManager.i18n.data[
                  (this.settings.language || "en") + "." + e
                ] || (void 0 !== t ? t : "{#" + e + "}")
              );
            },
            getParam: function(e, t, n) {
              return Lg(this, e, t, n);
            },
            nodeChanged: function(e) {
              this._nodeChangeDispatcher.nodeChanged(e);
            },
            addButton: function(e, t) {
              var n = this;
              t.cmd &&
                (t.onclick = function() {
                  n.execCommand(t.cmd);
                }),
                t.stateSelector && void 0 === t.active && (t.active = !1),
                t.text || t.icon || (t.icon = e),
                (t.tooltip = t.tooltip || t.title),
                (n.buttons[e] = t);
            },
            addSidebar: function(e, t) {
              return CC(this, e, t);
            },
            addMenuItem: function(e, t) {
              var n = this;
              t.cmd &&
                (t.onclick = function() {
                  n.execCommand(t.cmd);
                }),
                (n.menuItems[e] = t);
            },
            addContextToolbar: function(e, t) {
              var n,
                r = this;
              (r.contextToolbars = r.contextToolbars || []),
                "string" == typeof e &&
                  ((n = e),
                  (e = function(e) {
                    return r.dom.is(e, n);
                  })),
                r.contextToolbars.push({
                  id: Ap("mcet"),
                  predicate: e,
                  items: t
                });
            },
            addCommand: function(e, t, n) {
              this.editorCommands.addCommand(e, t, n);
            },
            addQueryStateHandler: function(e, t, n) {
              this.editorCommands.addQueryStateHandler(e, t, n);
            },
            addQueryValueHandler: function(e, t, n) {
              this.editorCommands.addQueryValueHandler(e, t, n);
            },
            addShortcut: function(e, t, n, r) {
              this.shortcuts.add(e, t, n, r);
            },
            execCommand: function(e, t, n, r) {
              return this.editorCommands.execCommand(e, t, n, r);
            },
            queryCommandState: function(e) {
              return this.editorCommands.queryCommandState(e);
            },
            queryCommandValue: function(e) {
              return this.editorCommands.queryCommandValue(e);
            },
            queryCommandSupported: function(e) {
              return this.editorCommands.queryCommandSupported(e);
            },
            show: function() {
              this.hidden &&
                ((this.hidden = !1),
                this.inline
                  ? (this.getBody().contentEditable = !0)
                  : (FC.show(this.getContainer()), FC.hide(this.id)),
                this.load(),
                this.fire("show"));
            },
            hide: function() {
              var e = this.getDoc();
              this.hidden ||
                (UC && e && !this.inline && e.execCommand("SelectAll"),
                this.save(),
                this.inline
                  ? ((this.getBody().contentEditable = !1),
                    this === this.editorManager.focusedEditor &&
                      (this.editorManager.focusedEditor = null))
                  : (FC.hide(this.getContainer()),
                    FC.setStyle(this.id, "display", this.orgDisplay)),
                (this.hidden = !0),
                this.fire("hide"));
            },
            isHidden: function() {
              return !!this.hidden;
            },
            setProgressState: function(e, t) {
              this.fire("ProgressState", { state: e, time: t });
            },
            load: function(e) {
              var t,
                n = this.getElement();
              return this.removed
                ? ""
                : n
                ? (((e = e || {}).load = !0),
                  (t = this.setContent(
                    void 0 !== n.value ? n.value : n.innerHTML,
                    e
                  )),
                  (e.element = n),
                  e.no_events || this.fire("LoadContent", e),
                  (e.element = n = null),
                  t)
                : void 0;
            },
            save: function(e) {
              var t,
                n,
                r = this,
                o = r.getElement();
              if (o && r.initialized && !r.removed)
                return (
                  ((e = e || {}).save = !0),
                  (e.element = o),
                  (e.content = r.getContent(e)),
                  e.no_events || r.fire("SaveContent", e),
                  "raw" === e.format && r.fire("RawSaveContent", e),
                  (t = e.content),
                  /TEXTAREA|INPUT/i.test(o.nodeName)
                    ? (o.value = t)
                    : ((!e.is_removing && r.inline) || (o.innerHTML = t),
                      (n = FC.getParent(r.id, "form")) &&
                        zC(n.elements, function(e) {
                          if (e.name === r.id) return (e.value = t), !1;
                        })),
                  (e.element = o = null),
                  !1 !== e.set_dirty && r.setDirty(!1),
                  t
                );
            },
            setContent: function(e, t) {
              return PC(this, e, t);
            },
            getContent: function(e) {
              return (function(e, t) {
                return (
                  void 0 === t && (t = {}),
                  _.from(e.getBody()).fold(
                    a("tree" === t.format ? new Gb("body", 11) : ""),
                    function(n) {
                      return kC(e, t, n);
                    }
                  )
                );
              })(this, e);
            },
            insertContent: function(e, t) {
              t && (e = HC({ content: e }, t)),
                this.execCommand("mceInsertContent", !1, e);
            },
            isDirty: function() {
              return !this.isNotDirty;
            },
            setDirty: function(e) {
              var t = !this.isNotDirty;
              (this.isNotDirty = !e), e && e !== t && this.fire("dirty");
            },
            setMode: function(e) {
              !(function(e, t) {
                t !== yg(e) &&
                  (e.initialized
                    ? bg(e, "readonly" === t)
                    : e.on("init", function() {
                        bg(e, "readonly" === t);
                      }),
                  mg(e, t));
              })(this, e);
            },
            getContainer: function() {
              return (
                this.container ||
                  (this.container = FC.get(
                    this.editorContainer || this.id + "_parent"
                  )),
                this.container
              );
            },
            getContentAreaContainer: function() {
              return this.contentAreaContainer;
            },
            getElement: function() {
              return (
                this.targetElm || (this.targetElm = FC.get(this.id)),
                this.targetElm
              );
            },
            getWin: function() {
              var e;
              return (
                this.contentWindow ||
                  ((e = this.iframeElement) &&
                    (this.contentWindow = e.contentWindow)),
                this.contentWindow
              );
            },
            getDoc: function() {
              var e;
              return (
                this.contentDocument ||
                  ((e = this.getWin()) && (this.contentDocument = e.document)),
                this.contentDocument
              );
            },
            getBody: function() {
              var e = this.getDoc();
              return this.bodyElement || (e ? e.body : null);
            },
            convertURL: function(e, t, n) {
              var r = this.settings;
              return r.urlconverter_callback
                ? this.execCallback("urlconverter_callback", e, n, !0, t)
                : !r.convert_urls ||
                  (n && "LINK" === n.nodeName) ||
                  0 === e.indexOf("file:") ||
                  0 === e.length
                ? e
                : r.relative_urls
                ? this.documentBaseURI.toRelative(e)
                : (e = this.documentBaseURI.toAbsolute(
                    e,
                    r.remove_script_host
                  ));
            },
            addVisual: function(e) {
              var t,
                n = this,
                r = n.settings,
                o = n.dom;
              (e = e || n.getBody()),
                void 0 === n.hasVisual && (n.hasVisual = r.visual),
                zC(o.select("table,a", e), function(e) {
                  var i;
                  switch (e.nodeName) {
                    case "TABLE":
                      return (
                        (t = r.visual_table_class || "mce-item-table"),
                        void (((i = o.getAttrib(e, "border")) && "0" !== i) ||
                        !n.hasVisual
                          ? o.removeClass(e, t)
                          : o.addClass(e, t))
                      );
                    case "A":
                      return void (
                        o.getAttrib(e, "href") ||
                        ((i = o.getAttrib(e, "name") || e.id),
                        (t = r.visual_anchor_class || "mce-item-anchor"),
                        i && n.hasVisual
                          ? o.addClass(e, t)
                          : o.removeClass(e, t))
                      );
                  }
                }),
                n.fire("VisualAid", { element: e, hasVisual: n.hasVisual });
            },
            remove: function() {
              MC(this);
            },
            destroy: function(e) {
              LC(this, e);
            },
            uploadImages: function(e) {
              return this.editorUpload.uploadImages(e);
            },
            _scanForImages: function() {
              return this.editorUpload.scanForImages();
            }
          }),
            HC(jC.prototype, Tg);
          var VC,
            qC,
            $C,
            KC = {
              isEditorUIElement: function(e) {
                return -1 !== e.className.toString().indexOf("mce-");
              }
            },
            YC = function(e, t) {
              Kn.detect().browser.isIE()
                ? (function(e) {
                    e.on("focusout", function() {
                      Kh(e);
                    });
                  })(e)
                : (function(e, t) {
                    e.on("mouseup touchend", function(e) {
                      t.throttle();
                    });
                  })(e, t),
                e.on("keyup nodechange", function(t) {
                  (function(e) {
                    return "nodechange" === e.type && e.selectionChange;
                  })(t) || Kh(e);
                });
            },
            XC = function(e) {
              var t = _i(function() {
                Kh(e);
              }, 0);
              e.inline &&
                (function(e, t) {
                  var n = function() {
                    t.throttle();
                  };
                  fi.DOM.bind(r.document, "mouseup", n),
                    e.on("remove", function() {
                      fi.DOM.unbind(r.document, "mouseup", n);
                    });
                })(e, t),
                e.on("init", function() {
                  YC(e, t);
                }),
                e.on("remove", function() {
                  t.cancel();
                });
            },
            GC = fi.DOM,
            JC = function(e) {
              return KC.isEditorUIElement(e);
            },
            QC = function(e, t) {
              var n = e ? e.settings.custom_ui_selector : "";
              return (
                null !==
                GC.getParent(t, function(t) {
                  return JC(t) || (!!n && e.dom.is(t, n));
                })
              );
            },
            ZC = function(e, t) {
              var n = t.editor;
              XC(n),
                n.on("focusin", function() {
                  var t = e.focusedEditor;
                  t !== this &&
                    (t && t.fire("blur", { focusedEditor: this }),
                    e.setActive(this),
                    (e.focusedEditor = this),
                    this.fire("focus", { blurredEditor: t }),
                    this.focus(!0));
                }),
                n.on("focusout", function() {
                  var t = this;
                  pe.setEditorTimeout(t, function() {
                    var n = e.focusedEditor;
                    QC(
                      t,
                      (function() {
                        try {
                          return r.document.activeElement;
                        } catch (e) {
                          return r.document.body;
                        }
                      })()
                    ) ||
                      n !== t ||
                      (t.fire("blur", { focusedEditor: null }),
                      (e.focusedEditor = null));
                  });
                }),
                VC ||
                  ((VC = function(t) {
                    var n,
                      o = e.activeEditor;
                    (n = t.target),
                      o &&
                        n.ownerDocument === r.document &&
                        (n === r.document.body ||
                          QC(o, n) ||
                          e.focusedEditor !== o ||
                          (o.fire("blur", { focusedEditor: null }),
                          (e.focusedEditor = null)));
                  }),
                  GC.bind(r.document, "focusin", VC));
            },
            eS = function(e, t) {
              e.focusedEditor === t.editor && (e.focusedEditor = null),
                e.activeEditor ||
                  (GC.unbind(r.document, "focusin", VC), (VC = null));
            },
            tS = function(e) {
              e.on("AddEditor", s(ZC, e)), e.on("RemoveEditor", s(eS, e));
            },
            nS = fi.DOM,
            rS = Kt.explode,
            oS = Kt.each,
            iS = Kt.extend,
            aS = 0,
            uS = !1,
            sS = [],
            cS = [],
            lS = function(e) {
              var t = e.type;
              oS($C.get(), function(n) {
                switch (t) {
                  case "scroll":
                    n.fire("ScrollWindow", e);
                    break;
                  case "resize":
                    n.fire("ResizeWindow", e);
                }
              });
            },
            fS = function(e) {
              e !== uS &&
                (e
                  ? mn(window).on("resize scroll", lS)
                  : mn(window).off("resize scroll", lS),
                (uS = e));
            },
            dS = function(e) {
              var t = cS;
              delete sS[e.id];
              for (var n = 0; n < sS.length; n++)
                if (sS[n] === e) {
                  sS.splice(n, 1);
                  break;
                }
              return (
                (cS = q(cS, function(t) {
                  return e !== t;
                })),
                $C.activeEditor === e &&
                  ($C.activeEditor = cS.length > 0 ? cS[0] : null),
                $C.focusedEditor === e && ($C.focusedEditor = null),
                t.length !== cS.length
              );
            };
          ($C = {
            defaultSettings: {},
            $: mn,
            majorVersion: "4",
            minorVersion: "9.11",
            releaseDate: "2020-07-13",
            editors: sS,
            i18n: fp,
            activeEditor: null,
            settings: {},
            setup: function() {
              var e,
                t,
                n = "";
              (t = _C.getDocumentBaseUrl(r.document.location)),
                /^[^:]+:\/\/\/?[^\/]+\//.test(t) &&
                  ((t = t.replace(/[\?#].*$/, "").replace(/[\/\\][^\/]+$/, "")),
                  /[\/\\]$/.test(t) || (t += "/"));
              var o = window.tinymce || window.tinyMCEPreInit;
              if (o) (e = o.base || o.baseURL), (n = o.suffix);
              else {
                for (
                  var i = r.document.getElementsByTagName("script"), a = 0;
                  a < i.length;
                  a++
                ) {
                  var u;
                  if ("" !== (u = i[a].src || "")) {
                    var s = u.substring(u.lastIndexOf("/"));
                    if (/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)) {
                      -1 !== s.indexOf(".min") && (n = ".min"),
                        (e = u.substring(0, u.lastIndexOf("/")));
                      break;
                    }
                  }
                }
                !e &&
                  r.document.currentScript &&
                  (-1 !== (u = r.document.currentScript.src).indexOf(".min") &&
                    (n = ".min"),
                  (e = u.substring(0, u.lastIndexOf("/"))));
              }
              (this.baseURL = new _C(t).toAbsolute(e)),
                (this.documentBaseURL = t),
                (this.baseURI = new _C(this.baseURL)),
                (this.suffix = n),
                tS(this);
            },
            overrideDefaults: function(e) {
              var t, n;
              (t = e.base_url) &&
                ((this.baseURL = new _C(this.documentBaseURL).toAbsolute(
                  t.replace(/\/+$/, "")
                )),
                (this.baseURI = new _C(this.baseURL))),
                (n = e.suffix),
                e.suffix && (this.suffix = n),
                (this.defaultSettings = e);
              var r = e.plugin_base_urls;
              for (var o in r) bi.PluginManager.urls[o] = r[o];
            },
            init: function(e) {
              var t,
                n,
                o = this;
              n = Kt.makeMap(
                "area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu",
                " "
              );
              var i = function(e) {
                  var t = e.id;
                  return (
                    t ||
                      ((t =
                        (t = e.name) && !nS.get(t) ? e.name : nS.uniqueId()),
                      e.setAttribute("id", t)),
                    t
                  );
                },
                a = function(e, t) {
                  return t.constructor === RegExp
                    ? t.test(e.className)
                    : nS.hasClass(e, t);
                },
                u = function(e) {
                  t = e;
                },
                s = function() {
                  var t,
                    c = 0,
                    l = [],
                    f = function(e, n, r) {
                      var i = new jC(e, n, o);
                      l.push(i),
                        i.on("init", function() {
                          ++c === t.length && u(l);
                        }),
                        (i.targetElm = i.targetElm || r),
                        i.render();
                    };
                  nS.unbind(window, "ready", s),
                    (function(t) {
                      var n = e[t];
                      n && n.apply(o, Array.prototype.slice.call(arguments, 2));
                    })("onpageload"),
                    (t = mn.unique(
                      (function(e) {
                        var t,
                          n = [];
                        if (fe.ie && fe.ie < 11)
                          return (
                            vp.initError(
                              "TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"
                            ),
                            []
                          );
                        if (e.types)
                          return (
                            oS(e.types, function(e) {
                              n = n.concat(nS.select(e.selector));
                            }),
                            n
                          );
                        if (e.selector) return nS.select(e.selector);
                        if (e.target) return [e.target];
                        switch (e.mode) {
                          case "exact":
                            (t = e.elements || "").length > 0 &&
                              oS(rS(t), function(e) {
                                var t;
                                (t = nS.get(e))
                                  ? n.push(t)
                                  : oS(r.document.forms, function(t) {
                                      oS(t.elements, function(t) {
                                        t.name === e &&
                                          ((e = "mce_editor_" + aS++),
                                          nS.setAttrib(t, "id", e),
                                          n.push(t));
                                      });
                                    });
                              });
                            break;
                          case "textareas":
                          case "specific_textareas":
                            oS(nS.select("textarea"), function(t) {
                              (e.editor_deselector &&
                                a(t, e.editor_deselector)) ||
                                (e.editor_selector &&
                                  !a(t, e.editor_selector)) ||
                                n.push(t);
                            });
                        }
                        return n;
                      })(e)
                    )),
                    e.types
                      ? oS(e.types, function(n) {
                          Kt.each(t, function(t) {
                            return (
                              !nS.is(t, n.selector) ||
                              (f(i(t), iS({}, e, n), t), !1)
                            );
                          });
                        })
                      : (Kt.each(t, function(e) {
                          var t;
                          (t = o.get(e.id)) &&
                            t.initialized &&
                            !(t.getContainer() || t.getBody()).parentNode &&
                            (dS(t),
                            t.unbindAllNativeEvents(),
                            t.destroy(!0),
                            (t.removed = !0),
                            (t = null));
                        }),
                        0 ===
                        (t = Kt.grep(t, function(e) {
                          return !o.get(e.id);
                        })).length
                          ? u([])
                          : oS(t, function(t) {
                              !(function(e, t) {
                                return e.inline && t.tagName.toLowerCase() in n;
                              })(e, t)
                                ? f(i(t), e, t)
                                : vp.initError(
                                    "Could not initialize inline editor on invalid inline target element",
                                    t
                                  );
                            }));
                };
              return (
                (o.settings = e),
                nS.bind(window, "ready", s),
                new de(function(e) {
                  t
                    ? e(t)
                    : (u = function(t) {
                        e(t);
                      });
                })
              );
            },
            get: function(e) {
              return 0 === arguments.length
                ? cS.slice(0)
                : R(e)
                ? K(cS, function(t) {
                    return t.id === e;
                  }).getOr(null)
                : I(e) && cS[e]
                ? cS[e]
                : null;
            },
            add: function(e) {
              var t = this;
              return (
                sS[e.id] === e ||
                  (null === t.get(e.id) &&
                    ("length" !== e.id && (sS[e.id] = e),
                    sS.push(e),
                    cS.push(e)),
                  fS(!0),
                  (t.activeEditor = e),
                  t.fire("AddEditor", { editor: e }),
                  qC ||
                    ((qC = function() {
                      t.fire("BeforeUnload");
                    }),
                    nS.bind(window, "beforeunload", qC))),
                e
              );
            },
            createEditor: function(e, t) {
              return this.add(new jC(e, t, this));
            },
            remove: function(e) {
              var t,
                n,
                r = this;
              if (e) {
                if (!R(e))
                  return (
                    (n = e),
                    A(r.get(n.id))
                      ? null
                      : (dS(n) && r.fire("RemoveEditor", { editor: n }),
                        0 === cS.length &&
                          nS.unbind(window, "beforeunload", qC),
                        n.remove(),
                        fS(cS.length > 0),
                        n)
                  );
                oS(nS.select(e), function(e) {
                  (n = r.get(e.id)) && r.remove(n);
                });
              } else for (t = cS.length - 1; t >= 0; t--) r.remove(cS[t]);
            },
            execCommand: function(e, t, n) {
              var r = this.get(n);
              switch (e) {
                case "mceAddEditor":
                  return (
                    this.get(n) || new jC(n, this.settings, this).render(), !0
                  );
                case "mceRemoveEditor":
                  return r && r.remove(), !0;
                case "mceToggleEditor":
                  return r
                    ? (r.isHidden() ? r.show() : r.hide(), !0)
                    : (this.execCommand("mceAddEditor", 0, n), !0);
              }
              return (
                !!this.activeEditor && this.activeEditor.execCommand(e, t, n)
              );
            },
            triggerSave: function() {
              oS(cS, function(e) {
                e.save();
              });
            },
            addI18n: function(e, t) {
              fp.add(e, t);
            },
            translate: function(e) {
              return fp.translate(e);
            },
            setActive: function(e) {
              var t = this.activeEditor;
              this.activeEditor !== e &&
                (t && t.fire("deactivate", { relatedTarget: e }),
                e.fire("activate", { relatedTarget: t })),
                (this.activeEditor = e);
            }
          }),
            iS($C, sg),
            $C.setup();
          var mS = $C;
          function hS(e) {
            return {
              walk: function(t, n) {
                return bc(e, t, n);
              },
              split: _m,
              normalize: function(t) {
                return yh(e, t).fold(a(!1), function(e) {
                  return (
                    t.setStart(e.startContainer, e.startOffset),
                    t.setEnd(e.endContainer, e.endOffset),
                    !0
                  );
                });
              }
            };
          }
          !(function(e) {
            (e.compareRanges = lh),
              (e.getCaretRangeFromPoint = py),
              (e.getSelectedNode = Fa),
              (e.getNode = Ha);
          })(hS || (hS = {}));
          var gS,
            pS,
            vS = hS,
            bS = Math.min,
            yS = Math.max,
            wS = Math.round,
            xS = function(e, t, n) {
              var r, o, i, a, u, s;
              return (
                (r = t.x),
                (o = t.y),
                (i = e.w),
                (a = e.h),
                (u = t.w),
                (s = t.h),
                "b" === (n = (n || "").split(""))[0] && (o += s),
                "r" === n[1] && (r += u),
                "c" === n[0] && (o += wS(s / 2)),
                "c" === n[1] && (r += wS(u / 2)),
                "b" === n[3] && (o -= a),
                "r" === n[4] && (r -= i),
                "c" === n[3] && (o -= wS(a / 2)),
                "c" === n[4] && (r -= wS(i / 2)),
                CS(r, o, i, a)
              );
            },
            CS = function(e, t, n, r) {
              return { x: e, y: t, w: n, h: r };
            },
            SS = {
              inflate: function(e, t, n) {
                return CS(e.x - t, e.y - n, e.w + 2 * t, e.h + 2 * n);
              },
              relativePosition: xS,
              findBestRelativePosition: function(e, t, n, r) {
                var o, i;
                for (i = 0; i < r.length; i++)
                  if (
                    (o = xS(e, t, r[i])).x >= n.x &&
                    o.x + o.w <= n.w + n.x &&
                    o.y >= n.y &&
                    o.y + o.h <= n.h + n.y
                  )
                    return r[i];
                return null;
              },
              intersect: function(e, t) {
                var n, r, o, i;
                return (
                  (n = yS(e.x, t.x)),
                  (r = yS(e.y, t.y)),
                  (o = bS(e.x + e.w, t.x + t.w)),
                  (i = bS(e.y + e.h, t.y + t.h)),
                  o - n < 0 || i - r < 0 ? null : CS(n, r, o - n, i - r)
                );
              },
              clamp: function(e, t, n) {
                var r, o, i, a, u, s, c, l, f, d;
                return (
                  (u = e.x),
                  (s = e.y),
                  (c = e.x + e.w),
                  (l = e.y + e.h),
                  (f = t.x + t.w),
                  (d = t.y + t.h),
                  (r = yS(0, t.x - u)),
                  (o = yS(0, t.y - s)),
                  (i = yS(0, c - f)),
                  (a = yS(0, l - d)),
                  (u += r),
                  (s += o),
                  n && ((c += r), (l += o), (u -= i), (s -= a)),
                  CS(u, s, (c -= i) - u, (l -= a) - s)
                );
              },
              create: CS,
              fromClientRect: function(e) {
                return CS(e.left, e.top, e.width, e.height);
              }
            },
            ES = {},
            TS = {
              add: function(e, t) {
                ES[e.toLowerCase()] = t;
              },
              has: function(e) {
                return !!ES[e.toLowerCase()];
              },
              get: function(e) {
                var t = e.toLowerCase(),
                  n = ES.hasOwnProperty(t) ? ES[t] : null;
                if (null === n)
                  throw new Error("Could not find module for type: " + e);
                return n;
              },
              create: function(e, t) {
                var n;
                if (
                  ("string" == typeof e
                    ? ((t = t || {}).type = e)
                    : (e = (t = e).type),
                  (e = e.toLowerCase()),
                  !(n = ES[e]))
                )
                  throw new Error("Could not find control by type: " + e);
                return ((n = new n(t)).type = e), n;
              }
            },
            NS = Kt.each,
            _S = Kt.extend,
            kS = function() {};
          kS.extend = gS = function(e) {
            var t,
              n,
              r,
              o = this.prototype,
              i = function() {
                var e,
                  t,
                  n,
                  r = this;
                if (
                  !pS &&
                  (r.init && r.init.apply(r, arguments), (t = r.Mixins))
                )
                  for (e = t.length; e--; )
                    (n = t[e]).init && n.init.apply(r, arguments);
              },
              a = function() {
                return this;
              },
              u = function(e, t) {
                return function() {
                  var n,
                    r = this,
                    i = r._super;
                  return (
                    (r._super = o[e]),
                    (n = t.apply(r, arguments)),
                    (r._super = i),
                    n
                  );
                };
              };
            for (n in ((pS = !0),
            (t = new this()),
            (pS = !1),
            e.Mixins &&
              (NS(e.Mixins, function(t) {
                for (var n in t) "init" !== n && (e[n] = t[n]);
              }),
              o.Mixins && (e.Mixins = o.Mixins.concat(e.Mixins))),
            e.Methods &&
              NS(e.Methods.split(","), function(t) {
                e[t] = a;
              }),
            e.Properties &&
              NS(e.Properties.split(","), function(t) {
                var n = "_" + t;
                e[t] = function(e) {
                  return void 0 !== e ? ((this[n] = e), this) : this[n];
                };
              }),
            e.Statics &&
              NS(e.Statics, function(e, t) {
                i[t] = e;
              }),
            e.Defaults &&
              o.Defaults &&
              (e.Defaults = _S({}, o.Defaults, e.Defaults)),
            e))
              "function" == typeof (r = e[n]) && o[n]
                ? (t[n] = u(n, r))
                : (t[n] = r);
            return (i.prototype = t), (i.constructor = i), (i.extend = gS), i;
          };
          var RS = Math.min,
            DS = Math.max,
            OS = Math.round,
            AS = function(e, t) {
              var n, r, o, i;
              if (((t = t || '"'), null === e)) return "null";
              if ("string" == (o = typeof e))
                return (
                  (r = "\bb\tt\nn\ff\rr\"\"''\\\\"),
                  t +
                    e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g, function(
                      e,
                      o
                    ) {
                      return '"' === t && "'" === e
                        ? e
                        : (n = r.indexOf(o)) + 1
                        ? "\\" + r.charAt(n + 1)
                        : ((e = o.charCodeAt().toString(16)),
                          "\\u" + "0000".substring(e.length) + e);
                    }) +
                    t
                );
              if ("object" === o) {
                if (
                  e.hasOwnProperty &&
                  "[object Array]" === Object.prototype.toString.call(e)
                ) {
                  for (n = 0, r = "["; n < e.length; n++)
                    r += (n > 0 ? "," : "") + AS(e[n], t);
                  return r + "]";
                }
                for (i in ((r = "{"), e))
                  e.hasOwnProperty(i) &&
                    (r +=
                      "function" != typeof e[i]
                        ? (r.length > 1 ? "," + t : t) +
                          i +
                          t +
                          ":" +
                          AS(e[i], t)
                        : "");
                return r + "}";
              }
              return "" + e;
            },
            PS = {
              serialize: AS,
              parse: function(e) {
                try {
                  return JSON.parse(e);
                } catch (e) {}
              }
            },
            BS = {
              callbacks: {},
              count: 0,
              send: function(e) {
                var t = this,
                  n = fi.DOM,
                  r = void 0 !== e.count ? e.count : t.count,
                  o = "tinymce_jsonp_" + r;
                (t.callbacks[r] = function(i) {
                  n.remove(o), delete t.callbacks[r], e.callback(i);
                }),
                  n.add(n.doc.body, "script", {
                    id: o,
                    src: e.url,
                    type: "text/javascript"
                  }),
                  t.count++;
              }
            },
            IS = {
              send: function(e) {
                var t,
                  n = 0,
                  r = function() {
                    !e.async || 4 === t.readyState || n++ > 1e4
                      ? (e.success && n < 1e4 && 200 === t.status
                          ? e.success.call(
                              e.success_scope,
                              "" + t.responseText,
                              t,
                              e
                            )
                          : e.error &&
                            e.error.call(
                              e.error_scope,
                              n > 1e4 ? "TIMED_OUT" : "GENERAL",
                              t,
                              e
                            ),
                        (t = null))
                      : setTimeout(r, 10);
                  };
                if (
                  ((e.scope = e.scope || this),
                  (e.success_scope = e.success_scope || e.scope),
                  (e.error_scope = e.error_scope || e.scope),
                  (e.async = !1 !== e.async),
                  (e.data = e.data || ""),
                  IS.fire("beforeInitialize", { settings: e }),
                  (t = wp()))
                ) {
                  if (
                    (t.overrideMimeType && t.overrideMimeType(e.content_type),
                    t.open(e.type || (e.data ? "POST" : "GET"), e.url, e.async),
                    e.crossDomain && (t.withCredentials = !0),
                    e.content_type &&
                      t.setRequestHeader("Content-Type", e.content_type),
                    e.requestheaders &&
                      Kt.each(e.requestheaders, function(e) {
                        t.setRequestHeader(e.key, e.value);
                      }),
                    t.setRequestHeader("X-Requested-With", "XMLHttpRequest"),
                    (t = IS.fire("beforeSend", { xhr: t, settings: e })
                      .xhr).send(e.data),
                    !e.async)
                  )
                    return r();
                  setTimeout(r, 10);
                }
              }
            };
          Kt.extend(IS, sg);
          var MS,
            LS = Kt.extend,
            FS = function(e) {
              (this.settings = LS({}, e)), (this.count = 0);
            };
          (FS.sendRPC = function(e) {
            return new FS().send(e);
          }),
            (FS.prototype = {
              send: function(e) {
                var t = e.error,
                  n = e.success;
                ((e = LS(this.settings, e)).success = function(r, o) {
                  void 0 === (r = PS.parse(r)) &&
                    (r = { error: "JSON Parse error." }),
                    r.error
                      ? t.call(e.error_scope || e.scope, r.error, o)
                      : n.call(e.success_scope || e.scope, r.result);
                }),
                  (e.error = function(n, r) {
                    t && t.call(e.error_scope || e.scope, n, r);
                  }),
                  (e.data = PS.serialize({
                    id: e.id || "c" + this.count++,
                    method: e.method,
                    params: e.params
                  })),
                  (e.content_type = "application/json"),
                  IS.send(e);
              }
            });
          try {
            MS = r.window.localStorage;
          } catch (e) {
            MS = (function() {
              var e = {},
                t = [],
                n = {
                  getItem: function(t) {
                    var n = e[t];
                    return n || null;
                  },
                  setItem: function(n, r) {
                    t.push(n), (e[n] = String(r));
                  },
                  key: function(e) {
                    return t[e];
                  },
                  removeItem: function(n) {
                    (t = t.filter(function(e) {
                      return e === n;
                    })),
                      delete e[n];
                  },
                  clear: function() {
                    (t = []), (e = {});
                  },
                  length: 0
                };
              return (
                Object.defineProperty(n, "length", {
                  get: function() {
                    return t.length;
                  },
                  configurable: !1,
                  enumerable: !1
                }),
                n
              );
            })();
          }
          var HS = mS,
            zS = {
              geom: { Rect: SS },
              util: {
                Promise: de,
                Delay: pe,
                Tools: Kt,
                VK: $p,
                URI: _C,
                Class: kS,
                EventDispatcher: ig,
                Observable: sg,
                I18n: fp,
                XHR: IS,
                JSON: PS,
                JSONRequest: FS,
                JSONP: BS,
                LocalStorage: MS,
                Color: function(e) {
                  var t = {},
                    n = 0,
                    r = 0,
                    o = 0,
                    i = function(e) {
                      var i;
                      return (
                        "object" == typeof e
                          ? "r" in e
                            ? ((n = e.r), (r = e.g), (o = e.b))
                            : "v" in e &&
                              (function(e, t, i) {
                                var a, u, s, c;
                                if (
                                  ((e = (parseInt(e, 10) || 0) % 360),
                                  (t = parseInt(t, 10) / 100),
                                  (i = parseInt(i, 10) / 100),
                                  (t = DS(0, RS(t, 1))),
                                  (i = DS(0, RS(i, 1))),
                                  0 !== t)
                                ) {
                                  switch (
                                    ((a = e / 60),
                                    (s =
                                      (u = i * t) *
                                      (1 - Math.abs((a % 2) - 1))),
                                    (c = i - u),
                                    Math.floor(a))
                                  ) {
                                    case 0:
                                      (n = u), (r = s), (o = 0);
                                      break;
                                    case 1:
                                      (n = s), (r = u), (o = 0);
                                      break;
                                    case 2:
                                      (n = 0), (r = u), (o = s);
                                      break;
                                    case 3:
                                      (n = 0), (r = s), (o = u);
                                      break;
                                    case 4:
                                      (n = s), (r = 0), (o = u);
                                      break;
                                    case 5:
                                      (n = u), (r = 0), (o = s);
                                      break;
                                    default:
                                      n = r = o = 0;
                                  }
                                  (n = OS(255 * (n + c))),
                                    (r = OS(255 * (r + c))),
                                    (o = OS(255 * (o + c)));
                                } else n = r = o = OS(255 * i);
                              })(e.h, e.s, e.v)
                          : (i = /rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(
                              e
                            ))
                          ? ((n = parseInt(i[1], 10)),
                            (r = parseInt(i[2], 10)),
                            (o = parseInt(i[3], 10)))
                          : (i = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))
                          ? ((n = parseInt(i[1], 16)),
                            (r = parseInt(i[2], 16)),
                            (o = parseInt(i[3], 16)))
                          : (i = /#([0-F])([0-F])([0-F])/gi.exec(e)) &&
                            ((n = parseInt(i[1] + i[1], 16)),
                            (r = parseInt(i[2] + i[2], 16)),
                            (o = parseInt(i[3] + i[3], 16))),
                        (n = n < 0 ? 0 : n > 255 ? 255 : n),
                        (r = r < 0 ? 0 : r > 255 ? 255 : r),
                        (o = o < 0 ? 0 : o > 255 ? 255 : o),
                        t
                      );
                    };
                  return (
                    e && i(e),
                    (t.toRgb = function() {
                      return { r: n, g: r, b: o };
                    }),
                    (t.toHsv = function() {
                      return (function(e, t, n) {
                        var r, o, i, a;
                        return (
                          (o = 0),
                          (i = RS((e /= 255), RS((t /= 255), (n /= 255)))) ===
                          (a = DS(e, DS(t, n)))
                            ? { h: 0, s: 0, v: 100 * (o = i) }
                            : ((r = (a - i) / a),
                              (o = a),
                              {
                                h: OS(
                                  60 *
                                    ((e === i ? 3 : n === i ? 1 : 5) -
                                      (e === i
                                        ? t - n
                                        : n === i
                                        ? e - t
                                        : n - e) /
                                        (a - i))
                                ),
                                s: OS(100 * r),
                                v: OS(100 * o)
                              })
                        );
                      })(n, r, o);
                    }),
                    (t.toHex = function() {
                      var e = function(e) {
                        return (e = parseInt(e, 10).toString(16)).length > 1
                          ? e
                          : "0" + e;
                      };
                      return "#" + e(n) + e(r) + e(o);
                    }),
                    (t.parse = i),
                    t
                  );
                }
              },
              dom: {
                EventUtils: Te,
                Sizzle: Et,
                DomQuery: mn,
                TreeWalker: no,
                DOMUtils: fi,
                ScriptLoader: pi,
                RangeUtils: vS,
                Serializer: sy,
                ControlSelection: hy,
                BookmarkManager: fy,
                Selection: qy,
                Event: Te.Event
              },
              html: {
                Styles: ni,
                Entities: Vo,
                Node: Gb,
                Schema: ei,
                SaxParser: _v,
                DomParser: oy,
                Writer: Wc,
                Serializer: Uc
              },
              ui: { Factory: TS },
              Env: fe,
              AddOnManager: bi,
              Annotator: Tc,
              Formatter: Lb,
              UndoManager: $v,
              EditorCommands: rg,
              WindowManager: sp,
              NotificationManager: up,
              EditorObservable: Tg,
              Shortcuts: Ug,
              Editor: jC,
              FocusManager: KC,
              EditorManager: mS,
              DOM: fi.DOM,
              ScriptLoader: pi.ScriptLoader,
              PluginManager: bi.PluginManager,
              ThemeManager: bi.ThemeManager,
              trim: Kt.trim,
              isArray: Kt.isArray,
              is: Kt.is,
              toArray: Kt.toArray,
              makeMap: Kt.makeMap,
              each: Kt.each,
              map: Kt.map,
              grep: Kt.grep,
              inArray: Kt.inArray,
              extend: Kt.extend,
              create: Kt.create,
              walk: Kt.walk,
              createNS: Kt.createNS,
              resolve: Kt.resolve,
              explode: Kt.explode,
              _addCacheSuffix: Kt._addCacheSuffix,
              isOpera: fe.opera,
              isWebKit: fe.webkit,
              isIE: fe.ie,
              isGecko: fe.gecko,
              isMac: fe.mac
            },
            WS = (HS = Kt.extend(HS, zS));
          !(function(e) {
            (window.tinymce = e), (window.tinyMCE = e);
          })(WS),
            (function(t) {
              try {
                e.exports = t;
              } catch (e) {}
            })(WS);
        })(window);
      }.call(this, n(919).setImmediate, n(81)));
    },
    753: function(e, t) {
      !(function(e) {
        "use strict";
        var t,
          n,
          r,
          o,
          i = tinymce.util.Tools.resolve("tinymce.ThemeManager"),
          a = tinymce.util.Tools.resolve("tinymce.EditorManager"),
          u = tinymce.util.Tools.resolve("tinymce.util.Tools"),
          s = function(e) {
            return !1 !== c(e);
          },
          c = function(e) {
            return e.getParam("menubar");
          },
          l = function(e) {
            return e.getParam("toolbar_items_size");
          },
          f = function(e) {
            return e.getParam("menu");
          },
          d = function(e) {
            return !1 === e.settings.skin;
          },
          m = function(e) {
            var t = e.getParam("resize", "vertical");
            return !1 === t ? "none" : "both" === t ? "both" : "vertical";
          },
          h = tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),
          g = tinymce.util.Tools.resolve("tinymce.ui.Factory"),
          p = tinymce.util.Tools.resolve("tinymce.util.I18n"),
          v = function(e) {
            return e.fire("SkinLoaded");
          },
          b = function(e) {
            return e.fire("ResizeEditor");
          },
          y = function(e) {
            return e.fire("BeforeRenderUI");
          },
          w = function(e, t) {
            return function() {
              var n = e.find(t)[0];
              n && n.focus(!0);
            };
          },
          x = function(e, t) {
            e.shortcuts.add("Alt+F9", "", w(t, "menubar")),
              e.shortcuts.add("Alt+F10,F10", "", w(t, "toolbar")),
              e.shortcuts.add("Alt+F11", "", w(t, "elementpath")),
              t.on("cancel", function() {
                e.focus();
              });
          },
          C = tinymce.util.Tools.resolve("tinymce.geom.Rect"),
          S = tinymce.util.Tools.resolve("tinymce.util.Delay"),
          E = function() {},
          T = function(e) {
            return function() {
              return e;
            };
          },
          N = T(!1),
          _ = T(!0),
          k = function() {
            return R;
          },
          R =
            ((t = function(e) {
              return e.isNone();
            }),
            (o = {
              fold: function(e, t) {
                return e();
              },
              is: N,
              isSome: N,
              isNone: _,
              getOr: (r = function(e) {
                return e;
              }),
              getOrThunk: (n = function(e) {
                return e();
              }),
              getOrDie: function(e) {
                throw new Error(e || "error: getOrDie called on none.");
              },
              getOrNull: T(null),
              getOrUndefined: T(void 0),
              or: r,
              orThunk: n,
              map: k,
              each: E,
              bind: k,
              exists: N,
              forall: _,
              filter: k,
              equals: t,
              equals_: t,
              toArray: function() {
                return [];
              },
              toString: T("none()")
            }),
            Object.freeze && Object.freeze(o),
            o),
          D = function(e) {
            var t = T(e),
              n = function() {
                return o;
              },
              r = function(t) {
                return t(e);
              },
              o = {
                fold: function(t, n) {
                  return n(e);
                },
                is: function(t) {
                  return e === t;
                },
                isSome: _,
                isNone: N,
                getOr: t,
                getOrThunk: t,
                getOrDie: t,
                getOrNull: t,
                getOrUndefined: t,
                or: n,
                orThunk: n,
                map: function(t) {
                  return D(t(e));
                },
                each: function(t) {
                  t(e);
                },
                bind: r,
                exists: r,
                forall: r,
                filter: function(t) {
                  return t(e) ? o : R;
                },
                toArray: function() {
                  return [e];
                },
                toString: function() {
                  return "some(" + e + ")";
                },
                equals: function(t) {
                  return t.is(e);
                },
                equals_: function(t, n) {
                  return t.fold(N, function(t) {
                    return n(e, t);
                  });
                }
              };
            return o;
          },
          O = {
            some: D,
            none: k,
            from: function(e) {
              return null == e ? R : D(e);
            }
          },
          A = function(e) {
            return e ? e.getRoot().uiContainer : null;
          },
          P = {
            getUiContainerDelta: function(e) {
              var t = A(e);
              if (t && "static" !== h.DOM.getStyle(t, "position", !0)) {
                var n = h.DOM.getPos(t),
                  r = t.scrollLeft - n.x,
                  o = t.scrollTop - n.y;
                return O.some({ x: r, y: o });
              }
              return O.none();
            },
            setUiContainer: function(e, t) {
              var n = h.DOM.select(e.settings.ui_container)[0];
              t.getRoot().uiContainer = n;
            },
            getUiContainer: A,
            inheritUiContainer: function(e, t) {
              return (t.uiContainer = A(e));
            }
          },
          B = function(e, t, n) {
            var r,
              o = [];
            if (t)
              return (
                u.each(t.split(/[ ,]/), function(t) {
                  var i,
                    a = function() {
                      var n = e.selection;
                      t.settings.stateSelector &&
                        n.selectorChanged(
                          t.settings.stateSelector,
                          function(e) {
                            t.active(e);
                          },
                          !0
                        ),
                        t.settings.disabledStateSelector &&
                          n.selectorChanged(
                            t.settings.disabledStateSelector,
                            function(e) {
                              t.disabled(e);
                            }
                          );
                    };
                  "|" === t
                    ? (r = null)
                    : (r ||
                        ((r = { type: "buttongroup", items: [] }), o.push(r)),
                      e.buttons[t] &&
                        ((i = t),
                        "function" == typeof (t = e.buttons[i]) && (t = t()),
                        (t.type = t.type || "button"),
                        (t.size = n),
                        (t = g.create(t)),
                        r.items.push(t),
                        e.initialized ? a() : e.on("init", a)));
                }),
                { type: "toolbar", layout: "flow", items: o }
              );
          },
          I = B,
          M = function(e, t) {
            var n = [];
            if (
              (u.each(
                (function(e) {
                  var t = e.getParam("toolbar");
                  return !1 === t
                    ? []
                    : u.isArray(t)
                    ? u.grep(t, function(e) {
                        return e.length > 0;
                      })
                    : (function(e, t) {
                        for (var n = [], r = 1; r < 10; r++) {
                          var o = e["toolbar" + r];
                          if (!o) break;
                          n.push(o);
                        }
                        var i = e.toolbar ? [e.toolbar] : [t];
                        return n.length > 0 ? n : i;
                      })(
                        e.settings,
                        "undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"
                      );
                })(e),
                function(r) {
                  var o;
                  (o = r) && n.push(B(e, o, t));
                }
              ),
              n.length)
            )
              return {
                type: "panel",
                layout: "stack",
                classes: "toolbar-grp",
                ariaRoot: !0,
                ariaRemember: !0,
                items: n
              };
          },
          L = h.DOM,
          F = function(e) {
            return {
              left: e.x,
              top: e.y,
              width: e.w,
              height: e.h,
              right: e.x + e.w,
              bottom: e.y + e.h
            };
          },
          H = function(e, t) {
            e.moveTo(t.left, t.top);
          },
          z = function(e, t, n, r, o, i) {
            return (
              (i = F({ x: t, y: n, w: i.w, h: i.h })),
              e &&
                (i = e({
                  elementRect: F(r),
                  contentAreaRect: F(o),
                  panelRect: i
                })),
              i
            );
          },
          W = function(e) {
            var t,
              n = function() {
                return e.contextToolbars || [];
              },
              r = function(t, n) {
                var r,
                  o,
                  i,
                  a,
                  s,
                  c,
                  l,
                  f = (function(e) {
                    return e.getParam("inline_toolbar_position_handler");
                  })(e);
                if (!e.removed)
                  if (t && t.toolbar.panel) {
                    var d, m, h, g;
                    (l = [
                      "bc-tc",
                      "tc-bc",
                      "tl-bl",
                      "bl-tl",
                      "tr-br",
                      "br-tr"
                    ]),
                      (s = t.toolbar.panel),
                      n && s.show(),
                      (d = t.element),
                      (m = L.getPos(e.getContentAreaContainer())),
                      (h = e.dom.getRect(d)),
                      "BODY" === (g = e.dom.getRoot()).nodeName &&
                        ((h.x -=
                          g.ownerDocument.documentElement.scrollLeft ||
                          g.scrollLeft),
                        (h.y -=
                          g.ownerDocument.documentElement.scrollTop ||
                          g.scrollTop)),
                      (h.x += m.x),
                      (h.y += m.y),
                      (i = h),
                      (o = L.getRect(s.getEl())),
                      (a = L.getRect(
                        e.getContentAreaContainer() || e.getBody()
                      ));
                    var p = P.getUiContainerDelta(s).getOr({ x: 0, y: 0 });
                    if (
                      ((i.x += p.x),
                      (i.y += p.y),
                      (o.x += p.x),
                      (o.y += p.y),
                      (a.x += p.x),
                      (a.y += p.y),
                      "inline" !== L.getStyle(t.element, "display", !0))
                    ) {
                      var v = t.element.getBoundingClientRect();
                      (i.w = v.width), (i.h = v.height);
                    }
                    e.inline || (a.w = e.getDoc().documentElement.offsetWidth),
                      e.selection.controlSelection.isResizable(t.element) &&
                        i.w < 25 &&
                        (i = C.inflate(i, 0, 8)),
                      (r = C.findBestRelativePosition(o, i, a, l)),
                      (i = C.clamp(i, a)),
                      r
                        ? ((c = C.relativePosition(o, i, r)),
                          H(s, z(f, c.x, c.y, i, a, o)))
                        : ((a.h += o.h),
                          (i = C.intersect(a, i))
                            ? (r = C.findBestRelativePosition(o, i, a, [
                                "bc-tc",
                                "bl-tl",
                                "br-tr"
                              ]))
                              ? ((c = C.relativePosition(o, i, r)),
                                H(s, z(f, c.x, c.y, i, a, o)))
                              : H(s, z(f, i.x, i.y, i, a, o))
                            : s.hide()),
                      (function(e, t, n) {
                        (t = t ? t.substr(0, 2) : ""),
                          u.each({ t: "down", b: "up" }, function(r, o) {
                            e.classes.toggle(
                              "arrow-" + r,
                              n(o, t.substr(0, 1))
                            );
                          }),
                          u.each({ l: "left", r: "right" }, function(r, o) {
                            e.classes.toggle(
                              "arrow-" + r,
                              n(o, t.substr(1, 1))
                            );
                          });
                      })(s, r, function(e, t) {
                        return e === t;
                      });
                  } else
                    !(function(e) {
                      u.each(e.contextToolbars, function(e) {
                        e.panel && e.panel.hide();
                      });
                    })(e);
              },
              o = function(t) {
                return function() {
                  S.requestAnimationFrame(function() {
                    e.selection && r(s(e.selection.getNode()), t);
                  });
                };
              },
              i = function(n) {
                var i;
                if (n.toolbar.panel) return n.toolbar.panel.show(), void r(n);
                (i = g.create({
                  type: "floatpanel",
                  role: "dialog",
                  classes: "tinymce tinymce-inline arrow",
                  ariaLabel: "Inline toolbar",
                  layout: "flex",
                  direction: "column",
                  align: "stretch",
                  autohide: !1,
                  autofix: !0,
                  fixed: !0,
                  border: 1,
                  items: I(e, n.toolbar.items),
                  oncancel: function() {
                    e.focus();
                  }
                })),
                  P.setUiContainer(e, i),
                  (function(n) {
                    if (!t) {
                      var r = o(!0),
                        i = P.getUiContainer(n);
                      (t = e.selection.getScrollContainer() || e.getWin()),
                        L.bind(t, "scroll", r),
                        L.bind(i, "scroll", r),
                        e.on("remove", function() {
                          L.unbind(t, "scroll", r), L.unbind(i, "scroll", r);
                        });
                    }
                  })(i),
                  (n.toolbar.panel = i),
                  i.renderTo().reflow(),
                  r(n);
              },
              a = function() {
                u.each(n(), function(e) {
                  e.panel && e.panel.hide();
                });
              },
              s = function(t) {
                var r,
                  o,
                  i,
                  a = n();
                for (
                  r =
                    (i = e
                      .$(t)
                      .parents()
                      .add(t)).length - 1;
                  r >= 0;
                  r--
                )
                  for (o = a.length - 1; o >= 0; o--)
                    if (a[o].predicate(i[r]))
                      return { toolbar: a[o], element: i[r] };
                return null;
              };
            e.on("click keyup setContent ObjectResized", function(t) {
              ("setcontent" !== t.type || t.selection) &&
                S.setEditorTimeout(e, function() {
                  var t;
                  (t = s(e.selection.getNode())) ? (a(), i(t)) : a();
                });
            }),
              e.on("blur hide contextmenu", a),
              e.on("ObjectResizeStart", function() {
                var t = s(e.selection.getNode());
                t && t.toolbar.panel && t.toolbar.panel.hide();
              }),
              e.on("ResizeEditor ResizeWindow", o(!0)),
              e.on("nodeChange", o(!1)),
              e.on("remove", function() {
                u.each(n(), function(e) {
                  e.panel && e.panel.remove();
                }),
                  (e.contextToolbars = {});
              }),
              e.shortcuts.add("ctrl+F9", "", function() {
                var t = s(e.selection.getNode());
                t && t.toolbar.panel && t.toolbar.panel.items()[0].focus();
              });
          },
          U = function(e) {
            return function(t) {
              return (
                (function(e) {
                  if (null === e) return "null";
                  var t = typeof e;
                  return "object" === t &&
                    (Array.prototype.isPrototypeOf(e) ||
                      (e.constructor && "Array" === e.constructor.name))
                    ? "array"
                    : "object" === t &&
                      (String.prototype.isPrototypeOf(e) ||
                        (e.constructor && "String" === e.constructor.name))
                    ? "string"
                    : t;
                })(t) === e
              );
            };
          },
          j = U("array"),
          V = U("function"),
          q = U("number"),
          $ = (Array.prototype.slice, Array.prototype.indexOf),
          K = Array.prototype.push,
          Y = function(e, t) {
            var n,
              r,
              o = ((n = e), (r = t), $.call(n, r));
            return -1 === o ? O.none() : O.some(o);
          },
          X = function(e, t) {
            for (var n = 0, r = e.length; n < r; n++) if (t(e[n], n)) return !0;
            return !1;
          },
          G = function(e, t) {
            for (var n = e.length, r = new Array(n), o = 0; o < n; o++) {
              var i = e[o];
              r[o] = t(i, o);
            }
            return r;
          },
          J = function(e, t) {
            for (var n = 0, r = e.length; n < r; n++) t(e[n], n);
          },
          Q = function(e, t) {
            for (var n = [], r = 0, o = e.length; r < o; r++) {
              var i = e[r];
              t(i, r) && n.push(i);
            }
            return n;
          },
          Z =
            (V(Array.from) && Array.from,
            {
              file: {
                title: "File",
                items: "newdocument restoredraft | preview | print"
              },
              edit: {
                title: "Edit",
                items: "undo redo | cut copy paste pastetext | selectall"
              },
              view: {
                title: "View",
                items:
                  "code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"
              },
              insert: {
                title: "Insert",
                items:
                  "image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime"
              },
              format: {
                title: "Format",
                items:
                  "bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat"
              },
              tools: {
                title: "Tools",
                items: "spellchecker spellcheckerlanguage | a11ycheck code"
              },
              table: { title: "Table" },
              help: { title: "Help" }
            }),
          ee = function(e, t) {
            return "|" === e
              ? { name: "|", item: { text: "|" } }
              : t
              ? { name: e, item: t }
              : null;
          },
          te = function(e, t) {
            return (function(e, t) {
              for (var n = 0, r = e.length; n < r; n++)
                if (t(e[n], n)) return O.some(n);
              return O.none();
            })(e, function(e) {
              return e.name === t;
            }).isSome();
          },
          ne = function(e) {
            return e && "|" === e.item.text;
          },
          re = function(e, t, n, r) {
            var o, i, a, s;
            return (
              t ? ((i = t[r]), (s = !0)) : (i = Z[r]),
              i &&
              ((o = { text: i.title }),
              (a = []),
              u.each((i.items || "").split(/[ ,]/), function(t) {
                var n = ee(t, e[t]);
                n && a.push(n);
              }),
              s ||
                u.each(e, function(e, t) {
                  e.context !== r ||
                    te(a, t) ||
                    ("before" === e.separator &&
                      a.push({ name: "|", item: { text: "|" } }),
                    e.prependToContext ? a.unshift(ee(t, e)) : a.push(ee(t, e)),
                    "after" === e.separator &&
                      a.push({ name: "|", item: { text: "|" } }));
                }),
              (o.menu = G(
                (function(e, t) {
                  var n = Q(e, function(e) {
                      return !1 === t.hasOwnProperty(e.name);
                    }),
                    r = Q(n, function(e, t) {
                      return !ne(e) || !ne(n[t - 1]);
                    });
                  return Q(r, function(e, t) {
                    return !ne(e) || (t > 0 && t < r.length - 1);
                  });
                })(a, n),
                function(e) {
                  return e.item;
                }
              )),
              !o.menu.length)
                ? null
                : o
            );
          },
          oe = function(e) {
            for (
              var t = [],
                n = (function(e) {
                  var t,
                    n = [],
                    r = f(e);
                  if (r) for (t in r) n.push(t);
                  else for (t in Z) n.push(t);
                  return n;
                })(e),
                r = u.makeMap(
                  (function(e) {
                    return e.getParam("removed_menuitems", "");
                  })(e).split(/[ ,]/)
                ),
                o = c(e),
                i = "string" == typeof o ? o.split(/[ ,]/) : n,
                a = 0;
              a < i.length;
              a++
            ) {
              var s = i[a],
                l = re(e.menuItems, f(e), r, s);
              l && t.push(l);
            }
            return t;
          },
          ie = h.DOM,
          ae = function(e) {
            return { width: e.clientWidth, height: e.clientHeight };
          },
          ue = function(e, t, n) {
            var r, o, i, a;
            (r = e.getContainer()),
              (o = e.getContentAreaContainer().firstChild),
              (i = ae(r)),
              (a = ae(o)),
              null !== t &&
                ((t = Math.max(
                  (function(e) {
                    return e.getParam("min_width", 100, "number");
                  })(e),
                  t
                )),
                (t = Math.min(
                  (function(e) {
                    return e.getParam("max_width", 65535, "number");
                  })(e),
                  t
                )),
                ie.setStyle(r, "width", t + (i.width - a.width)),
                ie.setStyle(o, "width", t)),
              (n = Math.max(
                (function(e) {
                  return e.getParam("min_height", 100, "number");
                })(e),
                n
              )),
              (n = Math.min(
                (function(e) {
                  return e.getParam("max_height", 65535, "number");
                })(e),
                n
              )),
              ie.setStyle(o, "height", n),
              b(e);
          },
          se = ue,
          ce = function(e, t, n) {
            var r = e.getContentAreaContainer();
            ue(e, r.clientWidth + t, r.clientHeight + n);
          },
          le = tinymce.util.Tools.resolve("tinymce.Env"),
          fe = function(e, t, n) {
            var r,
              o = e.settings[n];
            o &&
              o(
                ((r = t.getEl("body")),
                {
                  element: function() {
                    return r;
                  }
                })
              );
          },
          de = function(e, t, n) {
            return function(r) {
              var o = r.control,
                i = o.parents().filter("panel")[0],
                a = i.find("#" + t)[0],
                s = (function(e, t) {
                  return u.grep(e, function(e) {
                    return e.name === t;
                  })[0];
                })(n, t);
              !(function(e, t, n) {
                u.each(n, function(n) {
                  var r = t.items().filter("#" + n.name)[0];
                  r &&
                    r.visible() &&
                    n.name !== e &&
                    (fe(n, r, "onhide"), r.visible(!1));
                });
              })(t, i, n),
                o
                  .parent()
                  .items()
                  .each(function(e) {
                    e.active(!1);
                  }),
                a && a.visible()
                  ? (fe(s, a, "onhide"), a.hide(), o.active(!1))
                  : (a
                      ? (a.show(), fe(s, a, "onshow"))
                      : ((a = g.create({
                          type: "container",
                          name: t,
                          layout: "stack",
                          classes: "sidebar-panel",
                          html: ""
                        })),
                        i.prepend(a),
                        fe(s, a, "onrender"),
                        fe(s, a, "onshow")),
                    o.active(!0)),
                b(e);
            };
          },
          me = function(e) {
            return (
              !((le.ie && !(le.ie >= 11)) || !e.sidebars) &&
              e.sidebars.length > 0
            );
          },
          he = function(e) {
            return {
              type: "panel",
              name: "sidebar",
              layout: "stack",
              classes: "sidebar",
              items: [
                {
                  type: "toolbar",
                  layout: "stack",
                  classes: "sidebar-toolbar",
                  items: u.map(e.sidebars, function(t) {
                    var n = t.settings;
                    return {
                      type: "button",
                      icon: n.icon,
                      image: n.image,
                      tooltip: n.tooltip,
                      onclick: de(e, t.name, e.sidebars)
                    };
                  })
                }
              ]
            };
          },
          ge = function(e) {
            var t = function() {
              (e._skinLoaded = !0), v(e);
            };
            return function() {
              e.initialized ? t() : e.on("init", t);
            };
          },
          pe = h.DOM,
          ve = function(e) {
            return {
              type: "panel",
              name: "iframe",
              layout: "stack",
              classes: "edit-area",
              border: e,
              html: ""
            };
          },
          be = function(e) {
            return {
              type: "panel",
              layout: "stack",
              classes: "edit-aria-container",
              border: "1 0 0 0",
              items: [ve("0"), he(e)]
            };
          },
          ye = function(e, t, n) {
            var r, o, i;
            if (
              (!1 === d(e) && n.skinUiCss
                ? pe.styleSheetLoader.load(n.skinUiCss, ge(e))
                : ge(e)(),
              (r = t.panel = g.create({
                type: "panel",
                role: "application",
                classes: "tinymce",
                style: "visibility: hidden",
                layout: "stack",
                border: 1,
                items: [
                  {
                    type: "container",
                    classes: "top-part",
                    items: [
                      !1 === s(e)
                        ? null
                        : { type: "menubar", border: "0 0 1 0", items: oe(e) },
                      M(e, l(e))
                    ]
                  },
                  me(e) ? be(e) : ve("1 0 0 0")
                ]
              })),
              P.setUiContainer(e, r),
              "none" !== m(e) &&
                (o = {
                  type: "resizehandle",
                  direction: m(e),
                  onResizeStart: function() {
                    var t = e.getContentAreaContainer().firstChild;
                    i = { width: t.clientWidth, height: t.clientHeight };
                  },
                  onResize: function(t) {
                    "both" === m(e)
                      ? se(e, i.width + t.deltaX, i.height + t.deltaY)
                      : se(e, null, i.height + t.deltaY);
                  }
                }),
              (function(e) {
                return e.getParam("statusbar", !0, "boolean");
              })(e))
            ) {
              var a = p.translate([
                  "Powered by {0}",
                  '<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce" rel="noopener" target="_blank" role="presentation" tabindex="-1">Tiny</a>'
                ]),
                u = (function(e) {
                  return e.getParam("branding", !0, "boolean");
                })(e)
                  ? { type: "label", classes: "branding", html: " " + a }
                  : null;
              r.add({
                type: "panel",
                name: "statusbar",
                classes: "statusbar",
                layout: "flow",
                border: "1 0 0 0",
                ariaRoot: !0,
                items: [{ type: "elementpath", editor: e }, o, u]
              });
            }
            return (
              y(e),
              e.on(
                "SwitchMode",
                (function(e) {
                  return function(t) {
                    e.find("*").disabled("readonly" === t.mode);
                  };
                })(r)
              ),
              r.renderBefore(n.targetNode).reflow(),
              (function(e) {
                return e.getParam("readonly", !1, "boolean");
              })(e) && e.setMode("readonly"),
              n.width && pe.setStyle(r.getEl(), "width", n.width),
              e.on("remove", function() {
                r.remove(), (r = null);
              }),
              x(e, r),
              W(e),
              {
                iframeContainer: r.find("#iframe")[0].getEl(),
                editorContainer: r.getEl()
              }
            );
          },
          we = tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),
          xe = 0,
          Ce = {
            id: function() {
              return "mceu_" + xe++;
            },
            create: function(t, n, r) {
              var o = e.document.createElement(t);
              return (
                h.DOM.setAttribs(o, n),
                "string" == typeof r
                  ? (o.innerHTML = r)
                  : u.each(r, function(e) {
                      e.nodeType && o.appendChild(e);
                    }),
                o
              );
            },
            createFragment: function(e) {
              return h.DOM.createFragment(e);
            },
            getWindowSize: function() {
              return h.DOM.getViewPort();
            },
            getSize: function(e) {
              var t, n;
              if (e.getBoundingClientRect) {
                var r = e.getBoundingClientRect();
                (t = Math.max(r.width || r.right - r.left, e.offsetWidth)),
                  (n = Math.max(
                    r.height || r.bottom - r.bottom,
                    e.offsetHeight
                  ));
              } else (t = e.offsetWidth), (n = e.offsetHeight);
              return { width: t, height: n };
            },
            getPos: function(e, t) {
              return h.DOM.getPos(e, t || Ce.getContainer());
            },
            getContainer: function() {
              return le.container ? le.container : e.document.body;
            },
            getViewPort: function(e) {
              return h.DOM.getViewPort(e);
            },
            get: function(t) {
              return e.document.getElementById(t);
            },
            addClass: function(e, t) {
              return h.DOM.addClass(e, t);
            },
            removeClass: function(e, t) {
              return h.DOM.removeClass(e, t);
            },
            hasClass: function(e, t) {
              return h.DOM.hasClass(e, t);
            },
            toggleClass: function(e, t, n) {
              return h.DOM.toggleClass(e, t, n);
            },
            css: function(e, t, n) {
              return h.DOM.setStyle(e, t, n);
            },
            getRuntimeStyle: function(e, t) {
              return h.DOM.getStyle(e, t, !0);
            },
            on: function(e, t, n, r) {
              return h.DOM.bind(e, t, n, r);
            },
            off: function(e, t, n) {
              return h.DOM.unbind(e, t, n);
            },
            fire: function(e, t, n) {
              return h.DOM.fire(e, t, n);
            },
            innerHtml: function(e, t) {
              h.DOM.setHTML(e, t);
            }
          },
          Se = function(e) {
            return "static" === Ce.getRuntimeStyle(e, "position");
          },
          Ee = function(e) {
            return e.state.get("fixed");
          };
        function Te(t, n, r) {
          var o, i, a, u, s, c, l, f, d, m;
          return (
            (d = Ne()),
            (a = (i = Ce.getPos(n, P.getUiContainer(t))).x),
            (u = i.y),
            Ee(t) && Se(e.document.body) && ((a -= d.x), (u -= d.y)),
            (o = t.getEl()),
            (s = (m = Ce.getSize(o)).width),
            (c = m.height),
            (l = (m = Ce.getSize(n)).width),
            (f = m.height),
            "b" === (r = (r || "").split(""))[0] && (u += f),
            "r" === r[1] && (a += l),
            "c" === r[0] && (u += Math.round(f / 2)),
            "c" === r[1] && (a += Math.round(l / 2)),
            "b" === r[3] && (u -= c),
            "r" === r[4] && (a -= s),
            "c" === r[3] && (u -= Math.round(c / 2)),
            "c" === r[4] && (a -= Math.round(s / 2)),
            { x: a, y: u, w: s, h: c }
          );
        }
        var Ne = function() {
            var t = e.window;
            return {
              x: Math.max(
                t.pageXOffset,
                e.document.body.scrollLeft,
                e.document.documentElement.scrollLeft
              ),
              y: Math.max(
                t.pageYOffset,
                e.document.body.scrollTop,
                e.document.documentElement.scrollTop
              ),
              w: t.innerWidth || e.document.documentElement.clientWidth,
              h: t.innerHeight || e.document.documentElement.clientHeight
            };
          },
          _e = function(e) {
            var t = P.getUiContainer(e);
            return t && !Ee(e)
              ? (function(e) {
                  return {
                    x: 0,
                    y: 0,
                    w: e.scrollWidth - 1,
                    h: e.scrollHeight - 1
                  };
                })(t)
              : Ne();
          },
          ke = {
            testMoveRel: function(e, t) {
              for (var n = _e(this), r = 0; r < t.length; r++) {
                var o = Te(this, e, t[r]);
                if (Ee(this)) {
                  if (o.x > 0 && o.x + o.w < n.w && o.y > 0 && o.y + o.h < n.h)
                    return t[r];
                } else if (
                  o.x > n.x &&
                  o.x + o.w < n.w + n.x &&
                  o.y > n.y &&
                  o.y + o.h < n.h + n.y
                )
                  return t[r];
              }
              return t[0];
            },
            moveRel: function(e, t) {
              "string" != typeof t && (t = this.testMoveRel(e, t));
              var n = Te(this, e, t);
              return this.moveTo(n.x, n.y);
            },
            moveBy: function(e, t) {
              var n = this.layoutRect();
              return this.moveTo(n.x + e, n.y + t), this;
            },
            moveTo: function(e, t) {
              function n(e, t, n) {
                return e < 0 || (e + n > t && (e = t - n) < 0) ? 0 : e;
              }
              if (this.settings.constrainToViewport) {
                var r = _e(this),
                  o = this.layoutRect();
                (e = n(e, r.w + r.x, o.w)), (t = n(t, r.h + r.y, o.h));
              }
              var i = P.getUiContainer(this);
              return (
                i &&
                  Se(i) &&
                  !Ee(this) &&
                  ((e -= i.scrollLeft), (t -= i.scrollTop)),
                i && ((e += 1), (t += 1)),
                this.state.get("rendered")
                  ? this.layoutRect({ x: e, y: t }).repaint()
                  : ((this.settings.x = e), (this.settings.y = t)),
                this.fire("move", { x: e, y: t }),
                this
              );
            }
          },
          Re = tinymce.util.Tools.resolve("tinymce.util.Class"),
          De = tinymce.util.Tools.resolve("tinymce.util.EventDispatcher"),
          Oe = function(e) {
            var t;
            if (e)
              return "number" == typeof e
                ? { top: (e = e || 0), left: e, bottom: e, right: e }
                : (1 === (t = (e = e.split(" ")).length)
                    ? (e[1] = e[2] = e[3] = e[0])
                    : 2 === t
                    ? ((e[2] = e[0]), (e[3] = e[1]))
                    : 3 === t && (e[3] = e[1]),
                  {
                    top: parseInt(e[0], 10) || 0,
                    right: parseInt(e[1], 10) || 0,
                    bottom: parseInt(e[2], 10) || 0,
                    left: parseInt(e[3], 10) || 0
                  });
          },
          Ae = function(e, t) {
            function n(t) {
              var n = parseFloat(
                (function(t) {
                  var n = e.ownerDocument.defaultView;
                  if (n) {
                    var r = n.getComputedStyle(e, null);
                    return r
                      ? ((t = t.replace(/[A-Z]/g, function(e) {
                          return "-" + e;
                        })),
                        r.getPropertyValue(t))
                      : null;
                  }
                  return e.currentStyle[t];
                })(t)
              );
              return isNaN(n) ? 0 : n;
            }
            return {
              top: n(t + "TopWidth"),
              right: n(t + "RightWidth"),
              bottom: n(t + "BottomWidth"),
              left: n(t + "LeftWidth")
            };
          };
        function Pe() {}
        function Be(e) {
          (this.cls = []),
            (this.cls._map = {}),
            (this.onchange = e || Pe),
            (this.prefix = "");
        }
        u.extend(Be.prototype, {
          add: function(e) {
            return (
              e &&
                !this.contains(e) &&
                ((this.cls._map[e] = !0), this.cls.push(e), this._change()),
              this
            );
          },
          remove: function(e) {
            if (this.contains(e)) {
              var t = void 0;
              for (t = 0; t < this.cls.length && this.cls[t] !== e; t++);
              this.cls.splice(t, 1), delete this.cls._map[e], this._change();
            }
            return this;
          },
          toggle: function(e, t) {
            var n = this.contains(e);
            return (
              n !== t && (n ? this.remove(e) : this.add(e), this._change()),
              this
            );
          },
          contains: function(e) {
            return !!this.cls._map[e];
          },
          _change: function() {
            delete this.clsValue, this.onchange.call(this);
          }
        }),
          (Be.prototype.toString = function() {
            var e;
            if (this.clsValue) return this.clsValue;
            e = "";
            for (var t = 0; t < this.cls.length; t++)
              t > 0 && (e += " "), (e += this.prefix + this.cls[t]);
            return e;
          });
        var Ie,
          Me,
          Le,
          Fe = /^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,
          He = /((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
          ze = /^\s*|\s*$/g,
          We = Re.extend({
            init: function(e) {
              var t = this.match;
              function n(e, n, o) {
                var i;
                function a(e) {
                  e && n.push(e);
                }
                return (
                  a(
                    (function(e) {
                      if (e)
                        return (
                          (e = e.toLowerCase()),
                          function(t) {
                            return "*" === e || t.type === e;
                          }
                        );
                    })((i = Fe.exec(e.replace(ze, "")))[1])
                  ),
                  a(
                    (function(e) {
                      if (e)
                        return function(t) {
                          return t._name === e;
                        };
                    })(i[2])
                  ),
                  a(
                    (function(e) {
                      if (e)
                        return (
                          (e = e.split(".")),
                          function(t) {
                            for (var n = e.length; n--; )
                              if (!t.classes.contains(e[n])) return !1;
                            return !0;
                          }
                        );
                    })(i[3])
                  ),
                  a(
                    (function(e, t, n) {
                      if (e)
                        return function(r) {
                          var o = r[e] ? r[e]() : "";
                          return t
                            ? "=" === t
                              ? o === n
                              : "*=" === t
                              ? o.indexOf(n) >= 0
                              : "~=" === t
                              ? (" " + o + " ").indexOf(" " + n + " ") >= 0
                              : "!=" === t
                              ? o !== n
                              : "^=" === t
                              ? 0 === o.indexOf(n)
                              : "$=" === t &&
                                o.substr(o.length - n.length) === n
                            : !!n;
                        };
                    })(i[4], i[5], i[6])
                  ),
                  a(
                    (function(e) {
                      var n;
                      if (e)
                        return (e = /(?:not\((.+)\))|(.+)/i.exec(e))[1]
                          ? ((n = r(e[1], [])),
                            function(e) {
                              return !t(e, n);
                            })
                          : ((e = e[2]),
                            function(t, n, r) {
                              return "first" === e
                                ? 0 === n
                                : "last" === e
                                ? n === r - 1
                                : "even" === e
                                ? n % 2 == 0
                                : "odd" === e
                                ? n % 2 == 1
                                : !!t[e] && t[e]();
                            });
                    })(i[7])
                  ),
                  (n.pseudo = !!i[7]),
                  (n.direct = o),
                  n
                );
              }
              function r(e, t) {
                var o,
                  i,
                  a,
                  u = [];
                do {
                  if (
                    (He.exec(""),
                    (i = He.exec(e)) && ((e = i[3]), u.push(i[1]), i[2]))
                  ) {
                    o = i[3];
                    break;
                  }
                } while (i);
                for (o && r(o, t), e = [], a = 0; a < u.length; a++)
                  ">" !== u[a] && e.push(n(u[a], [], ">" === u[a - 1]));
                return t.push(e), t;
              }
              this._selectors = r(e, []);
            },
            match: function(e, t) {
              var n, r, o, i, a, u, s, c, l, f, d, m, h;
              for (n = 0, r = (t = t || this._selectors).length; n < r; n++) {
                for (h = e, m = 0, o = (i = (a = t[n]).length) - 1; o >= 0; o--)
                  for (c = a[o]; h; ) {
                    if (c.pseudo)
                      for (
                        l = f = (d = h.parent().items()).length;
                        l-- && d[l] !== h;

                      );
                    for (u = 0, s = c.length; u < s; u++)
                      if (!c[u](h, l, f)) {
                        u = s + 1;
                        break;
                      }
                    if (u === s) {
                      m++;
                      break;
                    }
                    if (o === i - 1) break;
                    h = h.parent();
                  }
                if (m === i) return !0;
              }
              return !1;
            },
            find: function(e) {
              var t,
                n,
                r = [],
                o = this._selectors;
              function i(e, t, n) {
                var o,
                  a,
                  u,
                  s,
                  c,
                  l = t[n];
                for (o = 0, a = e.length; o < a; o++) {
                  for (c = e[o], u = 0, s = l.length; u < s; u++)
                    if (!l[u](c, o, a)) {
                      u = s + 1;
                      break;
                    }
                  if (u === s)
                    n === t.length - 1
                      ? r.push(c)
                      : c.items && i(c.items(), t, n + 1);
                  else if (l.direct) return;
                  c.items && i(c.items(), t, n);
                }
              }
              if (e.items) {
                for (t = 0, n = o.length; t < n; t++) i(e.items(), o[t], 0);
                n > 1 &&
                  (r = (function(e) {
                    for (var t, n = [], r = e.length; r--; )
                      (t = e[r]).__checked || (n.push(t), (t.__checked = 1));
                    for (r = n.length; r--; ) delete n[r].__checked;
                    return n;
                  })(r));
              }
              return Ie || (Ie = We.Collection), new Ie(r);
            }
          }),
          Ue = Array.prototype.push,
          je = Array.prototype.slice;
        (Le = {
          length: 0,
          init: function(e) {
            e && this.add(e);
          },
          add: function(e) {
            return (
              u.isArray(e)
                ? Ue.apply(this, e)
                : e instanceof Me
                ? this.add(e.toArray())
                : Ue.call(this, e),
              this
            );
          },
          set: function(e) {
            var t,
              n = this.length;
            for (this.length = 0, this.add(e), t = this.length; t < n; t++)
              delete this[t];
            return this;
          },
          filter: function(e) {
            var t,
              n,
              r,
              o,
              i = [];
            for (
              "string" == typeof e
                ? ((e = new We(e)),
                  (o = function(t) {
                    return e.match(t);
                  }))
                : (o = e),
                t = 0,
                n = this.length;
              t < n;
              t++
            )
              o((r = this[t])) && i.push(r);
            return new Me(i);
          },
          slice: function() {
            return new Me(je.apply(this, arguments));
          },
          eq: function(e) {
            return -1 === e ? this.slice(e) : this.slice(e, +e + 1);
          },
          each: function(e) {
            return u.each(this, e), this;
          },
          toArray: function() {
            return u.toArray(this);
          },
          indexOf: function(e) {
            for (var t = this.length; t-- && this[t] !== e; );
            return t;
          },
          reverse: function() {
            return new Me(u.toArray(this).reverse());
          },
          hasClass: function(e) {
            return !!this[0] && this[0].classes.contains(e);
          },
          prop: function(e, t) {
            var n;
            return void 0 !== t
              ? (this.each(function(n) {
                  n[e] && n[e](t);
                }),
                this)
              : (n = this[0]) && n[e]
              ? n[e]()
              : void 0;
          },
          exec: function(e) {
            var t = this,
              n = u.toArray(arguments).slice(1);
            return (
              t.each(function(t) {
                t[e] && t[e].apply(t, n);
              }),
              t
            );
          },
          remove: function() {
            for (var e = this.length; e--; ) this[e].remove();
            return this;
          },
          addClass: function(e) {
            return this.each(function(t) {
              t.classes.add(e);
            });
          },
          removeClass: function(e) {
            return this.each(function(t) {
              t.classes.remove(e);
            });
          }
        }),
          u.each(
            "fire on off show hide append prepend before after reflow".split(
              " "
            ),
            function(e) {
              Le[e] = function() {
                var t = u.toArray(arguments);
                return (
                  this.each(function(n) {
                    e in n && n[e].apply(n, t);
                  }),
                  this
                );
              };
            }
          ),
          u.each(
            "text name disabled active selected checked visible parent value data".split(
              " "
            ),
            function(e) {
              Le[e] = function(t) {
                return this.prop(e, t);
              };
            }
          ),
          (Me = Re.extend(Le)),
          (We.Collection = Me);
        var Ve = Me,
          qe = function(e) {
            this.create = e.create;
          };
        qe.create = function(e, t) {
          return new qe({
            create: function(n, r) {
              var o,
                i = function(e) {
                  n.set(r, e.value);
                };
              return (
                n.on("change:" + r, function(n) {
                  e.set(t, n.value);
                }),
                e.on("change:" + t, i),
                (o = n._bindings) ||
                  ((o = n._bindings = []),
                  n.on("destroy", function() {
                    for (var e = o.length; e--; ) o[e]();
                  })),
                o.push(function() {
                  e.off("change:" + t, i);
                }),
                e.get(t)
              );
            }
          });
        };
        var $e = tinymce.util.Tools.resolve("tinymce.util.Observable");
        function Ke(e) {
          return e.nodeType > 0;
        }
        var Ye,
          Xe,
          Ge = Re.extend({
            Mixins: [$e],
            init: function(e) {
              var t, n;
              for (t in (e = e || {}))
                (n = e[t]) instanceof qe && (e[t] = n.create(this, t));
              this.data = e;
            },
            set: function(e, t) {
              var n,
                r,
                o = this.data[e];
              if (
                (t instanceof qe && (t = t.create(this, e)),
                "object" == typeof e)
              ) {
                for (n in e) this.set(n, e[n]);
                return this;
              }
              return (
                (function e(t, n) {
                  var r, o;
                  if (t === n) return !0;
                  if (null === t || null === n) return t === n;
                  if ("object" != typeof t || "object" != typeof n)
                    return t === n;
                  if (u.isArray(n)) {
                    if (t.length !== n.length) return !1;
                    for (r = t.length; r--; ) if (!e(t[r], n[r])) return !1;
                  }
                  if (Ke(t) || Ke(n)) return t === n;
                  for (r in ((o = {}), n)) {
                    if (!e(t[r], n[r])) return !1;
                    o[r] = !0;
                  }
                  for (r in t) if (!o[r] && !e(t[r], n[r])) return !1;
                  return !0;
                })(o, t) ||
                  ((this.data[e] = t),
                  (r = { target: this, name: e, value: t, oldValue: o }),
                  this.fire("change:" + e, r),
                  this.fire("change", r)),
                this
              );
            },
            get: function(e) {
              return this.data[e];
            },
            has: function(e) {
              return e in this.data;
            },
            bind: function(e) {
              return qe.create(this, e);
            },
            destroy: function() {
              this.fire("destroy");
            }
          }),
          Je = {},
          Qe = {
            add: function(t) {
              var n = t.parent();
              if (n) {
                if (!n._layout || n._layout.isNative()) return;
                Je[n._id] || (Je[n._id] = n),
                  Ye ||
                    ((Ye = !0),
                    S.requestAnimationFrame(function() {
                      var e, t;
                      for (e in ((Ye = !1), Je))
                        (t = Je[e]).state.get("rendered") && t.reflow();
                      Je = {};
                    }, e.document.body));
              }
            },
            remove: function(e) {
              Je[e._id] && delete Je[e._id];
            }
          },
          Ze = "onmousewheel" in e.document,
          et = 0,
          tt = {
            Statics: { classPrefix: "mce-" },
            isRtl: function() {
              return Xe.rtl;
            },
            classPrefix: "mce-",
            init: function(e) {
              var t,
                n,
                r = this;
              function o(e) {
                var t;
                for (e = e.split(" "), t = 0; t < e.length; t++)
                  r.classes.add(e[t]);
              }
              (r.settings = e = u.extend({}, r.Defaults, e)),
                (r._id = e.id || "mceu_" + et++),
                (r._aria = { role: e.role }),
                (r._elmCache = {}),
                (r.$ = we),
                (r.state = new Ge({
                  visible: !0,
                  active: !1,
                  disabled: !1,
                  value: ""
                })),
                (r.data = new Ge(e.data)),
                (r.classes = new Be(function() {
                  r.state.get("rendered") &&
                    (r.getEl().className = this.toString());
                })),
                (r.classes.prefix = r.classPrefix),
                (t = e.classes) &&
                  (r.Defaults && (n = r.Defaults.classes) && t !== n && o(n),
                  o(t)),
                u.each(
                  "title text name visible disabled active value".split(" "),
                  function(t) {
                    t in e && r[t](e[t]);
                  }
                ),
                r.on("click", function() {
                  if (r.disabled()) return !1;
                }),
                (r.settings = e),
                (r.borderBox = Oe(e.border)),
                (r.paddingBox = Oe(e.padding)),
                (r.marginBox = Oe(e.margin)),
                e.hidden && r.hide();
            },
            Properties: "parent,name",
            getContainerElm: function() {
              var e = P.getUiContainer(this);
              return e || Ce.getContainer();
            },
            getParentCtrl: function(e) {
              for (
                var t, n = this.getRoot().controlIdLookup;
                e && n && !(t = n[e.id]);

              )
                e = e.parentNode;
              return t;
            },
            initLayoutRect: function() {
              var e,
                t,
                n,
                r,
                o,
                i,
                a,
                u,
                s,
                c,
                l = this.settings,
                f = this.getEl();
              (e = this.borderBox = this.borderBox || Ae(f, "border")),
                (this.paddingBox = this.paddingBox || Ae(f, "padding")),
                (this.marginBox = this.marginBox || Ae(f, "margin")),
                (c = Ce.getSize(f)),
                (u = l.minWidth),
                (s = l.minHeight),
                (o = u || c.width),
                (i = s || c.height),
                (n = l.width),
                (r = l.height),
                (a = void 0 !== (a = l.autoResize) ? a : !n && !r),
                (n = n || o),
                (r = r || i);
              var d = e.left + e.right,
                m = e.top + e.bottom,
                h = l.maxWidth || 65535,
                g = l.maxHeight || 65535;
              return (
                (this._layoutRect = t = {
                  x: l.x || 0,
                  y: l.y || 0,
                  w: n,
                  h: r,
                  deltaW: d,
                  deltaH: m,
                  contentW: n - d,
                  contentH: r - m,
                  innerW: n - d,
                  innerH: r - m,
                  startMinWidth: u || 0,
                  startMinHeight: s || 0,
                  minW: Math.min(o, h),
                  minH: Math.min(i, g),
                  maxW: h,
                  maxH: g,
                  autoResize: a,
                  scrollW: 0
                }),
                (this._lastLayoutRect = {}),
                t
              );
            },
            layoutRect: function(e) {
              var t,
                n,
                r,
                o,
                i,
                a = this._layoutRect;
              return (
                a || (a = this.initLayoutRect()),
                e
                  ? ((r = a.deltaW),
                    (o = a.deltaH),
                    void 0 !== e.x && (a.x = e.x),
                    void 0 !== e.y && (a.y = e.y),
                    void 0 !== e.minW && (a.minW = e.minW),
                    void 0 !== e.minH && (a.minH = e.minH),
                    void 0 !== (n = e.w) &&
                      ((n =
                        (n = n < a.minW ? a.minW : n) > a.maxW ? a.maxW : n),
                      (a.w = n),
                      (a.innerW = n - r)),
                    void 0 !== (n = e.h) &&
                      ((n =
                        (n = n < a.minH ? a.minH : n) > a.maxH ? a.maxH : n),
                      (a.h = n),
                      (a.innerH = n - o)),
                    void 0 !== (n = e.innerW) &&
                      ((n =
                        (n = n < a.minW - r ? a.minW - r : n) > a.maxW - r
                          ? a.maxW - r
                          : n),
                      (a.innerW = n),
                      (a.w = n + r)),
                    void 0 !== (n = e.innerH) &&
                      ((n =
                        (n = n < a.minH - o ? a.minH - o : n) > a.maxH - o
                          ? a.maxH - o
                          : n),
                      (a.innerH = n),
                      (a.h = n + o)),
                    void 0 !== e.contentW && (a.contentW = e.contentW),
                    void 0 !== e.contentH && (a.contentH = e.contentH),
                    ((t = this._lastLayoutRect).x === a.x &&
                      t.y === a.y &&
                      t.w === a.w &&
                      t.h === a.h) ||
                      ((i = Xe.repaintControls) &&
                        i.map &&
                        !i.map[this._id] &&
                        (i.push(this), (i.map[this._id] = !0)),
                      (t.x = a.x),
                      (t.y = a.y),
                      (t.w = a.w),
                      (t.h = a.h)),
                    this)
                  : a
              );
            },
            repaint: function() {
              var t, n, r, o, i, a, u, s, c, l;
              (c = e.document.createRange
                ? function(e) {
                    return e;
                  }
                : Math.round),
                (t = this.getEl().style),
                (o = this._layoutRect),
                (s = this._lastRepaintRect || {}),
                (a = (i = this.borderBox).left + i.right),
                (u = i.top + i.bottom),
                o.x !== s.x && ((t.left = c(o.x) + "px"), (s.x = o.x)),
                o.y !== s.y && ((t.top = c(o.y) + "px"), (s.y = o.y)),
                o.w !== s.w &&
                  ((l = c(o.w - a)),
                  (t.width = (l >= 0 ? l : 0) + "px"),
                  (s.w = o.w)),
                o.h !== s.h &&
                  ((l = c(o.h - u)),
                  (t.height = (l >= 0 ? l : 0) + "px"),
                  (s.h = o.h)),
                this._hasBody &&
                  o.innerW !== s.innerW &&
                  ((l = c(o.innerW)),
                  (r = this.getEl("body")) &&
                    ((n = r.style).width = (l >= 0 ? l : 0) + "px"),
                  (s.innerW = o.innerW)),
                this._hasBody &&
                  o.innerH !== s.innerH &&
                  ((l = c(o.innerH)),
                  (r = r || this.getEl("body")) &&
                    ((n = n || r.style).height = (l >= 0 ? l : 0) + "px"),
                  (s.innerH = o.innerH)),
                (this._lastRepaintRect = s),
                this.fire("repaint", {}, !1);
            },
            updateLayoutRect: function() {
              (this.parent()._lastRect = null),
                Ce.css(this.getEl(), { width: "", height: "" }),
                (this._layoutRect = this._lastRepaintRect = this._lastLayoutRect = null),
                this.initLayoutRect();
            },
            on: function(e, t) {
              var n = this;
              return (
                nt(n).on(
                  e,
                  (function(e) {
                    var t, r;
                    return "string" != typeof e
                      ? e
                      : function(o) {
                          return (
                            t ||
                              n.parentsAndSelf().each(function(n) {
                                var o = n.settings.callbacks;
                                if (o && (t = o[e])) return (r = n), !1;
                              }),
                            t
                              ? t.call(r, o)
                              : ((o.action = e), void this.fire("execute", o))
                          );
                        };
                  })(t)
                ),
                n
              );
            },
            off: function(e, t) {
              return nt(this).off(e, t), this;
            },
            fire: function(e, t, n) {
              if (
                ((t = t || {}).control || (t.control = this),
                (t = nt(this).fire(e, t)),
                !1 !== n && this.parent)
              )
                for (var r = this.parent(); r && !t.isPropagationStopped(); )
                  r.fire(e, t, !1), (r = r.parent());
              return t;
            },
            hasEventListeners: function(e) {
              return nt(this).has(e);
            },
            parents: function(e) {
              var t,
                n = new Ve();
              for (t = this.parent(); t; t = t.parent()) n.add(t);
              return e && (n = n.filter(e)), n;
            },
            parentsAndSelf: function(e) {
              return new Ve(this).add(this.parents(e));
            },
            next: function() {
              var e = this.parent().items();
              return e[e.indexOf(this) + 1];
            },
            prev: function() {
              var e = this.parent().items();
              return e[e.indexOf(this) - 1];
            },
            innerHtml: function(e) {
              return this.$el.html(e), this;
            },
            getEl: function(e) {
              var t = e ? this._id + "-" + e : this._id;
              return (
                this._elmCache[t] || (this._elmCache[t] = we("#" + t)[0]),
                this._elmCache[t]
              );
            },
            show: function() {
              return this.visible(!0);
            },
            hide: function() {
              return this.visible(!1);
            },
            focus: function() {
              try {
                this.getEl().focus();
              } catch (e) {}
              return this;
            },
            blur: function() {
              return this.getEl().blur(), this;
            },
            aria: function(e, t) {
              var n = this.getEl(this.ariaTarget);
              return void 0 === t
                ? this._aria[e]
                : ((this._aria[e] = t),
                  this.state.get("rendered") &&
                    n.setAttribute("role" === e ? e : "aria-" + e, t),
                  this);
            },
            encode: function(e, t) {
              return (
                !1 !== t && (e = this.translate(e)),
                (e || "").replace(/[&<>"]/g, function(e) {
                  return "&#" + e.charCodeAt(0) + ";";
                })
              );
            },
            translate: function(e) {
              return Xe.translate ? Xe.translate(e) : e;
            },
            before: function(e) {
              var t = this.parent();
              return t && t.insert(e, t.items().indexOf(this), !0), this;
            },
            after: function(e) {
              var t = this.parent();
              return t && t.insert(e, t.items().indexOf(this)), this;
            },
            remove: function() {
              var e,
                t,
                n = this,
                r = n.getEl(),
                o = n.parent();
              if (n.items) {
                var i = n.items().toArray();
                for (t = i.length; t--; ) i[t].remove();
              }
              o &&
                o.items &&
                ((e = []),
                o.items().each(function(t) {
                  t !== n && e.push(t);
                }),
                o.items().set(e),
                (o._lastRect = null)),
                n._eventsRoot && n._eventsRoot === n && we(r).off();
              var a = n.getRoot().controlIdLookup;
              return (
                a && delete a[n._id],
                r && r.parentNode && r.parentNode.removeChild(r),
                n.state.set("rendered", !1),
                n.state.destroy(),
                n.fire("remove"),
                n
              );
            },
            renderBefore: function(e) {
              return we(e).before(this.renderHtml()), this.postRender(), this;
            },
            renderTo: function(e) {
              return (
                we(e || this.getContainerElm()).append(this.renderHtml()),
                this.postRender(),
                this
              );
            },
            preRender: function() {},
            render: function() {},
            renderHtml: function() {
              return (
                '<div id="' + this._id + '" class="' + this.classes + '"></div>'
              );
            },
            postRender: function() {
              var e,
                t,
                n,
                r,
                o,
                i = this,
                a = i.settings;
              for (r in ((i.$el = we(i.getEl())),
              i.state.set("rendered", !0),
              a))
                0 === r.indexOf("on") && i.on(r.substr(2), a[r]);
              if (i._eventsRoot) {
                for (n = i.parent(); !o && n; n = n.parent()) o = n._eventsRoot;
                if (o) for (r in o._nativeEvents) i._nativeEvents[r] = !0;
              }
              rt(i),
                a.style &&
                  (e = i.getEl()) &&
                  (e.setAttribute("style", a.style),
                  (e.style.cssText = a.style)),
                i.settings.border &&
                  ((t = i.borderBox),
                  i.$el.css({
                    "border-top-width": t.top,
                    "border-right-width": t.right,
                    "border-bottom-width": t.bottom,
                    "border-left-width": t.left
                  }));
              var u = i.getRoot();
              for (var s in (u.controlIdLookup || (u.controlIdLookup = {}),
              (u.controlIdLookup[i._id] = i),
              i._aria))
                i.aria(s, i._aria[s]);
              !1 === i.state.get("visible") &&
                (i.getEl().style.display = "none"),
                i.bindStates(),
                i.state.on("change:visible", function(e) {
                  var t,
                    n = e.value;
                  i.state.get("rendered") &&
                    ((i.getEl().style.display = !1 === n ? "none" : ""),
                    i.getEl().getBoundingClientRect()),
                    (t = i.parent()) && (t._lastRect = null),
                    i.fire(n ? "show" : "hide"),
                    Qe.add(i);
                }),
                i.fire("postrender", {}, !1);
            },
            bindStates: function() {},
            scrollIntoView: function(e) {
              var t,
                n,
                r,
                o,
                i,
                a,
                u = this.getEl(),
                s = u.parentNode,
                c = (function(e, t) {
                  var n,
                    r,
                    o = e;
                  for (n = r = 0; o && o !== t && o.nodeType; )
                    (n += o.offsetLeft || 0),
                      (r += o.offsetTop || 0),
                      (o = o.offsetParent);
                  return { x: n, y: r };
                })(u, s);
              return (
                (t = c.x),
                (n = c.y),
                (r = u.offsetWidth),
                (o = u.offsetHeight),
                (i = s.clientWidth),
                (a = s.clientHeight),
                "end" === e
                  ? ((t -= i - r), (n -= a - o))
                  : "center" === e &&
                    ((t -= i / 2 - r / 2), (n -= a / 2 - o / 2)),
                (s.scrollLeft = t),
                (s.scrollTop = n),
                this
              );
            },
            getRoot: function() {
              for (var e, t = this, n = []; t; ) {
                if (t.rootControl) {
                  e = t.rootControl;
                  break;
                }
                n.push(t), (e = t), (t = t.parent());
              }
              e || (e = this);
              for (var r = n.length; r--; ) n[r].rootControl = e;
              return e;
            },
            reflow: function() {
              Qe.remove(this);
              var e = this.parent();
              return (
                e && e._layout && !e._layout.isNative() && e.reflow(), this
              );
            }
          };
        function nt(e) {
          return (
            e._eventDispatcher ||
              (e._eventDispatcher = new De({
                scope: e,
                toggleEvent: function(t, n) {
                  n &&
                    De.isNative(t) &&
                    (e._nativeEvents || (e._nativeEvents = {}),
                    (e._nativeEvents[t] = !0),
                    e.state.get("rendered") && rt(e));
                }
              })),
            e._eventDispatcher
          );
        }
        function rt(e) {
          var t, n, r, o, i, a;
          function u(t) {
            var n = e.getParentCtrl(t.target);
            n && n.fire(t.type, t);
          }
          function s() {
            var e = o._lastHoverCtrl;
            e &&
              (e.fire("mouseleave", { target: e.getEl() }),
              e.parents().each(function(e) {
                e.fire("mouseleave", { target: e.getEl() });
              }),
              (o._lastHoverCtrl = null));
          }
          function c(t) {
            var n,
              r,
              i,
              a = e.getParentCtrl(t.target),
              u = o._lastHoverCtrl,
              s = 0;
            if (a !== u) {
              if (
                ((o._lastHoverCtrl = a),
                (r = a
                  .parents()
                  .toArray()
                  .reverse()).push(a),
                u)
              ) {
                for (
                  (i = u
                    .parents()
                    .toArray()
                    .reverse()).push(u),
                    s = 0;
                  s < i.length && r[s] === i[s];
                  s++
                );
                for (n = i.length - 1; n >= s; n--)
                  (u = i[n]).fire("mouseleave", { target: u.getEl() });
              }
              for (n = s; n < r.length; n++)
                (a = r[n]).fire("mouseenter", { target: a.getEl() });
            }
          }
          function l(t) {
            t.preventDefault(),
              "mousewheel" === t.type
                ? ((t.deltaY = (-1 / 40) * t.wheelDelta),
                  t.wheelDeltaX && (t.deltaX = (-1 / 40) * t.wheelDeltaX))
                : ((t.deltaX = 0), (t.deltaY = t.detail)),
              (t = e.fire("wheel", t));
          }
          if ((i = e._nativeEvents)) {
            for (
              (r = e.parents().toArray()).unshift(e), t = 0, n = r.length;
              !o && t < n;
              t++
            )
              o = r[t]._eventsRoot;
            for (
              o || (o = r[r.length - 1] || e), e._eventsRoot = o, n = t, t = 0;
              t < n;
              t++
            )
              r[t]._eventsRoot = o;
            var f = o._delegates;
            for (a in (f || (f = o._delegates = {}), i)) {
              if (!i) return !1;
              "wheel" !== a
                ? ("mouseenter" === a || "mouseleave" === a
                    ? o._hasMouseEnter ||
                      (we(o.getEl())
                        .on("mouseleave", s)
                        .on("mouseover", c),
                      (o._hasMouseEnter = 1))
                    : f[a] || (we(o.getEl()).on(a, u), (f[a] = !0)),
                  (i[a] = !1))
                : Ze
                ? we(e.getEl()).on("mousewheel", l)
                : we(e.getEl()).on("DOMMouseScroll", l);
            }
          }
        }
        u.each("text title visible disabled active value".split(" "), function(
          e
        ) {
          tt[e] = function(t) {
            return 0 === arguments.length
              ? this.state.get(e)
              : (void 0 !== t && this.state.set(e, t), this);
          };
        });
        var ot = (Xe = Re.extend(tt)),
          it = function(e) {
            return !!e.getAttribute("data-mce-tabstop");
          };
        function at(t) {
          var n,
            r,
            o = t.root;
          function i(e) {
            return e && 1 === e.nodeType;
          }
          try {
            n = e.document.activeElement;
          } catch (t) {
            n = e.document.body;
          }
          function a(e) {
            return i((e = e || n)) ? e.getAttribute("role") : null;
          }
          function u(e) {
            for (var t, r = e || n; (r = r.parentNode); )
              if ((t = a(r))) return t;
          }
          function s(e) {
            var t = n;
            if (i(t)) return t.getAttribute("aria-" + e);
          }
          function c(e) {
            var t = e.tagName.toUpperCase();
            return "INPUT" === t || "TEXTAREA" === t || "SELECT" === t;
          }
          function l(e) {
            var t = [];
            return (
              (function e(n) {
                if (
                  1 === n.nodeType &&
                  "none" !== n.style.display &&
                  !n.disabled
                ) {
                  (function(e) {
                    return (
                      !(!c(e) || e.hidden) ||
                      !!it(e) ||
                      !!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(
                        a(e)
                      )
                    );
                  })(n) && t.push(n);
                  for (var r = 0; r < n.childNodes.length; r++)
                    e(n.childNodes[r]);
                }
              })(e || o.getEl()),
              t
            );
          }
          function f(e) {
            var t, n;
            (n = (e = e || r).parents().toArray()).unshift(e);
            for (var o = 0; o < n.length && !(t = n[o]).settings.ariaRoot; o++);
            return t;
          }
          function d(e, t) {
            return (
              e < 0 ? (e = t.length - 1) : e >= t.length && (e = 0),
              t[e] && t[e].focus(),
              e
            );
          }
          function m(e, t) {
            var r = -1,
              o = f();
            t = t || l(o.getEl());
            for (var i = 0; i < t.length; i++) t[i] === n && (r = i);
            (r += e), (o.lastAriaIndex = d(r, t));
          }
          function h() {
            "tablist" === u()
              ? m(-1, l(n.parentNode))
              : r.parent().submenu
              ? b()
              : m(-1);
          }
          function g() {
            var e = a(),
              t = u();
            "tablist" === t
              ? m(1, l(n.parentNode))
              : "menuitem" === e && "menu" === t && s("haspopup")
              ? y()
              : m(1);
          }
          function p() {
            m(-1);
          }
          function v() {
            var e = a(),
              t = u();
            "menuitem" === e && "menubar" === t
              ? y()
              : "button" === e && s("haspopup")
              ? y({ key: "down" })
              : m(1);
          }
          function b() {
            r.fire("cancel");
          }
          function y(e) {
            (e = e || {}), r.fire("click", { target: n, aria: e });
          }
          return (
            (r = o.getParentCtrl(n)),
            o.on("keydown", function(e) {
              function t(e, t) {
                c(n) ||
                  it(n) ||
                  ("slider" !== a(n) && !1 !== t(e) && e.preventDefault());
              }
              if (!e.isDefaultPrevented())
                switch (e.keyCode) {
                  case 37:
                    t(e, h);
                    break;
                  case 39:
                    t(e, g);
                    break;
                  case 38:
                    t(e, p);
                    break;
                  case 40:
                    t(e, v);
                    break;
                  case 27:
                    b();
                    break;
                  case 14:
                  case 13:
                  case 32:
                    t(e, y);
                    break;
                  case 9:
                    !(function(e) {
                      if ("tablist" === u()) {
                        var t = l(r.getEl("body"))[0];
                        t && t.focus();
                      } else m(e.shiftKey ? -1 : 1);
                    })(e),
                      e.preventDefault();
                }
            }),
            o.on("focusin", function(e) {
              (n = e.target), (r = e.control);
            }),
            {
              focusFirst: function(e) {
                var t = f(e),
                  n = l(t.getEl());
                t.settings.ariaRemember && "lastAriaIndex" in t
                  ? d(t.lastAriaIndex, n)
                  : d(0, n);
              }
            }
          );
        }
        var ut = {},
          st = ot.extend({
            init: function(e) {
              var t = this;
              t._super(e),
                (e = t.settings).fixed && t.state.set("fixed", !0),
                (t._items = new Ve()),
                t.isRtl() && t.classes.add("rtl"),
                (t.bodyClasses = new Be(function() {
                  t.state.get("rendered") &&
                    (t.getEl("body").className = this.toString());
                })),
                (t.bodyClasses.prefix = t.classPrefix),
                t.classes.add("container"),
                t.bodyClasses.add("container-body"),
                e.containerCls && t.classes.add(e.containerCls),
                (t._layout = g.create((e.layout || "") + "layout")),
                t.settings.items ? t.add(t.settings.items) : t.add(t.render()),
                (t._hasBody = !0);
            },
            items: function() {
              return this._items;
            },
            find: function(e) {
              return (e = ut[e] = ut[e] || new We(e)).find(this);
            },
            add: function(e) {
              return (
                this.items()
                  .add(this.create(e))
                  .parent(this),
                this
              );
            },
            focus: function(e) {
              var t, n, r;
              if (
                !e ||
                !(n = this.keyboardNav || this.parents().eq(-1)[0].keyboardNav)
              )
                return (
                  (r = this.find("*")),
                  this.statusbar && r.add(this.statusbar.items()),
                  r.each(function(e) {
                    if (e.settings.autofocus) return (t = null), !1;
                    e.canFocus && (t = t || e);
                  }),
                  t && t.focus(),
                  this
                );
              n.focusFirst(this);
            },
            replace: function(e, t) {
              for (var n, r = this.items(), o = r.length; o--; )
                if (r[o] === e) {
                  r[o] = t;
                  break;
                }
              o >= 0 &&
                ((n = t.getEl()) && n.parentNode.removeChild(n),
                (n = e.getEl()) && n.parentNode.removeChild(n)),
                t.parent(this);
            },
            create: function(e) {
              var t,
                n = this,
                r = [];
              return (
                u.isArray(e) || (e = [e]),
                u.each(e, function(e) {
                  e &&
                    (e instanceof ot ||
                      ("string" == typeof e && (e = { type: e }),
                      (t = u.extend({}, n.settings.defaults, e)),
                      (e.type = t.type =
                        t.type ||
                        e.type ||
                        n.settings.defaultType ||
                        (t.defaults ? t.defaults.type : null)),
                      (e = g.create(t))),
                    r.push(e));
                }),
                r
              );
            },
            renderNew: function() {
              var e = this;
              return (
                e.items().each(function(t, n) {
                  var r;
                  t.parent(e),
                    t.state.get("rendered") ||
                      ((r = e.getEl("body")).hasChildNodes() &&
                      n <= r.childNodes.length - 1
                        ? we(r.childNodes[n]).before(t.renderHtml())
                        : we(r).append(t.renderHtml()),
                      t.postRender(),
                      Qe.add(t));
                }),
                e._layout.applyClasses(e.items().filter(":visible")),
                (e._lastRect = null),
                e
              );
            },
            append: function(e) {
              return this.add(e).renderNew();
            },
            prepend: function(e) {
              return (
                this.items().set(this.create(e).concat(this.items().toArray())),
                this.renderNew()
              );
            },
            insert: function(e, t, n) {
              var r, o, i;
              return (
                (e = this.create(e)),
                (r = this.items()),
                !n && t < r.length - 1 && (t += 1),
                t >= 0 &&
                  t < r.length &&
                  ((o = r.slice(0, t).toArray()),
                  (i = r.slice(t).toArray()),
                  r.set(o.concat(e, i))),
                this.renderNew()
              );
            },
            fromJSON: function(e) {
              for (var t in e) this.find("#" + t).value(e[t]);
              return this;
            },
            toJSON: function() {
              var e = {};
              return (
                this.find("*").each(function(t) {
                  var n = t.name(),
                    r = t.value();
                  n && void 0 !== r && (e[n] = r);
                }),
                e
              );
            },
            renderHtml: function() {
              var e = this._layout,
                t = this.settings.role;
              return (
                this.preRender(),
                e.preRender(this),
                '<div id="' +
                  this._id +
                  '" class="' +
                  this.classes +
                  '"' +
                  (t ? ' role="' + this.settings.role + '"' : "") +
                  '><div id="' +
                  this._id +
                  '-body" class="' +
                  this.bodyClasses +
                  '">' +
                  (this.settings.html || "") +
                  e.renderHtml(this) +
                  "</div></div>"
              );
            },
            postRender: function() {
              var e;
              return (
                this.items().exec("postRender"),
                this._super(),
                this._layout.postRender(this),
                this.state.set("rendered", !0),
                this.settings.style && this.$el.css(this.settings.style),
                this.settings.border &&
                  ((e = this.borderBox),
                  this.$el.css({
                    "border-top-width": e.top,
                    "border-right-width": e.right,
                    "border-bottom-width": e.bottom,
                    "border-left-width": e.left
                  })),
                this.parent() || (this.keyboardNav = at({ root: this })),
                this
              );
            },
            initLayoutRect: function() {
              var e = this._super();
              return this._layout.recalc(this), e;
            },
            recalc: function() {
              var e = this._layoutRect,
                t = this._lastRect;
              if (!t || t.w !== e.w || t.h !== e.h)
                return (
                  this._layout.recalc(this),
                  (e = this.layoutRect()),
                  (this._lastRect = { x: e.x, y: e.y, w: e.w, h: e.h }),
                  !0
                );
            },
            reflow: function() {
              var e;
              if ((Qe.remove(this), this.visible())) {
                for (
                  ot.repaintControls = [],
                    ot.repaintControls.map = {},
                    this.recalc(),
                    e = ot.repaintControls.length;
                  e--;

                )
                  ot.repaintControls[e].repaint();
                "flow" !== this.settings.layout &&
                  "stack" !== this.settings.layout &&
                  this.repaint(),
                  (ot.repaintControls = []);
              }
              return this;
            }
          });
        function ct(e) {
          var t, n;
          if (e.changedTouches)
            for (
              t = "screenX screenY pageX pageY clientX clientY".split(" "),
                n = 0;
              n < t.length;
              n++
            )
              e[t[n]] = e.changedTouches[0][t[n]];
        }
        function lt(t, n) {
          var r,
            o,
            i,
            a,
            u,
            s,
            c,
            l = n.document || e.document;
          n = n || {};
          var f = l.getElementById(n.handle || t);
          (i = function(t) {
            var i,
              d,
              m = (function(e) {
                var t,
                  n,
                  r,
                  o,
                  i,
                  a,
                  u,
                  s = Math.max;
                return (
                  (t = e.documentElement),
                  (n = e.body),
                  (r = s(t.scrollWidth, n.scrollWidth)),
                  (o = s(t.clientWidth, n.clientWidth)),
                  (i = s(t.offsetWidth, n.offsetWidth)),
                  (a = s(t.scrollHeight, n.scrollHeight)),
                  (u = s(t.clientHeight, n.clientHeight)),
                  {
                    width: r < i ? o : r,
                    height: a < s(t.offsetHeight, n.offsetHeight) ? u : a
                  }
                );
              })(l);
            ct(t),
              t.preventDefault(),
              (o = t.button),
              (i = f),
              (s = t.screenX),
              (c = t.screenY),
              (d = e.window.getComputedStyle
                ? e.window.getComputedStyle(i, null).getPropertyValue("cursor")
                : i.runtimeStyle.cursor),
              (r = we("<div></div>")
                .css({
                  position: "absolute",
                  top: 0,
                  left: 0,
                  width: m.width,
                  height: m.height,
                  zIndex: 2147483647,
                  opacity: 1e-4,
                  cursor: d
                })
                .appendTo(l.body)),
              we(l)
                .on("mousemove touchmove", u)
                .on("mouseup touchend", a),
              n.start(t);
          }),
            (u = function(e) {
              if ((ct(e), e.button !== o)) return a(e);
              (e.deltaX = e.screenX - s),
                (e.deltaY = e.screenY - c),
                e.preventDefault(),
                n.drag(e);
            }),
            (a = function(e) {
              ct(e),
                we(l)
                  .off("mousemove touchmove", u)
                  .off("mouseup touchend", a),
                r.remove(),
                n.stop && n.stop(e);
            }),
            (this.destroy = function() {
              we(f).off();
            }),
            we(f).on("mousedown touchstart", i);
        }
        var ft,
          dt,
          mt,
          ht,
          gt = {
            init: function() {
              this.on("repaint", this.renderScroll);
            },
            renderScroll: function() {
              var e = this;
              function t() {
                var t, n, r;
                function o(r, o, i, a, u, s) {
                  var c, l, f, d, m, h, g, p;
                  if ((l = e.getEl("scroll" + r))) {
                    if (
                      ((g = o.toLowerCase()),
                      (p = i.toLowerCase()),
                      we(e.getEl("absend")).css(g, e.layoutRect()[a] - 1),
                      !u)
                    )
                      return void we(l).css("display", "none");
                    we(l).css("display", "block"),
                      (c = e.getEl("body")),
                      (f = e.getEl("scroll" + r + "t")),
                      (d = c["client" + i] - 4),
                      (m =
                        (d -= t && n ? l["client" + s] : 0) / c["scroll" + i]),
                      ((h = {})[g] = c["offset" + o] + 2),
                      (h[p] = d),
                      we(l).css(h),
                      ((h = {})[g] = c["scroll" + o] * m),
                      (h[p] = d * m),
                      we(f).css(h);
                  }
                }
                (r = e.getEl("body")),
                  (t = r.scrollWidth > r.clientWidth),
                  (n = r.scrollHeight > r.clientHeight),
                  o("h", "Left", "Width", "contentW", t, "Height"),
                  o("v", "Top", "Height", "contentH", n, "Width");
              }
              e.settings.autoScroll &&
                (e._hasScroll ||
                  ((e._hasScroll = !0),
                  (function() {
                    function t(t, n, r, o, i) {
                      var a,
                        u = e._id + "-scroll" + t,
                        s = e.classPrefix;
                      we(e.getEl()).append(
                        '<div id="' +
                          u +
                          '" class="' +
                          s +
                          "scrollbar " +
                          s +
                          "scrollbar-" +
                          t +
                          '"><div id="' +
                          u +
                          't" class="' +
                          s +
                          'scrollbar-thumb"></div></div>'
                      ),
                        (e.draghelper = new lt(u + "t", {
                          start: function() {
                            (a = e.getEl("body")["scroll" + n]),
                              we("#" + u).addClass(s + "active");
                          },
                          drag: function(u) {
                            var s,
                              c,
                              l,
                              f,
                              d = e.layoutRect();
                            (c = d.contentW > d.innerW),
                              (l = d.contentH > d.innerH),
                              (f = e.getEl("body")["client" + r] - 4),
                              (s =
                                (f -=
                                  c && l
                                    ? e.getEl("scroll" + t)["client" + i]
                                    : 0) / e.getEl("body")["scroll" + r]),
                              (e.getEl("body")["scroll" + n] =
                                a + u["delta" + o] / s);
                          },
                          stop: function() {
                            we("#" + u).removeClass(s + "active");
                          }
                        }));
                    }
                    e.classes.add("scroll"),
                      t("v", "Top", "Height", "Y", "Width"),
                      t("h", "Left", "Width", "X", "Height");
                  })(),
                  e.on("wheel", function(n) {
                    var r = e.getEl("body");
                    (r.scrollLeft += 10 * (n.deltaX || 0)),
                      (r.scrollTop += 10 * n.deltaY),
                      t();
                  }),
                  we(e.getEl("body")).on("scroll", t)),
                t());
            }
          },
          pt = st.extend({
            Defaults: { layout: "fit", containerCls: "panel" },
            Mixins: [gt],
            renderHtml: function() {
              var e = this._layout,
                t = this.settings.html;
              return (
                this.preRender(),
                e.preRender(this),
                void 0 === t
                  ? (t =
                      '<div id="' +
                      this._id +
                      '-body" class="' +
                      this.bodyClasses +
                      '">' +
                      e.renderHtml(this) +
                      "</div>")
                  : ("function" == typeof t && (t = t.call(this)),
                    (this._hasBody = !1)),
                '<div id="' +
                  this._id +
                  '" class="' +
                  this.classes +
                  '" hidefocus="1" tabindex="-1" role="group">' +
                  (this._preBodyHtml || "") +
                  t +
                  "</div>"
              );
            }
          }),
          vt = {
            resizeToContent: function() {
              (this._layoutRect.autoResize = !0),
                (this._lastRect = null),
                this.reflow();
            },
            resizeTo: function(e, t) {
              if (e <= 1 || t <= 1) {
                var n = Ce.getWindowSize();
                (e = e <= 1 ? e * n.w : e), (t = t <= 1 ? t * n.h : t);
              }
              return (
                (this._layoutRect.autoResize = !1),
                this.layoutRect({ minW: e, minH: t, w: e, h: t }).reflow()
              );
            },
            resizeBy: function(e, t) {
              var n = this.layoutRect();
              return this.resizeTo(n.w + e, n.h + t);
            }
          },
          bt = [],
          yt = [];
        function wt(e, t) {
          for (; e; ) {
            if (e === t) return !0;
            e = e.parent();
          }
        }
        function xt() {
          ft ||
            ((ft = function(e) {
              2 !== e.button &&
                (function(e) {
                  for (var t = bt.length; t--; ) {
                    var n = bt[t],
                      r = n.getParentCtrl(e.target);
                    if (n.settings.autohide) {
                      if (r && (wt(r, n) || n.parent() === r)) continue;
                      (e = n.fire("autohide", {
                        target: e.target
                      })).isDefaultPrevented() || n.hide();
                    }
                  }
                })(e);
            }),
            we(e.document).on("click touchstart", ft));
        }
        function Ct(e) {
          var t = Ce.getViewPort().y;
          function n(t, n) {
            for (var r, o = 0; o < bt.length; o++)
              if (bt[o] !== e)
                for (r = bt[o].parent(); r && (r = r.parent()); )
                  r === e &&
                    bt[o]
                      .fixed(t)
                      .moveBy(0, n)
                      .repaint();
          }
          e.settings.autofix &&
            (e.state.get("fixed")
              ? e._autoFixY > t &&
                (e
                  .fixed(!1)
                  .layoutRect({ y: e._autoFixY })
                  .repaint(),
                n(!1, e._autoFixY - t))
              : ((e._autoFixY = e.layoutRect().y),
                e._autoFixY < t &&
                  (e
                    .fixed(!0)
                    .layoutRect({ y: 0 })
                    .repaint(),
                  n(!0, t - e._autoFixY))));
        }
        function St(e, t) {
          var n,
            r,
            o = Et.zIndex || 65535;
          if (e) yt.push(t);
          else for (n = yt.length; n--; ) yt[n] === t && yt.splice(n, 1);
          if (yt.length)
            for (n = 0; n < yt.length; n++)
              yt[n].modal && (o++, (r = yt[n])),
                (yt[n].getEl().style.zIndex = o),
                (yt[n].zIndex = o),
                o++;
          var i = we(
            "#" + t.classPrefix + "modal-block",
            t.getContainerElm()
          )[0];
          r
            ? we(i).css("z-index", r.zIndex - 1)
            : i && (i.parentNode.removeChild(i), (ht = !1)),
            (Et.currentZIndex = o);
        }
        var Et = pt.extend({
          Mixins: [ke, vt],
          init: function(t) {
            var n = this;
            n._super(t),
              (n._eventsRoot = n),
              n.classes.add("floatpanel"),
              t.autohide &&
                (xt(),
                (function() {
                  if (!mt) {
                    var t = e.document.documentElement,
                      n = t.clientWidth,
                      r = t.clientHeight;
                    (mt = function() {
                      (e.document.all &&
                        n === t.clientWidth &&
                        r === t.clientHeight) ||
                        ((n = t.clientWidth),
                        (r = t.clientHeight),
                        Et.hideAll());
                    }),
                      we(e.window).on("resize", mt);
                  }
                })(),
                bt.push(n)),
              t.autofix &&
                (dt ||
                  ((dt = function() {
                    var e;
                    for (e = bt.length; e--; ) Ct(bt[e]);
                  }),
                  we(e.window).on("scroll", dt)),
                n.on("move", function() {
                  Ct(this);
                })),
              n.on("postrender show", function(e) {
                if (e.control === n) {
                  var t,
                    r = n.classPrefix;
                  n.modal &&
                    !ht &&
                    ((t = we(
                      "#" + r + "modal-block",
                      n.getContainerElm()
                    ))[0] ||
                      (t = we(
                        '<div id="' +
                          r +
                          'modal-block" class="' +
                          r +
                          "reset " +
                          r +
                          'fade"></div>'
                      ).appendTo(n.getContainerElm())),
                    S.setTimeout(function() {
                      t.addClass(r + "in"), we(n.getEl()).addClass(r + "in");
                    }),
                    (ht = !0)),
                    St(!0, n);
                }
              }),
              n.on("show", function() {
                n.parents().each(function(e) {
                  if (e.state.get("fixed")) return n.fixed(!0), !1;
                });
              }),
              t.popover &&
                ((n._preBodyHtml =
                  '<div class="' + n.classPrefix + 'arrow"></div>'),
                n.classes
                  .add("popover")
                  .add("bottom")
                  .add(n.isRtl() ? "end" : "start")),
              n.aria("label", t.ariaLabel),
              n.aria("labelledby", n._id),
              n.aria("describedby", n.describedBy || n._id + "-none");
          },
          fixed: function(e) {
            if (this.state.get("fixed") !== e) {
              if (this.state.get("rendered")) {
                var t = Ce.getViewPort();
                e ? (this.layoutRect().y -= t.y) : (this.layoutRect().y += t.y);
              }
              this.classes.toggle("fixed", e), this.state.set("fixed", e);
            }
            return this;
          },
          show: function() {
            var e,
              t = this._super();
            for (e = bt.length; e-- && bt[e] !== this; );
            return -1 === e && bt.push(this), t;
          },
          hide: function() {
            return Tt(this), St(!1, this), this._super();
          },
          hideAll: function() {
            Et.hideAll();
          },
          close: function() {
            return (
              this.fire("close").isDefaultPrevented() ||
                (this.remove(), St(!1, this)),
              this
            );
          },
          remove: function() {
            Tt(this), this._super();
          },
          postRender: function() {
            return (
              this.settings.bodyRole &&
                this.getEl("body").setAttribute("role", this.settings.bodyRole),
              this._super()
            );
          }
        });
        function Tt(e) {
          var t;
          for (t = bt.length; t--; ) bt[t] === e && bt.splice(t, 1);
          for (t = yt.length; t--; ) yt[t] === e && yt.splice(t, 1);
        }
        Et.hideAll = function() {
          for (var e = bt.length; e--; ) {
            var t = bt[e];
            t && t.settings.autohide && (t.hide(), bt.splice(e, 1));
          }
        };
        var Nt = function(e, t) {
            return !(!e || t.settings.ui_container);
          },
          _t = function(e, t, n) {
            var r,
              o,
              i = h.DOM,
              a = (function(e) {
                return e.getParam("fixed_toolbar_container");
              })(e);
            a && (o = i.select(a)[0]);
            var u = function() {
                if (r && r.moveRel && r.visible() && !r._fixed) {
                  var t = e.selection.getScrollContainer(),
                    n = e.getBody(),
                    o = 0,
                    a = 0;
                  if (t) {
                    var u = i.getPos(n),
                      s = i.getPos(t);
                    (o = Math.max(0, s.x - u.x)), (a = Math.max(0, s.y - u.y));
                  }
                  r.fixed(!1)
                    .moveRel(
                      n,
                      e.rtl ? ["tr-br", "br-tr"] : ["tl-bl", "bl-tl", "tr-br"]
                    )
                    .moveBy(o, a);
                }
              },
              c = function() {
                r && (r.show(), u(), i.addClass(e.getBody(), "mce-edit-focus"));
              },
              f = function() {
                r &&
                  (r.hide(),
                  Et.hideAll(),
                  i.removeClass(e.getBody(), "mce-edit-focus"));
              },
              m = function() {
                r
                  ? r.visible() || c()
                  : ((r = t.panel = g.create({
                      type: o ? "panel" : "floatpanel",
                      role: "application",
                      classes: "tinymce tinymce-inline",
                      layout: "flex",
                      direction: "column",
                      align: "stretch",
                      autohide: !1,
                      autofix: !0,
                      fixed: Nt(o, e),
                      border: 1,
                      items: [
                        !1 === s(e)
                          ? null
                          : {
                              type: "menubar",
                              border: "0 0 1 0",
                              items: oe(e)
                            },
                        M(e, l(e))
                      ]
                    })),
                    P.setUiContainer(e, r),
                    y(e),
                    o ? r.renderTo(o).reflow() : r.renderTo().reflow(),
                    x(e, r),
                    c(),
                    W(e),
                    e.on("nodeChange", u),
                    e.on("ResizeWindow", u),
                    e.on("activate", c),
                    e.on("deactivate", f),
                    e.nodeChanged());
              };
            return (
              (e.settings.content_editable = !0),
              e.on("focus", function() {
                !1 === d(e) && n.skinUiCss
                  ? i.styleSheetLoader.load(n.skinUiCss, m, m)
                  : m();
              }),
              e.on("blur hide", f),
              e.on("remove", function() {
                r && (r.remove(), (r = null));
              }),
              !1 === d(e) && n.skinUiCss
                ? i.styleSheetLoader.load(n.skinUiCss, ge(e))
                : ge(e)(),
              {}
            );
          };
        function kt(e, t) {
          var n,
            r,
            o = this,
            i = ot.classPrefix;
          (o.show = function(a, u) {
            function s() {
              n &&
                (we(e).append(
                  '<div class="' +
                    i +
                    "throbber" +
                    (t ? " " + i + "throbber-inline" : "") +
                    '"></div>'
                ),
                u && u());
            }
            return o.hide(), (n = !0), a ? (r = S.setTimeout(s, a)) : s(), o;
          }),
            (o.hide = function() {
              var t = e.lastChild;
              return (
                S.clearTimeout(r),
                t &&
                  -1 !== t.className.indexOf("throbber") &&
                  t.parentNode.removeChild(t),
                (n = !1),
                o
              );
            });
        }
        var Rt = function(e, t) {
            var n;
            e.on("ProgressState", function(e) {
              (n = n || new kt(t.panel.getEl("body"))),
                e.state ? n.show(e.time) : n.hide();
            });
          },
          Dt = function(e, t, n) {
            var r = (function(e) {
              var t = e.settings,
                n = t.skin,
                r = t.skin_url;
              if (!1 !== n) {
                var o = n || "lightgray";
                r = r
                  ? e.documentBaseURI.toAbsolute(r)
                  : a.baseURL + "/skins/" + o;
              }
              return r;
            })(e);
            return (
              r &&
                ((n.skinUiCss = r + "/skin.min.css"),
                e.contentCSS.push(
                  r + "/content" + (e.inline ? ".inline" : "") + ".min.css"
                )),
              Rt(e, t),
              (function(e) {
                return e.getParam("inline", !1, "boolean");
              })(e)
                ? _t(e, t, n)
                : ye(e, t, n)
            );
          },
          Ot = ot.extend({
            Mixins: [ke],
            Defaults: { classes: "widget tooltip tooltip-n" },
            renderHtml: function() {
              var e = this.classPrefix;
              return (
                '<div id="' +
                this._id +
                '" class="' +
                this.classes +
                '" role="presentation"><div class="' +
                e +
                'tooltip-arrow"></div><div class="' +
                e +
                'tooltip-inner">' +
                this.encode(this.state.get("text")) +
                "</div></div>"
              );
            },
            bindStates: function() {
              var e = this;
              return (
                e.state.on("change:text", function(t) {
                  e.getEl().lastChild.innerHTML = e.encode(t.value);
                }),
                e._super()
              );
            },
            repaint: function() {
              var e, t;
              (e = this.getEl().style),
                (t = this._layoutRect),
                (e.left = t.x + "px"),
                (e.top = t.y + "px"),
                (e.zIndex = 131070);
            }
          }),
          At = ot.extend({
            init: function(e) {
              var t = this;
              t._super(e),
                (e = t.settings),
                (t.canFocus = !0),
                e.tooltip &&
                  !1 !== At.tooltips &&
                  (t.on("mouseenter", function(n) {
                    var r = t.tooltip().moveTo(-65535);
                    if (n.control === t) {
                      var o = r
                        .text(e.tooltip)
                        .show()
                        .testMoveRel(t.getEl(), ["bc-tc", "bc-tl", "bc-tr"]);
                      r.classes.toggle("tooltip-n", "bc-tc" === o),
                        r.classes.toggle("tooltip-nw", "bc-tl" === o),
                        r.classes.toggle("tooltip-ne", "bc-tr" === o),
                        r.moveRel(t.getEl(), o);
                    } else r.hide();
                  }),
                  t.on("mouseleave mousedown click", function() {
                    t.tooltip().remove(), (t._tooltip = null);
                  })),
                t.aria("label", e.ariaLabel || e.tooltip);
            },
            tooltip: function() {
              return (
                this._tooltip ||
                  ((this._tooltip = new Ot({ type: "tooltip" })),
                  P.inheritUiContainer(this, this._tooltip),
                  this._tooltip.renderTo()),
                this._tooltip
              );
            },
            postRender: function() {
              var e = this.settings;
              this._super(),
                this.parent() ||
                  (!e.width && !e.height) ||
                  (this.initLayoutRect(), this.repaint()),
                e.autofocus && this.focus();
            },
            bindStates: function() {
              var e = this;
              function t(t) {
                e.aria("disabled", t), e.classes.toggle("disabled", t);
              }
              function n(t) {
                e.aria("pressed", t), e.classes.toggle("active", t);
              }
              return (
                e.state.on("change:disabled", function(e) {
                  t(e.value);
                }),
                e.state.on("change:active", function(e) {
                  n(e.value);
                }),
                e.state.get("disabled") && t(!0),
                e.state.get("active") && n(!0),
                e._super()
              );
            },
            remove: function() {
              this._super(),
                this._tooltip &&
                  (this._tooltip.remove(), (this._tooltip = null));
            }
          }),
          Pt = At.extend({
            Defaults: { value: 0 },
            init: function(e) {
              this._super(e),
                this.classes.add("progress"),
                this.settings.filter ||
                  (this.settings.filter = function(e) {
                    return Math.round(e);
                  });
            },
            renderHtml: function() {
              var e = this._id,
                t = this.classPrefix;
              return (
                '<div id="' +
                e +
                '" class="' +
                this.classes +
                '"><div class="' +
                t +
                'bar-container"><div class="' +
                t +
                'bar"></div></div><div class="' +
                t +
                'text">0%</div></div>'
              );
            },
            postRender: function() {
              return this._super(), this.value(this.settings.value), this;
            },
            bindStates: function() {
              var e = this;
              function t(t) {
                (t = e.settings.filter(t)),
                  (e.getEl().lastChild.innerHTML = t + "%"),
                  (e.getEl().firstChild.firstChild.style.width = t + "%");
              }
              return (
                e.state.on("change:value", function(e) {
                  t(e.value);
                }),
                t(e.state.get("value")),
                e._super()
              );
            }
          }),
          Bt = function(e, t) {
            e.getEl().lastChild.textContent =
              t + (e.progressBar ? " " + e.progressBar.value() + "%" : "");
          },
          It = ot.extend({
            Mixins: [ke],
            Defaults: { classes: "widget notification" },
            init: function(e) {
              var t = this;
              t._super(e),
                (t.maxWidth = e.maxWidth),
                e.text && t.text(e.text),
                e.icon && (t.icon = e.icon),
                e.color && (t.color = e.color),
                e.type && t.classes.add("notification-" + e.type),
                e.timeout && (e.timeout < 0 || e.timeout > 0) && !e.closeButton
                  ? (t.closeButton = !1)
                  : (t.classes.add("has-close"), (t.closeButton = !0)),
                e.progressBar && (t.progressBar = new Pt()),
                t.on("click", function(e) {
                  -1 !== e.target.className.indexOf(t.classPrefix + "close") &&
                    t.close();
                });
            },
            renderHtml: function() {
              var e,
                t = this.classPrefix,
                n = "",
                r = "",
                o = "";
              return (
                this.icon &&
                  (n =
                    '<i class="' +
                    t +
                    "ico " +
                    t +
                    "i-" +
                    this.icon +
                    '"></i>'),
                (e =
                  ' style="max-width: ' +
                  this.maxWidth +
                  "px;" +
                  (this.color
                    ? "background-color: " + this.color + ';"'
                    : '"')),
                this.closeButton &&
                  (r =
                    '<button type="button" class="' +
                    t +
                    'close" aria-hidden="true">×</button>'),
                this.progressBar && (o = this.progressBar.renderHtml()),
                '<div id="' +
                  this._id +
                  '" class="' +
                  this.classes +
                  '"' +
                  e +
                  ' role="presentation">' +
                  n +
                  '<div class="' +
                  t +
                  'notification-inner">' +
                  this.state.get("text") +
                  "</div>" +
                  o +
                  r +
                  '<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'
              );
            },
            postRender: function() {
              var e = this;
              return (
                S.setTimeout(function() {
                  e.$el.addClass(e.classPrefix + "in"),
                    Bt(e, e.state.get("text"));
                }, 100),
                e._super()
              );
            },
            bindStates: function() {
              var e = this;
              return (
                e.state.on("change:text", function(t) {
                  (e.getEl().firstChild.innerHTML = t.value), Bt(e, t.value);
                }),
                e.progressBar &&
                  (e.progressBar.bindStates(),
                  e.progressBar.state.on("change:value", function(t) {
                    Bt(e, e.state.get("text"));
                  })),
                e._super()
              );
            },
            close: function() {
              return (
                this.fire("close").isDefaultPrevented() || this.remove(), this
              );
            },
            repaint: function() {
              var e, t;
              (e = this.getEl().style),
                (t = this._layoutRect),
                (e.left = t.x + "px"),
                (e.top = t.y + "px"),
                (e.zIndex = 65534);
            }
          });
        function Mt(e) {
          var t = function(e) {
            return e.inline ? e.getElement() : e.getContentAreaContainer();
          };
          return {
            open: function(n, r) {
              var o,
                i = u.extend(n, {
                  maxWidth: ((o = t(e)), Ce.getSize(o).width)
                }),
                a = new It(i);
              return (
                (a.args = i),
                i.timeout > 0 &&
                  (a.timer = setTimeout(function() {
                    a.close(), r();
                  }, i.timeout)),
                a.on("close", function() {
                  r();
                }),
                a.renderTo(),
                a
              );
            },
            close: function(e) {
              e.close();
            },
            reposition: function(n) {
              !(function(e) {
                J(e, function(e) {
                  e.moveTo(0, 0);
                });
              })(n),
                (function(n) {
                  if (n.length > 0) {
                    var r = n.slice(0, 1)[0],
                      o = t(e);
                    r.moveRel(o, "tc-tc"),
                      J(n, function(e, t) {
                        t > 0 && e.moveRel(n[t - 1].getEl(), "bc-tc");
                      });
                  }
                })(n);
            },
            getArgs: function(e) {
              return e.args;
            }
          };
        }
        var Lt = [],
          Ft = "";
        function Ht(t) {
          var n,
            r = we("meta[name=viewport]")[0];
          !1 !== le.overrideViewPort &&
            (r ||
              ((r = e.document.createElement("meta")).setAttribute(
                "name",
                "viewport"
              ),
              e.document.getElementsByTagName("head")[0].appendChild(r)),
            (n = r.getAttribute("content")) && void 0 !== Ft && (Ft = n),
            r.setAttribute(
              "content",
              t
                ? "width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0"
                : Ft
            ));
        }
        function zt(t, n) {
          (function() {
            for (var e = 0; e < Lt.length; e++)
              if (Lt[e]._fullscreen) return !0;
            return !1;
          })() &&
            !1 === n &&
            we([e.document.documentElement, e.document.body]).removeClass(
              t + "fullscreen"
            );
        }
        var Wt = Et.extend({
          modal: !0,
          Defaults: {
            border: 1,
            layout: "flex",
            containerCls: "panel",
            role: "dialog",
            callbacks: {
              submit: function() {
                this.fire("submit", { data: this.toJSON() });
              },
              close: function() {
                this.close();
              }
            }
          },
          init: function(e) {
            var t = this;
            t._super(e),
              t.isRtl() && t.classes.add("rtl"),
              t.classes.add("window"),
              t.bodyClasses.add("window-body"),
              t.state.set("fixed", !0),
              e.buttons &&
                ((t.statusbar = new pt({
                  layout: "flex",
                  border: "1 0 0 0",
                  spacing: 3,
                  padding: 10,
                  align: "center",
                  pack: t.isRtl() ? "start" : "end",
                  defaults: { type: "button" },
                  items: e.buttons
                })),
                t.statusbar.classes.add("foot"),
                t.statusbar.parent(t)),
              t.on("click", function(e) {
                var n = t.classPrefix + "close";
                (Ce.hasClass(e.target, n) ||
                  Ce.hasClass(e.target.parentNode, n)) &&
                  t.close();
              }),
              t.on("cancel", function() {
                t.close();
              }),
              t.on("move", function(e) {
                e.control === t && Et.hideAll();
              }),
              t.aria("describedby", t.describedBy || t._id + "-none"),
              t.aria("label", e.title),
              (t._fullscreen = !1);
          },
          recalc: function() {
            var e,
              t,
              n,
              r,
              o = this.statusbar;
            this._fullscreen &&
              (this.layoutRect(Ce.getWindowSize()),
              (this.layoutRect().contentH = this.layoutRect().innerH)),
              this._super(),
              (e = this.layoutRect()),
              this.settings.title &&
                !this._fullscreen &&
                (t = e.headerW) > e.w &&
                ((n = e.x - Math.max(0, t / 2)),
                this.layoutRect({ w: t, x: n }),
                (r = !0)),
              o &&
                (o.layoutRect({ w: this.layoutRect().innerW }).recalc(),
                (t = o.layoutRect().minW + e.deltaW) > e.w &&
                  ((n = e.x - Math.max(0, t - e.w)),
                  this.layoutRect({ w: t, x: n }),
                  (r = !0))),
              r && this.recalc();
          },
          initLayoutRect: function() {
            var e,
              t = this._super(),
              n = 0;
            if (this.settings.title && !this._fullscreen) {
              e = this.getEl("head");
              var r = Ce.getSize(e);
              (t.headerW = r.width), (t.headerH = r.height), (n += t.headerH);
            }
            this.statusbar && (n += this.statusbar.layoutRect().h),
              (t.deltaH += n),
              (t.minH += n),
              (t.h += n);
            var o = Ce.getWindowSize();
            return (
              (t.x = this.settings.x || Math.max(0, o.w / 2 - t.w / 2)),
              (t.y = this.settings.y || Math.max(0, o.h / 2 - t.h / 2)),
              t
            );
          },
          renderHtml: function() {
            var e = this._layout,
              t = this._id,
              n = this.classPrefix,
              r = this.settings,
              o = "",
              i = "",
              a = r.html;
            return (
              this.preRender(),
              e.preRender(this),
              r.title &&
                (o =
                  '<div id="' +
                  t +
                  '-head" class="' +
                  n +
                  'window-head"><div id="' +
                  t +
                  '-title" class="' +
                  n +
                  'title">' +
                  this.encode(r.title) +
                  '</div><div id="' +
                  t +
                  '-dragh" class="' +
                  n +
                  'dragh"></div><button type="button" class="' +
                  n +
                  'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),
              r.url &&
                (a = '<iframe src="' + r.url + '" tabindex="-1"></iframe>'),
              void 0 === a && (a = e.renderHtml(this)),
              this.statusbar && (i = this.statusbar.renderHtml()),
              '<div id="' +
                t +
                '" class="' +
                this.classes +
                '" hidefocus="1"><div class="' +
                this.classPrefix +
                'reset" role="application">' +
                o +
                '<div id="' +
                t +
                '-body" class="' +
                this.bodyClasses +
                '">' +
                a +
                "</div>" +
                i +
                "</div></div>"
            );
          },
          fullscreen: function(t) {
            var n,
              r,
              o = this,
              i = e.document.documentElement,
              a = o.classPrefix;
            if (t !== o._fullscreen)
              if (
                (we(e.window).on("resize", function() {
                  var e;
                  if (o._fullscreen)
                    if (n)
                      o._timer ||
                        (o._timer = S.setTimeout(function() {
                          var e = Ce.getWindowSize();
                          o.moveTo(0, 0).resizeTo(e.w, e.h), (o._timer = 0);
                        }, 50));
                    else {
                      e = new Date().getTime();
                      var t = Ce.getWindowSize();
                      o.moveTo(0, 0).resizeTo(t.w, t.h),
                        new Date().getTime() - e > 50 && (n = !0);
                    }
                }),
                (r = o.layoutRect()),
                (o._fullscreen = t),
                t)
              ) {
                (o._initial = { x: r.x, y: r.y, w: r.w, h: r.h }),
                  (o.borderBox = Oe("0")),
                  (o.getEl("head").style.display = "none"),
                  (r.deltaH -= r.headerH + 2),
                  we([i, e.document.body]).addClass(a + "fullscreen"),
                  o.classes.add("fullscreen");
                var u = Ce.getWindowSize();
                o.moveTo(0, 0).resizeTo(u.w, u.h);
              } else
                (o.borderBox = Oe(o.settings.border)),
                  (o.getEl("head").style.display = ""),
                  (r.deltaH += r.headerH),
                  we([i, e.document.body]).removeClass(a + "fullscreen"),
                  o.classes.remove("fullscreen"),
                  o
                    .moveTo(o._initial.x, o._initial.y)
                    .resizeTo(o._initial.w, o._initial.h);
            return o.reflow();
          },
          postRender: function() {
            var e,
              t = this;
            setTimeout(function() {
              t.classes.add("in"), t.fire("open");
            }, 0),
              t._super(),
              t.statusbar && t.statusbar.postRender(),
              t.focus(),
              (this.dragHelper = new lt(t._id + "-dragh", {
                start: function() {
                  e = { x: t.layoutRect().x, y: t.layoutRect().y };
                },
                drag: function(n) {
                  t.moveTo(e.x + n.deltaX, e.y + n.deltaY);
                }
              })),
              t.on("submit", function(e) {
                e.isDefaultPrevented() || t.close();
              }),
              Lt.push(t),
              Ht(!0);
          },
          submit: function() {
            return this.fire("submit", { data: this.toJSON() });
          },
          remove: function() {
            var e;
            for (
              this.dragHelper.destroy(),
                this._super(),
                this.statusbar && this.statusbar.remove(),
                zt(this.classPrefix, !1),
                e = Lt.length;
              e--;

            )
              Lt[e] === this && Lt.splice(e, 1);
            Ht(Lt.length > 0);
          },
          getContentWindow: function() {
            var e = this.getEl().getElementsByTagName("iframe")[0];
            return e ? e.contentWindow : null;
          }
        });
        !(function() {
          if (!le.desktop) {
            var t = { w: e.window.innerWidth, h: e.window.innerHeight };
            S.setInterval(function() {
              var n = e.window.innerWidth,
                r = e.window.innerHeight;
              (t.w === n && t.h === r) ||
                ((t = { w: n, h: r }), we(e.window).trigger("resize"));
            }, 100);
          }
          we(e.window).on("resize", function() {
            var e,
              t,
              n = Ce.getWindowSize();
            for (e = 0; e < Lt.length; e++)
              (t = Lt[e].layoutRect()),
                Lt[e].moveTo(
                  Lt[e].settings.x || Math.max(0, n.w / 2 - t.w / 2),
                  Lt[e].settings.y || Math.max(0, n.h / 2 - t.h / 2)
                );
          });
        })();
        var Ut,
          jt,
          Vt,
          qt = Wt.extend({
            init: function(e) {
              (e = {
                border: 1,
                padding: 20,
                layout: "flex",
                pack: "center",
                align: "center",
                containerCls: "panel",
                autoScroll: !0,
                buttons: { type: "button", text: "Ok", action: "ok" },
                items: {
                  type: "label",
                  multiline: !0,
                  maxWidth: 500,
                  maxHeight: 200
                }
              }),
                this._super(e);
            },
            Statics: {
              OK: 1,
              OK_CANCEL: 2,
              YES_NO: 3,
              YES_NO_CANCEL: 4,
              msgBox: function(t) {
                var n,
                  r = t.callback || function() {};
                function o(e, t, n) {
                  return {
                    type: "button",
                    text: e,
                    subtype: n ? "primary" : "",
                    onClick: function(e) {
                      e.control.parents()[1].close(), r(t);
                    }
                  };
                }
                switch (t.buttons) {
                  case qt.OK_CANCEL:
                    n = [o("Ok", !0, !0), o("Cancel", !1)];
                    break;
                  case qt.YES_NO:
                  case qt.YES_NO_CANCEL:
                    (n = [o("Yes", 1, !0), o("No", 0)]),
                      t.buttons === qt.YES_NO_CANCEL && n.push(o("Cancel", -1));
                    break;
                  default:
                    n = [o("Ok", !0, !0)];
                }
                return new Wt({
                  padding: 20,
                  x: t.x,
                  y: t.y,
                  minWidth: 300,
                  minHeight: 100,
                  layout: "flex",
                  pack: "center",
                  align: "center",
                  buttons: n,
                  title: t.title,
                  role: "alertdialog",
                  items: {
                    type: "label",
                    multiline: !0,
                    maxWidth: 500,
                    maxHeight: 200,
                    text: t.text
                  },
                  onPostRender: function() {
                    this.aria("describedby", this.items()[0]._id);
                  },
                  onClose: t.onClose,
                  onCancel: function() {
                    r(!1);
                  }
                })
                  .renderTo(e.document.body)
                  .reflow();
              },
              alert: function(e, t) {
                return (
                  "string" == typeof e && (e = { text: e }),
                  (e.callback = t),
                  qt.msgBox(e)
                );
              },
              confirm: function(e, t) {
                return (
                  "string" == typeof e && (e = { text: e }),
                  (e.callback = t),
                  (e.buttons = qt.OK_CANCEL),
                  qt.msgBox(e)
                );
              }
            }
          }),
          $t = function(t) {
            return {
              renderUI: function(e) {
                return Dt(t, this, e);
              },
              resizeTo: function(e, n) {
                return se(t, e, n);
              },
              resizeBy: function(e, n) {
                return ce(t, e, n);
              },
              getNotificationManagerImpl: function() {
                return Mt(t);
              },
              getWindowManagerImpl: function() {
                return {
                  open: function(t, n, r) {
                    var o;
                    return (
                      (t.title = t.title || " "),
                      (t.url = t.url || t.file),
                      t.url &&
                        ((t.width = parseInt(t.width || 320, 10)),
                        (t.height = parseInt(t.height || 240, 10))),
                      t.body &&
                        (t.items = {
                          defaults: t.defaults,
                          type: t.bodyType || "form",
                          items: t.body,
                          data: t.data,
                          callbacks: t.commands
                        }),
                      t.url ||
                        t.buttons ||
                        (t.buttons = [
                          {
                            text: "Ok",
                            subtype: "primary",
                            onclick: function() {
                              o.find("form")[0].submit();
                            }
                          },
                          {
                            text: "Cancel",
                            onclick: function() {
                              o.close();
                            }
                          }
                        ]),
                      (o = new Wt(t)).on("close", function() {
                        r(o);
                      }),
                      t.data &&
                        o.on("postRender", function() {
                          this.find("*").each(function(e) {
                            var n = e.name();
                            n in t.data && e.value(t.data[n]);
                          });
                        }),
                      (o.features = t || {}),
                      (o.params = n || {}),
                      (o = o.renderTo(e.document.body).reflow())
                    );
                  },
                  alert: function(e, t, n) {
                    var r;
                    return (
                      (r = qt.alert(e, function() {
                        t();
                      })).on("close", function() {
                        n(r);
                      }),
                      r
                    );
                  },
                  confirm: function(e, t, n) {
                    var r;
                    return (
                      (r = qt.confirm(e, function(e) {
                        t(e);
                      })).on("close", function() {
                        n(r);
                      }),
                      r
                    );
                  },
                  close: function(e) {
                    e.close();
                  },
                  getParams: function(e) {
                    return e.params;
                  },
                  setParams: function(e, t) {
                    e.params = t;
                  }
                };
              }
            };
          },
          Kt = Re.extend({
            Defaults: { firstControlClass: "first", lastControlClass: "last" },
            init: function(e) {
              this.settings = u.extend({}, this.Defaults, e);
            },
            preRender: function(e) {
              e.bodyClasses.add(this.settings.containerClass);
            },
            applyClasses: function(e) {
              var t,
                n,
                r,
                o,
                i = this.settings;
              (t = i.firstControlClass),
                (n = i.lastControlClass),
                e.each(function(e) {
                  e.classes
                    .remove(t)
                    .remove(n)
                    .add(i.controlClass),
                    e.visible() && (r || (r = e), (o = e));
                }),
                r && r.classes.add(t),
                o && o.classes.add(n);
            },
            renderHtml: function(e) {
              var t = "";
              return (
                this.applyClasses(e.items()),
                e.items().each(function(e) {
                  t += e.renderHtml();
                }),
                t
              );
            },
            recalc: function() {},
            postRender: function() {},
            isNative: function() {
              return !1;
            }
          }),
          Yt = Kt.extend({
            Defaults: {
              containerClass: "abs-layout",
              controlClass: "abs-layout-item"
            },
            recalc: function(e) {
              e.items()
                .filter(":visible")
                .each(function(e) {
                  var t = e.settings;
                  e.layoutRect({ x: t.x, y: t.y, w: t.w, h: t.h }),
                    e.recalc && e.recalc();
                });
            },
            renderHtml: function(e) {
              return (
                '<div id="' +
                e._id +
                '-absend" class="' +
                e.classPrefix +
                'abs-end"></div>' +
                this._super(e)
              );
            }
          }),
          Xt = At.extend({
            Defaults: { classes: "widget btn", role: "button" },
            init: function(e) {
              var t,
                n = this;
              n._super(e),
                (e = n.settings),
                (t = n.settings.size),
                n.on("click mousedown", function(e) {
                  e.preventDefault();
                }),
                n.on("touchstart", function(e) {
                  n.fire("click", e), e.preventDefault();
                }),
                e.subtype && n.classes.add(e.subtype),
                t && n.classes.add("btn-" + t),
                e.icon && n.icon(e.icon);
            },
            icon: function(e) {
              return arguments.length
                ? (this.state.set("icon", e), this)
                : this.state.get("icon");
            },
            repaint: function() {
              var e,
                t = this.getEl().firstChild;
              t && ((e = t.style).width = e.height = "100%"), this._super();
            },
            renderHtml: function() {
              var t,
                n,
                r = this._id,
                o = this.classPrefix,
                i = this.state.get("icon"),
                a = this.state.get("text"),
                u = "",
                s = this.settings;
              return (
                (t = s.image)
                  ? ((i = "none"),
                    "string" != typeof t &&
                      (t = e.window.getSelection ? t[0] : t[1]),
                    (t = " style=\"background-image: url('" + t + "')\""))
                  : (t = ""),
                a &&
                  (this.classes.add("btn-has-text"),
                  (u =
                    '<span class="' +
                    o +
                    'txt">' +
                    this.encode(a) +
                    "</span>")),
                (i = i ? o + "ico " + o + "i-" + i : ""),
                (n =
                  "boolean" == typeof s.active
                    ? ' aria-pressed="' + s.active + '"'
                    : ""),
                '<div id="' +
                  r +
                  '" class="' +
                  this.classes +
                  '" tabindex="-1"' +
                  n +
                  '><button id="' +
                  r +
                  '-button" role="presentation" type="button" tabindex="-1">' +
                  (i ? '<i class="' + i + '"' + t + "></i>" : "") +
                  u +
                  "</button></div>"
              );
            },
            bindStates: function() {
              var t = this,
                n = t.$,
                r = t.classPrefix + "txt";
              function o(e) {
                var o = n("span." + r, t.getEl());
                e
                  ? (o[0] ||
                      (n("button:first", t.getEl()).append(
                        '<span class="' + r + '"></span>'
                      ),
                      (o = n("span." + r, t.getEl()))),
                    o.html(t.encode(e)))
                  : o.remove(),
                  t.classes.toggle("btn-has-text", !!e);
              }
              return (
                t.state.on("change:text", function(e) {
                  o(e.value);
                }),
                t.state.on("change:icon", function(n) {
                  var r = n.value,
                    i = t.classPrefix;
                  (t.settings.icon = r),
                    (r = r ? i + "ico " + i + "i-" + t.settings.icon : "");
                  var a = t.getEl().firstChild,
                    u = a.getElementsByTagName("i")[0];
                  r
                    ? ((u && u === a.firstChild) ||
                        ((u = e.document.createElement("i")),
                        a.insertBefore(u, a.firstChild)),
                      (u.className = r))
                    : u && a.removeChild(u),
                    o(t.state.get("text"));
                }),
                t._super()
              );
            }
          }),
          Gt = Xt.extend({
            init: function(e) {
              (e = u.extend(
                { text: "Browse...", multiple: !1, accept: null },
                e
              )),
                this._super(e),
                this.classes.add("browsebutton"),
                e.multiple && this.classes.add("multiple");
            },
            postRender: function() {
              var e = this,
                t = Ce.create("input", {
                  type: "file",
                  id: e._id + "-browse",
                  accept: e.settings.accept
                });
              e._super(),
                we(t).on("change", function(t) {
                  var n = t.target.files;
                  (e.value = function() {
                    return n.length ? (e.settings.multiple ? n : n[0]) : null;
                  }),
                    t.preventDefault(),
                    n.length && e.fire("change", t);
                }),
                we(t).on("click", function(e) {
                  e.stopPropagation();
                }),
                we(e.getEl("button")).on("click touchstart", function(e) {
                  e.stopPropagation(), t.click(), e.preventDefault();
                }),
                e.getEl().appendChild(t);
            },
            remove: function() {
              we(this.getEl("button")).off(),
                we(this.getEl("input")).off(),
                this._super();
            }
          }),
          Jt = st.extend({
            Defaults: { defaultType: "button", role: "group" },
            renderHtml: function() {
              var e = this._layout;
              return (
                this.classes.add("btn-group"),
                this.preRender(),
                e.preRender(this),
                '<div id="' +
                  this._id +
                  '" class="' +
                  this.classes +
                  '"><div id="' +
                  this._id +
                  '-body">' +
                  (this.settings.html || "") +
                  e.renderHtml(this) +
                  "</div></div>"
              );
            }
          }),
          Qt = At.extend({
            Defaults: { classes: "checkbox", role: "checkbox", checked: !1 },
            init: function(e) {
              var t = this;
              t._super(e),
                t.on("click mousedown", function(e) {
                  e.preventDefault();
                }),
                t.on("click", function(e) {
                  e.preventDefault(), t.disabled() || t.checked(!t.checked());
                }),
                t.checked(t.settings.checked);
            },
            checked: function(e) {
              return arguments.length
                ? (this.state.set("checked", e), this)
                : this.state.get("checked");
            },
            value: function(e) {
              return arguments.length ? this.checked(e) : this.checked();
            },
            renderHtml: function() {
              var e = this._id,
                t = this.classPrefix;
              return (
                '<div id="' +
                e +
                '" class="' +
                this.classes +
                '" unselectable="on" aria-labelledby="' +
                e +
                '-al" tabindex="-1"><i class="' +
                t +
                "ico " +
                t +
                'i-checkbox"></i><span id="' +
                e +
                '-al" class="' +
                t +
                'label">' +
                this.encode(this.state.get("text")) +
                "</span></div>"
              );
            },
            bindStates: function() {
              var t = this;
              function n(e) {
                t.classes.toggle("checked", e), t.aria("checked", e);
              }
              return (
                t.state.on("change:text", function(e) {
                  t.getEl("al").firstChild.data = t.translate(e.value);
                }),
                t.state.on("change:checked change:value", function(e) {
                  t.fire("change"), n(e.value);
                }),
                t.state.on("change:icon", function(n) {
                  var r = n.value,
                    o = t.classPrefix;
                  if (void 0 === r) return t.settings.icon;
                  (t.settings.icon = r),
                    (r = r ? o + "ico " + o + "i-" + t.settings.icon : "");
                  var i = t.getEl().firstChild,
                    a = i.getElementsByTagName("i")[0];
                  r
                    ? ((a && a === i.firstChild) ||
                        ((a = e.document.createElement("i")),
                        i.insertBefore(a, i.firstChild)),
                      (a.className = r))
                    : a && i.removeChild(a);
                }),
                t.state.get("checked") && n(!0),
                t._super()
              );
            }
          }),
          Zt = tinymce.util.Tools.resolve("tinymce.util.VK"),
          en = At.extend({
            init: function(e) {
              var t = this;
              t._super(e),
                (e = t.settings),
                t.classes.add("combobox"),
                (t.subinput = !0),
                (t.ariaTarget = "inp"),
                (e.menu = e.menu || e.values),
                e.menu && (e.icon = "caret"),
                t.on("click", function(n) {
                  var r = n.target,
                    o = t.getEl();
                  if (we.contains(o, r) || r === o)
                    for (; r && r !== o; )
                      r.id &&
                        -1 !== r.id.indexOf("-open") &&
                        (t.fire("action"),
                        e.menu &&
                          (t.showMenu(), n.aria && t.menu.items()[0].focus())),
                        (r = r.parentNode);
                }),
                t.on("keydown", function(e) {
                  var n;
                  13 === e.keyCode &&
                    "INPUT" === e.target.nodeName &&
                    (e.preventDefault(),
                    t
                      .parents()
                      .reverse()
                      .each(function(e) {
                        if (e.toJSON) return (n = e), !1;
                      }),
                    t.fire("submit", { data: n.toJSON() }));
                }),
                t.on("keyup", function(e) {
                  if ("INPUT" === e.target.nodeName) {
                    var n = t.state.get("value"),
                      r = e.target.value;
                    r !== n &&
                      (t.state.set("value", r), t.fire("autocomplete", e));
                  }
                }),
                t.on("mouseover", function(e) {
                  var n = t.tooltip().moveTo(-65535);
                  if (
                    t.statusLevel() &&
                    -1 !== e.target.className.indexOf(t.classPrefix + "status")
                  ) {
                    var r = t.statusMessage() || "Ok",
                      o = n
                        .text(r)
                        .show()
                        .testMoveRel(e.target, ["bc-tc", "bc-tl", "bc-tr"]);
                    n.classes.toggle("tooltip-n", "bc-tc" === o),
                      n.classes.toggle("tooltip-nw", "bc-tl" === o),
                      n.classes.toggle("tooltip-ne", "bc-tr" === o),
                      n.moveRel(e.target, o);
                  }
                });
            },
            statusLevel: function(e) {
              return (
                arguments.length > 0 && this.state.set("statusLevel", e),
                this.state.get("statusLevel")
              );
            },
            statusMessage: function(e) {
              return (
                arguments.length > 0 && this.state.set("statusMessage", e),
                this.state.get("statusMessage")
              );
            },
            showMenu: function() {
              var e,
                t = this,
                n = t.settings;
              t.menu ||
                ((e = n.menu || []).length
                  ? (e = { type: "menu", items: e })
                  : (e.type = e.type || "menu"),
                (t.menu = g
                  .create(e)
                  .parent(t)
                  .renderTo(t.getContainerElm())),
                t.fire("createmenu"),
                t.menu.reflow(),
                t.menu.on("cancel", function(e) {
                  e.control === t.menu && t.focus();
                }),
                t.menu
                  .on("show hide", function(e) {
                    e.control.items().each(function(e) {
                      e.active(e.value() === t.value());
                    });
                  })
                  .fire("show"),
                t.menu.on("select", function(e) {
                  t.value(e.control.value());
                }),
                t.on("focusin", function(e) {
                  "INPUT" === e.target.tagName.toUpperCase() && t.menu.hide();
                }),
                t.aria("expanded", !0)),
                t.menu.show(),
                t.menu.layoutRect({ w: t.layoutRect().w }),
                t.menu.moveRel(
                  t.getEl(),
                  t.isRtl() ? ["br-tr", "tr-br"] : ["bl-tl", "tl-bl"]
                );
            },
            focus: function() {
              this.getEl("inp").focus();
            },
            repaint: function() {
              var t,
                n,
                r = this.getEl(),
                o = this.getEl("open"),
                i = this.layoutRect(),
                a = 0,
                u = r.firstChild;
              this.statusLevel() &&
                "none" !== this.statusLevel() &&
                (a =
                  parseInt(Ce.getRuntimeStyle(u, "padding-right"), 10) -
                  parseInt(Ce.getRuntimeStyle(u, "padding-left"), 10)),
                (t = o ? i.w - Ce.getSize(o).width - 10 : i.w - 10);
              var s = e.document;
              return (
                s.all &&
                  (!s.documentMode || s.documentMode <= 8) &&
                  (n = this.layoutRect().h - 2 + "px"),
                we(u).css({ width: t - a, lineHeight: n }),
                this._super(),
                this
              );
            },
            postRender: function() {
              var e = this;
              return (
                we(this.getEl("inp")).on("change", function(t) {
                  e.state.set("value", t.target.value), e.fire("change", t);
                }),
                e._super()
              );
            },
            renderHtml: function() {
              var e,
                t,
                n,
                r = this._id,
                o = this.settings,
                i = this.classPrefix,
                a = this.state.get("value") || "",
                u = "",
                s = "";
              return (
                "spellcheck" in o &&
                  (s += ' spellcheck="' + o.spellcheck + '"'),
                o.maxLength && (s += ' maxlength="' + o.maxLength + '"'),
                o.size && (s += ' size="' + o.size + '"'),
                o.subtype && (s += ' type="' + o.subtype + '"'),
                (n =
                  '<i id="' +
                  r +
                  '-status" class="mce-status mce-ico" style="display: none"></i>'),
                this.disabled() && (s += ' disabled="disabled"'),
                (e = o.icon) &&
                  "caret" !== e &&
                  (e = i + "ico " + i + "i-" + o.icon),
                (t = this.state.get("text")),
                (e || t) &&
                  ((u =
                    '<div id="' +
                    r +
                    '-open" class="' +
                    i +
                    "btn " +
                    i +
                    'open" tabIndex="-1" role="button"><button id="' +
                    r +
                    '-action" type="button" hidefocus="1" tabindex="-1">' +
                    ("caret" !== e
                      ? '<i class="' + e + '"></i>'
                      : '<i class="' + i + 'caret"></i>') +
                    (t ? (e ? " " : "") + t : "") +
                    "</button></div>"),
                  this.classes.add("has-open")),
                '<div id="' +
                  r +
                  '" class="' +
                  this.classes +
                  '"><input id="' +
                  r +
                  '-inp" class="' +
                  i +
                  'textbox" value="' +
                  this.encode(a, !1) +
                  '" hidefocus="1"' +
                  s +
                  ' placeholder="' +
                  this.encode(o.placeholder) +
                  '" />' +
                  n +
                  u +
                  "</div>"
              );
            },
            value: function(e) {
              return arguments.length
                ? (this.state.set("value", e), this)
                : (this.state.get("rendered") &&
                    this.state.set("value", this.getEl("inp").value),
                  this.state.get("value"));
            },
            showAutoComplete: function(e, t) {
              var n = this;
              if (0 !== e.length) {
                n.menu
                  ? n.menu.items().remove()
                  : (n.menu = g
                      .create({
                        type: "menu",
                        classes: "combobox-menu",
                        layout: "flow"
                      })
                      .parent(n)
                      .renderTo()),
                  u.each(e, function(e) {
                    var r, o;
                    n.menu.add({
                      text: e.title,
                      url: e.previewUrl,
                      match: t,
                      classes: "menu-item-ellipsis",
                      onclick:
                        ((r = e.value),
                        (o = e.title),
                        function() {
                          n.fire("selectitem", { title: o, value: r });
                        })
                    });
                  }),
                  n.menu.renderNew(),
                  n.hideMenu(),
                  n.menu.on("cancel", function(e) {
                    e.control.parent() === n.menu &&
                      (e.stopPropagation(), n.focus(), n.hideMenu());
                  }),
                  n.menu.on("select", function() {
                    n.focus();
                  });
                var r = n.layoutRect().w;
                n.menu.layoutRect({ w: r, minW: 0, maxW: r }),
                  n.menu.repaint(),
                  n.menu.reflow(),
                  n.menu.show(),
                  n.menu.moveRel(
                    n.getEl(),
                    n.isRtl() ? ["br-tr", "tr-br"] : ["bl-tl", "tl-bl"]
                  );
              } else n.hideMenu();
            },
            hideMenu: function() {
              this.menu && this.menu.hide();
            },
            bindStates: function() {
              var e = this;
              e.state.on("change:value", function(t) {
                e.getEl("inp").value !== t.value &&
                  (e.getEl("inp").value = t.value);
              }),
                e.state.on("change:disabled", function(t) {
                  e.getEl("inp").disabled = t.value;
                }),
                e.state.on("change:statusLevel", function(t) {
                  var n = e.getEl("status"),
                    r = e.classPrefix,
                    o = t.value;
                  Ce.css(n, "display", "none" === o ? "none" : ""),
                    Ce.toggleClass(n, r + "i-checkmark", "ok" === o),
                    Ce.toggleClass(n, r + "i-warning", "warn" === o),
                    Ce.toggleClass(n, r + "i-error", "error" === o),
                    e.classes.toggle("has-status", "none" !== o),
                    e.repaint();
                }),
                Ce.on(e.getEl("status"), "mouseleave", function() {
                  e.tooltip().hide();
                }),
                e.on("cancel", function(t) {
                  e.menu &&
                    e.menu.visible() &&
                    (t.stopPropagation(), e.hideMenu());
                });
              var t = function(e, t) {
                t &&
                  t.items().length > 0 &&
                  t
                    .items()
                    .eq(e)[0]
                    .focus();
              };
              return (
                e.on("keydown", function(n) {
                  var r = n.keyCode;
                  "INPUT" === n.target.nodeName &&
                    (r === Zt.DOWN
                      ? (n.preventDefault(),
                        e.fire("autocomplete"),
                        t(0, e.menu))
                      : r === Zt.UP && (n.preventDefault(), t(-1, e.menu)));
                }),
                e._super()
              );
            },
            remove: function() {
              we(this.getEl("inp")).off(),
                this.menu && this.menu.remove(),
                this._super();
            }
          }),
          tn = en.extend({
            init: function(e) {
              var t = this;
              (e.spellcheck = !1),
                e.onaction && (e.icon = "none"),
                t._super(e),
                t.classes.add("colorbox"),
                t.on("change keyup postrender", function() {
                  t.repaintColor(t.value());
                });
            },
            repaintColor: function(e) {
              var t = this.getEl("open"),
                n = t ? t.getElementsByTagName("i")[0] : null;
              if (n)
                try {
                  n.style.background = e;
                } catch (e) {}
            },
            bindStates: function() {
              var e = this;
              return (
                e.state.on("change:value", function(t) {
                  e.state.get("rendered") && e.repaintColor(t.value);
                }),
                e._super()
              );
            }
          }),
          nn = Xt.extend({
            showPanel: function() {
              var e = this,
                t = e.settings;
              if ((e.classes.add("opened"), e.panel)) e.panel.show();
              else {
                var n = t.panel;
                n.type && (n = { layout: "grid", items: n }),
                  (n.role = n.role || "dialog"),
                  (n.popover = !0),
                  (n.autohide = !0),
                  (n.ariaRoot = !0),
                  (e.panel = new Et(n)
                    .on("hide", function() {
                      e.classes.remove("opened");
                    })
                    .on("cancel", function(t) {
                      t.stopPropagation(), e.focus(), e.hidePanel();
                    })
                    .parent(e)
                    .renderTo(e.getContainerElm())),
                  e.panel.fire("show"),
                  e.panel.reflow();
              }
              var r = e.panel.testMoveRel(
                e.getEl(),
                t.popoverAlign ||
                  (e.isRtl()
                    ? ["bc-tc", "bc-tl", "bc-tr"]
                    : ["bc-tc", "bc-tr", "bc-tl", "tc-bc", "tc-br", "tc-bl"])
              );
              e.panel.classes.toggle("start", "l" === r.substr(-1)),
                e.panel.classes.toggle("end", "r" === r.substr(-1));
              var o = "t" === r.substr(0, 1);
              e.panel.classes.toggle("bottom", !o),
                e.panel.classes.toggle("top", o),
                e.panel.moveRel(e.getEl(), r);
            },
            hidePanel: function() {
              this.panel && this.panel.hide();
            },
            postRender: function() {
              var e = this;
              return (
                e.aria("haspopup", !0),
                e.on("click", function(t) {
                  t.control === e &&
                    (e.panel && e.panel.visible()
                      ? e.hidePanel()
                      : (e.showPanel(), e.panel.focus(!!t.aria)));
                }),
                e._super()
              );
            },
            remove: function() {
              return (
                this.panel && (this.panel.remove(), (this.panel = null)),
                this._super()
              );
            }
          }),
          rn = h.DOM,
          on = nn.extend({
            init: function(e) {
              this._super(e),
                this.classes.add("splitbtn"),
                this.classes.add("colorbutton");
            },
            color: function(e) {
              return e
                ? ((this._color = e),
                  (this.getEl("preview").style.backgroundColor = e),
                  this)
                : this._color;
            },
            resetColor: function() {
              return (
                (this._color = null),
                (this.getEl("preview").style.backgroundColor = null),
                this
              );
            },
            renderHtml: function() {
              var e = this._id,
                t = this.classPrefix,
                n = this.state.get("text"),
                r = this.settings.icon
                  ? t + "ico " + t + "i-" + this.settings.icon
                  : "",
                o = this.settings.image
                  ? " style=\"background-image: url('" +
                    this.settings.image +
                    "')\""
                  : "",
                i = "";
              return (
                n &&
                  (this.classes.add("btn-has-text"),
                  (i =
                    '<span class="' +
                    t +
                    'txt">' +
                    this.encode(n) +
                    "</span>")),
                '<div id="' +
                  e +
                  '" class="' +
                  this.classes +
                  '" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">' +
                  (r ? '<i class="' + r + '"' + o + "></i>" : "") +
                  '<span id="' +
                  e +
                  '-preview" class="' +
                  t +
                  'preview"></span>' +
                  i +
                  '</button><button type="button" class="' +
                  t +
                  'open" hidefocus="1" tabindex="-1"> <i class="' +
                  t +
                  'caret"></i></button></div>'
              );
            },
            postRender: function() {
              var e = this,
                t = e.settings.onclick;
              return (
                e.on("click", function(n) {
                  (n.aria && "down" === n.aria.key) ||
                    n.control !== e ||
                    rn.getParent(n.target, "." + e.classPrefix + "open") ||
                    (n.stopImmediatePropagation(), t.call(e, n));
                }),
                delete e.settings.onclick,
                e._super()
              );
            }
          }),
          an = tinymce.util.Tools.resolve("tinymce.util.Color"),
          un = At.extend({
            Defaults: { classes: "widget colorpicker" },
            init: function(e) {
              this._super(e);
            },
            postRender: function() {
              var e,
                t,
                n,
                r,
                o,
                i = this,
                a = i.color();
              function u(e, t) {
                var n,
                  r,
                  o = Ce.getPos(e);
                return (
                  (n = t.pageX - o.x),
                  (r = t.pageY - o.y),
                  {
                    x: (n = Math.max(0, Math.min(n / e.clientWidth, 1))),
                    y: (r = Math.max(0, Math.min(r / e.clientHeight, 1)))
                  }
                );
              }
              function s(e, t) {
                var a = (360 - e.h) / 360;
                Ce.css(n, { top: 100 * a + "%" }),
                  t || Ce.css(o, { left: e.s + "%", top: 100 - e.v + "%" }),
                  (r.style.background = an({ s: 100, v: 100, h: e.h }).toHex()),
                  i.color().parse({ s: e.s, v: e.v, h: e.h });
              }
              function c(t) {
                var n;
                (n = u(r, t)),
                  (e.s = 100 * n.x),
                  (e.v = 100 * (1 - n.y)),
                  s(e),
                  i.fire("change");
              }
              function l(n) {
                var r;
                (r = u(t, n)),
                  ((e = a.toHsv()).h = 360 * (1 - r.y)),
                  s(e, !0),
                  i.fire("change");
              }
              (t = i.getEl("h")),
                (n = i.getEl("hp")),
                (r = i.getEl("sv")),
                (o = i.getEl("svp")),
                (i._repaint = function() {
                  s((e = a.toHsv()));
                }),
                i._super(),
                (i._svdraghelper = new lt(i._id + "-sv", {
                  start: c,
                  drag: c
                })),
                (i._hdraghelper = new lt(i._id + "-h", { start: l, drag: l })),
                i._repaint();
            },
            rgb: function() {
              return this.color().toRgb();
            },
            value: function(e) {
              var t = this;
              if (!arguments.length) return t.color().toHex();
              t.color().parse(e), t._rendered && t._repaint();
            },
            color: function() {
              return this._color || (this._color = an()), this._color;
            },
            renderHtml: function() {
              var e,
                t = this._id,
                n = this.classPrefix,
                r =
                  "#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";
              return (
                (e =
                  '<div id="' +
                  t +
                  '-h" class="' +
                  n +
                  'colorpicker-h" style="background: -ms-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);background: linear-gradient(to bottom,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);">' +
                  (function() {
                    var e,
                      t,
                      o,
                      i,
                      a = "";
                    for (
                      o =
                        "filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",
                        e = 0,
                        t = (i = r.split(",")).length - 1;
                      e < t;
                      e++
                    )
                      a +=
                        '<div class="' +
                        n +
                        'colorpicker-h-chunk" style="height:' +
                        100 / t +
                        "%;" +
                        o +
                        i[e] +
                        ",endColorstr=" +
                        i[e + 1] +
                        ");-ms-" +
                        o +
                        i[e] +
                        ",endColorstr=" +
                        i[e + 1] +
                        ')"></div>';
                    return a;
                  })() +
                  '<div id="' +
                  t +
                  '-hp" class="' +
                  n +
                  'colorpicker-h-marker"></div></div>'),
                '<div id="' +
                  t +
                  '" class="' +
                  this.classes +
                  '"><div id="' +
                  t +
                  '-sv" class="' +
                  n +
                  'colorpicker-sv"><div class="' +
                  n +
                  'colorpicker-overlay1"><div class="' +
                  n +
                  'colorpicker-overlay2"><div id="' +
                  t +
                  '-svp" class="' +
                  n +
                  'colorpicker-selector1"><div class="' +
                  n +
                  'colorpicker-selector2"></div></div></div></div></div>' +
                  e +
                  "</div>"
              );
            }
          }),
          sn = At.extend({
            init: function(e) {
              (e = u.extend(
                {
                  height: 100,
                  text: "Drop an image here",
                  multiple: !1,
                  accept: null
                },
                e
              )),
                this._super(e),
                this.classes.add("dropzone"),
                e.multiple && this.classes.add("multiple");
            },
            renderHtml: function() {
              var e,
                t,
                n = this.settings;
              return (
                (e = { id: this._id, hidefocus: "1" }),
                (t = Ce.create(
                  "div",
                  e,
                  "<span>" + this.translate(n.text) + "</span>"
                )),
                n.height && Ce.css(t, "height", n.height + "px"),
                n.width && Ce.css(t, "width", n.width + "px"),
                (t.className = this.classes),
                t.outerHTML
              );
            },
            postRender: function() {
              var e = this,
                t = function(t) {
                  t.preventDefault(),
                    e.classes.toggle("dragenter"),
                    (e.getEl().className = e.classes);
                };
              e._super(),
                e.$el.on("dragover", function(e) {
                  e.preventDefault();
                }),
                e.$el.on("dragenter", t),
                e.$el.on("dragleave", t),
                e.$el.on("drop", function(t) {
                  if ((t.preventDefault(), !e.state.get("disabled"))) {
                    var n = (function(t) {
                      var n = e.settings.accept;
                      if ("string" != typeof n) return t;
                      var r = new RegExp(
                        "(" + n.split(/\s*,\s*/).join("|") + ")$",
                        "i"
                      );
                      return u.grep(t, function(e) {
                        return r.test(e.name);
                      });
                    })(t.dataTransfer.files);
                    (e.value = function() {
                      return n.length ? (e.settings.multiple ? n : n[0]) : null;
                    }),
                      n.length && e.fire("change", t);
                  }
                });
            },
            remove: function() {
              this.$el.off(), this._super();
            }
          }),
          cn = At.extend({
            init: function(e) {
              var t = this;
              e.delimiter || (e.delimiter = "»"),
                t._super(e),
                t.classes.add("path"),
                (t.canFocus = !0),
                t.on("click", function(e) {
                  var n;
                  (n = e.target.getAttribute("data-index")) &&
                    t.fire("select", { value: t.row()[n], index: n });
                }),
                t.row(t.settings.row);
            },
            focus: function() {
              return this.getEl().firstChild.focus(), this;
            },
            row: function(e) {
              return arguments.length
                ? (this.state.set("row", e), this)
                : this.state.get("row");
            },
            renderHtml: function() {
              return (
                '<div id="' +
                this._id +
                '" class="' +
                this.classes +
                '">' +
                this._getDataPathHtml(this.state.get("row")) +
                "</div>"
              );
            },
            bindStates: function() {
              var e = this;
              return (
                e.state.on("change:row", function(t) {
                  e.innerHtml(e._getDataPathHtml(t.value));
                }),
                e._super()
              );
            },
            _getDataPathHtml: function(e) {
              var t,
                n,
                r = e || [],
                o = "",
                i = this.classPrefix;
              for (t = 0, n = r.length; t < n; t++)
                o +=
                  (t > 0
                    ? '<div class="' +
                      i +
                      'divider" aria-hidden="true"> ' +
                      this.settings.delimiter +
                      " </div>"
                    : "") +
                  '<div role="button" class="' +
                  i +
                  "path-item" +
                  (t === n - 1 ? " " + i + "last" : "") +
                  '" data-index="' +
                  t +
                  '" tabindex="-1" id="' +
                  this._id +
                  "-" +
                  t +
                  '" aria-level="' +
                  (t + 1) +
                  '">' +
                  r[t].name +
                  "</div>";
              return o || (o = '<div class="' + i + 'path-item"> </div>'), o;
            }
          }),
          ln = cn.extend({
            postRender: function() {
              var e = this,
                t = e.settings.editor;
              function n(e) {
                if (1 === e.nodeType) {
                  if ("BR" === e.nodeName || e.getAttribute("data-mce-bogus"))
                    return !0;
                  if ("bookmark" === e.getAttribute("data-mce-type")) return !0;
                }
                return !1;
              }
              return (
                !1 !== t.settings.elementpath &&
                  (e.on("select", function(e) {
                    t.focus(),
                      t.selection.select(this.row()[e.index].element),
                      t.nodeChanged();
                  }),
                  t.on("nodeChange", function(r) {
                    for (var o = [], i = r.parents, a = i.length; a--; )
                      if (1 === i[a].nodeType && !n(i[a])) {
                        var u = t.fire("ResolveName", {
                          name: i[a].nodeName.toLowerCase(),
                          target: i[a]
                        });
                        if (
                          (u.isDefaultPrevented() ||
                            o.push({ name: u.name, element: i[a] }),
                          u.isPropagationStopped())
                        )
                          break;
                      }
                    e.row(o);
                  })),
                e._super()
              );
            }
          }),
          fn = st.extend({
            Defaults: {
              layout: "flex",
              align: "center",
              defaults: { flex: 1 }
            },
            renderHtml: function() {
              var e = this._layout,
                t = this.classPrefix;
              return (
                this.classes.add("formitem"),
                e.preRender(this),
                '<div id="' +
                  this._id +
                  '" class="' +
                  this.classes +
                  '" hidefocus="1" tabindex="-1">' +
                  (this.settings.title
                    ? '<div id="' +
                      this._id +
                      '-title" class="' +
                      t +
                      'title">' +
                      this.settings.title +
                      "</div>"
                    : "") +
                  '<div id="' +
                  this._id +
                  '-body" class="' +
                  this.bodyClasses +
                  '">' +
                  (this.settings.html || "") +
                  e.renderHtml(this) +
                  "</div></div>"
              );
            }
          }),
          dn = st.extend({
            Defaults: {
              containerCls: "form",
              layout: "flex",
              direction: "column",
              align: "stretch",
              flex: 1,
              padding: 15,
              labelGap: 30,
              spacing: 10,
              callbacks: {
                submit: function() {
                  this.submit();
                }
              }
            },
            preRender: function() {
              var e = this,
                t = e.items();
              e.settings.formItemDefaults ||
                (e.settings.formItemDefaults = {
                  layout: "flex",
                  autoResize: "overflow",
                  defaults: { flex: 1 }
                }),
                t.each(function(t) {
                  var n,
                    r = t.settings.label;
                  r &&
                    (((n = new fn(
                      u.extend(
                        {
                          items: {
                            type: "label",
                            id: t._id + "-l",
                            text: r,
                            flex: 0,
                            forId: t._id,
                            disabled: t.disabled()
                          }
                        },
                        e.settings.formItemDefaults
                      )
                    )).type = "formitem"),
                    t.aria("labelledby", t._id + "-l"),
                    void 0 === t.settings.flex && (t.settings.flex = 1),
                    e.replace(t, n),
                    n.add(t));
                });
            },
            submit: function() {
              return this.fire("submit", { data: this.toJSON() });
            },
            postRender: function() {
              this._super(), this.fromJSON(this.settings.data);
            },
            bindStates: function() {
              var e = this;
              function t() {
                var t,
                  n,
                  r = 0,
                  o = [];
                if (!1 !== e.settings.labelGapCalc)
                  for (
                    ("children" === e.settings.labelGapCalc
                      ? e.find("formitem")
                      : e.items()
                    )
                      .filter("formitem")
                      .each(function(e) {
                        var t = e.items()[0],
                          n = t.getEl().clientWidth;
                        (r = n > r ? n : r), o.push(t);
                      }),
                      n = e.settings.labelGap || 0,
                      t = o.length;
                    t--;

                  )
                    o[t].settings.minWidth = r + n;
              }
              e._super(), e.on("show", t), t();
            }
          }),
          mn = dn.extend({
            Defaults: {
              containerCls: "fieldset",
              layout: "flex",
              direction: "column",
              align: "stretch",
              flex: 1,
              padding: "25 15 5 15",
              labelGap: 30,
              spacing: 10,
              border: 1
            },
            renderHtml: function() {
              var e = this._layout,
                t = this.classPrefix;
              return (
                this.preRender(),
                e.preRender(this),
                '<fieldset id="' +
                  this._id +
                  '" class="' +
                  this.classes +
                  '" hidefocus="1" tabindex="-1">' +
                  (this.settings.title
                    ? '<legend id="' +
                      this._id +
                      '-title" class="' +
                      t +
                      'fieldset-title">' +
                      this.settings.title +
                      "</legend>"
                    : "") +
                  '<div id="' +
                  this._id +
                  '-body" class="' +
                  this.bodyClasses +
                  '">' +
                  (this.settings.html || "") +
                  e.renderHtml(this) +
                  "</div></fieldset>"
              );
            }
          }),
          hn = 0,
          gn = function(e) {
            if (null == e) throw new Error("Node cannot be null or undefined");
            return { dom: T(e) };
          },
          pn = {
            fromHtml: function(t, n) {
              var r = (n || e.document).createElement("div");
              if (
                ((r.innerHTML = t),
                !r.hasChildNodes() || r.childNodes.length > 1)
              )
                throw (e.console.error(
                  "HTML does not have a single root node",
                  t
                ),
                new Error("HTML must have a single root node"));
              return gn(r.childNodes[0]);
            },
            fromTag: function(t, n) {
              var r = (n || e.document).createElement(t);
              return gn(r);
            },
            fromText: function(t, n) {
              var r = (n || e.document).createTextNode(t);
              return gn(r);
            },
            fromDom: gn,
            fromPoint: function(e, t, n) {
              var r = e.dom();
              return O.from(r.elementFromPoint(t, n)).map(gn);
            }
          },
          vn =
            (e.Node.ATTRIBUTE_NODE,
            e.Node.CDATA_SECTION_NODE,
            e.Node.COMMENT_NODE,
            e.Node.DOCUMENT_NODE),
          bn =
            (e.Node.DOCUMENT_TYPE_NODE,
            e.Node.DOCUMENT_FRAGMENT_NODE,
            e.Node.ELEMENT_NODE),
          yn =
            (e.Node.TEXT_NODE,
            e.Node.PROCESSING_INSTRUCTION_NODE,
            e.Node.ENTITY_REFERENCE_NODE,
            e.Node.ENTITY_NODE,
            e.Node.NOTATION_NODE,
            void 0 !== e.window ? e.window : Function("return this;")(),
            function() {
              return wn(0, 0);
            }),
          wn = function(e, t) {
            return { major: e, minor: t };
          },
          xn = {
            nu: wn,
            detect: function(e, t) {
              var n = String(t).toLowerCase();
              return 0 === e.length
                ? yn()
                : (function(e, t) {
                    var n = (function(e, t) {
                      for (var n = 0; n < e.length; n++) {
                        var r = e[n];
                        if (r.test(t)) return r;
                      }
                    })(e, t);
                    if (!n) return { major: 0, minor: 0 };
                    var r = function(e) {
                      return Number(t.replace(n, "$" + e));
                    };
                    return wn(r(1), r(2));
                  })(e, n);
            },
            unknown: yn
          },
          Cn = function(e, t) {
            return function() {
              return t === e;
            };
          },
          Sn = function(e) {
            var t = e.current;
            return {
              current: t,
              version: e.version,
              isEdge: Cn("Edge", t),
              isChrome: Cn("Chrome", t),
              isIE: Cn("IE", t),
              isOpera: Cn("Opera", t),
              isFirefox: Cn("Firefox", t),
              isSafari: Cn("Safari", t)
            };
          },
          En = {
            unknown: function() {
              return Sn({ current: void 0, version: xn.unknown() });
            },
            nu: Sn,
            edge: T("Edge"),
            chrome: T("Chrome"),
            ie: T("IE"),
            opera: T("Opera"),
            firefox: T("Firefox"),
            safari: T("Safari")
          },
          Tn = function(e, t) {
            return function() {
              return t === e;
            };
          },
          Nn = function(e) {
            var t = e.current;
            return {
              current: t,
              version: e.version,
              isWindows: Tn("Windows", t),
              isiOS: Tn("iOS", t),
              isAndroid: Tn("Android", t),
              isOSX: Tn("OSX", t),
              isLinux: Tn("Linux", t),
              isSolaris: Tn("Solaris", t),
              isFreeBSD: Tn("FreeBSD", t)
            };
          },
          _n = {
            unknown: function() {
              return Nn({ current: void 0, version: xn.unknown() });
            },
            nu: Nn,
            windows: T("Windows"),
            ios: T("iOS"),
            android: T("Android"),
            linux: T("Linux"),
            osx: T("OSX"),
            solaris: T("Solaris"),
            freebsd: T("FreeBSD")
          },
          kn = function(e, t) {
            var n = String(t).toLowerCase();
            return (function(e, t) {
              for (var n = 0, r = e.length; n < r; n++) {
                var o = e[n];
                if (t(o, n)) return O.some(o);
              }
              return O.none();
            })(e, function(e) {
              return e.search(n);
            });
          },
          Rn = function(e, t) {
            return kn(e, t).map(function(e) {
              var n = xn.detect(e.versionRegexes, t);
              return { current: e.name, version: n };
            });
          },
          Dn = function(e, t) {
            return kn(e, t).map(function(e) {
              var n = xn.detect(e.versionRegexes, t);
              return { current: e.name, version: n };
            });
          },
          On = function(e, t) {
            return -1 !== e.indexOf(t);
          },
          An = /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
          Pn = function(e) {
            return function(t) {
              return On(t, e);
            };
          },
          Bn = [
            {
              name: "Edge",
              versionRegexes: [/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],
              search: function(e) {
                return (
                  On(e, "edge/") &&
                  On(e, "chrome") &&
                  On(e, "safari") &&
                  On(e, "applewebkit")
                );
              }
            },
            {
              name: "Chrome",
              versionRegexes: [/.*?chrome\/([0-9]+)\.([0-9]+).*/, An],
              search: function(e) {
                return On(e, "chrome") && !On(e, "chromeframe");
              }
            },
            {
              name: "IE",
              versionRegexes: [
                /.*?msie\ ?([0-9]+)\.([0-9]+).*/,
                /.*?rv:([0-9]+)\.([0-9]+).*/
              ],
              search: function(e) {
                return On(e, "msie") || On(e, "trident");
              }
            },
            {
              name: "Opera",
              versionRegexes: [An, /.*?opera\/([0-9]+)\.([0-9]+).*/],
              search: Pn("opera")
            },
            {
              name: "Firefox",
              versionRegexes: [/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],
              search: Pn("firefox")
            },
            {
              name: "Safari",
              versionRegexes: [An, /.*?cpu os ([0-9]+)_([0-9]+).*/],
              search: function(e) {
                return (
                  (On(e, "safari") || On(e, "mobile/")) && On(e, "applewebkit")
                );
              }
            }
          ],
          In = [
            {
              name: "Windows",
              search: Pn("win"),
              versionRegexes: [/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]
            },
            {
              name: "iOS",
              search: function(e) {
                return On(e, "iphone") || On(e, "ipad");
              },
              versionRegexes: [
                /.*?version\/\ ?([0-9]+)\.([0-9]+).*/,
                /.*cpu os ([0-9]+)_([0-9]+).*/,
                /.*cpu iphone os ([0-9]+)_([0-9]+).*/
              ]
            },
            {
              name: "Android",
              search: Pn("android"),
              versionRegexes: [/.*?android\ ?([0-9]+)\.([0-9]+).*/]
            },
            {
              name: "OSX",
              search: Pn("os x"),
              versionRegexes: [/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]
            },
            { name: "Linux", search: Pn("linux"), versionRegexes: [] },
            { name: "Solaris", search: Pn("sunos"), versionRegexes: [] },
            { name: "FreeBSD", search: Pn("freebsd"), versionRegexes: [] }
          ],
          Mn = { browsers: T(Bn), oses: T(In) },
          Ln = function(e) {
            var t = Mn.browsers(),
              n = Mn.oses(),
              r = Rn(t, e).fold(En.unknown, En.nu),
              o = Dn(n, e).fold(_n.unknown, _n.nu),
              i = (function(e, t, n) {
                var r = e.isiOS() && !0 === /ipad/i.test(n),
                  o = e.isiOS() && !r,
                  i = e.isAndroid() && 3 === e.version.major,
                  a = e.isAndroid() && 4 === e.version.major,
                  u = r || i || (a && !0 === /mobile/i.test(n)),
                  s = e.isiOS() || e.isAndroid(),
                  c = s && !u,
                  l = t.isSafari() && e.isiOS() && !1 === /safari/i.test(n);
                return {
                  isiPad: T(r),
                  isiPhone: T(o),
                  isTablet: T(u),
                  isPhone: T(c),
                  isTouch: T(s),
                  isAndroid: e.isAndroid,
                  isiOS: e.isiOS,
                  isWebView: T(l)
                };
              })(o, r, e);
            return { browser: r, os: o, deviceType: i };
          },
          Fn =
            ((Ut = function() {
              var t = e.navigator.userAgent;
              return Ln(t);
            }),
            (Vt = !1),
            function() {
              for (var e = [], t = 0; t < arguments.length; t++)
                e[t] = arguments[t];
              return Vt || ((Vt = !0), (jt = Ut.apply(null, e))), jt;
            }),
          Hn = bn,
          zn = vn,
          Wn = function(e) {
            return (
              (e.nodeType !== Hn && e.nodeType !== zn) ||
              0 === e.childElementCount
            );
          },
          Un =
            (Fn().browser.isIE(),
            (function() {
              for (var e = [], t = 0; t < arguments.length; t++)
                e[t] = arguments[t];
            })("element", "offset"),
            u.trim),
          jn = function(e) {
            return function(t) {
              if (t && 1 === t.nodeType) {
                if (t.contentEditable === e) return !0;
                if (t.getAttribute("data-mce-contenteditable") === e) return !0;
              }
              return !1;
            };
          },
          Vn = jn("true"),
          qn = jn("false"),
          $n = function(e, t, n, r, o) {
            return { type: e, title: t, url: n, level: r, attach: o };
          },
          Kn = function(e) {
            return e.innerText || e.textContent;
          },
          Yn = function(e) {
            return e.id
              ? e.id
              : ((t = "h"),
                (n = new Date().getTime()),
                t + "_" + Math.floor(1e9 * Math.random()) + ++hn + String(n));
            var t, n;
          },
          Xn = function(e) {
            return (
              (function(e) {
                return e && "A" === e.nodeName && (e.id || e.name);
              })(e) && Jn(e)
            );
          },
          Gn = function(e) {
            return e && /^(H[1-6])$/.test(e.nodeName);
          },
          Jn = function(e) {
            return (
              (function(e) {
                for (; (e = e.parentNode); ) {
                  var t = e.contentEditable;
                  if (t && "inherit" !== t) return Vn(e);
                }
                return !1;
              })(e) && !qn(e)
            );
          },
          Qn = function(e) {
            return Gn(e) && Jn(e);
          },
          Zn = function(e) {
            var t = Yn(e);
            return $n(
              "header",
              Kn(e),
              "#" + t,
              (function(e) {
                return Gn(e) ? parseInt(e.nodeName.substr(1), 10) : 0;
              })(e),
              function() {
                e.id = t;
              }
            );
          },
          er = function(e) {
            var t = e.id || e.name,
              n = Kn(e);
            return $n("anchor", n || "#" + t, "#" + t, 0, E);
          },
          tr = function(t) {
            var n, r;
            return (
              (n = "h1,h2,h3,h4,h5,h6,a:not([href])"),
              (r = t),
              G(
                ({ detect: Fn }.detect().browser.isIE(),
                (function() {
                  for (var e = [], t = 0; t < arguments.length; t++)
                    e[t] = arguments[t];
                })("element", "offset"),
                function(t, n) {
                  return (function(t, n) {
                    var r = void 0 === n ? e.document : n.dom();
                    return Wn(r) ? [] : G(r.querySelectorAll(t), pn.fromDom);
                  })(n, t);
                })(pn.fromDom(r), n),
                function(e) {
                  return e.dom();
                }
              )
            );
          },
          nr = function(e) {
            return Un(e.title).length > 0;
          },
          rr = function(e) {
            var t = tr(e);
            return Q(
              (function(e) {
                return G(Q(e, Qn), Zn);
              })(t).concat(
                (function(e) {
                  return G(Q(e, Xn), er);
                })(t)
              ),
              nr
            );
          },
          or = {},
          ir = function(e) {
            return {
              title: e.title,
              value: { title: { raw: e.title }, url: e.url, attach: e.attach }
            };
          },
          ar = function(e, t) {
            return { title: e, value: { title: e, url: t, attach: E } };
          },
          ur = function(e, t, n) {
            var r = t in e ? e[t] : n;
            return !1 === r ? null : r;
          },
          sr = function(e, t, n, r) {
            var o = { title: "-" },
              i = function(e) {
                var r = e.hasOwnProperty(n) ? e[n] : [],
                  o = Q(r, function(e) {
                    return (function(e, t) {
                      return !X(t, function(t) {
                        return t.url === e;
                      });
                    })(e, t);
                  });
                return u.map(o, function(e) {
                  return { title: e, value: { title: e, url: e, attach: E } };
                });
              },
              a = function(e) {
                return (function(e) {
                  return u.map(e, ir);
                })(
                  Q(t, function(t) {
                    return t.type === e;
                  })
                );
              };
            return !1 === r.typeahead_urls
              ? []
              : "file" === n
              ? (function(e, t, n) {
                  return (
                    J(e, function(e) {
                      n = t(n, e);
                    }),
                    n
                  );
                })(
                  [
                    cr(e, i(or)),
                    cr(e, a("header")),
                    cr(
                      e,
                      (function() {
                        var e = a("anchor"),
                          t = ur(r, "anchor_top", "#top"),
                          n = ur(r, "anchor_bottom", "#bottom");
                        return (
                          null !== t && e.unshift(ar("<top>", t)),
                          null !== n && e.push(ar("<bottom>", n)),
                          e
                        );
                      })()
                    )
                  ],
                  function(e, t) {
                    return 0 === e.length || 0 === t.length
                      ? e.concat(t)
                      : e.concat(o, t);
                  },
                  []
                )
              : cr(e, i(or));
          },
          cr = function(e, t) {
            var n = e.toLowerCase(),
              r = u.grep(t, function(e) {
                return -1 !== e.title.toLowerCase().indexOf(n);
              });
            return 1 === r.length && r[0].title === e ? [] : r;
          },
          lr = function(e, t, n, r) {
            var o = function(o) {
              var i = rr(n),
                a = sr(o, i, r, t);
              e.showAutoComplete(a, o);
            };
            e.on("autocomplete", function() {
              o(e.value());
            }),
              e.on("selectitem", function(t) {
                var n = t.value;
                e.value(n.url);
                var o = (function(e) {
                  var t = e.title;
                  return t.raw ? t.raw : t;
                })(n);
                "image" === r
                  ? e.fire("change", { meta: { alt: o, attach: n.attach } })
                  : e.fire("change", { meta: { text: o, attach: n.attach } }),
                  e.focus();
              }),
              e.on("click", function(t) {
                0 === e.value().length &&
                  "INPUT" === t.target.nodeName &&
                  o("");
              }),
              e.on("PostRender", function() {
                e.getRoot().on("submit", function(t) {
                  t.isDefaultPrevented() ||
                    (function(e, t) {
                      var n = or[t];
                      /^https?/.test(e) &&
                        (n
                          ? Y(n, e).isNone() &&
                            (or[t] = n.slice(0, 5).concat(e))
                          : (or[t] = [e]));
                    })(e.value(), r);
                });
              });
          },
          fr = function(e, t, n) {
            var r = t.filepicker_validator_handler;
            r &&
              e.state.on("change:value", function(t) {
                var o;
                0 !== (o = t.value).length
                  ? r({ url: o, type: n }, function(t) {
                      var n = (function(e) {
                        var t = e.status,
                          n = e.message;
                        return "valid" === t
                          ? { status: "ok", message: n }
                          : "unknown" === t || "invalid" === t
                          ? { status: "warn", message: n }
                          : { status: "none", message: "" };
                      })(t);
                      e.statusMessage(n.message), e.statusLevel(n.status);
                    })
                  : e.statusLevel("none");
              });
          },
          dr = en.extend({
            Statics: {
              clearHistory: function() {
                or = {};
              }
            },
            init: function(e) {
              var t,
                n,
                r,
                o = this,
                i = window.tinymce
                  ? window.tinymce.activeEditor
                  : a.activeEditor,
                s = i.settings,
                c = e.filetype;
              (e.spellcheck = !1),
                (r = s.file_picker_types || s.file_browser_callback_types) &&
                  (r = u.makeMap(r, /[, ]/)),
                (r && !r[c]) ||
                  (!(n = s.file_picker_callback) || (r && !r[c])
                    ? !(n = s.file_browser_callback) ||
                      (r && !r[c]) ||
                      (t = function() {
                        n(o.getEl("inp").id, o.value(), c, window);
                      })
                    : (t = function() {
                        var e = o.fire("beforecall").meta;
                        (e = u.extend({ filetype: c }, e)),
                          n.call(
                            i,
                            function(e, t) {
                              o.value(e).fire("change", { meta: t });
                            },
                            o.value(),
                            e
                          );
                      })),
                t && ((e.icon = "browse"), (e.onaction = t)),
                o._super(e),
                o.classes.add("filepicker"),
                lr(o, s, i.getBody(), c),
                fr(o, s, c);
            }
          }),
          mr = Yt.extend({
            recalc: function(e) {
              var t = e.layoutRect(),
                n = e.paddingBox;
              e.items()
                .filter(":visible")
                .each(function(e) {
                  e.layoutRect({
                    x: n.left,
                    y: n.top,
                    w: t.innerW - n.right - n.left,
                    h: t.innerH - n.top - n.bottom
                  }),
                    e.recalc && e.recalc();
                });
            }
          }),
          hr = Yt.extend({
            recalc: function(e) {
              var t,
                n,
                r,
                o,
                i,
                a,
                u,
                s,
                c,
                l,
                f,
                d,
                m,
                h,
                g,
                p,
                v,
                b,
                y,
                w,
                x,
                C,
                S,
                E,
                T,
                N,
                _,
                k,
                R,
                D,
                O,
                A,
                P,
                B,
                I,
                M,
                L,
                F = [],
                H = Math.max,
                z = Math.min;
              for (
                r = e.items().filter(":visible"),
                  o = e.layoutRect(),
                  i = e.paddingBox,
                  a = e.settings,
                  d = e.isRtl() ? a.direction || "row-reversed" : a.direction,
                  u = a.align,
                  s = e.isRtl() ? a.pack || "end" : a.pack,
                  c = a.spacing || 0,
                  ("row-reversed" !== d && "column-reverse" !== d) ||
                    ((r = r.set(r.toArray().reverse())), (d = d.split("-")[0])),
                  "column" === d
                    ? ((E = "y"),
                      (C = "h"),
                      (S = "minH"),
                      (T = "maxH"),
                      (_ = "innerH"),
                      (N = "top"),
                      (k = "deltaH"),
                      (R = "contentH"),
                      (B = "left"),
                      (A = "w"),
                      (D = "x"),
                      (O = "innerW"),
                      (P = "minW"),
                      (I = "right"),
                      (M = "deltaW"),
                      (L = "contentW"))
                    : ((E = "x"),
                      (C = "w"),
                      (S = "minW"),
                      (T = "maxW"),
                      (_ = "innerW"),
                      (N = "left"),
                      (k = "deltaW"),
                      (R = "contentW"),
                      (B = "top"),
                      (A = "h"),
                      (D = "y"),
                      (O = "innerH"),
                      (P = "minH"),
                      (I = "bottom"),
                      (M = "deltaH"),
                      (L = "contentH")),
                  f = o[_] - i[N] - i[N],
                  x = l = 0,
                  t = 0,
                  n = r.length;
                t < n;
                t++
              )
                (h = (m = r[t]).layoutRect()),
                  (f -= t < n - 1 ? c : 0),
                  (g = m.settings.flex) > 0 &&
                    ((l += g), h[T] && F.push(m), (h.flex = g)),
                  (f -= h[S]),
                  (p = i[B] + h[P] + i[I]) > x && (x = p);
              if (
                (((y = {})[S] = f < 0 ? o[S] - f + o[k] : o[_] - f + o[k]),
                (y[P] = x + o[M]),
                (y[R] = o[_] - f),
                (y[L] = x),
                (y.minW = z(y.minW, o.maxW)),
                (y.minH = z(y.minH, o.maxH)),
                (y.minW = H(y.minW, o.startMinWidth)),
                (y.minH = H(y.minH, o.startMinHeight)),
                !o.autoResize || (y.minW === o.minW && y.minH === o.minH))
              ) {
                for (b = f / l, t = 0, n = F.length; t < n; t++)
                  (v = (h = (m = F[t]).layoutRect())[T]),
                    (p = h[S] + h.flex * b) > v
                      ? ((f -= h[T] - h[S]),
                        (l -= h.flex),
                        (h.flex = 0),
                        (h.maxFlexSize = v))
                      : (h.maxFlexSize = 0);
                for (
                  b = f / l,
                    w = i[N],
                    y = {},
                    0 === l &&
                      ("end" === s
                        ? (w = f + i[N])
                        : "center" === s
                        ? (w = Math.round(o[_] / 2 - (o[_] - f) / 2) + i[N]) <
                            0 && (w = i[N])
                        : "justify" === s &&
                          ((w = i[N]), (c = Math.floor(f / (r.length - 1))))),
                    y[D] = i[B],
                    t = 0,
                    n = r.length;
                  t < n;
                  t++
                )
                  (p = (h = (m = r[t]).layoutRect()).maxFlexSize || h[S]),
                    "center" === u
                      ? (y[D] = Math.round(o[O] / 2 - h[A] / 2))
                      : "stretch" === u
                      ? ((y[A] = H(h[P] || 0, o[O] - i[B] - i[I])),
                        (y[D] = i[B]))
                      : "end" === u && (y[D] = o[O] - h[A] - i.top),
                    h.flex > 0 && (p += h.flex * b),
                    (y[C] = p),
                    (y[E] = w),
                    m.layoutRect(y),
                    m.recalc && m.recalc(),
                    (w += p + c);
              } else if (
                ((y.w = y.minW),
                (y.h = y.minH),
                e.layoutRect(y),
                this.recalc(e),
                null === e._lastRect)
              ) {
                var W = e.parent();
                W && ((W._lastRect = null), W.recalc());
              }
            }
          }),
          gr = Kt.extend({
            Defaults: {
              containerClass: "flow-layout",
              controlClass: "flow-layout-item",
              endClass: "break"
            },
            recalc: function(e) {
              e.items()
                .filter(":visible")
                .each(function(e) {
                  e.recalc && e.recalc();
                });
            },
            isNative: function() {
              return !0;
            }
          }),
          pr = function(t, n) {
            return (function(t, n) {
              var r = void 0 === n ? e.document : n.dom();
              return Wn(r)
                ? O.none()
                : O.from(r.querySelector(t)).map(pn.fromDom);
            })(n, t);
          },
          vr = function(e, t) {
            return function() {
              e.execCommand("mceToggleFormat", !1, t);
            };
          },
          br = function(e, t, n) {
            var r = function(e) {
              n(e, t);
            };
            e.formatter
              ? e.formatter.formatChanged(t, r)
              : e.on("init", function() {
                  e.formatter.formatChanged(t, r);
                });
          },
          yr = function(e, t) {
            return function(n) {
              br(e, t, function(e) {
                n.control.active(e);
              });
            };
          },
          wr = function(e) {
            var t = ["alignleft", "aligncenter", "alignright", "alignjustify"],
              n = [
                {
                  text: "Left",
                  icon: "alignleft",
                  onclick: vr(e, "alignleft")
                },
                {
                  text: "Center",
                  icon: "aligncenter",
                  onclick: vr(e, "aligncenter")
                },
                {
                  text: "Right",
                  icon: "alignright",
                  onclick: vr(e, "alignright")
                },
                {
                  text: "Justify",
                  icon: "alignjustify",
                  onclick: vr(e, "alignjustify")
                }
              ];
            e.addMenuItem("align", { text: "Align", menu: n }),
              e.addButton("align", {
                type: "menubutton",
                icon: "alignleft",
                menu: n,
                onShowMenu: function(n) {
                  var r = n.control.menu;
                  u.each(t, function(t, n) {
                    r.items()
                      .eq(n)
                      .each(function(n) {
                        return n.active(e.formatter.match(t));
                      });
                  });
                },
                onPostRender: function(n) {
                  var r = n.control;
                  u.each(t, function(t, n) {
                    br(e, t, function(e) {
                      r.icon("alignleft"), e && r.icon(t);
                    });
                  });
                }
              }),
              u.each(
                {
                  alignleft: ["Align left", "JustifyLeft"],
                  aligncenter: ["Align center", "JustifyCenter"],
                  alignright: ["Align right", "JustifyRight"],
                  alignjustify: ["Justify", "JustifyFull"],
                  alignnone: ["No alignment", "JustifyNone"]
                },
                function(t, n) {
                  e.addButton(n, {
                    active: !1,
                    tooltip: t[0],
                    cmd: t[1],
                    onPostRender: yr(e, n)
                  });
                }
              );
          },
          xr = function(e) {
            return e ? e.split(",")[0] : "";
          },
          Cr = function(e, t) {
            return function() {
              var n = this;
              n.state.set("value", null),
                e.on("init nodeChange", function(r) {
                  var o = e.queryCommandValue("FontName"),
                    i = (function(e, t) {
                      var n,
                        r = t ? t.toLowerCase() : "";
                      return (
                        u.each(e, function(e) {
                          e.value.toLowerCase() === r && (n = e.value);
                        }),
                        u.each(e, function(e) {
                          n ||
                            xr(e.value).toLowerCase() !== xr(r).toLowerCase() ||
                            (n = e.value);
                        }),
                        n
                      );
                    })(t, o);
                  n.value(i || null), !i && o && n.text(xr(o));
                });
            };
          },
          Sr = function(e) {
            e.addButton("fontselect", function() {
              var t = (function(e) {
                var t = (function(e) {
                  for (
                    var t = (e = e.replace(/;$/, "").split(";")).length;
                    t--;

                  )
                    e[t] = e[t].split("=");
                  return e;
                })(
                  e.settings.font_formats ||
                    "Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"
                );
                return u.map(t, function(e) {
                  return {
                    text: { raw: e[0] },
                    value: e[1],
                    textStyle:
                      -1 === e[1].indexOf("dings") ? "font-family:" + e[1] : ""
                  };
                });
              })(e);
              return {
                type: "listbox",
                text: "Font Family",
                tooltip: "Font Family",
                values: t,
                fixedWidth: !0,
                onPostRender: Cr(e, t),
                onselect: function(t) {
                  t.control.settings.value &&
                    e.execCommand("FontName", !1, t.control.settings.value);
                }
              };
            });
          },
          Er = function(e) {
            Sr(e);
          },
          Tr = function(e, t) {
            return /[0-9.]+px$/.test(e)
              ? (function(e, t) {
                  var n = Math.pow(10, t);
                  return Math.round(e * n) / n;
                })((72 * parseInt(e, 10)) / 96, t || 0) + "pt"
              : e;
          },
          Nr = function(e, t, n) {
            var r;
            return (
              u.each(e, function(e) {
                e.value === n ? (r = n) : e.value === t && (r = t);
              }),
              r
            );
          },
          _r = function(e, t) {
            return function() {
              var n = this;
              e.on("init nodeChange", function(r) {
                var o, i, a, u;
                if ((o = e.queryCommandValue("FontSize")))
                  for (a = 3; !u && a >= 0; a--)
                    (i = Tr(o, a)), (u = Nr(t, i, o));
                n.value(u || null), u || n.text(i);
              });
            };
          },
          kr = function(e) {
            e.addButton("fontsizeselect", function() {
              var t = (function(e) {
                var t =
                  e.settings.fontsize_formats ||
                  "8pt 10pt 12pt 14pt 18pt 24pt 36pt";
                return u.map(t.split(" "), function(e) {
                  var t = e,
                    n = e,
                    r = e.split("=");
                  return (
                    r.length > 1 && ((t = r[0]), (n = r[1])),
                    { text: t, value: n }
                  );
                });
              })(e);
              return {
                type: "listbox",
                text: "Font Sizes",
                tooltip: "Font Sizes",
                values: t,
                fixedWidth: !0,
                onPostRender: _r(e, t),
                onclick: function(t) {
                  t.control.settings.value &&
                    e.execCommand("FontSize", !1, t.control.settings.value);
                }
              };
            });
          },
          Rr = function(e) {
            kr(e);
          },
          Dr = function(e, t) {
            var n = t.length;
            return (
              u.each(t, function(t) {
                t.menu && (t.hidden = 0 === Dr(e, t.menu));
                var r = t.format;
                r && (t.hidden = !e.formatter.canApply(r)), t.hidden && n--;
              }),
              n
            );
          },
          Or = function(e, t) {
            var n = t.items().length;
            return (
              t.items().each(function(t) {
                t.menu && t.visible(Or(e, t.menu) > 0),
                  !t.menu &&
                    t.settings.menu &&
                    t.visible(Dr(e, t.settings.menu) > 0);
                var r = t.settings.format;
                r && t.visible(e.formatter.canApply(r)), t.visible() || n--;
              }),
              n
            );
          },
          Ar = function(e) {
            var t = (function(e) {
              var t = 0,
                n = [],
                r = [
                  {
                    title: "Headings",
                    items: [
                      { title: "Heading 1", format: "h1" },
                      { title: "Heading 2", format: "h2" },
                      { title: "Heading 3", format: "h3" },
                      { title: "Heading 4", format: "h4" },
                      { title: "Heading 5", format: "h5" },
                      { title: "Heading 6", format: "h6" }
                    ]
                  },
                  {
                    title: "Inline",
                    items: [
                      { title: "Bold", icon: "bold", format: "bold" },
                      { title: "Italic", icon: "italic", format: "italic" },
                      {
                        title: "Underline",
                        icon: "underline",
                        format: "underline"
                      },
                      {
                        title: "Strikethrough",
                        icon: "strikethrough",
                        format: "strikethrough"
                      },
                      {
                        title: "Superscript",
                        icon: "superscript",
                        format: "superscript"
                      },
                      {
                        title: "Subscript",
                        icon: "subscript",
                        format: "subscript"
                      },
                      { title: "Code", icon: "code", format: "code" }
                    ]
                  },
                  {
                    title: "Blocks",
                    items: [
                      { title: "Paragraph", format: "p" },
                      { title: "Blockquote", format: "blockquote" },
                      { title: "Div", format: "div" },
                      { title: "Pre", format: "pre" }
                    ]
                  },
                  {
                    title: "Alignment",
                    items: [
                      { title: "Left", icon: "alignleft", format: "alignleft" },
                      {
                        title: "Center",
                        icon: "aligncenter",
                        format: "aligncenter"
                      },
                      {
                        title: "Right",
                        icon: "alignright",
                        format: "alignright"
                      },
                      {
                        title: "Justify",
                        icon: "alignjustify",
                        format: "alignjustify"
                      }
                    ]
                  }
                ],
                o = function(e) {
                  var r = [];
                  if (e)
                    return (
                      u.each(e, function(e) {
                        var i = { text: e.title, icon: e.icon };
                        if (e.items) i.menu = o(e.items);
                        else {
                          var a = e.format || "custom" + t++;
                          e.format || ((e.name = a), n.push(e)),
                            (i.format = a),
                            (i.cmd = e.cmd);
                        }
                        r.push(i);
                      }),
                      r
                    );
                };
              return (
                e.on("init", function() {
                  u.each(n, function(t) {
                    e.formatter.register(t.name, t);
                  });
                }),
                {
                  type: "menu",
                  items: e.settings.style_formats_merge
                    ? e.settings.style_formats
                      ? o(r.concat(e.settings.style_formats))
                      : o(r)
                    : o(e.settings.style_formats || r),
                  onPostRender: function(t) {
                    e.fire("renderFormatsMenu", { control: t.control });
                  },
                  itemDefaults: {
                    preview: !0,
                    textStyle: function() {
                      if (this.settings.format)
                        return e.formatter.getCssText(this.settings.format);
                    },
                    onPostRender: function() {
                      var t = this;
                      t.parent().on("show", function() {
                        var n, r;
                        (n = t.settings.format) &&
                          (t.disabled(!e.formatter.canApply(n)),
                          t.active(e.formatter.match(n))),
                          (r = t.settings.cmd) &&
                            t.active(e.queryCommandState(r));
                      });
                    },
                    onclick: function() {
                      this.settings.format && vr(e, this.settings.format)(),
                        this.settings.cmd && e.execCommand(this.settings.cmd);
                    }
                  }
                }
              );
            })(e);
            !(function(e, t) {
              e.addMenuItem("formats", { text: "Formats", menu: t });
            })(e, t),
              (function(e, t) {
                e.addButton("styleselect", {
                  type: "menubutton",
                  text: "Formats",
                  menu: t,
                  onShowMenu: function() {
                    e.settings.style_formats_autohide && Or(e, this.menu);
                  }
                });
              })(e, t);
          },
          Pr = function(e, t, n) {
            return function() {
              var r = this;
              e.on("nodeChange", function(o) {
                var i = e.formatter,
                  a = null;
                u.each(o.parents, function(e) {
                  if (
                    (u.each(t, function(t) {
                      if (
                        (n
                          ? i.matchNode(e, n, { value: t.value }) &&
                            (a = t.value)
                          : i.matchNode(e, t.value) && (a = t.value),
                        a)
                      )
                        return !1;
                    }),
                    a)
                  )
                    return !1;
                }),
                  r.value(a);
              });
            };
          },
          Br = function(e, t) {
            return u.map(t, function(t) {
              return {
                text: t[0],
                onclick: vr(e, t[1]),
                textStyle: function() {
                  return e.formatter.getCssText(t[1]);
                }
              };
            });
          },
          Ir = function(e) {
            var t = (function(e) {
              for (var t = (e = e.replace(/;$/, "").split(";")).length; t--; )
                e[t] = e[t].split("=");
              return e;
            })(
              e.settings.block_formats ||
                "Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"
            );
            e.addMenuItem("blockformats", { text: "Blocks", menu: Br(e, t) }),
              e.addButton(
                "formatselect",
                (function(e, t) {
                  return function() {
                    var n = [];
                    return (
                      u.each(t, function(t) {
                        n.push({
                          text: t[0],
                          value: t[1],
                          textStyle: function() {
                            return e.formatter.getCssText(t[1]);
                          }
                        });
                      }),
                      {
                        type: "listbox",
                        text: t[0][0],
                        values: n,
                        fixedWidth: !0,
                        onselect: function(t) {
                          if (t.control) {
                            var n = t.control.value();
                            vr(e, n)();
                          }
                        },
                        onPostRender: Pr(e, n)
                      }
                    );
                  };
                })(e, t)
              );
          },
          Mr = function(e, t) {
            var n, r;
            if ("string" == typeof t) r = t.split(" ");
            else if (u.isArray(t))
              return (function(e) {
                for (var t = [], n = 0, r = e.length; n < r; ++n) {
                  if (!j(e[n]))
                    throw new Error(
                      "Arr.flatten item " + n + " was not an array, input: " + e
                    );
                  K.apply(t, e[n]);
                }
                return t;
              })(
                u.map(t, function(t) {
                  return Mr(e, t);
                })
              );
            return (
              (n = u.grep(r, function(t) {
                return "|" === t || t in e.menuItems;
              })),
              u.map(n, function(t) {
                return "|" === t ? { text: "-" } : e.menuItems[t];
              })
            );
          },
          Lr = function(e) {
            return e && "-" === e.text;
          },
          Fr = function(e) {
            var t = Q(e, function(t, n) {
              return !Lr(t) || !Lr(e[n - 1]);
            });
            return Q(t, function(e, n) {
              return !Lr(e) || (n > 0 && n < t.length - 1);
            });
          },
          Hr = function(e) {
            var t = e.settings.insert_button_items;
            return Fr(
              t
                ? Mr(e, t)
                : (function(e, t) {
                    var n = [{ text: "-" }],
                      r = u.grep(e.menuItems, function(e) {
                        return e.context === t;
                      });
                    return (
                      u.each(r, function(e) {
                        "before" === e.separator && n.push({ text: "|" }),
                          e.prependToContext ? n.unshift(e) : n.push(e),
                          "after" === e.separator && n.push({ text: "|" });
                      }),
                      n
                    );
                  })(e, "insert")
            );
          },
          zr = function(e) {
            !(function(e) {
              e.addButton("insert", {
                type: "menubutton",
                icon: "insert",
                menu: [],
                oncreatemenu: function() {
                  this.menu.add(Hr(e)), this.menu.renderNew();
                }
              });
            })(e);
          },
          Wr = function(e) {
            !(function(e) {
              u.each(
                {
                  bold: "Bold",
                  italic: "Italic",
                  underline: "Underline",
                  strikethrough: "Strikethrough",
                  subscript: "Subscript",
                  superscript: "Superscript"
                },
                function(t, n) {
                  e.addButton(n, {
                    active: !1,
                    tooltip: t,
                    onPostRender: yr(e, n),
                    onclick: vr(e, n)
                  });
                }
              );
            })(e),
              (function(e) {
                u.each(
                  {
                    outdent: ["Decrease indent", "Outdent"],
                    indent: ["Increase indent", "Indent"],
                    cut: ["Cut", "Cut"],
                    copy: ["Copy", "Copy"],
                    paste: ["Paste", "Paste"],
                    help: ["Help", "mceHelp"],
                    selectall: ["Select all", "SelectAll"],
                    visualaid: ["Visual aids", "mceToggleVisualAid"],
                    newdocument: ["New document", "mceNewDocument"],
                    removeformat: ["Clear formatting", "RemoveFormat"],
                    remove: ["Remove", "Delete"]
                  },
                  function(t, n) {
                    e.addButton(n, { tooltip: t[0], cmd: t[1] });
                  }
                );
              })(e),
              (function(e) {
                u.each(
                  {
                    blockquote: ["Blockquote", "mceBlockQuote"],
                    subscript: ["Subscript", "Subscript"],
                    superscript: ["Superscript", "Superscript"]
                  },
                  function(t, n) {
                    e.addButton(n, {
                      active: !1,
                      tooltip: t[0],
                      cmd: t[1],
                      onPostRender: yr(e, n)
                    });
                  }
                );
              })(e);
          },
          Ur = function(e) {
            Wr(e),
              (function(e) {
                u.each(
                  {
                    bold: ["Bold", "Bold", "Meta+B"],
                    italic: ["Italic", "Italic", "Meta+I"],
                    underline: ["Underline", "Underline", "Meta+U"],
                    strikethrough: ["Strikethrough", "Strikethrough"],
                    subscript: ["Subscript", "Subscript"],
                    superscript: ["Superscript", "Superscript"],
                    removeformat: ["Clear formatting", "RemoveFormat"],
                    newdocument: ["New document", "mceNewDocument"],
                    cut: ["Cut", "Cut", "Meta+X"],
                    copy: ["Copy", "Copy", "Meta+C"],
                    paste: ["Paste", "Paste", "Meta+V"],
                    selectall: ["Select all", "SelectAll", "Meta+A"]
                  },
                  function(t, n) {
                    e.addMenuItem(n, {
                      text: t[0],
                      icon: n,
                      shortcut: t[2],
                      cmd: t[1]
                    });
                  }
                ),
                  e.addMenuItem("codeformat", {
                    text: "Code",
                    icon: "code",
                    onclick: vr(e, "code")
                  });
              })(e);
          },
          jr = function(e, t) {
            return function() {
              var n = this,
                r = function() {
                  var n = "redo" === t ? "hasRedo" : "hasUndo";
                  return !!e.undoManager && e.undoManager[n]();
                };
              n.disabled(!r()),
                e.on(
                  "Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",
                  function() {
                    n.disabled(e.readonly || !r());
                  }
                );
            };
          },
          Vr = function(e) {
            !(function(e) {
              e.addMenuItem("undo", {
                text: "Undo",
                icon: "undo",
                shortcut: "Meta+Z",
                onPostRender: jr(e, "undo"),
                cmd: "undo"
              }),
                e.addMenuItem("redo", {
                  text: "Redo",
                  icon: "redo",
                  shortcut: "Meta+Y",
                  onPostRender: jr(e, "redo"),
                  cmd: "redo"
                });
            })(e),
              (function(e) {
                e.addButton("undo", {
                  tooltip: "Undo",
                  onPostRender: jr(e, "undo"),
                  cmd: "undo"
                }),
                  e.addButton("redo", {
                    tooltip: "Redo",
                    onPostRender: jr(e, "redo"),
                    cmd: "redo"
                  });
              })(e);
          },
          qr = function(e) {
            return function() {
              var t = this;
              e.on("VisualAid", function(e) {
                t.active(e.hasVisual);
              }),
                t.active(e.hasVisual);
            };
          },
          $r = function(e) {
            !(function(e) {
              e.addMenuItem("visualaid", {
                text: "Visual aids",
                selectable: !0,
                onPostRender: qr(e),
                cmd: "mceToggleVisualAid"
              });
            })(e);
          },
          Kr = {
            setup: function(t) {
              !(function(e) {
                e.rtl && (ot.rtl = !0);
              })(t),
                (function(e) {
                  e.on("mousedown progressstate", function() {
                    Et.hideAll();
                  });
                })(t),
                (function(t) {
                  t.settings.ui_container &&
                    (le.container = pr(
                      pn.fromDom(e.document.body),
                      t.settings.ui_container
                    ).fold(T(null), function(e) {
                      return e.dom();
                    }));
                })(t),
                (At.tooltips = !le.iOS),
                (ot.translate = function(e) {
                  return a.translate(e);
                }),
                Ir(t),
                wr(t),
                Ur(t),
                Vr(t),
                Rr(t),
                Er(t),
                Ar(t),
                $r(t),
                zr(t);
            }
          },
          Yr = Yt.extend({
            recalc: function(e) {
              var t,
                n,
                r,
                o,
                i,
                a,
                u,
                s,
                c,
                l,
                f,
                d,
                m,
                h,
                g,
                p,
                v,
                b,
                y,
                w,
                x,
                C,
                S,
                E,
                T,
                N,
                _,
                k,
                R = [],
                D = [];
              (t = e.settings),
                (o = e.items().filter(":visible")),
                (i = e.layoutRect()),
                (r = t.columns || Math.ceil(Math.sqrt(o.length))),
                (n = Math.ceil(o.length / r)),
                (b = t.spacingH || t.spacing || 0),
                (y = t.spacingV || t.spacing || 0),
                (w = t.alignH || t.align),
                (x = t.alignV || t.align),
                (p = e.paddingBox),
                (k = "reverseRows" in t ? t.reverseRows : e.isRtl()),
                w && "string" == typeof w && (w = [w]),
                x && "string" == typeof x && (x = [x]);
              for (f = 0; f < r; f++) R.push(0);
              for (d = 0; d < n; d++) D.push(0);
              for (d = 0; d < n; d++)
                for (f = 0; f < r && (l = o[d * r + f]); f++)
                  (E = (c = l.layoutRect()).minW),
                    (T = c.minH),
                    (R[f] = E > R[f] ? E : R[f]),
                    (D[d] = T > D[d] ? T : D[d]);
              for (N = i.innerW - p.left - p.right, C = 0, f = 0; f < r; f++)
                (C += R[f] + (f > 0 ? b : 0)), (N -= (f > 0 ? b : 0) + R[f]);
              for (_ = i.innerH - p.top - p.bottom, S = 0, d = 0; d < n; d++)
                (S += D[d] + (d > 0 ? y : 0)), (_ -= (d > 0 ? y : 0) + D[d]);
              if (
                ((C += p.left + p.right),
                (S += p.top + p.bottom),
                ((s = {}).minW = C + (i.w - i.innerW)),
                (s.minH = S + (i.h - i.innerH)),
                (s.contentW = s.minW - i.deltaW),
                (s.contentH = s.minH - i.deltaH),
                (s.minW = Math.min(s.minW, i.maxW)),
                (s.minH = Math.min(s.minH, i.maxH)),
                (s.minW = Math.max(s.minW, i.startMinWidth)),
                (s.minH = Math.max(s.minH, i.startMinHeight)),
                !i.autoResize || (s.minW === i.minW && s.minH === i.minH))
              ) {
                var O;
                i.autoResize &&
                  (((s = e.layoutRect(s)).contentW = s.minW - i.deltaW),
                  (s.contentH = s.minH - i.deltaH)),
                  (O = "start" === t.packV ? 0 : _ > 0 ? Math.floor(_ / n) : 0);
                var A = 0,
                  P = t.flexWidths;
                if (P) for (f = 0; f < P.length; f++) A += P[f];
                else A = r;
                var B = N / A;
                for (f = 0; f < r; f++) R[f] += P ? P[f] * B : B;
                for (h = p.top, d = 0; d < n; d++) {
                  for (
                    m = p.left, u = D[d] + O, f = 0;
                    f < r && (l = o[k ? d * r + r - 1 - f : d * r + f]);
                    f++
                  )
                    (g = l.settings),
                      (c = l.layoutRect()),
                      (a = Math.max(R[f], c.startMinWidth)),
                      (c.x = m),
                      (c.y = h),
                      "center" === (v = g.alignH || (w ? w[f] || w[0] : null))
                        ? (c.x = m + a / 2 - c.w / 2)
                        : "right" === v
                        ? (c.x = m + a - c.w)
                        : "stretch" === v && (c.w = a),
                      "center" === (v = g.alignV || (x ? x[f] || x[0] : null))
                        ? (c.y = h + u / 2 - c.h / 2)
                        : "bottom" === v
                        ? (c.y = h + u - c.h)
                        : "stretch" === v && (c.h = u),
                      l.layoutRect(c),
                      (m += a + b),
                      l.recalc && l.recalc();
                  h += u + y;
                }
              } else if (
                ((s.w = s.minW),
                (s.h = s.minH),
                e.layoutRect(s),
                this.recalc(e),
                null === e._lastRect)
              ) {
                var I = e.parent();
                I && ((I._lastRect = null), I.recalc());
              }
            }
          }),
          Xr = At.extend({
            renderHtml: function() {
              return (
                this.classes.add("iframe"),
                (this.canFocus = !1),
                '<iframe id="' +
                  this._id +
                  '" class="' +
                  this.classes +
                  '" tabindex="-1" src="' +
                  (this.settings.url || "javascript:''") +
                  '" frameborder="0"></iframe>'
              );
            },
            src: function(e) {
              this.getEl().src = e;
            },
            html: function(e, t) {
              var n = this,
                r = this.getEl().contentWindow.document.body;
              return (
                r
                  ? ((r.innerHTML = e), t && t())
                  : S.setTimeout(function() {
                      n.html(e);
                    }),
                this
              );
            }
          }),
          Gr = At.extend({
            init: function(e) {
              this._super(e),
                this.classes.add("widget").add("infobox"),
                (this.canFocus = !1);
            },
            severity: function(e) {
              this.classes.remove("error"),
                this.classes.remove("warning"),
                this.classes.remove("success"),
                this.classes.add(e);
            },
            help: function(e) {
              this.state.set("help", e);
            },
            renderHtml: function() {
              var e = this.classPrefix;
              return (
                '<div id="' +
                this._id +
                '" class="' +
                this.classes +
                '"><div id="' +
                this._id +
                '-body">' +
                this.encode(this.state.get("text")) +
                '<button role="button" tabindex="-1"><i class="' +
                e +
                "ico " +
                e +
                'i-help"></i></button></div></div>'
              );
            },
            bindStates: function() {
              var e = this;
              return (
                e.state.on("change:text", function(t) {
                  (e.getEl("body").firstChild.data = e.encode(t.value)),
                    e.state.get("rendered") && e.updateLayoutRect();
                }),
                e.state.on("change:help", function(t) {
                  e.classes.toggle("has-help", t.value),
                    e.state.get("rendered") && e.updateLayoutRect();
                }),
                e._super()
              );
            }
          }),
          Jr = At.extend({
            init: function(e) {
              this._super(e),
                this.classes.add("widget").add("label"),
                (this.canFocus = !1),
                e.multiline && this.classes.add("autoscroll"),
                e.strong && this.classes.add("strong");
            },
            initLayoutRect: function() {
              var e = this._super();
              return (
                this.settings.multiline &&
                  (Ce.getSize(this.getEl()).width > e.maxW &&
                    ((e.minW = e.maxW), this.classes.add("multiline")),
                  (this.getEl().style.width = e.minW + "px"),
                  (e.startMinH = e.h = e.minH = Math.min(
                    e.maxH,
                    Ce.getSize(this.getEl()).height
                  ))),
                e
              );
            },
            repaint: function() {
              return (
                this.settings.multiline ||
                  (this.getEl().style.lineHeight = this.layoutRect().h + "px"),
                this._super()
              );
            },
            severity: function(e) {
              this.classes.remove("error"),
                this.classes.remove("warning"),
                this.classes.remove("success"),
                this.classes.add(e);
            },
            renderHtml: function() {
              var e,
                t,
                n = this.settings.forId,
                r = this.settings.html
                  ? this.settings.html
                  : this.encode(this.state.get("text"));
              return (
                !n &&
                  (t = this.settings.forName) &&
                  (e = this.getRoot().find("#" + t)[0]) &&
                  (n = e._id),
                n
                  ? '<label id="' +
                    this._id +
                    '" class="' +
                    this.classes +
                    '"' +
                    (n ? ' for="' + n + '"' : "") +
                    ">" +
                    r +
                    "</label>"
                  : '<span id="' +
                    this._id +
                    '" class="' +
                    this.classes +
                    '">' +
                    r +
                    "</span>"
              );
            },
            bindStates: function() {
              var e = this;
              return (
                e.state.on("change:text", function(t) {
                  e.innerHtml(e.encode(t.value)),
                    e.state.get("rendered") && e.updateLayoutRect();
                }),
                e._super()
              );
            }
          }),
          Qr = st.extend({
            Defaults: { role: "toolbar", layout: "flow" },
            init: function(e) {
              this._super(e), this.classes.add("toolbar");
            },
            postRender: function() {
              return (
                this.items().each(function(e) {
                  e.classes.add("toolbar-item");
                }),
                this._super()
              );
            }
          }),
          Zr = Qr.extend({
            Defaults: {
              role: "menubar",
              containerCls: "menubar",
              ariaRoot: !0,
              defaults: { type: "menubutton" }
            }
          }),
          eo = Xt.extend({
            init: function(e) {
              (this._renderOpen = !0),
                this._super(e),
                (e = this.settings),
                this.classes.add("menubtn"),
                e.fixedWidth && this.classes.add("fixed-width"),
                this.aria("haspopup", !0),
                this.state.set("menu", e.menu || this.render());
            },
            showMenu: function(e) {
              var t,
                n = this;
              if (n.menu && n.menu.visible() && !1 !== e) return n.hideMenu();
              n.menu ||
                ((t = n.state.get("menu") || []),
                n.classes.add("opened"),
                t.length
                  ? (t = { type: "menu", animate: !0, items: t })
                  : ((t.type = t.type || "menu"), (t.animate = !0)),
                t.renderTo
                  ? (n.menu = t
                      .parent(n)
                      .show()
                      .renderTo())
                  : (n.menu = g
                      .create(t)
                      .parent(n)
                      .renderTo()),
                n.fire("createmenu"),
                n.menu.reflow(),
                n.menu.on("cancel", function(e) {
                  e.control.parent() === n.menu &&
                    (e.stopPropagation(), n.focus(), n.hideMenu());
                }),
                n.menu.on("select", function() {
                  n.focus();
                }),
                n.menu
                  .on("show hide", function(e) {
                    "hide" === e.type &&
                      e.control.parent() === n &&
                      n.classes.remove("opened-under"),
                      e.control === n.menu &&
                        (n.activeMenu("show" === e.type),
                        n.classes.toggle("opened", "show" === e.type)),
                      n.aria("expanded", "show" === e.type);
                  })
                  .fire("show")),
                n.menu.show(),
                n.menu.layoutRect({ w: n.layoutRect().w }),
                n.menu.repaint(),
                n.menu.moveRel(
                  n.getEl(),
                  n.isRtl() ? ["br-tr", "tr-br"] : ["bl-tl", "tl-bl"]
                );
              var r = n.menu.layoutRect(),
                o = n.$el.offset().top + n.layoutRect().h;
              o > r.y && o < r.y + r.h && n.classes.add("opened-under"),
                n.fire("showmenu");
            },
            hideMenu: function() {
              this.menu &&
                (this.menu.items().each(function(e) {
                  e.hideMenu && e.hideMenu();
                }),
                this.menu.hide());
            },
            activeMenu: function(e) {
              this.classes.toggle("active", e);
            },
            renderHtml: function() {
              var t,
                n = this._id,
                r = this.classPrefix,
                o = this.settings.icon,
                i = this.state.get("text"),
                a = "";
              return (
                (t = this.settings.image)
                  ? ((o = "none"),
                    "string" != typeof t &&
                      (t = e.window.getSelection ? t[0] : t[1]),
                    (t = " style=\"background-image: url('" + t + "')\""))
                  : (t = ""),
                i &&
                  (this.classes.add("btn-has-text"),
                  (a =
                    '<span class="' +
                    r +
                    'txt">' +
                    this.encode(i) +
                    "</span>")),
                (o = this.settings.icon ? r + "ico " + r + "i-" + o : ""),
                this.aria(
                  "role",
                  this.parent() instanceof Zr ? "menuitem" : "button"
                ),
                '<div id="' +
                  n +
                  '" class="' +
                  this.classes +
                  '" tabindex="-1" aria-labelledby="' +
                  n +
                  '"><button id="' +
                  n +
                  '-open" role="presentation" type="button" tabindex="-1">' +
                  (o ? '<i class="' + o + '"' + t + "></i>" : "") +
                  a +
                  ' <i class="' +
                  r +
                  'caret"></i></button></div>'
              );
            },
            postRender: function() {
              var e = this;
              return (
                e.on("click", function(t) {
                  t.control === e &&
                    (function(e, t) {
                      for (; e; ) {
                        if (t === e) return !0;
                        e = e.parentNode;
                      }
                      return !1;
                    })(t.target, e.getEl()) &&
                    (e.focus(),
                    e.showMenu(!t.aria),
                    t.aria &&
                      e.menu
                        .items()
                        .filter(":visible")[0]
                        .focus());
                }),
                e.on("mouseenter", function(t) {
                  var n,
                    r = t.control,
                    o = e.parent();
                  r &&
                    o &&
                    r instanceof eo &&
                    r.parent() === o &&
                    (o
                      .items()
                      .filter("MenuButton")
                      .each(function(e) {
                        e.hideMenu &&
                          e !== r &&
                          (e.menu && e.menu.visible() && (n = !0),
                          e.hideMenu());
                      }),
                    n && (r.focus(), r.showMenu()));
                }),
                e._super()
              );
            },
            bindStates: function() {
              var e = this;
              return (
                e.state.on("change:menu", function() {
                  e.menu && e.menu.remove(), (e.menu = null);
                }),
                e._super()
              );
            },
            remove: function() {
              this._super(), this.menu && this.menu.remove();
            }
          }),
          to = Et.extend({
            Defaults: {
              defaultType: "menuitem",
              border: 1,
              layout: "stack",
              role: "application",
              bodyRole: "menu",
              ariaRoot: !0
            },
            init: function(e) {
              if (
                ((e.autohide = !0),
                (e.constrainToViewport = !0),
                "function" == typeof e.items &&
                  ((e.itemsFactory = e.items), (e.items = [])),
                e.itemDefaults)
              )
                for (var t = e.items, n = t.length; n--; )
                  t[n] = u.extend({}, e.itemDefaults, t[n]);
              this._super(e),
                this.classes.add("menu"),
                e.animate && 11 !== le.ie && this.classes.add("animate");
            },
            repaint: function() {
              return (
                this.classes.toggle("menu-align", !0),
                this._super(),
                (this.getEl().style.height = ""),
                (this.getEl("body").style.height = ""),
                this
              );
            },
            cancel: function() {
              this.hideAll(), this.fire("select");
            },
            load: function() {
              var e,
                t = this;
              function n() {
                t.throbber && (t.throbber.hide(), (t.throbber = null));
              }
              t.settings.itemsFactory &&
                (t.throbber ||
                  ((t.throbber = new kt(t.getEl("body"), !0)),
                  0 === t.items().length
                    ? (t.throbber.show(), t.fire("loading"))
                    : t.throbber.show(100, function() {
                        t.items().remove(), t.fire("loading");
                      }),
                  t.on("hide close", n)),
                (t.requestTime = e = new Date().getTime()),
                t.settings.itemsFactory(function(r) {
                  0 !== r.length
                    ? t.requestTime === e &&
                      ((t.getEl().style.width = ""),
                      (t.getEl("body").style.width = ""),
                      n(),
                      t.items().remove(),
                      (t.getEl("body").innerHTML = ""),
                      t.add(r),
                      t.renderNew(),
                      t.fire("loaded"))
                    : t.hide();
                }));
            },
            hideAll: function() {
              return this.find("menuitem").exec("hideMenu"), this._super();
            },
            preRender: function() {
              var e = this;
              return (
                e.items().each(function(t) {
                  var n = t.settings;
                  if (n.icon || n.image || n.selectable)
                    return (e._hasIcons = !0), !1;
                }),
                e.settings.itemsFactory &&
                  e.on("postrender", function() {
                    e.settings.itemsFactory && e.load();
                  }),
                e.on("show hide", function(t) {
                  t.control === e &&
                    ("show" === t.type
                      ? S.setTimeout(function() {
                          e.classes.add("in");
                        }, 0)
                      : e.classes.remove("in"));
                }),
                e._super()
              );
            }
          }),
          no = eo.extend({
            init: function(e) {
              var t,
                n,
                r,
                o,
                i = this;
              i._super(e),
                (e = i.settings),
                (i._values = t = e.values),
                t &&
                  (void 0 !== e.value &&
                    (function t(o) {
                      for (var a = 0; a < o.length; a++) {
                        if ((n = o[a].selected || e.value === o[a].value))
                          return (
                            (r = r || o[a].text),
                            i.state.set("value", o[a].value),
                            !0
                          );
                        if (o[a].menu && t(o[a].menu)) return !0;
                      }
                    })(t),
                  !n &&
                    t.length > 0 &&
                    ((r = t[0].text), i.state.set("value", t[0].value)),
                  i.state.set("menu", t)),
                i.state.set("text", e.text || r),
                i.classes.add("listbox"),
                i.on("select", function(t) {
                  var n = t.control;
                  o && (t.lastControl = o),
                    e.multiple
                      ? n.active(!n.active())
                      : i.value(t.control.value()),
                    (o = n);
                });
            },
            value: function(e) {
              if (0 === arguments.length) return this.state.get("value");
              if (void 0 === e) return this;
              function t(n) {
                return X(n, function(n) {
                  return n.menu ? t(n.menu) : n.value === e;
                });
              }
              return (
                this.settings.values
                  ? t(this.settings.values)
                    ? this.state.set("value", e)
                    : null === e && this.state.set("value", null)
                  : this.state.set("value", e),
                this
              );
            },
            bindStates: function() {
              var e = this;
              return (
                e.on("show", function(t) {
                  var n, r;
                  (n = t.control),
                    (r = e.value()),
                    n instanceof to &&
                      n.items().each(function(e) {
                        e.hasMenus() || e.active(e.value() === r);
                      });
                }),
                e.state.on("change:value", function(t) {
                  var n = (function e(t, n) {
                    var r;
                    if (t)
                      for (var o = 0; o < t.length; o++) {
                        if (t[o].value === n) return t[o];
                        if (t[o].menu && (r = e(t[o].menu, n))) return r;
                      }
                  })(e.state.get("menu"), t.value);
                  n ? e.text(n.text) : e.text(e.settings.text);
                }),
                e._super()
              );
            }
          }),
          ro = At.extend({
            Defaults: { border: 0, role: "menuitem" },
            init: function(e) {
              var t;
              this._super(e),
                (e = this.settings),
                this.classes.add("menu-item"),
                e.menu && this.classes.add("menu-item-expand"),
                e.preview && this.classes.add("menu-item-preview"),
                ("-" !== (t = this.state.get("text")) && "|" !== t) ||
                  (this.classes.add("menu-item-sep"),
                  this.aria("role", "separator"),
                  this.state.set("text", "-")),
                e.selectable &&
                  (this.aria("role", "menuitemcheckbox"),
                  this.classes.add("menu-item-checkbox"),
                  (e.icon = "selected")),
                e.preview ||
                  e.selectable ||
                  this.classes.add("menu-item-normal"),
                this.on("mousedown", function(e) {
                  e.preventDefault();
                }),
                e.menu && !e.ariaHideMenu && this.aria("haspopup", !0);
            },
            hasMenus: function() {
              return !!this.settings.menu;
            },
            showMenu: function() {
              var e,
                t = this,
                n = t.settings,
                r = t.parent();
              if (
                (r.items().each(function(e) {
                  e !== t && e.hideMenu();
                }),
                n.menu)
              ) {
                (e = t.menu)
                  ? e.show()
                  : ((e = n.menu).length
                      ? (e = { type: "menu", items: e })
                      : (e.type = e.type || "menu"),
                    r.settings.itemDefaults &&
                      (e.itemDefaults = r.settings.itemDefaults),
                    (e = t.menu = g
                      .create(e)
                      .parent(t)
                      .renderTo()).reflow(),
                    e.on("cancel", function(n) {
                      n.stopPropagation(), t.focus(), e.hide();
                    }),
                    e
                      .on("show hide", function(e) {
                        e.control.items &&
                          e.control.items().each(function(e) {
                            e.active(e.settings.selected);
                          });
                      })
                      .fire("show"),
                    e.on("hide", function(n) {
                      n.control === e && t.classes.remove("selected");
                    }),
                    (e.submenu = !0)),
                  (e._parentMenu = r),
                  e.classes.add("menu-sub");
                var o = e.testMoveRel(
                  t.getEl(),
                  t.isRtl()
                    ? ["tl-tr", "bl-br", "tr-tl", "br-bl"]
                    : ["tr-tl", "br-bl", "tl-tr", "bl-br"]
                );
                e.moveRel(t.getEl(), o),
                  (e.rel = o),
                  (o = "menu-sub-" + o),
                  e.classes.remove(e._lastRel).add(o),
                  (e._lastRel = o),
                  t.classes.add("selected"),
                  t.aria("expanded", !0);
              }
            },
            hideMenu: function() {
              return (
                this.menu &&
                  (this.menu.items().each(function(e) {
                    e.hideMenu && e.hideMenu();
                  }),
                  this.menu.hide(),
                  this.aria("expanded", !1)),
                this
              );
            },
            renderHtml: function() {
              var e,
                t = this._id,
                n = this.settings,
                r = this.classPrefix,
                o = this.state.get("text"),
                i = this.settings.icon,
                a = "",
                u = n.shortcut,
                s = this.encode(n.url);
              function c(e) {
                return e.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
              }
              function l(e) {
                var t = n.match || "";
                return t
                  ? e.replace(new RegExp(c(t), "gi"), function(e) {
                      return "!mce~match[" + e + "]mce~match!";
                    })
                  : e;
              }
              function f(e) {
                return e
                  .replace(new RegExp(c("!mce~match["), "g"), "<b>")
                  .replace(new RegExp(c("]mce~match!"), "g"), "</b>");
              }
              return (
                i && this.parent().classes.add("menu-has-icons"),
                n.image &&
                  (a = " style=\"background-image: url('" + n.image + "')\""),
                u &&
                  (u = (function(e) {
                    var t,
                      n,
                      r = {};
                    for (
                      r = le.mac
                        ? {
                            alt: "&#x2325;",
                            ctrl: "&#x2318;",
                            shift: "&#x21E7;",
                            meta: "&#x2318;"
                          }
                        : { meta: "Ctrl" },
                        e = e.split("+"),
                        t = 0;
                      t < e.length;
                      t++
                    )
                      (n = r[e[t].toLowerCase()]) && (e[t] = n);
                    return e.join("+");
                  })(u)),
                (i = r + "ico " + r + "i-" + (this.settings.icon || "none")),
                (e = "-" !== o ? '<i class="' + i + '"' + a + "></i> " : ""),
                (o = f(this.encode(l(o)))),
                (s = f(this.encode(l(s)))),
                '<div id="' +
                  t +
                  '" class="' +
                  this.classes +
                  '" tabindex="-1">' +
                  e +
                  ("-" !== o
                    ? '<span id="' +
                      t +
                      '-text" class="' +
                      r +
                      'text">' +
                      o +
                      "</span>"
                    : "") +
                  (u
                    ? '<div id="' +
                      t +
                      '-shortcut" class="' +
                      r +
                      'menu-shortcut">' +
                      u +
                      "</div>"
                    : "") +
                  (n.menu ? '<div class="' + r + 'caret"></div>' : "") +
                  (s
                    ? '<div class="' + r + 'menu-item-link">' + s + "</div>"
                    : "") +
                  "</div>"
              );
            },
            postRender: function() {
              var e = this,
                t = e.settings,
                n = t.textStyle;
              if (("function" == typeof n && (n = n.call(this)), n)) {
                var r = e.getEl("text");
                r && (r.setAttribute("style", n), (e._textStyle = n));
              }
              return (
                e.on("mouseenter click", function(n) {
                  n.control === e &&
                    (t.menu || "click" !== n.type
                      ? (e.showMenu(), n.aria && e.menu.focus(!0))
                      : (e.fire("select"),
                        S.requestAnimationFrame(function() {
                          e.parent().hideAll();
                        })));
                }),
                e._super(),
                e
              );
            },
            hover: function() {
              return (
                this.parent()
                  .items()
                  .each(function(e) {
                    e.classes.remove("selected");
                  }),
                this.classes.toggle("selected", !0),
                this
              );
            },
            active: function(e) {
              return (
                (function(e, t) {
                  var n = e._textStyle;
                  if (n) {
                    var r = e.getEl("text");
                    r.setAttribute("style", n),
                      t &&
                        ((r.style.color = ""), (r.style.backgroundColor = ""));
                  }
                })(this, e),
                void 0 !== e && this.aria("checked", e),
                this._super(e)
              );
            },
            remove: function() {
              this._super(), this.menu && this.menu.remove();
            }
          }),
          oo = Qt.extend({ Defaults: { classes: "radio", role: "radio" } }),
          io = At.extend({
            renderHtml: function() {
              var e = this.classPrefix;
              return (
                this.classes.add("resizehandle"),
                "both" === this.settings.direction &&
                  this.classes.add("resizehandle-both"),
                (this.canFocus = !1),
                '<div id="' +
                  this._id +
                  '" class="' +
                  this.classes +
                  '"><i class="' +
                  e +
                  "ico " +
                  e +
                  'i-resize"></i></div>'
              );
            },
            postRender: function() {
              var e = this;
              e._super(),
                (e.resizeDragHelper = new lt(this._id, {
                  start: function() {
                    e.fire("ResizeStart");
                  },
                  drag: function(t) {
                    "both" !== e.settings.direction && (t.deltaX = 0),
                      e.fire("Resize", t);
                  },
                  stop: function() {
                    e.fire("ResizeEnd");
                  }
                }));
            },
            remove: function() {
              return (
                this.resizeDragHelper && this.resizeDragHelper.destroy(),
                this._super()
              );
            }
          });
        function ao(e) {
          var t = "";
          if (e)
            for (var n = 0; n < e.length; n++)
              t += '<option value="' + e[n] + '">' + e[n] + "</option>";
          return t;
        }
        var uo = At.extend({
          Defaults: { classes: "selectbox", role: "selectbox", options: [] },
          init: function(e) {
            var t = this;
            t._super(e),
              t.settings.size && (t.size = t.settings.size),
              t.settings.options && (t._options = t.settings.options),
              t.on("keydown", function(e) {
                var n;
                13 === e.keyCode &&
                  (e.preventDefault(),
                  t
                    .parents()
                    .reverse()
                    .each(function(e) {
                      if (e.toJSON) return (n = e), !1;
                    }),
                  t.fire("submit", { data: n.toJSON() }));
              });
          },
          options: function(e) {
            return arguments.length
              ? (this.state.set("options", e), this)
              : this.state.get("options");
          },
          renderHtml: function() {
            var e,
              t = "";
            return (
              (e = ao(this._options)),
              this.size && (t = ' size = "' + this.size + '"'),
              '<select id="' +
                this._id +
                '" class="' +
                this.classes +
                '"' +
                t +
                ">" +
                e +
                "</select>"
            );
          },
          bindStates: function() {
            var e = this;
            return (
              e.state.on("change:options", function(t) {
                e.getEl().innerHTML = ao(t.value);
              }),
              e._super()
            );
          }
        });
        function so(e, t, n) {
          return e < t && (e = t), e > n && (e = n), e;
        }
        function co(e, t, n) {
          e.setAttribute("aria-" + t, n);
        }
        function lo(e, t) {
          var n, r, o, i, a;
          "v" === e.settings.orientation
            ? ((o = "top"), (r = "height"), (n = "h"))
            : ((o = "left"), (r = "width"), (n = "w")),
            (a = e.getEl("handle")),
            (i =
              ((e.layoutRect()[n] || 100) - Ce.getSize(a)[r]) *
                ((t - e._minValue) / (e._maxValue - e._minValue)) +
              "px"),
            (a.style[o] = i),
            (a.style.height = e.layoutRect().h + "px"),
            co(a, "valuenow", t),
            co(a, "valuetext", "" + e.settings.previewFilter(t)),
            co(a, "valuemin", e._minValue),
            co(a, "valuemax", e._maxValue);
        }
        var fo = At.extend({
            init: function(e) {
              e.previewFilter ||
                (e.previewFilter = function(e) {
                  return Math.round(100 * e) / 100;
                }),
                this._super(e),
                this.classes.add("slider"),
                "v" === e.orientation && this.classes.add("vertical"),
                (this._minValue = q(e.minValue) ? e.minValue : 0),
                (this._maxValue = q(e.maxValue) ? e.maxValue : 100),
                (this._initValue = this.state.get("value"));
            },
            renderHtml: function() {
              var e = this._id,
                t = this.classPrefix;
              return (
                '<div id="' +
                e +
                '" class="' +
                this.classes +
                '"><div id="' +
                e +
                '-handle" class="' +
                t +
                'slider-handle" role="slider" tabindex="-1"></div></div>'
              );
            },
            reset: function() {
              this.value(this._initValue).repaint();
            },
            postRender: function() {
              var e,
                t,
                n,
                r,
                o,
                i,
                a = this;
              (e = a._minValue),
                (t = a._maxValue),
                "v" === a.settings.orientation
                  ? ((n = "screenY"), (r = "top"), (o = "height"), (i = "h"))
                  : ((n = "screenX"), (r = "left"), (o = "width"), (i = "w")),
                a._super(),
                (function(e, t) {
                  function n(n) {
                    var r, o;
                    (r = a.value()),
                      (r = so(
                        (r = (function(e, t, n) {
                          return n * (t - e) - e;
                        })(e, t, (r + (o = e)) / (t - o) + 0.05 * n)),
                        e,
                        t
                      )),
                      a.value(r),
                      a.fire("dragstart", { value: r }),
                      a.fire("drag", { value: r }),
                      a.fire("dragend", { value: r });
                  }
                  a.on("keydown", function(e) {
                    switch (e.keyCode) {
                      case 37:
                      case 38:
                        n(-1);
                        break;
                      case 39:
                      case 40:
                        n(1);
                    }
                  });
                })(e, t),
                (function(e, t, u) {
                  var s, c, l, f, d;
                  a._dragHelper = new lt(a._id, {
                    handle: a._id + "-handle",
                    start: function(e) {
                      (s = e[n]),
                        (c = parseInt(a.getEl("handle").style[r], 10)),
                        (l = (a.layoutRect()[i] || 100) - Ce.getSize(u)[o]),
                        a.fire("dragstart", { value: d });
                    },
                    drag: function(o) {
                      var i = o[n] - s;
                      (f = so(c + i, 0, l)),
                        (u.style[r] = f + "px"),
                        (d = e + (f / l) * (t - e)),
                        a.value(d),
                        a
                          .tooltip()
                          .text("" + a.settings.previewFilter(d))
                          .show()
                          .moveRel(u, "bc tc"),
                        a.fire("drag", { value: d });
                    },
                    stop: function() {
                      a.tooltip().hide(), a.fire("dragend", { value: d });
                    }
                  });
                })(e, t, a.getEl("handle"));
            },
            repaint: function() {
              this._super(), lo(this, this.value());
            },
            bindStates: function() {
              var e = this;
              return (
                e.state.on("change:value", function(t) {
                  lo(e, t.value);
                }),
                e._super()
              );
            }
          }),
          mo = At.extend({
            renderHtml: function() {
              return (
                this.classes.add("spacer"),
                (this.canFocus = !1),
                '<div id="' + this._id + '" class="' + this.classes + '"></div>'
              );
            }
          }),
          ho = eo.extend({
            Defaults: { classes: "widget btn splitbtn", role: "button" },
            repaint: function() {
              var e,
                t,
                n = this.getEl(),
                r = this.layoutRect();
              return (
                this._super(),
                (e = n.firstChild),
                (t = n.lastChild),
                we(e).css({
                  width: r.w - Ce.getSize(t).width,
                  height: r.h - 2
                }),
                we(t).css({ height: r.h - 2 }),
                this
              );
            },
            activeMenu: function(e) {
              we(this.getEl().lastChild).toggleClass(
                this.classPrefix + "active",
                e
              );
            },
            renderHtml: function() {
              var t,
                n,
                r = this._id,
                o = this.classPrefix,
                i = this.state.get("icon"),
                a = this.state.get("text"),
                u = this.settings,
                s = "";
              return (
                (t = u.image)
                  ? ((i = "none"),
                    "string" != typeof t &&
                      (t = e.window.getSelection ? t[0] : t[1]),
                    (t = " style=\"background-image: url('" + t + "')\""))
                  : (t = ""),
                (i = u.icon ? o + "ico " + o + "i-" + i : ""),
                a &&
                  (this.classes.add("btn-has-text"),
                  (s =
                    '<span class="' +
                    o +
                    'txt">' +
                    this.encode(a) +
                    "</span>")),
                (n =
                  "boolean" == typeof u.active
                    ? ' aria-pressed="' + u.active + '"'
                    : ""),
                '<div id="' +
                  r +
                  '" class="' +
                  this.classes +
                  '" role="button"' +
                  n +
                  ' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">' +
                  (i ? '<i class="' + i + '"' + t + "></i>" : "") +
                  s +
                  '</button><button type="button" class="' +
                  o +
                  'open" hidefocus="1" tabindex="-1">' +
                  (this._menuBtnText
                    ? (i ? " " : "") + this._menuBtnText
                    : "") +
                  ' <i class="' +
                  o +
                  'caret"></i></button></div>'
              );
            },
            postRender: function() {
              var e = this.settings.onclick;
              return (
                this.on("click", function(t) {
                  var n = t.target;
                  if (t.control === this)
                    for (; n; ) {
                      if (
                        (t.aria && "down" !== t.aria.key) ||
                        ("BUTTON" === n.nodeName &&
                          -1 === n.className.indexOf("open"))
                      )
                        return (
                          t.stopImmediatePropagation(),
                          void (e && e.call(this, t))
                        );
                      n = n.parentNode;
                    }
                }),
                delete this.settings.onclick,
                this._super()
              );
            }
          }),
          go = gr.extend({
            Defaults: {
              containerClass: "stack-layout",
              controlClass: "stack-layout-item",
              endClass: "break"
            },
            isNative: function() {
              return !0;
            }
          }),
          po = pt.extend({
            Defaults: { layout: "absolute", defaults: { type: "panel" } },
            activateTab: function(e) {
              var t;
              this.activeTabId &&
                ((t = this.getEl(this.activeTabId)),
                we(t).removeClass(this.classPrefix + "active"),
                t.setAttribute("aria-selected", "false")),
                (this.activeTabId = "t" + e),
                (t = this.getEl("t" + e)).setAttribute("aria-selected", "true"),
                we(t).addClass(this.classPrefix + "active"),
                this.items()
                  [e].show()
                  .fire("showtab"),
                this.reflow(),
                this.items().each(function(t, n) {
                  e !== n && t.hide();
                });
            },
            renderHtml: function() {
              var e = this,
                t = e._layout,
                n = "",
                r = e.classPrefix;
              return (
                e.preRender(),
                t.preRender(e),
                e.items().each(function(t, o) {
                  var i = e._id + "-t" + o;
                  t.aria("role", "tabpanel"),
                    t.aria("labelledby", i),
                    (n +=
                      '<div id="' +
                      i +
                      '" class="' +
                      r +
                      'tab" unselectable="on" role="tab" aria-controls="' +
                      t._id +
                      '" aria-selected="false" tabIndex="-1">' +
                      e.encode(t.settings.title) +
                      "</div>");
                }),
                '<div id="' +
                  e._id +
                  '" class="' +
                  e.classes +
                  '" hidefocus="1" tabindex="-1"><div id="' +
                  e._id +
                  '-head" class="' +
                  r +
                  'tabs" role="tablist">' +
                  n +
                  '</div><div id="' +
                  e._id +
                  '-body" class="' +
                  e.bodyClasses +
                  '">' +
                  t.renderHtml(e) +
                  "</div></div>"
              );
            },
            postRender: function() {
              var e = this;
              e._super(),
                (e.settings.activeTab = e.settings.activeTab || 0),
                e.activateTab(e.settings.activeTab),
                this.on("click", function(t) {
                  var n = t.target.parentNode;
                  if (n && n.id === e._id + "-head")
                    for (var r = n.childNodes.length; r--; )
                      n.childNodes[r] === t.target && e.activateTab(r);
                });
            },
            initLayoutRect: function() {
              var e, t, n;
              (t = (t = Ce.getSize(this.getEl("head")).width) < 0 ? 0 : t),
                (n = 0),
                this.items().each(function(e) {
                  (t = Math.max(t, e.layoutRect().minW)),
                    (n = Math.max(n, e.layoutRect().minH));
                }),
                this.items().each(function(e) {
                  (e.settings.x = 0),
                    (e.settings.y = 0),
                    (e.settings.w = t),
                    (e.settings.h = n),
                    e.layoutRect({ x: 0, y: 0, w: t, h: n });
                });
              var r = Ce.getSize(this.getEl("head")).height;
              return (
                (this.settings.minWidth = t),
                (this.settings.minHeight = n + r),
                ((e = this._super()).deltaH += r),
                (e.innerH = e.h - e.deltaH),
                e
              );
            }
          }),
          vo = At.extend({
            init: function(e) {
              var t = this;
              t._super(e),
                t.classes.add("textbox"),
                e.multiline
                  ? t.classes.add("multiline")
                  : (t.on("keydown", function(e) {
                      var n;
                      13 === e.keyCode &&
                        (e.preventDefault(),
                        t
                          .parents()
                          .reverse()
                          .each(function(e) {
                            if (e.toJSON) return (n = e), !1;
                          }),
                        t.fire("submit", { data: n.toJSON() }));
                    }),
                    t.on("keyup", function(e) {
                      t.state.set("value", e.target.value);
                    }));
            },
            repaint: function() {
              var t,
                n,
                r,
                o,
                i,
                a = 0;
              (t = this.getEl().style),
                (n = this._layoutRect),
                (i = this._lastRepaintRect || {});
              var u = e.document;
              return (
                !this.settings.multiline &&
                  u.all &&
                  (!u.documentMode || u.documentMode <= 8) &&
                  (t.lineHeight = n.h - a + "px"),
                (o = (r = this.borderBox).left + r.right + 8),
                (a = r.top + r.bottom + (this.settings.multiline ? 8 : 0)),
                n.x !== i.x && ((t.left = n.x + "px"), (i.x = n.x)),
                n.y !== i.y && ((t.top = n.y + "px"), (i.y = n.y)),
                n.w !== i.w && ((t.width = n.w - o + "px"), (i.w = n.w)),
                n.h !== i.h && ((t.height = n.h - a + "px"), (i.h = n.h)),
                (this._lastRepaintRect = i),
                this.fire("repaint", {}, !1),
                this
              );
            },
            renderHtml: function() {
              var e,
                t,
                n = this.settings;
              return (
                (e = { id: this._id, hidefocus: "1" }),
                u.each(
                  [
                    "rows",
                    "spellcheck",
                    "maxLength",
                    "size",
                    "readonly",
                    "min",
                    "max",
                    "step",
                    "list",
                    "pattern",
                    "placeholder",
                    "required",
                    "multiple"
                  ],
                  function(t) {
                    e[t] = n[t];
                  }
                ),
                this.disabled() && (e.disabled = "disabled"),
                n.subtype && (e.type = n.subtype),
                ((t = Ce.create(
                  n.multiline ? "textarea" : "input",
                  e
                )).value = this.state.get("value")),
                (t.className = this.classes.toString()),
                t.outerHTML
              );
            },
            value: function(e) {
              return arguments.length
                ? (this.state.set("value", e), this)
                : (this.state.get("rendered") &&
                    this.state.set("value", this.getEl().value),
                  this.state.get("value"));
            },
            postRender: function() {
              var e = this;
              (e.getEl().value = e.state.get("value")),
                e._super(),
                e.$el.on("change", function(t) {
                  e.state.set("value", t.target.value), e.fire("change", t);
                });
            },
            bindStates: function() {
              var e = this;
              return (
                e.state.on("change:value", function(t) {
                  e.getEl().value !== t.value && (e.getEl().value = t.value);
                }),
                e.state.on("change:disabled", function(t) {
                  e.getEl().disabled = t.value;
                }),
                e._super()
              );
            },
            remove: function() {
              this.$el.off(), this._super();
            }
          }),
          bo = function() {
            return {
              Selector: We,
              Collection: Ve,
              ReflowQueue: Qe,
              Control: ot,
              Factory: g,
              KeyboardNavigation: at,
              Container: st,
              DragHelper: lt,
              Scrollable: gt,
              Panel: pt,
              Movable: ke,
              Resizable: vt,
              FloatPanel: Et,
              Window: Wt,
              MessageBox: qt,
              Tooltip: Ot,
              Widget: At,
              Progress: Pt,
              Notification: It,
              Layout: Kt,
              AbsoluteLayout: Yt,
              Button: Xt,
              ButtonGroup: Jt,
              Checkbox: Qt,
              ComboBox: en,
              ColorBox: tn,
              PanelButton: nn,
              ColorButton: on,
              ColorPicker: un,
              Path: cn,
              ElementPath: ln,
              FormItem: fn,
              Form: dn,
              FieldSet: mn,
              FilePicker: dr,
              FitLayout: mr,
              FlexLayout: hr,
              FlowLayout: gr,
              FormatControls: Kr,
              GridLayout: Yr,
              Iframe: Xr,
              InfoBox: Gr,
              Label: Jr,
              Toolbar: Qr,
              MenuBar: Zr,
              MenuButton: eo,
              MenuItem: ro,
              Throbber: kt,
              Menu: to,
              ListBox: no,
              Radio: oo,
              ResizeHandle: io,
              SelectBox: uo,
              Slider: fo,
              Spacer: mo,
              SplitButton: ho,
              StackLayout: go,
              TabPanel: po,
              TextBox: vo,
              DropZone: sn,
              BrowseButton: Gt
            };
          },
          yo = function(e) {
            e.ui
              ? u.each(bo(), function(t, n) {
                  e.ui[n] = t;
                })
              : (e.ui = bo());
          };
        u.each(bo(), function(e, t) {
          g.add(t, e);
        }),
          yo(window.tinymce ? window.tinymce : {}),
          i.add("modern", function(e) {
            return Kr.setup(e), $t(e);
          });
      })(window);
    },
    754: function(e, t, n) {
      n(1284);
    },
    755: function(e, t, n) {
      n(1285);
    },
    756: function(e, t, n) {
      n(1286);
    },
    757: function(e, t, n) {
      n(1287);
    },
    758: function(e, t, n) {
      n(1288);
    },
    759: function(e, t, n) {
      n(1289);
    },
    760: function(e, t, n) {
      n(1290);
    },
    761: function(e, t, n) {
      n(1291);
    },
    762: function(e, t, n) {
      n(1292);
    },
    770: function(e, t, n) {
      "use strict";
      n.d(t, "a", function() {
        return y;
      });
      var r,
        o = n(0),
        i = n(8),
        a = function() {
          return (a =
            Object.assign ||
            function(e) {
              for (var t, n = 1, r = arguments.length; n < r; n++)
                for (var o in (t = arguments[n]))
                  Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
              return e;
            }).apply(this, arguments);
        },
        u = {
          onActivate: i.func,
          onAddUndo: i.func,
          onBeforeAddUndo: i.func,
          onBeforeExecCommand: i.func,
          onBeforeGetContent: i.func,
          onBeforeRenderUI: i.func,
          onBeforeSetContent: i.func,
          onBeforePaste: i.func,
          onBlur: i.func,
          onChange: i.func,
          onClearUndos: i.func,
          onClick: i.func,
          onContextMenu: i.func,
          onCopy: i.func,
          onCut: i.func,
          onDblclick: i.func,
          onDeactivate: i.func,
          onDirty: i.func,
          onDrag: i.func,
          onDragDrop: i.func,
          onDragEnd: i.func,
          onDragGesture: i.func,
          onDragOver: i.func,
          onDrop: i.func,
          onExecCommand: i.func,
          onFocus: i.func,
          onFocusIn: i.func,
          onFocusOut: i.func,
          onGetContent: i.func,
          onHide: i.func,
          onInit: i.func,
          onKeyDown: i.func,
          onKeyPress: i.func,
          onKeyUp: i.func,
          onLoadContent: i.func,
          onMouseDown: i.func,
          onMouseEnter: i.func,
          onMouseLeave: i.func,
          onMouseMove: i.func,
          onMouseOut: i.func,
          onMouseOver: i.func,
          onMouseUp: i.func,
          onNodeChange: i.func,
          onObjectResizeStart: i.func,
          onObjectResized: i.func,
          onObjectSelected: i.func,
          onPaste: i.func,
          onPostProcess: i.func,
          onPostRender: i.func,
          onPreProcess: i.func,
          onProgressState: i.func,
          onRedo: i.func,
          onRemove: i.func,
          onReset: i.func,
          onSaveContent: i.func,
          onSelectionChange: i.func,
          onSetAttrib: i.func,
          onSetContent: i.func,
          onShow: i.func,
          onSubmit: i.func,
          onUndo: i.func,
          onVisualAid: i.func
        },
        s = a(
          {
            apiKey: i.string,
            id: i.string,
            inline: i.bool,
            init: i.object,
            initialValue: i.string,
            onEditorChange: i.func,
            value: i.string,
            tagName: i.string,
            cloudChannel: i.string,
            plugins: i.oneOfType([i.string, i.array]),
            toolbar: i.oneOfType([i.string, i.array]),
            disabled: i.bool,
            textareaName: i.string
          },
          u
        ),
        c = function(e) {
          return "function" == typeof e;
        },
        l = 0,
        f = function(e) {
          var t = new Date().getTime();
          return e + "_" + Math.floor(1e9 * Math.random()) + ++l + String(t);
        },
        d = function(e) {
          return null !== e && "textarea" === e.tagName.toLowerCase();
        },
        m = function(e) {
          return void 0 === e || "" === e
            ? []
            : Array.isArray(e)
            ? e
            : e.split(" ");
        },
        h = function(e, t) {
          return m(e).concat(m(t));
        },
        g = n(1293),
        p =
          ((r = function(e, t) {
            return (r =
              Object.setPrototypeOf ||
              ({ __proto__: [] } instanceof Array &&
                function(e, t) {
                  e.__proto__ = t;
                }) ||
              function(e, t) {
                for (var n in t) t.hasOwnProperty(n) && (e[n] = t[n]);
              })(e, t);
          }),
          function(e, t) {
            function n() {
              this.constructor = e;
            }
            r(e, t),
              (e.prototype =
                null === t
                  ? Object.create(t)
                  : ((n.prototype = t.prototype), new n()));
          }),
        v = function() {
          return (v =
            Object.assign ||
            function(e) {
              for (var t, n = 1, r = arguments.length; n < r; n++)
                for (var o in (t = arguments[n]))
                  Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);
              return e;
            }).apply(this, arguments);
        },
        b = { listeners: [], scriptId: f("tiny-script"), scriptLoaded: !1 },
        y = (function(e) {
          function t() {
            var t = (null !== e && e.apply(this, arguments)) || this;
            return (
              (t.element = null),
              (t.initialise = function() {
                var e = v({}, t.props.init, {
                  target: t.element,
                  readonly: t.props.disabled,
                  inline: t.inline,
                  plugins: h(
                    t.props.init && t.props.init.plugins,
                    t.props.plugins
                  ),
                  toolbar:
                    t.props.toolbar || (t.props.init && t.props.init.toolbar),
                  setup: function(e) {
                    (t.editor = e),
                      e.on("init", function(n) {
                        t.initEditor(n, e);
                      }),
                      t.props.init &&
                        "function" == typeof t.props.init.setup &&
                        t.props.init.setup(e);
                  }
                });
                d(t.element) && (t.element.style.visibility = ""),
                  Object(g.a)().init(e);
              }),
              t
            );
          }
          return (
            p(t, e),
            (t.prototype.componentWillMount = function() {
              (this.id = this.id || this.props.id || f("tiny-react")),
                (this.inline = this.props.inline
                  ? this.props.inline
                  : this.props.init && this.props.init.inline);
            }),
            (t.prototype.componentDidMount = function() {
              if (null !== Object(g.a)()) this.initialise();
              else if (this.element && this.element.ownerDocument) {
                var e = this.element.ownerDocument,
                  t = this.props.cloudChannel
                    ? this.props.cloudChannel
                    : "stable",
                  n = this.props.apiKey ? this.props.apiKey : "";
                !(function(e, t, n, r) {
                  e.scriptLoaded
                    ? r()
                    : (e.listeners.push(r),
                      t.getElementById(e.scriptId) ||
                        (function(e, t, n, r) {
                          var o = t.createElement("script");
                          (o.type = "application/javascript"),
                            (o.id = e),
                            o.addEventListener("load", r),
                            (o.src = n),
                            t.head && t.head.appendChild(o);
                        })(e.scriptId, t, n, function() {
                          e.listeners.forEach(function(e) {
                            return e();
                          }),
                            (e.scriptLoaded = !0);
                        }));
                })(
                  b,
                  e,
                  "https://cloud.tinymce.com/" +
                    t +
                    "/tinymce.min.js?apiKey=" +
                    n,
                  this.initialise
                );
              }
            }),
            (t.prototype.componentWillUnmount = function() {
              null !== Object(g.a)() && Object(g.a)().remove(this.editor);
            }),
            (t.prototype.componentWillReceiveProps = function(e) {
              this.editor &&
                this.editor.initialized &&
                ((this.currentContent =
                  this.currentContent || this.editor.getContent()),
                "string" == typeof e.value &&
                  e.value !== this.props.value &&
                  e.value !== this.currentContent &&
                  this.editor.setContent(e.value),
                "boolean" == typeof e.disabled &&
                  e.disabled !== this.props.disabled &&
                  this.editor.setMode(e.disabled ? "readonly" : "design"));
            }),
            (t.prototype.render = function() {
              return this.inline ? this.renderInline() : this.renderIframe();
            }),
            (t.prototype.initEditor = function(e, t) {
              var n = this,
                r =
                  "string" == typeof this.props.value
                    ? this.props.value
                    : "string" == typeof this.props.initialValue
                    ? this.props.initialValue
                    : "";
              t.setContent(r),
                c(this.props.onEditorChange) &&
                  t.on("change keyup setcontent", function(e) {
                    (n.currentContent = t.getContent()),
                      c(n.props.onEditorChange) &&
                        n.props.onEditorChange(n.currentContent);
                  }),
                (function(e, t, n) {
                  var r;
                  Object.keys(e)
                    .filter(
                      ((r = Object.keys(u)),
                      function(e) {
                        return -1 !== r.indexOf(e);
                      })
                    )
                    .forEach(function(r) {
                      var o = e[r];
                      c(o) &&
                        ("onInit" === r
                          ? o(n, t)
                          : t.on(r.substring(2), function(e) {
                              return o(e, t);
                            }));
                    });
                })(this.props, t, e);
            }),
            (t.prototype.renderInline = function() {
              var e = this,
                t = this.props.tagName,
                n = void 0 === t ? "div" : t;
              return o.createElement(n, {
                ref: function(t) {
                  return (e.element = t);
                },
                id: this.id
              });
            }),
            (t.prototype.renderIframe = function() {
              var e = this;
              return o.createElement("textarea", {
                ref: function(t) {
                  return (e.element = t);
                },
                style: { visibility: "hidden" },
                id: this.id,
                name: this.props.textareaName
              });
            }),
            (t.propTypes = s),
            t
          );
        })(o.Component);
    },
    919: function(e, t, n) {
      (function(e) {
        var r =
            (void 0 !== e && e) ||
            ("undefined" != typeof self && self) ||
            window,
          o = Function.prototype.apply;
        function i(e, t) {
          (this._id = e), (this._clearFn = t);
        }
        (t.setTimeout = function() {
          return new i(o.call(setTimeout, r, arguments), clearTimeout);
        }),
          (t.setInterval = function() {
            return new i(o.call(setInterval, r, arguments), clearInterval);
          }),
          (t.clearTimeout = t.clearInterval = function(e) {
            e && e.close();
          }),
          (i.prototype.unref = i.prototype.ref = function() {}),
          (i.prototype.close = function() {
            this._clearFn.call(r, this._id);
          }),
          (t.enroll = function(e, t) {
            clearTimeout(e._idleTimeoutId), (e._idleTimeout = t);
          }),
          (t.unenroll = function(e) {
            clearTimeout(e._idleTimeoutId), (e._idleTimeout = -1);
          }),
          (t._unrefActive = t.active = function(e) {
            clearTimeout(e._idleTimeoutId);
            var t = e._idleTimeout;
            t >= 0 &&
              (e._idleTimeoutId = setTimeout(function() {
                e._onTimeout && e._onTimeout();
              }, t));
          }),
          n(920),
          (t.setImmediate =
            ("undefined" != typeof self && self.setImmediate) ||
            (void 0 !== e && e.setImmediate) ||
            (this && this.setImmediate)),
          (t.clearImmediate =
            ("undefined" != typeof self && self.clearImmediate) ||
            (void 0 !== e && e.clearImmediate) ||
            (this && this.clearImmediate));
      }.call(this, n(81)));
    },
    920: function(e, t, n) {
      (function(e, t) {
        !(function(e, n) {
          "use strict";
          if (!e.setImmediate) {
            var r,
              o,
              i,
              a,
              u,
              s = 1,
              c = {},
              l = !1,
              f = e.document,
              d = Object.getPrototypeOf && Object.getPrototypeOf(e);
            (d = d && d.setTimeout ? d : e),
              "[object process]" === {}.toString.call(e.process)
                ? (r = function(e) {
                    t.nextTick(function() {
                      h(e);
                    });
                  })
                : !(function() {
                    if (e.postMessage && !e.importScripts) {
                      var t = !0,
                        n = e.onmessage;
                      return (
                        (e.onmessage = function() {
                          t = !1;
                        }),
                        e.postMessage("", "*"),
                        (e.onmessage = n),
                        t
                      );
                    }
                  })()
                ? e.MessageChannel
                  ? (((i = new MessageChannel()).port1.onmessage = function(e) {
                      h(e.data);
                    }),
                    (r = function(e) {
                      i.port2.postMessage(e);
                    }))
                  : f && "onreadystatechange" in f.createElement("script")
                  ? ((o = f.documentElement),
                    (r = function(e) {
                      var t = f.createElement("script");
                      (t.onreadystatechange = function() {
                        h(e),
                          (t.onreadystatechange = null),
                          o.removeChild(t),
                          (t = null);
                      }),
                        o.appendChild(t);
                    }))
                  : (r = function(e) {
                      setTimeout(h, 0, e);
                    })
                : ((a = "setImmediate$" + Math.random() + "$"),
                  (u = function(t) {
                    t.source === e &&
                      "string" == typeof t.data &&
                      0 === t.data.indexOf(a) &&
                      h(+t.data.slice(a.length));
                  }),
                  e.addEventListener
                    ? e.addEventListener("message", u, !1)
                    : e.attachEvent("onmessage", u),
                  (r = function(t) {
                    e.postMessage(a + t, "*");
                  })),
              (d.setImmediate = function(e) {
                "function" != typeof e && (e = new Function("" + e));
                for (
                  var t = new Array(arguments.length - 1), n = 0;
                  n < t.length;
                  n++
                )
                  t[n] = arguments[n + 1];
                var o = { callback: e, args: t };
                return (c[s] = o), r(s), s++;
              }),
              (d.clearImmediate = m);
          }
          function m(e) {
            delete c[e];
          }
          function h(e) {
            if (l) setTimeout(h, 0, e);
            else {
              var t = c[e];
              if (t) {
                l = !0;
                try {
                  !(function(e) {
                    var t = e.callback,
                      n = e.args;
                    switch (n.length) {
                      case 0:
                        t();
                        break;
                      case 1:
                        t(n[0]);
                        break;
                      case 2:
                        t(n[0], n[1]);
                        break;
                      case 3:
                        t(n[0], n[1], n[2]);
                        break;
                      default:
                        t.apply(void 0, n);
                    }
                  })(t);
                } finally {
                  m(e), (l = !1);
                }
              }
            }
          }
        })("undefined" == typeof self ? (void 0 === e ? this : e) : self);
      }.call(this, n(81), n(149)));
    }
  }
]);
