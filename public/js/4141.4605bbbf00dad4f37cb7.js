"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[4141],{44141:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var a=n(96540),o=(n(60825),n(23029)),r=n(92901),c=n(50388),i=n(53954),s=n(85501),l=n(58168),d=(n(62062),n(23288),n(94170),n(26099),n(69733)),u=n(47767),m=(n(72121),n(95093)),v=n.n(m),f=n(63950),h=n(54545);function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}v().locale("nl");var E=function(e){function t(e){var n,a,r,s;return(0,o.A)(this,t),a=this,r=t,s=[e],r=(0,i.A)(r),(n=(0,c.A)(a,p()?Reflect.construct(r,s||[],(0,i.A)(a).constructor):r.apply(a,s))).state={events:[],selectedDate:e.calendar.date?e.calendar.date:v()().format("YYYY-MM-DD"),selectedView:e.calendar.view},n.onNavigate=n.onNavigate.bind(n),n.onViewChange=n.onViewChange.bind(n),n.loadCalendarEvents=n.loadCalendarEvents.bind(n),n.openItem=n.openItem.bind(n),n}return(0,s.A)(t,e),(0,r.A)(t,[{key:"componentDidMount",value:function(){this.loadCalendarEvents(this.state.selectedDate,this.state.selectedView)}},{key:"onNavigate",value:function(e,t){this.loadCalendarEvents(e,t)}},{key:"onViewChange",value:function(e){this.loadCalendarEvents(this.state.selectedDate,e)}},{key:"loadCalendarEvents",value:function(e,t){var n=this,a=v()(e).startOf(t).format("YYYY-MM-DD"),o=v()(e).endOf(t).format("YYYY-MM-DD");"month"===t&&(a=v()(e).startOf(t).subtract(1,"w").format("YYYY-MM-DD"),o=v()(e).endOf(t).add(1,"w").format("YYYY-MM-DD")),f.A.fetchTasksCalendarEvents(a,o).then(function(a){var o=[];a.data.data.map(function(e){var t=v()(e.start),n=v()(e.end);o.push({id:e.id,title:e.noteSummary,start:new Date(t.toDate()),end:new Date(n.toDate()),finished:e.finished})}),n.setState({events:o,selectedDate:e,selectedView:t}),n.props.setSelectedDate(e),n.props.setSelectedView(t)})}},{key:"openItem",value:function(e){var t=e.id;this.props.navigate("/taak/".concat(t))}},{key:"render",value:function(){return a.createElement(h.Vv,{events:this.state.events,style:{height:"calc(100vh - 200px)"},step:15,timeslots:4,views:["month","week","day"],view:this.state.selectedView,onView:this.onViewChange,date:new Date(this.state.selectedDate),onNavigate:this.onNavigate,onSelectEvent:this.openItem,localizer:(0,h.ye)(v()),endAccessor:"end",messages:{allDay:"Gehele dag",previous:"<",next:">",today:"Vandaag",month:"Maand",week:"Week",day:"Dag",agenda:"Agenda",date:"Datum",time:"Tijd",showMore:function(e){return"+".concat(e," meer")}},min:new Date("2018-01-01T07:00:00.000Z"),popup:!0,startAccessor:"start",eventPropGetter:D})}}])}(a.Component),D=function(e){if(1===e.finished)return{style:{backgroundColor:"#1f883d"}}};const w=(0,d.Ng)(function(e){return{calendar:e.calendar}},function(e){return{setSelectedDate:function(t){e(function(e){return{type:"SET_SELECTED_DATE",date:e}}(t))},setSelectedView:function(t){e(function(e){return{type:"SET_SELECTED_VIEW",view:e}}(t))}}})(function(e){var t=(0,u.Zp)();return a.createElement(E,(0,l.A)({},e,{navigate:t}))});var g=n(62493),Y=n(55849),k=n(91858);const y=function(e){var t=(0,u.Zp)();return a.createElement("div",{className:"row margin-10-bottom"},a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"btn-group",role:"group"},a.createElement(k.A,{iconName:"arrowLeft",onClickAction:function(){return t(-1)}}),a.createElement(k.A,{iconName:"plus",onClickAction:function(){t("/taak/nieuw")}}))),a.createElement("div",{className:"col-md-4"},a.createElement("h3",{className:"text-center table-title"},"Agenda")),a.createElement("div",{className:"col-md-4"}))},A=function(e){return a.createElement(g.A,null,a.createElement(Y.A,null,a.createElement(y,null),a.createElement(w,null)))}}}]);