"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[4141],{44141:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var a=n(96540),o=n(23029),c=n(92901),r=n(56822),s=n(53954),l=n(85501),i=n(69733),d=n(24179),u=(n(72121),n(95093)),m=n.n(u),f=n(63950),v=n(4929);function h(e,t,n){return t=(0,s.A)(t),(0,r.A)(e,p()?Reflect.construct(t,n||[],(0,s.A)(e).constructor):t.apply(e,n))}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}m().locale("nl");var E=function(e){function t(e){var n;return(0,o.A)(this,t),(n=h(this,t,[e])).state={events:[],selectedDate:e.calendar.date?e.calendar.date:m()().format("YYYY-MM-DD"),selectedView:e.calendar.view},n.onNavigate=n.onNavigate.bind(n),n.onViewChange=n.onViewChange.bind(n),n.loadCalendarEvents=n.loadCalendarEvents.bind(n),n.openItem=n.openItem.bind(n),n}return(0,l.A)(t,e),(0,c.A)(t,[{key:"componentDidMount",value:function(){this.loadCalendarEvents(this.state.selectedDate,this.state.selectedView)}},{key:"onNavigate",value:function(e,t){this.loadCalendarEvents(e,t)}},{key:"onViewChange",value:function(e){this.loadCalendarEvents(this.state.selectedDate,e)}},{key:"loadCalendarEvents",value:function(e,t){var n=this,a=m()(e).startOf(t).format("YYYY-MM-DD"),o=m()(e).endOf(t).format("YYYY-MM-DD");"month"===t&&(a=m()(e).startOf(t).subtract(1,"w").format("YYYY-MM-DD"),o=m()(e).endOf(t).add(1,"w").format("YYYY-MM-DD")),f.A.fetchTasksCalendarEvents(a,o).then((function(a){var o=[];a.data.data.map((function(e){var t=m()(e.start),n=m()(e.end);o.push({id:e.id,title:e.noteSummary,start:new Date(t.toDate()),end:new Date(n.toDate()),finished:e.finished})})),n.setState({events:o,selectedDate:e,selectedView:t}),n.props.setSelectedDate(e),n.props.setSelectedView(t)}))}},{key:"openItem",value:function(e){var t=e.id;d.RL.push("/taak/".concat(t))}},{key:"render",value:function(){return a.createElement(v.Vv,{events:this.state.events,style:{height:"calc(100vh - 200px)"},step:15,timeslots:4,views:["month","week","day"],view:this.state.selectedView,onView:this.onViewChange,date:new Date(this.state.selectedDate),onNavigate:this.onNavigate,onSelectEvent:this.openItem,localizer:(0,v.ye)(m()),endAccessor:"end",messages:{allDay:"Gehele dag",previous:"<",next:">",today:"Vandaag",month:"Maand",week:"Week",day:"Dag",agenda:"Agenda",date:"Datum",time:"Tijd",showMore:function(e){return"+".concat(e," meer")}},min:new Date("2018-01-01T07:00:00.000Z"),popup:!0,startAccessor:"start",eventPropGetter:D})}}])}(a.Component),D=function(e){if(1===e.finished)return{style:{backgroundColor:"#1f883d"}}};const w=(0,i.Ng)((function(e){return{calendar:e.calendar}}),(function(e){return{setSelectedDate:function(t){e(function(e){return{type:"SET_SELECTED_DATE",date:e}}(t))},setSelectedView:function(t){e(function(e){return{type:"SET_SELECTED_VIEW",view:e}}(t))}}}))(E);var g=n(62493),k=n(55849),Y=n(91858);const y=function(e){return a.createElement("div",{className:"row margin-10-bottom"},a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"btn-group",role:"group"},a.createElement(Y.A,{iconName:"arrowLeft",onClickAction:d.Nc.goBack}),a.createElement(Y.A,{iconName:"plus",onClickAction:function(){d.RL.push("/taak/nieuw")}}))),a.createElement("div",{className:"col-md-4"},a.createElement("h3",{className:"text-center table-title"},"Agenda")),a.createElement("div",{className:"col-md-4"}))},C=function(e){return a.createElement(g.A,null,a.createElement(k.A,null,a.createElement(y,null),a.createElement(w,null)))}}}]);