(self.webpackChunkeco=self.webpackChunkeco||[]).push([[4549],{71515:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var a=n(4942),r=n(67294),o=n(45697),l=n.n(o),i=n(320);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.label,n=e.size,a=e.id,o=e.name,l=e.value,c=e.loadOptions,u=e.optionId,m=e.optionName,d=e.onChangeAction,f=e.handleInputChange,p=e.required,h=e.allowCreate,v=e.multi,b=e.error,E=e.errorMessage,g=e.isLoading,w=e.disabled,y=e.placeholder,Z=e.clearable,N={option:function(e){return s(s({},e),{},{fontSize:"12px"})},singleValue:function(e){return s(s({},e),{},{fontSize:"12px"})},menu:function(e){return s(s({},e),{},{zIndex:20})}};return r.createElement("div",{className:"form-group col-sm-12"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-3"},r.createElement("label",{htmlFor:a,className:"col-sm-12 ".concat(p)},t)),r.createElement("div",{className:"".concat(n)},r.createElement(i.Z,{id:a,name:o,onChange:function(e){return d(e)},value:l,loadOptions:c,onInputChange:f,getOptionLabel:function(e){return e[m]},getOptionValue:function(e){return e[u]},placeholder:y,noOptionsMessage:function(){return"Geen opties gevonden (tik om te zoeken minimaal 2 tekens)"},loadingMessage:function(){return"Laden"},isMulti:v,simpleValue:!0,removeSelected:!0,className:b?" has-error":"",isLoading:g,isDisabled:w,styles:N,isClearable:Z,formatCreateLabel:function(e){return'Maak optie "'.concat(e,'" aan')},getNewOptionData:function(e,t){return h?{id:t,name:t,__isNew__:!0}:{}},theme:function(e){return s(s({},e),{},{colors:s({},e.colors),spacing:s(s({},e.spacing),{},{baseUnit:2,controlHeight:24,menuGutter:4})})}})),b&&r.createElement("div",{className:"col-sm-offset-3 col-sm-8"},r.createElement("span",{className:"has-error-message"}," ",E))))};u.defaultProps={allowCreate:!1,className:"",size:"col-sm-8",optionId:"id",optionName:"name",disabled:!1,required:"",error:!1,errorMessage:"",value:"",multi:!0,isLoading:!1,placeholder:"",clearable:!1},u.propTypes={allowCreate:l().bool,label:l().string.isRequired,className:l().string,size:l().string,id:l().string,name:l().string.isRequired,loadOptions:l().array,optionId:l().string,optionName:l().string,value:l().oneOfType([l().email,l().number]),onChangeAction:l().func,handleInputChange:l().func,required:l().string,disabled:l().bool,error:l().bool,errorMessage:l().string,multi:l().bool,isLoading:l().bool,placeholder:l().string,clearable:l().bool};const m=u},56170:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(67294),r=n(45697),o=n.n(r),l=function(e){var t=e.label,n=e.className,r=e.size,o=e.divSize,l=e.id,i=e.name,c=e.value,s=e.optionsInGroups,u=e.onChangeAction,m=e.onBlurAction,d=e.required,f=e.error,p=e.readOnly,h=e.emptyOption;return a.createElement("div",{className:"form-group ".concat(o)},a.createElement("label",{htmlFor:l,className:"col-sm-6 ".concat(d)},t),a.createElement("div",{className:"".concat(r)},a.createElement("select",{className:"form-control input-sm ".concat(n)+(f&&" has-error"),id:l,name:i,value:c,onChange:u,onBlur:m,disabled:p},h&&a.createElement("option",{value:""}),s.map((function(e,t){var n=e.optionName||"name";return a.createElement("optgroup",{key:t,label:e.label},e.options.map((function(t){return a.createElement("option",{key:t.id,value:e.name+t.id},t[n])})))})))))};l.defaultProps={className:"",size:"col-sm-6",divSize:"col-sm-6",readOnly:!1,required:"",error:!1,value:"",emptyOption:!0},l.propTypes={label:o().string.isRequired,className:o().string,size:o().string,divSize:o().string,id:o().string,name:o().string.isRequired,optionsInGroups:o().array,value:o().oneOfType([o().string,o().number]),onChangeAction:o().func,onBlurAction:o().func,required:o().string,readOnly:o().bool,error:o().bool,optionName:o().string,emptyOption:o().bool};const i=l},34250:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var a=n(67294),r=n(96561),o=n(45697),l=n.n(o),i=n(14309),c=n(49332),s=function(e){var t=e.label,n=e.className,o=e.id,l=e.value,s=e.switchToEdit;return a.createElement("div",{className:n},a.createElement("label",{htmlFor:o,className:"col-sm-3"},t,s?a.createElement("span",null,a.createElement("br",null),a.createElement(c.Z,{buttonClassName:"btn-success btn-padding-small",buttonText:"Wijzig",onClickAction:s})):""),a.createElement(i.Z,{className:"col-sm-9"},a.createElement(r.Z,null,a.createElement("div",{id:o,dangerouslySetInnerHTML:{__html:l}}))))};s.defaultProps={className:"col-sm-12",value:""},s.propTypes={label:l().string.isRequired,className:l().string,id:l().string,value:l().oneOfType([l().string,l().number])};const u=s},64876:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var a=n(29439),r=n(67294),o=n(95990),l=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),i=!l,c=i?n(53542):{},s=c.Document,u=c.Page;const m=function(e){var t=(0,r.useState)(null),n=(0,a.Z)(t,2),c=n[0],m=n[1],d=(0,r.useState)(1),f=(0,a.Z)(d,2),p=f[0],h=f[1],v=(0,r.useState)(null),b=(0,a.Z)(v,2),E=b[0],g=b[1],w=e.file,y=e.scale;return(0,r.useEffect)((function(){var e,t,n;w&&!i&&(e=w,t=function(e){g(e)},(n=new FileReader).onload=function(){var e=n.result.split(",")[1];t(e)},n.readAsDataURL(e))}),[w]),r.createElement("div",{className:"pdf_viewer_wrapper"},l&&E&&r.createElement("iframe",{src:"data:application/pdf;base64,"+E,style:{height:"calc(100vh - 500px)"},title:"PDF viewer"}),i&&r.createElement(r.Fragment,null,r.createElement(s,{file:w,onLoadSuccess:function(e){var t=e.numPages;m(t)}},r.createElement(u,{className:"pdf-viewer-page",renderAnnotationLayer:!1,renderTextLayer:!1,pageNumber:p,scale:y})),r.createElement("div",null,r.createElement("div",null),r.createElement("h3",{style:{display:"inline-block",marginTop:"0px"}},"Pagina ",p," van ",c)),r.createElement("div",null,r.createElement(o.Z,{disabled:1===p,onClick:function(){return h(p-1)},title:"Ga naar vorige pagina"},"<"),r.createElement(o.Z,{disabled:p===c,onClick:function(){return h(p+1)},title:"Ga naar volgende pagina"},">"))))}},38123:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ye});var a=n(15671),r=n(43144),o=n(97326),l=n(60136),i=n(82963),c=n(61120),s=n(67294),u=n(86706),m=n(61409),d=n(97894),f=n(58475),p=n(76979),h=n(40158),v=n(14309),b=n(98688),E=n(55451);const g=(0,u.$j)((function(e){return{email:e.email}}))((function(e){var t=e.email,n=e.id,a=e.removeEmail,r=t.from,o="btn-success btn-sm";return"removed"===t.folder&&(o="btn-danger btn-sm"),s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-12"},s.createElement(v.Z,null,s.createElement(b.Z,{className:"panel-small"},s.createElement("div",{className:"col-md-4"},s.createElement("div",{className:"btn-group margin-small margin-10-right",role:"group"},s.createElement(E.Z,{iconName:"arrowLeft",onClickAction:m.mW.goBack})),t.id?s.createElement(s.Fragment,null,s.createElement("div",{className:"btn-group margin-small",role:"group"},s.createElement("button",{type:"button",title:"Beantwoorden",className:"btn btn-success btn-sm",onClick:function(){m.nA.push("/email/".concat(n,"/beantwoorden"))}},s.createElement(d.ZP,{icon:f.q,size:13})),s.createElement("button",{type:"button",title:"Allen beantwoorden",className:"btn btn-success btn-sm",onClick:function(){m.nA.push("/email/".concat(n,"/allenbeantwoorden"))}},s.createElement(d.ZP,{icon:p.p,size:13})),s.createElement("button",{type:"button",title:"Doorsturen",className:"btn btn-success btn-sm",onClick:function(){m.nA.push("/email/".concat(n,"/doorsturen"))}},s.createElement(d.ZP,{icon:h.c,size:13}))),s.createElement("div",{className:"btn-group margin-small margin-10-left",role:"group"},s.createElement(E.Z,{iconName:"trash",onClickAction:a,buttonClassName:o}))):null),s.createElement("div",{className:"col-md-4"},s.createElement("h4",{className:"text-center text-success margin-small"},s.createElement("strong",null,r?"E-mail van: "+r:""))),s.createElement("div",{className:"col-md-4"})))))}));var w=n(96486),y=n(4942),Z=n(15861),N=n(29439),C=n(64687),k=n.n(C),O=n(30381),j=n.n(O),T=n(71840),D=n(34250),I=n(49332),S=n(25626),A=n(7250),P=n(72898),R=n(59227),M=function(e){return{type:"FETCH_EMAIL",id:e}},x=n(96536),L=n(61781),_=n(90916),B=n(83100),z=n(44246),V=n(82084),q=n(33761),Y=n(77071),U=n(56170),F=n(48966),H=n.n(F),W=n(71515);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const K=(0,u.$j)((function(e){return{email:e.email,emailStatuses:e.systemData.emailStatuses,teams:e.systemData.teams,users:e.systemData.users}}),(function(e){return{fetchEmail:function(t){e(M(t))}}}))((function(e){var t=(0,s.useState)(""),n=(0,N.Z)(t,2),a=n[0],r=n[1],o=(0,s.useState)(!1),l=(0,N.Z)(o,2),i=l[0],c=l[1],u=(0,s.useState)([]),m=(0,N.Z)(u,2),d=m[0],f=m[1],p=(0,s.useState)({}),h=(0,N.Z)(p,2),v=h[0],b=h[1],E=(0,s.useState)([]),g=(0,N.Z)(E,2),w=g[0],C=g[1],O=(0,s.useState)([]),M=(0,N.Z)(O,2),F=M[0],G=M[1],K=(0,s.useState)([]),Q=(0,N.Z)(K,2),J=Q[0],X=Q[1],ee=(0,s.useState)([]),te=(0,N.Z)(ee,2),ne=te[0],ae=te[1],re=(0,s.useState)([]),oe=(0,N.Z)(re,2),le=oe[0],ie=oe[1],ce=(0,s.useState)([]),se=(0,N.Z)(ce,2),ue=se[0],me=se[1],de=(0,s.useState)([]),fe=(0,N.Z)(de,2),pe=fe[0],he=fe[1],ve=e.email,be=ve.id,Ee=ve.responsibleUserId,ge=ve.responsibleTeamId,we=ve.contacts,ye=ve.intake,Ze=ve.task,Ne=ve.quotationRequest,Ce=ve.measure,ke=ve.opportunity,Oe=ve.order,je=ve.invoice,Te=ve.status,De=ve.removedBy,Ie=ve.dateRemoved,Se=ve.from,Ae=ve.toWithGroup,Pe=ve.cc,Re=ve.bcc,Me=ve.subject,xe=ve.htmlBodyWithEmbeddedImages,Le=ve.createdAt,_e=ve.dateSent,Be=ve.folder,ze=ve.sentByUser,Ve="";function qe(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;b($($({},v),{},(0,y.Z)({},a,n)))}Ee&&(Ve="user"+Ee),ge&&(Ve="team"+ge),(0,s.useEffect)((function(){b({id:be,contactIds:we&&we.map((function(e){return e.id})).join(","),intakeId:ye?ye.id:"",taskId:Ze?Ze.id:"",quotationRequestId:Ne?Ne.id:"",measureId:Ce?Ce.id:"",statusId:Te?Te.id:"",opportunityId:ke?ke.id:"",orderId:Oe?Oe.id:"",invoiceId:je?je.id:"",responsibleUserId:Ee,responsibleTeamId:ge,responsible:Ve}),q.Z.peekOrders().then((function(e){C(e)})),Y.Z.peekInvoices().then((function(e){G(e)})),x.Z.peekQuotationRequests().then((function(e){X(e)})),L.Z.peekTasks().then((function(e){ae(e)})),_.Z.peekMeasures().then((function(e){ie(e)})),B.Z.peekIntakes().then((function(e){me(e)})),z.Z.peekOpportunities().then((function(e){he(e)}))}),[]),(0,s.useEffect)((function(){var e,t;f((e=we.map((function(e){return e.id})),t=[],e.map((function(e){var n=we.find((function(t){return t.id===Number(e)}));t.push({id:n.id,fullName:n.fullName})})),t))}),[we]);var Ye=function(){var e=(0,Z.Z)(k().mark((function e(){var t;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length<=1)){e.next=2;break}return e.abrupt("return");case 2:return c(!0),e.prev=3,e.next=6,P.Z.fetchContactSearch(a);case 6:return t=e.sent,c(!1),e.abrupt("return",t.data.data);case 11:e.prev=11,e.t0=e.catch(3),c(!1);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),Ue=v.statusId,Fe=v.intakeId,He=v.taskId,We=v.quotationRequestId,Ge=v.measureId,$e=v.opportunityId,Ke=v.orderId,Qe=v.invoiceId,Je=v.responsible,Xe=we.length>5;return s.createElement("div",null,"removed"===Be?s.createElement(s.Fragment,null,s.createElement("div",{className:"row"},s.createElement(A.Z,{label:"Verwijderd door",value:De?De.fullName:"Onbekend",link:De?"gebruiker/"+De.id:""}),s.createElement(A.Z,{label:"Datum verwijderd",value:Ie?j()(Ie).format("DD-MM-YYYY HH:mm"):""})),s.createElement("hr",null)):null,s.createElement("div",{className:"row"},s.createElement(A.Z,{label:"Van",value:Se}),s.createElement(A.Z,{label:"Ontvangen datum tijd",value:Le?j()(Le).format("DD-MM-YYYY HH:mm"):""})),s.createElement("div",{className:"row"},s.createElement(A.Z,{label:"Aan",value:Ae&&Ae.map((function(e){return e})).join(", ")}),s.createElement(A.Z,{label:"Verzonden datum tijd",value:_e?j()(_e).format("DD-MM-YYYY HH:mm"):""})),s.createElement("div",{className:"row"},s.createElement("div",{className:"form-group col-md-6"}),s.createElement(A.Z,{label:"Verzonden door gebruiker",value:ze?ze.fullName:""})),s.createElement("div",{className:"row"},s.createElement(A.Z,{label:"Cc",value:Pe&&Pe.map((function(e){return e})).join(", ")}),s.createElement(A.Z,{label:"Bcc",value:Re&&Re.map((function(e){return e})).join(", ")})),s.createElement("div",{className:"row"},Xe&&!e.showContacten?s.createElement(A.Z,{label:"Contacten",value:s.createElement(I.Z,{buttonClassName:"btn-success btn-padding-small",buttonText:"Toon contacten ("+we.length+")",onClickAction:e.toggleShowContacten})}):s.createElement(W.Z,{label:"Contacten",name:"contacts",value:d,loadOptions:Ye,optionName:"fullName",onChangeAction:function(e){var t=e?e.map((function(e){return e.id})).join(","):"";b($($({},v),{},{contactIds:t})),f(e)},isLoading:i,handleInputChange:function(e){r(e)}})),Xe&&e.showContacten&&s.createElement("div",{className:"row",onClick:e.toggleShowContacten},s.createElement(A.Z,{label:"",className:"form-group col-sm-6",value:s.createElement(I.Z,{buttonClassName:"btn-success btn-padding-small",buttonText:"Verberg contacten",onClickAction:e.toggleShowContacten})}),s.createElement("div",{className:"form-group col-md-6"})),s.createElement("div",{className:"row"},s.createElement(V.Z,{label:"Intake",size:"col-sm-6",name:"intakeId",options:ue,value:Fe,clearable:!0,onChangeAction:function(e,t){b($($({},v),{},(0,y.Z)({},t,e)))}})),s.createElement("div",{className:"row"},s.createElement(T.Z,{label:"Taak",size:"col-sm-6",name:"taskId",options:ne,value:He,onChangeAction:qe}),s.createElement(T.Z,{label:"Kansactie",size:"col-sm-6",name:"quotationRequestId",options:J,value:We,onChangeAction:qe})),s.createElement("div",{className:"row"},s.createElement(T.Z,{label:"Maatregel",size:"col-sm-6",name:"measureId",options:le,value:Ge,onChangeAction:qe}),s.createElement(T.Z,{label:"Kans",size:"col-sm-6",name:"opportunityId",options:pe,value:$e,onChangeAction:qe})),s.createElement("div",{className:"row"},s.createElement(T.Z,{label:"Order",size:"col-sm-6",name:"orderId",options:w,value:Ke,onChangeAction:qe}),s.createElement(T.Z,{label:"Nota",size:"col-sm-6",name:"invoiceId",options:F,value:Qe,onChangeAction:qe})),s.createElement("div",{className:"row margin-10-top"},s.createElement("div",{className:"col-sm-12"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-3"},s.createElement("label",{className:"col-sm-12"},"Onderwerp")),s.createElement("div",{className:"col-sm-9"},Me)))),s.createElement("div",{className:"row"},s.createElement(D.Z,{label:"Tekst",value:xe})),("inbox"==Be&&Te||"inbox"==Be&&null==Te)&&s.createElement("div",{className:"row"},s.createElement(T.Z,{label:"Status",size:"col-sm-6",name:"statusId",options:e.emailStatuses,value:Ue,onChangeAction:qe})),"inbox"==Be&&s.createElement("div",{className:"row"},s.createElement(U.Z,{label:"Verantwoordelijke",size:"col-sm-6",name:"responsible",optionsInGroups:[{name:"user",label:"Gebruikers",options:e.users,optionName:"fullName"},{name:"team",label:"Teams",options:e.teams}],value:Je,onChangeAction:qe})),s.createElement(S.Z,null,s.createElement("div",{className:"pull-right btn-group",role:"group"},s.createElement(I.Z,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:e.switchToView}),s.createElement(I.Z,{buttonText:"Opslaan",onClickAction:function(t){t.preventDefault(),v.statusId&&R.Z.setStatus(v.id,v.statusId).then((function(t){e.fetchEmail(v.id)})),H().isEmpty(v.responsible.toString())&&(v.responsibleUserId="",v.responsibleTeamId=""),v.responsible.search("user")>=0&&(v.responsibleUserId=v.responsible.replace("user",""),v.responsibleTeamId=""),v.responsible.search("team")>=0&&(v.responsibleUserId="",v.responsibleTeamId=v.responsible.replace("team","")),R.Z.updateEmail(v).then((function(t){e.fetchEmail(v.id)})),e.switchToView()},type:"submit",value:"Submit"}))))}));j().locale("nl");const Q=(0,u.$j)((function(e){return{email:e.email}}))((function(e){var t=e.email,n=t.from,a=t.responsibleUser,r=t.responsibleTeam,o=t.toWithGroup,l=t.cc,i=t.bcc,c=t.contacts,u=t.order,d=t.invoice,f=t.intake,p=t.task,h=t.quotationRequest,v=t.measure,b=t.opportunity,E=t.subject,g=t.htmlBodyWithEmbeddedImages,w=t.createdAt,y=t.dateSent,Z=t.sentByUser,N=t.folder,C=t.status,k=t.closedBy,O=t.dateClosed,T=t.removedBy,S=t.dateRemoved,P=c.length>5;return s.createElement("div",null,"removed"===N?s.createElement(s.Fragment,null,s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement(A.Z,{label:"Verwijderd door",value:T?T.fullName:"Onbekend",link:T?"gebruiker/"+T.id:""}),s.createElement(A.Z,{label:"Datum verwijderd",value:S?j()(S).format("DD-MM-YYYY HH:mm"):""})),s.createElement("hr",null)):null,s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement(A.Z,{label:"Van",value:n}),s.createElement(A.Z,{label:"Ontvangen datum tijd",value:w?j()(w).format("DD-MM-YYYY HH:mm"):""})),s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement(A.Z,{label:"Aan",value:o&&o.map((function(e){return e})).join(", ")}),s.createElement(A.Z,{label:"Verzonden datum tijd",value:y?j()(y).format("DD-MM-YYYY HH:mm"):""})),"sent"===N?s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement("div",{className:"form-group col-md-6"}),s.createElement(A.Z,{label:"Verzonden door gebruiker",value:Z?Z.fullName:""})):null,s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement(A.Z,{label:"Cc",value:l&&l.map((function(e){return e})).join(", ")}),s.createElement(A.Z,{label:"Bcc",value:i&&i.map((function(e){return e})).join(", ")})),s.createElement("div",{className:"row"},s.createElement(A.Z,{label:"Contacten",value:P&&!e.showContacten?s.createElement(I.Z,{buttonClassName:"btn-success btn-padding-small",buttonText:"Toon contacten ("+c.length+")",onClickAction:e.toggleShowContacten}):c&&c.map((function(e){return s.createElement("span",null,s.createElement(m.rU,{to:"/contact/".concat(e.id),className:"link-underline"},e.fullName)," ",s.createElement("br",null))}))}),s.createElement(A.Z,{label:"Intake",value:f?f.name:"",link:f?"intake/"+f.id:""})),P&&e.showContacten&&s.createElement("div",{className:"row",onClick:e.toggleShowContacten},s.createElement(A.Z,{label:"",value:s.createElement(I.Z,{buttonClassName:"btn-success btn-padding-small",buttonText:"Verberg contacten",onClickAction:e.toggleShowContacten})}),s.createElement("div",{className:"col-md-6"})),s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement(A.Z,{label:"Taak",value:p?p.noteSummary:"",link:p?"taak/"+p.id:""}),s.createElement(A.Z,{label:"Kansactie",value:h?h.name:"",link:h?"offerteverzoek/"+h.id:""})),s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement(A.Z,{label:"Maatregel",value:v?v.name:"",link:v?"maatregel/"+v.id:""}),s.createElement(A.Z,{label:"Kans",value:b?b.name:"",link:b?"kans/"+b.id:""})),s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement(A.Z,{label:"Order",value:u?u.name:"",link:u?"order/"+u.id:""}),s.createElement(A.Z,{label:"Nota",value:d?d.name:"",link:d?"nota/"+d.id:""})),s.createElement("div",{className:"row margin-10-top",onClick:e.switchToEdit},s.createElement("div",{className:"col-sm-12"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-3"},s.createElement("label",{className:"col-sm-12"},"Onderwerp")),s.createElement("div",{className:"col-sm-9"},E)))),s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement(D.Z,{label:"Tekst",value:g})),"inbox"==N&&s.createElement("div",null,s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement(A.Z,{label:"Status",value:C?C.name:""}),s.createElement(A.Z,{label:"Datum afgehandeld",value:O?j()(O).format("DD-MM-YYYY HH:mm"):""})),s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement(A.Z,{label:"Afgehandeld door",value:k?k.fullName:"",link:k?"gebruiker/"+k.id:""}),a||r?s.createElement(A.Z,{label:"Verantwoordelijke",value:a?a.fullName:r.name,link:a?"gebruiker/"+a.id:"team/"+r.id}):s.createElement(A.Z,{label:"Verantwoordelijke",value:""}))))}));var J=function(e){(0,l.Z)(m,e);var t,n,u=(t=m,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,c.Z)(t);if(n){var r=(0,c.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,i.Z)(this,e)});function m(e){var t;return(0,a.Z)(this,m),t=u.call(this,e),(0,y.Z)((0,o.Z)(t),"switchToEdit",(function(){t.setState({showEdit:!0})})),(0,y.Z)((0,o.Z)(t),"switchToView",(function(){t.setState({showEdit:!1,activeDiv:""})})),(0,y.Z)((0,o.Z)(t),"toggleShowContacten",(function(){t.setState({showContacten:!t.state.showContacten})})),t.state={showEdit:!1,showContacten:!1,activeDiv:""},t}return(0,r.Z)(m,[{key:"onDivEnter",value:function(){this.setState({activeDiv:"panel-grey"})}},{key:"onDivLeave",value:function(){this.state.showEdit||this.setState({activeDiv:""})}},{key:"render",value:function(){var e=this;return s.createElement(v.Z,{className:this.state.activeDiv,onMouseEnter:function(){return e.onDivEnter()},onMouseLeave:function(){return e.onDivLeave()}},s.createElement(b.Z,null,this.state.showEdit?s.createElement(K,{switchToView:this.switchToView,showContacten:this.state.showContacten,toggleShowContacten:this.toggleShowContacten}):s.createElement(Q,{switchToEdit:this.switchToEdit,showContacten:this.state.showContacten,toggleShowContacten:this.toggleShowContacten})))}}]),m}(s.Component);const X=(0,u.$j)((function(e){return{email:e.email}}))(J);var ee=n(35823),te=n.n(ee),ne=n(41355),ae=n(64876),re=n(57511),oe=n(93358),le=n(98997);const ie=function(e){(0,l.Z)(f,e);var t,n,u=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,c.Z)(t);if(n){var r=(0,c.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,i.Z)(this,e)});function f(e){var t;return(0,a.Z)(this,f),t=u.call(this,e),(0,y.Z)((0,o.Z)(t),"downloadItem",(function(e,t){R.Z.downloadAttachment(e).then((function(e){te()(e.data,t)}))})),(0,y.Z)((0,o.Z)(t),"viewItem",(function(e,n){R.Z.downloadAttachment(e).then((function(e){var a;a=n.toLowerCase().endsWith(".pdf")?e.data:URL.createObjectURL(e.data),t.setState({item:a},(function(){return t.showViewDocument()}))}))})),(0,y.Z)((0,o.Z)(t),"showViewDocument",(function(){t.setState({showViewDocument:!t.state.showViewDocument})})),(0,y.Z)((0,o.Z)(t),"saveToAlfresco",(function(e){m.nA.push("document/nieuw/upload/email-bijlage/".concat(e))})),t.state={showActionButtons:!1,highlightRow:"",item:"",showViewDocument:!1},t}return(0,r.Z)(f,[{key:"render",value:function(){var e=this,t=this.props.attachment,n=t.id,a=t.name,r=!1;return(a.toLowerCase().endsWith(".pdf")||a.toLowerCase().endsWith(".jpg")||a.toLowerCase().endsWith(".png"))&&(r=!0),s.createElement("div",{className:"row border ".concat(this.props.highlightLine),onMouseEnter:function(){return e.props.onLineEnter()},onMouseLeave:function(){return e.props.onLineLeave()}},s.createElement("div",{className:"col-sm-11"},a),s.createElement("div",{className:"col-sm-1"},this.props.showActionButtons?s.createElement("a",{role:"button",onClick:function(){return e.downloadItem(n,a)}},s.createElement(d.ZP,{className:"mybtn-success",size:14,icon:re.x})):"",this.props.showActionButtons?s.createElement("a",{role:"button",onClick:function(){return e.saveToAlfresco(n)}},s.createElement(d.ZP,{className:"mybtn-success",size:14,icon:oe.B})):"",this.props.showActionButtons&&r?s.createElement("a",{role:"button",onClick:function(){return e.viewItem(n,a)}},s.createElement(d.ZP,{className:"mybtn-success",size:14,icon:le.i})):""),this.state.showViewDocument&&a.toLowerCase().endsWith(".pdf")&&s.createElement(ne.Z,{closeModal:this.showViewDocument,modalClassName:"modal-lg",modalMainClassName:"email-attachment-modal ",showConfirmAction:!1,buttonCancelText:"Ok"},s.createElement(ae.Z,{file:this.state.item})),this.state.showViewDocument&&(a.toLowerCase().endsWith(".png")||a.toLowerCase().endsWith(".jpg"))&&s.createElement(ne.Z,{closeModal:this.showViewDocument,modalClassName:"modal-lg",modalMainClassName:"email-attachment-modal ",showConfirmAction:!1,buttonCancelText:"Ok"},s.createElement("img",{className:"img-responsive",src:this.state.item,alt:a})))}}]),f}(s.Component);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ue=function(e){(0,l.Z)(m,e);var t,n,u=(t=m,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,c.Z)(t);if(n){var r=(0,c.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,i.Z)(this,e)});function m(e){var t;return(0,a.Z)(this,m),t=u.call(this,e),(0,y.Z)((0,o.Z)(t),"onLineEnter",(function(){t.setState({showActionButtons:!0,highlightLine:"highlight-line"})})),(0,y.Z)((0,o.Z)(t),"onLineLeave",(function(){t.setState({highlightLine:"",showActionButtons:!1})})),t.state={highlightLine:"",showActionButtons:!1,attachment:se({},e.attachment)},t}return(0,r.Z)(m,[{key:"render",value:function(){return s.createElement("div",null,s.createElement(ie,{highlightLine:this.state.highlightLine,onLineEnter:this.onLineEnter,onLineLeave:this.onLineLeave,attachment:this.state.attachment,showActionButtons:this.state.showActionButtons}))}}]),m}(s.Component),me=(0,u.$j)((function(e){return{email:e.email}}))((function(e){var t=e.email.attachments,n=void 0===t?[]:t;return n=n.filter((function(e){return!e.cid})),s.createElement("div",null,s.createElement("div",{className:"row border header"},s.createElement("div",{className:"col-sm-12"},"Bestand")),n.length>0?n.map((function(e){return s.createElement(ue,{key:e.id,attachment:e})})):s.createElement("div",null,"Geen bijlagen bekend."))}));var de=n(80720);const fe=function(e){(0,l.Z)(u,e);var t,n,o=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,c.Z)(t);if(n){var r=(0,c.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,i.Z)(this,e)});function u(e){return(0,a.Z)(this,u),o.call(this,e)}return(0,r.Z)(u,[{key:"render",value:function(){return s.createElement(v.Z,null,s.createElement(de.Z,null,s.createElement("span",{className:"h5 text-bold"},"Bijlagen")),s.createElement(b.Z,null,s.createElement("div",{className:"col-md-12"},s.createElement(me,null))))}}]),u}(s.Component);var pe=n(45697),he=n.n(pe),ve=function(e){var t=e.text,n=e.restoreAction,a=e.restoreText;return s.createElement(v.Z,null,s.createElement(de.Z,null,s.createElement("span",{className:"h5",style:{color:"#e64a4a"}},t," ",n&&s.createElement("a",{style:{color:"#e64a4a",cursor:"pointer"},onClick:n},s.createElement("strong",null,a)))))};ve.defaultProps={text:"Dit item is verwijderd",restoreText:"Klik hier om dit item terug te zetten."},ve.propTypes={text:he().string,restoreAction:he().func,restoreText:he().string};const be=ve;var Ee=function(e){(0,l.Z)(u,e);var t,n,o=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,c.Z)(t);if(n){var r=(0,c.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,i.Z)(this,e)});function u(e){return(0,a.Z)(this,u),o.call(this,e)}return(0,r.Z)(u,[{key:"render",value:function(){return(0,w.isEmpty)(this.props.email)?s.createElement("div",null,"Geen gegevens gevonden."):s.createElement("div",null,"removed"===this.props.email.folder&&s.createElement(be,{text:"Deze e-mail is verwijderd.",restoreAction:this.props.restoreEmail,restoreText:"Klik hier om verwijderen ongedaan te maken."}),s.createElement(X,null),s.createElement(fe,null))}}]),u}(s.Component);const ge=(0,u.$j)((function(e){return{email:e.email}}))(Ee);var we=function(e){(0,l.Z)(d,e);var t,n,u=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,c.Z)(t);if(n){var r=(0,c.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,i.Z)(this,e)});function d(e){var t;return(0,a.Z)(this,d),(t=u.call(this,e)).restoreEmail=t.restoreEmail.bind((0,o.Z)(t)),t.removeEmail=t.removeEmail.bind((0,o.Z)(t)),t}return(0,r.Z)(d,[{key:"componentDidMount",value:function(){this.props.fetchEmail(this.props.params.id)}},{key:"componentWillUnmount",value:function(){this.props.clearEmail()}},{key:"refreshEmail",value:function(){this.props.clearEmail(),this.props.fetchEmail(this.props.params.id)}},{key:"restoreEmail",value:function(){var e=this;null===this.props.email.imapId?R.Z.moveToFolder(this.props.email.id,"sent").then((function(){e.refreshEmail()})):R.Z.moveToFolder(this.props.email.id,"inbox").then((function(){e.refreshEmail()}))}},{key:"removeEmail",value:function(){var e=this;"inbox"===this.props.email.folder||"sent"===this.props.email.folder?R.Z.moveToFolder(this.props.email.id,"removed").then((function(){e.refreshEmail()})):"removed"===this.props.email.folder&&R.Z.deleteEmail(this.props.email.id).then((function(){m.mW.goBack()}))}},{key:"render",value:function(){return s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-9"},s.createElement("div",{className:"col-md-12"},s.createElement(g,{removeEmail:this.removeEmail,id:this.props.params.id})),s.createElement("div",{className:"col-md-12"},s.createElement(ge,{restoreEmail:this.restoreEmail}))))}}]),d}(s.Component);const ye=(0,u.$j)((function(e){return{email:e.email}}),(function(e){return{fetchEmail:function(t){e(M(t))},clearEmail:function(){e({type:"CLEAR_EMAIL"})}}}))(we)},36640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(67294),o=(l(r),l(n(45697)));function l(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"getChildContext",value:function(){return{document:this.props.document,window:this.props.window}}},{key:"render",value:function(){return r.Children.only(this.props.children)}}]),t}(r.Component);i.propTypes={document:o.default.object.isRequired,window:o.default.object.isRequired,children:o.default.element.isRequired},i.childContextTypes={document:o.default.object.isRequired,window:o.default.object.isRequired},t.default=i},98698:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(67294),l=u(o),i=u(n(73935)),c=u(n(45697)),s=u(n(36640));function u(e){return e&&e.__esModule?e:{default:e}}var m,d="undefined"!=typeof window&&window.console,f=function(){},p=f,h=f;d&&(m=console.error,p=function(){console.error=function(e){/<head>/.test(e)||m.call(console,e)}},h=function(){return console.error=m});var v=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a._isMounted=!1,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this._isMounted=!0,this.renderFrameContents()}},{key:"componentDidUpdate",value:function(){this.renderFrameContents()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1;var e=this.getDoc(),t=this.getMountTarget();e&&t&&i.default.unmountComponentAtNode(t)}},{key:"getDoc",value:function(){return i.default.findDOMNode(this).contentDocument}},{key:"getMountTarget",value:function(){var e=this.getDoc();return this.props.mountTarget?e.querySelector(this.props.mountTarget):e.body.children[0]}},{key:"renderFrameContents",value:function(){if(this._isMounted){var e=this.getDoc();if(e&&"complete"===e.readyState){null===e.querySelector("div")&&(this._setInitialContent=!1);var t=e.defaultView||e.parentView,n=!this._setInitialContent,a=l.default.createElement(s.default,{document:e,window:t},l.default.createElement("div",{className:"frame-content"},this.props.head,this.props.children));n&&(e.open("text/html","replace"),e.write(this.props.initialContent),e.close(),this._setInitialContent=!0),p();var r=n?this.props.contentDidMount:this.props.contentDidUpdate,o=this.getMountTarget();i.default.unstable_renderSubtreeIntoContainer(this,a,o,r),h()}else setTimeout(this.renderFrameContents.bind(this),0)}}},{key:"render",value:function(){var e=a({},this.props,{children:void 0});return delete e.head,delete e.initialContent,delete e.mountTarget,delete e.contentDidMount,delete e.contentDidUpdate,l.default.createElement("iframe",e)}}]),t}(o.Component);v.propTypes={style:c.default.object,head:c.default.node,initialContent:c.default.string,mountTarget:c.default.string,contentDidMount:c.default.func,contentDidUpdate:c.default.func,children:c.default.oneOfType([c.default.element,c.default.arrayOf(c.default.element)])},v.defaultProps={style:{},head:null,children:void 0,mountTarget:void 0,contentDidMount:function(){},contentDidUpdate:function(){},initialContent:'<!DOCTYPE html><html><head></head><body><div class="frame-root"></div></body></html>'},t.default=v},96561:(e,t,n)=>{"use strict";var a,r=(a=n(98698))&&a.__esModule?a:{default:a};t.Z=r.default},69349:()=>{},49080:()=>{},57588:()=>{},3071:()=>{},4918:()=>{},69862:()=>{},40964:()=>{}}]);