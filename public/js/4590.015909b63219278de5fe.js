"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[4590],{54590:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var o=n(23029),a=n(92901),c=n(56822),l=n(53954),i=n(85501),r=n(64467),s=n(58168),u=n(96540),m=n(69733),d=n(95223),f=n(62493),p=n(55849),h=n(47767),v=n(91858);const A=(0,m.Ng)((function(e){return{documentFilename:e.documentDetails.filename,documentId:e.documentDetails.id}}),null)((function(e){var t=(0,h.Zp)();return u.createElement("div",{className:"row"},u.createElement("div",{className:"col-md-4"},u.createElement("div",{className:"btn-group",role:"group"},u.createElement(v.A,{iconName:"arrowLeft",onClickAction:function(){return t(-1)}}),u.createElement(v.A,{iconName:"download",onClickAction:e.download}),u.createElement(v.A,{iconName:"envelopeO",onClickAction:function(){return t("/email/nieuw/document/".concat(e.documentId))}}),u.createElement(v.A,{iconName:"searchPlus",onClickAction:e.zoomIn}),u.createElement(v.A,{iconName:"searchMinus",onClickAction:e.zoomOut}))),u.createElement("div",{className:"col-md-4"},u.createElement("h4",{className:"text-center"},"Document: "+e.documentFilename)),u.createElement("div",{className:"col-md-4"}))}));var E=n(2543),D=n(41919),N=n(78441);function w(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(w=function(){return!!e})()}var g=function(e){function t(e){var n,a,i,r;return(0,o.A)(this,t),a=this,i=t,r=[e],i=(0,l.A)(i),(n=(0,c.A)(a,w()?Reflect.construct(i,r||[],(0,l.A)(a).constructor):i.apply(a,r))).state={file:null},n}return(0,i.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.downloadFile()}},{key:"downloadFile",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;N.A.download(this.props.documentId).then((function(t){e.setState({file:t.data})})).catch((function(){t<2&&setTimeout((function(){e.downloadFile(t)}),500),t++}))}},{key:"render",value:function(){var e="",t=!0;return this.props.hasError?e="Fout bij het ophalen van document.":this.props.isLoading?e="Gegevens aan het laden.":(0,E.isEmpty)(this.props.documentDetails)?e="Geen document gevonden!":this.state.file?t=!1:e=this.props.documentDetails.onAlfresco?"Document van Alfresco halen.":"Document ophalen.",t?u.createElement("div",null,e):u.createElement("div",null,u.createElement(D.A,{file:this.state.file,scale:this.props.scale}))}}])}(u.Component);const k=(0,m.Ng)((function(e){return{documentDetails:e.documentDetails,isLoading:e.loadingData.isLoading,hasError:e.loadingData.hasError}}),null)(g);var y=n(5419),C=n.n(y);function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(I=function(){return!!e})()}var O=function(e){function t(e){var n,a,i,s;return(0,o.A)(this,t),a=this,i=t,s=[e],i=(0,l.A)(i),n=(0,c.A)(a,I()?Reflect.construct(i,s||[],(0,l.A)(a).constructor):i.apply(a,s)),(0,r.A)(n,"zoomIn",(function(){n.setState({scale:n.state.scale+.2})})),(0,r.A)(n,"zoomOut",(function(){n.setState({scale:n.state.scale-.2})})),n.state={scale:1},n.download=n.download.bind(n),n}return(0,i.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.props.fetchDocumentDetails(this.props.params.id)}},{key:"download",value:function(){var e=this;N.A.download(this.props.documentDetails.id).then((function(t){C()(t.data,e.props.documentDetails.filename)}))}},{key:"render",value:function(){return u.createElement("div",{className:"row"},u.createElement("div",{className:"col-md-12"},u.createElement("div",{className:"col-md-12 margin-10-top"},u.createElement(f.A,null,u.createElement(p.A,{className:"panel-small"},u.createElement(A,{zoomIn:this.zoomIn,zoomOut:this.zoomOut,download:this.download})))),u.createElement("div",{className:"col-md-12 margin-10-top"},u.createElement(k,{documentId:this.props.params.id,scale:this.state.scale}))))}}])}(u.Component);const z=(0,m.Ng)((function(e){return{documentDetails:e.documentDetails}}),(function(e){return{fetchDocumentDetails:function(t){e((0,d.Ki)(t))}}}))((function(e){var t=(0,h.g)();return u.createElement(O,(0,s.A)({},e,{params:t}))}))},95223:(e,t,n)=>{n.d(t,{Ki:()=>o,lU:()=>a});var o=function(e){return{type:"FETCH_DOCUMENT_DETAILS",id:e}},a=function(e){return{type:"UPDATE_DOCUMENT_DETAILS",document:e}}}}]);