(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{1063:function(e,t,n){"use strict";var a=n(547),r=n.n(a),o=n(0),l=n.n(o),i=n(3),s=n.n(i),c=function(e){return l.a.createElement("select",{disabled:e.readOnly,className:"form-control input-sm",name:"type",value:e.type,onChange:e.handleInputChange},l.a.createElement("option",{value:"eq"},"gelijk aan"),l.a.createElement("option",{value:"neq"},"niet gelijk aan"),l.a.createElement("option",{value:"ct"},"bevat"),l.a.createElement("option",{value:"nct"},"bevat niet"),l.a.createElement("option",{value:"bw"},"begint met"),l.a.createElement("option",{value:"nbw"},"begint niet met"),l.a.createElement("option",{value:"ew"},"eindigt met"),l.a.createElement("option",{value:"new"},"eindigt niet met"),l.a.createElement("option",{value:"nl"},"is leeg"),l.a.createElement("option",{value:"nnl"},"is niet leeg"))},u=function(e){return l.a.createElement("select",{disabled:e.readOnly,className:"form-control input-sm",name:"type",value:e.type,onChange:e.handleInputChange},l.a.createElement("option",{value:"eq"},"gelijk aan"),l.a.createElement("option",{value:"neq"},"niet gelijk aan"),l.a.createElement("option",{value:"ct"},"bevat"),l.a.createElement("option",{value:"nct"},"bevat niet"),l.a.createElement("option",{value:"bw"},"begint met"),l.a.createElement("option",{value:"nbw"},"begint niet met"),l.a.createElement("option",{value:"ew"},"eindigt met"),l.a.createElement("option",{value:"new"},"eindigt niet met"))},p=function(e){return l.a.createElement("select",{disabled:e.readOnly,className:"form-control input-sm",name:"type",value:e.type,onChange:e.handleInputChange},l.a.createElement("option",{value:"eq"},"gelijk aan"),l.a.createElement("option",{value:"neq"},"niet gelijk aan"),l.a.createElement("option",{value:"lt"},"kleiner dan"),l.a.createElement("option",{value:"lte"},"kleiner of gelijk aan"),l.a.createElement("option",{value:"gt"},"groter dan"),l.a.createElement("option",{value:"gte"},"groter dan of gelijk aan"),l.a.createElement("option",{value:"is0"},"is 0 of leeg"),l.a.createElement("option",{value:"isn0"},"is niet 0 of leeg"))},d=function(e){return l.a.createElement("select",{disabled:e.readOnly,className:"form-control input-sm",name:"type",value:e.type,onChange:e.handleInputChange},l.a.createElement("option",{value:"eq"},"gelijk aan"),l.a.createElement("option",{value:"neq"},"niet gelijk aan"),l.a.createElement("option",{value:"ct"},"bevat"),l.a.createElement("option",{value:"nct"},"bevat niet"),l.a.createElement("option",{value:"bw"},"begint met"),l.a.createElement("option",{value:"nbw"},"begint niet met"),l.a.createElement("option",{value:"ew"},"eindigt met"),l.a.createElement("option",{value:"new"},"eindigt niet met"),l.a.createElement("option",{value:"lt"},"kleiner dan"),l.a.createElement("option",{value:"lte"},"kleiner of gelijk aan"),l.a.createElement("option",{value:"gt"},"groter dan"),l.a.createElement("option",{value:"gte"},"groter dan of gelijk aan"),l.a.createElement("option",{value:"nl"},"is leeg"),l.a.createElement("option",{value:"nnl"},"is niet leeg"))},m=function(e){return l.a.createElement("select",{disabled:e.readOnly,className:"form-control input-sm",name:"type",value:e.type,onChange:e.handleInputChange},l.a.createElement("option",{value:"eq"},"gelijk aan"),l.a.createElement("option",{value:"neq"},"niet gelijk aan"),l.a.createElement("option",{value:"nl"},"is leeg"),l.a.createElement("option",{value:"nnl"},"is niet leeg"))},f=function(e){return l.a.createElement("select",{className:"form-control input-sm",name:"type",value:e.type,onChange:e.handleInputChange},l.a.createElement("option",{value:"eq"},"gelijk aan"),l.a.createElement("option",{value:"neq"},"niet gelijk aan"),l.a.createElement("option",{value:"lt"},"kleiner dan"),l.a.createElement("option",{value:"lte"},"kleiner of gelijk aan"),l.a.createElement("option",{value:"gt"},"groter dan"),l.a.createElement("option",{value:"gte"},"groter dan of gelijk aan"),l.a.createElement("option",{value:"nl"},"is leeg"),l.a.createElement("option",{value:"nnl"},"is niet leeg"))},h=function(e){return l.a.createElement("select",{className:"form-control input-sm",name:"type",value:e.type,onChange:e.handleInputChange},l.a.createElement("option",{value:"bool"},"is"))},g=n(7),E=n.n(g),y=n(14),C=n.n(y),v=n(15),b=n.n(v),S=n(9),w=n.n(S),k=n(16),N=n.n(k),D=n(17),O=n.n(D),T=n(12),A=n.n(T),F=n(5),x=n.n(F),R=n(290),I=n.n(R),P=n(165),_=n.n(P);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=A()(e);if(t){var r=A()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return O()(this,n)}}E.a.locale("nl");var j=function(e){N()(n,e);var t=M(n);function n(e){var a;return C()(this,n),a=t.call(this,e),x()(w()(a),"validateDate",(function(e){E()(e.target.value,"DD-MM-YYYY",!0).isValid()||""===e.target.value?a.setState({errorDateFormat:!1}):a.setState({errorDateFormat:!0})})),x()(w()(a),"onDateChange",(function(e){var t=e?E()(e).format("Y-MM-DD"):"";a.props.onChangeAction(t,a.props.name)})),a.state={errorDateFormat:!1},a}return b()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.id,a=e.value,r=e.readOnly,o=e.name,i=a?E()(a).format("L"):"";return l.a.createElement("div",{className:"DataTableDateFilter"},l.a.createElement(I.a,{id:n,value:i,formatDate:P.formatDate,parseDate:P.parseDate,onDayChange:this.onDateChange,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:_.a},inputProps:{className:"form-control input-sm ".concat(t)+(this.state.errorDateFormat?" has-error":""),name:o,onBlur:this.validateDate},readOnly:r,placeholder:""}))}}]),n}(o.Component);j.defaultProps={className:"",readOnly:!1,value:null},j.propTypes={type:s.a.string,className:s.a.string,id:s.a.string,name:s.a.string,value:s.a.oneOfType([s.a.string,s.a.object]),onChangeAction:s.a.func,readOnly:s.a.bool};var G=j,L=function(e){return l.a.createElement("select",{disabled:e.readOnly,className:"form-control input-sm",name:"type",value:e.type,onChange:e.handleInputChange},l.a.createElement("option",{value:"eq"},"heeft"),l.a.createElement("option",{value:"neq"},"heeft geen"))},U=function(e){return l.a.createElement("select",{disabled:e.readOnly,className:"form-control input-sm",name:"type",value:e.type,onChange:e.handleInputChange},"person"!==e.contactType?l.a.createElement(l.a.Fragment,null,l.a.createElement("option",{value:""},"--Maak keuze--"),l.a.createElement("option",{value:"rel"},"heeft"),l.a.createElement("option",{value:"nrel"},"heeft geen")):null,"organisation"!==e.contactType?l.a.createElement(l.a.Fragment,null,l.a.createElement("option",{value:"eq"},"is"),l.a.createElement("option",{value:"neq"},"is geen")):null)};E.a.locale("nl");var q=function(e){var t=function(t){var n=t.target,a=n.value,r=n.name;e.handleFilterValueChange(r,a,e.filterNumber)},n=e.fields,a=e.filter.field,o=e.filter.type,i=Object.entries(n).map((function(t,n){var a=r()(t,2),o=a[0],i=a[1];if("dateStart"!==o&&"dateFinish"!==o&&"orderStatus"!==o&&"opportunityStatus"!==o&&"opportunityMeasure"!==o&&"opportunityEvaluationRealised"!==o&&"opportunityCampaign"!==o&&"intakeDateStart"!==o&&"intakeDateFinish"!==o&&"intakeStatus"!==o&&("organisation"!==e.contactType||"portalUser"!==o))return l.a.createElement("option",{key:n,value:o},i.name)})),s="dateStart"==a||"dateFinish"==a||"orderStatus"==a,g="opportunityStatus"==a||"opportunityMeasure"==a||"opportunityEvaluationRealised"==a||"opportunityCampaign"==a,E="intakeDateStart"==a||"intakeDateFinish"==a||"intakeStatus"==a,y=e.fields[e.filter.field].type,C=e.fields[e.filter.field].optionName?e.fields[e.filter.field].optionName:"name";return l.a.createElement("tr",null,l.a.createElement("td",{className:"col-md-4"},s||g||E?l.a.createElement("select",{disabled:!0,className:"form-control input-sm",name:"field",value:a},l.a.createElement("option",{key:0,value:a},n[a].name)):l.a.createElement("select",{disabled:e.filter.readOnly,className:"form-control input-sm",name:"field",value:a,onChange:function(t){var n=t.target.value;e.handleFilterFieldChange(n,e.filterNumber)}},i)),l.a.createElement("td",{className:"col-md-3"},"string"===y&&l.a.createElement(c,{handleInputChange:t,type:o,readOnly:e.filter.readOnly}),"stringWithoutNull"===y&&l.a.createElement(u,{handleInputChange:t,type:o,readOnly:e.filter.readOnly}),"number"===y&&l.a.createElement(p,{handleInputChange:t,type:o,readOnly:e.filter.readOnly}),"numberOrString"===y&&l.a.createElement(d,{handleInputChange:t,type:o,readOnly:e.filter.readOnly}),"boolean"===y&&l.a.createElement(h,{handleInputChange:t,type:o,readOnly:e.filter.readOnly}),"dropdown"===y&&l.a.createElement(m,{handleInputChange:t,type:o,readOnly:e.filter.readOnly}),"dropdownHas"===y&&l.a.createElement(L,{handleInputChange:t,type:o,readOnly:e.filter.readOnly}),"dropdownRelations"===y&&l.a.createElement(U,{handleInputChange:t,type:o,readOnly:e.filter.readOnly,contactType:e.contactType}),"date"===y&&l.a.createElement(f,{handleInputChange:t,type:o,readOnly:e.filter.readOnly})),l.a.createElement("td",{className:"col-md-4"},"nl"!==e.filter.type&&"nnl"!==e.filter.type&&l.a.createElement(l.a.Fragment,null,("number"===y||"string"===y||"numberOrString"===y||"stringWithoutNull"===y)&&l.a.createElement("input",{className:"form-control input-sm",type:"text",id:"data",name:"data",value:e.filter.data,onChange:t,readOnly:e.filter.readOnly}),("dropdown"===y||"dropdownHas"===y)&&l.a.createElement("select",{className:"form-control input-sm",id:"data",name:"data",value:e.filter.data,onChange:t,disabled:e.filter.readOnly},l.a.createElement("option",{value:""},"--Willekeurige waarde--"),e.fields[e.filter.field].dropDownOptions.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e[C])}))),"boolean"===y&&l.a.createElement("select",{className:"form-control input-sm",id:"data",name:"data",value:e.filter.data,onChange:t,disabled:e.filter.readOnly},e.fields[e.filter.field].dropDownOptions.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e[C])}))),"dropdownRelations"===y&&l.a.createElement("select",{className:"form-control input-sm",id:"data",name:"data",value:e.filter.data,onChange:t,disabled:e.filter.readOnly},l.a.createElement("option",{value:""},"--Willekeurige waarde--"),e.fields[e.filter.field].dropDownOptions.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e[C])}))),"date"===y&&l.a.createElement(G,{id:"data",value:e.filter.data,onChangeAction:function(t){e.handleFilterValueChange("data",t,e.filterNumber)},readOnly:e.filter.readOnly}))),s||g||E||e.filter.readOnly?l.a.createElement("td",null):l.a.createElement("td",{className:"col-md-1"},l.a.createElement("span",{className:"glyphicon glyphicon-trash mybtn-danger",role:"button",onClick:function(){e.deleteFilterRow(e.filterNumber)}})))};q.propTypes={fields:s.a.object.isRequired,filter:s.a.object.isRequired};t.a=q},1577:function(e,t,n){"use strict";n.r(t);var a=n(14),r=n.n(a),o=n(15),l=n.n(o),i=n(9),s=n.n(i),c=n(16),u=n.n(c),p=n(17),d=n.n(p),m=n(12),f=n.n(m),h=n(5),g=n.n(h),E=n(0),y=n.n(E),C=n(19),v=n(24),b=n(161),S=n(7),w=n.n(S),k=function(e,t,n,a,r){return{type:"FETCH_CONTACTS",filters:e,extraFilters:t,sorts:n,pagination:a,filterType:r}},N=function(){return{type:"CLEAR_CONTACTS"}},D=function(e){return{type:"SET_CHECKED_CONTACT_ALL",checkedValue:e}},O=function(e){return{type:"SET_NUMBER_FILTER",number:e}},T=function(e){return{type:"SET_TYPE_FILTER",typeId:e}},A=function(e){return{type:"SET_FULL_NAME_FILTER",fullName:e}},F=function(e){return{type:"SET_STREET_AND_NUMBER_FILTER",streetAndNumber:e}},x=function(e){return{type:"SET_POSTAL_CODE_FILTER",postalCode:e}},R=function(e){return{type:"SET_CITY_FILTER",city:e}},I=function(e){return{type:"SET_EMAIL_ADDRESS_FILTER",emailAddress:e}},P=function(e){return{type:"SET_PHONE_NUMBER_FILTER",phoneNumber:e}},_=function(e){return{type:"SET_STATUS_FILTER",statusId:e}},M=function(e){return{type:"SET_CREATED_AT_FILTER",createdAt:e}},j=function(){return{type:"CLEAR_FILTER_CONTACTS"}},G=function(e){return{type:"SET_CONTACTS_PAGINATION",pagination:e}},L=n(129),U=n(143),q=n.n(U),H=n(223),Y=n(224),B=n(285),V=n(933),W=Object(C.b)(null,(function(e){return{setContactsSortsFilter:function(t,n){e(function(e,t){return{type:"SET_CONTACTS_SORTS_FILTER",field:e,order:t}}(t,n))}}}))((function(e){var t=function(t,n){e.setContactsSortsFilter(t,n),setTimeout((function(){e.fetchContactsData()}),100)};return y.a.createElement("tr",{className:"thead-title"},e.showCheckbox?y.a.createElement("th",{width:"3%"}):null,y.a.createElement(V.a,{RowClassName:"hidden-xs",sortColumn:"number",title:"#",width:"5%",setSorts:t}),y.a.createElement(V.a,{RowClassName:"hidden-xs hidden-sm",sortColumn:"typeName",title:"Type",width:"7%",setSorts:t}),y.a.createElement(V.a,{sortColumn:"fullName",title:"Naam",width:"11%",setSorts:t}),y.a.createElement(V.a,{RowClassName:"hidden-xs",sortColumn:"streetAndNumber",title:"Adres",width:"12%",setSorts:t}),y.a.createElement(V.a,{RowClassName:"hidden-xs",sortColumn:"postalCode",title:"Postcode",width:"7%",setSorts:t}),y.a.createElement(V.a,{RowClassName:"hidden-xs",sortColumn:"city",title:"Plaats",width:"10%",setSorts:t}),y.a.createElement(V.a,{RowClassName:"hidden-xs",sortColumn:"emailAddress",title:"E-mail",width:"12%",setSorts:t}),y.a.createElement(V.a,{sortColumn:"phoneNumber",title:"Telefoon",width:"7%",setSorts:t}),y.a.createElement(V.a,{RowClassName:"hidden-xs hidden-sm",sortColumn:"createdAt",title:"Gemaakt op",width:"8%",setSorts:t}),y.a.createElement("th",{width:"3%"}))})),K=n(939),z=Object(C.b)((function(e){return{filters:e.contacts.filters,contactStatuses:e.systemData.contactStatuses,contactTypes:e.systemData.contactTypes}}),(function(e){return Object(v.b)({setNumberFilter:O,setTypeFilter:T,setFullNameFilter:A,setStreetAndNumberFilter:F,setPostalCodeFilter:x,setCityFilter:R,setEmailAddressFilter:I,setPhoneNumberFilter:P,setStatusFilter:_,setCreatedAtFilter:M},e)}))((function(e){return y.a.createElement("tr",{className:"thead-filter"},e.showCheckbox&&y.a.createElement("td",null,y.a.createElement("input",{type:"checkbox",value:e.checkedAllCheckboxes,onChange:e.selectAllCheckboxes})),y.a.createElement("th",{className:"hidden-xs"},y.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.number.data,onChange:function(t){e.setNumberFilter(t.target.value)}})),y.a.createElement("th",{className:"hidden-xs hidden-sm"},y.a.createElement("select",{className:"form-control input-sm",value:e.filters.typeId.data,onChange:function(t){e.setTypeFilter(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}},y.a.createElement("option",null),e.contactTypes.map((function(e){return y.a.createElement("option",{key:e.id,value:e.id},e.name)})))),y.a.createElement("th",null,y.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.fullName.data,onChange:function(t){e.setFullNameFilter(t.target.value)}})),y.a.createElement("th",{className:"hidden-xs"},y.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.streetAndNumber.data,onChange:function(t){e.setStreetAndNumberFilter(t.target.value)}})),y.a.createElement("th",{className:"hidden-xs"},y.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.postalCode.data,onChange:function(t){e.setPostalCodeFilter(t.target.value)}})),y.a.createElement("th",{className:"hidden-xs"},y.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.city.data,onChange:function(t){e.setCityFilter(t.target.value)}})),y.a.createElement("th",{className:"hidden-xs"},y.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.emailAddress.data,onChange:function(t){e.setEmailAddressFilter(t.target.value)}})),y.a.createElement("th",null,y.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.phoneNumber.data,onChange:function(t){e.setPhoneNumberFilter(t.target.value)}})),y.a.createElement(K.a,{value:e.filters.createdAt.data&&e.filters.createdAt.data,onChangeAction:function(t){void 0===t?e.setCreatedAtFilter(""):e.setCreatedAtFilter(w()(t).format("Y-MM-DD"))}}),y.a.createElement("th",null))})),J=n(4);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f()(e);if(t){var r=f()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}var Q=function(e){u()(n,e);var t=Z(n);function n(e){var a;return r()(this,n),(a=t.call(this,e)).state={showActionButtons:!1,highlightRow:""},a}return l()(n,[{key:"onRowEnter",value:function(){this.setState({showActionButtons:!0,highlightRow:"highlight-row"})}},{key:"onRowLeave",value:function(){this.setState({showActionButtons:!1,highlightRow:""})}},{key:"setCheckedContact",value:function(e){this.props.setCheckedContact(e)}},{key:"openItem",value:function(e){J.f.push("/contact/".concat(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.checked,a=t.id,r=t.number,o=t.typeId,l=t.typeName,i=t.fullName,s=t.streetAndNumber,c=t.postalCode,u=t.city,p=t.emailAddress,d=t.phoneNumber,m=(t.statusName,t.createdAt),f=t.permissions;return y.a.createElement("tr",{className:this.state.highlightRow,onDoubleClick:function(){return e.openItem(a)},onMouseEnter:function(){return e.onRowEnter()},onMouseLeave:function(){return e.onRowLeave()}},this.props.showCheckbox&&y.a.createElement("td",null,y.a.createElement("input",{type:"checkbox",checked:n,onChange:function(){return e.setCheckedContact(a)}})),y.a.createElement("td",{className:"hidden-xs"},r),y.a.createElement("td",{className:"hidden-xs hidden-sm"},l," "),y.a.createElement("td",null,i),y.a.createElement("td",{className:"hidden-xs"},s),y.a.createElement("td",{className:"hidden-xs"},c),y.a.createElement("td",{className:"hidden-xs"},u),y.a.createElement("td",{className:"hidden-xs"},p),y.a.createElement("td",null,d),y.a.createElement("td",{className:"hidden-xs hidden-sm"},w()(m).format("DD-MM-Y")),y.a.createElement("td",null,this.state.showActionButtons?y.a.createElement("a",{role:"button",onClick:function(){return e.openItem(a)}},y.a.createElement("span",{className:"glyphicon glyphicon-pencil mybtn-success"})," "):"",this.state.showActionButtons?y.a.createElement(y.a.Fragment,null,"organisation"===o&&f&&f.deleteOrganisation&&y.a.createElement("a",{role:"button",onClick:this.props.showDeleteItemModal.bind(this,a,i)},y.a.createElement("span",{className:"glyphicon glyphicon-trash mybtn-danger"})," "),"person"===o&&f&&f.deletePerson&&y.a.createElement("a",{role:"button",onClick:this.props.showDeleteItemModal.bind(this,a,i)},y.a.createElement("span",{className:"glyphicon glyphicon-trash mybtn-danger"})," ")):""))}}]),n}(E.Component);var X=Object(C.b)((function(e){return{statuses:e.statuses,types:e.types,permissions:e.meDetails.permissions}}),(function(e){return{setCheckedContact:function(t){e(function(e){return{type:"SET_CHECKED_CONTACT",id:e}}(t))}}}))(Q),$=n(35),ee=Object(C.b)(null,(function(e){return{deleteContact:function(t){e(function(e){return{type:"DELETE_CONTACT",id:e}}(t))}}}))((function(e){return y.a.createElement($.a,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.closeDeleteItemModal,confirmAction:function(){return e.deleteContact(e.id),void e.closeDeleteItemModal()},title:"Verwijderen"},"Verwijder contact: ",y.a.createElement("strong",null," ",e.fullName," "))})),te=n(164);n(934);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f()(e);if(t){var r=f()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}var oe=function(e){u()(n,e);var t=re(n);function n(e){var a;return r()(this,n),a=t.call(this,e),g()(s()(a),"handleKeyUp",(function(e){13===e.keyCode&&a.props.onSubmitFilter()})),g()(s()(a),"showDeleteItemModal",(function(e,t){a.setState(ae(ae({},a.state),{},{showDeleteItem:!0,deleteItem:ae(ae({},a.state.deleteItem),{},{id:e,fullName:t})}))})),g()(s()(a),"closeDeleteItemModal",(function(){a.setState(ae(ae({},a.state),{},{showDeleteItem:!1,deleteItem:ae(ae({},a.state.deleteItem),{},{id:"",fullName:""})}))})),a.state={showDeleteItem:!1,deleteItem:{id:"",fullName:""}},a}return l()(n,[{key:"render",value:function(){var e=this,t=this.props.contacts,n=t.data,a=void 0===n?[]:n,r=t.meta,o=void 0===r?{}:r,l="",i=!0;return this.props.hasError?l="Fout bij het ophalen van contacten.":this.props.isLoading?l="Gegevens aan het laden.":0===a.length?l="Geen contacten gevonden!":i=!1,y.a.createElement("div",null,y.a.createElement("form",{onKeyUp:this.handleKeyUp},y.a.createElement(H.a,null,y.a.createElement(Y.a,null,y.a.createElement(W,{showCheckbox:this.props.showCheckboxList,fetchContactsData:function(){return e.props.fetchContactsData()}}),y.a.createElement(z,{showCheckbox:this.props.showCheckboxList,selectAllCheckboxes:function(){return e.props.selectAllCheckboxes()},onSubmitFilter:this.props.onSubmitFilter})),y.a.createElement(B.a,null,i?y.a.createElement("tr",null,y.a.createElement("td",{colSpan:10},l)):a.map((function(t){return y.a.createElement(X,q()({key:t.id},t,{showCheckbox:e.props.showCheckboxList,checkedAllCheckboxes:e.props.checkedAllCheckboxes,showDeleteItemModal:e.showDeleteItemModal}))})))),y.a.createElement("div",{className:"col-md-6 col-md-offset-3"},y.a.createElement(te.a,{onPageChangeAction:this.props.handlePageClick,totalRecords:o.total,initialPage:this.props.contactsPagination.page}))),this.state.showDeleteItem&&y.a.createElement(ee,q()({closeDeleteItemModal:this.closeDeleteItemModal},this.state.deleteItem)))}}]),n}(E.Component),le=Object(C.b)((function(e){return{isLoading:e.loadingData.isLoading,hasError:e.loadingData.hasError}}))(oe),ie=n(50),se=Object(C.b)((function(e){return{contacts:e.contacts.list.data}}),(function(e){return{deleteSelectedContacts:function(t){e(function(e){return{type:"DELETE_SELECTED_CONTACTS",contactIds:e}}(t))}}}))((function(e){var t=function(){var t=0;return e.contacts.map((function(e){return!0===e.checked&&t++})),t};return y.a.createElement($.a,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.toggleShowDeleteSelectedItems,confirmAction:function(){return t=[],e.contacts.map((function(e){return!0===e.checked&&t.push(e.id)})),e.deleteSelectedContacts(t),void e.toggleShowDeleteSelectedItems();var t},title:"Verwijderen"},0!==t()?y.a.createElement("div",null,"Verwijder de geselecteerde ",y.a.createElement("strong",null,t())," contacten?"):y.a.createElement("div",null,"Geen contacten geselecteerd."))})),ce=n(987),ue=n(58),pe=n(123);function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f()(e);if(t){var r=f()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}var me=function(e){u()(n,e);var t=de(n);function n(e){var a;return r()(this,n),a=t.call(this,e),g()(s()(a),"handleInputChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(g()({},r,n))})),g()(s()(a),"handleSubmit",(function(e){var t=[];a.props.contacts.map((function(e){return!0===e.checked&&t.push(e.id)})),ue.a.addManyContactsToGroup(t,a.state.groupId).then((function(e){a.props.toggleAddGroup(),J.f.push("/contacten-in-groep/".concat(a.state.groupId))}))})),a.state={contactGroups:[],groupId:"",contactCount:0,contactIds:"",errors:{groupId:!1}},a}return l()(n,[{key:"componentDidMount",value:function(){var e=this;ue.a.peekStaticContactGroups().then((function(t){e.setState({contactGroups:t})}));var t=0;this.props.contacts.map((function(e){return!0===e.checked&&t++})),this.setState({contactCount:t})}},{key:"render",value:function(){return y.a.createElement($.a,{buttonConfirmText:"Toevoegen",closeModal:this.props.toggleAddGroup,confirmAction:this.handleSubmit,title:"Contacten toevoegen aan groep"},0!==this.state.contactCount?y.a.createElement("div",{className:"row"},y.a.createElement(pe.a,{size:"col-md-12",label:"Voeg ".concat(this.state.contactCount," contact(en) toe aan groep:"),name:"groupId",options:this.state.contactGroups,value:this.state.groupId,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.groupId})):y.a.createElement("div",null,"Geen contacten geselecteerd."))}}]),n}(E.Component),fe=Object(C.b)((function(e){return{contactDetails:e.contactDetails,contacts:e.contacts.list.data}}),(function(e){return{addContactToGroup:function(t){e(Object(ce.a)(t))}}}))(me),he=n(42),ge=n(146);var Ee=function(e){var t;return y.a.createElement("div",null,y.a.createElement($.a,{buttonConfirmText:"Samenvoegen",buttonClassName:"btn-danger",closeModal:e.toggleShowMergeSelectedItems,confirmAction:function(){return t=e.contacts.data.filter((function(e){return e.checked})).sort((function(e,t){return e.checkedAt-t.checkedAt})).map((function(e){return e.id})),void ge.a.mergeContacts(t[0],t[1]).then((function(){e.fetchContactsData(),e.toggleShowMergeSelectedItems()})).catch((function(e){alert(e.response.data.message)}));var t},title:"Contacten samenvoegen"},2===(t=0,e.contacts.data.map((function(e){return!0===e.checked&&t++})),t)?y.a.createElement("div",null,"Weet je zeker dat je deze 2 contacten wilt samenvoegen? ",y.a.createElement("br",null),"Gegevens worden overgenomen naar het eerste contact, het tweede contact wordt verwijderd."):y.a.createElement("div",null,"Selecteer exact 2 contacten om te kunnen samenvoegen.")))};function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f()(e);if(t){var r=f()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}var Ce=function(e){u()(n,e);var t=ye(n);function n(e){var a;return r()(this,n),a=t.call(this,e),g()(s()(a),"toggleShowDeleteSelectedItems",(function(){a.setState({showDeleteSelectedItems:!a.state.showDeleteSelectedItems})})),g()(s()(a),"toggleShowMergeSelectedItems",(function(){a.setState({showMergeSelectedItems:!a.state.showMergeSelectedItems})})),g()(s()(a),"toggleAddContactsToGroup",(function(){a.setState({showAddContactsToGroup:!a.state.showAddContactsToGroup})})),g()(s()(a),"newContact",(function(){J.f.push("/contact/nieuw")})),g()(s()(a),"importContacts",(function(){J.f.push("/contact/import")})),a.state={showDeleteSelectedItems:!1,showMergeSelectedItems:!1,showAddContactsToGroup:!1},a}return l()(n,[{key:"render",value:function(){var e=this.props.meDetails.permissions,t=void 0===e?{}:e,n=this.props.contacts.meta,a=void 0===n?{}:n;return y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-md-4"},y.a.createElement("div",{className:"btn-group",role:"group"},y.a.createElement(ie.a,{iconName:"glyphicon-refresh",onClickAction:this.props.resetContactFilters,title:"Vernieuwen scherm"}),t.createPerson||t.createOrganisation||t.manageGroup?y.a.createElement("div",{className:"nav navbar-nav btn-group",role:"group"},y.a.createElement("button",{className:"btn btn-success btn-sm","data-toggle":"dropdown",title:"Toevoegen contact of groep"},y.a.createElement("span",{className:"glyphicon glyphicon-plus"})),y.a.createElement("ul",{className:"dropdown-menu"},t.createPerson&&y.a.createElement("li",null,y.a.createElement(J.b,{to:"contact/nieuw/persoon"},"Persoon")),t.createOrganisation&&y.a.createElement("li",null,y.a.createElement(J.b,{to:"contact/nieuw/organisatie"},"Organisatie")),t.manageGroup&&y.a.createElement("li",null,y.a.createElement(J.b,{role:"button",onClick:this.props.toggleSaveAsGroup},"Groep")))):null,t.updatePerson&&t.updateOrganisation&&t.manageGroup&&y.a.createElement("div",{className:"nav navbar-nav btn-group",role:"group"},y.a.createElement("button",{className:"btn btn-success btn-sm","data-toggle":"dropdown",title:"Contactselectie toevoegen aan groep"},y.a.createElement("span",{className:"glyphicon glyphicon-share-alt"})),y.a.createElement("ul",{className:"dropdown-menu"},y.a.createElement("li",null,y.a.createElement("a",{role:"button",onClick:this.toggleAddContactsToGroup},"Voeg toe aan groep")))),(t.deletePerson||t.deleteOrganisation)&&y.a.createElement(ie.a,{iconName:"glyphicon-trash",onClickAction:this.toggleShowDeleteSelectedItems,title:"Verwijderen geselecteerde contacten"}),(t.deletePerson||t.deleteOrganisation||t.manageGroup)&&y.a.createElement(ie.a,{iconName:"glyphicon-ok",onClickAction:this.props.toggleShowCheckboxList,title:"Contactselectie maken"}),y.a.createElement(ie.a,{iconName:"glyphicon-filter",onClickAction:this.props.toggleShowExtraFilters,title:"Contactfilters"}),t.downloadContact&&y.a.createElement(ie.a,{iconName:"glyphicon-download-alt",onClickAction:this.props.getCSV,title:"Downloaden contacten naar CSV"}),t.import&&y.a.createElement(ie.a,{iconName:"glyphicon-import",onClickAction:this.importContacts,title:"Importeren contacten"}),t.downloadContactConsumption&&a.useExportAddressConsumption&&y.a.createElement(y.a.Fragment,null,y.a.createElement("a",{role:"button",className:"btn btn-success btn-sm",onClick:this.props.getExcelAddressEnergyConsumptionElectricity,title:"Downloaden electriciteit verbruik"},y.a.createElement(he.d,{width:"13px",height:"12px"})),y.a.createElement("a",{role:"button",className:"btn btn-success btn-sm",onClick:this.props.getExcelAddressEnergyConsumptionGas,title:"Downloaden gas verbruik"},y.a.createElement(he.b,{width:"13px",height:"12px"}))),y.a.createElement(ie.a,{iconName:"glyphicon-resize-small",onClickAction:this.toggleShowMergeSelectedItems,title:"Contacten samenvoegen"}))),y.a.createElement("div",{className:"col-md-4"},y.a.createElement("h3",{className:"text-center table-title"},"Contacten")),y.a.createElement("div",{className:"col-md-4"},y.a.createElement("div",{className:"pull-right"},"Resultaten: ",a.total||0)),this.state.showDeleteSelectedItems&&y.a.createElement(se,{toggleShowDeleteSelectedItems:this.toggleShowDeleteSelectedItems}),this.state.showAddContactsToGroup&&y.a.createElement(fe,{toggleAddGroup:this.toggleAddContactsToGroup}),this.state.showMergeSelectedItems&&y.a.createElement(Ee,{toggleShowMergeSelectedItems:this.toggleShowMergeSelectedItems,contacts:this.props.contacts,fetchContactsData:this.props.fetchContactsData}))}}]),n}(E.Component),ve=Object(C.b)((function(e){return{meDetails:e.meDetails,contacts:e.contacts.list}}),null)(Ce),be=n(935),Se=n(163),we=n.n(Se),ke=function(e){return y.a.createElement($.a,{buttonConfirmText:"Aanmaken",buttonClassName:"btn-success",closeModal:e.closeDeleteItemModal,confirmAction:function(){e.saveAsGroup()},title:"Groep aanmaken"},"Wilt u een groep aanmaken op basis van de huidige filters?")},Ne=n(1063),De=n(38);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f()(e);if(t){var r=f()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}var Fe=function(e){u()(n,e);var t=Ae(n);function n(e){var a;return r()(this,n),(a=t.call(this,e)).state={filterType:e.filterType,contactType:e.contactType,amountOfFilters:e.amountOfFilters,filters:e.extraFilters,yesNoOptions:[{id:0,name:"Nee"},{id:1,name:"Ja"}]},a.closeModal=a.closeModal.bind(s()(a)),a.confirmAction=a.confirmAction.bind(s()(a)),a.handleFilterFieldChange=a.handleFilterFieldChange.bind(s()(a)),a.handleFilterTypeChange=a.handleFilterTypeChange.bind(s()(a)),a.handleFilterValueChange=a.handleFilterValueChange.bind(s()(a)),a.addFilterRow=a.addFilterRow.bind(s()(a)),a.deleteFilterRow=a.deleteFilterRow.bind(s()(a)),a}return l()(n,[{key:"closeModal",value:function(){this.props.toggleShowExtraFilters()}},{key:"confirmAction",value:function(){this.props.handleExtraFiltersChange(this.state.filters,this.state.amountOfFilters,this.state.filterType)}},{key:"handleFilterFieldChange",value:function(e,t){var n=this.state.filters,a=this.state.amountOfFilters;"product"!==n[t].field&&"opportunityMeasureCategory"!==n[t].field&&"intakeMeasureCategory"!==n[t].field||(delete(n=n.filter((function(e){return e.connectedTo!==n[t].connectName})))[t].connectName,a=n.length),"product"===e?(n[t]={field:"product",type:"eq",data:"",connectName:e+t},n.splice(t+1,0,{field:"dateStart",type:"eq",data:"",connectedTo:e+t}),n.splice(t+2,0,{field:"dateFinish",type:"eq",data:"",connectedTo:e+t}),n.splice(t+3,0,{field:"orderStatus",type:"eq",data:"",connectedTo:e+t}),a=n.length):"opportunityMeasureCategory"===e?(n[t]={field:"opportunityMeasureCategory",type:"eq",data:"",connectName:e+t},n.splice(t+1,0,{field:"opportunityStatus",type:"eq",data:"",connectedTo:e+t}),n.splice(t+2,0,{field:"opportunityMeasure",type:"eq",data:"",connectedTo:e+t}),n.splice(t+3,0,{field:"opportunityEvaluationRealised",type:"eq",data:"",connectedTo:e+t}),n.splice(t+4,0,{field:"opportunityCampaign",type:"eq",data:"",connectedTo:e+t}),a=n.length):"intakeMeasureCategory"===e?(n[t]={field:"intakeMeasureCategory",type:"eq",data:"",connectName:e+t},n.splice(t+1,0,{field:"intakeDateStart",type:"eq",data:"",connectedTo:e+t}),n.splice(t+2,0,{field:"intakeDateFinish",type:"eq",data:"",connectedTo:e+t}),n.splice(t+3,0,{field:"intakeStatus",type:"eq",data:"",connectedTo:e+t}),a=n.length):(n[t].field=e,n[t].data=""),this.setState(Te(Te({},this.state),{},{filters:n,amountOfFilters:a}))}},{key:"handleFilterTypeChange",value:function(e){this.setState(Te(Te({},this.state),{},{filterType:e}))}},{key:"handleFilterValueChange",value:function(e,t,n){var a=this.state.filters;a[n][e]=t,this.setState(Te(Te({},this.state),{},{filters:a}))}},{key:"addFilterRow",value:function(){var e=this,t=this.state.filters;t[this.state.amountOfFilters]={field:"name",type:"eq",data:""},setTimeout((function(){e.setState(Te(Te({},e.state),{},{filters:t}))}),300),setTimeout((function(){e.setState({amountOfFilters:e.state.amountOfFilters+1})}),300)}},{key:"deleteFilterRow",value:function(e){var t=this.state.filters;"product"!==t[e].field&&"opportunityMeasureCategory"!==t[e].field&&"intakeMeasureCategory"!==t[e].field||(t=t.filter((function(n){return n.connectedTo!==t[e].connectName}))),t.splice(e,1),this.setState(Te(Te({},this.state),{},{filters:t,amountOfFilters:t.length}))}},{key:"render",value:function(){var e=this,t={name:{name:"Naam",type:"stringWithoutNull"},postalCode:{name:"Postcode",type:"numberOrString"},country:{name:"Land",type:"dropdown",dropDownOptions:this.props.countries},createdAt:{name:"Gemaakt op",type:"date"},currentObligations:{name:"Huidig aantal obligaties",type:"number"},currentParticipations:{name:"Huidig aantal participaties",type:"number"},currentPostalcodeLinkCapital:{name:"Huidig aantal postcoderoos",type:"number"},currentLoan:{name:"Huidig bedrag lening",type:"number"},staticContactGroup:{name:"Statische groep",type:"dropdownHas",dropDownOptions:this.props.staticContactGroups},occupation:{name:"Verbinding",type:"dropdownRelations",dropDownOptions:this.props.primaryOccupations},occupationPrimary:{name:"Primaire verbinding",type:"dropdownRelations",dropDownOptions:this.props.primaryOccupations},campaign:{name:"Campagne",type:"dropdownHas",dropDownOptions:this.props.campaigns},opportunityMeasureCategory:{name:"Kans maatregel categorie",type:"dropdownHas",dropDownOptions:this.props.measureCategories},intakeMeasureCategory:{name:"Intake interesse",type:"dropdownHas",dropDownOptions:this.props.measureCategories},product:{name:"Product",type:"dropdownHas",dropDownOptions:this.props.products},dateOfBirth:{name:"Geboortedatum",type:"date"},energySupplier:{name:"Primaire Energie leverancier",type:"dropdown",dropDownOptions:this.props.energySuppliers},energySupplierType:{name:"Type primaire energie leverancier",type:"dropdownHas",dropDownOptions:this.props.energySupplierTypes},didAgreeAvg:{name:"Akkoord privacybeleid",type:"boolean",dropDownOptions:this.state.yesNoOptions},portalUser:{name:"Portal gebruiker actief",type:"boolean",dropDownOptions:this.state.yesNoOptions}},n={dateStart:{name:"Begin datum",type:"date"},dateFinish:{name:"Eind datum",type:"date"},orderStatus:{name:"Order status",type:"dropdownHas",dropDownOptions:this.props.orderStatuses}},a={opportunityStatus:{name:"Kans status",type:"dropdownHas",dropDownOptions:this.props.opportunityStatus},opportunityMeasure:{name:"Kans maatregel specifiek",type:"dropdownHas",dropDownOptions:this.props.measures.filter((function(e){return 1==e.visible}))},opportunityEvaluationRealised:{name:"Kans status evaluatie uitgevoerd",type:"dropdownHas",dropDownOptions:this.props.opportunityEvaluationStatuses},opportunityCampaign:{name:"Kans campagne",type:"dropdownHas",dropDownOptions:this.props.campaigns}},r={intakeDateStart:{name:"Begin datum",type:"date"},intakeDateFinish:{name:"Eind datum",type:"date"},intakeStatus:{name:"Intake status",type:"dropdownHas",dropDownOptions:this.props.intakeStatuses}};return y.a.createElement($.a,{title:"Extra filters",buttonConfirmText:"Toepassen",confirmAction:this.confirmAction,closeModal:this.closeModal,buttonCancelText:"Sluiten",extraButtonLabel:"Maak groep",extraButtonClass:"btn-success",extraButtonAction:this.props.saveAsGroup},y.a.createElement("div",{className:"row filter-row"},y.a.createElement("h5",null,y.a.createElement("div",{className:"col-xs-6"},y.a.createElement("input",{onChange:function(){return e.handleFilterTypeChange("and")},type:"radio",name:"type",value:"and",id:"and",checked:"and"===this.state.filterType}),y.a.createElement("label",{htmlFor:"and"},'Alle extra filters zijn "EN"')),y.a.createElement("div",{className:"col-xs-6"},y.a.createElement("input",{onChange:function(){return e.handleFilterTypeChange("or")},type:"radio",name:"type",value:"or",id:"or",checked:"or"===this.state.filterType}),y.a.createElement("label",{htmlFor:"or"},'Alle extra filters zijn "OF"')))),y.a.createElement("table",{className:"table"},y.a.createElement("thead",null,y.a.createElement("tr",null,y.a.createElement("th",{className:"col-md-4"},"Zoekveld"),y.a.createElement("th",{className:"col-md-3"}),y.a.createElement("th",{className:"col-md-4"},"Waarde"),y.a.createElement("th",{className:"col-md-1"}))),y.a.createElement("tbody",null,0===this.state.filters.length?y.a.createElement("tr",null,y.a.createElement("td",{colSpan:4},"Geen filters gezet.")):this.state.filters.map((function(o,l){return y.a.createElement(Ne.a,{key:l,filter:o,filterNumber:l,fields:Te(Te(Te(Te({},t),n),a),r),handleFilterFieldChange:e.handleFilterFieldChange,deleteFilterRow:e.deleteFilterRow,handleFilterValueChange:e.handleFilterValueChange,contactType:e.state.contactType})})))),y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-xs-12 text-right"},y.a.createElement(De.a,{buttonText:"Extra filter",onClickAction:this.addFilterRow}))))}}]),n}(E.Component),xe=Object(C.b)((function(e){return{contactStatuses:e.systemData.contactStatuses,staticContactGroups:e.systemData.staticContactGroups,primaryOccupations:e.systemData.primaryOccupations,measureCategories:e.systemData.measureCategories,measures:e.systemData.measures,opportunityStatus:e.systemData.opportunityStatus,opportunityEvaluationStatuses:e.systemData.opportunityEvaluationStatuses,intakeStatuses:e.systemData.intakeStatuses,campaigns:e.systemData.campaigns,products:e.systemData.products,energySuppliers:e.systemData.energySuppliers,energySupplierTypes:e.systemData.energySupplierTypes,countries:e.systemData.countries,orderStatuses:e.systemData.orderStatuses}}))(Fe);function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=f()(e);if(t){var r=f()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return d()(this,n)}}w.a.locale("nl");var Ie=function(e){u()(n,e);var t=Re(n);function n(e){var a;if(r()(this,n),a=t.call(this,e),g()(s()(a),"fetchContactsData",(function(){setTimeout((function(){var e=a.state.extraFilters,t=Object(be.a)(a.props.contactsFilters),n=a.props.contactsSorts,r={limit:20,offset:a.props.contactsPagination.offset},o=a.state.filterType;a.props.fetchContacts(t,e,n,r,o)}),100)})),g()(s()(a),"saveAsGroup",(function(){var e=a.state.extraFilters,t=Object(be.a)(a.props.contactsFilters),n=a.state.filterType;ge.a.saveAsGroup({filters:t,extraFilters:e,filterType:n}).then((function(e){J.f.push("/contact-groep/".concat(e.data.data.id,"/edit"))}))})),g()(s()(a),"toggleSaveAsGroup",(function(){a.setState({showSaveAsGroup:!a.state.showSaveAsGroup})})),g()(s()(a),"getCSV",(function(){a.props.blockUI(),setTimeout((function(){var e=a.state.extraFilters,t=Object(be.a)(a.props.contactsFilters),n=a.props.contactsSorts;ge.a.getCSV({filters:t,extraFilters:e,sorts:n}).then((function(e){we()(e.data,"Contacten-"+w()().format("YYYY-MM-DD HH:mm:ss")+".csv"),a.props.unblockUI()})).catch((function(e){a.props.unblockUI()}))}),100)})),g()(s()(a),"getExcelAddressEnergyConsumptionGas",(function(){a.props.blockUI(),setTimeout((function(){for(var e=Math.ceil(a.props.contacts.meta.total/1e4),t=a.props.contacts.meta.total>1e4,n=1,r=1;r<=e;r++){var o={limit:1e4,offset:1e4*r-1e4},l=Object(be.a)(a.props.contactsFilters),i=a.state.extraFilters,s=a.props.contactsSorts;ge.a.getExcelAddressEnergyConsumptionGas({filters:l,extraFilters:i,sorts:s,pagination:o}).then((function(r){var o="Contacten-verbruik-gas-".concat(w()().format("YYYY-MM-DD HH:mm:ss"),".xlsx");if(t)o="Contacten-verbruik-gas-".concat(w()().format("YYYY-MM-DD HH:mm:ss")," (").concat(n," van ").concat(e,").xlsx");we()(r.data,o),n+=1,a.props.unblockUI()})).catch((function(e){a.props.unblockUI()}))}}),100)})),g()(s()(a),"getExcelAddressEnergyConsumptionElectricity",(function(){a.props.blockUI(),setTimeout((function(){for(var e=Math.ceil(a.props.contacts.meta.total/1e4),t=a.props.contacts.meta.total>1e4,n=1,r=1;r<=e;r++){var o={limit:1e4,offset:1e4*r-1e4},l=Object(be.a)(a.props.contactsFilters),i=a.state.extraFilters,s=a.props.contactsSorts;ge.a.getExcelAddressEnergyConsumptionElectricity({filters:l,extraFilters:i,sorts:s,pagination:o}).then((function(r){var o="Contacten-verbruik-electriciteit-".concat(w()().format("YYYY-MM-DD HH:mm:ss"),".xlsx");if(t)o="Contacten-verbruik-electriciteit-".concat(w()().format("YYYY-MM-DD HH:mm:ss")," (").concat(n," van ").concat(e,").xlsx");we()(r.data,o),n+=1,a.props.unblockUI()})).catch((function(e){a.props.unblockUI()}))}}),100)})),g()(s()(a),"resetContactFilters",(function(){a.props.clearFilterContacts(),a.setState({filterType:"and",amountOfFilters:0,extraFilters:[]}),a.fetchContactsData()})),g()(s()(a),"toggleShowCheckboxList",(function(){a.setState({showCheckboxList:!a.state.showCheckboxList})})),g()(s()(a),"selectAllCheckboxes",(function(){a.setState({checkedAllCheckboxes:!a.state.checkedAllCheckboxes}),a.props.setCheckedContactAll(!a.state.checkedAllCheckboxes)})),!Object(b.isEmpty)(e.params))switch(e.params.filter){case"type":a.props.clearFilterContacts(),a.props.setTypeFilter(e.params.value)}return a.state={showCheckboxList:!1,checkedAllCheckboxes:!1,showSaveAsGroup:!1,showExtraFilters:!1,filterType:"and",amountOfFilters:0,extraFilters:[]},a.handlePageClick=a.handlePageClick.bind(s()(a)),a.handleExtraFiltersChange=a.handleExtraFiltersChange.bind(s()(a)),a.getCSV=a.getCSV.bind(s()(a)),a.toggleShowExtraFilters=a.toggleShowExtraFilters.bind(s()(a)),a}return l()(n,[{key:"componentDidMount",value:function(){this.fetchContactsData()}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.props.params.value!==e.params.value){if(Object(b.isEmpty)(e.params))this.props.clearFilterContacts();else switch(e.params.filter){case"type":this.props.clearFilterContacts(),this.props.setTypeFilter(e.params.value)}setTimeout((function(){t.fetchContactsData()}),100)}}},{key:"componentWillUnmount",value:function(){this.props.clearContacts()}},{key:"onSubmitFilter",value:function(){this.props.clearContacts(),this.props.setContactsPagination({page:0,offset:0}),this.fetchContactsData()}},{key:"handlePageClick",value:function(e){var t=e.selected,n=Math.ceil(20*t);this.props.setContactsPagination({page:t,offset:n}),this.fetchContactsData()}},{key:"handleExtraFiltersChange",value:function(e,t,n){var a=this;this.setState({filterType:n,amountOfFilters:e,extraFilters:e}),this.props.setContactsPagination({page:0,offset:0}),setTimeout((function(){a.fetchContactsData()}),100)}},{key:"prefillExtraFilter",value:function(){this.setState({filterType:"and",amountOfFilters:1,extraFilters:[{field:"name",type:"eq",data:""}]})}},{key:"toggleShowExtraFilters",value:function(){0===this.state.extraFilters.length&&!this.state.showExtraFilters&&this.prefillExtraFilter(),this.setState({showExtraFilters:!this.state.showExtraFilters})}},{key:"render",value:function(){var e=this;return y.a.createElement("div",null,y.a.createElement("div",{className:"panel panel-default"},y.a.createElement("div",{className:"panel-body"},y.a.createElement("div",{className:"col-md-12 margin-10-top"},y.a.createElement(ve,{toggleShowCheckboxList:function(){return e.toggleShowCheckboxList()},resetContactFilters:function(){return e.resetContactFilters()},selectAllCheckboxes:function(){return e.selectAllCheckboxes()},checkedAllCheckboxes:this.state.checkedAllCheckboxes,getCSV:this.getCSV,getExcelAddressEnergyConsumptionGas:this.getExcelAddressEnergyConsumptionGas,getExcelAddressEnergyConsumptionElectricity:this.getExcelAddressEnergyConsumptionElectricity,toggleSaveAsGroup:this.toggleSaveAsGroup,saveAsGroup:this.saveAsGroup,toggleShowExtraFilters:this.toggleShowExtraFilters,fetchContactsData:this.fetchContactsData})),y.a.createElement("div",{className:"col-md-12 margin-10-top"},y.a.createElement(le,{contacts:this.props.contacts,contactsPagination:this.props.contactsPagination,showCheckboxList:this.state.showCheckboxList,selectAllCheckboxes:function(){return e.selectAllCheckboxes()},checkedAllCheckboxes:this.state.checkedAllCheckboxes,onSubmitFilter:function(){return e.onSubmitFilter()},fetchContactsData:function(){return e.fetchContactsData()},handlePageClick:this.handlePageClick})))),this.state.showSaveAsGroup&&y.a.createElement(ke,{saveAsGroup:this.saveAsGroup,closeDeleteItemModal:this.toggleSaveAsGroup}),this.state.showExtraFilters&&y.a.createElement(xe,{saveAsGroup:this.saveAsGroup,filterType:this.state.filterType,toggleShowExtraFilters:this.toggleShowExtraFilters,handleExtraFiltersChange:this.handleExtraFiltersChange,contactType:this.props.contactsFilters.typeId.data,extraFilters:this.state.extraFilters,amountOfFilters:this.state.amountOfFilters}))}}]),n}(E.Component);t.default=Object(C.b)((function(e){return{contacts:e.contacts.list,contactsFilters:e.contacts.filters,contactsSorts:e.contacts.sorts,contactsPagination:e.contacts.pagination}}),(function(e){return Object(v.b)({fetchContacts:k,clearContacts:N,setCheckedContactAll:D,setTypeFilter:T,clearFilterContacts:j,setContactsPagination:G,blockUI:L.a,unblockUI:L.b},e)}))(Ie)},933:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(3),l=n.n(o),i=function(e){var t=e.RowClassName,n=e.setSorts,a=e.sortColumn,o=e.title,l=e.width;return r.a.createElement("th",{className:t,width:l},o,r.a.createElement("span",{className:"glyphicon glyphicon-arrow-down pull-right small",role:"button",onClick:n.bind(void 0,a,"ASC")}),r.a.createElement("span",{className:"glyphicon glyphicon-arrow-up pull-right small",role:"button",onClick:n.bind(void 0,a,"DESC")}))};i.defaultProps={RowClassName:""},i.propTypes={setSorts:l.a.func.isRequired,sortColumn:l.a.string.isRequired,title:l.a.string.isRequired,width:l.a.string.isRequired,RowClassName:l.a.string},t.a=i},934:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"v",(function(){return o})),n.d(t,"u",(function(){return l})),n.d(t,"x",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"i",(function(){return c})),n.d(t,"q",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"l",(function(){return d})),n.d(t,"w",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"s",(function(){return g})),n.d(t,"d",(function(){return E})),n.d(t,"k",(function(){return y})),n.d(t,"t",(function(){return C})),n.d(t,"e",(function(){return v})),n.d(t,"n",(function(){return b})),n.d(t,"p",(function(){return S})),n.d(t,"o",(function(){return w})),n.d(t,"m",(function(){return k})),n.d(t,"y",(function(){return N})),n.d(t,"b",(function(){return D})),n.d(t,"r",(function(){return O}));var a=function(e){return{type:"FETCH_CONTACT_DETAILS",payload:e}},r=function(e){return{type:"DELETE_CONTACT",id:e}},o=function(e){return{type:"UPDATE_PERSON",contactDetails:e}},l=function(e){return{type:"UPDATE_ORGANISATION",contactDetails:e}},i=function(e){return{type:"UPDATE_PORTAL_USER",portalUser:e}},s=function(e){return{type:"DELETE_PORTAL_USER",id:e}},c=function(e){return{type:"NEW_ADDRESS",address:e}},u=function(e){return{type:"UPDATE_ADDRESS",address:e}},p=function(e){return{type:"DELETE_ADDRESS",id:e}},d=function(e){return{type:"NEW_PHONE_NUMBER",phoneNumber:e}},m=function(e){return{type:"UPDATE_PHONE_NUMBER",phoneNumber:e}},f=function(e){return{type:"DELETE_PHONE_NUMBER",id:e}},h=function(e){return{type:"NEW_EMAIL_ADDRESS",emailAddress:e}},g=function(e){return{type:"UPDATE_EMAIL_ADDRESS",emailAddress:e}},E=function(e){return{type:"DELETE_EMAIL_ADDRESS",id:e}},y=function(e){return{type:"NEW_CONTACT_NOTE",note:e}},C=function(e){return{type:"UPDATE_CONTACT_NOTE",note:e}},v=function(e){return{type:"DELETE_CONTACT_NOTE",id:e}},b=function(){return{type:"UNSET_PRIMARY_ADDRESSES"}},S=function(){return{type:"UNSET_PRIMARY_PHONE_NUMBERS"}},w=function(){return{type:"UNSET_PRIMARY_EMAIL_ADDRESSES"}},k=function(e){return{type:"NEW_ADDRESS_ENERGY_SUPPLIER",addressEnergySupplier:e}},N=function(e){return{type:"UPDATE_ADDRESS_ENERGY_SUPPLIER",addressEnergySupplier:e}},D=function(e){return{type:"DELETE_ADDRESS_ENERGY_SUPPLIER",id:e}},O=function(e){return{type:"UPDATE_HOOM_ACCOUNT_ID",hoomAccountId:e}}},935:function(e,t,n){"use strict";t.a=function(e){var t=[];for(var n in e)""!==e[n].data&&t.push(e[n]);return t}},939:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(3),l=n.n(o),i=n(290),s=n.n(i),c=n(165),u=n.n(c),p=n(7),d=n.n(p);d.a.locale("nl");var m=function(e){var t=e.className,n=e.value,a=e.onChangeAction,o=e.placeholder,l=n?d()(n).format("L"):"";return r.a.createElement("th",{className:"DayPicker-overflow ".concat(t)},r.a.createElement(s.a,{value:l,onDayChange:a,formatDate:c.formatDate,parseDate:c.parseDate,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:u.a},inputProps:{className:"form-control input-sm",placeholder:o},placeholder:""}))};m.defaultProps={className:"",value:null,placeholder:""},m.propTypes={className:l.a.string,value:l.a.oneOfType([l.a.string,l.a.object]),onChangeAction:l.a.func,placeholder:l.a.string},t.a=m},987:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l}));var a=function(e){return{type:"ADD_CONTACT_TO_GROUP",contact:e}},r=function(e,t,n){return{type:"FETCH_CONTACT_GROUPS",filters:e,sorts:t,pagination:n}},o=function(){return{type:"CLEAR_CONTACT_GROUPS"}},l=function(e,t){return{type:"DELETE_CONTACT_GROUP",id:e,successAction:t}}}}]);