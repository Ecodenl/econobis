"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[4647],{87383:(e,t,n)=>{n.d(t,{Em:()=>i,mY:()=>o,r$:()=>a});var o=function(e){return{type:"FETCH_INVOICE_DETAILS",id:e}},i=function(e,t){return{type:"FETCH_INVOICE_FROM_TWINFIELD_DETAILS",twinfieldCode:e,twinfieldNumber:t}},a=function(e){return{type:"DELETE_INVOICE",id:e}}},84647:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var o=n(23029),i=n(92901),a=n(56822),c=n(53954),l=n(85501),r=n(64467),s=n(96540),u=n(69733),m=n(87383),d=n(62493),f=n(55849),p=n(24179),v=n(91858);const h=(0,u.Ng)((function(e){return{invoiceDetails:e.invoiceDetails}}),null)((function(e){var t=e.invoiceDetails.document,n=void 0===t?{}:t;return s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-4"},s.createElement("div",{className:"btn-group",role:"group"},s.createElement(v.A,{iconName:"arrowLeft",onClickAction:p.Nc.goBack}),s.createElement(v.A,{iconName:"download",onClickAction:e.download}),s.createElement(v.A,{iconName:"searchPlus",onClickAction:e.zoomIn}),s.createElement(v.A,{iconName:"searchMinus",onClickAction:e.zoomOut}))),s.createElement("div",{className:"col-md-4"},s.createElement("h4",{className:"text-center"},"Nota: "+(n?n.name:"Preview"))),s.createElement("div",{className:"col-md-4"}))}));var E=n(2543),A=n(41919),w=n(23299);function N(e,t,n){return t=(0,c.A)(t),(0,a.A)(e,D()?Reflect.construct(t,n||[],(0,c.A)(e).constructor):t.apply(e,n))}function D(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(D=function(){return!!e})()}var I=function(e){function t(e){var n;return(0,o.A)(this,t),(n=N(this,t,[e])).state={file:null},n}return(0,l.A)(t,e),(0,i.A)(t,[{key:"componentDidMount",value:function(){this.downloadFile()}},{key:"downloadFile",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;w.A.download(this.props.invoiceDetails.id).then((function(t){e.setState({file:t.data})})).catch((function(){t<2&&setTimeout((function(){e.downloadFile(t)}),500),t++}))}},{key:"render",value:function(){return(0,E.isEmpty)(this.props.invoiceDetails)||!this.state.file?s.createElement("div",null,"Geen gegevens gevonden."):s.createElement("div",null,s.createElement(A.A,{file:this.state.file,scale:this.props.scale}))}}])}(s.Component);const C=(0,u.Ng)((function(e){return{invoiceDetails:e.invoiceDetails}}),null)(I);var y=n(5419),k=n.n(y);function g(e,t,n){return t=(0,c.A)(t),(0,a.A)(e,O()?Reflect.construct(t,n||[],(0,c.A)(e).constructor):t.apply(e,n))}function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(O=function(){return!!e})()}var F=function(e){function t(e){var n;return(0,o.A)(this,t),n=g(this,t,[e]),(0,r.A)(n,"zoomIn",(function(){n.setState({scale:n.state.scale+.2})})),(0,r.A)(n,"zoomOut",(function(){n.setState({scale:n.state.scale-.2})})),n.state={scale:1},n.download=n.download.bind(n),n}return(0,l.A)(t,e),(0,i.A)(t,[{key:"componentDidMount",value:function(){this.props.params.id&&this.props.fetchInvoiceDetails(this.props.params.id,this.props.params.twinfieldCode,this.props.params.twinfieldNumber),this.props.params.twinfieldCode&&this.props.params.twinfieldNumber&&this.props.fetchInvoiceFromTwinfieldDetails(this.props.params.twinfieldCode,this.props.params.twinfieldNumber)}},{key:"download",value:function(){w.A.download(this.props.invoiceDetails.id).then((function(e){k()(e.data,e.headers["x-filename"])}))}},{key:"render",value:function(){return s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-12"},s.createElement("div",{className:"col-md-12 margin-10-top"},s.createElement(d.A,null,s.createElement(f.A,{className:"panel-small"},s.createElement(h,{zoomIn:this.zoomIn,zoomOut:this.zoomOut,download:this.download})))),s.createElement("div",{className:"col-md-12 margin-10-top"},s.createElement(C,{invoiceDetails:this.props.invoiceDetails,scale:this.state.scale}))))}}])}(s.Component);const T=(0,u.Ng)((function(e){return{invoiceDetails:e.invoiceDetails}}),(function(e){return{fetchInvoiceDetails:function(t){e((0,m.mY)(t))},fetchInvoiceFromTwinfieldDetails:function(t,n){e((0,m.Em)(t,n))}}}))(F)}}]);