"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[4647],{84647:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var a=n(23029),o=n(92901),i=n(56822),c=n(53954),l=n(85501),r=n(64467),s=n(58168),m=n(96540),u=n(69733),d=n(87383),f=n(62493),p=n(55849),v=n(47767),E=n(91858);const h=(0,u.Ng)((function(e){return{invoiceDetails:e.invoiceDetails}}),null)((function(e){var t=(0,v.Zp)(),n=e.invoiceDetails.document,a=void 0===n?{}:n;return m.createElement("div",{className:"row"},m.createElement("div",{className:"col-md-4"},m.createElement("div",{className:"btn-group",role:"group"},m.createElement(E.A,{iconName:"arrowLeft",onClickAction:function(){return t(-1)}}),m.createElement(E.A,{iconName:"download",onClickAction:e.download}),m.createElement(E.A,{iconName:"searchPlus",onClickAction:e.zoomIn}),m.createElement(E.A,{iconName:"searchMinus",onClickAction:e.zoomOut}))),m.createElement("div",{className:"col-md-4"},m.createElement("h4",{className:"text-center"},"Nota: "+(a?a.name:"Preview"))),m.createElement("div",{className:"col-md-4"}))}));var A=n(5544),N=n(2543),w=n(41919),I=n(23299);const D=function(e){var t=(0,m.useState)(null),n=(0,A.A)(t,2),a=n[0],o=n[1],i=(0,m.useState)(!1),c=(0,A.A)(i,2),l=c[0],r=c[1],s=(0,u.d4)((function(e){return e.invoiceDetails}));return(0,m.useEffect)((function(){r(!0),I.A.download(s.id).then((function(e){o(e.data),r(!1)})).catch((function(e){console.log(e),r(!1)}))}),[s.id]),(0,N.isEmpty)(s)?m.createElement("div",null,"Geen gegevens gevonden."):l?m.createElement("div",null,"Document aan het ophalen..."):m.createElement("div",null,m.createElement(w.A,{file:a,scale:e.scale}))};var C=n(5419),g=n.n(C);function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(k=function(){return!!e})()}var y=function(e){function t(e){var n,o,l,s;return(0,a.A)(this,t),o=this,l=t,s=[e],l=(0,c.A)(l),n=(0,i.A)(o,k()?Reflect.construct(l,s||[],(0,c.A)(o).constructor):l.apply(o,s)),(0,r.A)(n,"zoomIn",(function(){n.setState({scale:n.state.scale+.2})})),(0,r.A)(n,"zoomOut",(function(){n.setState({scale:n.state.scale-.2})})),n.state={scale:1},n.download=n.download.bind(n),n}return(0,l.A)(t,e),(0,o.A)(t,[{key:"componentDidMount",value:function(){this.props.params.id&&this.props.fetchInvoiceDetails(this.props.params.id,this.props.params.twinfieldCode,this.props.params.twinfieldNumber),this.props.params.twinfieldCode&&this.props.params.twinfieldNumber&&this.props.fetchInvoiceFromTwinfieldDetails(this.props.params.twinfieldCode,this.props.params.twinfieldNumber)}},{key:"download",value:function(){I.A.download(this.props.invoiceDetails.id).then((function(e){g()(e.data,e.headers["x-filename"])}))}},{key:"render",value:function(){return m.createElement("div",{className:"row"},m.createElement("div",{className:"col-md-12"},m.createElement("div",{className:"col-md-12 margin-10-top"},m.createElement(f.A,null,m.createElement(p.A,{className:"panel-small"},m.createElement(h,{zoomIn:this.zoomIn,zoomOut:this.zoomOut,download:this.download})))),m.createElement("div",{className:"col-md-12 margin-10-top"},m.createElement(D,{scale:this.state.scale}))))}}])}(m.Component);const O=(0,u.Ng)((function(e){return{invoiceDetails:e.invoiceDetails}}),(function(e){return{fetchInvoiceDetails:function(t){e((0,d.mY)(t))},fetchInvoiceFromTwinfieldDetails:function(t,n){e((0,d.Em)(t,n))}}}))((function(e){var t=(0,v.g)();return m.createElement(y,(0,s.A)({},e,{params:t}))}))},87383:(e,t,n)=>{n.d(t,{Em:()=>o,mY:()=>a,r$:()=>i});var a=function(e){return{type:"FETCH_INVOICE_DETAILS",id:e}},o=function(e,t){return{type:"FETCH_INVOICE_FROM_TWINFIELD_DETAILS",twinfieldCode:e,twinfieldNumber:t}},i=function(e){return{type:"DELETE_INVOICE",id:e}}}}]);