"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[4813],{95912:(e,t,n)=>{n.d(t,{Ef:()=>o,QQ:()=>s,QX:()=>p,Um:()=>c,WX:()=>r,Xn:()=>u,oo:()=>a,ps:()=>l,zm:()=>i});var o=function(e){return{type:"FETCH_CONTACT_GROUP_DETAILS",id:e}},r=function(e){return{type:"UPDATE_CONTACT_GROUP_DETAILS",contactGroupDetails:e}},a=function(){return{type:"CLEAR_CONTACT_GROUP_DETAILS"}},s=function(e,t){return{type:"DELETE_COMPOSED_GROUP",contactGroupId:e,contactGroupToDetachId:t}},i=function(e,t){return{type:"ATTACH_COMPOSED_GROUP",contactGroupId:e,contactGroupToAttachId:t}},c=function(e,t){return{type:"DELETE_COMPOSED_EXCEPT_GROUP",contactGroupId:e,contactGroupToDetachId:t}},l=function(e,t){return{type:"ATTACH_COMPOSED_EXCEPT_GROUP",contactGroupId:e,contactGroupToAttachId:t}},u=function(e){return{type:"UPDATE_LAPOSTA_LIST_ID",lapostaListId:e}},p=function(e){return{type:"DEACTIVATE_LAPOSTA_LIST_ID",lapostaListId:e}}},71515:(e,t,n)=>{n.d(t,{Z:()=>p});var o=n(4942),r=n(67294),a=n(45697),s=n.n(a),i=n(320);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.label,n=e.size,o=e.id,a=e.name,s=e.value,c=e.loadOptions,u=e.optionId,p=e.optionName,d=e.onChangeAction,m=e.handleInputChange,f=e.required,h=e.allowCreate,g=e.multi,v=e.error,E=e.errorMessage,O=e.isLoading,y=e.disabled,b=e.placeholder,I=e.clearable,C={option:function(e){return l(l({},e),{},{fontSize:"12px"})},singleValue:function(e){return l(l({},e),{},{fontSize:"12px"})},menu:function(e){return l(l({},e),{},{zIndex:20})}};return r.createElement("div",{className:"form-group col-sm-12"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-3"},r.createElement("label",{htmlFor:o,className:"col-sm-12 ".concat(f)},t)),r.createElement("div",{className:"".concat(n)},r.createElement(i.Z,{id:o,name:a,onChange:function(e){return d(e)},value:s,loadOptions:c,onInputChange:m,getOptionLabel:function(e){return e[p]},getOptionValue:function(e){return e[u]},placeholder:b,noOptionsMessage:function(){return"Geen opties gevonden (tik om te zoeken minimaal 2 tekens)"},loadingMessage:function(){return"Laden"},isMulti:g,simpleValue:!0,removeSelected:!0,className:v?" has-error":"",isLoading:O,isDisabled:y,styles:C,isClearable:I,formatCreateLabel:function(e){return'Maak optie "'.concat(e,'" aan')},getNewOptionData:function(e,t){return h?{id:t,name:t,__isNew__:!0}:{}},theme:function(e){return l(l({},e),{},{colors:l({},e.colors),spacing:l(l({},e.spacing),{},{baseUnit:2,controlHeight:24,menuGutter:4})})}})),v&&r.createElement("div",{className:"col-sm-offset-3 col-sm-8"},r.createElement("span",{className:"has-error-message"}," ",E))))};u.defaultProps={allowCreate:!1,className:"",size:"col-sm-8",optionId:"id",optionName:"name",disabled:!1,required:"",error:!1,errorMessage:"",value:"",multi:!0,isLoading:!1,placeholder:"",clearable:!1},u.propTypes={allowCreate:s().bool,label:s().string.isRequired,className:s().string,size:s().string,id:s().string,name:s().string.isRequired,loadOptions:s().array,optionId:s().string,optionName:s().string,value:s().oneOfType([s().email,s().number]),onChangeAction:s().func,handleInputChange:s().func,required:s().string,disabled:s().bool,error:s().bool,errorMessage:s().string,multi:s().bool,isLoading:s().bool,placeholder:s().string,clearable:s().bool};const p=u},4813:(e,t,n)=>{n.r(t),n.d(t,{default:()=>se});var o=n(15671),r=n(43144),a=n(97326),s=n(60136),i=n(82963),c=n(61120),l=n(4942),u=n(67294),p=n(37974),d=n(83920),m=function(e){return{type:"FETCH_CONTACTS_IN_GROUP",contactGroup:e}},f=function(){return{type:"CLEAR_CONTACTS_IN_GROUP"}},h=n(95912),g=n(87462),v=n(96498),E=n(75286),O=n(24480),y=n(52822);const b=function(e){return u.createElement("tr",{className:"thead-title-quaternary"},e.isUsedInLaposta?u.createElement(u.Fragment,null,u.createElement(y.Z,{RowClassName:"hidden-xs",title:"#",width:"10%"}),u.createElement(y.Z,{RowClassName:"hidden-xs hidden-sm",title:"Type",width:"10%"}),u.createElement(y.Z,{sortColumn:"fullName",title:"Naam",width:"25%"}),u.createElement(y.Z,{RowClassName:"hidden-xs",title:"E-mail",width:"25%"}),u.createElement(y.Z,{RowClassName:"hidden-xs",title:"Laposta status",width:"10%"}),u.createElement(y.Z,{RowClassName:"hidden-xs hidden-sm",title:"Toegevoegd aan groep op",width:"10%"}),u.createElement("th",{width:"10%"})):u.createElement(u.Fragment,null,u.createElement(y.Z,{RowClassName:"hidden-xs",title:"#",width:"15%"}),u.createElement(y.Z,{RowClassName:"hidden-xs hidden-sm",title:"Type",width:"15%"}),u.createElement(y.Z,{sortColumn:"fullName",title:"Naam",width:"30%"}),u.createElement(y.Z,{RowClassName:"hidden-xs",title:"E-mail",width:"30%"}),u.createElement(y.Z,{RowClassName:"hidden-xs hidden-sm",title:"Toegevoegd aan groep op",width:"10%"}),u.createElement("th",{width:"10%"})))};var I=n(61409),C=n(30381),w=n.n(C),Z=n(97894),G=n(75502),N=n(77320),D=n(91871),T=n(96168);var P=function(e){(0,s.Z)(l,e);var t,n,a=(t=l,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,c.Z)(t);if(n){var r=(0,c.Z)(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return(0,i.Z)(this,e)});function l(e){var t;return(0,o.Z)(this,l),(t=a.call(this,e)).state={showActionButtons:!1,highlightRow:""},t}return(0,r.Z)(l,[{key:"onRowEnter",value:function(){this.setState({showActionButtons:!0,highlightRow:"highlight-row"})}},{key:"onRowLeave",value:function(){this.setState({showActionButtons:!1,highlightRow:""})}},{key:"openItem",value:function(e){I.nA.push("/contact/".concat(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,o=t.number,r=t.typeName,a=t.fullName,s=t.emailAddress,i=t.lapostaMemberId,c=t.lapostaMemberState,l=t.lapostaLastErrorMessage,p=t.memberToGroupSince,d=t.permissions,m=t.isUsedInLaposta,f="";switch(c){case"active":f="Actief";break;case"unsubscribed":f="Uitgeschreven";break;case"unconfirmed":f="Niet bevestigd";break;case"cleaned":f="Opgeschoond";break;case"unknown":f="Niet bekend in Laposta";break;case"inprogress":f="Wordt bijgewerkt";break;default:f=""}var h=!m||null!==i&&"unknown"!==c?null:"missing-data-row",g=!m||null!==i&&"unknown"!==c?"":"Koppeling niet gevonden in Laposta";return u.createElement("tr",{title:g,className:this.state.highlightRow+" "+h?h:"",onDoubleClick:function(){return e.openItem(n)},onMouseEnter:function(){return e.onRowEnter()},onMouseLeave:function(){return e.onRowLeave()}},u.createElement("td",{className:"hidden-xs"},o),u.createElement("td",{className:"hidden-xs hidden-sm"},r," "),u.createElement("td",null,a),u.createElement("td",{className:"hidden-xs"},s),m&&u.createElement("td",{className:"hidden-xs"},f,l?u.createElement(u.Fragment,null," ",u.createElement(D.a4m,{color:"red",size:"15px","data-tip":"Laatste (fout) melding synchronistatie Laposta: "+l,"data-for":"tooltip-lapostaLastErrorMessage"}),u.createElement(T.Z,{id:"tooltip-lapostaLastErrorMessage",effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"})):null),u.createElement("td",{className:"hidden-xs hidden-sm"},p?w()(p).format("DD-MM-Y"):""),u.createElement("td",null,this.state.showActionButtons&&d.updatePerson&&d.updateOrganisation&&(m&&null!==i||this.props.contactGroupType&&"static"===this.props.contactGroupType.id)?u.createElement("a",{role:"button",onClick:this.props.showEditItemModal.bind(this,n,s,p)},u.createElement(Z.ZP,{className:"mybtn-success",size:14,icon:G.r})):"","Â ",this.state.showActionButtons&&(d.updateContactGroupMembers||d.updatePerson&&d.updateOrganisation)&&this.props.contactGroupType&&"static"===this.props.contactGroupType.id?u.createElement("a",{role:"button",onClick:this.props.showDeleteItemModal.bind(this,n,a)},u.createElement(Z.ZP,{className:"mybtn-danger",size:14,icon:N._})):""))}}]),l}(u.Component);const R=(0,p.$j)((function(e){return{permissions:e.meDetails.permissions,contactGroupType:e.contactGroupDetails.type}}))(P);var S=n(41355);const A=(0,p.$j)(null,(function(e){return{deleteContactInGroup:function(t,n){e(function(e,t){return{type:"DELETE_CONTACT_IN_GROUP",contactGroup:e,id:t}}(t,n))}}}))((function(e){return u.createElement(S.Z,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.closeDeleteItemModal,confirmAction:function(){return e.deleteContactInGroup(e.groupId,e.id),void e.closeDeleteItemModal()},title:"Verwijderen"},"Verwijder contact uit groep: ",u.createElement("strong",null," ",e.fullName," "))}));var k=n(54138),L=n(9181);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e){(0,s.Z)(d,e);var t,n,p=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,c.Z)(t);if(n){var r=(0,c.Z)(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return(0,i.Z)(this,e)});function d(e){var t;return(0,o.Z)(this,d),t=p.call(this,e),(0,l.Z)((0,a.Z)(t),"handleChangeDate",(function(e){var n=e?w()(e).format("Y-MM-DD"):"";t.setState(j(j({},t.state),{},{memberToGroupSince:n}))})),t.state={memberToGroupSince:e.memberToGroupSince},t}return(0,r.Z)(d,[{key:"render",value:function(){var e=this;return u.createElement(S.Z,{buttonConfirmText:"Opslaan",buttonClassName:"btn-danger",closeModal:this.props.closeEditItemModal,confirmAction:function(){return e.props.updateContactInGroup(e.props.groupId,e.props.id,{memberToGroupSince:e.state.memberToGroupSince}),void e.props.closeEditItemModal()},title:"Wijzigen"},u.createElement("div",{className:"row"},u.createElement(L.Z,{label:"Contact email",divSize:"col-xs-12",name:"emailAddress",value:this.props.emailAddress,readOnly:!0})),u.createElement("div",{className:"row"},u.createElement(k.Z,{label:"Wijzig datum toegevoegd aan groep op",divSize:"col-xs-12",name:"memberToGroupSince",value:this.props.memberToGroupSince,onChangeAction:this.handleChangeDate})),u.createElement("br",null))}}]),d}(u.Component);const x=(0,p.$j)(null,(function(e){return{updateContactInGroup:function(t,n,o){e(function(e,t,n){return{type:"UPDATE_CONTACT_IN_GROUP",contactGroup:e,id:t,memberToGroupSince:n}}(t,n,o))}}}))(_);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=function(e){(0,s.Z)(d,e);var t,n,p=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,c.Z)(t);if(n){var r=(0,c.Z)(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return(0,i.Z)(this,e)});function d(e){var t;return(0,o.Z)(this,d),t=p.call(this,e),(0,l.Z)((0,a.Z)(t),"showDeleteItemModal",(function(e,n){t.setState(V(V({},t.state),{},{showDeleteItem:!0,deleteItem:V(V({},t.state.deleteItem),{},{id:e,fullName:n})}))})),(0,l.Z)((0,a.Z)(t),"closeDeleteItemModal",(function(){t.setState(V(V({},t.state),{},{showDeleteItem:!1,deleteItem:V(V({},t.state.deleteItem),{},{id:"",fullName:""})}))})),(0,l.Z)((0,a.Z)(t),"showEditItemModal",(function(e,n,o){t.setState(V(V({},t.state),{},{showEditItem:!0,editItem:V(V({},t.state.editItem),{},{id:e,emailAddress:n,memberToGroupSince:o})}))})),(0,l.Z)((0,a.Z)(t),"closeEditItemModal",(function(){t.setState(V(V({},t.state),{},{showEditItem:!1,editItem:V(V({},t.state.editItem),{},{id:"",emailAddress:"",memberToGroupSince:""})}))})),t.state={showDeleteItem:!1,showEditItem:!1,deleteItem:{id:"",fullName:""},editItem:{id:"",emailAddress:"",memberToGroupSince:""}},t}return(0,r.Z)(d,[{key:"render",value:function(){var e=this,t="",n=!0;return this.props.hasError?t="Fout bij het ophalen van contact in groep.":this.props.isLoading?t="Gegevens aan het laden.":0===this.props.contactsInGroup.length?t="Geen contact in groep gevonden!":n=!1,u.createElement("div",null,u.createElement("div",{className:"row"},u.createElement("div",{className:"col-xs-12"},u.createElement("span",null,"Totaal leden in groep: ",u.createElement("strong",null,this.props.contactsInGroup.length)))),u.createElement("form",{onKeyUp:this.handleKeyUp},u.createElement(v.Z,null,u.createElement(E.Z,null,u.createElement(b,{showCheckbox:this.props.showCheckboxList,refreshContactsInGroupData:this.props.refreshContactsInGroupData,isUsedInLaposta:this.props.contactGroupDetails.isUsedInLaposta})),u.createElement(O.Z,null,n?u.createElement("tr",null,u.createElement("td",{colSpan:10},t)):this.props.contactsInGroup.map((function(t){return u.createElement(R,(0,g.Z)({key:t.id},t,{showDeleteItemModal:e.showDeleteItemModal,showEditItemModal:e.showEditItemModal,groupId:e.props.groupId,isUsedInLaposta:e.props.contactGroupDetails.isUsedInLaposta}))}))))),this.state.showDeleteItem&&u.createElement(A,(0,g.Z)({closeDeleteItemModal:this.closeDeleteItemModal,groupId:this.props.groupId},this.state.deleteItem)),this.state.showEditItem&&u.createElement(x,(0,g.Z)({closeEditItemModal:this.closeEditItemModal,groupId:this.props.groupId},this.state.editItem,{refreshContactsInGroupData:this.props.refreshContactsInGroupData})))}}]),d}(u.Component);const B=(0,p.$j)((function(e){return{isLoading:e.loadingData.isLoading,hasError:e.loadingData.hasError,contactGroupDetails:e.contactGroupDetails}}))(z);var q=n(15861),W=n(29439),F=n(64687),H=n.n(F),Y=n(72898),$=n(71515);const X=function(e){var t=(0,u.useState)({}),n=(0,W.Z)(t,2),o=n[0],r=n[1],a=(0,u.useState)(""),s=(0,W.Z)(a,2),i=s[0],c=s[1],l=(0,u.useState)(!1),p=(0,W.Z)(l,2),d=p[0],m=p[1],f=e.inspectionPersonTypeId,h=e.groupName,g=e.addPersonToGroup,v=e.sendEmailNewContactLink,E=e.closeModalAddToGroup,O=function(){var e=(0,q.Z)(H().mark((function e(){var t;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.length<=1)){e.next=2;break}return e.abrupt("return");case 2:return m(!0),e.prev=3,e.next=6,Y.Z.fetchContactSearch(i,f);case 6:return t=e.sent,m(!1),e.abrupt("return",t.data.data);case 11:e.prev=11,e.t0=e.catch(3),m(!1);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return u.createElement(S.Z,{buttonConfirmText:"Toevoegen",closeModal:E,confirmAction:function(){return g(o.id)},title:"Contact toevoegen aan groep: ".concat(h)},v?u.createElement("div",{className:"alert alert-danger",role:"alert"},"Na toevoegen zal er automatisch een email verzonden worden naar dit contact."):null,"coach"==f?u.createElement("div",{className:"alert alert-danger",role:"alert"},'Na toevoegen wordt dit contact automatisch "Is coach".'):null,"projectmanager"==f?u.createElement("div",{className:"alert alert-danger",role:"alert"},'Na toevoegen wordt dit contact automatisch "Is projectleider".'):null,"externalparty"==f?u.createElement("div",{className:"alert alert-danger",role:"alert"},'Na toevoegen wordt dit contact automatisch "Is externe partij".'):null,u.createElement("form",{className:"form-horizontal"},u.createElement("div",{className:"row"},u.createElement($.Z,{label:"Voeg bestaand contact toe",divSize:"col-sm-12",size:"col-sm-8",name:"personId",id:"personId",loadOptions:O,optionName:"fullName",value:o,onChangeAction:function(e){e&&r(e)},required:"required",isLoading:d,handleInputChange:function(e){c(e)},multi:!1}))))};var Q=n(60813),K=n(55451),J=n(35823),ee=n.n(J),te=n(72506),ne=n(10055);var oe=function(e){(0,s.Z)(d,e);var t,n,p=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,c.Z)(t);if(n){var r=(0,c.Z)(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return(0,i.Z)(this,e)});function d(e){var t;return(0,o.Z)(this,d),t=p.call(this,e),(0,l.Z)((0,a.Z)(t),"closeModalAddToGroup",(function(){t.setState({showModalAddToGroup:!1})})),(0,l.Z)((0,a.Z)(t),"addPersonToGroup",(function(e){var n={groupId:t.props.groupId,contactId:e};Q.Z.addContactToGroup(n).then((function(e){t.setState({showModalAddToGroup:!1}),t.props.refreshContactsInGroupData()}))})),(0,l.Z)((0,a.Z)(t),"toggleModalAddToGroup",(function(){t.setState({showModalAddToGroup:!t.state.showModalAddToGroup})})),(0,l.Z)((0,a.Z)(t),"sendEmail",(function(){I.nA.push("/email/nieuw/groep/".concat(t.props.groupId,"/to"))})),(0,l.Z)((0,a.Z)(t),"newContact",(function(){I.nA.push("/contact/nieuw")})),(0,l.Z)((0,a.Z)(t),"getCSV",(function(){t.props.blockUI(),Q.Z.getCsv(t.props.groupId).then((function(e){ee()(e.data,"Groep-"+t.props.contactGroupDetails.name.substring(0,20)+"-"+w()().format("YYYY-MM-DD HH:mm:ss")+".csv"),t.props.unblockUI()})).catch((function(e){t.props.unblockUI()}))})),t.state={showModalAddToGroup:!1,showModalEmail:!1},t}return(0,r.Z)(d,[{key:"openGroupDetails",value:function(){I.nA.push("/contact-groep/".concat(this.props.groupId))}},{key:"render",value:function(){var e=this,t=this.props,n=t.permissions,o=t.contactGroupDetails;return u.createElement("div",{className:"row"},u.createElement("div",{className:"col-md-4"},u.createElement("div",{className:"btn-group",role:"group"},u.createElement(K.Z,{iconName:"refresh",onClickAction:this.props.refreshContactsInGroupData}),(n.updateContactGroupMembers||n.updatePerson&&n.updateOrganisation)&&o.type&&"static"===o.type.id&&u.createElement("div",{className:"nav navbar-nav btn-group"},u.createElement("button",{onClick:this.toggleModalAddToGroup,className:"btn btn-success btn-sm"},u.createElement(Z.ZP,{size:14,icon:ne.P}))),u.createElement(K.Z,{iconName:"download",onClickAction:this.getCSV}),u.createElement(K.Z,{iconName:"envelopeO",onClickAction:this.sendEmail}))),u.createElement("div",{className:"col-md-4"},u.createElement("h3",{className:"text-center table-title",onClick:function(){return e.openGroupDetails()},role:"button"},"Contacten in groep: ",o.name)),u.createElement("div",{className:"col-md-4"}),this.state.showModalAddToGroup&&u.createElement(X,{closeModalAddToGroup:this.closeModalAddToGroup,addPersonToGroup:this.addPersonToGroup,groupName:o.name,sendEmailNewContactLink:o.sendEmailNewContactLink,inspectionPersonTypeId:o.inspectionPersonTypeId}))}}]),d}(u.Component);const re=(0,p.$j)((function(e){return{permissions:e.meDetails.permissions,contactGroupDetails:e.contactGroupDetails}}),(function(e){return(0,d.DE)({blockUI:te.Q,unblockUI:te.e},e)}))(oe);var ae=function(e){(0,s.Z)(d,e);var t,n,p=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,c.Z)(t);if(n){var r=(0,c.Z)(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return(0,i.Z)(this,e)});function d(e){var t;return(0,o.Z)(this,d),t=p.call(this,e),(0,l.Z)((0,a.Z)(t),"refreshContactsInGroupData",(function(){t.props.clearContactsInGroup(),t.props.fetchContactsInGroup(t.props.params.contactGroup)})),t}return(0,r.Z)(d,[{key:"componentDidMount",value:function(){this.props.fetchContactsInGroup(this.props.params.contactGroup),this.props.fetchContactGroupDetails(this.props.params.contactGroup)}},{key:"componentWillUnmount",value:function(){this.props.clearContactsInGroup(),this.props.clearContactGroupDetails()}},{key:"render",value:function(){return u.createElement("div",null,u.createElement("div",{className:"panel panel-default"},u.createElement("div",{className:"panel-body"},u.createElement("div",{className:"col-md-12 margin-10-top"},u.createElement(re,{refreshContactsInGroupData:this.refreshContactsInGroupData,groupId:this.props.params.contactGroup})),u.createElement("div",{className:"col-md-12 margin-10-top"},u.createElement(B,{contactsInGroup:this.props.contactsInGroup,groupId:this.props.params.contactGroup,refreshContactsInGroupData:this.refreshContactsInGroupData})))))}}]),d}(u.Component);const se=(0,p.$j)((function(e){return{contactsInGroup:e.contactsInGroup}}),(function(e){return(0,d.DE)({fetchContactsInGroup:m,clearContactsInGroup:f,fetchContactGroupDetails:h.Ef,clearContactGroupDetails:h.oo},e)}))(ae)},320:(e,t,n)=>{n.d(t,{Z:()=>v});var o=n(67294),r=(n(88389),n(73935),n(75912)),a=(n(93998),n(35639),n(61085)),s=n(45987),i=n(87462),c=n(15671),l=n(43144),u=n(60136),p=n(82963),d=n(61120),m=n(53569);var f={cacheOptions:!1,defaultOptions:!1,filterOption:null,isLoading:!1},h=function(e){var t,n;return n=t=function(t){(0,u.Z)(f,t);var n,r,a=(n=f,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,d.Z)(n);if(r){var o=(0,d.Z)(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return(0,p.Z)(this,e)});function f(e){var t;return(0,c.Z)(this,f),(t=a.call(this)).select=void 0,t.lastRequest=void 0,t.mounted=!1,t.optionsCache={},t.handleInputChange=function(e,n){var o=t.props,r=o.cacheOptions,a=o.onInputChange,s=(0,m.G)(e,n,a);if(!s)return delete t.lastRequest,void t.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(r&&t.optionsCache[s])t.setState({inputValue:s,loadedInputValue:s,loadedOptions:t.optionsCache[s],isLoading:!1,passEmptyOptions:!1});else{var i=t.lastRequest={};t.setState({inputValue:s,isLoading:!0,passEmptyOptions:!t.state.loadedInputValue},(function(){t.loadOptions(s,(function(e){t.mounted&&(e&&(t.optionsCache[s]=e),i===t.lastRequest&&(delete t.lastRequest,t.setState({isLoading:!1,loadedInputValue:s,loadedOptions:e||[],passEmptyOptions:!1})))}))}))}return s},t.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:void 0!==e.inputValue?e.inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},t}return(0,l.Z)(f,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.props.defaultOptions,n=this.state.inputValue;!0===t&&this.loadOptions(n,(function(t){if(e.mounted){var n=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:n})}}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,t){var n=this.props.loadOptions;if(!n)return t();var o=n(e,t);o&&"function"==typeof o.then&&o.then(t,(function(){return t()}))}},{key:"render",value:function(){var t=this,n=this.props,r=(n.loadOptions,n.isLoading),a=(0,s.Z)(n,["loadOptions","isLoading"]),c=this.state,l=c.defaultOptions,u=c.inputValue,p=c.isLoading,d=c.loadedInputValue,m=c.loadedOptions,f=c.passEmptyOptions?[]:u&&d?m:l||[];return o.createElement(e,(0,i.Z)({},a,{ref:function(e){t.select=e},options:f,isLoading:p||r,onInputChange:this.handleInputChange}))}}]),f}(o.Component),t.defaultProps=f,n};h((0,a.m)(r.S));var g=(0,n(12766).Vn)(r.S);const v=h((0,a.m)(g))},12766:(e,t,n)=>{n.d(t,{Vn:()=>E,ZP:()=>y});var o=n(87462),r=n(93433),a=n(4942),s=n(15671),i=n(43144),c=n(60136),l=n(82963),u=n(61120),p=n(67294),d=(n(88389),n(73935),n(53569)),m=n(75912),f=(n(93998),n(35639),n(61085));function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}var g=function(){var e=arguments.length>1?arguments[1]:void 0,t=String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),n=String(e.value).toLowerCase(),o=String(e.label).toLowerCase();return n===t||o===t},v=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n){return!(!e||t.some((function(t){return g(e,t)}))||n.some((function(t){return g(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),E=function(e){var t,n;return n=t=function(t){(0,c.Z)(f,t);var n,a,m=(n=f,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,u.Z)(n);if(a){var o=(0,u.Z)(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return(0,l.Z)(this,e)});function f(e){var t;(0,s.Z)(this,f),(t=m.call(this,e)).select=void 0,t.onChange=function(e,n){var o=t.props,a=o.getNewOptionData,s=o.inputValue,i=o.isMulti,c=o.onChange,l=o.onCreateOption,u=o.value,p=o.name;if("select-option"!==n.action)return c(e,n);var m=t.state.newOption,f=Array.isArray(e)?e:[e];if(f[f.length-1]!==m)c(e,n);else if(l)l(s);else{var h=a(s,s),g={action:"create-option",name:p};c(i?[].concat((0,r.Z)((0,d.C)(u)),[h]):h,g)}};var n=e.options||[];return t.state={newOption:void 0,options:n},t}return(0,i.Z)(f,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.allowCreateWhileLoading,n=e.createOptionPosition,o=e.formatCreateLabel,a=e.getNewOptionData,s=e.inputValue,i=e.isLoading,c=e.isValidNewOption,l=e.value,u=e.options||[],p=this.state.newOption;p=c(s,(0,d.C)(l),u)?a(s,o(s)):void 0,this.setState({newOption:p,options:!t&&i||!p?u:"first"===n?[p].concat((0,r.Z)(u)):[].concat((0,r.Z)(u),[p])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var t=this,n=this.state.options;return p.createElement(e,(0,o.Z)({},this.props,{ref:function(e){t.select=e},options:n,onChange:this.onChange}))}}]),f}(p.Component),t.defaultProps=v,n},O=E(m.S);const y=(0,f.m)(O)}}]);