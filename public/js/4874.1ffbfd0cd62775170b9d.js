"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[4874],{8617:(e,t,a)=>{a.d(t,{A:()=>m}),a(62010),a(50778);var n=a(96540),r=a(84976),c=a(5556),l=a.n(c),o=a(41904),i=a(26819),s=function(e){var t=e.label,a=e.id,c=e.value,l=e.link,s=e.hidden,m=e.name,u=e.textToolTip;return l.length>0?n.createElement("div",{className:"form-group col-sm-12",style:s?{display:"none"}:{}},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-3"},n.createElement("label",{htmlFor:a,className:"col-sm-12"},t)),n.createElement("div",{className:"col-sm-6",id:a,onClick:null},n.createElement(r.N_,{to:l,className:"link-underline"},c)," ",u&&n.createElement("span",null,n.createElement(o.__w,{color:"blue",size:"15px","data-tip":u,"data-for":"tooltip-".concat(m)}),n.createElement(i.A,{id:"tooltip-".concat(m),effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"}))))):n.createElement("div",{className:"form-group col-sm-12",style:s?{display:"none"}:{}},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-3"},n.createElement("label",{htmlFor:a,className:"col-sm-12"},t)),n.createElement("div",{className:"col-sm-6",id:a},c," ",u&&n.createElement("span",null,n.createElement(o.__w,{color:"blue",size:"15px","data-tip":u,"data-for":"tooltip-".concat(m)}),n.createElement(i.A,{id:"tooltip-".concat(m),effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"})))))};s.defaultProps={label:"",value:"",name:"",textToolTip:"",link:"",hidden:!1},s.propTypes={label:l().oneOfType([l().string,l().object]).isRequired,id:l().string,name:l().string,textToolTip:l().string,value:l().oneOfType([l().string,l().number]),link:l().string,hidden:l().bool};const m=s},34874:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Bt});var n=a(10467),r=a(5544),c=a(54756),l=a.n(c),o=a(96540),i=(a(62010),a(69733)),s=a(47767),m=a(62493),u=a(55849),p=a(91858),d=(a(60825),a(23029)),g=a(92901),f=a(56822),E=a(53954),v=a(85501),h=a(58168),b=a(63750),A=a(60857),w=a(46749),N=a(5556);function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}var k=function(e){function t(e){return(0,d.A)(this,t),a=this,n=t,r=[e],n=(0,E.A)(n),(0,f.A)(a,y()?Reflect.construct(n,r||[],(0,E.A)(a).constructor):n.apply(a,r));var a,n,r}return(0,v.A)(t,e),(0,g.A)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.id,r=t.numberOfIntakes,c=t.closeDeleteItemModal,i=function(){var t=(0,n.A)(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.A.deleteCampaign(a);case 3:e.props.navigate("/campagnes"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),t.t0.response?e.props.setError(t.t0.response.status,t.t0.response.data.message):(console.log(t.t0),alert("Er is iets misgegaan met het verwijderen van de campagne."));case 9:c();case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return o.createElement(b.A,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:c,confirmAction:function(){return i()},title:"Verwijderen"},r>0?o.createElement(o.Fragment,null,o.createElement("p",null,"Let op, deze campagne heeft nog"," ",o.createElement("span",{className:"text-danger"},o.createElement("strong",null,r," lopende intakes"))," ","als je deze campagne verwijderd worden deze intakes verwijderd.",o.createElement("br",null),o.createElement("span",{className:"text-danger"},o.createElement("strong",null,"DEZE ACTIE KAN NIET ONGEDAAN GEMAAKT WORDEN!")),o.createElement("br",null)," Weet je zeker dat je deze campagne"," ",o.createElement("span",{className:"text-danger"},o.createElement("strong",null,"en gerelateerde intakes"))," ","wilt verwijderen?")):o.createElement("p",null,"Weet u zeker dat u deze campagne wilt verwijderen?"))}}])}(o.Component);k.propTypes={id:N.any,numberOfIntakes:N.any,closeDeleteItemModal:N.any};const C=(0,i.Ng)(null,(function(e){return{setError:function(t,a){e((0,w.N)(t,a))}}}))((function(e){var t=(0,s.Zp)();return o.createElement(k,(0,h.A)({},e,{navigate:t}))})),O=(0,i.Ng)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaign,a=e.permissions,n=(0,s.Zp)(),c=(0,o.useState)(!1),l=(0,r.A)(c,2),i=l[0],d=l[1];function g(){d((function(e){return!e}))}return o.createElement("div",{className:"row"},o.createElement("div",{className:"col-sm-12"},o.createElement(m.A,null,o.createElement(u.A,{className:"panel-small"},o.createElement("div",{className:"col-md-2"},o.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},o.createElement(p.A,{iconName:"arrowLeft",onClickAction:function(){return n(-1)}}),a.manageMarketing&&o.createElement(p.A,{iconName:"trash",onClickAction:g}))),o.createElement("div",{className:"col-md-8"},o.createElement("h4",{className:"text-center text-success margin-small"},o.createElement("strong",null,t.name?"Campagne: "+t.name:""))),o.createElement("div",{className:"col-md-2"})))),i&&o.createElement(C,{id:t.id,numberOfIntakes:t.numberOfIntakes,closeDeleteItemModal:g}))}));var D=a(2543),T=(a(2008),a(51629),a(67945),a(84185),a(83851),a(81278),a(79432),a(23500),a(64467)),j=(a(52675),a(89463),a(48598),a(62062),a(26099),a(78459),a(95093)),S=a.n(j),x=a(57761),I=a.n(x),P=a(54814),L=a(14809),M=a(73421),W=a(55956),z=a(22102),R=a(18692),B=a(77465);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(Object(a),!0).forEach((function(t){(0,T.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}S().locale("nl");const F=(0,i.Ng)((function(e){return{status:e.systemData.campaignStatuses,types:e.systemData.campaignTypes,measureCategories:e.systemData.measureCategories,opportunityActions:e.systemData.opportunityActions}}))((function(e){var t,a,c,i,s=e.campaign,m=e.fetchCampaignData,u=e.switchToView,p=e.status,d=e.types,g=e.measureCategories,f=e.opportunityActions,E=(0,o.useState)(V(V({},s),{},{description:s.description||"",statusId:(null===(t=s.status)||void 0===t?void 0:t.id)||"",typeId:(null===(a=s.type)||void 0===a?void 0:a.id)||"",measureCategoryIds:null===(c=s.measureCategories)||void 0===c?void 0:c.map((function(e){return e.id})).join(","),measureCategoryIdsSelected:s.measureCategories?s.measureCategories:[],opportunityActionIds:null===(i=s.opportunityActions)||void 0===i?void 0:i.map((function(e){return e.id})).join(","),opportunityActionIdsSelected:s.opportunityActions?s.opportunityActions:[]})),v=(0,r.A)(E,2),h=v[0],b=v[1],w=(0,o.useState)({name:!1,type:!1}),N=(0,r.A)(w,2),y=N[0],k=N[1];function C(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;b(V(V({},h),{},(0,T.A)({},n,a)))}function O(e,t){var a=e?S()(e).format("Y-MM-DD"):"";b(V(V({},h),{},(0,T.A)({},t,a)))}function D(e){return j.apply(this,arguments)}function j(){return(j=(0,n.A)(l().mark((function e(t){var a,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a={},n=!1,I().isEmpty(h.name)&&(a.name=!0,n=!0),I().isEmpty(""+h.typeId)&&(a.type=!0,n=!0),h.subsidyPossible?(!isNaN(parseFloat(h.wozLimit))&&parseFloat(h.wozLimit)<0||isNaN(parseFloat(h.wozLimit)))&&(a.wozLimit=!0,n=!0):h.wozLimit=null,k(a),n){e.next=18;break}return e.prev=8,e.next=11,A.A.updateCampaign(h.id,h);case 11:m(),u(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),alert("Er is iets misgegaan met het opslaan van de gegevens!");case 18:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}return o.createElement("form",{className:"form-horizontal col-md-12",onSubmit:D},o.createElement("div",{className:"row"},o.createElement(P.A,{label:"Naam",size:"col-sm-6",name:"name",value:h.name,onChangeAction:C,required:"required",error:y.name}),o.createElement(P.A,{label:"Campagnenummer",name:"number",value:h.number,readOnly:!0})),o.createElement("div",{className:"row"},o.createElement("div",{className:"form-group col-sm-12"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-sm-3"},o.createElement("label",{htmlFor:"description",className:"col-sm-12"},"Beschrijving")),o.createElement("div",{className:"col-sm-8"},o.createElement("textarea",{name:"description",value:h.description,onChange:C,className:"form-control input-sm"}))))),o.createElement("div",{className:"row"},o.createElement(M.A,{label:"Begindatum",size:"col-sm-6",name:"startDate",value:h.startDate||"",onChangeAction:O}),o.createElement(M.A,{label:"Einddatum",size:"col-sm-6",name:"endDate",value:h.endDate||"",onChangeAction:O})),o.createElement("div",{className:"row"},o.createElement(L.A,{label:"Status",size:"col-sm-6",name:"statusId",options:p,value:h.statusId,onChangeAction:C})),o.createElement("div",{className:"row"},o.createElement(R.A,{label:"Aangeboden maatregelen",name:"measureCategoryIds",value:h.measureCategoryIdsSelected,options:g,onChangeAction:function(e){var t=e?e.map((function(e){return e.id})).join(","):"";b(V(V({},h),{},{measureCategoryIds:t,measureCategoryIdsSelected:e}))}})),o.createElement("div",{className:"row"},o.createElement(R.A,{label:"Aangeboden kansacties",name:"opportunityActionIds",value:h.opportunityActionIdsSelected,options:f,onChangeAction:function(e){var t=e?e.map((function(e){return e.id})).join(","):"";b(V(V({},h),{},{opportunityActionIds:t,opportunityActionIdsSelected:e}))}})),o.createElement("div",{className:"row"},o.createElement(L.A,{label:"Type",size:"col-sm-6",name:"typeId",options:d,value:h.typeId,onChangeAction:C,required:"required",error:y.type})),o.createElement("div",{className:"row"},o.createElement(B.A,{label:"Subsidie mogelijk",divSize:"col-sm-6",name:"subsidyPossible",value:h.subsidyPossible,required:"required",onChangeAction:C})),h.subsidyPossible?o.createElement("div",{className:"row"},o.createElement(P.A,{label:"WOZ grens",size:"col-sm-6",name:"wozLimit",value:h.wozLimit,allowZero:!0,onChangeAction:C,required:"required",error:y.wozLimit})):null,o.createElement(z.A,null,o.createElement("div",{className:"pull-right btn-group",role:"group"},o.createElement(W.A,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:u}),o.createElement(W.A,{buttonText:"Opslaan",onClickAction:D,type:"submit",value:"Submit"}))))}));var G=a(30483),H=a(8617),Z=a(60123);S().locale("nl");const U=function(e){var t=e.campaign,a=t.name,n=t.number,r=t.description,c=t.startDate,l=t.endDate,i=t.status,s=t.measureCategories,m=t.opportunityActions,u=t.type,p=t.wozLimit,d=t.subsidyPossible,g=e.switchToEdit;return o.createElement("div",null,o.createElement("div",{className:"row",onClick:g},o.createElement(G.A,{label:"Naam",value:a}),o.createElement(G.A,{label:"Campagne nummer",value:n})),o.createElement("div",{className:"row",onClick:g},o.createElement("div",{className:"col-sm-3"},o.createElement("label",{htmlFor:"description",className:"col-sm-12"},"Beschrijving")),o.createElement("div",{className:"col-sm-9",id:"description"},r)),o.createElement("div",{className:"row",onClick:g},o.createElement(G.A,{label:"Begindatum",value:c?S()(c).format("L"):""}),o.createElement(G.A,{label:"Einddatum",value:l?S()(l).format("L"):""})),o.createElement("div",{className:"row",onClick:g},o.createElement(G.A,{label:"Status",value:(null==i?void 0:i.name)||""})),o.createElement("div",{className:"row",onClick:g},o.createElement(H.A,{label:"Aangeboden maatregelen",value:s&&s.map((function(e){return e.name})).join(", ")})),o.createElement("div",{className:"row",onClick:g},o.createElement(H.A,{label:"Aangeboden kansacties",value:m&&m.map((function(e){return e.name})).join(", ")})),o.createElement("div",{className:"row",onClick:g},o.createElement(G.A,{label:"Type",value:(null==u?void 0:u.name)||""})),o.createElement("div",{className:"row",onClick:g},o.createElement(H.A,{label:"Subsidie mogelijk",value:d?"Ja":"Nee"})),0!=d?o.createElement("div",{className:"row",onClick:g},o.createElement(H.A,{label:"Woz grens",value:(0,Z.A)(p)})):null)};function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,T.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const K=function(){var e=(0,o.useState)({showEdit:!1,activeDiv:""}),t=(0,r.A)(e,2),a=t[0],n=t[1];return{state:a,switchToEdit:function(){n(J(J({},a),{},{showEdit:!0}))},switchToView:function(){n({showEdit:!1,activeDiv:""})},onDivEnter:function(){n(J(J({},a),{},{activeDiv:"panel-grey"}))},onDivLeave:function(){a.showEdit||n(J(J({},a),{},{activeDiv:""}))}}},Q=(0,i.Ng)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaign,a=e.permissions,n=e.fetchCampaignData,r=K(),c=r.state,l=r.switchToEdit,i=r.switchToView,s=r.onDivEnter,p=r.onDivLeave;return o.createElement(m.A,{className:c.activeDiv,onMouseEnter:function(){return s()},onMouseLeave:function(){return p()}},o.createElement(u.A,null,c.showEdit&&a.manageMarketing?o.createElement(F,{campaign:t,switchToView:i,fetchCampaignData:n}):o.createElement(U,{campaign:t,switchToEdit:l})))}));S().locale("nl");const Y=function(e){var t=e.campaign,a=t.createdBy,n=t.createdAt,r=t.ownedBy,c=e.switchToEdit;return o.createElement("div",null,o.createElement("div",{className:"row",onClick:c},o.createElement(G.A,{label:"Gemaakt door",value:(null==a?void 0:a.fullName)||"Onbekend",link:a?"gebruiker/"+a.id:""}),o.createElement(G.A,{label:"Verantwoordelijke",value:(null==r?void 0:r.fullName)||"Onbekend",link:r?"/gebruiker/"+r.id:""})),o.createElement("div",{className:"row",onClick:c},o.createElement(G.A,{label:"Gemaakt op",value:n?S()(n).format("L"):"Onbekend"})))},X=(0,i.Ng)((function(e){return{users:e.systemData.users}}))((function(e){var t=e.campaign,a=t.id,c=t.createdBy,i=t.createdAt,s=t.ownedBy,m=e.switchToView,u=e.users,p=e.fetchCampaignData,d=(0,o.useState)(null==s?void 0:s.id),g=(0,r.A)(d,2),f=g[0],E=g[1],v=(0,o.useState)({ownedBy:!1}),h=(0,r.A)(v,2),b=h[0],w=h[1];function N(e){return y.apply(this,arguments)}function y(){return(y=(0,n.A)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=!1,I().isEmpty(""+f)&&(w({ownedBy:!0}),n=!0),n){e.next=14;break}return e.prev=4,e.next=7,A.A.updateCampaignOwner(a,f);case 7:p(),m(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),alert("Er is iets misgegaan met het opslaan van de gegevens!");case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}return o.createElement("form",{className:"form-horizontal col-md-12",onSubmit:N},o.createElement("div",{className:"row"},o.createElement(P.A,{label:"Gemaakt door",name:"createdBy",value:c.fullName,readOnly:!0}),o.createElement(L.A,{label:"Verantwoordelijke",size:"col-sm-6",name:"ownedById",options:u,value:f,optionName:"fullName",onChangeAction:function(e){E(e.target.value)},error:b.ownedBy})),o.createElement("div",{className:"row"},o.createElement(M.A,{label:"Gemaakt op",size:"col-sm-6",name:"createdAt",value:i||"",readOnly:!0})),o.createElement(z.A,null,o.createElement("div",{className:"pull-right btn-group",role:"group"},o.createElement(W.A,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:m}),o.createElement(W.A,{buttonText:"Opslaan",onClickAction:N,type:"submit",value:"Submit"}))))})),$=(0,i.Ng)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaign,a=e.permissions,n=e.fetchCampaignData,r=K(),c=r.state,l=r.switchToEdit,i=r.switchToView,s=r.onDivEnter,p=r.onDivLeave;return o.createElement(m.A,{className:c.activeDiv,onMouseEnter:function(){return s()},onMouseLeave:function(){return p()}},o.createElement(u.A,null,c.showEdit&&a.manageMarketing?o.createElement(X,{campaign:t,switchToView:i,fetchCampaignData:n}):o.createElement(Y,{campaign:t,switchToEdit:l})))}));var ee=a(87722),te=a(87696);const ae=(0,i.Ng)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t,a=e.organisation,n=(a.id,a.contactId),r=a.address,c=a.contact,l=a.name,i=a.amountOfQuotations,m=a.amountOfWonQuotations,u=e.highlightLine,p=e.onLineEnter,d=e.onLineLeave,g=e.permissions,f=e.showActionButtons,E=e.toggleDelete,v=(0,s.Zp)();return o.createElement("div",{className:"row border ".concat(u),onMouseEnter:p,onMouseLeave:d},o.createElement("div",{onClick:function(){return v("/contact/".concat(n))}},o.createElement("div",{className:"col-sm-1"},c.number),o.createElement("div",{className:"col-sm-2"},l),o.createElement("div",{className:"col-sm-2"},(null==r?void 0:r.city)||""),o.createElement("div",{className:"col-sm-2"},(null===(t=c.contactPerson)||void 0===t||null===(t=t.contact)||void 0===t?void 0:t.fullName)||""),o.createElement("div",{className:"col-sm-2"},i),o.createElement("div",{className:"col-sm-2"},m)),o.createElement("div",{className:"col-sm-1"},f&&g.manageMarketing?o.createElement("a",{role:"button",onClick:E},o.createElement(ee.Ay,{className:"mybtn-danger",size:14,icon:te.d})):""))})),ne=function(e){var t=e.toggleDelete,a=e.fetchCampaignData,r=e.organisationId,c=e.campaignId;function i(){return(i=(0,n.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.A.detachOrganisation(c,r);case 3:a(),t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met het verwijderen van de organisatie. Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return o.createElement(b.A,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:t,confirmAction:function(){return i.apply(this,arguments)},title:"Verwijderen"},o.createElement("p",null,"Wil je deze organisatie ontkoppelen van deze campagne?"))};function re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?re(Object(a),!0).forEach((function(t){(0,T.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const le=function(e){var t=e.organisation,a=e.campaignId,n=e.fetchCampaignData,c=(0,o.useState)({showActionButtons:!1,highlightLine:"",showDelete:!1}),l=(0,r.A)(c,2),i=l[0],s=l[1];function m(){s({showDelete:!i.showDelete})}return o.createElement("div",null,o.createElement(ae,{highlightLine:i.highlightLine,showActionButtons:i.showActionButtons,onLineEnter:function(){s(ce(ce({},i),{},{showActionButtons:!0,highlightLine:"highlight-line"}))},onLineLeave:function(){s(ce(ce({},i),{},{showActionButtons:!1,highlightLine:""}))},toggleDelete:m,organisation:t}),i.showDelete&&o.createElement(ne,{toggleDelete:m,organisationId:t.id,campaignId:a,fetchCampaignData:n}))},oe=function(e){var t=e.organisations,a=e.campaignId,n=e.fetchCampaignData;return o.createElement("div",null,o.createElement("div",{className:"row border header"},o.createElement("div",{className:"col-sm-1"},"Nummer"),o.createElement("div",{className:"col-sm-2"},"Organisatie"),o.createElement("div",{className:"col-sm-2"},"Plaats"),o.createElement("div",{className:"col-sm-2"},"Contactpersoon"),o.createElement("div",{className:"col-sm-2"},"Aangevraagde offertes"),o.createElement("div",{className:"col-sm-2"},"Gewonnen offertes"),o.createElement("div",{className:"col-sm-1"})),t.length>0?t.map((function(e){return o.createElement(le,{key:e.id,organisation:e,campaignId:a,fetchCampaignData:n})})):o.createElement("div",null,"Geen betrokken bedrijven bekend."))};var ie=a(93491);const se=function(e){var t=e.campaignId,a=e.campaignName,c=e.fetchCampaignData,i=e.toggleShowNew,s=(0,o.useState)([]),p=(0,r.A)(s,2),d=p[0],g=p[1],f=(0,o.useState)(""),E=(0,r.A)(f,2),v=E[0],h=E[1],b=(0,o.useState)({organisation:!1,hasErrors:!1}),w=(0,r.A)(b,2),N=w[0],y=w[1];function k(e){return C.apply(this,arguments)}function C(){return(C=(0,n.A)(l().mark((function e(a){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),v||y({organisation:!0,hasErrors:!0}),N.hasErrors){e.next=13;break}return e.prev=3,e.next=6,A.A.attachOrganisation(t,v);case 6:c(),i(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),alert("Er is iets misgegaan met het toevoegen van de organisatie. Herlaad de pagina en probeer het nogmaals.");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return(0,o.useEffect)((function(){var e;(e=(0,n.A)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie.A.getOrganisationPeek();case 3:t=e.sent,g(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met ophalen van de organisaties! Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return e.apply(this,arguments)})()}),[]),o.createElement("form",{className:"form-horizontal",onSubmit:k},o.createElement(m.A,{className:"panel-grey"},o.createElement(u.A,null,o.createElement("div",{className:"row"},o.createElement(P.A,{label:"Campagne",name:"campaign",value:a,readOnly:!0}),o.createElement(L.A,{label:"Organisatie",size:"col-sm-6",name:"organisationId",options:d,value:v,onChangeAction:function(e){h(e.target.value)},required:"required",error:N.organisation})),o.createElement("div",{className:"pull-right btn-group",role:"group"},o.createElement(W.A,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:i}),o.createElement(W.A,{buttonText:"Opslaan",onClickAction:k,type:"submit",value:"Submit"})))))};var me=a(9392),ue=a(23384);const pe=(0,i.Ng)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaignId,a=e.campaignName,n=e.organisations,c=e.permissions,l=e.fetchCampaignData,i=(0,o.useState)(!1),s=(0,r.A)(i,2),p=s[0],d=s[1];function g(){d((function(e){return!e}))}return o.createElement(m.A,null,o.createElement(me.A,null,o.createElement("span",{className:"h5 text-bold"},"Betrokken bedrijven"),c.manageMarketing&&o.createElement("a",{role:"button",className:"pull-right",onClick:g},o.createElement(ee.Ay,{size:14,icon:ue.t}))),o.createElement(u.A,null,o.createElement("div",{className:"col-md-12"},o.createElement(oe,{organisations:n,campaignId:t,fetchCampaignData:l})),o.createElement("div",{className:"col-md-12 margin-10-top"},p&&o.createElement(se,{campaignId:t,campaignName:a,toggleShowNew:g,fetchCampaignData:l}))))}));var de=a(74850);const ge=(0,i.Ng)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t,a=e.id,n=e.contact,r=e.address,c=e.fullAddress,l=e.createdAt,i=(0,s.Zp)();return o.createElement("div",{className:"row border",onClick:function(){return i("/intake/".concat(a))}},o.createElement("div",{className:"col-sm-1"},a),o.createElement("div",{className:"col-sm-1"},null==n||null===(t=n.type)||void 0===t?void 0:t.name),o.createElement("div",{className:"col-sm-2"},null==n?void 0:n.fullName),o.createElement("div",{className:"col-sm-3"},c),o.createElement("div",{className:"col-sm-1"},null==r?void 0:r.postalCode),o.createElement("div",{className:"col-sm-2"},null==r?void 0:r.city),o.createElement("div",{className:"col-sm-2"},l?S()(l).format("L"):""))})),fe=function(e){var t=e.data,a=e.meta,n=e.page,r=e.setPage,c=e.isLoading;return o.createElement("div",null,o.createElement("div",{className:"row border header"},o.createElement("div",{className:"col-sm-1"},"Id"),o.createElement("div",{className:"col-sm-1"},"Type"),o.createElement("div",{className:"col-sm-2"},"Naam"),o.createElement("div",{className:"col-sm-3"},"Adres"),o.createElement("div",{className:"col-sm-1"},"Postcode"),o.createElement("div",{className:"col-sm-2"},"Plaats"),o.createElement("div",{className:"col-sm-2"},"Gereageerd op")),o.createElement("div",null,c?o.createElement("div",null,"Bezig met laden."):t.length>0?t.map((function(e){return o.createElement(ge,(0,h.A)({key:e.id},e))})):o.createElement("div",null,"Geen intakes bekend.")),o.createElement("div",{className:"col-md-6 col-md-offset-3 margin-20-top"},o.createElement(de.A,{onPageChangeAction:function(e){r(e.selected)},totalRecords:a.total,initialPage:n,recordsPerPage:10})))},Ee=function(e){var t=e.campaignId,a=(0,o.useState)({data:[],meta:{}}),c=(0,r.A)(a,2),i=c[0],s=c[1],p=(0,o.useState)(!0),d=(0,r.A)(p,2),g=d[0],f=d[1],E=(0,o.useState)(0),v=(0,r.A)(E,2),b=v[0],w=v[1];function N(){return(N=(0,n.A)(l().mark((function e(){var a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.A.fetchCampaignIntakes({id:t,page:b+1});case 3:a=e.sent,s(a.data),f(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Er is iets misgegaan met het laden van de gegevens. Herlaad de pagina."),f(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return(0,o.useEffect)((function(){!function(){N.apply(this,arguments)}()}),[b]),o.createElement(m.A,null,o.createElement(me.A,null,o.createElement("span",{className:"h5 text-bold"},"Gerelateerde intakes")),o.createElement(u.A,null,o.createElement("div",{className:"col-md-12"},o.createElement(fe,(0,h.A)({},i,{isLoading:g,page:b,setPage:w})))))},ve=function(e){var t,a=e.id,n=e.number,r=e.intake,c=e.createdAt,l=e.measureCategory,i=e.status,m=e.quotationRequests,u=(0,s.Zp)();return o.createElement("div",{className:"row border",onClick:function(){return u("/kans/".concat(a))}},o.createElement("div",{className:"col-sm-2"},n),o.createElement("div",{className:"col-sm-1"},c?S()(c).format("L"):""),o.createElement("div",{className:"col-sm-3"},(null==r||null===(t=r.contact)||void 0===t?void 0:t.fullName)||""),o.createElement("div",{className:"col-sm-3"},(null==l?void 0:l.name)||""),o.createElement("div",{className:"col-sm-1"},(null==i?void 0:i.name)||""),o.createElement("div",{className:"col-sm-2"},null==m?void 0:m.length))},he=function(e){var t=e.data,a=e.meta,n=e.page,r=e.setPage,c=e.isLoading;return o.createElement("div",null,o.createElement("div",{className:"row border header"},o.createElement("div",{className:"col-sm-2"},"Nummer"),o.createElement("div",{className:"col-sm-1"},"Datum"),o.createElement("div",{className:"col-sm-3"},"Naam"),o.createElement("div",{className:"col-sm-3"},"Maatregel categorie"),o.createElement("div",{className:"col-sm-1"},"Status"),o.createElement("div",{className:"col-sm-2"},"Aantal kansacties")),o.createElement("div",null,c?o.createElement("div",null,"Bezig met laden."):t.length>0?t.map((function(e){return o.createElement(ve,(0,h.A)({key:e.id},e))})):o.createElement("div",null,"Geen kansen bekend.")),o.createElement("div",{className:"col-md-6 col-md-offset-3 margin-20-top"},o.createElement(de.A,{onPageChangeAction:function(e){r(e.selected)},totalRecords:a.total,initialPage:n,recordsPerPage:10})))},be=function(e){var t=e.campaignId,a=(0,o.useState)({data:[],meta:{}}),c=(0,r.A)(a,2),i=c[0],s=c[1],p=(0,o.useState)(!0),d=(0,r.A)(p,2),g=d[0],f=d[1],E=(0,o.useState)(0),v=(0,r.A)(E,2),b=v[0],w=v[1];function N(){return(N=(0,n.A)(l().mark((function e(){var a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.A.fetchCampaignOpportunities({id:t,page:b+1});case 3:a=e.sent,s(a.data),f(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Er is iets misgegaan met het laden van de gegevens. Herlaad de pagina."),f(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return(0,o.useEffect)((function(){!function(){N.apply(this,arguments)}()}),[b]),o.createElement(m.A,null,o.createElement(me.A,null,o.createElement("span",{className:"h5 text-bold"},"Gerelateerde kansen")),o.createElement(u.A,null,o.createElement("div",{className:"col-md-12"},o.createElement(he,(0,h.A)({},i,{isLoading:g,page:b,setPage:w})))))},Ae=(0,i.Ng)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t,a=e.response,n=(a.id,a.contact),r=a.address,c=a.dateResponded,l=e.permissions,i=e.highlightLine,m=e.onLineEnter,u=e.onLineLeave,p=e.showActionButtons,d=e.toggleDelete,g=(0,s.Zp)();return o.createElement("div",{className:"row border ".concat(i),onMouseEnter:function(){return m()},onMouseLeave:function(){return u()}},o.createElement("div",{onClick:function(){return g("/contact/".concat(n.id))}},o.createElement("div",{className:"col-sm-1"},(null==n?void 0:n.number)||""),o.createElement("div",{className:"col-sm-1"},(null==n||null===(t=n.type)||void 0===t?void 0:t.name)||""),o.createElement("div",{className:"col-sm-2"},(null==n?void 0:n.fullName)||""),o.createElement("div",{className:"col-sm-2"},r?r.street+r.number+(r.addition?"-"+r.addition:""):""),o.createElement("div",{className:"col-sm-1"},(null==r?void 0:r.postal_code)||""),o.createElement("div",{className:"col-sm-2"},(null==r?void 0:r.city)||""),o.createElement("div",{className:"col-sm-2"},c?S()(c).format("L"):"")),o.createElement("div",{className:"col-sm-1"},p&&l.manageMarketing?o.createElement("a",{role:"button",onClick:d},o.createElement(ee.Ay,{className:"mybtn-danger",size:14,icon:te.d})):""))})),we=function(e){var t=e.toggleDelete,a=e.fetchCampaignData,r=e.contactId,c=e.campaignId;function i(){return(i=(0,n.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.A.detachResponse(c,r);case 3:a(),t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met het verwijderen van de response. Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return o.createElement(b.A,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:t,confirmAction:function(){return i.apply(this,arguments)},title:"Verwijderen"},o.createElement("p",null,"Wil je deze response ontkoppelen van deze campagne?"))};function Ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(a),!0).forEach((function(t){(0,T.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ne(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const ke=function(e){var t=e.response,a=e.campaignId,n=e.fetchCampaignData,c=(0,o.useState)({showActionButtons:!1,highlightLine:"",showDelete:!1}),l=(0,r.A)(c,2),i=l[0],s=l[1];function m(){s({showDelete:!i.showDelete})}return o.createElement("div",null,o.createElement(Ae,{highlightLine:i.highlightLine,showActionButtons:i.showActionButtons,onLineEnter:function(){s(ye(ye({},i),{},{showActionButtons:!0,highlightLine:"highlight-line"}))},onLineLeave:function(){s(ye(ye({},i),{},{showActionButtons:!1,highlightLine:""}))},toggleDelete:m,response:t}),i.showDelete&&o.createElement(we,{toggleDelete:m,contactId:t.contact.id,campaignId:a,fetchCampaignData:n}))},Ce=function(e){var t=e.responses,a=e.campaignId,n=e.fetchCampaignData;return o.createElement("div",null,o.createElement("div",{className:"row border header"},o.createElement("div",{className:"col-sm-1"},"Nummer"),o.createElement("div",{className:"col-sm-1"},"Type"),o.createElement("div",{className:"col-sm-2"},"Naam"),o.createElement("div",{className:"col-sm-2"},"Adres"),o.createElement("div",{className:"col-sm-1"},"Postcode"),o.createElement("div",{className:"col-sm-2"},"Plaats"),o.createElement("div",{className:"col-sm-2"},"Gereageerd op"),o.createElement("div",{className:"col-sm-1"})),t.length>0?t.map((function(e){return o.createElement(ke,{key:e.id,response:e,campaignId:a,fetchCampaignData:n})})):o.createElement("div",null,"Geen responses bekend."))};var Oe=a(93822);const De=function(e){var t=e.campaignId,a=e.campaignName,c=e.fetchCampaignData,i=e.toggleShowNew,s=(0,o.useState)([]),p=(0,r.A)(s,2),d=p[0],g=p[1],f=(0,o.useState)(""),E=(0,r.A)(f,2),v=E[0],h=E[1],b=(0,o.useState)({contact:!1,hasErrors:!1}),w=(0,r.A)(b,2),N=w[0],y=w[1];function k(e){return C.apply(this,arguments)}function C(){return(C=(0,n.A)(l().mark((function e(a){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),v||y({contact:!0,hasErrors:!0}),N.hasErrors){e.next=13;break}return e.prev=3,e.next=6,A.A.attachResponse(t,v);case 6:c(),i(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),alert("Er is iets misgegaan met het toevoegen van de organisatie! Herlaad de pagina en probeer het nogmaals.");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return(0,o.useEffect)((function(){var e;(e=(0,n.A)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oe.A.getContactsPeek();case 3:t=e.sent,g(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met ophalen van de contacten. Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return e.apply(this,arguments)})()}),[]),o.createElement("form",{className:"form-horizontal",onSubmit:k},o.createElement(m.A,{className:"panel-grey"},o.createElement(u.A,null,o.createElement("div",{className:"row"},o.createElement(P.A,{label:"Campagne",name:"campaign",value:a,readOnly:!0}),o.createElement(L.A,{label:"Contact",size:"col-sm-6",name:"contactId",options:d,value:v,onChangeAction:function(e){h(e.target.value)},required:"required",optionName:"fullName",error:N.contact})),o.createElement("div",{className:"pull-right btn-group",role:"group"},o.createElement(W.A,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:i}),o.createElement(W.A,{buttonText:"Opslaan",onClickAction:k,type:"submit",value:"Submit"})))))},Te=(0,i.Ng)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaignId,a=e.campaignName,n=e.responses,c=e.permissions,l=e.fetchCampaignData,i=(0,o.useState)(!1),s=(0,r.A)(i,2),p=s[0],d=s[1];function g(){d((function(e){return!e}))}return o.createElement(m.A,null,o.createElement(me.A,null,o.createElement("span",{className:"h5 text-bold"},"Responses"),c.manageMarketing&&o.createElement("a",{role:"button",className:"pull-right",onClick:g},o.createElement(ee.Ay,{size:14,icon:ue.t}))),o.createElement(u.A,null,o.createElement("div",{className:"col-md-12"},o.createElement(Ce,{responses:n,campaignId:t,fetchCampaignData:l})),o.createElement("div",{className:"col-md-12 margin-10-top"},p&&o.createElement(De,{campaignId:t,campaignName:a,toggleShowNew:g,fetchCampaignData:l}))))})),je=(0,i.Ng)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.coach,a=t.id,n=t.number,r=t.name,c=t.address,l=e.highlightLine,i=e.onLineEnter,m=e.onLineLeave,u=e.permissions,p=e.showActionButtons,d=e.toggleDelete,g=(0,s.Zp)();return o.createElement("div",{className:"row border ".concat(l),onMouseEnter:i,onMouseLeave:m},o.createElement("div",{onClick:function(){return g("/contact/".concat(a))}},o.createElement("div",{className:"col-sm-2"},n),o.createElement("div",{className:"col-sm-4"},r),o.createElement("div",{className:"col-sm-4"},c?c.city:"")),o.createElement("div",{className:"col-sm-1"},p&&u.manageMarketing?o.createElement("a",{role:"button",onClick:d},o.createElement(ee.Ay,{className:"mybtn-danger",size:14,icon:te.d})):""))})),Se=function(e){var t=e.toggleDelete,a=e.fetchCampaignData,r=e.coachId,c=e.campaignId;function i(){return(i=(0,n.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.A.detachCoach(c,r);case 3:a(),t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met het verwijderen van de coach. Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return o.createElement(b.A,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:t,confirmAction:function(){return i.apply(this,arguments)},title:"Verwijderen"},o.createElement("p",null,"Wil je deze coach ontkoppelen van deze campagne?"))};function xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(a),!0).forEach((function(t){(0,T.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const Pe=function(e){var t=e.coach,a=e.campaignId,n=e.fetchCampaignData,c=(0,o.useState)({showActionButtons:!1,highlightLine:"",showDelete:!1}),l=(0,r.A)(c,2),i=l[0],s=l[1];function m(){s({showDelete:!i.showDelete})}return o.createElement("div",null,o.createElement(je,{highlightLine:i.highlightLine,showActionButtons:i.showActionButtons,onLineEnter:function(){s(Ie(Ie({},i),{},{showActionButtons:!0,highlightLine:"highlight-line"}))},onLineLeave:function(){s(Ie(Ie({},i),{},{showActionButtons:!1,highlightLine:""}))},toggleDelete:m,coach:t}),i.showDelete&&o.createElement(Se,{toggleDelete:m,coachId:t.id,campaignId:a,fetchCampaignData:n}))},Le=function(e){var t=e.coaches,a=e.campaignId,n=e.fetchCampaignData;return o.createElement("div",null,o.createElement("div",{className:"row border header"},o.createElement("div",{className:"col-sm-2"},"Nummer"),o.createElement("div",{className:"col-sm-4"},"Coach"),o.createElement("div",{className:"col-sm-4"},"Plaats"),o.createElement("div",{className:"col-sm-1"})),t.length>0?t.map((function(e){return o.createElement(Pe,{key:e.id,coach:e,campaignId:a,fetchCampaignData:n})})):o.createElement("div",null,"Geen betrokken coaches bekend."))};var Me=a(56120);const We=function(e){var t=e.campaignId,a=e.campaignName,c=e.fetchCampaignData,i=e.toggleShowNew,s=(0,o.useState)([]),p=(0,r.A)(s,2),d=p[0],g=p[1],f=(0,o.useState)(""),E=(0,r.A)(f,2),v=E[0],h=E[1],b=(0,o.useState)({coach:!1,hasErrors:!1}),w=(0,r.A)(b,2),N=w[0],y=w[1];function k(e){return C.apply(this,arguments)}function C(){return(C=(0,n.A)(l().mark((function e(a){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),v||y({coach:!0,hasErrors:!0}),N.hasErrors){e.next=13;break}return e.prev=3,e.next=6,A.A.attachCoach(t,v);case 6:c(),i(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),alert("Er is iets misgegaan met het toevoegen van de coach. Herlaad de pagina en probeer het nogmaals.");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return(0,o.useEffect)((function(){var e;(e=(0,n.A)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me.A.getCoachPeek();case 3:t=e.sent,g(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met ophalen van de coaches! Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return e.apply(this,arguments)})()}),[]),o.createElement("form",{className:"form-horizontal",onSubmit:k},o.createElement(m.A,{className:"panel-grey"},o.createElement(u.A,null,o.createElement("div",{className:"row"},o.createElement(P.A,{label:"Campagne",name:"campaign",value:a,readOnly:!0}),o.createElement(L.A,{label:"Coach",size:"col-sm-6",name:"coachId",options:d,value:v,onChangeAction:function(e){h(e.target.value)},required:"required",error:N.coach})),o.createElement("div",{className:"pull-right btn-group",role:"group"},o.createElement(W.A,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:i}),o.createElement(W.A,{buttonText:"Opslaan",onClickAction:k,type:"submit",value:"Submit"})))))},ze=(0,i.Ng)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaignId,a=e.campaignName,n=e.coaches,c=e.permissions,l=e.fetchCampaignData,i=(0,o.useState)(!1),s=(0,r.A)(i,2),p=s[0],d=s[1];function g(){d((function(e){return!e}))}return o.createElement(m.A,null,o.createElement(me.A,null,o.createElement("span",{className:"h5 text-bold"},"Betrokken coaches"),c.manageMarketing&&o.createElement("a",{role:"button",className:"pull-right",onClick:g},o.createElement(ee.Ay,{size:14,icon:ue.t}))),o.createElement(u.A,null,o.createElement("div",{className:"col-md-12"},o.createElement(Le,{coaches:n,campaignId:t,fetchCampaignData:l})),o.createElement("div",{className:"col-md-12 margin-10-top"},p&&o.createElement(We,{campaignId:t,campaignName:a,toggleShowNew:g,fetchCampaignData:l}))))})),Re=(0,i.Ng)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.projectManager,a=t.id,n=t.number,r=t.name,c=t.address,l=e.highlightLine,i=e.onLineEnter,m=e.onLineLeave,u=e.permissions,p=e.showActionButtons,d=e.toggleDelete,g=(0,s.Zp)();return o.createElement("div",{className:"row border ".concat(l),onMouseEnter:i,onMouseLeave:m},o.createElement("div",{onClick:function(){return g("/contact/".concat(a))}},o.createElement("div",{className:"col-sm-2"},n),o.createElement("div",{className:"col-sm-4"},r),o.createElement("div",{className:"col-sm-4"},c?c.city:"")),o.createElement("div",{className:"col-sm-1"},p&&u.manageMarketing?o.createElement("a",{role:"button",onClick:d},o.createElement(ee.Ay,{className:"mybtn-danger",size:14,icon:te.d})):""))})),Be=function(e){var t=e.toggleDelete,a=e.fetchCampaignData,r=e.projectManagerId,c=e.campaignId;function i(){return(i=(0,n.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.A.detachProjectManager(c,r);case 3:a(),t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met het verwijderen van de projectManager. Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return o.createElement(b.A,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:t,confirmAction:function(){return i.apply(this,arguments)},title:"Verwijderen"},o.createElement("p",null,"Wil je deze projectManager ontkoppelen van deze campagne?"))};function qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(a),!0).forEach((function(t){(0,T.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const Fe=function(e){var t=e.projectManager,a=e.campaignId,n=e.fetchCampaignData,c=(0,o.useState)({showActionButtons:!1,highlightLine:"",showDelete:!1}),l=(0,r.A)(c,2),i=l[0],s=l[1];function m(){s({showDelete:!i.showDelete})}return o.createElement("div",null,o.createElement(Re,{highlightLine:i.highlightLine,showActionButtons:i.showActionButtons,onLineEnter:function(){s(Ve(Ve({},i),{},{showActionButtons:!0,highlightLine:"highlight-line"}))},onLineLeave:function(){s(Ve(Ve({},i),{},{showActionButtons:!1,highlightLine:""}))},toggleDelete:m,projectManager:t}),i.showDelete&&o.createElement(Be,{toggleDelete:m,projectManagerId:t.id,campaignId:a,fetchCampaignData:n}))},Ge=function(e){var t=e.projectManagers,a=e.campaignId,n=e.fetchCampaignData;return o.createElement("div",null,o.createElement("div",{className:"row border header"},o.createElement("div",{className:"col-sm-2"},"Nummer"),o.createElement("div",{className:"col-sm-4"},"Projectmanager"),o.createElement("div",{className:"col-sm-4"},"Plaats"),o.createElement("div",{className:"col-sm-1"})),t.length>0?t.map((function(e){return o.createElement(Fe,{key:e.id,projectManager:e,campaignId:a,fetchCampaignData:n})})):o.createElement("div",null,"Geen betrokken projectmanagers bekend."))},He=function(e){var t=e.campaignId,a=e.campaignName,c=e.fetchCampaignData,i=e.toggleShowNew,s=(0,o.useState)([]),p=(0,r.A)(s,2),d=p[0],g=p[1],f=(0,o.useState)(""),E=(0,r.A)(f,2),v=E[0],h=E[1],b=(0,o.useState)({projectManager:!1,hasErrors:!1}),w=(0,r.A)(b,2),N=w[0],y=w[1];function k(e){return C.apply(this,arguments)}function C(){return(C=(0,n.A)(l().mark((function e(a){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),v||y({projectManager:!0,hasErrors:!0}),N.hasErrors){e.next=13;break}return e.prev=3,e.next=6,A.A.attachProjectManager(t,v);case 6:c(),i(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),alert("Er is iets misgegaan met het toevoegen van de projectmanager. Herlaad de pagina en probeer het nogmaals.");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return(0,o.useEffect)((function(){var e;(e=(0,n.A)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me.A.getProjectManagerPeek();case 3:t=e.sent,g(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met ophalen van de projectmanagers! Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return e.apply(this,arguments)})()}),[]),o.createElement("form",{className:"form-horizontal",onSubmit:k},o.createElement(m.A,{className:"panel-grey"},o.createElement(u.A,null,o.createElement("div",{className:"row"},o.createElement(P.A,{label:"Campagne",name:"campaign",value:a,readOnly:!0}),o.createElement(L.A,{label:"Projectmanager",size:"col-sm-6",name:"projectManagerId",options:d,value:v,onChangeAction:function(e){h(e.target.value)},required:"required",error:N.projectManager})),o.createElement("div",{className:"pull-right btn-group",role:"group"},o.createElement(W.A,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:i}),o.createElement(W.A,{buttonText:"Opslaan",onClickAction:k,type:"submit",value:"Submit"})))))},Ze=(0,i.Ng)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaignId,a=e.campaignName,n=e.projectManagers,c=e.permissions,l=e.fetchCampaignData,i=(0,o.useState)(!1),s=(0,r.A)(i,2),p=s[0],d=s[1];function g(){d((function(e){return!e}))}return o.createElement(m.A,null,o.createElement(me.A,null,o.createElement("span",{className:"h5 text-bold"},"Betrokken projectmanagers"),c.manageMarketing&&o.createElement("a",{role:"button",className:"pull-right",onClick:g},o.createElement(ee.Ay,{size:14,icon:ue.t}))),o.createElement(u.A,null,o.createElement("div",{className:"col-md-12"},o.createElement(Ge,{projectManagers:n,campaignId:t,fetchCampaignData:l})),o.createElement("div",{className:"col-md-12 margin-10-top"},p&&o.createElement(He,{campaignId:t,campaignName:a,toggleShowNew:g,fetchCampaignData:l}))))})),Ue=(0,i.Ng)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.externalParty,a=t.id,n=t.number,r=t.name,c=t.address,l=e.highlightLine,i=e.onLineEnter,m=e.onLineLeave,u=e.permissions,p=e.showActionButtons,d=e.toggleDelete,g=(0,s.Zp)();return o.createElement("div",{className:"row border ".concat(l),onMouseEnter:i,onMouseLeave:m},o.createElement("div",{onClick:function(){return g("/contact/".concat(a))}},o.createElement("div",{className:"col-sm-2"},n),o.createElement("div",{className:"col-sm-4"},r),o.createElement("div",{className:"col-sm-4"},c?c.city:"")),o.createElement("div",{className:"col-sm-1"},p&&u.manageMarketing?o.createElement("a",{role:"button",onClick:d},o.createElement(ee.Ay,{className:"mybtn-danger",size:14,icon:te.d})):""))})),_e=function(e){var t=e.toggleDelete,a=e.fetchCampaignData,r=e.externalPartyId,c=e.campaignId;function i(){return(i=(0,n.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.A.detachExternalParty(c,r);case 3:a(),t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met het verwijderen van de externe partij. Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return o.createElement(b.A,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:t,confirmAction:function(){return i.apply(this,arguments)},title:"Verwijderen"},o.createElement("p",null,"Wil je deze externe partij ontkoppelen van deze campagne?"))};function Je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(a),!0).forEach((function(t){(0,T.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Je(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const Qe=function(e){var t=e.externalParty,a=e.campaignId,n=e.fetchCampaignData,c=(0,o.useState)({showActionButtons:!1,highlightLine:"",showDelete:!1}),l=(0,r.A)(c,2),i=l[0],s=l[1];function m(){s({showDelete:!i.showDelete})}return o.createElement("div",null,o.createElement(Ue,{highlightLine:i.highlightLine,showActionButtons:i.showActionButtons,onLineEnter:function(){s(Ke(Ke({},i),{},{showActionButtons:!0,highlightLine:"highlight-line"}))},onLineLeave:function(){s(Ke(Ke({},i),{},{showActionButtons:!1,highlightLine:""}))},toggleDelete:m,externalParty:t}),i.showDelete&&o.createElement(_e,{toggleDelete:m,externalPartyId:t.id,campaignId:a,fetchCampaignData:n}))},Ye=function(e){var t=e.externalParties,a=e.campaignId,n=e.fetchCampaignData;return o.createElement("div",null,o.createElement("div",{className:"row border header"},o.createElement("div",{className:"col-sm-2"},"Nummer"),o.createElement("div",{className:"col-sm-4"},"Externe partij"),o.createElement("div",{className:"col-sm-4"},"Plaats"),o.createElement("div",{className:"col-sm-1"})),t.length>0?t.map((function(e){return o.createElement(Qe,{key:e.id,externalParty:e,campaignId:a,fetchCampaignData:n})})):o.createElement("div",null,"Geen betrokken externe partijen bekend."))},Xe=function(e){var t=e.campaignId,a=e.campaignName,c=e.fetchCampaignData,i=e.toggleShowNew,s=(0,o.useState)([]),p=(0,r.A)(s,2),d=p[0],g=p[1],f=(0,o.useState)(""),E=(0,r.A)(f,2),v=E[0],h=E[1],b=(0,o.useState)({externalParty:!1,hasErrors:!1}),w=(0,r.A)(b,2),N=w[0],y=w[1];function k(e){return C.apply(this,arguments)}function C(){return(C=(0,n.A)(l().mark((function e(a){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),v||y({externalParty:!0,hasErrors:!0}),N.hasErrors){e.next=13;break}return e.prev=3,e.next=6,A.A.attachExternalParty(t,v);case 6:c(),i(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),alert("Er is iets misgegaan met het toevoegen van de externe partij. Herlaad de pagina en probeer het nogmaals.");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return(0,o.useEffect)((function(){var e;(e=(0,n.A)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Me.A.getExternalPartyPeek();case 3:t=e.sent,g(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met ophalen van de externe partijen! Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return e.apply(this,arguments)})()}),[]),o.createElement("form",{className:"form-horizontal",onSubmit:k},o.createElement(m.A,{className:"panel-grey"},o.createElement(u.A,null,o.createElement("div",{className:"row"},o.createElement(P.A,{label:"Campagne",name:"campaign",value:a,readOnly:!0}),o.createElement(L.A,{label:"Externe partij",size:"col-sm-6",name:"externalPartyId",options:d,value:v,onChangeAction:function(e){h(e.target.value)},required:"required",error:N.externalParty})),o.createElement("div",{className:"pull-right btn-group",role:"group"},o.createElement(W.A,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:i}),o.createElement(W.A,{buttonText:"Opslaan",onClickAction:k,type:"submit",value:"Submit"})))))},$e=(0,i.Ng)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaignId,a=e.campaignName,n=e.externalParties,c=e.permissions,l=e.fetchCampaignData,i=(0,o.useState)(!1),s=(0,r.A)(i,2),p=s[0],d=s[1];function g(){d((function(e){return!e}))}return o.createElement(m.A,null,o.createElement(me.A,null,o.createElement("span",{className:"h5 text-bold"},"Betrokken externe partijen"),c.manageMarketing&&o.createElement("a",{role:"button",className:"pull-right",onClick:g},o.createElement(ee.Ay,{size:14,icon:ue.t}))),o.createElement(u.A,null,o.createElement("div",{className:"col-md-12"},o.createElement(Ye,{externalParties:n,campaignId:t,fetchCampaignData:l})),o.createElement("div",{className:"col-md-12 margin-10-top"},p&&o.createElement(Xe,{campaignId:t,campaignName:a,toggleShowNew:g,fetchCampaignData:l}))))}));var et=a(6438),tt=a(72505),at=a.n(tt),nt=a(83873),rt=a(31714);function ct(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function lt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(a),!0).forEach((function(t){(0,T.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ct(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}S().locale("nl");const ot=(0,i.Ng)((function(e){return{status:e.systemData.campaignStatuses,types:e.systemData.campaignTypes,measureCategories:e.systemData.measureCategories,opportunityActions:e.systemData.opportunityActions}}))((function(e){var t,a,c,i,s=e.campaign,m=e.fetchCampaignData,u=e.switchToView,p=(0,o.useState)(lt(lt({},s),{},{inspectionPlannedEmailTemplateId:(null===(t=s.inspectionPlannedEmailTemplate)||void 0===t?void 0:t.id)||"",inspectionPlannedMailboxId:(null===(a=s.inspectionPlannedMailbox)||void 0===a?void 0:a.id)||"",inspectionRecordedEmailTemplateId:(null===(c=s.inspectionRecordedEmailTemplate)||void 0===c?void 0:c.id)||"",inspectionReleasedEmailTemplateId:(null===(i=s.inspectionReleasedEmailTemplate)||void 0===i?void 0:i.id)||""})),d=(0,r.A)(p,2),g=d[0],f=d[1],E=(0,o.useState)({inspectionPlannedEmailTemplateId:!1,inspectionPlannedMailboxId:!1,inspectionRecordedEmailTemplateId:!1,inspectionReleasedEmailTemplateId:!1}),v=(0,r.A)(E,2),h=(v[0],v[1]),b=(0,o.useState)([]),w=(0,r.A)(b,2),N=w[0],y=w[1],k=(0,o.useState)([]),C=(0,r.A)(k,2),O=C[0],D=C[1];function j(e,t){f(lt(lt({},g),{},(0,T.A)({},e,t)))}function S(e){return x.apply(this,arguments)}function x(){return(x=(0,n.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),h({}),e.prev=5,e.next=8,A.A.updateCampaignInspection(g.id,g);case 8:m(),u(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),alert("Er is iets misgegaan met het opslaan van de gegevens!");case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}return(0,o.useEffect)((function(){at().all([et.A.fetchEmailTemplatesPeek(),nt.A.fetchMailboxesLoggedInUserPeek()]).then(at().spread((function(e,t){y(t.data.data),D(e)})))}),[]),o.createElement("form",{className:"form-horizontal col-md-12",onSubmit:S},o.createElement("div",null,o.createElement("div",{className:"row"},o.createElement(rt.A,{label:"Afspraak e-mail template",name:"inspectionPlannedEmailTemplateId",options:O,optionName:"name",value:g.inspectionPlannedEmailTemplateId,onChangeAction:function(e,t){return j(t,e)},clearable:!0}),o.createElement(rt.A,{label:"Mailbox e-mail bevestigingen",name:"inspectionPlannedMailboxId",options:N,optionName:"email",value:g.inspectionPlannedMailboxId,onChangeAction:function(e,t){return j(t,e)},clearable:!0})),o.createElement("div",{className:"row"},o.createElement(rt.A,{label:"Opname e-mail template",name:"inspectionRecordedEmailTemplateId",options:O,optionName:"name",value:g.inspectionRecordedEmailTemplateId,onChangeAction:function(e,t){return j(t,e)},clearable:!0})),o.createElement("div",{className:"row"},o.createElement(rt.A,{label:"Uitgebracht e-mail template",name:"inspectionReleasedEmailTemplateId",options:O,optionName:"name",value:g.inspectionReleasedEmailTemplateId,onChangeAction:function(e,t){return j(t,e)},clearable:!0})),o.createElement(z.A,null,o.createElement("div",{className:"pull-right btn-group",role:"group"},o.createElement(W.A,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:u}),o.createElement(W.A,{buttonText:"Opslaan",onClickAction:S,type:"submit",value:"Submit"})))))}));S().locale("nl");const it=function(e){var t=e.campaign,a=t.inspectionPlannedEmailTemplate,n=t.inspectionPlannedMailbox,r=t.inspectionRecordedEmailTemplate,c=t.inspectionReleasedEmailTemplate,l=e.switchToEdit;return o.createElement("div",null,o.createElement("div",{className:"row",onClick:l},o.createElement(G.A,{size:"col-sm-6",label:"Afspraak e-mail template",value:a&&a.name}),o.createElement(G.A,{size:"col-sm-6",label:"Mailbox e-mail bevestigingen",value:n&&n.name})),o.createElement("div",{className:"row",onClick:l},o.createElement(G.A,{size:"col-sm-6",label:"Opname e-mail template",value:r&&r.name})),o.createElement("div",{className:"row",onClick:l},o.createElement(G.A,{size:"col-sm-6",label:"Uitgebracht e-mail template",value:c&&c.name})))},st=(0,i.Ng)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaign,a=e.permissions,n=e.fetchCampaignData,r=K(),c=r.state,l=r.switchToEdit,i=r.switchToView,s=r.onDivEnter,p=r.onDivLeave;return o.createElement(m.A,{className:c.activeDiv,onMouseEnter:function(){return s()},onMouseLeave:function(){return p()}},o.createElement(me.A,null,o.createElement("span",{className:"h5 text-bold"},"Portaal workflow instellingen")),o.createElement(u.A,null,c.showEdit&&a.manageMarketing?o.createElement(ot,{campaign:t,switchToView:i,fetchCampaignData:n}):o.createElement(it,{campaign:t,switchToEdit:l})))}));var mt=a(88505);const ut=(0,i.Ng)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaignWorkflow,a=(t.id,t.status),n=t.emailTemplateWorkflow,r=(t.emailTemplateReminder,t.numberOfDaysToSendEmail),c=t.isActive,l=e.highlightLine,i=e.onLineEnter,s=e.onLineLeave,m=e.permissions,u=e.showActionButtons,p=e.openEdit,d=e.toggleDelete,g=a.usesWf&&c?"":"text-danger";return o.createElement("div",{className:"row border ".concat(l),onMouseEnter:i,onMouseLeave:s},o.createElement("div",{onClick:p,className:"".concat(g)},o.createElement("div",{className:"col-sm-3"},a?a.name:""),o.createElement("div",{className:"col-sm-3"},n?n.name:""),o.createElement("div",{className:"col-sm-2"},r||"Direct"),o.createElement("div",{className:"col-sm-1"},a.usesWf?"Ja":"Nee"),o.createElement("div",{className:"col-sm-1"},c?"Ja":"Nee")),o.createElement("div",{className:"col-sm-1"},u&&m.manageMarketing?o.createElement(o.Fragment,null,o.createElement("a",{role:"button",onClick:p},o.createElement(ee.Ay,{className:"mybtn-success",size:14,icon:mt.w})),o.createElement("a",{role:"button",onClick:d},o.createElement(ee.Ay,{className:"mybtn-danger",size:14,icon:te.d}))):""))})),pt=function(e){var t=e.campaignWorkflow,a=e.cancelEdit,c=e.fetchCampaignData,i=(0,o.useState)(t.isActive),s=(0,r.A)(i,2),p=s[0],d=s[1],g=(0,o.useState)(t.emailTemplateWorkflow.id),f=(0,r.A)(g,2),E=f[0],v=f[1],h=(0,o.useState)(t.numberOfDaysToSendEmail),b=(0,r.A)(h,2),w=b[0],N=b[1],y=(0,o.useState)(t.mailToContactWf),k=(0,r.A)(y,2),C=k[0],O=k[1],D=(0,o.useState)(t.mailCcToCoachWf),T=(0,r.A)(D,2),j=T[0],S=T[1],x=(0,o.useState)(t.mailReminderToCoachWf),I=(0,r.A)(x,2),M=I[0],z=I[1],R=(0,o.useState)(t.emailTemplateReminder?t.emailTemplateReminder.id:""),q=(0,r.A)(R,2),V=q[0],F=q[1],G=(0,o.useState)(t.numberOfDaysToSendEmailReminder),H=(0,r.A)(G,2),Z=H[0],U=H[1],_=(0,o.useState)({emailTemplateIdWf:!1,emailTemplateIdReminder:!1,numberOfDaysToSendEmail:!1,numberOfDaysToSendEmailReminder:!1,mailCcToCoachWfOrMailToContactWf:!1}),J=(0,r.A)(_,2),K=J[0],Q=J[1],Y=(0,o.useState)({emailTemplateIdWf:"",emailTemplateIdReminder:"",numberOfDaysToSendEmail:"",numberOfDaysToSendEmailReminder:"",mailCcToCoachWfOrMailToContactWf:""}),X=(0,r.A)(Y,2),$=X[0],ee=X[1],te=(0,o.useState)([]),ae=(0,r.A)(te,2),ne=ae[0],re=ae[1];function ce(e){return le.apply(this,arguments)}function le(){return le=(0,n.A)(l().mark((function e(n){var r,o,i,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r={emailTemplateIdWf:!1,emailTemplateIdReminder:!1,numberOfDaysToSendEmail:!1,numberOfDaysToSendEmailReminder:!1,mailCcToCoachWfOrMailToContactWf:!1},o={emailTemplateIdWf:"",emailTemplateIdReminder:"",numberOfDaysToSendEmail:"",numberOfDaysToSendEmailReminder:"",mailCcToCoachWfOrMailToContactWf:""},i=!1,E||(r.emailTemplateIdWf=!0,o.emailTemplateIdWf="E-email template is verplicht.",i=!0),null!==w&&""!==w||(r.numberOfDaysToSendEmail=!0,o.numberOfDaysToSendEmail="Aantal dagen e-mail na deze status is verplicht",i=!0),w<0&&(r.numberOfDaysToSendEmail=!0,o.numberOfDaysToSendEmail="Aantal dagen e-mail na deze status mag niet negatief zijn",i=!0),"quotationrequest"===t.workflowForType&&(!0!==Boolean(M)||V||(r.emailTemplateIdReminder=!0,o.emailTemplateIdReminder="E-email template herinnering is verplicht.",i=!0),0==j&&0==C&&(r.mailCcToCoachWfOrMailToContactWf=!0,o.mailCcToCoachWfOrMailToContactWf="Minimaal één van de volgende opties is verplicht: Email bewoner en/of Email coach",i=!0),!0!==Boolean(M)||null!==Z&&""!==Z&&0!=Z||(r.numberOfDaysToSendEmailReminder=!0,o.numberOfDaysToSendEmailReminder="Aantal dagen e-mail herinnering na deze status is verplicht en moet minimaal 1 zijn",i=!0),Z<0&&(r.numberOfDaysToSendEmailReminder=!0,o.numberOfDaysToSendEmailReminder="Aantal dagen e-mail herinnering na deze status mag niet negatief zijn",i=!0)),i){e.next=30;break}return e.prev=9,(s=new FormData).append("isActive",1==p?1:0),s.append("emailTemplateIdWf",E),s.append("numberOfDaysToSendEmail",w),s.append("mailToContactWf",1==C?1:0),s.append("mailCcToCoachWf",1==j?1:0),s.append("mailReminderToCoachWf",1==M?1:0),s.append("emailTemplateIdReminder",V),s.append("numberOfDaysToSendEmailReminder",Z),e.next=21,A.A.editCampaignWorkflow(t.id,s);case 21:c(),a(!0),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(9),alert("Er is iets misgegaan met het toevoegen van de status. Herlaad de pagina en probeer het nogmaals.");case 28:e.next=32;break;case 30:Q(r),ee(o);case 32:case"end":return e.stop()}}),e,null,[[9,25]])}))),le.apply(this,arguments)}return(0,o.useEffect)((function(){at().all([et.A.fetchEmailTemplatesPeek()]).then(at().spread((function(e,t){re(e)})))}),[]),o.createElement("form",{className:"form-horizontal",onSubmit:ce},o.createElement(m.A,{className:"panel-grey"},o.createElement(u.A,null,o.createElement("div",{className:"row"},o.createElement("div",{className:"form-group col-sm-6"}),o.createElement(B.A,{label:"Actief",name:"isActive",value:Boolean(p),onChangeAction:function(e){d(e.target.checked)}})),o.createElement("div",{className:"row"},o.createElement(L.A,{label:"E-email template",size:"col-sm-6",name:"emailTemplateIdWf",options:ne,value:E,required:"required",onChangeAction:function(e){v(e.target.value)},error:K.emailTemplateIdWf,errorMessage:$.emailTemplateIdWf}),o.createElement(P.A,{label:"Aantal dagen e-mail na deze status",divSize:"col-sm-6",type:"number",id:"numberOfDaysToSendEmail",name:"numberOfDaysToSendEmail",value:w,allowZero:!0,onChangeAction:function(e){N(e.target.value)},required:"required",min:0,error:K.numberOfDaysToSendEmail,errorMessage:$.numberOfDaysToSendEmail})),"quotationrequest"===t.workflowForType?o.createElement(o.Fragment,null,o.createElement("div",{className:"row"},o.createElement("div",{className:"form-group col-sm-6 "}),o.createElement(B.A,{label:"E-mail bewoner",name:"mailToContactWf",value:Boolean(C),onChangeAction:function(e){O(e.target.checked)}})),o.createElement("div",{className:"row"},o.createElement("div",{className:"form-group col-sm-6"}),o.createElement(B.A,{label:"E-mail coach",name:"mailCcToCoachWf",value:Boolean(j),onChangeAction:function(e){S(e.target.checked)}})),K.mailCcToCoachWfOrMailToContactWf&&o.createElement("div",{className:"row"},o.createElement("div",{className:"form-group col-sm-6"}),o.createElement("div",{className:"col-sm-6 has-error-message"},$.mailCcToCoachWfOrMailToContactWf)),o.createElement("div",{className:"row"},o.createElement("div",{className:"form-group col-sm-6"}),o.createElement(B.A,{label:"Herinnering Email coach",name:"mailReminderToCoachWf",value:Boolean(M),onChangeAction:function(e){z(e.target.checked)}})),o.createElement("div",{className:"row"},o.createElement(L.A,{label:"E-email template herinnering",size:"col-sm-6",name:"emailTemplateIdReminder",options:ne,value:V,required:M?"required":"",onChangeAction:function(e){F(e.target.value)},error:K.emailTemplateIdReminder,errorMessage:$.emailTemplateIdReminder}),o.createElement(P.A,{label:"Aantal dagen na aanmaken",divSize:"col-sm-6",type:"number",id:"numberOfDaysToSendEmailReminder",name:"numberOfDaysToSendEmailReminder",value:Z,allowZero:!0,onChangeAction:function(e){U(e.target.value)},required:M?"required":"",min:0,error:K.numberOfDaysToSendEmailReminder,errorMessage:$.numberOfDaysToSendEmailReminder}))):null,o.createElement("div",{className:"pull-right btn-group",role:"group"},o.createElement(W.A,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:a}),o.createElement(W.A,{buttonText:"Opslaan",onClickAction:ce,type:"submit",value:"Submit"})))))},dt=function(e){var t=e.toggleDelete,a=e.fetchCampaignData,r=e.campaignWorkflow;function c(){return(c=(0,n.A)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.A.deleteCampaignWorkflow(r.id);case 3:a(),t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met het verwijderen van de workflow. Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return o.createElement(b.A,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:t,confirmAction:function(){return c.apply(this,arguments)},title:"Verwijderen"},o.createElement("p",null,"Wil je deze workflow voor ",o.createElement("strong",null,r.statusName),"ontkoppelen van campagne?"))};function gt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ft(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(a),!0).forEach((function(t){(0,T.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const Et=function(e){var t=e.campaignWorkflow,a=e.campaignId,n=e.fetchCampaignData,c=e.statusesToSelect,l=(0,o.useState)({showActionButtons:!1,highlightLine:"",showDelete:!1,showEdit:!1}),i=(0,r.A)(l,2),s=i[0],m=i[1];function u(){m({showDelete:!s.showDelete})}return o.createElement("div",null,o.createElement(ut,{highlightLine:s.highlightLine,showActionButtons:s.showActionButtons,onLineEnter:function(){m(ft(ft({},s),{},{showActionButtons:!0,highlightLine:"highlight-line"}))},onLineLeave:function(){m(ft(ft({},s),{},{showActionButtons:!1,highlightLine:""}))},openEdit:function(){m({showEdit:!0})},toggleDelete:u,campaignWorkflow:t}),s.showEdit&&o.createElement(pt,{cancelEdit:function(){m({showEdit:!1})},campaignWorkflow:t,campaignId:a,statusesToSelect:c,fetchCampaignData:n}),s.showDelete&&o.createElement(dt,{toggleDelete:u,campaignWorkflow:t,fetchCampaignData:n}))},vt=function(e){var t=e.campaignWorkflows,a=e.campaignId,n=e.fetchCampaignData,r=e.statusesToSelect;return o.createElement("div",null,o.createElement("div",{className:"row border header"},o.createElement("div",{className:"col-sm-3"},"Status"),o.createElement("div",{className:"col-sm-3"},"Email template"),o.createElement("div",{className:"col-sm-2"},"Versturen na aantal dagen"),o.createElement("div",{className:"col-sm-1"},"Gebruikt workflow"),o.createElement("div",{className:"col-sm-1"},"Workflow actief"),o.createElement("div",{className:"col-sm-1"}," ")),t.length>0?t.map((function(e){return o.createElement(Et,{key:e.id,campaignWorkflow:e,campaignId:a,fetchCampaignData:n,statusesToSelect:r})})):o.createElement("div",null,"Geen workflows bekend."))},ht=function(e){var t=e.campaignId,a=e.toggleShowNew,c=e.workflowForType,i=e.fetchCampaignData,s=(0,o.useState)(""),p=(0,r.A)(s,2),d=p[0],g=p[1],f=(0,o.useState)(!0),E=(0,r.A)(f,2),v=E[0],h=E[1],b=(0,o.useState)(""),w=(0,r.A)(b,2),N=w[0],y=w[1],k=(0,o.useState)(""),C=(0,r.A)(k,2),O=C[0],D=C[1],T=(0,o.useState)("quotationrequest"===c),j=(0,r.A)(T,2),S=j[0],x=j[1],I=(0,o.useState)("quotationrequest"===c),M=(0,r.A)(I,2),z=M[0],R=M[1],q=(0,o.useState)(!1),V=(0,r.A)(q,2),F=V[0],G=V[1],H=(0,o.useState)(""),Z=(0,r.A)(H,2),U=Z[0],_=Z[1],J=(0,o.useState)(1),K=(0,r.A)(J,2),Q=K[0],Y=K[1],X=(0,o.useState)({statusId:!1,emailTemplateIdWf:!1,emailTemplateIdReminder:!1,numberOfDaysToSendEmail:!1,numberOfDaysToSendEmailReminder:!1,mailCcToCoachWfOrMailToContactWf:!1}),$=(0,r.A)(X,2),ee=$[0],te=$[1],ae=(0,o.useState)({statusId:"",emailTemplateIdWf:"",emailTemplateIdReminder:"",numberOfDaysToSendEmail:"",numberOfDaysToSendEmailReminder:"",mailCcToCoachWfOrMailToContactWf:""}),ne=(0,r.A)(ae,2),re=ne[0],ce=ne[1],le=(0,o.useState)([]),oe=(0,r.A)(le,2),ie=oe[0],se=oe[1],me=(0,o.useState)([]),ue=(0,r.A)(me,2),pe=ue[0],de=ue[1];function ge(e){return fe.apply(this,arguments)}function fe(){return fe=(0,n.A)(l().mark((function e(n){var r,o,s,m;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r={statusId:!1,emailTemplateIdWf:!1,emailTemplateIdReminder:!1,numberOfDaysToSendEmail:!1,numberOfDaysToSendEmailReminder:!1,mailCcToCoachWfOrMailToContactWf:!1},o={statusId:"",emailTemplateIdWf:"",emailTemplateIdReminder:"",numberOfDaysToSendEmail:"",numberOfDaysToSendEmailReminder:"",mailCcToCoachWfOrMailToContactWf:""},s=!1,d||(r.statusId=!0,o.statusId="Status is verplicht.",s=!0),N||(r.emailTemplateIdWf=!0,o.emailTemplateIdWf="E-email template is verplicht.",s=!0),null!==O&&""!==O||(r.numberOfDaysToSendEmail=!0,o.numberOfDaysToSendEmail="Aantal dagen e-mail na deze status is verplicht",s=!0),O<0&&(r.numberOfDaysToSendEmail=!0,o.numberOfDaysToSendEmail="Aantal dagen e-mail na deze status mag niet negatief zijn",s=!0),"quotationrequest"===c&&(!0!==Boolean(F)||U||(r.emailTemplateIdReminder=!0,o.emailTemplateIdReminder="E-email template herinnering is verplicht.",s=!0),0==z&&0==S&&(r.mailCcToCoachWfOrMailToContactWf=!0,o.mailCcToCoachWfOrMailToContactWf="Minimaal één van de volgende opties is verplicht: Email bewoner en/of Email coach",s=!0),!0!==Boolean(F)||null!==Q&&""!==Q&&0!=Q||(r.numberOfDaysToSendEmailReminder=!0,o.numberOfDaysToSendEmailReminder="Aantal dagen e-mail herinnering na deze status is verplicht en moet minimaal 1 zijn",s=!0),Q<0&&(r.numberOfDaysToSendEmailReminder=!0,o.numberOfDaysToSendEmailReminder="Aantal dagen e-mail herinnering na deze status mag niet negatief zijn",s=!0)),s){e.next=34;break}return(m=new FormData).append("workflowForType",c),m.append("campaignId",t),m.append("statusId",d),m.append("isActive",1==v?1:0),m.append("emailTemplateIdWf",N),m.append("numberOfDaysToSendEmail",O),m.append("mailToContactWf",1==S?1:0),m.append("mailCcToCoachWf",1==z?1:0),m.append("mailReminderToCoachWf",1==F?1:0),m.append("emailTemplateIdReminder",U),m.append("numberOfDaysToSendEmailReminder",Q),e.prev=22,e.next=25,A.A.addCampaignWorkflow(m);case 25:i(),a(),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(22),alert("Er is iets misgegaan met het toevoegen van de status. Herlaad de pagina en probeer het nogmaals.");case 32:e.next=36;break;case 34:te(r),ce(o);case 36:case"end":return e.stop()}}),e,null,[[22,29]])}))),fe.apply(this,arguments)}return(0,o.useEffect)((function(){at().all([et.A.fetchEmailTemplatesPeek(),A.A.fetchCampaignWorkflowStatuses({campaignId:t,workflowForType:c})]).then(at().spread((function(e,t){se(e),de(t.data.data)})))}),[t,c]),o.createElement("form",{className:"form-horizontal",onSubmit:ge},o.createElement(m.A,{className:"panel-grey"},o.createElement(u.A,null,o.createElement("div",{className:"row"},o.createElement(L.A,{label:"Status",size:"col-sm-6",name:"statusId",options:pe,value:d,onChangeAction:function(e){g(e.target.value)},required:"required",error:ee.statusId,errorMessage:re.statusId}),o.createElement(B.A,{label:"Actief",name:"isActive",value:Boolean(v),onChangeAction:function(e){h(e.target.checked)}})),o.createElement("div",{className:"row"},o.createElement(L.A,{label:"E-email template",size:"col-sm-6",name:"emailTemplateIdWf",options:ie,value:N,required:"required",onChangeAction:function(e){y(e.target.value)},error:ee.emailTemplateIdWf,errorMessage:re.emailTemplateIdWf}),o.createElement(P.A,{label:"Aantal dagen e-mail na deze status",divSize:"col-sm-6",type:"number",id:"numberOfDaysToSendEmail",name:"numberOfDaysToSendEmail",value:O,onChangeAction:function(e){D(e.target.value)},required:"required",min:0,error:ee.numberOfDaysToSendEmail,errorMessage:re.numberOfDaysToSendEmail})),"quotationrequest"===c?o.createElement(o.Fragment,null,o.createElement("div",{className:"row"},o.createElement("div",{className:"form-group col-sm-6"}),o.createElement(B.A,{label:"E-mail bewoner",name:"mailToContactWf",value:Boolean(S),onChangeAction:function(e){x(e.target.checked)}})),o.createElement("div",{className:"row"},o.createElement("div",{className:"form-group col-sm-6"}),o.createElement(B.A,{label:"E-mail coach",name:"mailCcToCoachWf",value:Boolean(z),onChangeAction:function(e){R(e.target.checked)}})),ee.mailCcToCoachWfOrMailToContactWf&&o.createElement("div",{className:"row"},o.createElement("div",{className:"form-group col-sm-6"}),o.createElement("div",{className:"col-sm-6 has-error-message"},re.mailCcToCoachWfOrMailToContactWf)),o.createElement("div",{className:"row"},o.createElement("div",{className:"form-group col-sm-6"}),o.createElement(B.A,{label:"Herinnering Email coach",name:"mailReminderToCoachWf",value:Boolean(F),onChangeAction:function(e){G(e.target.checked)}})),o.createElement("div",{className:"row"},o.createElement(L.A,{label:"E-email template herinnering",size:"col-sm-6",name:"emailTemplateIdReminder",options:ie,value:U,required:F?"required":"",onChangeAction:function(e){_(e.target.value)},error:ee.emailTemplateIdReminder,errorMessage:re.emailTemplateIdReminder}),o.createElement(P.A,{label:"Aantal dagen na aanmaken",divSize:"col-sm-6",type:"number",id:"numberOfDaysToSendEmailReminder",name:"numberOfDaysToSendEmailReminder",value:Q,allowZero:!0,onChangeAction:function(e){Y(e.target.value)},required:F?"required":"",min:0,error:ee.numberOfDaysToSendEmailReminder,errorMessage:re.numberOfDaysToSendEmailReminder}))):null,o.createElement("div",{className:"pull-right btn-group",role:"group"},o.createElement(W.A,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:a}),o.createElement(W.A,{buttonText:"Opslaan",onClickAction:ge,type:"submit",value:"Submit"})))))},bt=function(e){var t=e.workflowForType,a=e.campaignId,n=e.campaignName,c=e.campaignWorkflows,l=e.fetchCampaignData,i=(0,o.useState)(!1),s=(0,r.A)(i,2),p=s[0],d=s[1],g=c.filter((function(e){return e.workflowForType===t}));function f(){d((function(e){return!e}))}return o.createElement(m.A,null,o.createElement(me.A,null,o.createElement("span",{className:"h5 text-bold"},"Workflow op ","opportunity"===t?"kans status":"kansactie status"),o.createElement("a",{role:"button",className:"pull-right",onClick:f},o.createElement(ee.Ay,{size:14,icon:ue.t}))),o.createElement(u.A,null,o.createElement("div",{className:"col-md-12"},o.createElement(vt,{campaignWorkflows:g,campaignId:a,fetchCampaignData:l})),o.createElement("div",{className:"col-md-12 margin-10-top"},p&&o.createElement(ht,{campaignId:a,campaignName:n,toggleShowNew:f,fetchCampaignData:l,workflowForType:t}))))};S().locale("nl");const At=function(e){var t=e.campaign.defaultWorkflowMailbox,a=e.switchToEdit;return o.createElement("div",null,o.createElement("div",{className:"row",onClick:a},o.createElement(G.A,{size:"col-sm-6",label:"Standaard mailbox",value:t&&t.name})))};function wt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Nt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(a),!0).forEach((function(t){(0,T.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}S().locale("nl");const yt=function(e){var t,a=e.campaign,c=e.fetchCampaignData,i=e.switchToView,s=(0,o.useState)(Nt(Nt({},a),{},{defaultWorkflowMailboxId:(null===(t=a.defaultWorkflowMailbox)||void 0===t?void 0:t.id)||""})),m=(0,r.A)(s,2),u=m[0],p=m[1],d=(0,o.useState)({defaultWorkflowMailbox:!1}),g=(0,r.A)(d,2),f=(g[0],g[1]),E=(0,o.useState)([]),v=(0,r.A)(E,2),h=v[0],b=v[1];function w(e){return N.apply(this,arguments)}function N(){return(N=(0,n.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),f({}),e.prev=5,e.next=8,A.A.updateCampaignWorkflowSetting(u.id,u);case 8:c(),i(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),alert("Er is iets misgegaan met het opslaan van de gegevens!");case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}return(0,o.useEffect)((function(){at().all([nt.A.fetchMailboxesLoggedInUserPeek()]).then(at().spread((function(e){b(e.data.data)})))}),[]),o.createElement("form",{className:"form-horizontal col-md-12",onSubmit:w},o.createElement("div",{className:"row"},o.createElement(rt.A,{label:"Standaard mailbox",name:"defaultWorkflowMailboxId",options:h,optionName:"email",value:u.defaultWorkflowMailboxId,onChangeAction:function(e,t){return function(e,t){p(Nt(Nt({},u),{},(0,T.A)({},e,t)))}(t,e)},clearable:!0})),o.createElement(z.A,null,o.createElement("div",{className:"pull-right btn-group",role:"group"},o.createElement(W.A,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:i}),o.createElement(W.A,{buttonText:"Opslaan",onClickAction:w,type:"submit",value:"Submit"}))))},kt=(0,i.Ng)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.campaign,a=e.permissions,n=e.fetchCampaignData,r=K(),c=r.state,l=r.switchToEdit,i=r.switchToView,s=r.onDivEnter,p=r.onDivLeave;return o.createElement(m.A,{className:c.activeDiv,onMouseEnter:function(){return s()},onMouseLeave:function(){return p()}},o.createElement(me.A,null,o.createElement("span",{className:"h5 text-bold"},"Workflow instellingen")),o.createElement(u.A,null,c.showEdit&&a.manageMarketing?o.createElement(yt,{campaign:t,switchToView:i,fetchCampaignData:n}):o.createElement(At,{campaign:t,switchToEdit:l})))})),Ct=function(e){var t=e.campaign,a=e.isLoading,n=e.hasError,r=e.fetchCampaignData;return n?o.createElement("div",null,"Fout bij het ophalen van campagne."):a?o.createElement("div",null,"Gegevens aan het laden."):(0,D.isEmpty)(t)?o.createElement("div",null,"Geen campagne gevonden!"):o.createElement(o.Fragment,null,o.createElement(Q,{campaign:t,fetchCampaignData:r}),o.createElement(pe,{campaignId:t.id,campaignName:t.name,organisations:t.organisations,fetchCampaignData:r}),o.createElement(ze,{campaignId:t.id,campaignName:t.name,coaches:t.coaches,fetchCampaignData:r}),o.createElement(Ze,{campaignId:t.id,campaignName:t.name,projectManagers:t.projectManagers,fetchCampaignData:r}),o.createElement($e,{campaignId:t.id,campaignName:t.name,externalParties:t.externalParties,fetchCampaignData:r}),o.createElement(st,{campaign:t,fetchCampaignData:r}),o.createElement(kt,{campaign:t,fetchCampaignData:r}),o.createElement(bt,{workflowForType:"opportunity",campaignId:t.id,campaignName:t.name,campaignWorkflows:t.campaignWorkflows,fetchCampaignData:r}),o.createElement(bt,{workflowForType:"quotationrequest",campaignId:t.id,campaignName:t.name,campaignWorkflows:t.campaignWorkflows,fetchCampaignData:r}),o.createElement(Ee,{campaignId:t.id}),o.createElement(be,{campaignId:t.id}),o.createElement(Te,{campaignId:t.id,campaignName:t.name,responses:t.responses,fetchCampaignData:r}),o.createElement($,{campaign:t,fetchCampaignData:r}))};a(28706);const Ot=function(e){var t=e.relatedTasks,a=(0,s.Zp)();return 0===t.length?o.createElement("div",null,"Geen taken gevonden."):o.createElement("div",null,o.createElement("table",{className:"table harmonica-table"},o.createElement("tbody",null,t.map((function(e){return o.createElement("tr",{onClick:function(){return t=e.id,void a("/taak/".concat(t));var t},key:e.id},o.createElement("td",{className:"col-xs-12 clickable"},S()(e.createdAt).format("L")," - ",e.noteSummary))})))))},Dt=(0,i.Ng)((function(e){return{permissions:e.meDetails.permissions}}),null)((function(e){var t=e.toggleShowList,a=e.showTasksList,n=e.taskCount,r=e.newTask,c=e.permissions,l=e.relatedTasks;return o.createElement(m.A,{className:"harmonica-button"},o.createElement(u.A,null,o.createElement("div",{className:"col-sm-10",onClick:t,role:"button"},o.createElement("span",{className:""},"OPEN TAKEN ",o.createElement("span",{className:"badge"},n))),o.createElement("div",{className:"col-sm-2"},c.manageTask&&o.createElement("a",{role:"button",className:"pull-right",onClick:r},o.createElement(ee.Ay,{className:"harmonica-button",size:14,icon:ue.t}))),o.createElement("div",{className:"col-sm-12"},a&&o.createElement(Ot,{relatedTasks:l}))))})),Tt=function(e){var t=e.relatedNotes,a=(0,s.Zp)();return 0===t.length?o.createElement("div",null,"Geen notities gevonden."):o.createElement("div",null,o.createElement("table",{className:"table harmonica-table"},o.createElement("tbody",null,t.map((function(e){return o.createElement("tr",{onClick:function(){return t=e.id,void a("/taak/".concat(t));var t},key:e.id},o.createElement("td",{className:"col-xs-12 clickable"},S()(e.createdAt).format("L")," - ",e.noteSummary))})))))},jt=(0,i.Ng)((function(e){return{permissions:e.meDetails.permissions}}),null)((function(e){var t=e.toggleShowList,a=e.showNotesList,n=e.noteCount,r=e.newNote,c=e.permissions,l=e.relatedNotes;return o.createElement(m.A,{className:"harmonica-button"},o.createElement(u.A,null,o.createElement("div",{className:"col-sm-10",onClick:t,role:"button"},o.createElement("span",{className:""},"NOTITIES ",o.createElement("span",{className:"badge"},n))),o.createElement("div",{className:"col-sm-2"},c.manageTask&&o.createElement("a",{role:"button",className:"pull-right",onClick:r},o.createElement(ee.Ay,{className:"harmonica-button",size:14,icon:ue.t}))),o.createElement("div",{className:"col-sm-12"},a&&o.createElement(Tt,{relatedNotes:l}))))})),St=function(e){var t=e.relatedDocuments,a=(0,s.Zp)();return 0===t.length?o.createElement("div",null,"Geen documenten gevonden."):o.createElement("div",null,o.createElement("table",{className:"table harmonica-table"},o.createElement("tbody",null,t.map((function(e){return o.createElement("tr",{onClick:function(){return t=e.id,void a("/document/".concat(t));var t},key:e.id},o.createElement("td",{className:"col-xs-5 clickable"},S()(e.createdAt).format("L")),o.createElement("td",{className:"col-xs-6 clickable"},e.filename))})))))},xt=(0,i.Ng)((function(e){return{permissions:e.meDetails.permissions}}),null)((function(e){var t=e.toggleShowList,a=e.showDocumentsList,n=e.newDocument,r=e.documentCount,c=e.permissions,l=e.relatedDocuments;return o.createElement(m.A,{className:"harmonica-button"},o.createElement(u.A,null,o.createElement("div",{className:"col-sm-10",onClick:t,role:"button"},o.createElement("span",null,"DOCUMENTEN ",o.createElement("span",{className:"badge"},r))),o.createElement("div",{className:"col-sm-2"},c.createDocument&&o.createElement("div",{className:"pull-right"},o.createElement(ee.Ay,{className:"harmonica-button",size:14,icon:ue.t,"data-toggle":"dropdown",role:"button"}),o.createElement("ul",{className:"dropdown-menu"},o.createElement("li",null,o.createElement("a",{className:"btn",onClick:function(){return n("upload")}},"Upload document"))))),o.createElement("div",{className:"col-sm-12"},a&&o.createElement(St,{relatedDocuments:l}))))}));function It(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?It(Object(a),!0).forEach((function(t){(0,T.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):It(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const Lt=function(e){var t=e.campaign,a=(0,s.Zp)(),n=(0,o.useState)({tasks:!1,notes:!1,documents:!1}),c=(0,r.A)(n,2),l=c[0],i=c[1];function m(e){i((function(t){return Pt(Pt({},t),{},(0,T.A)({},e,!t[e]))}))}return o.createElement("div",{className:"margin-10-top"},o.createElement(Dt,{toggleShowList:function(){return m("tasks")},showTasksList:l.tasks,taskCount:t.taskCount,newTask:function(){a("/taak/nieuw/campagne/".concat(t.id))},relatedTasks:t.relatedTasks}),o.createElement(jt,{toggleShowList:function(){return m("notes")},showNotesList:l.notes,noteCount:t.noteCount,newNote:function(){a("/taak/nieuw/afgehandeld/campagne/".concat(t.id))},relatedNotes:t.relatedNotes}),o.createElement(xt,{toggleShowList:function(){return m("documents")},showDocumentsList:l.documents,documentCount:t.documentCount,newDocument:function(e){a("/document/nieuw/".concat(e,"/campagne/").concat(t.id))},relatedDocuments:t.relatedDocuments}))};function Mt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Wt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(a),!0).forEach((function(t){(0,T.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Mt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var zt={result:{},isLoading:!0,hasError:!1},Rt=function(e,t){switch(t.type){case"updateIsLoading":return Wt(Wt({},e),{},{isLoading:t.payload});case"updateResult":return Wt(Wt({},e),{},{result:t.payload});case"updateHasErrors":return Wt(Wt({},e),{},{hasError:t.payload});default:return zt}};const Bt=function(){var e=(0,s.g)(),t=(0,o.useReducer)(Rt,zt),a=(0,r.A)(t,2),c=a[0],i=a[1];function p(){return d.apply(this,arguments)}function d(){return(d=(0,n.A)(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A.A.fetchCampaign({id:e.id});case 3:a=t.sent.data.data,i({type:"updateResult",payload:a}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),i({type:"updateHasErrors",payload:!0}),alert("Er is iets misgegaan met het laden van de gegevens. Herlaad de pagina.");case 11:i({type:"updateIsLoading",payload:!1});case 12:case"end":return t.stop()}var a}),t,null,[[0,7]])})))).apply(this,arguments)}return(0,o.useEffect)((function(){p()}),[]),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-md-9"},o.createElement("div",{className:"col-md-12"},o.createElement(O,{campaign:c.result})),o.createElement("div",{className:"col-md-12"},o.createElement(Ct,{campaign:c.result,isLoading:c.isLoading,hasError:c.hasError,fetchCampaignData:p}))),o.createElement(m.A,{className:"col-md-3 harmonica"},o.createElement(u.A,null,o.createElement(Lt,{campaign:c.result}))))}},56120:(e,t,a)=>{a.d(t,{A:()=>c});var n=a(61941),r=a(61643);const c={getCoachPeek:function(){var e="".concat((0,r.e)(),"/api"),t="".concat(e,"/coach-peek");return(0,n.A)().get(t).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))},getProjectManagerPeek:function(){var e="".concat((0,r.e)(),"/api"),t="".concat(e,"/project-manager-peek");return(0,n.A)().get(t).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))},getExternalPartyPeek:function(){var e="".concat((0,r.e)(),"/api"),t="".concat(e,"/external-party-peek");return(0,n.A)().get(t).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))}}},60857:(e,t,a)=>{a.d(t,{A:()=>c}),a(28706);var n=a(61941),r="/campaign";const c={fetchCampaign:function(e){var t=e.id,a="".concat(r,"/").concat(t);return(0,n.A)().get(a)},fetchCampaignIntakes:function(e){var t=e.id,a=e.page,c="".concat(r,"/").concat(t,"/intakes?page=").concat(a);return(0,n.A)().get(c)},fetchCampaignOpportunities:function(e){var t=e.id,a=e.page,c="".concat(r,"/").concat(t,"/opportunities?page=").concat(a);return(0,n.A)().get(c)},fetchCampaignWorkflowStatuses:function(e){var t=e.campaignId,a=e.workflowForType,c="".concat(r,"/").concat(t,"/workflow-statuses/").concat(a);return(0,n.A)().get(c)},updateCampaign:function(e,t){var a="".concat(r,"/").concat(e);return(0,n.A)().post(a,t)},updateCampaignInspection:function(e,t){var a="".concat(r,"/inspection/").concat(e);return(0,n.A)().post(a,t)},updateCampaignWorkflowSetting:function(e,t){var a="".concat(r,"/workflow-setting/").concat(e);return(0,n.A)().post(a,t)},storeCampaign:function(e){var t="".concat(r);return(0,n.A)().post(t,e)},deleteCampaign:function(e){var t="".concat(r,"/").concat(e,"/delete");return(0,n.A)().post(t)},attachResponse:function(e,t){var a="".concat(r,"/").concat(e,"/response/").concat(t,"/attach");return(0,n.A)().post(a)},detachResponse:function(e,t){var a="".concat(r,"/").concat(e,"/response/").concat(t,"/detach");return(0,n.A)().post(a)},attachOrganisation:function(e,t){var a="".concat(r,"/").concat(e,"/organisation/").concat(t,"/attach");return(0,n.A)().post(a)},detachOrganisation:function(e,t){var a="".concat(r,"/").concat(e,"/organisation/").concat(t,"/detach");return(0,n.A)().post(a)},attachCoach:function(e,t){var a="".concat(r,"/").concat(e,"/coach/").concat(t,"/attach");return(0,n.A)().post(a)},detachCoach:function(e,t){var a="".concat(r,"/").concat(e,"/coach/").concat(t,"/detach");return(0,n.A)().post(a)},attachProjectManager:function(e,t){var a="".concat(r,"/").concat(e,"/projectManager/").concat(t,"/attach");return(0,n.A)().post(a)},detachProjectManager:function(e,t){var a="".concat(r,"/").concat(e,"/projectManager/").concat(t,"/detach");return(0,n.A)().post(a)},attachExternalParty:function(e,t){var a="".concat(r,"/").concat(e,"/externalParty/").concat(t,"/attach");return(0,n.A)().post(a)},detachExternalParty:function(e,t){var a="".concat(r,"/").concat(e,"/externalParty/").concat(t,"/detach");return(0,n.A)().post(a)},updateCampaignOwner:function(e,t){var a="".concat(r,"/").concat(e,"/owner/").concat(t,"/associate");return(0,n.A)().post(a)},deleteCampaignWorkflow:function(e){var t="".concat(r,"/campaignworkflow/").concat(e,"/delete");return(0,n.A)().post(t)},addCampaignWorkflow:function(e){var t="".concat(r,"/campaignworkflow/add");return(0,n.A)().post(t,e)},editCampaignWorkflow:function(e,t){var a="".concat(r,"/campaignworkflow/").concat(e,"/edit");return(0,n.A)().post(a,t)}}},93491:(e,t,a)=>{a.d(t,{A:()=>c}),a(28706);var n=a(61941),r=a(61643);const c={newOrganisation:function(e){var t="".concat((0,r.e)(),"/api/organisation"),a="".concat(t);return(0,n.A)().post(a,e)},updateOrganisation:function(e){var t="".concat((0,r.e)(),"/api/organisation"),a="".concat(t,"/").concat(e.id);return(0,n.A)().post(a,e)},getOrganisationPeek:function(){var e="".concat((0,r.e)(),"/api/organisation"),t="".concat(e,"/peek");return(0,n.A)().get(t).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))}}}}]);