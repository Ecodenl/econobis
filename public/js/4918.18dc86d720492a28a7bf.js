"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[4918],{59024:(e,n,t)=>{t.d(n,{K:()=>r,d:()=>a});var r="".concat(window.URL_API,"/oauth/gmail/callback"),a="".concat(window.URL_API,"/api/oauth/ms-azure/callback")},89191:(e,n,t)=>{t.d(n,{Z:()=>N});var r=t(29439),a=t(67294),i=t(86706),l=t(9181),o=t(71840),m=t(21606),c=t(49332),s=t(98688),u=t(80720),d=t(14309),g=t(62265),p=t(19501),v=p.Ry().shape({name:p.Z_().required("Verplicht"),email:p.Z_().email("Ongeldige e-mail").required("Verplicht")}),E=p.Ry().shape({imapHost:p.Z_().required("Verplicht"),imapPort:p.Z_().required("Verplicht"),username:p.Z_().required("Verplicht")}),h=p.Ry().shape({smtpHost:p.Z_().required("Verplicht"),smtpPort:p.Z_().required("Verplicht"),username:p.Z_().required("Verplicht")}),S=p.Ry().shape({password:p.Z_().required("Verplicht")}),A=p.Ry().shape({mailgunDomainId:p.Z_().required("Verplicht").typeError("Verplicht")}),b=p.Ry().shape({gmailApiSettings:p.Ry().shape({projectId:p.Z_().trim().required("Verplicht"),clientId:p.Z_().trim().required("Verplicht"),clientSecret:p.Z_().trim().required("Verplicht")})}),Z=p.Ry().shape({gmailApiSettings:p.Ry().shape({clientId:p.Z_().trim().required("Verplicht"),clientSecret:p.Z_().trim().required("Verplicht"),projectId:p.Z_().trim().required("Verplicht")})}),y=t(59024),q=t(7250);const T=function(e){var n,t,r,i,o,m,c,d,g,p,v,E,h=e.values,S=e.errors,A=e.touched,b=e.handleChange,Z=e.handleBlur;return a.createElement(a.Fragment,null,a.createElement(u.Z,null,a.createElement("span",{className:"h5"},a.createElement("strong",null,"Gmail api instellingen"))),a.createElement(s.Z,null,a.createElement("div",{className:"row"},a.createElement(l.Z,{label:"Project id",name:"gmailApiSettings.projectId",value:null===(n=h.gmailApiSettings)||void 0===n?void 0:n.projectId,onChangeAction:b,onBlurAction:Z,required:"required",error:(null===(t=S.gmailApiSettings)||void 0===t?void 0:t.projectId)&&(null===(r=A.gmailApiSettings)||void 0===r?void 0:r.projectId),errorMessage:null===(i=S.gmailApiSettings)||void 0===i?void 0:i.projectId}),a.createElement(q.Z,{className:"form-group col-sm-6",label:"Redirect url",value:y.K})),a.createElement("div",{className:"row"},a.createElement(l.Z,{label:"Client id",name:"gmailApiSettings.clientId",value:null===(o=h.gmailApiSettings)||void 0===o?void 0:o.clientId,onChangeAction:b,onBlurAction:Z,required:"required",error:(null===(m=S.gmailApiSettings)||void 0===m?void 0:m.clientId)&&(null===(c=A.gmailApiSettings)||void 0===c?void 0:c.clientId),errorMessage:null===(d=S.gmailApiSettings)||void 0===d?void 0:d.clientId}),a.createElement(l.Z,{label:"Client secret",name:"gmailApiSettings.clientSecret",value:null===(g=h.gmailApiSettings)||void 0===g?void 0:g.clientSecret,onChangeAction:b,onBlurAction:Z,required:"required",error:(null===(p=S.gmailApiSettings)||void 0===p?void 0:p.clientSecret)&&(null===(v=A.gmailApiSettings)||void 0===v?void 0:v.clientSecret),errorMessage:null===(E=S.gmailApiSettings)||void 0===E?void 0:E.clientSecret}))))};var I=t(30381),C=t.n(I);const w=function(e){var n,t,r,i,o,m,c,d,g,p,v,E,h=e.values,S=e.errors,A=e.touched,b=e.handleChange,Z=e.handleBlur;return a.createElement(a.Fragment,null,a.createElement(u.Z,null,a.createElement("span",{className:"h5"},a.createElement("strong",null,"Microsoft Azure api instellingen"))),a.createElement(s.Z,null,a.createElement("div",{className:"row"},a.createElement(l.Z,{label:"Client id",name:"gmailApiSettings.clientId",value:null===(n=h.gmailApiSettings)||void 0===n?void 0:n.clientId,onChangeAction:b,onBlurAction:Z,required:"required",error:(null===(t=S.gmailApiSettings)||void 0===t?void 0:t.clientId)&&(null===(r=A.gmailApiSettings)||void 0===r?void 0:r.clientId),errorMessage:null===(i=S.gmailApiSettings)||void 0===i?void 0:i.clientId}),a.createElement(l.Z,{label:"Object ID",name:"gmailApiSettings.projectId",value:null===(o=h.gmailApiSettings)||void 0===o?void 0:o.projectId,onChangeAction:b,onBlurAction:Z,required:"required",error:(null===(m=S.gmailApiSettings)||void 0===m?void 0:m.projectId)&&(null===(c=A.gmailApiSettings)||void 0===c?void 0:c.projectId),errorMessage:null===(d=S.gmailApiSettings)||void 0===d?void 0:d.projectId})),a.createElement("div",{className:"row"},a.createElement(q.Z,{className:"form-group col-sm-6",label:"Redirect url",value:y.d}),a.createElement(l.Z,{type:"text",label:"Client secret waarde",name:"gmailApiSettings.clientSecret",value:null===(g=h.gmailApiSettings)||void 0===g?void 0:g.clientSecret,className:"numeric-password",placeholder:"**********",onChangeAction:b,onBlurAction:Z,required:"required",error:(null===(p=S.gmailApiSettings)||void 0===p?void 0:p.clientSecret)&&(null===(v=A.gmailApiSettings)||void 0===v?void 0:v.clientSecret),errorMessage:null===(E=S.gmailApiSettings)||void 0===E?void 0:E.clientSecret}))))},N=(0,i.$j)((function(e){return{mailboxServerTypes:e.systemData.mailboxServerTypes,mailgunDomain:e.systemData.mailgunDomain}}))((function(e){var n,t=e.initialValues,i=e.processSubmit,p=e.mailgunDomain,y=e.mailboxServerTypes,I=e.switchToView,N=e.isNew,f=(0,a.useState)(t.incomingServerType),M=(0,r.Z)(f,2),B=M[0],P=M[1],V=(0,a.useState)(t.outgoingServerType),x=(0,r.Z)(V,2),k=x[0],_=x[1],j=(0,g.TA)({initialValues:t,validationSchema:(n=v,"imap"===B&&(n=n.concat(E),N&&(n=n.concat(S))),"smtp"===k&&(n=n.concat(h),N&&(n=n.concat(S))),"mailgun"===k&&(n=n.concat(A)),"gmail"!==B&&"gmail"!==k||(n=n.concat(b)),"ms-oauth"!==B&&"ms-oauth"!==k||(n=n.concat(Z)),n),onSubmit:function(e,n){var t=n.setSubmitting;i(e,t)}}),D=j.values,F=j.errors,H=j.touched,R=j.handleChange,L=j.handleSubmit,z=j.setFieldValue,O=j.handleBlur,U=j.isSubmitting;return(0,a.useEffect)((function(){D.incomingServerType&&P(D.incomingServerType),D.outgoingServerType&&_(D.outgoingServerType)}),[D.incomingServerType,D.outgoingServerType]),a.createElement("form",{className:"form-horizontal",onSubmit:L},a.createElement(d.Z,null,a.createElement(s.Z,null,a.createElement("div",{className:"row"},a.createElement(l.Z,{label:"Weergave Naam",name:"name",value:D.name,onChangeAction:R,onBlurAction:O,required:"required",error:F.name&&H.name,errorMessage:F.name}),a.createElement(l.Z,{label:"E-mail",name:"email",value:D.email,onChangeAction:R,onBlurAction:O,required:"required",error:F.email&&H.email,errorMessage:F.email})),a.createElement("div",{className:"row"},a.createElement(m.Z,{label:"Actief",name:"isActive",value:D.isActive,onChangeAction:function(e){e.persist(),z(e.target.name,e.target.checked)},disabled:D.primary}),a.createElement(m.Z,{label:"Primair (verzend wachtwoord mails)",name:"primary",value:D.primary,onChangeAction:function(e){e.persist(),z(e.target.name,e.target.checked)},disabled:!D.isActive})),a.createElement("div",{className:"row"},a.createElement(m.Z,{label:a.createElement("span",null,"Koppel contact op email ",a.createElement("u",null,"aan")," adres",a.createElement("br",null),a.createElement("small",{style:{color:"#ccc",fontWeight:"normal"}},"Koppeling contact standaard op email ",a.createElement("u",null,"afzender")," adres")),name:"linkContactFromEmailToAddress",value:D.linkContactFromEmailToAddress,onChangeAction:function(e){e.persist(),z(e.target.name,e.target.checked)}}))),a.createElement(u.Z,null,a.createElement("span",{className:"h5"},a.createElement("strong",null,"Servergegevens"))),a.createElement(s.Z,null,a.createElement("div",{className:"row"},a.createElement(o.Z,{label:"Inkomende mail type",name:"incomingServerType",value:D.incomingServerType,options:y.incomingServerTypes,onChangeAction:R,emptyOption:!1,required:"required"}),a.createElement(o.Z,{label:"Uitgaande mail type",name:"outgoingServerType",value:D.outgoingServerType,options:y.outgoingServerTypes,onChangeAction:R,emptyOption:!1,required:"required"})),a.createElement("div",{className:"row"},"imap"===D.incomingServerType?a.createElement(l.Z,{label:"Inkomende IMAP host",name:"imapHost",value:D.imapHost,onChangeAction:R,onBlurAction:O,required:"required",error:F.imapHost&&H.imapHost,errorMessage:F.imapHost}):a.createElement("div",{className:"form-group col-sm-6"}),"smtp"===D.outgoingServerType?a.createElement(l.Z,{label:"Uitgaande SMTP host",name:"smtpHost",value:D.smtpHost,onChangeAction:R,onBlurAction:O,required:"required",error:F.smtpHost&&H.smtpHost,errorMessage:F.smtpHost}):null,"mailgun"===D.outgoingServerType?a.createElement(o.Z,{label:"Uitgaand Mailgun domein",name:"mailgunDomainId",value:D.mailgunDomainId,options:p,optionName:"domain",onChangeAction:R,required:"required",error:F.mailgunDomainId&&H.mailgunDomainId,errorMessage:F.mailgunDomainId}):null)),("imap"===D.incomingServerType||"smtp"===D.outgoingServerType)&&a.createElement(a.Fragment,null,a.createElement(u.Z,null,a.createElement("span",{className:"h5"},a.createElement("strong",null,"Instellingen"))),a.createElement(s.Z,null,a.createElement("div",{className:"row"},a.createElement(l.Z,{label:"Gebruikersnaam",name:"username",value:D.username,onChangeAction:R,onBlurAction:O,required:"required",error:F.username&&H.username,errorMessage:F.username}),a.createElement(l.Z,{type:"text",label:"Wachtwoord",name:"password",value:D.password,className:"numeric-password",placeholder:"**********",onChangeAction:R,onBlurAction:O,required:"required",error:F.password&&H.password,errorMessage:F.password})),a.createElement("div",{className:"row"},"imap"===D.incomingServerType?a.createElement(l.Z,{label:"Imap poort",name:"imapPort",value:D.imapPort,onChangeAction:R,onBlurAction:O,required:"required",error:F.imapPort&&H.imapPort,errorMessage:F.imapPort}):a.createElement("div",{className:"form-group col-sm-6"}),"smtp"===D.outgoingServerType&&a.createElement(l.Z,{label:"Smtp poort",name:"smtpPort",value:D.smtpPort,onChangeAction:R,onBlurAction:O,required:"required",error:F.smtpPort&&H.smtpPort,errorMessage:F.smtpPort})),a.createElement("div",{className:"row"},"imap"===D.incomingServerType?a.createElement(o.Z,{label:"Imap versleutelde verbinding",name:"imapEncryption",value:D.imapEncryption,options:[{id:"ssl",name:"SSL"},{id:"ssl/novalidate-cert",name:"SSL - self-signed certificate"},{id:"tls",name:"TLS"}],onChangeAction:R}):a.createElement("div",{className:"form-group col-sm-6"}),"smtp"===D.outgoingServerType&&a.createElement(o.Z,{label:"Smtp versleutelde verbinding",name:"smtpEncryption",value:D.smtpEncryption,options:[{id:"ssl",name:"SSL"},{id:"tls",name:"TLS"}],onChangeAction:R})),"imap"===D.incomingServerType&&a.createElement(a.Fragment,null,a.createElement("div",{className:"row"},a.createElement(l.Z,{label:"Inbox prefix",name:"imapInboxPrefix",value:D.imapInboxPrefix,onChangeAction:R,onBlurAction:O,error:F.imapInboxPrefix&&H.imapInboxPrefix,errorMessage:F.imapInboxPrefix})),a.createElement("div",{className:"row"},a.createElement(m.Z,{label:"Zet email als gelezen op server",name:"emailMarkAsSeen",value:D.emailMarkAsSeen,onChangeAction:R,onBlurAction:O}))))),("gmail"===D.incomingServerType||"gmail"===D.outgoingServerType)&&a.createElement(T,{values:D,errors:F,touched:H,handleChange:R,handleBlur:O}),("ms-oauth"===D.incomingServerType||"ms-oauth"===D.outgoingServerType)&&a.createElement(w,{values:D,errors:F,touched:H,handleChange:R,handleBlur:O}),("ms-oauth"===D.incomingServerType||"ms-oauth"===D.outgoingServerType||"imap"===D.incomingServerType||"gmail"===D.incomingServerType)&&a.createElement(u.Z,null,a.createElement("span",{className:"h5"},a.createElement("strong",null,"Forward adres.."))),"mailgun"===D.incomingServerType&&a.createElement(s.Z,null,a.createElement("div",{className:"row"},a.createElement(m.Z,{label:"Actief",name:"inboundMailgunEnabled",value:D.inboundMailgunEnabled,onChangeAction:R,onBlurAction:O}),a.createElement("div",{className:"col-sm-6"},"Forward email naar ",D.inboundMailgunEmail," om deze in Econobis te ontvangen."))),("ms-oauth"===D.incomingServerType||"ms-oauth"===D.outgoingServerType||"imap"===D.incomingServerType||"gmail"===D.incomingServerType)&&a.createElement(s.Z,null,a.createElement("div",{className:"row"},a.createElement(m.Z,{label:"Actief",name:"inboundMailgunEnabled",value:D.inboundMailgunEnabled,onChangeAction:R,onBlurAction:O}))),D.id&&a.createElement(a.Fragment,null,a.createElement(u.Z,null,a.createElement("span",{className:"h5"},a.createElement("strong",null,"Log"))),a.createElement(s.Z,null,a.createElement("div",{className:"row"},a.createElement(q.Z,{label:"Datum email laatst opgehaald",value:D.dateLastFetched?C()(D.dateLastFetched).format("L HH:mm:ss"):"Nog niet bepaald",className:"form-group col-sm-6"}),a.createElement(q.Z,{label:"UID email laatst opgehaald",value:D.imapIdLastFetched,className:"form-group col-sm-6"})))),a.createElement(s.Z,null,a.createElement("div",{className:"pull-right btn-group",role:"group"},D.id?a.createElement(a.Fragment,null,a.createElement(c.Z,{buttonClassName:"btn-default",buttonText:"Sluiten",onClickAction:I}),a.createElement(c.Z,{buttonText:"Opslaan",onClickAction:L,type:"submit",value:"Submit",loading:U})):a.createElement(c.Z,{buttonText:"Opslaan",onClickAction:L,type:"submit",value:"Submit",loading:U})))))}))}}]);