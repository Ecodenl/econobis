"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[4918],{59024:(e,t,n)=>{n.d(t,{K:()=>a,d:()=>r});var a="".concat(window.URL_API,"/oauth/gmail/callback"),r="".concat(window.URL_API,"/api/oauth/ms-azure/callback")},89191:(e,t,n)=>{n.d(t,{Z:()=>w});var a=n(29439),r=n(67294),l=n(86706),i=n(9181),o=n(71840),m=n(21606),c=n(49332),s=n(98688),u=n(80720),d=n(14309),g=n(62265),p=n(19501),v=p.Ry().shape({name:p.Z_().required("Verplicht"),email:p.Z_().email("Ongeldige e-mail").required("Verplicht")}),E=p.Ry().shape({imapHost:p.Z_().required("Verplicht"),imapPort:p.Z_().required("Verplicht"),username:p.Z_().required("Verplicht")}),S=p.Ry().shape({smtpHost:p.Z_().required("Verplicht"),smtpPort:p.Z_().required("Verplicht"),username:p.Z_().required("Verplicht")}),h=p.Ry().shape({password:p.Z_().required("Verplicht")}),A=(p.Ry().shape({clientSecret:p.Z_().trim().required("Verplicht")}),p.Ry().shape({mailgunDomainId:p.Z_().required("Verplicht").typeError("Verplicht")})),b=p.Ry().shape({gmailApiSettings:p.Ry().shape({projectId:p.Z_().trim().required("Verplicht"),clientId:p.Z_().trim().required("Verplicht")})}),Z=p.Ry().shape({gmailApiSettings:p.Ry().shape({clientId:p.Z_().trim().required("Verplicht"),projectId:p.Z_().trim().required("Verplicht"),tenantId:p.Z_().trim().required("Verplicht")})}),y=n(59024),I=n(7250);const q=function(e){var t,n,a,l,o,m,c,d,g,p,v,E,S=e.values,h=e.errors,A=e.touched,b=e.handleChange,Z=e.handleBlur;return r.createElement(r.Fragment,null,r.createElement(u.Z,null,r.createElement("span",{className:"h5"},r.createElement("strong",null,"Gmail api instellingen"))),r.createElement(s.Z,null,r.createElement("div",{className:"row"},r.createElement(i.Z,{label:"Project id",name:"gmailApiSettings.projectId",value:null===(t=S.gmailApiSettings)||void 0===t?void 0:t.projectId,onChangeAction:b,onBlurAction:Z,required:"required",error:(null===(n=h.gmailApiSettings)||void 0===n?void 0:n.projectId)&&(null===(a=A.gmailApiSettings)||void 0===a?void 0:a.projectId),errorMessage:null===(l=h.gmailApiSettings)||void 0===l?void 0:l.projectId}),r.createElement(I.Z,{className:"form-group col-sm-6",label:"Redirect url",value:y.K})),r.createElement("div",{className:"row"},r.createElement(i.Z,{label:"Client id",name:"gmailApiSettings.clientId",value:null===(o=S.gmailApiSettings)||void 0===o?void 0:o.clientId,onChangeAction:b,onBlurAction:Z,required:"required",error:(null===(m=h.gmailApiSettings)||void 0===m?void 0:m.clientId)&&(null===(c=A.gmailApiSettings)||void 0===c?void 0:c.clientId),errorMessage:null===(d=h.gmailApiSettings)||void 0===d?void 0:d.clientId}),r.createElement(i.Z,{label:"Client secret",name:"gmailApiSettings.clientSecret",value:null===(g=S.gmailApiSettings)||void 0===g?void 0:g.clientSecret,onChangeAction:b,onBlurAction:Z,required:"required",error:(null===(p=h.gmailApiSettings)||void 0===p?void 0:p.clientSecret)&&(null===(v=A.gmailApiSettings)||void 0===v?void 0:v.clientSecret),errorMessage:null===(E=h.gmailApiSettings)||void 0===E?void 0:E.clientSecret}))))};var T=n(30381),C=n.n(T);const N=function(e){var t,n,a,l,o,m,c,d,g,p,v,E,S,h,A,b,Z=e.values,q=e.errors,T=e.touched,C=e.handleChange,N=e.handleBlur;return r.createElement(r.Fragment,null,r.createElement(u.Z,null,r.createElement("span",{className:"h5"},r.createElement("strong",null,"Microsoft Azure api instellingen"))),r.createElement(s.Z,null,r.createElement("div",{className:"row"},r.createElement(i.Z,{label:"Client id",name:"gmailApiSettings.clientId",value:null===(t=Z.gmailApiSettings)||void 0===t?void 0:t.clientId,onChangeAction:C,onBlurAction:N,required:"required",error:(null===(n=q.gmailApiSettings)||void 0===n?void 0:n.clientId)&&(null===(a=T.gmailApiSettings)||void 0===a?void 0:a.clientId),errorMessage:null===(l=q.gmailApiSettings)||void 0===l?void 0:l.clientId}),r.createElement(i.Z,{label:"Object ID",name:"gmailApiSettings.projectId",value:null===(o=Z.gmailApiSettings)||void 0===o?void 0:o.projectId,onChangeAction:C,onBlurAction:N,required:"required",error:(null===(m=q.gmailApiSettings)||void 0===m?void 0:m.projectId)&&(null===(c=T.gmailApiSettings)||void 0===c?void 0:c.projectId),errorMessage:null===(d=q.gmailApiSettings)||void 0===d?void 0:d.projectId})),r.createElement("div",{className:"row"},r.createElement(I.Z,{className:"form-group col-sm-6",label:"Redirect url",value:y.d}),r.createElement(i.Z,{type:"text",label:"Client secret waarde",name:"gmailApiSettings.clientSecret",value:null===(g=Z.gmailApiSettings)||void 0===g?void 0:g.clientSecret,className:"numeric-password",placeholder:"**********",onChangeAction:C,onBlurAction:N,required:"required",error:(null===(p=q.gmailApiSettings)||void 0===p?void 0:p.clientSecret)&&(null===(v=T.gmailApiSettings)||void 0===v?void 0:v.clientSecret),errorMessage:null===(E=q.gmailApiSettings)||void 0===E?void 0:E.clientSecret})),r.createElement("div",{className:"row"},r.createElement(i.Z,{label:"Tenant ID",name:"gmailApiSettings.tenantId",value:null===(S=Z.gmailApiSettings)||void 0===S?void 0:S.tenantId,onChangeAction:C,onBlurAction:N,required:"required",error:(null===(h=q.gmailApiSettings)||void 0===h?void 0:h.tenantId)&&(null===(A=T.gmailApiSettings)||void 0===A?void 0:A.tenantId),errorMessage:null===(b=q.gmailApiSettings)||void 0===b?void 0:b.tenantId}))))},w=(0,l.$j)((function(e){return{mailboxServerTypes:e.systemData.mailboxServerTypes,mailgunDomain:e.systemData.mailgunDomain}}))((function(e){var t,n=e.initialValues,l=e.processSubmit,p=e.mailgunDomain,y=e.mailboxServerTypes,T=e.switchToView,w=e.isNew,f=(0,r.useState)(n.incomingServerType),M=(0,a.Z)(f,2),x=M[0],P=M[1],V=(0,r.useState)(n.outgoingServerType),B=(0,a.Z)(V,2),k=B[0],_=B[1],j=(0,g.TA)({initialValues:n,validationSchema:(t=v,"imap"===x&&(t=t.concat(E),w&&(t=t.concat(h))),"smtp"===k&&(t=t.concat(S),w&&(t=t.concat(h))),"mailgun"===k&&(t=t.concat(A)),"gmail"!==x&&"gmail"!==k||(t=t.concat(b),w&&(t=t.concat(MailboxValidationClientSecret))),"ms-oauth"!==x&&"ms-oauth"!==k||(t=t.concat(Z),w&&(t=t.concat(MailboxValidationClientSecret))),t),onSubmit:function(e,t){var n=t.setSubmitting;l(e,n)}}),D=j.values,F=j.errors,H=j.touched,R=j.handleChange,L=j.handleSubmit,z=j.setFieldValue,O=j.handleBlur,U=j.isSubmitting;return(0,r.useEffect)((function(){D.incomingServerType&&P(D.incomingServerType),D.outgoingServerType&&_(D.outgoingServerType)}),[D.incomingServerType,D.outgoingServerType]),r.createElement("form",{className:"form-horizontal",onSubmit:L},r.createElement(d.Z,null,r.createElement(s.Z,null,r.createElement("div",{className:"row"},r.createElement(i.Z,{label:"Weergave Naam",name:"name",value:D.name,onChangeAction:R,onBlurAction:O,required:"required",error:F.name&&H.name,errorMessage:F.name}),r.createElement(i.Z,{label:"E-mail",name:"email",value:D.email,onChangeAction:R,onBlurAction:O,required:"required",error:F.email&&H.email,errorMessage:F.email})),r.createElement("div",{className:"row"},r.createElement(m.Z,{label:"Actief",name:"isActive",value:D.isActive,onChangeAction:function(e){e.persist(),z(e.target.name,e.target.checked)},disabled:D.primary}),r.createElement(m.Z,{label:"Primair (verzend wachtwoord mails)",name:"primary",value:D.primary,onChangeAction:function(e){e.persist(),z(e.target.name,e.target.checked)},disabled:!D.isActive})),r.createElement("div",{className:"row"},r.createElement(m.Z,{label:r.createElement("span",null,"Koppel contact op email ",r.createElement("u",null,"aan")," adres",r.createElement("br",null),r.createElement("small",{style:{color:"#ccc",fontWeight:"normal"}},"Koppeling contact standaard op email ",r.createElement("u",null,"afzender")," adres")),name:"linkContactFromEmailToAddress",value:D.linkContactFromEmailToAddress,onChangeAction:function(e){e.persist(),z(e.target.name,e.target.checked)}}))),r.createElement(u.Z,null,r.createElement("span",{className:"h5"},r.createElement("strong",null,"Servergegevens"))),r.createElement(s.Z,null,r.createElement("div",{className:"row"},r.createElement(o.Z,{label:"Inkomende mail type",name:"incomingServerType",value:D.incomingServerType,options:y.incomingServerTypes,onChangeAction:R,emptyOption:!1,required:"required"}),r.createElement(o.Z,{label:"Uitgaande mail type",name:"outgoingServerType",value:D.outgoingServerType,options:y.outgoingServerTypes,onChangeAction:R,emptyOption:!1,required:"required"})),r.createElement("div",{className:"row"},"imap"===D.incomingServerType?r.createElement(i.Z,{label:"Inkomende IMAP host",name:"imapHost",value:D.imapHost,onChangeAction:R,onBlurAction:O,required:"required",error:F.imapHost&&H.imapHost,errorMessage:F.imapHost}):r.createElement("div",{className:"form-group col-sm-6"}),"smtp"===D.outgoingServerType?r.createElement(i.Z,{label:"Uitgaande SMTP host",name:"smtpHost",value:D.smtpHost,onChangeAction:R,onBlurAction:O,required:"required",error:F.smtpHost&&H.smtpHost,errorMessage:F.smtpHost}):null,"mailgun"===D.outgoingServerType?r.createElement(o.Z,{label:"Uitgaand Mailgun domein",name:"mailgunDomainId",value:D.mailgunDomainId,options:p,optionName:"domain",onChangeAction:R,required:"required",error:F.mailgunDomainId&&H.mailgunDomainId,errorMessage:F.mailgunDomainId}):null)),("imap"===D.incomingServerType||"smtp"===D.outgoingServerType)&&r.createElement(r.Fragment,null,r.createElement(u.Z,null,r.createElement("span",{className:"h5"},r.createElement("strong",null,"Instellingen"))),r.createElement(s.Z,null,r.createElement("div",{className:"row"},r.createElement(i.Z,{label:"Gebruikersnaam",name:"username",value:D.username,onChangeAction:R,onBlurAction:O,required:"required",error:F.username&&H.username,errorMessage:F.username}),r.createElement(i.Z,{type:"text",label:"Wachtwoord",name:"password",value:D.password,className:"numeric-password",placeholder:"**********",onChangeAction:R,onBlurAction:O,required:"required",error:F.password&&H.password,errorMessage:F.password})),r.createElement("div",{className:"row"},"imap"===D.incomingServerType?r.createElement(i.Z,{label:"Imap poort",name:"imapPort",value:D.imapPort,onChangeAction:R,onBlurAction:O,required:"required",error:F.imapPort&&H.imapPort,errorMessage:F.imapPort}):r.createElement("div",{className:"form-group col-sm-6"}),"smtp"===D.outgoingServerType&&r.createElement(i.Z,{label:"Smtp poort",name:"smtpPort",value:D.smtpPort,onChangeAction:R,onBlurAction:O,required:"required",error:F.smtpPort&&H.smtpPort,errorMessage:F.smtpPort})),r.createElement("div",{className:"row"},"imap"===D.incomingServerType?r.createElement(o.Z,{label:"Imap versleutelde verbinding",name:"imapEncryption",value:D.imapEncryption,options:[{id:"ssl",name:"SSL"},{id:"ssl/novalidate-cert",name:"SSL - self-signed certificate"},{id:"tls",name:"TLS"}],onChangeAction:R}):r.createElement("div",{className:"form-group col-sm-6"}),"smtp"===D.outgoingServerType&&r.createElement(o.Z,{label:"Smtp versleutelde verbinding",name:"smtpEncryption",value:D.smtpEncryption,options:[{id:"ssl",name:"SSL"},{id:"tls",name:"TLS"}],onChangeAction:R})),"imap"===D.incomingServerType&&r.createElement(r.Fragment,null,r.createElement("div",{className:"row"},r.createElement(i.Z,{label:"Inbox prefix",name:"imapInboxPrefix",value:D.imapInboxPrefix,onChangeAction:R,onBlurAction:O,error:F.imapInboxPrefix&&H.imapInboxPrefix,errorMessage:F.imapInboxPrefix})),r.createElement("div",{className:"row"},r.createElement(m.Z,{label:"Zet email als gelezen op server",name:"emailMarkAsSeen",value:D.emailMarkAsSeen,onChangeAction:R,onBlurAction:O}))))),("gmail"===D.incomingServerType||"gmail"===D.outgoingServerType)&&r.createElement(q,{values:D,errors:F,touched:H,handleChange:R,handleBlur:O}),("ms-oauth"===D.incomingServerType||"ms-oauth"===D.outgoingServerType)&&r.createElement(N,{values:D,errors:F,touched:H,handleChange:R,handleBlur:O}),"mailgun"===D.incomingServerType&&r.createElement(r.Fragment,null,r.createElement(u.Z,null,r.createElement("span",{className:"h5"},r.createElement("strong",null,"Mailgun instellingen"))),r.createElement(s.Z,null,r.createElement("div",{className:"row"},r.createElement(I.Z,{className:"form-group col-sm-12",labelSize:"col-sm-3",valueSize:"col-sm-9",label:"Forward email",value:D.inboundMailgunEmail?D.inboundMailgunEmail:"Nog niet bepaald",textToolTip:"Forward email "+D.email+" naar "+(D.inboundMailgunEmail?D.inboundMailgunEmail:"Nog niet bepaald")+" om deze in Econobis te ontvangen."})))),D.id&&r.createElement(r.Fragment,null,r.createElement(u.Z,null,r.createElement("span",{className:"h5"},r.createElement("strong",null,"Log"))),r.createElement(s.Z,null,r.createElement("div",{className:"row"},r.createElement(I.Z,{label:"Datum email laatst opgehaald",value:D.dateLastFetched?C()(D.dateLastFetched).format("L HH:mm:ss"):"Nog niet bepaald",className:"form-group col-sm-6"}),r.createElement(I.Z,{label:"UID email laatst opgehaald",value:D.imapIdLastFetched,className:"form-group col-sm-6"})))),r.createElement(s.Z,null,r.createElement("div",{className:"pull-right btn-group",role:"group"},D.id?r.createElement(r.Fragment,null,r.createElement(c.Z,{buttonClassName:"btn-default",buttonText:"Sluiten",onClickAction:T}),r.createElement(c.Z,{buttonText:"Opslaan",onClickAction:L,type:"submit",value:"Submit",loading:U})):r.createElement(c.Z,{buttonText:"Opslaan",onClickAction:L,type:"submit",value:"Submit",loading:U})))))}))}}]);