(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{1067:function(e,t,n){"use strict";var a=n(546),o=n.n(a),r=n(0),s=n.n(r),l=n(3),i=n.n(l),c=function(e){return s.a.createElement("select",{disabled:e.readOnly,className:"form-control input-sm",name:"type",value:e.type,onChange:e.handleInputChange},s.a.createElement("option",{value:"eq"},"gelijk aan"),s.a.createElement("option",{value:"neq"},"niet gelijk aan"),s.a.createElement("option",{value:"ct"},"bevat"),s.a.createElement("option",{value:"nct"},"bevat niet"),s.a.createElement("option",{value:"bw"},"begint met"),s.a.createElement("option",{value:"nbw"},"begint niet met"),s.a.createElement("option",{value:"ew"},"eindigt met"),s.a.createElement("option",{value:"new"},"eindigt niet met"),s.a.createElement("option",{value:"nl"},"is leeg"),s.a.createElement("option",{value:"nnl"},"is niet leeg"))},u=function(e){return s.a.createElement("select",{disabled:e.readOnly,className:"form-control input-sm",name:"type",value:e.type,onChange:e.handleInputChange},s.a.createElement("option",{value:"eq"},"gelijk aan"),s.a.createElement("option",{value:"neq"},"niet gelijk aan"),s.a.createElement("option",{value:"ct"},"bevat"),s.a.createElement("option",{value:"nct"},"bevat niet"),s.a.createElement("option",{value:"bw"},"begint met"),s.a.createElement("option",{value:"nbw"},"begint niet met"),s.a.createElement("option",{value:"ew"},"eindigt met"),s.a.createElement("option",{value:"new"},"eindigt niet met"))},p=function(e){return s.a.createElement("select",{disabled:e.readOnly,className:"form-control input-sm",name:"type",value:e.type,onChange:e.handleInputChange},s.a.createElement("option",{value:"eq"},"gelijk aan"),s.a.createElement("option",{value:"neq"},"niet gelijk aan"),s.a.createElement("option",{value:"lt"},"kleiner dan"),s.a.createElement("option",{value:"lte"},"kleiner of gelijk aan"),s.a.createElement("option",{value:"gt"},"groter dan"),s.a.createElement("option",{value:"gte"},"groter dan of gelijk aan"),s.a.createElement("option",{value:"is0"},"is 0 of leeg"),s.a.createElement("option",{value:"isn0"},"is niet 0 of leeg"))},d=function(e){return s.a.createElement("select",{disabled:e.readOnly,className:"form-control input-sm",name:"type",value:e.type,onChange:e.handleInputChange},s.a.createElement("option",{value:"eq"},"gelijk aan"),s.a.createElement("option",{value:"neq"},"niet gelijk aan"),s.a.createElement("option",{value:"ct"},"bevat"),s.a.createElement("option",{value:"nct"},"bevat niet"),s.a.createElement("option",{value:"bw"},"begint met"),s.a.createElement("option",{value:"nbw"},"begint niet met"),s.a.createElement("option",{value:"ew"},"eindigt met"),s.a.createElement("option",{value:"new"},"eindigt niet met"),s.a.createElement("option",{value:"lt"},"kleiner dan"),s.a.createElement("option",{value:"lte"},"kleiner of gelijk aan"),s.a.createElement("option",{value:"gt"},"groter dan"),s.a.createElement("option",{value:"gte"},"groter dan of gelijk aan"),s.a.createElement("option",{value:"nl"},"is leeg"),s.a.createElement("option",{value:"nnl"},"is niet leeg"))},m=function(e){return s.a.createElement("select",{disabled:e.readOnly,className:"form-control input-sm",name:"type",value:e.type,onChange:e.handleInputChange},s.a.createElement("option",{value:"eq"},"gelijk aan"),s.a.createElement("option",{value:"neq"},"niet gelijk aan"),s.a.createElement("option",{value:"nl"},"is leeg"),s.a.createElement("option",{value:"nnl"},"is niet leeg"))},h=function(e){return s.a.createElement("select",{className:"form-control input-sm",name:"type",value:e.type,onChange:e.handleInputChange},s.a.createElement("option",{value:"eq"},"gelijk aan"),s.a.createElement("option",{value:"neq"},"niet gelijk aan"),s.a.createElement("option",{value:"lt"},"kleiner dan"),s.a.createElement("option",{value:"lte"},"kleiner of gelijk aan"),s.a.createElement("option",{value:"gt"},"groter dan"),s.a.createElement("option",{value:"gte"},"groter dan of gelijk aan"),s.a.createElement("option",{value:"nl"},"is leeg"),s.a.createElement("option",{value:"nnl"},"is niet leeg"))},f=function(e){return s.a.createElement("select",{className:"form-control input-sm",name:"type",value:e.type,onChange:e.handleInputChange},s.a.createElement("option",{value:"bool"},"is"))},g=n(7),y=n.n(g),E=n(14),v=n.n(E),C=n(17),b=n.n(C),S=n(9),w=n.n(S),k=n(15),N=n.n(k),D=n(16),O=n.n(D),T=n(12),A=n.n(T),F=n(5),x=n.n(F),R=n(289),I=n.n(R),P=n(165),_=n.n(P);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=A()(e);if(t){var o=A()(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return O()(this,n)}}y.a.locale("nl");var j=function(e){N()(n,e);var t=M(n);function n(e){var a;return v()(this,n),a=t.call(this,e),x()(w()(a),"validateDate",(function(e){y()(e.target.value,"DD-MM-YYYY",!0).isValid()||""===e.target.value?a.setState({errorDateFormat:!1}):a.setState({errorDateFormat:!0})})),x()(w()(a),"onDateChange",(function(e){var t=e?y()(e).format("Y-MM-DD"):"";a.props.onChangeAction(t,a.props.name)})),a.state={errorDateFormat:!1},a}return b()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.id,a=e.value,o=e.readOnly,r=e.name,l=a?y()(a).format("L"):"";return s.a.createElement("div",{className:"DataTableDateFilter"},s.a.createElement(I.a,{id:n,value:l,formatDate:P.formatDate,parseDate:P.parseDate,onDayChange:this.onDateChange,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:_.a},inputProps:{className:"form-control input-sm ".concat(t)+(this.state.errorDateFormat?" has-error":""),name:r,onBlur:this.validateDate},readOnly:o,placeholder:""}))}}]),n}(r.Component);j.defaultProps={className:"",readOnly:!1,value:null},j.propTypes={type:i.a.string,className:i.a.string,id:i.a.string,name:i.a.string,value:i.a.oneOfType([i.a.string,i.a.object]),onChangeAction:i.a.func,readOnly:i.a.bool};var L=j,G=function(e){return s.a.createElement("select",{disabled:e.readOnly,className:"form-control input-sm",name:"type",value:e.type,onChange:e.handleInputChange},s.a.createElement("option",{value:"eq"},"heeft"),s.a.createElement("option",{value:"neq"},"heeft geen"))},q=function(e){return s.a.createElement("select",{disabled:e.readOnly,className:"form-control input-sm",name:"type",value:e.type,onChange:e.handleInputChange},"person"!==e.contactType?s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:""},"--Maak keuze--"),s.a.createElement("option",{value:"rel"},"heeft"),s.a.createElement("option",{value:"nrel"},"heeft geen")):null,"organisation"!==e.contactType?s.a.createElement(s.a.Fragment,null,s.a.createElement("option",{value:"eq"},"is"),s.a.createElement("option",{value:"neq"},"is geen")):null)};y.a.locale("nl");var U=function(e){var t=function(t){var n=t.target,a=n.value,o=n.name;e.handleFilterValueChange(o,a,e.filterNumber)},n=e.fields,a=e.filter.field,r=e.filter.type,l=Object.entries(n).map((function(t,n){var a=o()(t,2),r=a[0],l=a[1];if("dateStart"!==r&&"dateFinish"!==r&&"orderStatus"!==r&&"opportunityStatus"!==r&&"opportunityMeasure"!==r&&"opportunityEvaluationRealised"!==r&&"opportunityCampaign"!==r&&"intakeDateStart"!==r&&"intakeDateFinish"!==r&&"intakeStatus"!==r&&("organisation"!==e.contactType||"portalUser"!==r))return s.a.createElement("option",{key:n,value:r},l.name)})),i="dateStart"==a||"dateFinish"==a||"orderStatus"==a,g="opportunityStatus"==a||"opportunityMeasure"==a||"opportunityEvaluationRealised"==a||"opportunityCampaign"==a,y="intakeDateStart"==a||"intakeDateFinish"==a||"intakeStatus"==a,E=e.fields[e.filter.field].type,v=e.fields[e.filter.field].optionName?e.fields[e.filter.field].optionName:"name";return s.a.createElement("tr",null,s.a.createElement("td",{className:"col-md-4"},i||g||y?s.a.createElement("select",{disabled:!0,className:"form-control input-sm",name:"field",value:a},s.a.createElement("option",{key:0,value:a},n[a].name)):s.a.createElement("select",{disabled:e.filter.readOnly,className:"form-control input-sm",name:"field",value:a,onChange:function(t){var n=t.target.value;e.handleFilterFieldChange(n,e.filterNumber)}},l)),s.a.createElement("td",{className:"col-md-3"},"string"===E&&s.a.createElement(c,{handleInputChange:t,type:r,readOnly:e.filter.readOnly}),"stringWithoutNull"===E&&s.a.createElement(u,{handleInputChange:t,type:r,readOnly:e.filter.readOnly}),"number"===E&&s.a.createElement(p,{handleInputChange:t,type:r,readOnly:e.filter.readOnly}),"numberOrString"===E&&s.a.createElement(d,{handleInputChange:t,type:r,readOnly:e.filter.readOnly}),"boolean"===E&&s.a.createElement(f,{handleInputChange:t,type:r,readOnly:e.filter.readOnly}),"dropdown"===E&&s.a.createElement(m,{handleInputChange:t,type:r,readOnly:e.filter.readOnly}),"dropdownHas"===E&&s.a.createElement(G,{handleInputChange:t,type:r,readOnly:e.filter.readOnly}),"dropdownRelations"===E&&s.a.createElement(q,{handleInputChange:t,type:r,readOnly:e.filter.readOnly,contactType:e.contactType}),"date"===E&&s.a.createElement(h,{handleInputChange:t,type:r,readOnly:e.filter.readOnly})),s.a.createElement("td",{className:"col-md-4"},"nl"!==e.filter.type&&"nnl"!==e.filter.type&&s.a.createElement(s.a.Fragment,null,("number"===E||"string"===E||"numberOrString"===E||"stringWithoutNull"===E)&&s.a.createElement("input",{className:"form-control input-sm",type:"text",id:"data",name:"data",value:e.filter.data,onChange:t,readOnly:e.filter.readOnly}),("dropdown"===E||"dropdownHas"===E)&&s.a.createElement("select",{className:"form-control input-sm",id:"data",name:"data",value:e.filter.data,onChange:t,disabled:e.filter.readOnly},s.a.createElement("option",{value:""},"--Willekeurige waarde--"),e.fields[e.filter.field].dropDownOptions.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e[v])}))),"boolean"===E&&s.a.createElement("select",{className:"form-control input-sm",id:"data",name:"data",value:e.filter.data,onChange:t,disabled:e.filter.readOnly},e.fields[e.filter.field].dropDownOptions.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e[v])}))),"dropdownRelations"===E&&s.a.createElement("select",{className:"form-control input-sm",id:"data",name:"data",value:e.filter.data,onChange:t,disabled:e.filter.readOnly},s.a.createElement("option",{value:""},"--Willekeurige waarde--"),e.fields[e.filter.field].dropDownOptions.map((function(e){return s.a.createElement("option",{key:e.id,value:e.id},e[v])}))),"date"===E&&s.a.createElement(L,{id:"data",value:e.filter.data,onChangeAction:function(t){e.handleFilterValueChange("data",t,e.filterNumber)},readOnly:e.filter.readOnly}))),i||g||y||e.filter.readOnly?s.a.createElement("td",null):s.a.createElement("td",{className:"col-md-1"},s.a.createElement("span",{className:"glyphicon glyphicon-trash mybtn-danger",role:"button",onClick:function(){e.deleteFilterRow(e.filterNumber)}})))};U.propTypes={fields:i.a.object.isRequired,filter:i.a.object.isRequired};t.a=U},1588:function(e,t,n){"use strict";n.r(t);var a=n(14),o=n.n(a),r=n(17),s=n.n(r),l=n(9),i=n.n(l),c=n(15),u=n.n(c),p=n(16),d=n.n(p),m=n(12),h=n.n(m),f=n(5),g=n.n(f),y=n(0),E=n.n(y),v=n(19),C=n(24),b=n(161),S=n(7),w=n.n(S),k=function(e,t,n,a,o){return{type:"FETCH_CONTACTS",filters:e,extraFilters:t,sorts:n,pagination:a,filterType:o}},N=function(){return{type:"CLEAR_CONTACTS"}},D=function(e){return{type:"SET_CHECKED_CONTACT_ALL",checkedValue:e}},O=function(e){return{type:"SET_NUMBER_FILTER",number:e}},T=function(e){return{type:"SET_TYPE_FILTER",typeId:e}},A=function(e){return{type:"SET_FULL_NAME_FILTER",fullName:e}},F=function(e){return{type:"SET_STREET_AND_NUMBER_FILTER",streetAndNumber:e}},x=function(e){return{type:"SET_POSTAL_CODE_FILTER",postalCode:e}},R=function(e){return{type:"SET_CITY_FILTER",city:e}},I=function(e){return{type:"SET_EMAIL_ADDRESS_FILTER",emailAddress:e}},P=function(e){return{type:"SET_PHONE_NUMBER_FILTER",phoneNumber:e}},_=function(e){return{type:"SET_STATUS_FILTER",statusId:e}},M=function(e){return{type:"SET_CREATED_AT_FILTER",createdAt:e}},j=function(){return{type:"CLEAR_FILTER_CONTACTS"}},L=function(e){return{type:"SET_CONTACTS_PAGINATION",pagination:e}},G=n(129),q=n(143),U=n.n(q),H=n(222),Y=n(223),B=n(285),V=n(933),W=Object(v.b)(null,(function(e){return{setContactsSortsFilter:function(t,n){e(function(e,t){return{type:"SET_CONTACTS_SORTS_FILTER",field:e,order:t}}(t,n))}}}))((function(e){var t=function(t,n){e.setContactsSortsFilter(t,n),setTimeout((function(){e.fetchContactsData()}),100)};return E.a.createElement("tr",{className:"thead-title"},e.showCheckbox?E.a.createElement("th",{width:"3%"}):null,E.a.createElement(V.a,{RowClassName:"hidden-xs",sortColumn:"number",title:"#",width:"5%",setSorts:t}),E.a.createElement(V.a,{RowClassName:"hidden-xs hidden-sm",sortColumn:"typeName",title:"Type",width:"7%",setSorts:t}),E.a.createElement(V.a,{sortColumn:"fullName",title:"Naam",width:"11%",setSorts:t}),E.a.createElement(V.a,{RowClassName:"hidden-xs",sortColumn:"streetAndNumber",title:"Adres",width:"12%",setSorts:t}),E.a.createElement(V.a,{RowClassName:"hidden-xs",sortColumn:"postalCode",title:"Postcode",width:"7%",setSorts:t}),E.a.createElement(V.a,{RowClassName:"hidden-xs",sortColumn:"city",title:"Plaats",width:"10%",setSorts:t}),E.a.createElement(V.a,{RowClassName:"hidden-xs",sortColumn:"emailAddress",title:"E-mail",width:"12%",setSorts:t}),E.a.createElement(V.a,{sortColumn:"phoneNumber",title:"Telefoon",width:"7%",setSorts:t}),E.a.createElement(V.a,{RowClassName:"hidden-xs hidden-sm",sortColumn:"createdAt",title:"Gemaakt op",width:"8%",setSorts:t}),E.a.createElement("th",{width:"3%"}))})),K=n(939),z=Object(v.b)((function(e){return{filters:e.contacts.filters,contactStatuses:e.systemData.contactStatuses,contactTypes:e.systemData.contactTypes}}),(function(e){return Object(C.b)({setNumberFilter:O,setTypeFilter:T,setFullNameFilter:A,setStreetAndNumberFilter:F,setPostalCodeFilter:x,setCityFilter:R,setEmailAddressFilter:I,setPhoneNumberFilter:P,setStatusFilter:_,setCreatedAtFilter:M},e)}))((function(e){return E.a.createElement("tr",{className:"thead-filter"},e.showCheckbox&&E.a.createElement("td",null,E.a.createElement("input",{type:"checkbox",value:e.checkedAllCheckboxes,onChange:e.selectAllCheckboxes})),E.a.createElement("th",{className:"hidden-xs"},E.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.number.data,onChange:function(t){e.setNumberFilter(t.target.value)}})),E.a.createElement("th",{className:"hidden-xs hidden-sm"},E.a.createElement("select",{className:"form-control input-sm",value:e.filters.typeId.data,onChange:function(t){e.setTypeFilter(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}},E.a.createElement("option",null),e.contactTypes.map((function(e){return E.a.createElement("option",{key:e.id,value:e.id},e.name)})))),E.a.createElement("th",null,E.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.fullName.data,onChange:function(t){e.setFullNameFilter(t.target.value)}})),E.a.createElement("th",{className:"hidden-xs"},E.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.streetAndNumber.data,onChange:function(t){e.setStreetAndNumberFilter(t.target.value)}})),E.a.createElement("th",{className:"hidden-xs"},E.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.postalCode.data,onChange:function(t){e.setPostalCodeFilter(t.target.value)}})),E.a.createElement("th",{className:"hidden-xs"},E.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.city.data,onChange:function(t){e.setCityFilter(t.target.value)}})),E.a.createElement("th",{className:"hidden-xs"},E.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.emailAddress.data,onChange:function(t){e.setEmailAddressFilter(t.target.value)}})),E.a.createElement("th",null,E.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.phoneNumber.data,onChange:function(t){e.setPhoneNumberFilter(t.target.value)}})),E.a.createElement(K.a,{value:e.filters.createdAt.data&&e.filters.createdAt.data,onChangeAction:function(t){void 0===t?e.setCreatedAtFilter(""):e.setCreatedAtFilter(w()(t).format("Y-MM-DD"))}}),E.a.createElement("th",null))})),J=n(4);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return d()(this,n)}}var Q=function(e){u()(n,e);var t=Z(n);function n(e){var a;return o()(this,n),(a=t.call(this,e)).state={showActionButtons:!1,highlightRow:""},a}return s()(n,[{key:"onRowEnter",value:function(){this.setState({showActionButtons:!0,highlightRow:"highlight-row"})}},{key:"onRowLeave",value:function(){this.setState({showActionButtons:!1,highlightRow:""})}},{key:"setCheckedContact",value:function(e){this.props.setCheckedContact(e)}},{key:"openItem",value:function(e){J.f.push("/contact/".concat(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.checked,a=t.id,o=t.number,r=t.typeId,s=t.typeName,l=t.fullName,i=t.streetAndNumber,c=t.postalCode,u=t.city,p=t.emailAddress,d=t.phoneNumber,m=(t.statusName,t.createdAt),h=t.permissions;return E.a.createElement("tr",{className:this.state.highlightRow,onDoubleClick:function(){return e.openItem(a)},onMouseEnter:function(){return e.onRowEnter()},onMouseLeave:function(){return e.onRowLeave()}},this.props.showCheckbox&&E.a.createElement("td",null,E.a.createElement("input",{type:"checkbox",checked:n,onChange:function(){return e.setCheckedContact(a)}})),E.a.createElement("td",{className:"hidden-xs"},o),E.a.createElement("td",{className:"hidden-xs hidden-sm"},s," "),E.a.createElement("td",null,l),E.a.createElement("td",{className:"hidden-xs"},i),E.a.createElement("td",{className:"hidden-xs"},c),E.a.createElement("td",{className:"hidden-xs"},u),E.a.createElement("td",{className:"hidden-xs"},p),E.a.createElement("td",null,d),E.a.createElement("td",{className:"hidden-xs hidden-sm"},w()(m).format("DD-MM-Y")),E.a.createElement("td",null,this.state.showActionButtons?E.a.createElement("a",{role:"button",onClick:function(){return e.openItem(a)}},E.a.createElement("span",{className:"glyphicon glyphicon-pencil mybtn-success"})," "):"",this.state.showActionButtons?E.a.createElement(E.a.Fragment,null,"organisation"===r&&h&&h.deleteOrganisation&&E.a.createElement("a",{role:"button",onClick:this.props.showDeleteItemModal.bind(this,a,l)},E.a.createElement("span",{className:"glyphicon glyphicon-trash mybtn-danger"})," "),"person"===r&&h&&h.deletePerson&&E.a.createElement("a",{role:"button",onClick:this.props.showDeleteItemModal.bind(this,a,l)},E.a.createElement("span",{className:"glyphicon glyphicon-trash mybtn-danger"})," ")):""))}}]),n}(y.Component);var X=Object(v.b)((function(e){return{statuses:e.statuses,types:e.types,permissions:e.meDetails.permissions}}),(function(e){return{setCheckedContact:function(t){e(function(e){return{type:"SET_CHECKED_CONTACT",id:e}}(t))}}}))(Q),$=n(35),ee=Object(v.b)(null,(function(e){return{deleteContact:function(t){e(function(e){return{type:"DELETE_CONTACT",id:e}}(t))}}}))((function(e){return E.a.createElement($.a,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.closeDeleteItemModal,confirmAction:function(){return e.deleteContact(e.id),void e.closeDeleteItemModal()},title:"Verwijderen"},E.a.createElement("p",null,"Verwijder contact: ",E.a.createElement("strong",null," ",e.fullName," ")))})),te=n(164);n(934);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return d()(this,n)}}var re=function(e){u()(n,e);var t=oe(n);function n(e){var a;return o()(this,n),a=t.call(this,e),g()(i()(a),"handleKeyUp",(function(e){13===e.keyCode&&a.props.onSubmitFilter()})),g()(i()(a),"showDeleteItemModal",(function(e,t){a.setState(ae(ae({},a.state),{},{showDeleteItem:!0,deleteItem:ae(ae({},a.state.deleteItem),{},{id:e,fullName:t})}))})),g()(i()(a),"closeDeleteItemModal",(function(){a.setState(ae(ae({},a.state),{},{showDeleteItem:!1,deleteItem:ae(ae({},a.state.deleteItem),{},{id:"",fullName:""})}))})),a.state={showDeleteItem:!1,deleteItem:{id:"",fullName:""}},a}return s()(n,[{key:"render",value:function(){var e=this,t=this.props.contacts,n=t.data,a=void 0===n?[]:n,o=t.meta,r=void 0===o?{}:o,s="",l=!0;return this.props.hasError?s="Fout bij het ophalen van contacten.":this.props.isLoading?s="Gegevens aan het laden.":0===a.length?s="Geen contacten gevonden!":l=!1,E.a.createElement("div",null,E.a.createElement("form",{onKeyUp:this.handleKeyUp},E.a.createElement(H.a,null,E.a.createElement(Y.a,null,E.a.createElement(W,{showCheckbox:this.props.showCheckboxList,fetchContactsData:function(){return e.props.fetchContactsData()}}),E.a.createElement(z,{showCheckbox:this.props.showCheckboxList,selectAllCheckboxes:function(){return e.props.selectAllCheckboxes()},onSubmitFilter:this.props.onSubmitFilter})),E.a.createElement(B.a,null,l?E.a.createElement("tr",null,E.a.createElement("td",{colSpan:10},s)):a.map((function(t){return E.a.createElement(X,U()({key:t.id},t,{showCheckbox:e.props.showCheckboxList,checkedAllCheckboxes:e.props.checkedAllCheckboxes,showDeleteItemModal:e.showDeleteItemModal}))})))),E.a.createElement("div",{className:"col-md-6 col-md-offset-3"},E.a.createElement(te.a,{onPageChangeAction:this.props.handlePageClick,totalRecords:r.total,initialPage:this.props.contactsPagination.page}))),this.state.showDeleteItem&&E.a.createElement(ee,U()({closeDeleteItemModal:this.closeDeleteItemModal},this.state.deleteItem)))}}]),n}(y.Component),se=Object(v.b)((function(e){return{isLoading:e.loadingData.isLoading,hasError:e.loadingData.hasError}}))(re),le=n(50),ie=Object(v.b)((function(e){return{contacts:e.contacts.list.data}}),(function(e){return{deleteSelectedContacts:function(t){e(function(e){return{type:"DELETE_SELECTED_CONTACTS",contactIds:e}}(t))}}}))((function(e){var t=function(){var t=0;return e.contacts.map((function(e){return!0===e.checked&&t++})),t};return E.a.createElement($.a,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.toggleShowDeleteSelectedItems,confirmAction:function(){return t=[],e.contacts.map((function(e){return!0===e.checked&&t.push(e.id)})),e.deleteSelectedContacts(t),void e.toggleShowDeleteSelectedItems();var t},title:"Verwijderen"},0!==t()?E.a.createElement("div",null,"Verwijder de geselecteerde ",E.a.createElement("strong",null,t())," contacten?"):E.a.createElement("div",null,"Geen contacten geselecteerd."))})),ce=n(59),ue=n(123);function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return d()(this,n)}}var de=function(e){u()(n,e);var t=pe(n);function n(e){var a;return o()(this,n),a=t.call(this,e),g()(i()(a),"handleInputChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,o=t.name;a.setState(g()({},o,n))})),g()(i()(a),"handleSubmit",(function(e){var t=[];a.props.contacts.map((function(e){return!0===e.checked&&t.push(e.id)})),ce.a.addManyContactsToGroup(t,a.state.groupId).then((function(e){a.props.toggleAddGroup(),J.f.push("/contacten-in-groep/".concat(a.state.groupId))}))})),a.state={contactGroups:[],groupId:"",contactCount:0,contactIds:"",errors:{groupId:!1}},a}return s()(n,[{key:"componentDidMount",value:function(){var e=this;ce.a.peekStaticContactGroups().then((function(t){e.setState({contactGroups:t})}));var t=0;this.props.contacts.map((function(e){return!0===e.checked&&t++})),this.setState({contactCount:t})}},{key:"render",value:function(){return E.a.createElement($.a,{buttonConfirmText:"Toevoegen",closeModal:this.props.toggleAddGroup,confirmAction:this.handleSubmit,title:"Contacten toevoegen aan groep"},0!==this.state.contactCount?E.a.createElement("div",{className:"row"},E.a.createElement(ue.a,{size:"col-md-12",label:"Voeg ".concat(this.state.contactCount," contact(en) toe aan groep:"),name:"groupId",options:this.state.contactGroups,value:this.state.groupId,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.groupId})):E.a.createElement("div",null,"Geen contacten geselecteerd."))}}]),n}(y.Component),me=Object(v.b)((function(e){return{contactDetails:e.contactDetails,contacts:e.contacts.list.data}}),null)(de),he=n(42),fe=n(546),ge=n.n(fe),ye=n(146);var Ee=function(e){var t=e.contacts,n=e.fetchContactsData,a=e.toggleShowMergeSelectedItems,o=Object(y.useState)(""),r=ge()(o,2),s=r[0],l=r[1],i=Object(y.useState)([]),c=ge()(i,2),u=c[0],p=c[1],d=function(){var e=0;return t.data.map((function(t){return!0===t.checked&&e++})),e};return E.a.createElement("div",null,u.length?E.a.createElement($.a,{buttonConfirmText:"Samenvoegen",buttonClassName:"btn-danger",closeModal:a,showConfirmAction:!1,title:"Contacten samenvoegen"},E.a.createElement("p",null,s),E.a.createElement("ul",null,u.map((function(e){return E.a.createElement("li",null,e)})))):E.a.createElement($.a,{buttonConfirmText:"Samenvoegen",buttonClassName:"btn-danger",closeModal:a,confirmAction:function(){return e=t.data.filter((function(e){return e.checked})).sort((function(e,t){return e.checkedAt-t.checkedAt})).map((function(e){return e.id})),void ye.a.mergeContacts(e[0],e[1]).then((function(){l("Contacten zijn succesvol samengevoegd"),n(),setTimeout(a,2e3)})).catch((function(e){if(e.response&&422===e.response.status){if(e.response.data&&e.response.data.errors)e.response.data.errors.econobis&&e.response.data.errors.econobis.length&&(l("Fout bij samenvoegen contacten:"),p(e.response.data.errors.econobis));else if(e.response.data&&e.response.data.message){l("Er is iets misgegaan bij het samenvoegen contacten ("+e.response.status+").");var t=[];if(Array.isArray(e.response.data.message))for(var n=0,a=Object.entries(JSON.parse(e.response.data.message));n<a.length;n++){var o=ge()(a[n],2),r=(o[0],o[1]);t.push("".concat(r))}else t.push(e.response.data.message);p(t)}}else l("Er is iets misgegaan bij het samenvoegen contacten."),p(["Onbekende fout"])}));var e},showConfirmAction:2===d(),title:"Contacten samenvoegen"},2===d()?E.a.createElement("div",null,"Weet je zeker dat je deze 2 contacten wilt samenvoegen? ",E.a.createElement("br",null),"Gegevens worden overgenomen naar het eerste contact, het tweede contact wordt verwijderd."):E.a.createElement("div",null,"Selecteer exact 2 contacten om te kunnen samenvoegen.")))};function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return d()(this,n)}}var Ce=function(e){u()(n,e);var t=ve(n);function n(e){var a;return o()(this,n),a=t.call(this,e),g()(i()(a),"toggleShowDeleteSelectedItems",(function(){a.setState({showDeleteSelectedItems:!a.state.showDeleteSelectedItems})})),g()(i()(a),"toggleShowMergeSelectedItems",(function(){a.setState({showMergeSelectedItems:!a.state.showMergeSelectedItems})})),g()(i()(a),"toggleAddContactsToGroup",(function(){a.setState({showAddContactsToGroup:!a.state.showAddContactsToGroup})})),g()(i()(a),"newContact",(function(){J.f.push("/contact/nieuw")})),g()(i()(a),"importContacts",(function(){J.f.push("/contact/import")})),a.state={showDeleteSelectedItems:!1,showMergeSelectedItems:!1,showAddContactsToGroup:!1},a}return s()(n,[{key:"render",value:function(){var e=this.props.meDetails.permissions,t=void 0===e?{}:e,n=this.props.contacts.meta,a=void 0===n?{}:n;return E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-md-4"},E.a.createElement("div",{className:"btn-group",role:"group"},E.a.createElement(le.a,{iconName:"glyphicon-refresh",onClickAction:this.props.resetContactFilters,title:"Vernieuwen scherm"}),t.createPerson||t.createOrganisation||t.manageGroup?E.a.createElement("div",{className:"nav navbar-nav btn-group",role:"group"},E.a.createElement("button",{className:"btn btn-success btn-sm","data-toggle":"dropdown",title:"Toevoegen contact of groep"},E.a.createElement("span",{className:"glyphicon glyphicon-plus"})),E.a.createElement("ul",{className:"dropdown-menu"},t.createPerson&&E.a.createElement("li",null,E.a.createElement(J.b,{to:"contact/nieuw/persoon"},"Persoon")),t.createOrganisation&&E.a.createElement("li",null,E.a.createElement(J.b,{to:"contact/nieuw/organisatie"},"Organisatie")),t.manageGroup&&E.a.createElement("li",null,E.a.createElement(J.b,{role:"button",onClick:this.props.toggleSaveAsGroup},"Groep")))):null,t.updatePerson&&t.updateOrganisation&&t.manageGroup&&E.a.createElement("div",{className:"nav navbar-nav btn-group",role:"group"},E.a.createElement("button",{className:"btn btn-success btn-sm","data-toggle":"dropdown",title:"Contactselectie toevoegen aan groep"},E.a.createElement("span",{className:"glyphicon glyphicon-share-alt"})),E.a.createElement("ul",{className:"dropdown-menu"},E.a.createElement("li",null,E.a.createElement("a",{role:"button",onClick:this.toggleAddContactsToGroup},"Voeg toe aan groep")))),(t.deletePerson||t.deleteOrganisation)&&E.a.createElement(le.a,{iconName:"glyphicon-trash",onClickAction:this.toggleShowDeleteSelectedItems,title:"Verwijderen geselecteerde contacten"}),(t.deletePerson||t.deleteOrganisation||t.manageGroup)&&E.a.createElement(le.a,{iconName:"glyphicon-ok",onClickAction:this.props.toggleShowCheckboxList,title:"Contactselectie maken"}),E.a.createElement(le.a,{iconName:"glyphicon-filter",onClickAction:this.props.toggleShowExtraFilters,title:"Contactfilters"}),t.downloadContact&&E.a.createElement(le.a,{iconName:"glyphicon-download-alt",onClickAction:this.props.getCSV,title:"Downloaden contacten naar CSV"}),t.import&&E.a.createElement(le.a,{iconName:"glyphicon-import",onClickAction:this.importContacts,title:"Importeren contacten"}),t.downloadContactConsumption&&a.useExportAddressConsumption&&E.a.createElement(E.a.Fragment,null,E.a.createElement("a",{role:"button",className:"btn btn-success btn-sm",onClick:this.props.getExcelAddressEnergyConsumptionElectricity,title:"Downloaden electriciteit verbruik"},E.a.createElement(he.d,{width:"13px",height:"12px"})),E.a.createElement("a",{role:"button",className:"btn btn-success btn-sm",onClick:this.props.getExcelAddressEnergyConsumptionGas,title:"Downloaden gas verbruik"},E.a.createElement(he.b,{width:"13px",height:"12px"}))),E.a.createElement(le.a,{iconName:"glyphicon-resize-small",onClickAction:this.toggleShowMergeSelectedItems,title:"Contacten samenvoegen"}))),E.a.createElement("div",{className:"col-md-4"},E.a.createElement("h3",{className:"text-center table-title"},"Contacten")),E.a.createElement("div",{className:"col-md-4"},E.a.createElement("div",{className:"pull-right"},"Resultaten: ",a.total||0)),this.state.showDeleteSelectedItems&&E.a.createElement(ie,{toggleShowDeleteSelectedItems:this.toggleShowDeleteSelectedItems}),this.state.showAddContactsToGroup&&E.a.createElement(me,{toggleAddGroup:this.toggleAddContactsToGroup}),this.state.showMergeSelectedItems&&E.a.createElement(Ee,{toggleShowMergeSelectedItems:this.toggleShowMergeSelectedItems,contacts:this.props.contacts,fetchContactsData:this.props.fetchContactsData}))}}]),n}(y.Component),be=Object(v.b)((function(e){return{meDetails:e.meDetails,contacts:e.contacts.list}}),null)(Ce),Se=n(935),we=n(163),ke=n.n(we),Ne=function(e){return E.a.createElement($.a,{buttonConfirmText:"Aanmaken",buttonClassName:"btn-success",closeModal:e.closeDeleteItemModal,confirmAction:function(){e.saveAsGroup()},title:"Groep aanmaken"},"Wilt u een groep aanmaken op basis van de huidige filters?")},De=n(1067),Oe=n(37);function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return d()(this,n)}}var xe=function(e){u()(n,e);var t=Fe(n);function n(e){var a;return o()(this,n),(a=t.call(this,e)).state={filterType:e.filterType,contactType:e.contactType,amountOfFilters:e.amountOfFilters,filters:e.extraFilters,yesNoOptions:[{id:0,name:"Nee"},{id:1,name:"Ja"}]},a.closeModal=a.closeModal.bind(i()(a)),a.confirmAction=a.confirmAction.bind(i()(a)),a.handleFilterFieldChange=a.handleFilterFieldChange.bind(i()(a)),a.handleFilterTypeChange=a.handleFilterTypeChange.bind(i()(a)),a.handleFilterValueChange=a.handleFilterValueChange.bind(i()(a)),a.addFilterRow=a.addFilterRow.bind(i()(a)),a.deleteFilterRow=a.deleteFilterRow.bind(i()(a)),a}return s()(n,[{key:"closeModal",value:function(){this.props.toggleShowExtraFilters()}},{key:"confirmAction",value:function(){this.props.handleExtraFiltersChange(this.state.filters,this.state.amountOfFilters,this.state.filterType)}},{key:"handleFilterFieldChange",value:function(e,t){var n=this.state.filters,a=this.state.amountOfFilters;"product"!==n[t].field&&"opportunityMeasureCategory"!==n[t].field&&"intakeMeasureCategory"!==n[t].field||(delete(n=n.filter((function(e){return e.connectedTo!==n[t].connectName})))[t].connectName,a=n.length),"product"===e?(n[t]={field:"product",type:"eq",data:"",connectName:e+t},n.splice(t+1,0,{field:"dateStart",type:"eq",data:"",connectedTo:e+t}),n.splice(t+2,0,{field:"dateFinish",type:"eq",data:"",connectedTo:e+t}),n.splice(t+3,0,{field:"orderStatus",type:"eq",data:"",connectedTo:e+t}),a=n.length):"opportunityMeasureCategory"===e?(n[t]={field:"opportunityMeasureCategory",type:"eq",data:"",connectName:e+t},n.splice(t+1,0,{field:"opportunityStatus",type:"eq",data:"",connectedTo:e+t}),n.splice(t+2,0,{field:"opportunityMeasure",type:"eq",data:"",connectedTo:e+t}),n.splice(t+3,0,{field:"opportunityEvaluationRealised",type:"eq",data:"",connectedTo:e+t}),n.splice(t+4,0,{field:"opportunityCampaign",type:"eq",data:"",connectedTo:e+t}),a=n.length):"intakeMeasureCategory"===e?(n[t]={field:"intakeMeasureCategory",type:"eq",data:"",connectName:e+t},n.splice(t+1,0,{field:"intakeDateStart",type:"eq",data:"",connectedTo:e+t}),n.splice(t+2,0,{field:"intakeDateFinish",type:"eq",data:"",connectedTo:e+t}),n.splice(t+3,0,{field:"intakeStatus",type:"eq",data:"",connectedTo:e+t}),a=n.length):(n[t].field=e,n[t].data=""),this.setState(Ae(Ae({},this.state),{},{filters:n,amountOfFilters:a}))}},{key:"handleFilterTypeChange",value:function(e){this.setState(Ae(Ae({},this.state),{},{filterType:e}))}},{key:"handleFilterValueChange",value:function(e,t,n){var a=this.state.filters;a[n][e]=t,this.setState(Ae(Ae({},this.state),{},{filters:a}))}},{key:"addFilterRow",value:function(){var e=this,t=this.state.filters;t[this.state.amountOfFilters]={field:"name",type:"eq",data:""},setTimeout((function(){e.setState(Ae(Ae({},e.state),{},{filters:t}))}),300),setTimeout((function(){e.setState({amountOfFilters:e.state.amountOfFilters+1})}),300)}},{key:"deleteFilterRow",value:function(e){var t=this.state.filters;"product"!==t[e].field&&"opportunityMeasureCategory"!==t[e].field&&"intakeMeasureCategory"!==t[e].field||(t=t.filter((function(n){return n.connectedTo!==t[e].connectName}))),t.splice(e,1),this.setState(Ae(Ae({},this.state),{},{filters:t,amountOfFilters:t.length}))}},{key:"render",value:function(){var e=this,t={name:{name:"Naam",type:"stringWithoutNull"},postalCode:{name:"Postcode",type:"numberOrString"},country:{name:"Land",type:"dropdown",dropDownOptions:this.props.countries},createdAt:{name:"Gemaakt op",type:"date"},currentObligations:{name:"Huidig aantal obligaties",type:"number"},currentParticipations:{name:"Huidig aantal participaties",type:"number"},currentPostalcodeLinkCapital:{name:"Huidig aantal postcoderoos",type:"number"},currentLoan:{name:"Huidig bedrag lening",type:"number"},staticContactGroup:{name:"Statische groep",type:"dropdownHas",dropDownOptions:this.props.staticContactGroups},occupation:{name:"Verbinding",type:"dropdownRelations",dropDownOptions:this.props.primaryOccupations},occupationPrimary:{name:"Primaire verbinding",type:"dropdownRelations",dropDownOptions:this.props.primaryOccupations},campaign:{name:"Campagne",type:"dropdownHas",dropDownOptions:this.props.campaigns},opportunityMeasureCategory:{name:"Kans maatregel categorie",type:"dropdownHas",dropDownOptions:this.props.measureCategories},quotationRequestStatus:{name:"Kansactie status",type:"dropdownHas",dropDownOptions:this.props.quotationRequestStatus},intakeMeasureCategory:{name:"Intake interesse",type:"dropdownHas",dropDownOptions:this.props.measureCategories},product:{name:"Product",type:"dropdownHas",dropDownOptions:this.props.products},dateOfBirth:{name:"Geboortedatum",type:"date"},energySupplier:{name:"Huidige Energie leverancier",type:"dropdown",dropDownOptions:this.props.energySuppliers},energySupplierType:{name:"Type huidige energie leverancier",type:"dropdownHas",dropDownOptions:this.props.energySupplierTypes},didAgreeAvg:{name:"Akkoord privacybeleid",type:"boolean",dropDownOptions:this.state.yesNoOptions},portalUser:{name:"Portal gebruiker actief",type:"boolean",dropDownOptions:this.state.yesNoOptions},housingFile:{name:"Woningdossier aanwezig",type:"boolean",dropDownOptions:this.state.yesNoOptions},inspectionPersonType:{name:"Rol in buurtaanpak",type:"dropdownHas",dropDownOptions:this.props.inspectionPersonTypes}},n={dateStart:{name:"Begin datum",type:"date"},dateFinish:{name:"Eind datum",type:"date"},orderStatus:{name:"Order status",type:"dropdownHas",dropDownOptions:this.props.orderStatuses}},a={opportunityStatus:{name:"Kans status",type:"dropdownHas",dropDownOptions:this.props.opportunityStatus},opportunityMeasure:{name:"Kans maatregel specifiek",type:"dropdownHas",dropDownOptions:this.props.measures.filter((function(e){return 1==e.visible}))},opportunityEvaluationRealised:{name:"Kans status evaluatie uitgevoerd",type:"dropdownHas",dropDownOptions:this.props.opportunityEvaluationStatuses},opportunityCampaign:{name:"Kans campagne",type:"dropdownHas",dropDownOptions:this.props.campaigns}},o={intakeDateStart:{name:"Begin datum",type:"date"},intakeDateFinish:{name:"Eind datum",type:"date"},intakeStatus:{name:"Intake status",type:"dropdownHas",dropDownOptions:this.props.intakeStatuses}};return E.a.createElement($.a,{title:"Extra filters",buttonConfirmText:"Toepassen",confirmAction:this.confirmAction,closeModal:this.closeModal,buttonCancelText:"Sluiten",extraButtonLabel:"Maak groep",extraButtonClass:"btn-success",extraButtonAction:this.props.saveAsGroup},E.a.createElement("div",{className:"row filter-row"},E.a.createElement("h5",null,E.a.createElement("div",{className:"col-xs-6"},E.a.createElement("input",{onChange:function(){return e.handleFilterTypeChange("and")},type:"radio",name:"type",value:"and",id:"and",checked:"and"===this.state.filterType}),E.a.createElement("label",{htmlFor:"and"},'Alle extra filters zijn "EN"')),E.a.createElement("div",{className:"col-xs-6"},E.a.createElement("input",{onChange:function(){return e.handleFilterTypeChange("or")},type:"radio",name:"type",value:"or",id:"or",checked:"or"===this.state.filterType}),E.a.createElement("label",{htmlFor:"or"},'Alle extra filters zijn "OF"')))),E.a.createElement("table",{className:"table"},E.a.createElement("thead",null,E.a.createElement("tr",null,E.a.createElement("th",{className:"col-md-4"},"Zoekveld"),E.a.createElement("th",{className:"col-md-3"}),E.a.createElement("th",{className:"col-md-4"},"Waarde"),E.a.createElement("th",{className:"col-md-1"}))),E.a.createElement("tbody",null,0===this.state.filters.length?E.a.createElement("tr",null,E.a.createElement("td",{colSpan:4},"Geen filters gezet.")):this.state.filters.map((function(r,s){return E.a.createElement(De.a,{key:s,filter:r,filterNumber:s,fields:Ae(Ae(Ae(Ae({},t),n),a),o),handleFilterFieldChange:e.handleFilterFieldChange,deleteFilterRow:e.deleteFilterRow,handleFilterValueChange:e.handleFilterValueChange,contactType:e.state.contactType})})))),E.a.createElement("div",{className:"row"},E.a.createElement("div",{className:"col-xs-12 text-right"},E.a.createElement(Oe.a,{buttonText:"Extra filter",onClickAction:this.addFilterRow}))))}}]),n}(y.Component),Re=Object(v.b)((function(e){return{contactStatuses:e.systemData.contactStatuses,staticContactGroups:e.systemData.staticContactGroups,primaryOccupations:e.systemData.primaryOccupations,measureCategories:e.systemData.measureCategories,measures:e.systemData.measures,opportunityStatus:e.systemData.opportunityStatus,opportunityEvaluationStatuses:e.systemData.opportunityEvaluationStatuses,intakeStatuses:e.systemData.intakeStatuses,products:e.systemData.products,energySuppliers:e.systemData.energySuppliers,energySupplierTypes:e.systemData.energySupplierTypes,countries:e.systemData.countries,orderStatuses:e.systemData.orderStatuses,quotationRequestStatus:e.systemData.quotationRequestStatus,inspectionPersonTypes:e.systemData.inspectionPersonTypes}}))(xe),Ie=n(295);function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h()(e);if(t){var o=h()(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return d()(this,n)}}w.a.locale("nl");var _e=function(e){u()(n,e);var t=Pe(n);function n(e){var a;if(o()(this,n),a=t.call(this,e),g()(i()(a),"fetchContactsData",(function(){setTimeout((function(){var e=a.state.extraFilters,t=Object(Se.a)(a.props.contactsFilters),n=a.props.contactsSorts,o={limit:20,offset:a.props.contactsPagination.offset},r=a.state.filterType;a.props.fetchContacts(t,e,n,o,r)}),100)})),g()(i()(a),"saveAsGroup",(function(){var e=a.state.extraFilters,t=Object(Se.a)(a.props.contactsFilters),n=a.state.filterType;ye.a.saveAsGroup({filters:t,extraFilters:e,filterType:n}).then((function(e){J.f.push("/contact-groep/".concat(e.data.data.id,"/edit"))}))})),g()(i()(a),"toggleSaveAsGroup",(function(){a.setState({showSaveAsGroup:!a.state.showSaveAsGroup})})),g()(i()(a),"getCSV",(function(){a.props.blockUI(),setTimeout((function(){var e=a.state.extraFilters,t=Object(Se.a)(a.props.contactsFilters),n=a.props.contactsSorts;ye.a.getCSV({filters:t,extraFilters:e,sorts:n}).then((function(e){ke()(e.data,"Contacten-"+w()().format("YYYY-MM-DD HH:mm:ss")+".csv"),a.props.unblockUI()})).catch((function(e){a.props.unblockUI()}))}),100)})),g()(i()(a),"getExcelAddressEnergyConsumptionGas",(function(){a.props.blockUI(),setTimeout((function(){for(var e=Math.ceil(a.props.contacts.meta.total/1e4),t=a.props.contacts.meta.total>1e4,n=1,o=1;o<=e;o++){var r={limit:1e4,offset:1e4*o-1e4},s=Object(Se.a)(a.props.contactsFilters),l=a.state.extraFilters,i=a.props.contactsSorts;ye.a.getExcelAddressEnergyConsumptionGas({filters:s,extraFilters:l,sorts:i,pagination:r}).then((function(o){var r="Contacten-verbruik-gas-".concat(w()().format("YYYY-MM-DD HH:mm:ss"),".xlsx");if(t)r="Contacten-verbruik-gas-".concat(w()().format("YYYY-MM-DD HH:mm:ss")," (").concat(n," van ").concat(e,").xlsx");ke()(o.data,r),n+=1,a.props.unblockUI()})).catch((function(e){a.props.unblockUI()}))}}),100)})),g()(i()(a),"getExcelAddressEnergyConsumptionElectricity",(function(){a.props.blockUI(),setTimeout((function(){for(var e=Math.ceil(a.props.contacts.meta.total/1e4),t=a.props.contacts.meta.total>1e4,n=1,o=1;o<=e;o++){var r={limit:1e4,offset:1e4*o-1e4},s=Object(Se.a)(a.props.contactsFilters),l=a.state.extraFilters,i=a.props.contactsSorts;ye.a.getExcelAddressEnergyConsumptionElectricity({filters:s,extraFilters:l,sorts:i,pagination:r}).then((function(o){var r="Contacten-verbruik-electriciteit-".concat(w()().format("YYYY-MM-DD HH:mm:ss"),".xlsx");if(t)r="Contacten-verbruik-electriciteit-".concat(w()().format("YYYY-MM-DD HH:mm:ss")," (").concat(n," van ").concat(e,").xlsx");ke()(o.data,r),n+=1,a.props.unblockUI()})).catch((function(e){a.props.unblockUI()}))}}),100)})),g()(i()(a),"resetContactFilters",(function(){a.props.clearFilterContacts(),a.setState({filterType:"and",amountOfFilters:0,extraFilters:[]}),a.fetchContactsData()})),g()(i()(a),"toggleShowCheckboxList",(function(){a.setState({showCheckboxList:!a.state.showCheckboxList})})),g()(i()(a),"selectAllCheckboxes",(function(){a.setState({checkedAllCheckboxes:!a.state.checkedAllCheckboxes}),a.props.setCheckedContactAll(!a.state.checkedAllCheckboxes)})),!Object(b.isEmpty)(e.params))switch(e.params.filter){case"type":a.props.clearFilterContacts(),a.props.setTypeFilter(e.params.value)}return a.state={campaigns:"",showCheckboxList:!1,checkedAllCheckboxes:!1,showSaveAsGroup:!1,showExtraFilters:!1,filterType:"and",amountOfFilters:0,extraFilters:[]},a.handlePageClick=a.handlePageClick.bind(i()(a)),a.handleExtraFiltersChange=a.handleExtraFiltersChange.bind(i()(a)),a.getCSV=a.getCSV.bind(i()(a)),a.toggleShowExtraFilters=a.toggleShowExtraFilters.bind(i()(a)),a}return s()(n,[{key:"componentDidMount",value:function(){var e=this;this.fetchContactsData(),Ie.a.peekNotFinishedCampaigns().then((function(t){e.setState({campaigns:t})}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.props.params.value!==e.params.value){if(Object(b.isEmpty)(e.params))this.props.clearFilterContacts();else switch(e.params.filter){case"type":this.props.clearFilterContacts(),this.props.setTypeFilter(e.params.value)}setTimeout((function(){t.fetchContactsData()}),100)}}},{key:"componentWillUnmount",value:function(){this.props.clearContacts()}},{key:"onSubmitFilter",value:function(){this.props.clearContacts(),this.props.setContactsPagination({page:0,offset:0}),this.fetchContactsData()}},{key:"handlePageClick",value:function(e){var t=e.selected,n=Math.ceil(20*t);this.props.setContactsPagination({page:t,offset:n}),this.fetchContactsData()}},{key:"handleExtraFiltersChange",value:function(e,t,n){var a=this;this.setState({filterType:n,amountOfFilters:e,extraFilters:e}),this.props.setContactsPagination({page:0,offset:0}),setTimeout((function(){a.fetchContactsData()}),100)}},{key:"prefillExtraFilter",value:function(){this.setState({filterType:"and",amountOfFilters:1,extraFilters:[{field:"name",type:"eq",data:""}]})}},{key:"toggleShowExtraFilters",value:function(){0===this.state.extraFilters.length&&!this.state.showExtraFilters&&this.prefillExtraFilter(),this.setState({showExtraFilters:!this.state.showExtraFilters})}},{key:"render",value:function(){var e=this;return E.a.createElement("div",null,E.a.createElement("div",{className:"panel panel-default"},E.a.createElement("div",{className:"panel-body"},E.a.createElement("div",{className:"col-md-12 margin-10-top"},E.a.createElement(be,{toggleShowCheckboxList:function(){return e.toggleShowCheckboxList()},resetContactFilters:function(){return e.resetContactFilters()},selectAllCheckboxes:function(){return e.selectAllCheckboxes()},checkedAllCheckboxes:this.state.checkedAllCheckboxes,getCSV:this.getCSV,getExcelAddressEnergyConsumptionGas:this.getExcelAddressEnergyConsumptionGas,getExcelAddressEnergyConsumptionElectricity:this.getExcelAddressEnergyConsumptionElectricity,toggleSaveAsGroup:this.toggleSaveAsGroup,saveAsGroup:this.saveAsGroup,toggleShowExtraFilters:this.toggleShowExtraFilters,fetchContactsData:this.fetchContactsData})),E.a.createElement("div",{className:"col-md-12 margin-10-top"},E.a.createElement(se,{contacts:this.props.contacts,contactsPagination:this.props.contactsPagination,showCheckboxList:this.state.showCheckboxList,selectAllCheckboxes:function(){return e.selectAllCheckboxes()},checkedAllCheckboxes:this.state.checkedAllCheckboxes,onSubmitFilter:function(){return e.onSubmitFilter()},fetchContactsData:function(){return e.fetchContactsData()},handlePageClick:this.handlePageClick})))),this.state.showSaveAsGroup&&E.a.createElement(Ne,{saveAsGroup:this.saveAsGroup,closeDeleteItemModal:this.toggleSaveAsGroup}),this.state.showExtraFilters&&E.a.createElement(Re,{campaigns:this.state.campaigns,saveAsGroup:this.saveAsGroup,filterType:this.state.filterType,toggleShowExtraFilters:this.toggleShowExtraFilters,handleExtraFiltersChange:this.handleExtraFiltersChange,contactType:this.props.contactsFilters.typeId.data,extraFilters:this.state.extraFilters,amountOfFilters:this.state.amountOfFilters}))}}]),n}(y.Component);t.default=Object(v.b)((function(e){return{contacts:e.contacts.list,contactsFilters:e.contacts.filters,contactsSorts:e.contacts.sorts,contactsPagination:e.contacts.pagination}}),(function(e){return Object(C.b)({fetchContacts:k,clearContacts:N,setCheckedContactAll:D,setTypeFilter:T,clearFilterContacts:j,setContactsPagination:L,blockUI:G.a,unblockUI:G.b},e)}))(_e)},933:function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(3),s=n.n(r),l=function(e){var t=e.RowClassName,n=e.setSorts,a=e.sortColumn,r=e.title,s=e.width;return o.a.createElement("th",{className:t,width:s},r,o.a.createElement("span",{className:"glyphicon glyphicon-arrow-down pull-right small",role:"button",onClick:n.bind(void 0,a,"ASC")}),o.a.createElement("span",{className:"glyphicon glyphicon-arrow-up pull-right small",role:"button",onClick:n.bind(void 0,a,"DESC")}))};l.defaultProps={RowClassName:""},l.propTypes={setSorts:s.a.func.isRequired,sortColumn:s.a.string.isRequired,title:s.a.string.isRequired,width:s.a.string.isRequired,RowClassName:s.a.string},t.a=l},934:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"v",(function(){return r})),n.d(t,"u",(function(){return s})),n.d(t,"x",(function(){return l})),n.d(t,"g",(function(){return i})),n.d(t,"i",(function(){return c})),n.d(t,"q",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"l",(function(){return d})),n.d(t,"w",(function(){return m})),n.d(t,"f",(function(){return h})),n.d(t,"j",(function(){return f})),n.d(t,"s",(function(){return g})),n.d(t,"d",(function(){return y})),n.d(t,"k",(function(){return E})),n.d(t,"t",(function(){return v})),n.d(t,"e",(function(){return C})),n.d(t,"n",(function(){return b})),n.d(t,"p",(function(){return S})),n.d(t,"o",(function(){return w})),n.d(t,"m",(function(){return k})),n.d(t,"y",(function(){return N})),n.d(t,"b",(function(){return D})),n.d(t,"r",(function(){return O}));var a=function(e){return{type:"FETCH_CONTACT_DETAILS",payload:e}},o=function(e){return{type:"DELETE_CONTACT",id:e}},r=function(e){return{type:"UPDATE_PERSON",contactDetails:e}},s=function(e){return{type:"UPDATE_ORGANISATION",contactDetails:e}},l=function(e){return{type:"UPDATE_PORTAL_USER",portalUser:e}},i=function(e){return{type:"DELETE_PORTAL_USER",id:e}},c=function(e){return{type:"NEW_ADDRESS",address:e}},u=function(e){return{type:"UPDATE_ADDRESS",address:e}},p=function(e){return{type:"DELETE_ADDRESS",id:e}},d=function(e){return{type:"NEW_PHONE_NUMBER",phoneNumber:e}},m=function(e){return{type:"UPDATE_PHONE_NUMBER",phoneNumber:e}},h=function(e){return{type:"DELETE_PHONE_NUMBER",id:e}},f=function(e){return{type:"NEW_EMAIL_ADDRESS",emailAddress:e}},g=function(e){return{type:"UPDATE_EMAIL_ADDRESS",emailAddress:e}},y=function(e){return{type:"DELETE_EMAIL_ADDRESS",id:e}},E=function(e){return{type:"NEW_CONTACT_NOTE",note:e}},v=function(e){return{type:"UPDATE_CONTACT_NOTE",note:e}},C=function(e){return{type:"DELETE_CONTACT_NOTE",id:e}},b=function(){return{type:"UNSET_PRIMARY_ADDRESSES"}},S=function(){return{type:"UNSET_PRIMARY_PHONE_NUMBERS"}},w=function(){return{type:"UNSET_PRIMARY_EMAIL_ADDRESSES"}},k=function(e){return{type:"NEW_ADDRESS_ENERGY_SUPPLIER",addressEnergySupplier:e}},N=function(e){return{type:"UPDATE_ADDRESS_ENERGY_SUPPLIER",addressEnergySupplier:e}},D=function(e){return{type:"DELETE_ADDRESS_ENERGY_SUPPLIER",id:e}},O=function(e){return{type:"UPDATE_HOOM_ACCOUNT_ID",hoomAccountId:e}}},935:function(e,t,n){"use strict";t.a=function(e){var t=[];for(var n in e)""!==e[n].data&&t.push(e[n]);return t}},939:function(e,t,n){"use strict";var a=n(0),o=n.n(a),r=n(3),s=n.n(r),l=n(289),i=n.n(l),c=n(165),u=n.n(c),p=n(7),d=n.n(p);d.a.locale("nl");var m=function(e){var t=e.className,n=e.value,a=e.onChangeAction,r=e.placeholder,s=n?d()(n).format("L"):"";return o.a.createElement("th",{className:"DayPicker-overflow ".concat(t)},o.a.createElement(i.a,{value:s,onDayChange:a,formatDate:c.formatDate,parseDate:c.parseDate,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:u.a},inputProps:{className:"form-control input-sm",placeholder:r},placeholder:""}))};m.defaultProps={className:"",value:null,placeholder:""},m.propTypes={className:s.a.string,value:s.a.oneOfType([s.a.string,s.a.object]),onChangeAction:s.a.func,placeholder:s.a.string},t.a=m}}]);