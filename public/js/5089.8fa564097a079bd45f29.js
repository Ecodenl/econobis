"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[5089],{63484:(e,t,n)=>{n.d(t,{Ft:()=>o,Kf:()=>i,OU:()=>l,ib:()=>a,l0:()=>u,tl:()=>s,vl:()=>r,yw:()=>p,zz:()=>c});var a=function(e){return{type:"FETCH_CONTACT_GROUP_DETAILS",id:e}},o=function(e){return{type:"UPDATE_CONTACT_GROUP_DETAILS",contactGroupDetails:e}},r=function(){return{type:"CLEAR_CONTACT_GROUP_DETAILS"}},c=function(e,t){return{type:"DELETE_COMPOSED_GROUP",contactGroupId:e,contactGroupToDetachId:t}},s=function(e,t){return{type:"ATTACH_COMPOSED_GROUP",contactGroupId:e,contactGroupToAttachId:t}},i=function(e,t){return{type:"DELETE_COMPOSED_EXCEPT_GROUP",contactGroupId:e,contactGroupToDetachId:t}},l=function(e,t){return{type:"ATTACH_COMPOSED_EXCEPT_GROUP",contactGroupId:e,contactGroupToAttachId:t}},u=function(e){return{type:"UPDATE_LAPOSTA_LIST_ID",lapostaListId:e}},p=function(e){return{type:"DEACTIVATE_LAPOSTA_LIST_ID",lapostaListId:e}}},97791:(e,t,n)=>{n.d(t,{LR:()=>o,jb:()=>c,ug:()=>a,we:()=>r});var a=function(e){return{type:"ADD_CONTACT_TO_GROUP",contact:e}},o=function(e,t,n){return{type:"FETCH_CONTACT_GROUPS",filters:e,sorts:t,pagination:n}},r=function(){return{type:"CLEAR_CONTACT_GROUPS"}},c=function(e,t){return{type:"DELETE_CONTACT_GROUP",id:e,successAction:t}}},25089:(e,t,n)=>{n.r(t),n.d(t,{default:()=>at});var a=n(96540),o=n(69733),r=n(63484),c=n(5544),s=n(24179),i=n(62493),l=n(55849),u=n(91858),p=n(63750),m=n(97791),d=n(26062);const h=(0,o.Ng)(null,(function(e){return{deleteContactGroup:function(t,n){e((0,m.jb)(t,n))},fetchSystemData:function(){e((0,d.u)())}}}))((function(e){var t=function(){e.fetchSystemData(),s.RL.push("/contact-groepen")};return a.createElement(p.A,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.closeDeleteItemModal,confirmAction:function(){return e.deleteContactGroup(e.id,t),void e.closeDeleteItemModal()},title:"Verwijderen"},"static"===e.contactGroupType?a.createElement("span",null,"Je gaat een statische groep verwijderen. Deze groep kan je niet meer herstellen. Weet je zeker dat de deze statische groep ",a.createElement("strong",null,e.name)," wilt verwijderen?"):a.createElement("span",null,"Verwijder groep: ",a.createElement("strong",null,e.name)))}));var f=n(55956),g=n(60738);const E=(0,o.Ng)((function(e){return{id:e.contactGroupDetails.id,lapostaListId:e.contactGroupDetails.lapostaListId}}),(function(e){return{updateContactGroupLapostaList:function(t){e((0,r.l0)(t))}}}))((function(e){var t=e.closeModal,n=e.id,o=e.lapostaListId,s=(0,a.useState)("Aanmaken laposta lijst gestart"),i=(0,c.A)(s,2),l=i[0],u=i[1],m=(0,a.useState)([]),d=(0,c.A)(m,2),h=d[0],f=d[1];return(0,a.useEffect)((function(){g.A.syncLapostaList(n).then((function(e){u("Laposta lijst is succesvol aangemaakt"),(0,r.l0)(o),setTimeout(t,2e3)})).catch((function(e){if(e.response&&422===e.response.status){if(e.response.data&&e.response.data.errors)e.response.data.errors.econobis&&e.response.data.errors.econobis.length&&(u("De volgende fouten gevonden tijdens synchronisatie:"),f(e.response.data.errors.econobis));else if(e.response.data&&e.response.data.message){u("Er is iets misgegaan bij het synchroniseren met Laposta ("+e.response.status+").");for(var t=[],n=0,a=Object.entries(JSON.parse(e.response.data.message));n<a.length;n++){var o=(0,c.A)(a[n],2),r=(o[0],o[1]);t.push("".concat(r))}f(t)}}else u("Er is iets misgegaan bij het synchroniseren met Laposta ("+(e.response&&e.response.status)+").")}))}),[]),a.createElement(p.A,{buttonClassName:"btn-danger",closeModal:t,buttonCancelText:"Sluiten",showConfirmAction:!1,title:"Synchroniseren met Laposta"},a.createElement("p",null,l),h.length?a.createElement("ul",null,h.map((function(e){return a.createElement("li",null,e)}))):null)})),v=(0,o.Ng)((function(e){return{id:e.contactGroupDetails.id,lapostaListId:e.contactGroupDetails.lapostaListId}}),(function(e){return{deActivatedContactGroupLapostaList:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){e(deActivatedContactGroupLapostaList(t))}))}}))((function(e){var t=e.closeModal,n=e.id,o=e.lapostaListId,s=(0,a.useState)("Aanmaken laposta lijst gestart"),i=(0,c.A)(s,2),l=i[0],u=i[1],m=(0,a.useState)([]),d=(0,c.A)(m,2),h=d[0],f=d[1];return(0,a.useEffect)((function(){g.A.deActivateLapostaList(n).then((function(e){u("Laposta lijst is succesvol uitgezet"),(0,r.yw)(o),setTimeout(t,2e3)})).catch((function(e){if(e.response&&422===e.response.status){if(e.response.data&&e.response.data.errors)e.response.data.errors.econobis&&e.response.data.errors.econobis.length&&(u("De volgende fouten gevonden tijdens uitzetten:"),f(e.response.data.errors.econobis));else if(e.response.data&&e.response.data.message){u("Er is iets misgegaan bij het uitzetten van Laposta ("+e.response.status+").");for(var t=[],n=0,a=Object.entries(JSON.parse(e.response.data.message));n<a.length;n++){var o=(0,c.A)(a[n],2),r=(o[0],o[1]);t.push("".concat(r))}f(t)}}else u("Er is iets misgegaan bij het uitzetten van Laposta ("+(e.response&&e.response.status)+").")}))}),[]),a.createElement(p.A,{buttonClassName:"btn-danger",closeModal:t,buttonCancelText:"Sluiten",showConfirmAction:!1,title:"Uitzetten van Laposta"},a.createElement("p",null,l),h.length?a.createElement("ul",null,h.map((function(e){return a.createElement("li",null,e)}))):null)})),A=function(e){return a.createElement(p.A,{buttonConfirmText:"Bevestig",buttonClassName:"btn-danger",closeModal:e.closeConfirmModal,confirmAction:e.confirmDeActivate,title:"Bevestig uitzetten LaPosta"},a.createElement("span",null,"LaPosta uitzetten voor Groep ",a.createElement("strong",null,e.name),"?",a.createElement("br",null),"De koppeling met LaPosta lijst wordt uitgezet voor deze groep en alle gekoppelde contacten. Hierna is er geen synchronisatie meer mogelijk met deze LaPosta lijst. De lijst blijft wel bestaan in LaPosta. Als je hierna weer kiest voor 'LaPosta lijst aanmaken' dan zal er een nieuwe lijst in LaPosta aangemaakt worden."))},y=(0,o.Ng)((function(e){return{contactGroup:e.contactGroupDetails,cooperation:e.systemData.cooperation,permissions:e.meDetails.permissions}}),null)((function(e){var t=e.permissions,n=e.contactGroup,o=e.cooperation,r=(e.isLoading,e.callFetchContactGroupDetails),p=(0,a.useState)(!1),m=(0,c.A)(p,2),d=m[0],g=m[1],y=(0,a.useState)(!1),b=(0,c.A)(y,2),G=b[0],D=b[1],C=(0,a.useState)(!1),w=(0,c.A)(C,2),N=w[0],L=w[1],O=(0,a.useState)(!1),k=(0,c.A)(O,2),T=k[0],S=k[1];function j(){g(!d)}function I(){G&&r(),D(!G)}function P(){L(!1)}var x=n.id,M=n.name,R=n.type,F=n.numberOfContacts,z=void 0===F?0:F,B=n.composedOf,U="";return"contacts"===B?U="(Contacten)":"participants"===B?U="(Participanten)":"both"===B&&(U="(Samengesteld)"),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-12"},a.createElement(i.A,null,a.createElement(l.A,{className:"panel-small"},a.createElement("div",{className:"col-md-3"},a.createElement("div",{className:"btn-group",role:"group"},a.createElement(u.A,{iconName:"arrowLeft",onClickAction:s.Nc.goBack}),t.manageGroup&&!n.isUsedInComposedGroup&&!n.isUsedInExceptedGroup&&a.createElement(u.A,{iconName:"trash",onClickAction:j}),a.createElement(f.A,{buttonText:"Open lijst (".concat(z,")"),onClickAction:function(){return s.RL.push("/contacten-in-groep/".concat(x))}}),t.manageMarketing&&o&&o.use_laposta&&a.createElement(a.Fragment,null,a.createElement("br",null)," ",a.createElement("br",null),a.createElement(f.A,{onClickAction:I,buttonText:n.isUsedInLaposta?n.groupUpToDateWithLaposta?"LaPosta lijst actueel":"LaPosta lijst bijwerken":"LaPosta lijst aanmaken",disabled:Boolean(n.isUsedInLaposta&&n.groupUpToDateWithLaposta),buttonClassName:n.isUsedInLaposta&&!n.groupUpToDateWithLaposta?"btn-danger":"btn-success"}),Boolean(n.isUsedInLaposta)&&a.createElement(f.A,{onClickAction:function(){L(!0)},buttonText:"LaPosta lijst uitzetten"})))),a.createElement("div",{className:"col-md-6"},a.createElement("h4",{className:"text-center"},M," ",U)),a.createElement("div",{className:"col-md-3"})))),d&&a.createElement(h,{closeDeleteItemModal:j,name:M,id:x,contactGroupType:R.id}),G&&a.createElement(E,{closeModal:I}),N&&a.createElement(A,{closeConfirmModal:P,confirmDeActivate:function(){P(),S(!0)},name:M}),T&&a.createElement(v,{closeModal:function(){T&&r(),S(!1)}}))}));var b=n(23029),G=n(92901),D=n(56822),C=n(53954),w=n(85501),N=n(2543),L=n.n(N),O=n(64467),k=n(57761),T=n.n(k),S=n(95093),j=n.n(S),I=n(45554),P=n(54814),x=n(73421),M=n(77465),R=n(14809),F=n(31714),z=n(6438);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,O.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function(){return!!e})()}var V=function(e){function t(e){var n,a,o,r;(0,b.A)(this,t),a=this,o=t,r=[e],o=(0,C.A)(o),n=(0,D.A)(a,_()?Reflect.construct(o,r||[],(0,C.A)(a).constructor):o.apply(a,r)),(0,O.A)(n,"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,o=t.name;n.setState(U(U({},n.state),{},{contactGroup:U(U({},n.state.contactGroup),{},(0,O.A)({},o,a))}))})),(0,O.A)(n,"closeDynamicToStatic",(function(){n.setState(U(U({},n.state),{},{showConfirmDynamicToStatic:!1}))})),(0,O.A)(n,"confirmDynamicToStatic",(function(){n.doUpdateContactGroup()})),(0,O.A)(n,"handleSubmit",(function(e){e.preventDefault();var t=n.state.contactGroup,a={},o=!1,r=!1;T().isEmpty(t.name)&&(a.name=!0,o=!0);var c=!1;n.state.contactGroups.map((function(e){return e.name==t.name&&(c=!0)})),c&&t.name!==n.state.oldName&&(r="Naam moet uniek zijn.",a.name=!0,o=!0),1==t.sendEmailNewContactLink&&(t.emailTemplateIdNewContactLink||(a.emailTemplateIdNewContactLink=!0,o=!0)),n.setState(U(U({},n.state),{},{errors:a,errorMessage:r}));var s=!1;t.type!==n.state.oldType.id&&"static"==t.type&&(s=!0),o||(s?n.setShowConfirmDynamicToStatic():n.doUpdateContactGroup())})),(0,O.A)(n,"doUpdateContactGroup",(function(){var e=n.state.contactGroup;g.A.updateContactGroup(e).then((function(e){n.props.updateContactGroupDetails(e),n.props.fetchSystemData(),n.props.switchToView()}))})),(0,O.A)(n,"handleChangeStartedDate",(function(e){var t=e?j()(e).format("Y-MM-DD"):"";n.setState(U(U({},n.state),{},{contactGroup:U(U({},n.state.contactGroup),{},{dateStarted:t})}))})),(0,O.A)(n,"handleChangeFinishedDate",(function(e){var t=e?j()(e).format("Y-MM-DD"):"";n.setState(U(U({},n.state),{},{contactGroup:U(U({},n.state.contactGroup),{},{dateFinished:t})}))})),(0,O.A)(n,"handleChangeComposedGroupType",(function(e){n.setState(U(U({},n.state),{},{contactGroup:U(U({},n.state.contactGroup),{},{contactGroupComposedType:e})}))})),(0,O.A)(n,"handleChangeDynamicFilterType",(function(e){n.setState(U(U({},n.state),{},{contactGroup:U(U({},n.state.contactGroup),{},{dynamicFilterType:e})}))}));var c=e.contactGroupDetails,s=c.dateStarted,i=c.dateFinished,l=c.responsibleUserId,u=c.showPortal,p=c.editPortal,m=c.showContactForm,d=c.contactGroupComposedType,h=c.type,f=c.dynamicFilterType,E=c.sendEmailNewContactLink,v=c.emailTemplateIdNewContactLink,A=c.includeIntoExportGroupReport,y=c.inspectionPersonType;return n.state={showConfirmValidatePeriodOverlap:!1,contactsWithPermission:[],contactGroups:[],emailTemplates:[],oldName:e.contactGroupDetails.name?e.contactGroupDetails.name:"",oldType:e.contactGroupDetails.type?e.contactGroupDetails.type:"",contactGroup:U(U({},e.contactGroupDetails),{},{dateStarted:s?j()(s).format("Y-MM-DD"):"",dateFinished:i?j()(i).format("Y-MM-DD"):"",responsibleUserId:l||"",showPortal:u||!1,editPortal:p||!1,showContactForm:m||!1,contactGroupComposedType:d||"one",type:h.id,dynamicFilterType:f||"and",sendEmailNewContactLink:E||!1,emailTemplateIdNewContactLink:v||"",includeIntoExportGroupReport:A||!1,inspectionPersonTypeId:y?y.id:""}),errors:{name:!1,emailTemplateIdNewContactLink:!1},peekLoading:{emailTemplates:!0}},n.handleReactSelectChange=n.handleReactSelectChange.bind(n),n}return(0,w.A)(t,e),(0,G.A)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.permissions;I.A.fetchUsersWithPermission(t.find((function(e){return"manage_group"===e.name})).id).then((function(t){e.setState({contactsWithPermission:t})})),g.A.peekContactGroups().then((function(t){e.setState({contactGroups:t})})),z.A.fetchEmailTemplatesPeek().then((function(t){return e.setState({emailTemplates:t,peekLoading:U(U({},e.state.peekLoading),{},{emailTemplates:!1})})}))}},{key:"handleReactSelectChange",value:function(e,t){this.setState(U(U({},this.state),{},{contactGroup:U(U({},this.state.contactGroup),{},(0,O.A)({},t,e))}))}},{key:"setShowConfirmDynamicToStatic",value:function(){this.setState(U(U({},this.state),{},{showConfirmDynamicToStatic:!0}))}},{key:"render",value:function(){var e=this,t=this.state.contactGroup,n=t.name,o=t.description,r=t.responsibleUserId,c=t.closed,s=t.dateStarted,i=t.dateFinished,l=t.createdAt,u=t.showPortal,m=t.editPortal,d=t.showContactForm,h=t.type,g=t.sendEmailNewContactLink,E=t.isUsedInLaposta,v=t.lapostaListId,A=t.lapostaListCreatedAt,y=t.emailTemplateIdNewContactLink,b=t.includeIntoExportGroupReport,G=t.numberOfContacts,D=t.inspectionPersonTypeId;return a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},a.createElement("div",{className:"row"},a.createElement(P.A,{label:"Naam",name:"name",value:n,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.name}),"composed"===this.props.contactGroupDetails.type.id&&a.createElement("div",{className:"col-xs-6"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-xs-6"},a.createElement("input",{onChange:function(){return e.handleChangeComposedGroupType("one")},type:"radio",name:"composedGroupType",value:"one",id:"one",defaultChecked:"one"===this.props.contactGroupDetails.contactGroupComposedType})," ",a.createElement("label",{htmlFor:"one"},"In één van de groepen")),a.createElement("div",{className:"col-xs-6"},a.createElement("input",{onChange:function(){return e.handleChangeComposedGroupType("all")},type:"radio",name:"composedGroupType",value:"all",id:"all",defaultChecked:"all"===this.props.contactGroupDetails.contactGroupComposedType})," ",a.createElement("label",{htmlFor:"all"}," In alle groepen")))),"dynamic"===this.props.contactGroupDetails.type.id&&a.createElement("div",{className:"col-xs-6"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-xs-6"},a.createElement("input",{onChange:function(){return e.handleChangeDynamicFilterType("and")},type:"radio",name:"dynamicFilterType",value:"and",id:"and",defaultChecked:"and"===this.props.contactGroupDetails.dynamicFilterType}),a.createElement("label",{htmlFor:"and"},'Alle extra filters zijn "EN"')),a.createElement("div",{className:"col-xs-6"},a.createElement("input",{onChange:function(){return e.handleChangeDynamicFilterType("or")},type:"radio",name:"dynamicFilterType",value:"or",id:"or",defaultChecked:"or"===this.props.contactGroupDetails.dynamicFilterType}),a.createElement("label",{htmlFor:"or"},'Alle extra filters zijn "OF"'))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"form-group col-sm-12"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-3"},a.createElement("label",{htmlFor:"description",className:"col-sm-12"},"Omschrijving")),a.createElement("div",{className:"col-sm-9"},a.createElement("textarea",{name:"description",value:o,onChange:this.handleInputChange,className:"form-control input-sm"}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"form-group col-sm-6"},a.createElement("label",{htmlFor:"responsibleUserId",className:"col-sm-6"},"Verantwoordelijke"),a.createElement("div",{className:"col-sm-6"},a.createElement("select",{className:"form-control input-sm",id:"responsibleUserId",name:"responsibleUserId",value:r,onChange:this.handleInputChange},a.createElement("option",{value:""}),this.state.contactsWithPermission.map((function(e){return a.createElement("option",{key:e.id,value:e.id},e.fullName)}))))),a.createElement(M.A,{label:"Gesloten",name:"closed",value:c,onChangeAction:this.handleInputChange})),a.createElement("div",{className:"row"},a.createElement(x.A,{label:"Startdatum",size:"col-sm-6",name:"dateStarted",value:s,onChangeAction:this.handleChangeStartedDate}),a.createElement(x.A,{label:"Datum gereed",size:"col-sm-6",name:"dateFinished",value:i,onChangeAction:this.handleChangeFinishedDate})),a.createElement("div",{className:"row"},a.createElement(M.A,{label:"Zichtbaar op portaal",name:"showPortal",value:u,onChangeAction:this.handleInputChange}),a.createElement(M.A,{label:"Veranderen op portaal",name:"editPortal",value:m,onChangeAction:this.handleInputChange})),a.createElement("div",{className:"row"},a.createElement(M.A,{label:"Zichtbaar bij contact",name:"showContactForm",value:d,onChangeAction:this.handleInputChange}),"dynamic"===this.props.contactGroupDetails.type.id?a.createElement(R.A,{label:"Type",name:"type",value:h,options:[{id:"dynamic",name:"Dynamisch"},{id:"static",name:"Statisch"}],onChangeAction:this.handleInputChange}):a.createElement(P.A,{label:"Type",name:"type",value:this.props.contactGroupDetails.type.name,readOnly:!0})),"static"===this.props.contactGroupDetails.type.id&&a.createElement(a.Fragment,null,a.createElement("div",{className:"row"},a.createElement(M.A,{label:"Verstuur e-mail bij nieuwe contactkoppeling",name:"sendEmailNewContactLink",value:g,onChangeAction:this.handleInputChange}),1==g&&a.createElement(F.A,{label:"Template email nieuwe contactkoppeling",divSize:"col-sm-6",name:"emailTemplateIdNewContactLink",options:this.state.emailTemplates,value:y,onChangeAction:this.handleReactSelectChange,isLoading:this.state.peekLoading.emailTemplates,required:g?"required":"",error:this.state.errors.emailTemplateIdNewContactLink})),a.createElement("div",{className:"row"},a.createElement(M.A,{label:"Meenemen in export groep rapportage",name:"includeIntoExportGroupReport",value:b,onChangeAction:this.handleInputChange,size:"col-sm-5",textToolTip:'Als je deze optie op "AAN" zet zal deze groep getoond worden in de export groepen rapportage op de "groepen beheer" pagina.'}),a.createElement(F.A,{label:"Rol in buurtaanpak",divSize:"col-sm-6",name:"inspectionPersonTypeId",options:this.props.inspectionPersonTypes,value:D,onChangeAction:this.handleReactSelectChange,clearable:!0,disabled:G>0,size:"col-sm-5",textToolTip:"Contact die worden toegevoegd aan deze groep krijgen dezelfde waarde als Rol in buurtaanpak"}))),a.createElement("div",{className:"row"},a.createElement(P.A,{label:"Gemaakt op",name:"createdAt",value:j()(l).format("DD-MM-Y"),readOnly:!0}),a.createElement(P.A,{label:"Gemaakt door",name:"createdBy",value:this.props.meDetails.fullName,readOnly:!0})),E&&a.createElement("div",{className:"row"},a.createElement(P.A,{label:"Laposta lijst id",name:"lapostaListId",value:v,readOnly:!0}),a.createElement(P.A,{label:"Gemaakt in Laposta op",name:"lapostaListCreatedAt",value:A&&j()(A).format("DD-MM-Y"),readOnly:!0})),this.state.errorMessage&&a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-10 col-md-offset-1 alert alert-danger"},this.state.errorMessage)),a.createElement("div",{className:"panel-footer"},a.createElement("div",{className:"pull-right btn-group",role:"group"},a.createElement(f.A,{buttonClassName:"btn-default",buttonText:"Sluiten",onClickAction:this.props.switchToView}),a.createElement(f.A,{buttonText:"Opslaan",onClickAction:this.handleSubmit}))),this.state.showConfirmDynamicToStatic&&a.createElement(p.A,{buttonConfirmText:"Bevestigen",buttonClassName:"btn-danger",closeModal:this.closeDynamicToStatic,confirmAction:function(){return e.confirmDynamicToStatic()},title:"Bevestig groep type aanpassing"},a.createElement(a.Fragment,null,'Weet je zeker dat je het groepstype van deze groep wilt wijzigen naar "statisch"? De filters die zijn ingesteld voor deze groep komen te vervallen. De groep wordt dan niet meer dynamisch bijgewerkt op basis van de filters.')))}}])}(a.Component);const q=(0,o.Ng)((function(e){return{meDetails:e.meDetails,contactGroupDetails:e.contactGroupDetails,permissions:e.systemData.permissions,inspectionPersonTypes:e.systemData.inspectionPersonTypes}}),(function(e){return{updateContactGroupDetails:function(t){e((0,r.Ft)(t))},fetchSystemData:function(){e((0,d.u)())}}}))(V);var W=n(30483);const H=(0,o.Ng)((function(e){return{contactGroupDetails:e.contactGroupDetails}}))((function(e){var t=e.contactGroupDetails,n=t.name,o=t.dynamicFilterType,r=t.contactGroupComposedType,c=t.description,s=t.responsibleUser,i=void 0===s?{}:s,l=t.closedStatus,u=t.dateStarted,p=t.dateFinished,m=t.createdAt,d=t.type,h=t.createdBy,f=t.showPortal,g=t.editPortal,E=t.showContactForm,v=t.sendEmailNewContactLink,A=t.isUsedInLaposta,y=t.lapostaListId,b=t.lapostaListCreatedAt,G=t.emailTemplateNewContactLink,D=void 0===G?{}:G,C=t.includeIntoExportGroupReport,w=t.inspectionPersonType;return a.createElement("div",{onClick:e.switchToEdit},a.createElement("div",{className:"row"},a.createElement(W.A,{label:"Naam",value:n}),"composed"===d.id&&a.createElement(W.A,{label:"Voorwaarde",value:"one"===r?"In één van de groepen":"In alle groepen"}),"dynamic"===d.id&&a.createElement(W.A,{label:"Filter voorwaarde",value:"or"===o?'Alle extra filters zijn "OF"':'Alle extra filters zijn "EN"'})),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-3"},a.createElement("label",{htmlFor:"description",className:"col-sm-12"},"Omschrijving")),a.createElement("div",{className:"col-sm-9",id:"description"},c)),a.createElement("div",{className:"row"},a.createElement(W.A,{label:"Verantwoordelijke",value:i&&i.fullName,link:i?"gebruiker/"+i.id:""}),a.createElement(W.A,{label:"Status",value:l})),a.createElement("div",{className:"row"},a.createElement(W.A,{label:"Startdatum",value:u&&j()(u).format("DD-MM-Y")}),a.createElement(W.A,{label:"Datum gereed",value:p&&j()(p).format("DD-MM-Y")})),a.createElement("div",{className:"row"},a.createElement(W.A,{label:"Zichtbaar op portaal",value:f?"Ja":"Nee"}),a.createElement(W.A,{label:"Veranderen op portaal",value:g?"Ja":"Nee"})),a.createElement("div",{className:"row"},a.createElement(W.A,{label:"Zichtbaar bij contact",value:E?"Ja":"Nee"}),a.createElement(W.A,{label:"Type",value:d?d.name:""})),"static"===d.id&&a.createElement(a.Fragment,null,a.createElement("div",{className:"row"},a.createElement(W.A,{label:"Verstuur e-mail bij nieuwe contactkoppeling",value:v?"Ja":"Nee"}),1==v&&a.createElement(W.A,{label:"Template email nieuwe contactkoppeling",value:D?D.name:""})),a.createElement("div",{className:"row"},a.createElement(W.A,{label:"Meenemen in export groep rapportage",value:C?"Ja":"Nee",size:"col-sm-5",name:"includeIntoExportGroupReport",textToolTip:'Als je deze optie op "AAN" zet zal deze groep getoond worden in de export groepen rapportage op de "groepen beheer" pagina.'}),a.createElement(W.A,{label:"Rol in buurtaanpak",value:w?w.name+" groep":"",size:"col-sm-5",name:"inspectionPersonType",textToolTip:"Contact die worden toegevoegd aan deze groep krijgen dezelfde waarde als Rol in buurtaanpak"}))),a.createElement("div",{className:"row"},a.createElement(W.A,{label:"Gemaakt op",value:m&&j()(m).format("DD-MM-Y")}),a.createElement(W.A,{label:"Gemaakt door",value:h&&h.fullName})),A&&a.createElement("div",{className:"row"},a.createElement(W.A,{label:"Laposta lijst id",value:y}),a.createElement(W.A,{label:"Gemaakt in Laposta op",value:b&&j()(b).format("DD-MM-Y")})))}));function K(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(K=function(){return!!e})()}var Y=function(e){function t(e){var n,a,o,r;return(0,b.A)(this,t),a=this,o=t,r=[e],o=(0,C.A)(o),n=(0,D.A)(a,K()?Reflect.construct(o,r||[],(0,C.A)(a).constructor):o.apply(a,r)),(0,O.A)(n,"switchToEdit",(function(){n.setState({showEdit:!0})})),(0,O.A)(n,"switchToView",(function(){n.setState({showEdit:!1,activeDiv:""})})),n.state={showEdit:"edit"===e.mode,activeDiv:""},n}return(0,w.A)(t,e),(0,G.A)(t,[{key:"onDivEnter",value:function(){this.setState({activeDiv:"panel-grey"})}},{key:"onDivLeave",value:function(){this.state.showEdit||this.setState({activeDiv:""})}},{key:"render",value:function(){var e=this,t=this.props.permissions;return a.createElement(i.A,{className:this.state.activeDiv,onMouseEnter:function(){return e.onDivEnter()},onMouseLeave:function(){return e.onDivLeave()}},a.createElement(l.A,null,a.createElement("div",{className:"col-md-12"},this.state.showEdit&&t.manageGroup?a.createElement(q,{switchToView:this.switchToView}):a.createElement(H,{switchToEdit:this.switchToEdit}))))}}])}(a.Component);const J=(0,o.Ng)((function(e){return{permissions:e.meDetails.permissions}}))(Y);function Z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Z=function(){return!!e})()}var X=function(e){function t(e){return(0,b.A)(this,t),n=this,a=t,o=[e],a=(0,C.A)(a),(0,D.A)(n,Z()?Reflect.construct(a,o||[],(0,C.A)(n).constructor):a.apply(n,o));var n,a,o}return(0,w.A)(t,e),(0,G.A)(t,[{key:"render",value:function(){var e="",t=!0;return this.props.hasError?e="Fout bij het ophalen van groep.":(0,N.isEmpty)(this.props.contactGroupDetails)?e="Gegevens aan het laden.":(0,N.isEmpty)(this.props.contactGroupDetails)?e="Geen groep gevonden!":t=!1,t?a.createElement("div",null,e):a.createElement("div",null,a.createElement(J,{mode:this.props.mode}))}}])}(a.Component);const Q=(0,o.Ng)((function(e){return{contactGroupDetails:e.contactGroupDetails,isLoading:e.loadingData.isLoading,hasError:e.loadingData.hasError}}),null)(X),$=function(e,t){switch(e){case"field":switch(t){case"id":return"Id";case"number":return"Contact nummer";case"typeId":return"Type";case"payoutTypeId":return"Uitkeren op";case"didAgreeAvg":return"Akkoord privacybeleid";case"fullName":case"name":return"Naam";case"streetAndNumber":return"Straat";case"postalCode":return"Postcode";case"city":return"Woonplaats";case"country":return"Land";case"emailAddress":return"E-mailadres";case"phoneNumber":return"Telefoon nummer";case"statusId":return"Status";case"currentObligations":return"Aantal obligaties";case"currentParticipations":return"Aantal participaties";case"currentPostalcodeLinkCapital":return"Aantal postcoderoos";case"currentLoan":return"Bedrag lening";case"staticContactGroup":return"Statische groep";case"occupation":return"Verbinding";case"occupationPrimary":return"Primaire verbinding";case"campaign":return"Campagne";case"opportunityMeasureCategory":return"Kans maatregel categorie";case"opportunityStatus":return"Kans status";case"opportunityMeasure":return"Kans maatregel specifiek";case"opportunityEvaluationRealised":return"Kans status evaluatie uitgevoerd";case"opportunityCampaign":return"Kans campagne";case"intakeMeasureCategory":return"Intake - Interesse";case"intakeDateStart":return"Intake - Begin datum";case"intakeDateFinish":return"Intake - Eind datum";case"intakeStatus":return"Intake - Status";case"quotationRequestStatusOrganisationOrCoach":return"Kansactie status (org/coach)";case"quotationRequestStatusOccupant":return"Kansactie status (bewoner)";case"portalUser":return"Portal gebruiker actief";case"housingFileFieldName":return"Woningdossier - veldnaam";case"housingFileFieldValue":return"Woningdossier - status / waarde";case"contactFreeFieldsFieldName":return"Vrij veld contact - veldnaam";case"addressFreeFieldsFieldName":return"Vrij veld adres - veldnaam";case"contactFreeFieldsFieldValue":return"Vrij veld contact - status / waarde";case"addressFreeFieldsFieldValue":return"Vrij veld adres - status / waarde";case"housingFileExists":return"Woningdossier aanwezig";case"inspectionPersonType":return"Rol in buurtaanpak";case"sharedArea":return"Buurt";case"product":return"Product";case"dateStart":return"Product - Begin datum";case"dateFinish":return"Product - Eind datum";case"orderStatus":return"Product - Order status";case"contactType":return"Contact type";case"address":return"Adres";case"dateRegister":return"Eerste ingangsdatum deelname";case"energySupplierId":case"energySupplier":return"Energie leverancier";case"contactBirthday":return"Contact geboortedatum";case"projectId":return"Project";case"dateOfBirth":return"Geboortedatum";case"energySupplierType":return"Type huidige energie leverancier";case"dateContractSend":return"Datum contract verzonden";case"dateEnd":return"Einddatum";case"giftedByContactId":return"Geschonken door";case"participationsSold":return"Deelnames overgedragen";case"didAcceptAgreement":return"Akkoord voorwaarden";case"didUnderstandInfo":return"Projectinfo begrepen";case"participationsRequested":return"Deelnames aangevraagd";case"participantMutationTypeId":return"Deelname type (Mutaties)";case"participantMutationStatusId":return"Deelname status (Mutaties)";case"participantMutationDateContractRetour":return"Datum contract retour (Mutaties)";case"participantMutationDatePayment":return"Betaaldatum (Mutaties)";case"obligationsDefinitive":return"Huidig aantal obligaties";case"participationsDefinitive":return"Huidig aantal participaties";case"postalcodeLinkCapitalDefinitive":return"Huidig aantal postcoderoos";case"loanDefinitive":return"Huidig bedrag obligaties";case"createdAt":return"Gemaakt op";case"hoomdossierExists":return"Hoomdossier aangemaakt";case"hasEmailAddress":return"Heeft emailadres";case"hasPhoneNumber":return"Heeft telefoonnummer";case"addressDongleTypeReadOut":return"Dongle Type uitlezing";case"addressDongleTypeDongle":return"Dongle - Type dongel";case"addressDongleDateStart":return"Dongle - Start datum";case"addressDongleDateEnd":return"Dongle - Eind datum";case"addressDongleHasEnergyId":return"Dongle - Heeft energie ID koppeling"}break;case"comperator":switch(t){case"eq":case"rel":return"gelijk aan";case"neq":case"nrel":return"niet gelijk aan";case"ct":return"bevat";case"nct":return"bevat niet";case"lt":return"kleiner dan";case"lte":return"kleiner of gelijk aan";case"gt":return"groter dan";case"gte":return"groter dan of gelijk aan";case"nl":return"is leeg";case"nnl":return"is niet leeg";case"is0":return"is 0";case"isn0":return"is niet 0";case"bw":return"begint met";case"nbw":return"begint niet met";case"ew":return"eindigt met";case"new":return"eindigt niet met";case"bool":return"is"}}},ee=function(e){var t=e.extraFilter,n=t.field,o=t.comperator,r=t.dataName,c=r;!(0,N.isEmpty)(r)||"energySupplier"!==n&&"campaign"!==n&&"energySupplierType"!==n&&"orderStatus"!==n&&"product"!==n&&"opportunityMeasureCategory"!==n&&"opportunityStatus"!==n&&"opportunityMeasure"!==n&&"opportunityEvaluationRealised"!==n&&"opportunityCampaign"!==n&&"intakeMeasureCategory"!==n&&"intakeDateStart"!==n&&"intakeDateFinish"!==n&&"intakeStatus"!==n&&"quotationRequestStatusOrganisationOrCoach"!==n&&"quotationRequestStatusOccupant"!==n&&"occupationPrimary"!==n&&"occupation"!==n&&"staticContactGroup"!==n&&"country"!==n&&"inspectionPersonType"!==n&&"housingFileFieldValue"!==n&&"sharedArea"!==n&&"addressDongleTypeReadOut"!==n||"eq"!==o&&"neq"!==o&&"rel"!==o&&"nrel"!==o||(c="--Willekeurige waarde--");var s=$("field",n),i=$("comperator",o);return a.createElement("div",{className:"row border ".concat(e.highlightLine),onMouseEnter:function(){return e.onLineEnter()},onMouseLeave:function(){return e.onLineLeave()}},a.createElement("div",null,a.createElement("div",{className:"col-sm-3"},s),a.createElement("div",{className:"col-sm-3"},i),a.createElement("div",{className:"col-sm-3"},c)))};function te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(te=function(){return!!e})()}const ne=function(e){function t(e){var n,a,o,r;return(0,b.A)(this,t),a=this,o=t,r=[e],o=(0,C.A)(o),n=(0,D.A)(a,te()?Reflect.construct(o,r||[],(0,C.A)(a).constructor):o.apply(a,r)),(0,O.A)(n,"onLineEnter",(function(){n.setState({highlightLine:"highlight-line"})})),(0,O.A)(n,"onLineLeave",(function(){n.setState({highlightLine:""})})),n.state={highlightLine:""},n}return(0,w.A)(t,e),(0,G.A)(t,[{key:"render",value:function(){return a.createElement("div",null,a.createElement(ee,{highlightLine:this.state.highlightLine,onLineEnter:this.onLineEnter,onLineLeave:this.onLineLeave,extraFilter:this.props.extraFilter}))}}])}(a.Component),ae=(0,o.Ng)((function(e){return{extraFilters:e.contactGroupDetails.extraFilters}}))((function(e){return a.createElement("div",null,a.createElement("div",{className:"row border header"},a.createElement("div",{className:"col-sm-3"},"Veld"),a.createElement("div",{className:"col-sm-3"},"Type"),a.createElement("div",{className:"col-sm-3"},"Waarde")),e.extraFilters.length>0?e.extraFilters.map((function(e){return a.createElement(ne,{key:e.id,extraFilter:e})})):a.createElement("div",null,"Geen extra filters bekend."))}));var oe=n(9392);function re(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(re=function(){return!!e})()}const ce=function(e){function t(e){return(0,b.A)(this,t),n=this,a=t,o=[e],a=(0,C.A)(a),(0,D.A)(n,re()?Reflect.construct(a,o||[],(0,C.A)(n).constructor):a.apply(n,o));var n,a,o}return(0,w.A)(t,e),(0,G.A)(t,[{key:"render",value:function(){return a.createElement(i.A,null,a.createElement(oe.A,null,a.createElement("span",{className:"h5 text-bold"},"Extra filters")),a.createElement(l.A,null,a.createElement("div",{className:"col-md-12"},a.createElement(ae,null))))}}])}(a.Component),se=function(e){var t=e.filter,n=t.field,o=t.dataName,r=$("field",n);return a.createElement("div",{className:"row border ".concat(e.highlightLine),onMouseEnter:function(){return e.onLineEnter()},onMouseLeave:function(){return e.onLineLeave()}},a.createElement("div",null,a.createElement("div",{className:"col-sm-3"},r),a.createElement("div",{className:"col-sm-3"},o)))};function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){(0,O.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ue=function(){return!!e})()}const pe=function(e){function t(e){var n,a,o,r;return(0,b.A)(this,t),a=this,o=t,r=[e],o=(0,C.A)(o),n=(0,D.A)(a,ue()?Reflect.construct(o,r||[],(0,C.A)(a).constructor):o.apply(a,r)),(0,O.A)(n,"onLineEnter",(function(){n.setState({highlightLine:"highlight-line"})})),(0,O.A)(n,"onLineLeave",(function(){n.setState({highlightLine:""})})),n.state={highlightLine:"",filter:le({},e.filter)},n}return(0,w.A)(t,e),(0,G.A)(t,[{key:"render",value:function(){return a.createElement("div",null,a.createElement(se,{highlightLine:this.state.highlightLine,onLineEnter:this.onLineEnter,onLineLeave:this.onLineLeave,filter:this.state.filter}))}}])}(a.Component),me=(0,o.Ng)((function(e){return{filters:e.contactGroupDetails.filters}}))((function(e){return a.createElement("div",null,a.createElement("div",{className:"row border header"},a.createElement("div",{className:"col-sm-3"},"Veld"),a.createElement("div",{className:"col-sm-3"},"Waarde")),e.filters.length>0?e.filters.map((function(e){return a.createElement(pe,{key:e.id,filter:e})})):a.createElement("div",null,"Geen filters bekend."))}));function de(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(de=function(){return!!e})()}const he=function(e){function t(e){return(0,b.A)(this,t),n=this,a=t,o=[e],a=(0,C.A)(a),(0,D.A)(n,de()?Reflect.construct(a,o||[],(0,C.A)(n).constructor):a.apply(n,o));var n,a,o}return(0,w.A)(t,e),(0,G.A)(t,[{key:"render",value:function(){return a.createElement(i.A,null,a.createElement(oe.A,null,a.createElement("span",{className:"h5 text-bold"},"Filters")),a.createElement(l.A,null,a.createElement("div",{className:"col-md-12"},a.createElement(me,null))))}}])}(a.Component);function fe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fe=function(){return!!e})()}var ge=function(e){function t(e){var n,a,o,r;return(0,b.A)(this,t),a=this,o=t,r=[e],o=(0,C.A)(o),n=(0,D.A)(a,fe()?Reflect.construct(o,r||[],(0,C.A)(a).constructor):o.apply(a,r)),(0,O.A)(n,"openItem",(function(e){s.RL.push("/taak/".concat(e))})),n.state={relatedTasks:""},n}return(0,w.A)(t,e),(0,G.A)(t,[{key:"render",value:function(){var e=this,t=this.props.relatedTasks;return a.createElement("div",null,""==t&&a.createElement("div",null,"Geen taken gevonden."),""!=t&&a.createElement("table",{className:"table harmonica-table"},a.createElement("tbody",null,t.map((function(t,n){return a.createElement("tr",{onClick:function(){return e.openItem(t.id)},key:n},a.createElement("td",{className:"col-xs-12 clickable"},j()(t.createdAt).format("L")," - ",t.noteSummary))})))))}}])}(a.Component);const Ee=(0,o.Ng)((function(e){return{relatedTasks:e.contactGroupDetails.relatedTasks}}))(ge);var ve=n(87722),Ae=n(23384);const ye=(0,o.Ng)((function(e){return{permissions:e.meDetails.permissions}}),null)((function(e){var t=e.toggleShowList,n=e.showTasksList,o=e.newTask,r=e.taskCount,c=e.permissions;return a.createElement(i.A,{className:"harmonica-button"},a.createElement(l.A,null,a.createElement("div",{className:"col-sm-10",onClick:t,role:"button"},a.createElement("span",{className:""},"TAKEN ",a.createElement("span",{className:"badge"},r))),a.createElement("div",{className:"col-sm-2"},c.manageTask&&a.createElement("a",{role:"button",className:"pull-right",onClick:o},a.createElement(ve.Ay,{className:"harmonica-button",size:14,icon:Ae.t}))),a.createElement("div",{className:"col-sm-12"},n&&a.createElement(Ee,null))))}));function be(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(be=function(){return!!e})()}var Ge=function(e){function t(e){var n,a,o,r;return(0,b.A)(this,t),a=this,o=t,r=[e],o=(0,C.A)(o),n=(0,D.A)(a,be()?Reflect.construct(o,r||[],(0,C.A)(a).constructor):o.apply(a,r)),(0,O.A)(n,"openItem",(function(e){s.RL.push("/document/".concat(e))})),n.state={relatedDocuments:""},n}return(0,w.A)(t,e),(0,G.A)(t,[{key:"render",value:function(){var e=this,t=this.props.relatedDocuments;return a.createElement("div",null,""==t&&a.createElement("div",null,"Geen documenten gevonden."),""!=t&&a.createElement("table",{className:"table harmonica-table"},a.createElement("tbody",null,t.map((function(t,n){return a.createElement("tr",{onClick:function(){return e.openItem(t.id)},key:n},a.createElement("td",{className:"col-xs-5 clickable"},j()(t.created_at).format("L")),a.createElement("td",{className:"col-xs-6 clickable"},t.filename))})))))}}])}(a.Component);const De=(0,o.Ng)((function(e){return{relatedDocuments:e.contactGroupDetails.relatedDocuments}}))(Ge),Ce=(0,o.Ng)((function(e){return{permissions:e.meDetails.permissions}}),null)((function(e){var t=e.toggleShowList,n=e.showDocumentsList,o=e.newDocument,r=e.documentCount,c=e.permissions;return a.createElement(i.A,{className:"harmonica-button"},a.createElement(l.A,null,a.createElement("div",{className:"col-sm-10",onClick:t,role:"button"},a.createElement("span",null,"DOCUMENTEN ",a.createElement("span",{className:"badge"},r))),a.createElement("div",{className:"col-sm-2"},c.createDocument&&a.createElement("div",{className:"pull-right"},a.createElement(ve.Ay,{className:"harmonica-button",size:14,icon:Ae.t,"data-toggle":"dropdown",role:"button"}),a.createElement("ul",{className:"dropdown-menu"},a.createElement("li",null,a.createElement("a",{className:"btn",onClick:function(){return o("internal")}},"Maak document")),a.createElement("li",null,a.createElement("a",{className:"btn",onClick:function(){return o("upload")}},"Upload document"))))),a.createElement("div",{className:"col-sm-12"},n&&a.createElement(De,null))))}));function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,O.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Le=function(){return!!e})()}var Oe=function(e){function t(e){var n,a,o,r;return(0,b.A)(this,t),a=this,o=t,r=[e],o=(0,C.A)(o),n=(0,D.A)(a,Le()?Reflect.construct(o,r||[],(0,C.A)(a).constructor):o.apply(a,r)),(0,O.A)(n,"newTask",(function(){s.RL.push("/taak/nieuw/contact-groep/".concat(n.props.id))})),(0,O.A)(n,"newDocument",(function(e){s.RL.push("/document/nieuw/".concat(e,"/contact-groep/").concat(n.props.id))})),n.state={toggleShowList:{tasks:!1,documents:!1}},n.toggleShowList=n.toggleShowList.bind(n),n}return(0,w.A)(t,e),(0,G.A)(t,[{key:"toggleShowList",value:function(e){this.setState(Ne(Ne({},this.state),{},{toggleShowList:Ne(Ne({},this.state.toggleShowList),{},(0,O.A)({},e,!this.state.toggleShowList[e]))}))}},{key:"render",value:function(){var e=this;return this.props.permissions,a.createElement("div",{className:"margin-10-top"},a.createElement(ye,{toggleShowList:function(){return e.toggleShowList("tasks")},showTasksList:this.state.toggleShowList.tasks,taskCount:this.props.contactGroupDetails.taskCount,newTask:this.newTask}),a.createElement(Ce,{toggleShowList:function(){return e.toggleShowList("documents")},showDocumentsList:this.state.toggleShowList.documents,newDocument:this.newDocument,documentCount:this.props.contactGroupDetails.documentCount}))}}])}(a.Component);const ke=(0,o.Ng)((function(e){return{contactGroupDetails:e.contactGroupDetails,permissions:e.meDetails.permissions}}))(Oe);var Te=n(87696);const Se=function(e){var t=e.composedGroup,n=t.id,o=t.name;return a.createElement("div",{className:"row border ".concat(e.highlightLine),onMouseEnter:function(){return e.onLineEnter()},onMouseLeave:function(){return e.onLineLeave()}},a.createElement("div",null,a.createElement("div",{className:"col-sm-11",onClick:function(){return s.RL.push("/contact-groep/".concat(n))}},o),a.createElement("div",{className:"col-sm-1"},e.showActionButtons?a.createElement("a",{role:"button",onClick:e.toggleDelete},a.createElement(ve.Ay,{className:"mybtn-danger",size:14,icon:Te.d})):"")))},je=(0,o.Ng)(null,(function(e){return{deleteComposedGroup:function(t,n){e((0,r.zz)(t,n))},fetchContactGroupDetails:function(t){e((0,r.ib)(t))}}}))((function(e){return a.createElement(p.A,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.closeDeleteItemModal,confirmAction:function(){return e.deleteComposedGroup(e.contactGroupId,e.composedGroup.id),e.fetchContactGroupDetails(e.contactGroupId),void e.closeDeleteItemModal()},title:"Verwijderen"},a.createElement("p",null,"Ontkoppel groep: ",a.createElement("strong",null," ","".concat(e.composedGroup.name)," ")))}));function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){(0,O.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xe=function(){return!!e})()}const Me=function(e){function t(e){var n,a,o,r;return(0,b.A)(this,t),a=this,o=t,r=[e],o=(0,C.A)(o),n=(0,D.A)(a,xe()?Reflect.construct(o,r||[],(0,C.A)(a).constructor):o.apply(a,r)),(0,O.A)(n,"onLineEnter",(function(){n.setState({showActionButtons:!0,highlightLine:"highlight-line"})})),(0,O.A)(n,"onLineLeave",(function(){n.setState({showActionButtons:!1,highlightLine:""})})),(0,O.A)(n,"toggleDelete",(function(){n.setState({showDelete:!n.state.showDelete})})),n.state={highlightLine:"",showActionButtons:!1,showDelete:!1,composedGroup:Pe({},e.composedGroup)},n}return(0,w.A)(t,e),(0,G.A)(t,[{key:"render",value:function(){return a.createElement("div",null,a.createElement(Se,{highlightLine:this.state.highlightLine,onLineEnter:this.onLineEnter,onLineLeave:this.onLineLeave,toggleDelete:this.toggleDelete,showActionButtons:this.state.showActionButtons,composedGroup:this.state.composedGroup}),this.state.showDelete&&a.createElement(je,{closeDeleteItemModal:this.toggleDelete,contactGroupId:this.props.contactGroupId,composedGroup:this.state.composedGroup}))}}])}(a.Component),Re=(0,o.Ng)((function(e){return{composedGroups:e.contactGroupDetails.composedGroups,contactGroupId:e.contactGroupDetails.id}}))((function(e){return a.createElement("div",null,a.createElement("div",{className:"row border header"},a.createElement("div",{className:"col-sm-12"},"Groep")),e.composedGroups.length>0?e.composedGroups.map((function(t){return a.createElement(Me,{key:t.id,composedGroup:t,contactGroupId:e.contactGroupId})})):a.createElement("div",null,"Geen samengestelde groepen bekend."))}));function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){(0,O.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Be=function(){return!!e})()}var Ue=function(e){function t(e){var n,a,o,r;return(0,b.A)(this,t),a=this,o=t,r=[e],o=(0,C.A)(o),n=(0,D.A)(a,Be()?Reflect.construct(o,r||[],(0,C.A)(a).constructor):o.apply(a,r)),(0,O.A)(n,"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,o=t.name;n.setState((0,O.A)({},o,a))})),(0,O.A)(n,"handleSubmit",(function(e){e.preventDefault();var t={},a=!1;T().isEmpty(n.state.contactGroupToAttachId)&&(t.contactGroupToAttachId=!0,a=!0),n.setState(ze(ze({},n.state),{},{errors:t})),a||(n.props.attachComposedGroup(n.props.contactGroupId,n.state.contactGroupToAttachId),n.props.fetchContactGroupDetails(n.props.contactGroupId),n.props.toggleAddGroup())})),n.state={contactGroups:[],contactGroupToAttachId:"",errors:{contactGroupToAttachId:!1}},n}return(0,w.A)(t,e),(0,G.A)(t,[{key:"componentDidMount",value:function(){var e=this;g.A.peekActiveContactGroups().then((function(t){e.setState({contactGroups:t})}))}},{key:"render",value:function(){var e=this.state.contactGroups;return this.props.composedGroups.map((function(t){L().remove(e,(function(e){return e.id===t.id}))})),a.createElement(p.A,{buttonConfirmText:"Toevoegen",closeModal:this.props.toggleAddGroup,confirmAction:this.handleSubmit,title:"Groep koppelen"},a.createElement("div",{className:"row"},a.createElement(R.A,{size:"col-md-12",label:"Groep",name:"contactGroupToAttachId",options:e,value:this.state.contactGroupToAttachId,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.contactGroupToAttachId})))}}])}(a.Component);const _e=(0,o.Ng)((function(e){return{composedGroups:e.contactGroupDetails.composedGroups}}),(function(e){return{attachComposedGroup:function(t,n){e((0,r.tl)(t,n))},fetchContactGroupDetails:function(t){e((0,r.ib)(t))}}}))(Ue),Ve=(0,o.Ng)(null,(function(e){return{deleteComposedExceptGroup:function(t,n){e((0,r.Kf)(t,n))},fetchContactGroupDetails:function(t){e((0,r.ib)(t))}}}))((function(e){return a.createElement(p.A,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.closeDeleteItemModal,confirmAction:function(){return e.deleteComposedExceptGroup(e.contactGroupId,e.composedExceptGroup.id),e.fetchContactGroupDetails(e.contactGroupId),void e.closeDeleteItemModal()},title:"Verwijder uit uitgezonderd"},a.createElement("p",null,"Ontkoppel groep: ",a.createElement("strong",null," ","".concat(e.composedExceptGroup.name)," ")))}));function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){(0,O.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(He=function(){return!!e})()}const Ke=function(e){function t(e){var n,a,o,r;return(0,b.A)(this,t),a=this,o=t,r=[e],o=(0,C.A)(o),n=(0,D.A)(a,He()?Reflect.construct(o,r||[],(0,C.A)(a).constructor):o.apply(a,r)),(0,O.A)(n,"onLineEnter",(function(){n.setState({showActionButtons:!0,highlightLine:"highlight-line"})})),(0,O.A)(n,"onLineLeave",(function(){n.setState({showActionButtons:!1,highlightLine:""})})),(0,O.A)(n,"toggleDelete",(function(){n.setState({showDelete:!n.state.showDelete})})),n.state={highlightLine:"",showActionButtons:!1,showDelete:!1,composedExceptGroup:We({},e.composedExceptGroup)},n}return(0,w.A)(t,e),(0,G.A)(t,[{key:"render",value:function(){return a.createElement("div",null,a.createElement(Se,{highlightLine:this.state.highlightLine,onLineEnter:this.onLineEnter,onLineLeave:this.onLineLeave,toggleDelete:this.toggleDelete,showActionButtons:this.state.showActionButtons,composedGroup:this.state.composedExceptGroup}),this.state.showDelete&&a.createElement(Ve,{closeDeleteItemModal:this.toggleDelete,contactGroupId:this.props.contactGroupId,composedExceptGroup:this.state.composedExceptGroup}))}}])}(a.Component),Ye=(0,o.Ng)((function(e){return{composedExceptGroups:e.contactGroupDetails.composedExceptGroups,contactGroupId:e.contactGroupDetails.id}}))((function(e){return a.createElement("div",null,a.createElement("div",{className:"row border header"},a.createElement("div",{className:"col-sm-12"},"Groep")),e.composedExceptGroups.length>0?e.composedExceptGroups.map((function(t){return a.createElement(Ke,{key:t.id,composedExceptGroup:t,contactGroupId:e.contactGroupId})})):a.createElement("div",null,"Geen uitgezonderde groepen bekend."))}));function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){(0,O.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Xe=function(){return!!e})()}var Qe=function(e){function t(e){var n,a,o,r;return(0,b.A)(this,t),a=this,o=t,r=[e],o=(0,C.A)(o),n=(0,D.A)(a,Xe()?Reflect.construct(o,r||[],(0,C.A)(a).constructor):o.apply(a,r)),(0,O.A)(n,"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,o=t.name;n.setState((0,O.A)({},o,a))})),(0,O.A)(n,"handleSubmit",(function(e){e.preventDefault();var t={},a=!1;T().isEmpty(n.state.contactGroupToAttachId)&&(t.contactGroupToAttachId=!0,a=!0),n.setState(Ze(Ze({},n.state),{},{errors:t})),a||(n.props.attachComposedExceptGroup(n.props.contactGroupId,n.state.contactGroupToAttachId),n.props.fetchContactGroupDetails(n.props.contactGroupId),n.props.toggleExceptGroup())})),n.state={contactGroups:[],contactGroupToAttachId:"",errors:{contactGroupToAttachId:!1}},n}return(0,w.A)(t,e),(0,G.A)(t,[{key:"componentDidMount",value:function(){var e=this;g.A.peekContactGroups().then((function(t){e.setState({contactGroups:t})}))}},{key:"render",value:function(){var e=this.state.contactGroups;return this.props.composedExceptGroups.map((function(t){L().remove(e,(function(e){return e.id===t.id}))})),a.createElement(p.A,{buttonConfirmText:"Uitzonderen",closeModal:this.props.toggleExceptGroup,confirmAction:this.handleSubmit,title:"Groep uitzonderen"},a.createElement("div",{className:"row"},a.createElement(R.A,{size:"col-md-12",label:"Groep",name:"contactGroupToAttachId",options:e,value:this.state.contactGroupToAttachId,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.contactGroupToAttachId})))}}])}(a.Component);const $e=(0,o.Ng)((function(e){return{composedExceptGroups:e.contactGroupDetails.composedExceptGroups}}),(function(e){return{attachComposedExceptGroup:function(t,n){e((0,r.OU)(t,n))},fetchContactGroupDetails:function(t){e((0,r.ib)(t))}}}))(Qe);function et(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(et=function(){return!!e})()}var tt=function(e){function t(e){var n,a,o,r;return(0,b.A)(this,t),a=this,o=t,r=[e],o=(0,C.A)(o),n=(0,D.A)(a,et()?Reflect.construct(o,r||[],(0,C.A)(a).constructor):o.apply(a,r)),(0,O.A)(n,"toggleAddGroup",(function(){n.setState({showAddGroup:!n.state.showAddGroup})})),(0,O.A)(n,"toggleExceptGroup",(function(){n.setState({showExceptGroup:!n.state.showExceptGroup})})),n.state={showAddGroup:!1,showExceptGroup:!1},n}return(0,w.A)(t,e),(0,G.A)(t,[{key:"render",value:function(){return a.createElement("div",null,a.createElement(i.A,null,a.createElement(oe.A,null,a.createElement("span",{className:"h5 text-bold"},"Samengesteld uit"),a.createElement("a",{role:"button",className:"pull-right",onClick:this.toggleAddGroup},a.createElement(ve.Ay,{size:14,icon:Ae.t}))),a.createElement(l.A,null,a.createElement("div",{className:"col-md-12"},a.createElement(Re,null))),this.state.showAddGroup&&a.createElement(_e,{toggleAddGroup:this.toggleAddGroup,contactGroupId:this.props.contactGroupId})),a.createElement(i.A,null,a.createElement(oe.A,null,a.createElement("span",{className:"h5 text-bold"},"Uitgezonderd in samenstelling"),a.createElement("a",{role:"button",className:"pull-right",onClick:this.toggleExceptGroup},a.createElement(ve.Ay,{size:14,icon:Ae.t}))),a.createElement(l.A,null,a.createElement("div",{className:"col-md-12"},a.createElement(Ye,null))),this.state.showExceptGroup&&a.createElement($e,{toggleExceptGroup:this.toggleExceptGroup,contactGroupId:this.props.contactGroupId})))}}])}(a.Component);const nt=(0,o.Ng)((function(e){return{contactGroupId:e.contactGroupDetails.id}}))(tt),at=(0,o.Ng)((function(e){return{userDetails:e.userDetails,contactGroupDetails:e.contactGroupDetails}}),(function(e){return{fetchContactGroupDetails:function(t){e((0,r.ib)(t))},clearContactGroupDetails:function(){e((0,r.vl)())}}}))((function(e){function t(t){e.clearContactGroupDetails(),e.fetchContactGroupDetails(t)}return(0,a.useEffect)((function(){t(e.params.id)}),[e.params.id]),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-9"},a.createElement("div",{className:"col-md-12"},a.createElement(y,{callFetchContactGroupDetails:function(){return t(e.params.id)}})),a.createElement("div",{className:"col-md-12"},a.createElement(Q,{mode:e.params.mode})),e.contactGroupDetails.type&&"dynamic"===e.contactGroupDetails.type.id&&a.createElement("div",{className:"col-md-12"},a.createElement(he,null)),e.contactGroupDetails.type&&"dynamic"===e.contactGroupDetails.type.id&&a.createElement("div",{className:"col-md-12"},a.createElement(ce,null)),e.contactGroupDetails.type&&"composed"===e.contactGroupDetails.type.id&&a.createElement("div",{className:"col-md-12"},a.createElement(nt,null))),a.createElement(i.A,{className:"col-md-3 harmonica"},a.createElement(l.A,null,a.createElement(ke,{id:e.params.id}))))}))}}]);