(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{1192:function(e,t,a){"use strict";var n=a(823),r=a.n(n),o=a(0);t.a=function(e){var t=Object(o.useState)(!1),a=r()(t,2),n=a[0],l=a[1];function c(t){t.key===e&&l(!0)}function i(t){t.key===e&&l(!1)}return Object(o.useEffect)((function(){return window.addEventListener("keydown",c),window.addEventListener("keyup",i),function(){window.removeEventListener("keydown",c),window.removeEventListener("keyup",i)}}),[]),n}},1583:function(e,t,a){"use strict";a.r(t);var n=a(236),r=a.n(n),o=a(13),l=a.n(o),c=a(6),i=a.n(c),s=a(823),u=a.n(s),m=a(0),d=a.n(m),p=a(7),f=a.n(p);var v=function(e){var t=e.createdAt,a=e.value,n=e.jobCategoryName;return d.a.createElement("tr",{className:"border"},d.a.createElement("td",null,f()(t).format("l LTS")),d.a.createElement("td",null,n),d.a.createElement("td",null,a))},g=a(11);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h=function(e,t,a){return g.a.get("jory/jobs-log",{params:{jory:y({fld:["id","value","userId","createdAt","updatedAt","jobCategoryId","jobCategoryName"],srt:t,flt:e},a),meta:["total"]}})},E=a(30),w=a(33),j=a(3),O=a(48);var C=function(e){var t=e.countTotal,a=e.reloadJobslogs;return d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-md-4"},d.a.createElement("div",{className:"btn-group",role:"group"},d.a.createElement(O.a,{iconName:"glyphicon-arrow-left",onClickAction:j.e.goBack}),d.a.createElement(O.a,{iconName:"glyphicon-refresh",onClickAction:a}))),d.a.createElement("div",{className:"col-md-4"},d.a.createElement("h3",{className:"text-center table-title"},"Processen logs")),d.a.createElement("div",{className:"col-md-4"},d.a.createElement("div",{className:"pull-right"},"Resultaten: ",t||0)))},N=a(132),k=a(182),S=a(181),D=a(846),P=a(238),A=a(850),x=[{code:"email",name:"Email"},{code:"participant",name:"Deelnemer rapportage"},{code:"revenue",name:"Opbrengst rapportage"},{code:"create-invoice",name:"Maken nota's"},{code:"create-payment-invoice",name:"Maken uitkeringsnota's"},{code:"sent-invoice",name:"Versturen nota"},{code:"sent-invoice-reminder",name:"Versturen herinnering nota"},{code:"create-financial-overview-project",name:"Aanmaken waardestaat project"},{code:"sent-financial-overview-contact",name:"Maken/versturen waardestaten email"},{code:"create-financial-overview-contact-post",name:"Maken waardestaten post"},{code:"sync-laposta",name:"Synchronisatie relatie in Laposta"}];var M=function(e){var t=e.filter,a=e.handleChangeFilter;return d.a.createElement("tr",{className:"thead-filter"},d.a.createElement(A.a,{value:t.createdAt?t.createdAt:null,onChangeAction:function(e){return a("createdAt",e?f()(e).format("YYYY-MM-DD"):null)}}),d.a.createElement("th",null,d.a.createElement("select",{className:"form-control input-sm",value:t.jobCategoryId,onChange:function(e){return a("jobCategoryId",e.target.value)}},d.a.createElement("option",null),x.map((function(e){return d.a.createElement("option",{key:e.code,value:e.code},e.name)})))),d.a.createElement("th",null,d.a.createElement("input",{type:"text",className:"form-control input-sm",value:t.value,onChange:function(e){return a("value",e.target.value)}})))},I=a(1192);function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _={createdAt:f()().format("YYYY-MM-DD"),value:"",jobCategoryId:null};t.default=function(){var e=Object(m.useState)([]),t=u()(e,2),a=t[0],n=t[1],o=Object(m.useState)(!0),c=u()(o,2),s=c[0],p=c[1],g=Object(m.useState)({total:0}),b=u()(g,2),y=b[0],j=b[1],O=Object(m.useState)(_),A=u()(O,2),x=A[0],Y=A[1],L=Object(m.useState)(["-createdAt","-id"]),T=u()(L,2),q=T[0],J=T[1],B=Object(m.useState)({offset:0,limit:20}),F=u()(B,2),V=F[0],W=F[1],z=Object(I.a)("Enter");function G(){p(!0),h(function(){var e={and:[]};x.createdAt&&e.and.push({field:"createdAt",operator:"like",data:"".concat(f()(x.createdAt).format("YYYY-MM-DD"),"%")});x.value&&e.and.push({field:"value",operator:"like",data:"%".concat(x.value,"%")});x.jobCategoryId&&e.and.push({field:"jobCategoryId",data:x.jobCategoryId});return e}(),q,V).then((function(e){n(e.data.data),j(e.data.meta),p(!1)})).catch((function(e){alert("Er is iets misgegaan met ophalen van de gegevens.")}))}function U(e,t){var a=q;3===a.length&&a.pop(),J("DESC"===t?["-".concat(e)].concat(l()(a)):[e].concat(l()(a)))}return Object(m.useEffect)((function(){G()}),[V.offset,q,x.createdAt,x.jobCategoryId]),Object(m.useEffect)((function(){z&&G()}),[z]),d.a.createElement(E.a,null,d.a.createElement(w.a,null,d.a.createElement(C,{countTotal:y.total,reloadJobslogs:function(){Y(_),G()}}),d.a.createElement("div",{className:"margin-10-top"},d.a.createElement(S.a,null,d.a.createElement(k.a,null,d.a.createElement("tr",{className:"thead-title"},d.a.createElement(D.a,{title:"Datum",width:"20%",setSorts:U,sortColumn:"createdAt"}),d.a.createElement(D.a,{title:"Categorie",width:"20%",setSorts:U,sortColumn:"jobCategoryId"}),d.a.createElement(D.a,{title:"Melding",width:"60%",setSorts:U,sortColumn:"value"})),d.a.createElement(M,{filter:x,handleChangeFilter:function(e,t){Y(R(R({},x),{},i()({},e,t)))}})),d.a.createElement(P.a,null,s?d.a.createElement("tr",null,d.a.createElement("td",{colSpan:3},"Bezig met gegevens laden")):a.length>0?a.map((function(e){return d.a.createElement(v,r()({key:e.id},e))})):d.a.createElement("tr",null,d.a.createElement("td",{colSpan:3},"Geen resultaten!")))),d.a.createElement("div",{className:"col-md-6 col-md-offset-3"},d.a.createElement(N.a,{onPageChangeAction:function(e){var t=Math.ceil(20*e.selected);W(R(R({},V),{},{offset:t}))},totalRecords:y.total,initialPage:0})))))}},823:function(e,t,a){var n=a(872),r=a(873),o=a(481),l=a(874);e.exports=function(e,t){return n(e)||r(e,t)||o(e,t)||l()},e.exports.default=e.exports,e.exports.__esModule=!0},846:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(5),l=a.n(o),c=function(e){var t=e.RowClassName,a=e.setSorts,n=e.sortColumn,o=e.title,l=e.width;return r.a.createElement("th",{className:t,width:l},o,r.a.createElement("span",{className:"glyphicon glyphicon-arrow-down pull-right small",role:"button",onClick:a.bind(void 0,n,"ASC")}),r.a.createElement("span",{className:"glyphicon glyphicon-arrow-up pull-right small",role:"button",onClick:a.bind(void 0,n,"DESC")}))};c.defaultProps={RowClassName:""},c.propTypes={setSorts:l.a.func.isRequired,sortColumn:l.a.string.isRequired,title:l.a.string.isRequired,width:l.a.string.isRequired,RowClassName:l.a.string},t.a=c},850:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(5),l=a.n(o),c=a(240),i=a.n(c),s=a(133),u=a.n(s),m=a(7),d=a.n(m);d.a.locale("nl");var p=function(e){var t=e.className,a=e.value,n=e.onChangeAction,o=e.placeholder,l=a?d()(a).format("L"):"";return r.a.createElement("th",{className:"DayPicker-overflow ".concat(t)},r.a.createElement(i.a,{value:l,onDayChange:n,formatDate:s.formatDate,parseDate:s.parseDate,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:u.a},inputProps:{className:"form-control input-sm",placeholder:o},placeholder:""}))};p.defaultProps={className:"",value:null,placeholder:""},p.propTypes={className:l.a.string,value:l.a.oneOfType([l.a.string,l.a.object]),onChangeAction:l.a.func,placeholder:l.a.string},t.a=p},872:function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},873:function(e,t){e.exports=function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,o=[],l=!0,c=!1;try{for(a=a.call(e);!(l=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{l||null==a.return||a.return()}finally{if(c)throw r}}return o}},e.exports.default=e.exports,e.exports.__esModule=!0},874:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0}}]);