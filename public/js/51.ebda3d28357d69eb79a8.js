(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{1184:function(e,t,a){"use strict";var n=a(815),r=a.n(n),o=a(0);t.a=function(e){var t=Object(o.useState)(!1),a=r()(t,2),n=a[0],c=a[1];function l(t){t.key===e&&c(!0)}function i(t){t.key===e&&c(!1)}return Object(o.useEffect)((function(){return window.addEventListener("keydown",l),window.addEventListener("keyup",i),function(){window.removeEventListener("keydown",l),window.removeEventListener("keyup",i)}}),[]),n}},1572:function(e,t,a){"use strict";a.r(t);var n=a(234),r=a.n(n),o=a(13),c=a.n(o),l=a(5),i=a.n(l),s=a(815),u=a.n(s),m=a(0),d=a.n(m),f=a(7),p=a.n(f);var v=function(e){var t=e.createdAt,a=e.value,n=e.jobCategoryName;return d.a.createElement("tr",{className:"border"},d.a.createElement("td",null,p()(t).format("l LTS")),d.a.createElement("td",null,n),d.a.createElement("td",null,a))},g=a(11);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h=function(e,t,a){return g.a.get("jory/jobs-log",{params:{jory:y({fld:["id","value","userId","createdAt","updatedAt","jobCategoryId","jobCategoryName"],srt:t,flt:e},a),meta:["total"]}})},E=a(30),w=a(32),j=a(3),O=a(48);var C=function(e){var t=e.countTotal,a=e.reloadJobslogs;return d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-md-4"},d.a.createElement("div",{className:"btn-group",role:"group"},d.a.createElement(O.a,{iconName:"glyphicon-arrow-left",onClickAction:j.e.goBack}),d.a.createElement(O.a,{iconName:"glyphicon-refresh",onClickAction:a}))),d.a.createElement("div",{className:"col-md-4"},d.a.createElement("h3",{className:"text-center table-title"},"Processen logs")),d.a.createElement("div",{className:"col-md-4"},d.a.createElement("div",{className:"pull-right"},"Resultaten: ",t||0)))},N=a(132),k=a(180),S=a(179),D=a(838),P=a(236),A=a(842),I=[{code:"email",name:"Email"},{code:"participant",name:"Deelnemer rapportage"},{code:"revenue",name:"Opbrengst rapportage"},{code:"create-invoice",name:"Maken nota's"},{code:"create-payment-invoice",name:"Maken uitkeringsnota's"},{code:"sent-invoice",name:"Versturen nota"},{code:"sent-invoice-reminder",name:"Versturen herinnering nota"},{code:"create-financial-overview-project",name:"Aanmaken waardestaat project"},{code:"sent-financial-overview-contact",name:"Maken/versturen waardestaten email"},{code:"create-financial-overview-contact-post",name:"Maken waardestaten post"},{code:"sync-laposta",name:"Synchronisatie relatie in Laposta"}];var M=function(e){var t=e.filter,a=e.handleChangeFilter;return d.a.createElement("tr",{className:"thead-filter"},d.a.createElement(A.a,{value:t.createdAt?t.createdAt:null,onChangeAction:function(e){return a("createdAt",e?p()(e).format("YYYY-MM-DD"):null)}}),d.a.createElement("th",null,d.a.createElement("select",{className:"form-control input-sm",value:t.jobCategoryId,onChange:function(e){return a("jobCategoryId",e.target.value)}},d.a.createElement("option",null),I.map((function(e){return d.a.createElement("option",{key:e.code,value:e.code},e.name)})))),d.a.createElement("th",null,d.a.createElement("input",{type:"text",className:"form-control input-sm",value:t.value,onChange:function(e){return a("value",e.target.value)}})))},Y=a(1184);function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var L={createdAt:p()().format("YYYY-MM-DD"),value:"",jobCategoryId:null};t.default=function(){var e=Object(m.useState)([]),t=u()(e,2),a=t[0],n=t[1],o=Object(m.useState)(!0),l=u()(o,2),s=l[0],f=l[1],g=Object(m.useState)({total:0}),b=u()(g,2),y=b[0],j=b[1],O=Object(m.useState)(L),A=u()(O,2),I=A[0],R=A[1],T=Object(m.useState)(["-createdAt","-id"]),q=u()(T,2),J=q[0],B=q[1],F=Object(m.useState)({offset:0,limit:20}),V=u()(F,2),W=V[0],z=V[1],G=Object(Y.a)("Enter");function U(){f(!0),h(function(){var e={and:[]};I.createdAt&&e.and.push({field:"createdAt",operator:"like",data:"".concat(p()(I.createdAt).format("YYYY-MM-DD"),"%")});I.value&&e.and.push({field:"value",operator:"like",data:"%".concat(I.value,"%")});I.jobCategoryId&&e.and.push({field:"jobCategoryId",data:I.jobCategoryId});return e}(),J,W).then((function(e){n(e.data.data),j(e.data.meta),f(!1)})).catch((function(e){alert("Er is iets misgegaan met ophalen van de gegevens.")}))}function H(e,t){var a=J;3===a.length&&a.pop(),B("DESC"===t?["-".concat(e)].concat(c()(a)):[e].concat(c()(a)))}return Object(m.useEffect)((function(){U()}),[W.offset,J,I.createdAt,I.jobCategoryId]),Object(m.useEffect)((function(){G&&U()}),[G]),d.a.createElement(E.a,null,d.a.createElement(w.a,null,d.a.createElement(C,{countTotal:y.total,reloadJobslogs:function(){R(L),U()}}),d.a.createElement("div",{className:"margin-10-top"},d.a.createElement(S.a,null,d.a.createElement(k.a,null,d.a.createElement("tr",{className:"thead-title"},d.a.createElement(D.a,{title:"Datum",width:"20%",setSorts:H,sortColumn:"createdAt"}),d.a.createElement(D.a,{title:"Categorie",width:"20%",setSorts:H,sortColumn:"jobCategoryId"}),d.a.createElement(D.a,{title:"Melding",width:"60%",setSorts:H,sortColumn:"value"})),d.a.createElement(M,{filter:I,handleChangeFilter:function(e,t){R(x(x({},I),{},i()({},e,t)))}})),d.a.createElement(P.a,null,s?d.a.createElement("tr",null,d.a.createElement("td",{colSpan:3},"Bezig met gegevens laden")):a.length>0?a.map((function(e){return d.a.createElement(v,r()({key:e.id},e))})):d.a.createElement("tr",null,d.a.createElement("td",{colSpan:3},"Geen resultaten!")))),d.a.createElement("div",{className:"col-md-6 col-md-offset-3"},d.a.createElement(N.a,{onPageChangeAction:function(e){var t=Math.ceil(20*e.selected);z(x(x({},W),{},{offset:t}))},totalRecords:y.total,initialPage:0})))))}},815:function(e,t,a){var n=a(865),r=a(866),o=a(473),c=a(867);e.exports=function(e,t){return n(e)||r(e,t)||o(e,t)||c()}},838:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(6),c=a.n(o),l=function(e){var t=e.RowClassName,a=e.setSorts,n=e.sortColumn,o=e.title,c=e.width;return r.a.createElement("th",{className:t,width:c},o,r.a.createElement("span",{className:"glyphicon glyphicon-arrow-down pull-right small",role:"button",onClick:a.bind(void 0,n,"ASC")}),r.a.createElement("span",{className:"glyphicon glyphicon-arrow-up pull-right small",role:"button",onClick:a.bind(void 0,n,"DESC")}))};l.defaultProps={RowClassName:""},l.propTypes={setSorts:c.a.func.isRequired,sortColumn:c.a.string.isRequired,title:c.a.string.isRequired,width:c.a.string.isRequired,RowClassName:c.a.string},t.a=l},842:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(6),c=a.n(o),l=a(238),i=a.n(l),s=a(133),u=a.n(s),m=a(7),d=a.n(m);d.a.locale("nl");var f=function(e){var t=e.className,a=e.value,n=e.onChangeAction,o=e.placeholder,c=a?d()(a).format("L"):"";return r.a.createElement("th",{className:"DayPicker-overflow ".concat(t)},r.a.createElement(i.a,{value:c,onDayChange:n,formatDate:s.formatDate,parseDate:s.parseDate,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:u.a},inputProps:{className:"form-control input-sm",placeholder:o},placeholder:""}))};f.defaultProps={className:"",value:null,placeholder:""},f.propTypes={className:c.a.string,value:c.a.oneOfType([c.a.string,c.a.object]),onChangeAction:c.a.func,placeholder:c.a.string},t.a=f},865:function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},866:function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(n=(c=l.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw o}}return a}}},867:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}}}]);