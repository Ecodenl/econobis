"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[5218],{8617:(e,t,r)=>{r.d(t,{A:()=>s}),r(62010),r(50778);var a=r(96540),l=r(84976),n=r(5556),i=r.n(n),o=r(41904),c=r(26819),d=function(e){var t=e.label,r=e.id,n=e.value,i=e.link,d=e.hidden,s=e.name,u=e.textToolTip;return i.length>0?a.createElement("div",{className:"form-group col-sm-12",style:d?{display:"none"}:{}},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-3"},a.createElement("label",{htmlFor:r,className:"col-sm-12"},t)),a.createElement("div",{className:"col-sm-6",id:r,onClick:null},a.createElement(l.N_,{to:i,className:"link-underline"},n)," ",u&&a.createElement("span",null,a.createElement(o.__w,{color:"blue",size:"15px","data-tip":u,"data-for":"tooltip-".concat(s)}),a.createElement(c.A,{id:"tooltip-".concat(s),effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"}))))):a.createElement("div",{className:"form-group col-sm-12",style:d?{display:"none"}:{}},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-3"},a.createElement("label",{htmlFor:r,className:"col-sm-12"},t)),a.createElement("div",{className:"col-sm-6",id:r},n," ",u&&a.createElement("span",null,a.createElement(o.__w,{color:"blue",size:"15px","data-tip":u,"data-for":"tooltip-".concat(s)}),a.createElement(c.A,{id:"tooltip-".concat(s),effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"})))))};d.defaultProps={label:"",value:"",name:"",textToolTip:"",link:"",hidden:!1},d.propTypes={label:i().oneOfType([i().string,i().object]).isRequired,id:i().string,name:i().string,textToolTip:i().string,value:i().oneOfType([i().string,i().number]),link:i().string,hidden:i().bool};const s=d},16888:(e,t,r)=>{r.d(t,{A:()=>b});var a=r(5544),l=(r(28706),r(23288),r(62010),r(96540)),n=r(5556),i=r.n(n),o=r(60801),c=r.n(o),d=r(95093),s=r.n(d),u=r(76508),m=r(60119),f=(r(92572),r(41904)),p=r(26819),v=function(e){var t=e.className,r=e.divSize,n=e.sizeDate,i=e.sizeTime,o=e.label,d=e.id,v=e.name,b=e.value,g=e.onChangeActionDate,h=e.onChangeActionTime,E=e.readOnly,A=e.required,F=e.start,y=e.end,R=e.step,D=e.textToolTip,N=e.error,V=e.errorMessage,k=e.disabledBefore,x=e.disabledAfter,T=e.nullable,w=e.nullableLabel,O=(0,l.useState)(!1),Y=(0,a.A)(O,2),M=Y[0],C=Y[1],S=(0,l.useState)(!1),_=(0,a.A)(S,2),q=_[0],z=_[1],j=(0,l.useRef)(null),H=(0,l.useRef)(null);s().locale("nl");var I=(0,l.useState)("00:00"==b),B=(0,a.A)(I,2),P=B[0],L=B[1],J={};k&&(J.before=new Date(k)),x&&(J.after=new Date(x));var $=b?s()(b).format("DD-MM-YYYY"):"",Z=b?s()(b).format("HH:mm"):"";(0,l.useEffect)(function(){var e=function(e){if(q){var t=H.current,r=j.current;t&&!t.contains(e.target)&&r&&!r.contains(e.target)&&z(!1)}};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}},[q]);var W=function(){E||z(!0)};return l.createElement("div",{className:"form-group ".concat(r)},l.createElement("label",{htmlFor:d,className:"col-sm-6 ".concat(A)},o),l.createElement("div",{className:n,style:{position:"relative"}},l.createElement("input",{ref:j,id:d,name:v,type:"text",className:"form-control input-sm ".concat(t).concat(M||N?" has-error":""),placeholder:"",defaultValue:$,onFocus:W,onClick:W,onBlur:function(e){!function(e){var t=e.target.value,r=s()(t,"DD-MM-YYYY",!0),a=!1;r.isValid()||""===t||(a=!0),a||""===t||(k&&r.isBefore(k)&&(a=!0),x&&r.isAfter(x)&&(a=!0)),C(a)}(e);var t=e.target.value,r=s()(t,"DD-MM-YYYY",!0);if(r.isValid()){var a=!1;k&&r.isBefore(k)&&(a=!0),x&&r.isAfter(x)&&(a=!0),a||g&&g(r.format("Y-MM-DD"),v)}},autoComplete:"off",readOnly:E,disabled:E,required:!!A}),q&&l.createElement("div",{ref:H,style:{position:"absolute",zIndex:1e3,background:"#fff",boxShadow:"0 6px 24px rgba(0,0,0,.2)",borderRadius:8,marginTop:6}},l.createElement(u.h,{mode:"single",locale:m.nl,showWeekNumber:!0,selected:$?s()($,"DD-MM-YYYY").toDate():void 0,onSelect:function(e){if(e){var t=s()(e),r=!1;k&&t.isBefore(k)&&(r=!0),x&&t.isAfter(x)&&(r=!0),r?C(!0):(g&&g(t.format("Y-MM-DD"),v),j.current&&(j.current.value=t.format("DD-MM-YYYY")),C(!1),z(!1))}else C(!1)},disabled:J}))),l.createElement("div",{className:i},T&&l.createElement("label",{style:{display:"block",marginBottom:6}},l.createElement("input",{type:"checkbox",name:"nullableChecked",checked:P,onChange:function(e){var t=e.target.checked;L(t),h&&h(t?"00:00":"08:00",v)},title:P?"Vink uit: tijdstip zetten":"Vink aan: tijdstip onbekend"})," ",w),P?l.createElement("span",null,"Onbekend"):E?l.createElement("input",{name:v,value:Z,className:"form-control input-sm",readOnly:!0,disabled:!0}):l.createElement(c(),{name:v,value:Z,onChange:function(e){var t=s()("1900-01-01 00:00:00").add(e,"seconds").format("HH:mm");h&&h(t,v)},start:F,end:y,step:R,format:24,className:"input-sm"})),l.createElement("div",{className:"col-sm-1"},D&&l.createElement(l.Fragment,null,l.createElement(f.__w,{color:"blue",size:"15px","data-tip":D,"data-for":"tooltip-".concat(v)}),l.createElement(p.A,{id:"tooltip-".concat(v),effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"}))),(N||M)&&l.createElement("div",{className:"col-sm-offset-6 col-sm-6"},l.createElement("span",{className:"has-error-message"}," ",N?V:"Ongeldige datum of buiten toegestane range.")))};v.defaultProps={className:"",divSize:"col-sm-6",sizeDate:"col-sm-3",sizeTime:"col-sm-2",required:"",readOnly:!1,value:null,name:"",textToolTip:"",error:!1,errorMessage:"",disabledBefore:null,disabledAfter:null,start:"08:00",end:"23:00",step:15,nullable:!1,nullableLabel:"",nullableChecked:!1},v.propTypes={label:i().string.isRequired,className:i().string,divSize:i().string,sizeDate:i().string,sizeTime:i().string,id:i().string,name:i().string.isRequired,value:i().oneOfType([i().string]),onChangeActionDate:i().func,onChangeActionTime:i().func,start:i().string,end:i().string,step:i().number,readOnly:i().bool,textToolTip:i().string,error:i().bool,errorMessage:i().string,disabledBefore:i().string,disabledAfter:i().string,nullable:i().bool,nullableLabel:i().string,nullableChecked:i().bool};const b=v},23932:(e,t,r)=>{r.d(t,{A:()=>n}),r(28706),r(60739);var a=r(61941),l=r(61643);const n={fetchFreeFieldsFields:function(e,t,r){var n="".concat((0,l.e)(),"/api/free-fields-field/grid");return(0,a.A)().get(n,{params:{filters:JSON.stringify(e),sorts:JSON.stringify(t),limit:r.limit,offset:r.offset}})},deleteFreeFieldsField:function(e){var t="".concat((0,l.e)(),"/api/free-fields-field/").concat(e,"/delete");return(0,a.A)().post(t)},newFreeFieldsField:function(e){var t="".concat((0,l.e)(),"/api/free-fields-field");return(0,a.A)().post(t,e).then(function(e){return e.data}).catch(function(e){console.log(e)})},fetchFreeFieldDetails:function(e){var t="".concat((0,l.e)(),"/api/free-fields-field/").concat(e);return(0,a.A)().get(t).then(function(e){return e.data.data})},updateFreeFieldsField:function(e){return(0,a.A)().post("".concat((0,l.e)(),"/api/free-fields-field/").concat(e.id,"/update"),e)},fetchFilterFreeFieldsFieldsContact:function(){var e="".concat((0,l.e)(),"/api/free-fields-field/get-for-filter/contacts");return(0,a.A)().get(e)},fetchFilterFreeFieldsFieldsAddress:function(){var e="".concat((0,l.e)(),"/api/free-fields-field/get-for-filter/addresses");return(0,a.A)().get(e)},peekFreeFieldsTables:function(){var e="".concat((0,l.e)(),"/api/free-fields-field/free-fields-tables/peek");return(0,a.A)().get(e)},peekFreeFieldsFieldFormats:function(){var e="".concat((0,l.e)(),"/api/free-fields-field/free-fields-field-formats/peek");return(0,a.A)().get(e)},fetchFreeFieldsFieldRecords:function(e,t){var r="".concat((0,l.e)(),"/api/free-fields-field-records/get-values");return(0,a.A)().get(r,{params:{table:e,recordId:t}}).then(function(e){return e.data})},updateFreeFieldsFieldRecords:function(e,t){var r="".concat((0,l.e)(),"/api/free-fields-field-records/update-values");return(0,a.A)().post(r,{data:{records:e,recordId:t}})}}},38781:(e,t,r)=>{var a=r(10350).PROPER,l=r(36840),n=r(28551),i=r(655),o=r(79039),c=r(61034),d="toString",s=RegExp.prototype,u=s[d],m=o(function(){return"/a/b"!==u.call({source:"a",flags:"b"})}),f=a&&u.name!==d;(m||f)&&l(s,d,function(){var e=n(this);return"/"+i(e.source)+"/"+i(c(e))},{unsafe:!0})},71761:(e,t,r)=>{var a=r(69565),l=r(79504),n=r(89228),i=r(28551),o=r(20034),c=r(18014),d=r(655),s=r(67750),u=r(55966),m=r(57829),f=r(61034),p=r(56682),v=l("".indexOf);n("match",function(e,t,r){return[function(t){var r=s(this),l=o(t)?u(t,e):void 0;return l?a(l,t,r):new RegExp(t)[e](d(r))},function(e){var a=i(this),l=d(e),n=r(t,a,l);if(n.done)return n.value;var o=d(f(a));if(-1===v(o,"g"))return p(a,l);var s=-1!==v(o,"u");a.lastIndex=0;for(var u,b=[],g=0;null!==(u=p(a,l));){var h=d(u[0]);b[g]=h,""===h&&(a.lastIndex=m(l,c(a.lastIndex),s)),g++}return 0===g?null:b}]})},95218:(e,t,r)=>{r.d(t,{A:()=>x});var a=r(5544),l=r(96540),n=(r(62062),r(9868),r(26099),r(78459),r(30483)),i=r(95093),o=r.n(i),c=r(60123),d=r(8617);const s=function(e){var t=e.freeFieldsFieldRecords,r=e.switchToEdit;return l.createElement("div",{className:"panel-body",onClick:r},l.createElement("div",{className:"row"},t.map(function(e){switch(e.fieldFormatType){case"boolean":return l.createElement(n.A,{label:e.fieldName,value:Boolean(e.fieldRecordValueBoolean)?"Ja":"Nee"});case"text_short":return l.createElement(n.A,{label:e.fieldName,value:e.fieldRecordValueText?e.fieldRecordValueText:""});case"text_long":return l.createElement(d.A,{label:e.fieldName,value:e.fieldRecordValueText?e.fieldRecordValueText:""});case"int":return l.createElement(n.A,{label:e.fieldName,value:e.fieldRecordValueInt?e.fieldRecordValueInt:""});case"double_2_dec":return l.createElement(n.A,{label:e.fieldName,value:e.fieldRecordValueDouble?parseFloat(e.fieldRecordValueDouble).toFixed(2):""});case"amount_euro":return l.createElement(n.A,{label:e.fieldName,value:e.fieldRecordValueDouble?(0,c.A)(e.fieldRecordValueDouble):""});case"date":return l.createElement(n.A,{label:e.fieldName,value:e.fieldRecordValueDatetime?o()(e.fieldRecordValueDatetime).format("L"):""});case"datetime":var t=o()(e.fieldRecordValueDatetime).format("HH:mm"),r=e.fieldRecordValueDatetime?"00:00"===t?o()(e.fieldRecordValueDatetime).format("L")+" (onbekend)":o()(e.fieldRecordValueDatetime).format("L HH:mm"):"";return l.createElement(n.A,{label:e.fieldName,value:r})}})))};var u=r(10467),m=r(64467),f=r(54756),p=r.n(f),v=(r(52675),r(2008),r(50113),r(51629),r(62010),r(67945),r(84185),r(83851),r(81278),r(79432),r(23500),r(54814)),b=r(77465),g=r(55956),h=r(73421),E=r(33579),A=r(23932),F=r(16888),y=r(96643),R=r(57761),D=r.n(R);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach(function(t){(0,m.A)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const k=function(e){var t=e.freeFieldsFieldRecords,r=e.setFreeFieldsFieldRecords,n=e.switchToView,i=e.recordId,c=e.fetchFreeFieldsFieldRecords,d=(0,l.useState)({name:!1,type:!1}),s=(0,a.A)(d,2),f=s[0],R=s[1],N=(0,l.useState)({name:!1,type:!1}),k=(0,a.A)(N,2),x=k[0],T=k[1];function w(e){var t=e.target;q("checkbox"===t.type?t.checked:t.value,t.name,"fieldRecordValueBoolean")}function O(e){var t=e.target;q(t.value,t.name,"fieldRecordValueText")}function Y(e){var t=e.target;q(t.value,t.name,"fieldRecordValueInt")}function M(e){var t=e.target;q(t.value,t.name,"fieldRecordValueDouble")}function C(e,t){q(e,t,"fieldRecordValueDatetime")}function S(e,r){var a=t.find(function(e){return"record-"+e.id===r}),l=e||"",n="08:00";a.fieldRecordValueDatetime&&(n=o()(a.fieldRecordValueDatetime).format("HH:mm"));var i="";D().isEmpty(l)||(i=o()(l+" "+n+":00").format("YYYY-MM-DD HH:mm:ss")),q(i,r,"fieldRecordValueDatetime")}function _(e,r){var a=t.find(function(e){return"record-"+e.id===r}),l="",n=e||"08:00";a.fieldRecordValueDatetime&&(l=o()(a.fieldRecordValueDatetime).format("Y-MM-DD"));var i="";D().isEmpty(l)||(i=o()(l+" "+n+":00").format("YYYY-MM-DD HH:mm:ss")),q(i,r,"fieldRecordValueDatetime")}function q(e,a,l){r(t.map(function(t){return"record-"+t.id===a?V(V({},t),{},(0,m.A)({},l,e)):V({},t)}))}function z(){return z=(0,u.A)(p().mark(function e(r){var a,l,o,d;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),a=!1,l={},o={},t.map(function(e){var t=(0,y.m)(e);t&&(l["record"+e.id]=t,o["record"+e.id]=!0,a=!0)}),R(o),T(l),a){e.next=4;break}return e.prev=1,e.next=2,A.A.updateFreeFieldsFieldRecords(t,i);case 2:c(),n(),e.next=4;break;case 3:e.prev=3,d=e.catch(1),console.log(d),alert("Er is iets misgegaan met het opslaan van de gegevens!");case 4:case"end":return e.stop()}},e,null,[[1,3]])})),z.apply(this,arguments)}return l.createElement("div",{className:"panel-body "},l.createElement("form",{className:"form-horizontal col-md-12",onSubmit:function(e){return z.apply(this,arguments)}},l.createElement("div",{className:"row"},t&&t.length>0&&t.map(function(e){switch(e.fieldFormatType){case"boolean":return l.createElement(b.A,{label:e.fieldName,name:"record-"+e.id,value:e.fieldRecordValueBoolean,onChangeAction:w,required:e.mandatory?"required":"",error:f["record"+e.id],errorMessage:x["record"+e.id]});case"text_short":return l.createElement(v.A,{label:e.fieldName,name:"record-"+e.id,value:e.fieldRecordValueText,onChangeAction:O,type:"text",required:e.mandatory?"required":"",error:f["record"+e.id],errorMessage:x["record"+e.id]});case"text_long":return l.createElement(E.A,{label:e.fieldName,name:"record-"+e.id,value:e.fieldRecordValueText,onChangeAction:O,required:e.mandatory?"required":"",error:f["record"+e.id],errorMessage:x["record"+e.id]});case"int":return l.createElement(v.A,{label:e.fieldName,name:"record-"+e.id,value:e.fieldRecordValueInt,onChangeAction:Y,type:"number",required:e.mandatory?"required":"",error:f["record"+e.id],errorMessage:x["record"+e.id]});case"double_2_dec":case"amount_euro":return l.createElement(v.A,{label:e.fieldName,name:"record-"+e.id,value:e.fieldRecordValueDouble,onChangeAction:M,type:"number",required:e.mandatory?"required":"",error:f["record"+e.id],errorMessage:x["record"+e.id]});case"date":return l.createElement(h.A,{label:e.fieldName,name:"record-"+e.id,value:e.fieldRecordValueDatetime,onChangeAction:C,required:e.mandatory?"required":"",error:f["record"+e.id],errorMessage:x["record"+e.id]});case"datetime":return l.createElement(F.A,{label:e.fieldName,name:"record-"+e.id,value:e.fieldRecordValueDatetime,onChangeActionDate:S,onChangeActionTime:_,required:e.mandatory?"required":"",error:f["record"+e.id],errorMessage:x["record"+e.id],nullable:!0})}})),l.createElement("div",{className:"panel-footer"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-sm-12"},l.createElement("div",{className:"pull-right btn-group",role:"group"},l.createElement(g.A,{buttonClassName:"btn-default",buttonText:"Sluiten",onClickAction:function(){c(),n()}}),l.createElement(g.A,{buttonText:"Opslaan",type:"submit",value:"Submit"})))))))},x=function(e){var t=e.table,r=e.recordId,n=e.initialShowEdit,i=void 0!==n&&n,o=(0,l.useState)(!1),c=(0,a.A)(o,2),d=c[0],u=c[1],m=(0,l.useState)(i),f=(0,a.A)(m,2),p=f[0],v=f[1],b=(0,l.useState)({}),g=(0,a.A)(b,2),h=g[0],E=g[1];(0,l.useEffect)(function(){F()},[]);var F=function(){u(!0),A.A.fetchFreeFieldsFieldRecords(t,r).then(function(e){E(e),u(!1)}).catch(function(e){u(!1),console.log(e),alert("Er is iets misgegaan met ophalen van de gegevens.")})};return d?null:h.length>0?l.createElement("div",{className:"panel panel-default "},l.createElement("div",{className:"panel-heading"},l.createElement("span",{className:"h5 text-bold"},"Vrije velden")),p?l.createElement(k,{freeFieldsFieldRecords:h,setFreeFieldsFieldRecords:E,switchToView:function(){v(!1)},recordId:r,fetchFreeFieldsFieldRecords:F}):l.createElement(s,{freeFieldsFieldRecords:h,switchToEdit:function(){v(!0)}})):null}},96643:(e,t,r)=>{r.d(t,{m:()=>n}),r(74423),r(23288),r(26099),r(27495),r(38781),r(21699),r(71761);var a=r(57761),l=r.n(a);function n(e){var t=null;switch(e.fieldFormatType){case"defaultValue":t=e.defaultValue;break;case"boolean":t=e.fieldRecordValueBoolean;break;case"text_short":case"text_long":t=e.fieldRecordValueText;break;case"int":t=e.fieldRecordValueInt;break;case"double_2_dec":case"amount_euro":t=e.fieldRecordValueDouble;break;case"date":case"datetime":t=e.fieldRecordValueDatetime}return 1!=e.mandatory||null!=t&&!l().isEmpty(t+"")?!function(e,t){if(null!=e&&!l().isEmpty(""+e)&&null!=t&&!l().isEmpty(""+t)){var r=e.toString(),a=t.split(""),n=r.split(""),i=0;if(!t.includes("?")&&t.length!=r.length)return!1;for(i in a)switch(a[i]){case"9":if(!n[i]||!n[i].match(/^[0-9]$/))return!1;break;case"a":if(!n[i]||!n[i].match(/^[a-zA-Z]$/))return!1;break;case"x":if(!n[i]||!n[i].match(/^[a-zA-Z0-9]$/))return!1;break;default:if(n[i]!=a[i])return!1}}return!0}(t,e.mask,e.mandatory)&&"voldoet niet aan het masker: "+e.mask:"verplicht"}}}]);