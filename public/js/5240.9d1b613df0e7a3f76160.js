"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[5240],{5240:(e,t,a)=>{a.r(t),a.d(t,{default:()=>T}),a(60825);var n=a(23029),r=a(92901),i=a(56822),c=a(53954),o=a(85501),l=a(64467),s=a(58168),u=(a(52675),a(89463),a(62010),a(96540)),v=a(62493),m=a(55849),d=(a(76031),a(47767)),f=a(91858),p=a(23138),h=a(5556),A=a(22663),E=a(5419),w=a.n(E),j=a(95093),O=a.n(j);function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}var D=function(e){function t(e){var a,r,o,s;return(0,n.A)(this,t),r=this,o=t,s=[e],o=(0,c.A)(o),a=(0,i.A)(r,y()?Reflect.construct(o,s||[],(0,c.A)(r).constructor):o.apply(r,s)),(0,l.A)(a,"getCSV",(function(){(0,p.o)(),setTimeout((function(){A.A.getCSV(a.props.id).then((function(e){w()(e.data,"Waardestaat-"+(a.props.projectName.length>60?a.props.projectName.substring(0,60):a.props.projectName)+"-"+O()().format("YYYY-MM-DD HH:mm:ss")+".csv"),(0,p.r)()})).catch((function(e){(0,p.r)()}))}),100)})),a}return(0,o.A)(t,e),(0,r.A)(t,[{key:"render",value:function(){var e=this.props,t=e.financialOverviewDescription,a=e.navigate;return u.createElement("div",{className:"row"},u.createElement("div",{className:"col-md-4"},u.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},u.createElement(f.A,{iconName:"arrowLeft",onClickAction:function(){return a(-1)}}),u.createElement(f.A,{iconName:"download",onClickAction:this.getCSV}))),u.createElement("div",{className:"col-md-4"},u.createElement("h4",{className:"text-center"},"Waardestaat: ",t)),u.createElement("div",{className:"col-md-4"}))}}])}(u.Component);D.propTypes={financialOverviewDescription:h.any};const g=function(e){var t=(0,d.Zp)();return u.createElement(D,(0,s.A)({},e,{navigate:t}))};var P=a(2543),N=a(69733),V=a(30483),b=a(60123);const S=function(e){return u.createElement("div",null,u.createElement(v.A,null,u.createElement(m.A,null,u.createElement("div",{className:"row"},u.createElement(V.A,{label:"Project",value:e.project.name})),u.createElement("div",{className:"row"},u.createElement(V.A,{label:"Aantal deelnemers",value:e.numberOfParticipantProjects})),e.financialOverview.usesInterimFinancialOverviews?u.createElement("div",{className:"row"},u.createElement(V.A,{label:"Aantal contacten reeds verwerkt",value:e.numberOfFinancialOverviewContactsSend})):null,(null!==e.totalQuantityStartValue||null!==e.totalQuantityEndValue)&&u.createElement("div",{className:"row"},u.createElement(V.A,{label:"Totaal aantal deelnames per "+O()(e.startDate).format("DD-MM-Y"),value:e.totalQuantityStartValue}),u.createElement(V.A,{label:"Totaal aantal deelnames per "+O()(e.endDate).format("DD-MM-Y"),value:e.totalQuantityEndValue})),(null!==e.bookworthStartValue||null!==e.bookworthEndValue)&&u.createElement("div",{className:"row"},u.createElement(V.A,{label:"Waarde per "+O()(e.startDate).format("DD-MM-Y"),value:(0,b.A)(e.bookworthStartValue)}),u.createElement(V.A,{label:"Waarde per "+O()(e.endDate).format("DD-MM-Y"),value:(0,b.A)(e.bookworthEndValue)})),(null!==e.totalAmountStartValue||null!==e.totalAmountEndValue)&&u.createElement("div",{className:"row"},u.createElement(V.A,{label:"Totaal waarde per "+O()(e.startDate).format("DD-MM-Y"),value:(0,b.A)(e.totalAmountStartValue)}),u.createElement(V.A,{label:"Totaal waarde per "+O()(e.endDate).format("DD-MM-Y"),value:(0,b.A)(e.totalAmountEndValue)})))))};function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(k=function(){return!!e})()}var M=function(e){function t(e){var a,r,o,l;return(0,n.A)(this,t),r=this,o=t,l=[e],o=(0,c.A)(o),(a=(0,i.A)(r,k()?Reflect.construct(o,l||[],(0,c.A)(r).constructor):o.apply(r,l))).state={activeDiv:""},a}return(0,o.A)(t,e),(0,r.A)(t,[{key:"onDivEnter",value:function(){this.setState({activeDiv:"panel-grey"})}},{key:"onDivLeave",value:function(){this.state.showEdit||this.setState({activeDiv:""})}},{key:"render",value:function(){var e=this;return this.props.meDetails.permissions,u.createElement("div",{className:this.state.activeDiv,onMouseEnter:function(){return e.onDivEnter()},onMouseLeave:function(){return e.onDivLeave()}},u.createElement(S,this.props.financialOverviewProject))}}])}(u.Component);const F=(0,N.Ng)((function(e){return{meDetails:e.meDetails,permissions:e.meDetails.permissions}}))(M);function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(C=function(){return!!e})()}a(9392),a(62062),a(26099);var L=function(e){function t(e){return(0,n.A)(this,t),a=this,r=t,o=[e],r=(0,c.A)(r),(0,i.A)(a,C()?Reflect.construct(r,o||[],(0,c.A)(a).constructor):r.apply(a,o));var a,r,o}return(0,o.A)(t,e),(0,r.A)(t,[{key:"render",value:function(){var e=this.props,t=e.financialOverviewProject,a=e.hasError,n=e.isLoading,r="",i=!0;return a?r="Fout bij het ophalen van waardestaat project.":n?r="Gegevens aan het laden.":(0,P.isEmpty)(t)?r="Geen waardestaat project gevonden!":i=!1,i?u.createElement("div",null,r):u.createElement("div",null,u.createElement(F,{financialOverviewProject:t}))}}])}(u.Component);L.propTypes={financialOverviewProject:h.any,hasError:h.any,isLoading:h.any};const I=L;function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(R=function(){return!!e})()}var Y=function(e){function t(e){var a,r,o,s;return(0,n.A)(this,t),r=this,o=t,s=[e],o=(0,c.A)(o),a=(0,i.A)(r,R()?Reflect.construct(o,s||[],(0,c.A)(r).constructor):o.apply(r,s)),(0,l.A)(a,"callFetchFinancialOverviewProjectDetails",(function(){a.setState({isLoading:!0,hasError:!1}),A.A.fetchFinancialOverviewProjectDetails(a.props.params.id).then((function(e){a.setState({isLoading:!1,financialOverviewProject:e.data.data})})).catch((function(e){a.setState({isLoading:!1,hasError:!0})}))})),a.state={financialOverviewProject:{},isLoading:!1,hasError:!1},a}return(0,o.A)(t,e),(0,r.A)(t,[{key:"componentDidMount",value:function(){this.callFetchFinancialOverviewProjectDetails()}},{key:"render",value:function(){return u.createElement("div",{className:"row"},u.createElement("div",{className:"col-md-9"},u.createElement("div",{className:"col-md-12 margin-10-top"},u.createElement(v.A,null,u.createElement(m.A,{className:"panel-small"},u.createElement(g,{id:this.props.params.id,projectName:this.state.financialOverviewProject&&this.state.financialOverviewProject.project?this.state.financialOverviewProject.project.name:"",financialOverviewDescription:this.state.financialOverviewProject&&this.state.financialOverviewProject.financialOverview?this.state.financialOverviewProject.financialOverview.description:""})))),u.createElement("div",{className:"col-md-12 margin-10-top"},u.createElement(I,{financialOverviewProject:this.state.financialOverviewProject,isLoading:this.state.isLoading,hasError:this.state.hasError}))),u.createElement("div",{className:"col-md-3"}))}}])}(u.Component);const T=function(e){var t=(0,d.g)();return u.createElement(Y,(0,s.A)({},e,{params:t}))}},22663:(e,t,a)=>{a.d(t,{A:()=>i}),a(28706),a(60739);var n=a(61941),r="financial-overview-project";const i={fetchFinancialOverviewProjects:function(e){var t="".concat(r,"/grid");return(0,n.A)().get(t,{params:{financialOverviewId:JSON.stringify(e)}})},fetchFinancialOverviewProjectDetails:function(e){var t="jory/".concat(r,"/").concat(e);return(0,n.A)().get(t,{params:{jory:{fld:["id","projectId","definitive","startDate","endDate","numberOfParticipantProjects","numberOfFinancialOverviewContactsSend","hasInterimFinancialOverviewContacts","totalQuantityStartValue","totalQuantityEndValue","bookworthStartValue","bookworthEndValue","totalAmountStartValue","totalAmountEndValue"],rlt:{financialOverview:{fld:["id","description","administrationId","year","definitive","statusId","dateProcessed","usesInterimFinancialOverviews"],rlt:{administration:{fld:["id","name"]}}},project:{fld:["id","code","name"],rlt:{projectType:{fld:["id","codeRef","name"]}}},financialOverviewParticipantProjects:{fld:["id","participantProjectId","quantityStartValue","quantityEndValue","bookworthStartValue","bookworthEndValue","amountStartValue","amountEndValue"],rlt:{participantProject:{fld:["id","contactId"],rlt:{contact:{fld:["id","fullName"]}}}}}}}}})},newFinancialOverviewProject:function(e){var t="".concat(r);return e.jory=JSON.stringify({fld:["id","projectId","definitive"],rlt:{project:{fld:["id","code","name"],rlt:{projectType:{fld:["id","codeRef","name"]}}}}}),(0,n.A)().post(t,e)},updateFinancialOverviewProject:function(e,t){var a="".concat(r,"/").concat(e);return(0,n.A)().post(a,t)},deleteFinancialOverviewProject:function(e){var t="".concat(r,"/").concat(e,"/delete");return(0,n.A)().post(t)},getCSV:function(e){var t="".concat(r,"/").concat(e,"/csv");return(0,n.A)().get(t)}}}}]);