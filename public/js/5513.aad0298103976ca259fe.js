"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[5513],{55513:(e,t,n)=>{n.r(t),n.d(t,{default:()=>xe}),n(60825);var r=n(23029),a=n(92901),i=n(56822),o=n(53954),l=n(85501),s=n(58168),c=n(96540),u=n(69733),d=function(e){return{type:"FETCH_USER_DETAILS",payload:e}},m=function(e,t){return{type:"UPDATE_USER",user:e,switchToView:t}},p=n(47767),h=n(91858);const g=(0,u.Ng)((function(e){return{fullName:e.userDetails.fullName}}),null)((function(e){var t=(0,p.Zp)();return c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-4"},c.createElement("div",{className:"btn-group btn-group-flex",role:"group"},c.createElement(h.A,{iconName:"arrowLeft",onClickAction:function(){return t(-1)}}))),c.createElement("div",{className:"col-md-4"},c.createElement("h4",{className:"text-center"},e.fullName)),c.createElement("div",{className:"col-md-4"}))}));var f=n(2543),v=n(64467),b=(n(52675),n(2008),n(51629),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(23500),n(62010),n(57761)),w=n.n(b),k=n(54814),E=n(14809),A=n(55956),D=n(22102),y=n(77465);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,v.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(N=function(){return!!e})()}var O=function(e){function t(e){var n,a,l,s;return(0,r.A)(this,t),a=this,l=t,s=[e],l=(0,o.A)(l),n=(0,i.A)(a,N()?Reflect.construct(l,s||[],(0,o.A)(a).constructor):l.apply(a,s)),(0,v.A)(n,"handleInputChange",(function(e){var t=e.target,r="checkbox"===t.type?t.checked:t.value,a=t.name;n.setState(j(j({},n.state),{},{user:j(j({},n.state.user),{},(0,v.A)({},a,r))}))})),(0,v.A)(n,"handleSubmit",(function(e){e.preventDefault();var t=n.state.user,r={},a=!1;w().isEmail(t.email)||(r.email=!0,a=!0),w().isEmpty(t.firstName)&&(r.firstName=!0,a=!0),w().isEmpty(t.lastName)&&(r.lastName=!0,a=!0),n.setState(j(j({},n.state),{},{errors:r})),!a&&n.props.updateUser(t,n.props.switchToView)})),n.state={user:j(j({},n.props.userDetails),{},{titleId:n.props.userDetails.title?n.props.userDetails.title.id:"",lastNamePrefixId:n.props.userDetails.lastNamePrefix?n.props.userDetails.lastNamePrefix.id:"",testArray:["test1","test2"]}),errors:{email:!1,firstName:!1,lastName:!1}},n}return(0,l.A)(t,e),(0,a.A)(t,[{key:"render",value:function(){var e=this.state.user,t=e.email,n=e.titleId,r=e.firstName,a=e.lastNamePrefixId,i=e.lastName,o=e.phoneNumber,l=e.mobile,s=e.occupation,u=e.active;return c.createElement("form",{className:"form-horizontal col-md-12",onSubmit:this.handleSubmit},c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Aanspreektitel",name:"titleId",options:this.props.titles,value:n,onChangeAction:this.handleInputChange}),c.createElement(k.A,{label:"E-mail",name:"email",value:t,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.email})),c.createElement("div",{className:"row"},c.createElement(k.A,{label:"Voornaam",name:"firstName",value:r,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.firstName}),c.createElement(k.A,{label:"Telefoonnummer",size:"col-sm-6",name:"phoneNumber",value:o,onChangeAction:this.handleInputChange})),c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Tussenvoegsel",name:"lastNamePrefixId",options:this.props.lastNamePrefixes,value:a,onChangeAction:this.handleInputChange}),c.createElement(k.A,{label:"Mobiel nummer",size:"col-sm-6",name:"mobile",value:l,onChangeAction:this.handleInputChange})),c.createElement("div",{className:"row"},c.createElement(k.A,{label:"Achternaam",size:"col-sm-6",name:"lastName",value:i,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.lastName}),c.createElement(k.A,{label:"Functie",size:"col-sm-6",name:"occupation",value:s,onChangeAction:this.handleInputChange})),c.createElement("div",{className:"row"},c.createElement(y.A,{label:"Actief",name:"active",value:u,onChangeAction:this.handleInputChange})),c.createElement(D.A,null,c.createElement("div",{className:"pull-right btn-group",role:"group"},c.createElement(A.A,{buttonClassName:"btn-default",buttonText:"Sluiten",onClickAction:this.props.switchToView}),c.createElement(A.A,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"}))))}}])}(c.Component);const C=(0,u.Ng)((function(e){return{userDetails:e.userDetails,lastNamePrefixes:e.systemData.lastNamePrefixes,titles:e.systemData.titles}}),(function(e){return{updateUser:function(t,n){e(m(t,n))}}}))(O);var T=n(30483);const x=(0,u.Ng)((function(e){return{userDetails:e.userDetails}}))((function(e){var t=e.userDetails,n=t.email,r=t.title,a=t.firstName,i=t.lastNamePrefix,o=t.lastName,l=t.phoneNumber,s=t.mobile,u=t.occupation,d=t.active;return c.createElement("div",{onClick:e.switchToEdit},c.createElement("div",{className:"row"},c.createElement(T.A,{label:"Aanspreektitel",value:r&&r.name}),c.createElement(T.A,{label:"E-mail",value:n})),c.createElement("div",{className:"row"},c.createElement(T.A,{label:"Voornaam",value:a}),c.createElement(T.A,{label:"Telefoonnummer",value:l})),c.createElement("div",{className:"row"},c.createElement(T.A,{label:"Tussenvoegsel",value:i&&i.name}),c.createElement("div",null,c.createElement(T.A,{label:"Mobiel nummer",value:s}))),c.createElement("div",{className:"row"},c.createElement(T.A,{label:"Achternaam",value:o}),c.createElement("div",null,c.createElement(T.A,{label:"Functie",value:u}))),c.createElement("div",{className:"row"},c.createElement(T.A,{label:"Actief",value:d?"Ja":"Nee"})))}));var P=n(62493),S=n(55849);function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(I=function(){return!!e})()}var B=function(e){function t(e){var n,a,l,s;return(0,r.A)(this,t),a=this,l=t,s=[e],l=(0,o.A)(l),n=(0,i.A)(a,I()?Reflect.construct(l,s||[],(0,o.A)(a).constructor):l.apply(a,s)),(0,v.A)(n,"switchToEdit",(function(){n.setState({showEdit:!0})})),(0,v.A)(n,"switchToView",(function(){n.setState({showEdit:!1,activeDiv:""})})),n.state={showEdit:!1,activeDiv:""},n}return(0,l.A)(t,e),(0,a.A)(t,[{key:"onDivEnter",value:function(){this.setState({activeDiv:"panel-grey"})}},{key:"onDivLeave",value:function(){this.state.showEdit||this.setState({activeDiv:""})}},{key:"render",value:function(){var e=this,t=this.props.meDetails.permissions,n=void 0===t?{}:t;return c.createElement(P.A,{className:this.state.activeDiv,onMouseEnter:function(){return e.onDivEnter()},onMouseLeave:function(){return e.onDivLeave()}},c.createElement(S.A,null,this.state.showEdit&&n.manageUser?c.createElement(C,{switchToView:this.switchToView}):c.createElement(x,{switchToEdit:this.switchToEdit})))}}])}(c.Component);const R=(0,u.Ng)((function(e){return{contactDetails:e.contactDetails,meDetails:e.meDetails}}))(B);var F=n(95093),M=n.n(F);const V=(0,u.Ng)((function(e){return{userDetails:e.userDetails}}))((function(e){var t=e.userDetails,n=t.lastVisit,r=t.visitCount;return c.createElement("div",null,c.createElement("div",{className:"row"},c.createElement(T.A,{label:"Laatst ingelogd",value:n&&M()(n).format("DD-MM-Y")}),c.createElement(T.A,{label:"Aantal keer ingelogd",value:r})))}));var _=n(9392);const U=function(e){return c.createElement(P.A,null,c.createElement(_.A,null,c.createElement("span",{className:"h5 text-bold"},"Gebruikers log")),c.createElement(S.A,null,c.createElement("div",{className:"col-md-12"},c.createElement(V,null))))};n(50113),n(74423),n(62062);var W=n(41904),L=n(26819);function K(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(K=function(){return!!e})()}const q=function(e){function t(e){return(0,r.A)(this,t),n=this,a=t,l=[e],a=(0,o.A)(a),(0,i.A)(n,K()?Reflect.construct(a,l||[],(0,o.A)(n).constructor):a.apply(n,l));var n,a,l}return(0,l.A)(t,e),(0,a.A)(t,[{key:"render",value:function(){var e=this.props.role,t=e.name,n=e.hasRole;return c.createElement("div",{className:"col-sm-6 border-bottom"},c.createElement("label",{className:"col-sm-6"},t),c.createElement("span",{className:"col-sm-6"},n||this.props.alwaysTrue?"Ja":"Nee","Projectmanager"===t&&c.createElement(c.Fragment,null,"  ",c.createElement(W.__w,{color:"blue",size:"15px","data-tip":"Als deze rol wordt toegewezen, wordt voor de gebruiker in het linkermenu de optie Projecten zichtbaar en kan de gebruiker de functionaliteiten Projecten gebruiken. Ook worden voor de gebruiker op de Contactpagina in het rechtermenu de onderdelen Deelnames en Waardestaten zichtbaar en te gebruiken. Een gebruiker met de rol Projectmanager kan Contactgegevens inzien, wijzigingen aanbrengen en contacten verwijderen. Deze gebruiker kan projecten aanmaken en wijzigen maar geen deelnames wijzigen.","data-for":"tooltip-note"}),c.createElement(L.A,{id:"tooltip-note",effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"})),"Participatie medewerker"===t&&c.createElement(c.Fragment,null,"  ",c.createElement(W.__w,{color:"blue",size:"15px","data-tip":"Als deze rol wordt toegewezen, wordt voor de gebruiker in het linkermenu de optie Projecten zichtbaar en kan de gebruiker de functionaliteiten Projecten gebruiken. Ook worden voor de gebruiker op de Contactpagina in het rechtermenu de onderdelen Deelnames en Waardestaten zichtbaar en te gebruiken. Een gebruiker met de rol Participatiemedewerker kan Contactgegevens inzien, wijzigingen aanbrengen en contacten verwijderen. Deze gebruiker kan deelnames wijzigingen en verwijderen. Maar geen wijzigingen in het project aanbrengen.","data-for":"tooltip-note"}),c.createElement(L.A,{id:"tooltip-note",effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"})),"Beheerder"===t&&c.createElement(c.Fragment,null,"  ",c.createElement(W.__w,{color:"blue",size:"15px","data-tip":"Als een gebruiker deze rol toegewezen krijgt kan zij/hij alle opties in het linkmenu zien en krijgt alle rechten voor wijzigen/aanmaken/verwijderen.","data-for":"tooltip-note"}),c.createElement(L.A,{id:"tooltip-note",effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"})),"Energie adviseur"===t&&c.createElement(c.Fragment,null,"  ",c.createElement(W.__w,{color:"blue",size:"15px","data-tip":"Als deze rol wordt toegewezen, wordt voor de gebruiker in het linkermenu de optie Energiebesparing zichtbaar en kan de gebruiker de functionaliteiten Energiebesparing gebruiken. Ook worden voor de gebruiker op de Contactpagina in het rechtermenu de onderdelen Intakes, Kansen en Woningdossiers zichtbaar en te gebruiken. Een gebruiker met de rol Energieadviseur kan Contactgegevens inzien maar geen wijzigingen aanbrengen in Contactgegevens. Deze gebruiker kan wel Intakes, Kansen en Woningdossiers toevoegen, wijzigen of verwijderen bij het Contact.","data-for":"tooltip-note"}),c.createElement(L.A,{id:"tooltip-note",effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"})),"Buurtaanpak manager"===t&&c.createElement(c.Fragment,null,"  ",c.createElement(W.__w,{color:"blue",size:"15px","data-tip":"Als deze rol wordt toegewezen, wordt voor de gebruiker in het linkermenu de optie Energiebesparing zichtbaar en kan de gebruiker de functionaliteiten Energiebesparing gebruiken. Ook worden voor de gebruiker op de Contactpagina in het rechtermenu de onderdelen Intakes, Kansen en Woningdossiers zichtbaar en te gebruiken. Een gebruiker met de rol Buurtaanpak manager kan Contactgegevens toevoegen en wijzigingen maar niet verwijderen. Deze gebruiker kan wel Intakes, Kansen en Woningdossiers toevoegen, wijzigen of verwijderen bij het Contact.","data-for":"tooltip-note"}),c.createElement(L.A,{id:"tooltip-note",effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"})),"Buurtaanpak coördinator"===t&&c.createElement(c.Fragment,null,"  ",c.createElement(W.__w,{color:"blue",size:"15px","data-tip":"Als deze rol wordt toegewezen, wordt voor de gebruiker in het linkermenu de optie Energiebesparing zichtbaar en kan de gebruiker de functionaliteiten Energiebesparing gebruiken. Ook worden voor de gebruiker op de Contactpagina in het rechtermenu de onderdelen Intakes, Kansen en Woningdossiers zichtbaar en te gebruiken. Een gebruiker met de rol Buurtaanpak coordinator kan Contactgegevens inzien maar niet toevoegen, wijzigingen of verwijderen. Deze gebruiker kan wel Intakes, Kansen en Woningdossiers toevoegen, wijzigen of verwijderen bij het Contact.","data-for":"tooltip-note"}),c.createElement(L.A,{id:"tooltip-note",effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"})),"Marketing medewerker"===t&&c.createElement(c.Fragment,null,"  ",c.createElement(W.__w,{color:"blue",size:"15px","data-tip":"Als deze rol wordt toegewezen krijgt de gebruiker in het linkermenu de optie Energiebesparing en in het rechtermenu op de contactpagina de opties Intakes, Kansen en Woningdossiers te zien . De rol Marketing medewerker mag contacten wijzigingen en verwijderen. Intakes, Kansen en Woningdossiers mogen niet worden toegevoegd, gewijzigd of verwijderd worden. De gebruiker met de rol Marketing medewerker mag Campagnes aanmaken.","data-for":"tooltip-note"}),c.createElement(L.A,{id:"tooltip-note",effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"})),"Financieel medewerker"===t&&c.createElement(c.Fragment,null,"  ",c.createElement(W.__w,{color:"blue",size:"15px","data-tip":"Als deze rol wordt toegewezen krijgt de gebruiker in het linkermenu de optie Financieel en in het rechtermenu op de contactpagina de opties Orders en Nota’s te zien . De rol Financieel medewerker mag contacten, orders en nota;s wijzigingen en verwijderen.","data-for":"tooltip-note"}),c.createElement(L.A,{id:"tooltip-note",effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"})),"Financieel controller"===t&&c.createElement(c.Fragment,null,"  ",c.createElement(W.__w,{color:"blue",size:"15px","data-tip":"Als deze rol wordt toegewezen krijgt de gebruiker in het linkermenu de optie Financieel en in het rechtermenu op de contactpagina de opties Orders en Nota’s te zien . De rol Financieel medewerker mag contacten, orders en nota;s wijzigingen en verwijderen. De financieel controller mag ook projecten wijzigen.","data-for":"tooltip-note"}),c.createElement(L.A,{id:"tooltip-note",effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"}))))}}])}(c.Component);function G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(G=function(){return!!e})()}var J=function(e){function t(e){return(0,r.A)(this,t),n=this,a=t,l=[e],a=(0,o.A)(a),(0,i.A)(n,G()?Reflect.construct(a,l||[],(0,o.A)(n).constructor):a.apply(n,l));var n,a,l}return(0,l.A)(t,e),(0,a.A)(t,[{key:"render",value:function(){var e=this.props.userDetails.roles,t=void 0===e?{}:e,n=["Beheerder webformulier","Beheerder Mailgun domeinen","Beheerder portal instellingen","Beheerder coöperatie instellingen","Data opschoner"],r=t.filter((function(e){return n.includes(e.name)})),a=t.filter((function(e){return!n.includes(e.name)})),i=this.props.keyUserRole&&!0===Boolean(this.props.keyUserRole.hasRole);return c.createElement("div",{onClick:this.props.switchToEdit},c.createElement(S.A,null,c.createElement(_.A,null,c.createElement("span",{className:"h5 text-bold"},"Gebruikers rollen")),c.createElement("div",{className:"row"},0===a.length?c.createElement("tr",null,c.createElement("td",{colSpan:7},"Geen rollen beschikbaar!")):a.map((function(e,t){return c.createElement(q,{key:t,role:e,alwaysTrue:!1})}))),c.createElement(_.A,null,c.createElement("span",{className:"h5 text-bold"},"Gebruikers aanvullende rechten")),c.createElement("div",{className:"row"},0===r.length?c.createElement("tr",null,c.createElement("td",{colSpan:7},"Geen aanvullende rechten beschikbaar!")):r.map((function(e,t){return c.createElement(q,{key:t,role:e,alwaysTrue:i})})))))}}])}(c.Component);const H=(0,u.Ng)((function(e){return{userDetails:e.userDetails,keyUserRole:e.userDetails.roles.find((function(e){return"Beheerder"===e.name}))}}))(J);var Y=n(94689);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,v.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(X=function(){return!!e})()}var $=function(e){function t(e){var n,a,l,s;return(0,r.A)(this,t),a=this,l=t,s=[e],l=(0,o.A)(l),n=(0,i.A)(a,X()?Reflect.construct(l,s||[],(0,o.A)(a).constructor):l.apply(a,s)),(0,v.A)(n,"handleInputChange",(function(e){var t=e.target;t.checked?Y.A.addRole(n.props.id,n.state.id).then((function(){n.setState(Q(Q({},n.state),{},{hasRole:!n.state.hasRole})),n.props.updateRole(t.id,!0)})).catch((function(){alert("Je hebt niet de rechten om deze rol toe te kennen")})):Y.A.removeRole(n.props.id,n.state.id).then((function(){n.setState(Q(Q({},n.state),{},{hasRole:!n.state.hasRole})),n.props.updateRole(t.id,!1)})).catch((function(){alert("Je hebt niet de rechten om deze rol toe te kennen")}))})),n.state=Q(Q({},e.role),{},{alwaysTrue:e.alwaysTrue}),n}return(0,l.A)(t,e),(0,a.A)(t,[{key:"render",value:function(){var e=this.state,t=e.id,n=e.name,r=e.hasRole,a=e.alwaysTrue;return c.createElement(y.A,(0,s.A)({label:n,id:t,name:"name",value:r||a,disabled:a,size:"col-sm-5",onChangeAction:this.handleInputChange},"Projectmanager"===n&&{textToolTip:"Als deze rol wordt toegewezen, wordt voor de gebruiker in het linkermenu de optie Projecten zichtbaar en kan de gebruiker de functionaliteiten Projecten gebruiken. Ook worden voor de gebruiker op de Contactpagina in het rechtermenu de onderdelen Deelnames en Waardestaten zichtbaar en te gebruiken. Een gebruiker met de rol Projectmanager kan Contactgegevens inzien, wijzigingen aanbrengen en contacten verwijderen. Deze gebruiker kan projecten aanmaken en wijzigen maar geen deelnames wijzigen."},"Participatie medewerker"===n&&{textToolTip:"Als deze rol wordt toegewezen, wordt voor de gebruiker in het linkermenu de optie Projecten zichtbaar en kan de gebruiker de functionaliteiten Projecten gebruiken. Ook worden voor de gebruiker op de Contactpagina in het rechtermenu de onderdelen Deelnames en Waardestaten zichtbaar en te gebruiken. Een gebruiker met de rol Participatiemedewerker kan Contactgegevens inzien, wijzigingen aanbrengen en contacten verwijderen. Deze gebruiker kan deelnames wijzigingen en verwijderen. Maar geen wijzigingen in het project aanbrengen."},"Beheerder"===n&&{textToolTip:"Als een gebruiker deze rol toegewezen krijgt kan zij/hij alle opties in het linkmenu zien en krijgt alle rechten voor wijzigen/aanmaken/verwijderen."},"Energie adviseur"===n&&{textToolTip:"Als deze rol wordt toegewezen, wordt voor de gebruiker in het linkermenu de optie Energiebesparing zichtbaar en kan de gebruiker de functionaliteiten Energiebesparing gebruiken. Ook worden voor de gebruiker op de Contactpagina in het rechtermenu de onderdelen Intakes, Kansen en Woningdossiers zichtbaar en te gebruiken. Een gebruiker met de rol Energieadviseur kan Contactgegevens inzien maar geen wijzigingen aanbrengen in Contactgegevens. Deze gebruiker kan wel Intakes, Kansen en Woningdossiers toevoegen, wijzigen of verwijderen bij het Contact."},"Buurtaanpak manager"===n&&{textToolTip:"Als deze rol wordt toegewezen, wordt voor de gebruiker in het linkermenu de optie Energiebesparing zichtbaar en kan de gebruiker de functionaliteiten Energiebesparing gebruiken. Ook worden voor de gebruiker op de Contactpagina in het rechtermenu de onderdelen Intakes, Kansen en Woningdossiers zichtbaar en te gebruiken. Een gebruiker met de rol Buurtaanpak manager kan Contactgegevens toevoegen en wijzigingen maar niet verwijderen. Deze gebruiker kan wel Intakes, Kansen en Woningdossiers toevoegen, wijzigen of verwijderen bij het Contact."},"Buurtaanpak coördinator"===n&&{textToolTip:"Als deze rol wordt toegewezen, wordt voor de gebruiker in het linkermenu de optie Energiebesparing zichtbaar en kan de gebruiker de functionaliteiten Energiebesparing gebruiken. Ook worden voor de gebruiker op de Contactpagina in het rechtermenu de onderdelen Intakes, Kansen en Woningdossiers zichtbaar en te gebruiken. Een gebruiker met de rol Buurtaanpak coordinator kan Contactgegevens inzien maar niet toevoegen, wijzigingen of verwijderen. Deze gebruiker kan wel Intakes, Kansen en Woningdossiers toevoegen, wijzigen of verwijderen bij het Contact."},"Marketing medewerker"===n&&{textToolTip:"Als deze rol wordt toegewezen krijgt de gebruiker in het linkermenu de optie Energiebesparing en in het rechtermenu op de contactpagina de opties Intakes, Kansen en Woningdossiers te zien . De rol Marketing medewerker mag contacten wijzigingen en verwijderen. Intakes, Kansen en Woningdossiers mogen niet worden toegevoegd, gewijzigd of verwijderd worden. De gebruiker met de rol Marketing medewerker mag Campagnes aanmaken."},"Financieel medewerker"===n&&{textToolTip:"Als deze rol wordt toegewezen krijgt de gebruiker in het linkermenu de optie Financieel en in het rechtermenu op de contactpagina de opties Orders en Nota’s te zien . De rol Financieel medewerker mag contacten, orders en nota;s wijzigingen en verwijderen."},"Financieel controller"===n&&{textToolTip:"Als deze rol wordt toegewezen krijgt de gebruiker in het linkermenu de optie Financieel en in het rechtermenu op de contactpagina de opties Orders en Nota’s te zien . De rol Financieel medewerker mag contacten, orders en nota;s wijzigingen en verwijderen. De financieel controller mag ook projecten wijzigen."}))}}])}(c.Component);const ee=(0,u.Ng)(null,(function(e){return{updateRole:function(t,n){e(function(e,t){return{type:"UPDATE_ROLE",id:e,value:t}}(t,n))}}}))($);function te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(te=function(){return!!e})()}var ne=function(e){function t(e){return(0,r.A)(this,t),n=this,a=t,l=[e],a=(0,o.A)(a),(0,i.A)(n,te()?Reflect.construct(a,l||[],(0,o.A)(n).constructor):a.apply(n,l));var n,a,l}return(0,l.A)(t,e),(0,a.A)(t,[{key:"render",value:function(){var e=this.props.userDetails,t=e.id,n=e.roles,r=void 0===n?{}:n,a=["Beheerder webformulier","Beheerder Mailgun domeinen","Beheerder portal instellingen","Beheerder coöperatie instellingen","Data opschoner"],i=r.filter((function(e){return a.includes(e.name)})),o=r.filter((function(e){return!a.includes(e.name)})),l=this.props.keyUserRole&&!0===Boolean(this.props.keyUserRole.hasRole);return c.createElement("div",null,c.createElement(S.A,null,c.createElement(_.A,null,c.createElement("span",{className:"h5 text-bold"},"Gebruikers rollen")),c.createElement("div",{className:"row"},0===o.length?c.createElement("tr",null,c.createElement("td",{colSpan:7},"Geen rollen beschikbaar!")):o.map((function(e,n){return c.createElement(ee,{key:n,role:e,id:t,alwaysTrue:!1})}))),c.createElement(_.A,null,c.createElement("span",{className:"h5 text-bold"},"Gebruikers aanvullende rechten")),c.createElement("div",{className:"row"},0===i.length?c.createElement("tr",null,c.createElement("td",{colSpan:7},"Geen aanvullende rechten beschikbaar!")):i.map((function(e,n){return c.createElement(ee,{key:n,role:e,id:t,alwaysTrue:l})}))),c.createElement(D.A,null,c.createElement("div",{className:"pull-right btn-group",role:"group"},c.createElement(A.A,{buttonClassName:"btn-default",buttonText:"Sluiten",onClickAction:this.props.switchToView})))))}}])}(c.Component);const re=(0,u.Ng)((function(e){return{userDetails:e.userDetails,keyUserRole:e.userDetails.roles.find((function(e){return"Beheerder"===e.name}))}}),null)(ne);function ae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ae=function(){return!!e})()}var ie=function(e){function t(e){var n,a,l,s;return(0,r.A)(this,t),a=this,l=t,s=[e],l=(0,o.A)(l),n=(0,i.A)(a,ae()?Reflect.construct(l,s||[],(0,o.A)(a).constructor):l.apply(a,s)),(0,v.A)(n,"switchToEdit",(function(){n.setState({showEdit:!0})})),(0,v.A)(n,"switchToView",(function(){n.setState({showEdit:!1})})),n.state={showEdit:!1},n}return(0,l.A)(t,e),(0,a.A)(t,[{key:"onDivEnter",value:function(){this.setState({activeDiv:"panel-grey"})}},{key:"onDivLeave",value:function(){this.state.showEdit||this.setState({activeDiv:""})}},{key:"render",value:function(){var e=this,t=this.props.meDetails.permissions,n=void 0===t?{}:t;return c.createElement(P.A,{className:this.state.activeDiv,onMouseEnter:function(){return e.onDivEnter()},onMouseLeave:function(){return e.onDivLeave()}},this.state.showEdit&&n.manageUser?c.createElement(re,{switchToView:this.switchToView}):c.createElement(H,{switchToEdit:this.switchToEdit}))}}])}(c.Component);const oe=(0,u.Ng)((function(e){return{meDetails:e.meDetails}}))(ie);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,v.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ce=function(){return!!e})()}var ue=function(e){function t(e){var n,a,l,s;return(0,r.A)(this,t),a=this,l=t,s=[e],l=(0,o.A)(l),n=(0,i.A)(a,ce()?Reflect.construct(l,s||[],(0,o.A)(a).constructor):l.apply(a,s)),(0,v.A)(n,"handleInputChange",(function(e){var t=e.target,r="checkbox"===t.type?t.checked:t.value,a=t.name;n.setState(se(se({},n.state),{},{user:se(se({},n.state.user),{},(0,v.A)({},a,r))}))})),(0,v.A)(n,"handleSubmit",(function(e){e.preventDefault();var t=n.state.user;t.titleId=t.titleId?t.titleId:"",t.lastNamePrefixId=t.lastNamePrefixId?t.lastNamePrefixId:"",n.props.updateUser(t,n.props.switchToView)})),(0,v.A)(n,"handleTwoFactorReset",(function(e){e.preventDefault(),Y.A.resetTwoFactor(n.state.user.id).then((function(){n.props.fetchUserDetails(n.state.user.id)}))})),n.state={user:se({},n.props.userDetails)},n}return(0,l.A)(t,e),(0,a.A)(t,[{key:"render",value:function(){return c.createElement("form",{className:"form-horizontal col-md-12",onSubmit:this.handleSubmit},c.createElement("div",{className:"row"},this.props.requiredByCooperation?c.createElement(T.A,{label:"Verplicht voor deze gebruiker",value:"Verplicht vanuit coöperatie"}):c.createElement(y.A,{label:"Verplicht voor deze gebruiker",name:"requireTwoFactorAuthentication",value:this.state.user.requireTwoFactorAuthentication,onChangeAction:this.handleInputChange,size:"col-sm-5",textToolTip:"Je kan 2 factor authenticatie voor alle gebruikers verplichten via instellingen > coöperatie"}),c.createElement("div",{className:"col-sm-6"},c.createElement("label",{className:"col-sm-6"},"Geactiveerd"),c.createElement("div",{className:"col-sm-3"},this.state.user.hasTwoFactorActivated?"Ja":"Nee"),this.state.user.hasTwoFactorActivated?c.createElement("a",{href:"#",className:"col-sm-3",onClick:this.handleTwoFactorReset},"reset"):null)),c.createElement(D.A,null,c.createElement("div",{className:"pull-right btn-group",role:"group"},c.createElement(A.A,{buttonClassName:"btn-default",buttonText:"Sluiten",onClickAction:this.props.switchToView}),c.createElement(A.A,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"}))))}}])}(c.Component);const de=(0,u.Ng)((function(e){return{userDetails:e.userDetails,lastNamePrefixes:e.systemData.lastNamePrefixes,titles:e.systemData.titles}}),(function(e){return{updateUser:function(t,n){e(m(t,n))},fetchUserDetails:function(t){e(d(t))}}}))(ue),me=(0,u.Ng)((function(e){return{userDetails:e.userDetails}}))((function(e){var t=e.userDetails.requireTwoFactorAuthentication;return c.createElement("div",{onClick:e.switchToEdit},c.createElement("div",{className:"row"},e.requiredByCooperation?c.createElement(T.A,{label:"Verplicht voor deze gebruiker",value:"Verplicht vanuit coöperatie"}):c.createElement(T.A,{label:"Verplicht voor deze gebruiker",value:t?"Ja":"Nee",textToolTip:"Je kan 2 factor authenticatie voor alle gebruikers verplichten via instellingen > coöperatie",size:"col-sm-5"}),c.createElement(T.A,{label:"Geactiveerd",value:e.userDetails.hasTwoFactorActivated?"Ja":"Nee"})))}));function pe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pe=function(){return!!e})()}var he=function(e){function t(e){var n,a,l,s;return(0,r.A)(this,t),a=this,l=t,s=[e],l=(0,o.A)(l),n=(0,i.A)(a,pe()?Reflect.construct(l,s||[],(0,o.A)(a).constructor):l.apply(a,s)),(0,v.A)(n,"switchToEdit",(function(){n.setState({showEdit:!0})})),(0,v.A)(n,"switchToView",(function(){n.setState({showEdit:!1,activeDiv:""})})),n.state={showEdit:!1,activeDiv:""},n}return(0,l.A)(t,e),(0,a.A)(t,[{key:"onDivEnter",value:function(){this.setState({activeDiv:"panel-grey"})}},{key:"onDivLeave",value:function(){this.state.showEdit||this.setState({activeDiv:""})}},{key:"render",value:function(){var e=this,t=this.props.meDetails.permissions,n=void 0===t?{}:t;return c.createElement(P.A,{className:this.state.activeDiv,onMouseEnter:function(){return e.onDivEnter()},onMouseLeave:function(){return e.onDivLeave()}},c.createElement(_.A,null,c.createElement("span",{className:"h5 text-bold"},"Twee factor authenticatie")),c.createElement(S.A,null,this.state.showEdit&&n.manageUser?c.createElement(de,{switchToView:this.switchToView,requiredByCooperation:!!this.props.cooperation&&this.props.cooperation.require_two_factor_authentication}):c.createElement(me,{switchToEdit:this.switchToEdit,requiredByCooperation:!!this.props.cooperation&&this.props.cooperation.require_two_factor_authentication})))}}])}(c.Component);const ge=(0,u.Ng)((function(e){return{contactDetails:e.contactDetails,meDetails:e.meDetails,cooperation:e.systemData.cooperation}}))(he);var fe=n(83873);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){(0,v.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(we=function(){return!!e})()}var ke=function(e){function t(e){var n,a,l,s;return(0,r.A)(this,t),a=this,l=t,s=[e],l=(0,o.A)(l),n=(0,i.A)(a,we()?Reflect.construct(l,s||[],(0,o.A)(a).constructor):l.apply(a,s)),(0,v.A)(n,"handleInputChange",(function(e){var t=e.target,r="checkbox"===t.type?t.checked:t.value,a=t.name;n.setState(be(be({},n.state),{},{user:be(be({},n.state.user),{},(0,v.A)({},a,r))}))})),(0,v.A)(n,"handleSubmit",(function(e){e.preventDefault();var t=n.state.user;t.titleId=t.titleId?t.titleId:"",t.lastNamePrefixId=t.lastNamePrefixId?t.lastNamePrefixId:"",n.props.updateUser({id:t.id,defaultMailboxId:t.defaultMailboxId},n.props.switchToView)})),n.state={mailboxes:[],user:be({},n.props.userDetails)},n}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){var e=this;fe.A.fetchMailboxesForUserPeek(this.state.user.id).then((function(t){e.setState({mailboxes:t.data.data})}))}},{key:"render",value:function(){return c.createElement("form",{className:"form-horizontal col-md-12",onSubmit:this.handleSubmit},c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Standaard afzender e-mail",id:"defaultMailboxId",size:"col-sm-6",name:"defaultMailboxId",options:this.state.mailboxes,optionName:"email",value:this.state.user.defaultMailboxId,onChangeAction:this.handleInputChange})),c.createElement(D.A,null,c.createElement("div",{className:"pull-right btn-group",role:"group"},c.createElement(A.A,{buttonClassName:"btn-default",buttonText:"Sluiten",onClickAction:this.props.switchToView}),c.createElement(A.A,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"}))))}}])}(c.Component);const Ee=(0,u.Ng)((function(e){return{userDetails:e.userDetails}}),(function(e){return{updateUser:function(t,n){e(m(t,n))},fetchUserDetails:function(t){e(d(t))}}}))(ke),Ae=(0,u.Ng)((function(e){return{userDetails:e.userDetails}}))((function(e){return c.createElement("div",{onClick:e.switchToEdit},c.createElement("div",{className:"row"},c.createElement(T.A,{label:"Standaard afzender e-mail",value:e.userDetails.defaultMailbox?e.userDetails.defaultMailbox.email:"-"})))}));function De(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(De=function(){return!!e})()}var ye=function(e){function t(e){var n,a,l,s;return(0,r.A)(this,t),a=this,l=t,s=[e],l=(0,o.A)(l),n=(0,i.A)(a,De()?Reflect.construct(l,s||[],(0,o.A)(a).constructor):l.apply(a,s)),(0,v.A)(n,"switchToEdit",(function(){n.setState({showEdit:!0})})),(0,v.A)(n,"switchToView",(function(){n.setState({showEdit:!1,activeDiv:""})})),n.state={showEdit:!1,activeDiv:""},n}return(0,l.A)(t,e),(0,a.A)(t,[{key:"onDivEnter",value:function(){this.setState({activeDiv:"panel-grey"})}},{key:"onDivLeave",value:function(){this.state.showEdit||this.setState({activeDiv:""})}},{key:"render",value:function(){var e=this,t=this.props.meDetails.permissions,n=void 0===t?{}:t;return c.createElement(P.A,{className:this.state.activeDiv,onMouseEnter:function(){return e.onDivEnter()},onMouseLeave:function(){return e.onDivLeave()}},c.createElement(_.A,null,c.createElement("span",{className:"h5 text-bold"},"Mailbox")),c.createElement(S.A,null,this.state.showEdit&&(n.manageUser||this.props.meDetails.id===this.props.userDetails.id)?c.createElement(Ee,{switchToView:this.switchToView}):c.createElement(Ae,{switchToEdit:this.switchToEdit})))}}])}(c.Component);const ze=(0,u.Ng)((function(e){return{meDetails:e.meDetails,userDetails:e.userDetails}}))(ye);function je(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(je=function(){return!!e})()}var Ne=function(e){function t(e){return(0,r.A)(this,t),n=this,a=t,l=[e],a=(0,o.A)(a),(0,i.A)(n,je()?Reflect.construct(a,l||[],(0,o.A)(n).constructor):a.apply(n,l));var n,a,l}return(0,l.A)(t,e),(0,a.A)(t,[{key:"render",value:function(){var e=this.props.meDetails.permissions,t=void 0===e?{}:e,n="",r=!0;return this.props.hasError?n="Fout bij het ophalen van gebruiker.":this.props.isLoading?n="Gegevens aan het laden.":(0,f.isEmpty)(this.props.userDetails)?n="Geen gebruiker gevonden!":r=!1,r?c.createElement("div",null,n):c.createElement("div",null,c.createElement(R,null),t.manageCooperationSettings?c.createElement(ge,null):null,c.createElement(ze,null),c.createElement(oe,null),c.createElement(U,null))}}])}(c.Component);const Oe=(0,u.Ng)((function(e){return{meDetails:e.meDetails,userDetails:e.userDetails,isLoading:e.loadingData.isLoading,hasError:e.loadingData.hasError}}),(function(e){return{fetchUserDetails:function(t){e(d(t))}}}))(Ne);function Ce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ce=function(){return!!e})()}var Te=function(e){function t(e){return(0,r.A)(this,t),n=this,a=t,l=[e],a=(0,o.A)(a),(0,i.A)(n,Ce()?Reflect.construct(a,l||[],(0,o.A)(n).constructor):a.apply(n,l));var n,a,l}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){this.props.fetchUserDetails(this.props.params.id)}},{key:"render",value:function(){return c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-9"},c.createElement("div",{className:"col-md-12 margin-10-top"},c.createElement(P.A,null,c.createElement(S.A,{className:"panel-small"},c.createElement(g,null)))),c.createElement("div",{className:"col-md-12 margin-10-top"},c.createElement(Oe,null))),c.createElement("div",{className:"col-md-3"}))}}])}(c.Component);const xe=(0,u.Ng)((function(e){return{userDetails:e.userDetails}}),(function(e){return{fetchUserDetails:function(t){e(d(t))}}}))((function(e){var t=(0,p.g)();return c.createElement(Te,(0,s.A)({},e,{params:t}))}))}}]);