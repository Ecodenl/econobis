(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{1475:function(e,t,a){"use strict";a.r(t);var n=a(24),r=a.n(n),i=a(25),o=a.n(i),c=a(26),l=a.n(c),s=a(27),u=a.n(s),m=a(16),d=a.n(m),p=a(0),f=a.n(p),h=a(31),v=a(752),g=a(22),b=a.n(g),E=a(6),y=a.n(E),P=a(4),D=a(701),w=a(101),N=a(92),O=a(7),I=a.n(O),C=a(706),S=a.n(C),R=a(708),k=a(703);function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var x=function(e){l()(a,e);var t=A(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(T(T({},n.state),{},{invoice:T(T({},n.state.invoice),{},y()({},r,a))}))})),y()(b()(n),"handleInputChangeDate",(function(e,t){n.setState(T(T({},n.state),{},{invoice:T(T({},n.state.invoice),{},y()({},t,e))}))})),y()(b()(n),"confirmAction",(function(e){e.preventDefault();var t=n.state.invoice,a={},r=!1;S.a.isEmpty(t.datePaid+"")&&(a.datePaid=!0,r=!0),n.setState(T(T({},n.state),{},{errors:a})),r||N.a.updateInvoice(t).then((function(e){n.props.fetchInvoiceDetails(t.id),n.props.closeModal()}))})),n.state={invoice:{id:e.invoiceId,datePaid:I()().format("Y-MM-DD"),paymentReference:null},errors:{datePaid:!1}},n}return o()(a,[{key:"render",value:function(){var e=this.state.invoice,t=e.datePaid,a=e.paymentReference;return f.a.createElement(w.a,{buttonConfirmText:"Nota betalen",closeModal:this.props.closeModal,confirmAction:this.confirmAction,title:"Nota betalen"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-sm-12 margin-10-bottom"},f.a.createElement("span",null,"Wanneer de betaaldatum wordt ingevuld zal er een betaling aangemaakt worden met het openstaande bedrag(€",this.props.amountOpen.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}),")."))),f.a.createElement("div",{className:"row"},f.a.createElement(R.a,{divSize:"col-sm-12",label:"Datum betaald",name:"datePaid",value:t,onChangeAction:this.handleInputChangeDate,required:"required",error:this.state.errors.datePaid})),f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{divSize:"col-sm-12",label:"Betalingskenmerk",name:"paymentReference",value:a,onChangeAction:this.handleInputChange})))}}]),a}(p.Component),L=Object(h.b)(null,(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))(x);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var F=function(e){l()(a,e);var t=M(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"confirmAction",(function(e){e.preventDefault(),N.a.sendNotification(n.props.invoiceId).then((function(e){n.props.fetchInvoiceDetails(n.props.invoiceId),n.props.closeModal()}))})),n}return o()(a,[{key:"render",value:function(){return f.a.createElement(w.a,{buttonConfirmText:"Versturen",closeModal:this.props.closeModal,confirmAction:this.confirmAction,title:"Notificatie versturen"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-sm-12 margin-10-bottom"},f.a.createElement("span",null,this.props.reminderText))))}}]),a}(p.Component),q=Object(h.b)(null,(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))(F);function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var V=function(e){l()(a,e);var t=B(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"confirmAction",(function(e){e.preventDefault(),N.a.setIrrecoverable(n.props.invoiceId).then((function(e){n.props.fetchInvoiceDetails(n.props.invoiceId),n.props.closeModal()}))})),n}return o()(a,[{key:"render",value:function(){return f.a.createElement(w.a,{closeModal:this.props.closeModal,confirmAction:this.confirmAction,title:"Nota oninbaar"},f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-sm-12 margin-10-bottom"},f.a.createElement("span",null,"Wilt u deze nota als oninbaar markeren?"))))}}]),a}(p.Component),z=Object(h.b)(null,(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))(V),Y=a(722),W=a.n(Y),G=a(849),H=Object(h.b)(null,(function(e){return{deleteInvoice:function(t){e(Object(v.a)(t))}}}))((function(e){return f.a.createElement(w.a,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.closeDeleteItemModal,confirmAction:function(){return e.deleteInvoice(e.id),void e.closeDeleteItemModal()},title:"Verwijderen"},f.a.createElement("p",null,"Verwijder nota: ",f.a.createElement("strong",null," ","".concat(e.number,"?"))))})),_=a(203);function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var U=function(e){l()(a,e);var t=K(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"download",(function(){N.a.download(n.props.invoiceDetails.id).then((function(e){W()(e.data,e.headers["x-filename"])}))})),y()(b()(n),"showSend",(function(){var e="collection"===n.props.invoiceDetails.paymentTypeId?"incasso":"overboeken";"incasso"==e&&n.props.invoiceDetails.totalInclVatInclReduction<0?n.props.setError(405,'Een nota met een negatief bedrag kan geen incasso zijn. Wil je a.u.b. de betaalwijze van de order aanpassen in "Overboeken".'):(n.props.previewSend([n.props.invoiceDetails.id]),P.f.push("/financieel/".concat(n.props.invoiceDetails.order.administrationId,"/notas/te-verzenden/verzenden/email/").concat(e)))})),y()(b()(n),"showSendPost",(function(){var e="collection"===n.props.invoiceDetails.paymentTypeId?"incasso":"overboeken";n.props.previewSend([n.props.invoiceDetails.id]),P.f.push("/financieel/".concat(n.props.invoiceDetails.order.administrationId,"/notas/te-verzenden/verzenden/post/").concat(e))})),y()(b()(n),"showSetPaid",(function(){n.setState({showSetPaid:!n.state.showSetPaid})})),y()(b()(n),"showSendNotification",(function(){n.setState({showSendNotification:!n.state.showSendNotification})})),y()(b()(n),"showSetIrrecoverable",(function(){n.setState({showSetIrrecoverable:!n.state.showSetIrrecoverable})})),y()(b()(n),"showDelete",(function(){n.setState({showDelete:!n.state.showDelete})})),y()(b()(n),"view",(function(){P.f.push("/nota/inzien/".concat(n.props.invoiceDetails.id))})),n.state={showSetChecked:!1,showSetPaid:!1,showSendNotification:!1,reminderText:"",showSetIrrecoverable:!1,showDelete:!1},n}return o()(a,[{key:"componentWillReceiveProps",value:function(e){this.props!==e&&(e.invoiceDetails.dateReminder3?this.setState({reminderText:"Wilt u de aanmaning sturen?"}):e.invoiceDetails.dateReminder2?this.setState({reminderText:"Wilt u de derde herinnering sturen?"}):e.invoiceDetails.dateReminder1?this.setState({reminderText:"Wilt u de tweede herinnering sturen?"}):this.setState({reminderText:"Wilt u de eerste herinnering sturen?"}))}},{key:"render",value:function(){return f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-md-4"},f.a.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},f.a.createElement(D.a,{iconName:"glyphicon-arrow-left",onClickAction:P.e.goBack}),f.a.createElement(D.a,{iconName:"glyphicon-eye-open",onClickAction:this.view}),("to-send"===this.props.invoiceDetails.statusId||"error-sending"===this.props.invoiceDetails.statusId)&&"Geen e-mail bekend"!==this.props.invoiceDetails.emailToAddress&&f.a.createElement(D.a,{iconName:"glyphicon-envelope",onClickAction:this.showSend}),("to-send"===this.props.invoiceDetails.statusId||"error-sending"===this.props.invoiceDetails.statusId)&&"Geen e-mail bekend"===this.props.invoiceDetails.emailToAddress&&f.a.createElement(D.a,{iconName:"glyphicon-envelope",onClickAction:this.showSendPost}),!this.props.invoiceDetails.invoiceInTwinfield&&!this.props.invoiceDetails.invoicePaidInTwinfield&&("sent"===this.props.invoiceDetails.statusId||"exported"===this.props.invoiceDetails.statusId)&&f.a.createElement(D.a,{iconName:"glyphicon-euro",onClickAction:this.showSetPaid}),("sent"===this.props.invoiceDetails.statusId||"exported"===this.props.invoiceDetails.statusId)&&!this.props.invoiceDetails.dateExhortation&&!this.props.invoiceDetails.isPaidByMollie&&f.a.createElement(D.a,{iconName:"glyphicon-bullhorn",onClickAction:this.showSendNotification}),"to-send"!==this.props.invoiceDetails.statusId&&"in-progress"!==this.props.invoiceDetails.statusId&&"is-sending"!==this.props.invoiceDetails.statusId&&"error-making"!==this.props.invoiceDetails.statusId&&"error-sending"!==this.props.invoiceDetails.statusId&&"is-resending"!==this.props.invoiceDetails.statusId&&"paid"!==this.props.invoiceDetails.statusId&&"irrecoverable"!==this.props.invoiceDetails.statusId&&f.a.createElement(D.a,{iconName:"glyphicon-remove",onClickAction:this.showSetIrrecoverable}),f.a.createElement(D.a,{iconName:"glyphicon-download-alt",onClickAction:this.download}),"to-send"===this.props.invoiceDetails.statusId&&f.a.createElement(D.a,{iconName:"glyphicon-trash",onClickAction:this.showDelete}))),!this.props.isLoading&&f.a.createElement("div",{className:"col-md-4"},f.a.createElement("h4",{className:"text-center"},"Nota:"," ",this.props.invoiceDetails.order?this.props.invoiceDetails.order.contact.fullName:""," /"," ",this.props.invoiceDetails.number)),f.a.createElement("div",{className:"col-md-4"}),this.state.showSetPaid&&f.a.createElement(L,{closeModal:this.showSetPaid,invoiceId:this.props.invoiceDetails.id,amountOpen:this.props.invoiceDetails.amountOpen}),this.state.showSendNotification&&f.a.createElement(q,{reminderText:this.state.reminderText,closeModal:this.showSendNotification,invoiceId:this.props.invoiceDetails.id}),this.state.showSetIrrecoverable&&f.a.createElement(z,{closeModal:this.showSetIrrecoverable,invoiceId:this.props.invoiceDetails.id}),this.state.showDelete&&f.a.createElement(H,{number:this.props.invoiceDetails.number,id:this.props.invoiceDetails.id,closeDeleteItemModal:this.showDelete}))}}]),a}(p.Component),J=Object(h.b)((function(e){return{invoiceDetails:e.invoiceDetails,isLoading:e.loadingData.isLoading}}),(function(e){return{previewSend:function(t){e(Object(G.e)(t))},setError:function(t,a){e(Object(_.b)(t,a))}}}))(U),Q=a(199),X=a(704),Z=a(699),$=a(700),ee=Object(h.b)((function(e){return{invoiceDetails:e.invoiceDetails}}))((function(e){var t=e.invoiceDetails,a=t.status,n=t.dateRequested,r=t.paymentType,i=t.paymentTypeId,o=t.invoiceText,c=t.subject,l=t.order,s=t.totalInclVatInclReduction,u=t.amountOpen,m=t.dateSent,d=t.datePaymentDue,p=t.datePaid,h=t.paymentReference,v=t.dateReminder1,g=t.dateReminder2,b=t.dateReminder3,E=t.dateExhortation,y=t.emailReminder1,P=t.emailReminder2,D=t.emailReminder3,w=t.emailExhortation,N=t.dateCollection,O=t.emailedTo,C=t.sentToName,S=t.isPaidByMollie;return f.a.createElement("div",{onClick:e.switchToEdit},f.a.createElement(Z.a,null,f.a.createElement($.a,null,f.a.createElement("div",{className:"row"},f.a.createElement(X.a,{label:"Contact",value:l.contact?l.contact.fullName:"",link:l.contact?"contact/"+l.contact.id:""}),f.a.createElement(X.a,{label:"Status",value:a?a.name:""})),a&&"sent"===a.id&&S&&f.a.createElement("div",{className:"row"},f.a.createElement(X.a,null),f.a.createElement(X.a,{label:"Substatus",value:"Mollie betaald"})),f.a.createElement("div",{className:"row"},f.a.createElement(X.a,{label:"Betaalwijze",value:r?r.name:""}),f.a.createElement(X.a,{label:"Betreft",value:c||""})),f.a.createElement("div",{className:"row"},f.a.createElement(X.a,{label:"Order",value:l?l.number:"",link:l?"order/"+l.id:""})),f.a.createElement("div",{className:"row margin-20-top margin-20-bottom"},f.a.createElement("div",{className:"col-sm-3"},f.a.createElement("label",{htmlFor:"invoiceText",className:"col-sm-12"},"Opmerking")),f.a.createElement("div",{className:"col-sm-9",id:"invoiceText"},o||"")),f.a.createElement("div",{className:"row"},f.a.createElement(X.a,{label:"Bedrag incl. BTW",value:s?"€"+s.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}):"€0,00"}),f.a.createElement(X.a,{label:"Openstaand bedrag",value:u?"€"+u.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}):"€0,00"})),f.a.createElement("div",{className:"row"},m?f.a.createElement(X.a,{label:"Nota datum",value:m?I()(m).format("DD-MM-Y"):""}):f.a.createElement(X.a,{label:"Geplande nota datum",value:n?I()(n).format("DD-MM-Y"):""})),f.a.createElement("div",{className:"row"},f.a.createElement(X.a,{label:"Verstuurd naar",value:C||""}),f.a.createElement(X.a,{label:"Verstuurd naar e-mail",value:O||""})),f.a.createElement("div",{className:"row"},f.a.createElement(X.a,{label:"Herinnering 1 verstuurd",value:v?I()(v).format("DD-MM-Y"):""}),f.a.createElement(X.a,{label:"E-mail herinnering 1",value:y||""})),f.a.createElement("div",{className:"row"},f.a.createElement(X.a,{label:"Herinnering 2 verstuurd",value:g?I()(g).format("DD-MM-Y"):""}),f.a.createElement(X.a,{label:"E-mail herinnering 2",value:P||""})),f.a.createElement("div",{className:"row"},f.a.createElement(X.a,{label:"Herinnering 3 verstuurd",value:b?I()(b).format("DD-MM-Y"):""}),f.a.createElement(X.a,{label:"E-mail herinnering 3",value:D||""})),f.a.createElement("div",{className:"row"},f.a.createElement(X.a,{label:"Aanmaning verstuurd",value:E?I()(E).format("DD-MM-Y"):""}),f.a.createElement(X.a,{label:"E-mail aanmaning",value:w||""})),f.a.createElement("div",{className:"row"},"transfer"===i?f.a.createElement(X.a,{label:"Uiterste betaaldatum",value:d?I()(d).format("DD-MM-Y"):""}):f.a.createElement(X.a,{label:"Incasso datum",value:N?I()(N).format("DD-MM-Y"):""}),f.a.createElement(X.a,{label:"Datum betaald",value:p?I()(p).format("DD-MM-Y"):""})),f.a.createElement("div",{className:"row"},f.a.createElement(X.a,{label:"Betalingskenmerk",value:h||""})))))}));function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var ae=function(e){l()(a,e);var t=te(a);function a(e){return r()(this,a),t.call(this,e)}return o()(a,[{key:"render",value:function(){return f.a.createElement("div",null,f.a.createElement(ee,null))}}]),a}(p.Component);I.a.locale("nl");var ne=Object(h.b)((function(e){return{invoiceDetails:e.invoiceDetails}}))((function(e){var t=e.invoiceDetails,a=t.createdAt,n=t.createdBy;return f.a.createElement("div",null,f.a.createElement("div",{className:"row"},f.a.createElement(X.a,{label:"Gemaakt door",value:n?n.fullName:"Onbekend",link:n?"gebruiker/"+n.id:""}),f.a.createElement(X.a,{label:"Gemaakt op",value:a?I()(a).format("L"):"Onbekend"})))})),re=a(707),ie=function(e){return f.a.createElement(Z.a,null,f.a.createElement(re.a,null,f.a.createElement("span",{className:"h5 text-bold"},"Afsluiting gegevens")),f.a.createElement($.a,null,f.a.createElement("div",{className:"col-md-12"},f.a.createElement(ne,null))))};I.a.locale("nl");var oe=Object(h.b)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.invoiceProduct,a=t.period,n=t.productCode,r=t.productName,i=t.description,o=t.amount,c=t.amountInclVatInclReduction;return f.a.createElement("div",{className:"row border ".concat(e.highlightLine),onMouseEnter:function(){return e.onLineEnter()},onMouseLeave:function(){return e.onLineLeave()}},f.a.createElement("div",null,f.a.createElement("div",{className:"col-sm-1"},n||""),f.a.createElement("div",{className:"col-sm-3"},r||""),f.a.createElement("div",{className:"col-sm-3"},i||""),f.a.createElement("div",{className:"col-sm-2"},o||""),f.a.createElement("div",{className:"col-sm-2"},c?"€"+c.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}):"€0,00"),f.a.createElement("div",{className:"col-sm-1"}),a&&f.a.createElement("div",{className:"col-sm-12"},"Periode ",a)))})),ce=a(702);I.a.locale("nl");var le=function(e){var t=e.invoiceProduct,a=t.product,n=t.description,r=t.amount,i=t.amountReduction,o=t.percentageReduction,c=t.dateLastInvoice,l=t.variablePrice;return f.a.createElement("div",null,f.a.createElement("form",{className:"form-horizontal",onSubmit:e.handleSubmit},f.a.createElement(Z.a,{className:"panel-grey"},f.a.createElement($.a,null,f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{label:"Notanummer",name:"invoice",value:e.invoiceDetails?e.invoiceDetails.number:"",readOnly:!0}),f.a.createElement(k.a,{label:"Product",name:"product",value:a?a.name:"",readOnly:!0})),f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{label:"Omschrijving",id:"description",name:"description",value:n,onChangeAction:e.handleInputChange,required:"required",error:e.errors.description}),f.a.createElement(k.a,{label:"Aantal",type:"number",id:"amount",name:"amount",value:r,onChangeAction:e.handleInputChange,required:"required",error:e.errors.amount})),f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{label:"Kortingspercentage",type:"number",id:"percentageReduction",name:"percentageReduction",value:o,onChangeAction:e.handleInputChange}),e.productVariablePrice?f.a.createElement(k.a,{label:"Prijs ex. BTW",type:"number",name:"variablePrice",value:l,onChangeAction:e.handleInputChangeVariablePrice}):f.a.createElement(k.a,{label:"Prijs excl. BTW",name:"price",value:"€"+e.invoiceProduct.product.currentPrice.priceInclVat.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:e.invoiceProduct.product.currentPrice.priceNumberOfDecimals}),readOnly:!0})),f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{label:"Kortingsbedrag",type:"number",id:"amountReduction",name:"amountReduction",value:i,onChangeAction:e.handleInputChange}),f.a.createElement(k.a,{label:"Totaalbedrag",name:"totalPrice",value:"€"+e.totalPrice.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}),readOnly:!0})),f.a.createElement("div",{className:"row"},f.a.createElement(R.a,{label:"Begin datum",name:"dateLastInvoice",value:c,onChangeAction:e.handleInputChangeDate})),f.a.createElement("div",{className:"pull-right btn-group",role:"group"},f.a.createElement(ce.a,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:e.cancelEdit}),f.a.createElement(ce.a,{buttonText:"Opslaan",onClickAction:e.handleSubmit,type:"submit",value:"Submit"}))))))},se=Object(h.b)(null,(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))((function(e){return f.a.createElement(w.a,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.closeDeleteItemModal,confirmAction:function(){N.a.deleteInvoiceProduct(e.id).then((function(t){e.fetchInvoiceDetails(e.invoiceId),e.closeDeleteItemModal()}))},title:"Verwijderen"},f.a.createElement("p",null,"Verwijder notaregel?"))}));function ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ue(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var pe=function(e){l()(a,e);var t=de(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"toggleDelete",(function(){n.setState({showDelete:!n.state.showDelete})})),y()(b()(n),"onLineEnter",(function(){n.setState({showActionButtons:!0,highlightLine:"highlight-line"})})),y()(b()(n),"onLineLeave",(function(){n.setState({showActionButtons:!1,highlightLine:""})})),y()(b()(n),"openEdit",(function(){n.setState({showEdit:!0})})),y()(b()(n),"closeEdit",(function(){n.setState({showEdit:!1})})),y()(b()(n),"cancelEdit",(function(){n.setState(me(me({},n.state),{},{invoiceProduct:me({},n.props.invoiceProduct)})),n.closeEdit()})),y()(b()(n),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(me(me({},n.state),{},{invoiceProduct:me(me({},n.state.invoiceProduct),{},y()({},r,a))}),n.updatePrice)})),y()(b()(n),"updatePrice",(function(){var e=0;e=n.state.invoiceProduct.variablePrice?S.a.isFloat(n.state.invoiceProduct.variablePrice+"")?n.state.invoiceProduct.variablePrice:0:S.a.isFloat(n.props.invoiceProduct.product.currentPrice.priceInclVat+"")?n.props.invoiceProduct.product.currentPrice.priceInclVat:0;var t=S.a.isFloat(n.state.invoiceProduct.amount+"")?n.state.invoiceProduct.amount:0,a=S.a.isFloat(n.state.invoiceProduct.percentageReduction+"")?n.state.invoiceProduct.percentageReduction:0,r=S.a.isFloat(n.state.invoiceProduct.amountReduction+"")?n.state.invoiceProduct.amountReduction:0,i=0;e<0?i=e*t*((parseFloat(100)+parseFloat(a))/100)-r:i=e*t*((100-a)/100)-r;n.setState(me(me({},n.state),{},{totalPrice:i}))})),y()(b()(n),"handleSubmit",(function(e){e.preventDefault();var t={},a=!1,r=n.state.invoiceProduct;S.a.isEmpty(r.amount+"")&&(t.amount=!0,a=!0),S.a.isEmpty(r.description+"")&&(t.description=!0,a=!0),n.setState(me(me({},n.state),{},{errors:t})),!a&&N.a.updateInvoiceProduct(r).then((function(e){n.props.fetchInvoiceDetails(n.state.invoiceProduct.invoiceId),n.closeEdit()}))})),y()(b()(n),"handleInputChangeVariablePrice",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(me(me({},n.state),{},{price:a,invoiceProduct:me(me({},n.state.invoiceProduct),{},y()({},r,a))}),n.updatePrice)})),n.state={showActionButtons:!1,highlightLine:"",showEdit:!1,showDelete:!1,totalPrice:e.invoiceProduct.amountInclVatInclReduction,invoiceProduct:me(me({},e.invoiceProduct),{},{variablePrice:e.invoiceProduct.priceInclVat?Math.round(100*e.invoiceProduct.priceInclVat)/100:0}),errors:{amount:!1,description:!1}},n.handleInputChangeDate=n.handleInputChangeDate.bind(b()(n)),n}return o()(a,[{key:"componentWillReceiveProps",value:function(e){Object(Q.isEqual)(this.state.invoiceProduct,e.invoiceProduct)||this.setState(me(me({},this.state),{},{totalPrice:e.invoiceProduct.amountInclVatInclReduction,invoiceProduct:me(me({},e.invoiceProduct),{},{variablePrice:e.invoiceProduct.priceInclVat?Math.round(100*e.invoiceProduct.priceInclVat)/100:0})}))}},{key:"handleInputChangeDate",value:function(e,t){this.setState(me(me({},this.state),{},{invoiceProduct:me(me({},this.state.invoiceProduct),{},y()({},t,e))}))}},{key:"render",value:function(){return f.a.createElement("div",null,f.a.createElement(oe,{highlightLine:this.state.highlightLine,onLineEnter:this.onLineEnter,onLineLeave:this.onLineLeave,showActionButtons:this.state.showActionButtons,invoiceProduct:this.state.invoiceProduct,invoiceDetails:this.props.invoiceDetails,openEdit:this.openEdit,toggleDelete:this.toggleDelete}),this.state.showEdit&&this.props.permissions.manageFinancial&&f.a.createElement(le,{invoiceDetails:this.props.invoiceDetails,errors:this.state.errors,totalPrice:this.state.totalPrice,invoiceProduct:this.state.invoiceProduct,handleInputChange:this.handleInputChange,handleInputChangeDate:this.handleInputChangeDate,handleSubmit:this.handleSubmit,cancelEdit:this.cancelEdit,handleInputChangeVariablePrice:this.handleInputChangeVariablePrice,productVariablePrice:"variable"===this.state.invoiceProduct.product.hasVariablePrice}),this.state.showDelete&&this.props.permissions.manageFinancial&&f.a.createElement(se,{closeDeleteItemModal:this.toggleDelete,id:this.state.invoiceProduct.id,invoiceId:this.state.invoiceProduct.invoiceId}))}}]),a}(p.Component),fe=Object(h.b)((function(e){return{permissions:e.meDetails.permissions,invoiceDetails:e.invoiceDetails}}),(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))(pe),he=Object(h.b)((function(e){return{invoiceProducts:e.invoiceDetails.invoiceProducts}}))((function(e){return f.a.createElement("div",null,f.a.createElement("div",{className:"row border header"},f.a.createElement("div",{className:"col-sm-1"},"Productcode"),f.a.createElement("div",{className:"col-sm-3"},"Productnaam"),f.a.createElement("div",{className:"col-sm-3"},"Omschrijving"),f.a.createElement("div",{className:"col-sm-2"},"Aantal"),f.a.createElement("div",{className:"col-sm-2"},"Bedrag incl. BTW")),e.invoiceProducts.length>0?e.invoiceProducts.map((function(e){return f.a.createElement(fe,{key:e.id,invoiceProduct:e})})):f.a.createElement("div",null,"Geen notaregels bekend."))})),ve=a(705),ge=a(721);function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var Pe=function(e){l()(a,e);var t=ye(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Ee(Ee({},n.state),{},{invoiceProduct:Ee(Ee({},n.state.invoiceProduct),{},y()({},r,a))}),n.updatePrice)})),y()(b()(n),"handleInputChangeProduct",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Ee(Ee({},n.state),{},{product:Ee(Ee({},n.state.product),{},y()({},r,a))}))})),y()(b()(n),"handleInputChangeProductPrice",(function(e){var t,a=e.target,r="checkbox"===a.type?a.checked:a.value,i=a.name;t=n.state.vatPercentage&&"6"==n.state.vatPercentage.id?1.06*r:n.state.vatPercentage&&"9"==n.state.vatPercentage.id?1.09*r:n.state.vatPercentage&&"21"==n.state.vatPercentage.id?1.21*r:r,n.setState(Ee(Ee({},n.state),{},{price:t,product:Ee(Ee({},n.state.product),{},y()({},i,r))}),n.updatePrice)})),y()(b()(n),"handleInputChangeProductVat",(function(e){var t,a=e.target,r="checkbox"===a.type?a.checked:a.value,i=a.name;t="6"==r?1.06*n.state.product.price:"9"==r?1.09*n.state.product.price:"21"==r?1.21*n.state.product.price:n.state.product.price,n.setState(Ee(Ee({},n.state),{},{price:t,product:Ee(Ee({},n.state.product),{},y()({},i,r))}),n.updatePrice)})),y()(b()(n),"updatePrice",(function(){var e=S.a.isFloat(n.state.price+"")?n.state.price:0,t=S.a.isFloat(n.state.invoiceProduct.amount+"")?n.state.invoiceProduct.amount:0,a=S.a.isFloat(n.state.invoiceProduct.percentageReduction+"")?n.state.invoiceProduct.percentageReduction:0,r=S.a.isFloat(n.state.invoiceProduct.amountReduction+"")?n.state.invoiceProduct.amountReduction:0,i=0;e<0?i=e*t*((parseFloat(100)+parseFloat(a))/100)-r:i=e*t*((100-a)/100)-r;n.setState(Ee(Ee({},n.state),{},{price:parseFloat(e).toFixed(2),totalPrice:parseFloat(i).toFixed(2)}))})),y()(b()(n),"handleSubmit",(function(e){e.preventDefault();var t=n.state.invoiceProduct,a={},r=!1,i=!1;S.a.isEmpty(t.amount+"")&&(a.amount=!0,r=!0),S.a.isEmpty(t.dateLastInvoice+"")&&(a.dateLastInvoice=!0,r=!0),S.a.isEmpty(t.description+"")&&(a.description=!0,r=!0);var o=n.state.product,c=!1;n.props.products.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return e.code===o.code&&(c=!0)&&e.active})),c&&(i="Productcode moet uniek zijn.",a.code=!0,r=!0),S.a.isEmpty(o.code+"")&&(a.code=!0,r=!0);var l=!1;n.props.products.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return e.name===o.name&&(l=!0)&&e.active})),l&&(i="Productnaam moet uniek zijn.",a.name=!0,r=!0),c&&l&&(i="Productcode en productnaam moeten uniek zijn."),S.a.isEmpty(o.name+"")&&(a.name=!0,r=!0),S.a.isEmpty(o.administrationId+"")&&(a.administrationId=!0,r=!0),S.a.isEmpty(o.price+"")&&(a.price=!0,r=!0),n.setState(Ee(Ee({},n.state),{},{errors:a,errorMessage:i})),!r&&N.a.newProductAndInvoiceProduct(t,o).then((function(e){n.props.fetchInvoiceDetails(t.invoiceId),n.props.toggleShowNewProduct()}))})),n.state={vatPercentages:[{id:"0",name:"0"},{id:"9",name:"9"},{id:"21",name:"21"}],errorMessage:!1,price:"0",totalPrice:"0",invoiceProduct:{invoiceId:n.props.invoiceDetails.id,description:"",amount:1,amountReduction:0,percentageReduction:0,dateLastInvoice:I()().format("YYYY-MM-DD")},product:{code:"",name:"",durationId:"none",administrationId:n.props.invoiceDetails.order.administrationId,invoiceFrequencyId:"once",vatPercentage:"",price:"",isOneTime:!1,ledgerId:""},errors:{amount:!1,dateLastInvoice:!1,description:!1,code:!1,name:!1,price:!1}},n.handleReactSelectChange=n.handleReactSelectChange.bind(b()(n)),n.handleInputChangeDate=n.handleInputChangeDate.bind(b()(n)),n}return o()(a,[{key:"handleReactSelectChange",value:function(e,t){this.setState(Ee(Ee({},this.state),{},{product:Ee(Ee({},this.state.product),{},y()({},t,e))}))}},{key:"handleInputChangeDate",value:function(e,t){this.setState(Ee(Ee({},this.state),{},{invoiceProduct:Ee(Ee({},this.state.invoiceProduct),{},y()({},t,e))}))}},{key:"render",value:function(){var e=this.state.invoiceProduct,t=e.description,a=e.amount,n=e.amountReduction,r=e.percentageReduction,i=e.dateLastInvoice,o=this.state.product,c=o.code,l=o.name,s=o.vatPercentage,u=o.price,m=o.ledgerId;return f.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},f.a.createElement(Z.a,{className:"panel-grey"},f.a.createElement($.a,null,f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"panel-heading"},f.a.createElement("span",{className:"h5 text-bold"},"Product"))),f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{label:"Productcode",name:"code",value:c,onChangeAction:this.handleInputChangeProduct,required:"required",error:this.state.errors.code}),f.a.createElement(k.a,{label:"Naam",name:"name",value:l,onChangeAction:this.handleInputChangeProduct,required:"required",error:this.state.errors.name})),f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{label:"Prijs ex. BTW",id:"price",name:"price",type:"number",min:"0",max:"1000000",value:u,onChangeAction:this.handleInputChangeProductPrice,required:"required",error:this.state.errors.price}),f.a.createElement(ve.a,{label:"BTW percentage",name:"vatPercentage",options:this.state.vatPercentages,value:s,onChangeAction:this.handleInputChangeProductVat,placeholder:"Geen"})),1==this.props.invoiceDetails.order.administration.usesTwinfield&&1==this.props.invoiceDetails.order.administration.twinfieldIsValid&&f.a.createElement("div",{className:"row"},f.a.createElement(ge.a,{label:"Grootboek",name:"ledgerId",options:this.props.ledgers,optionName:"description",value:m,onChangeAction:this.handleReactSelectChange,multi:!1})),f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"panel-part panel-heading"},f.a.createElement("span",{className:"h5 text-bold"},"Notaregel"))),f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{label:"Omschrijving",id:"description",name:"description",value:t,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.description}),f.a.createElement(k.a,{label:"Aantal",type:"number",id:"amount",name:"amount",value:a,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.amount})),f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{label:"Kortingspercentage",type:"number",id:"percentageReduction",name:"percentageReduction",value:r,onChangeAction:this.handleInputChange}),f.a.createElement(k.a,{label:"Bedrag",name:"price",value:"€"+this.state.price.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}),readOnly:!0})),f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{label:"Kortingsbedrag",type:"number",id:"amountReduction",name:"amountReduction",value:n,onChangeAction:this.handleInputChange}),f.a.createElement(k.a,{label:"Totaalbedrag",name:"totalPrice",value:"€"+this.state.totalPrice.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}),readOnly:!0})),f.a.createElement("div",{className:"row"},f.a.createElement(R.a,{label:"Begin datum",name:"dateLastInvoice",value:i,onChangeAction:this.handleInputChangeDate,required:"required",error:this.state.errors.dateLastInvoice})),this.state.errorMessage&&f.a.createElement("div",{className:"col-sm-10 col-md-offset-1 alert alert-danger"},this.state.errorMessage),f.a.createElement("div",{className:"pull-right btn-group",role:"group"},f.a.createElement(ce.a,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:this.props.toggleShowNewProduct}),f.a.createElement(ce.a,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}]),a}(p.Component),De=Object(h.b)((function(e){return{invoiceDetails:e.invoiceDetails,administrationId:e.administrationDetails.id,productDurations:e.systemData.productDurations,productInvoiceFrequencies:e.systemData.productInvoiceFrequencies,productPaymentTypes:e.systemData.productPaymentTypes,products:e.systemData.products,ledgers:e.systemData.ledgers}}),(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))(Pe);function we(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?we(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):we(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var Ie=function(e){l()(a,e);var t=Oe(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Ne(Ne({},n.state),{},{invoiceProduct:Ne(Ne({},n.state.invoiceProduct),{},y()({},r,a))}),n.updatePrice)})),y()(b()(n),"handleInputChangeVariablePrice",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Ne(Ne({},n.state),{},{price:a,invoiceProduct:Ne(Ne({},n.state.invoiceProduct),{},y()({},r,a))}),n.updatePrice)})),y()(b()(n),"updatePrice",(function(){var e=S.a.isFloat(n.state.price+"")?n.state.price:0,t=S.a.isFloat(n.state.invoiceProduct.amount+"")?n.state.invoiceProduct.amount:0,a=S.a.isFloat(n.state.invoiceProduct.percentageReduction+"")?n.state.invoiceProduct.percentageReduction:0,r=S.a.isFloat(n.state.invoiceProduct.amountReduction+"")?n.state.invoiceProduct.amountReduction:0,i=0;e<0?i=e*t*((parseFloat(100)+parseFloat(a))/100)-r:i=e*t*((100-a)/100)-r;n.setState(Ne(Ne({},n.state),{},{totalPrice:i}))})),y()(b()(n),"handleChangeProduct",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name,i="",o=0,c="";if(a){var l=n.props.products.filter((function(e){return e.id==a}));o=l[0].priceInclVat,c=l[0].invoiceText,i=l[0].hasVariablePrice}n.setState(Ne(Ne({},n.state),{},{price:o,productHasVariablePrice:"variable"===i,invoiceProduct:Ne(Ne({},n.state.invoiceProduct),{},y()({description:c},r,a))}),n.updatePrice)})),y()(b()(n),"handleSubmit",(function(e){e.preventDefault();var t=n.state.invoiceProduct,a={},r=!1;S.a.isEmpty(t.productId+"")&&(a.productId=!0,r=!0),S.a.isEmpty(t.amount+"")&&(a.amount=!0,r=!0),S.a.isEmpty(t.dateLastInvoice+"")&&(a.dateLastInvoice=!0,r=!0),S.a.isEmpty(t.description+"")&&(a.description=!0,r=!0),n.setState(Ne(Ne({},n.state),{},{errors:a})),!r&&N.a.newInvoiceProduct(t).then((function(e){n.props.fetchInvoiceDetails(t.invoiceId),n.props.toggleShowNew()}))})),n.state={price:"0",totalPrice:"0",productHasVariablePrice:!1,invoiceProduct:{invoiceId:n.props.invoiceDetails.id,productId:"",description:"",amount:1,amountReduction:0,percentageReduction:0,dateLastInvoice:I()().format("YYYY-MM-DD"),variablePrice:0},errors:{productId:!1,amount:!1,dateLastInvoice:!1,description:!1}},n.handleInputChangeDate=n.handleInputChangeDate.bind(b()(n)),n}return o()(a,[{key:"handleInputChangeDate",value:function(e,t){this.setState(Ne(Ne({},this.state),{},{invoiceProduct:Ne(Ne({},this.state.invoiceProduct),{},y()({},t,e))}))}},{key:"render",value:function(){var e=this.state.invoiceProduct,t=e.productId,a=e.description,n=e.amount,r=e.amountReduction,i=e.percentageReduction,o=e.dateLastInvoice;return f.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},f.a.createElement(Z.a,{className:"panel-grey"},f.a.createElement($.a,null,f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{label:"Order nummer",name:"orderId",value:this.props.invoiceDetails.number,readOnly:!0}),f.a.createElement(ve.a,{label:"Product",id:"productId",name:"productId",options:this.props.products,value:t,onChangeAction:this.handleChangeProduct,required:"required",error:this.state.errors.productId})),f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{label:"Omschrijving",id:"description",name:"description",value:a,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.description}),f.a.createElement(k.a,{label:"Aantal",type:"number",id:"amount",name:"amount",value:n,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.amount})),f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{label:"Kortingspercentage",type:"number",id:"percentageReduction",name:"percentageReduction",value:i,onChangeAction:this.handleInputChange}),this.state.productHasVariablePrice?f.a.createElement(k.a,{label:"Prijs ex. BTW",type:"number",name:"variablePrice",value:this.state.price,onChangeAction:this.handleInputChangeVariablePrice}):f.a.createElement(k.a,{label:"Prijs excl. BTW",name:"price",value:"€"+this.state.price.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}),readOnly:!0})),f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{label:"Kortingsbedrag",type:"number",id:"amountReduction",name:"amountReduction",value:r,onChangeAction:this.handleInputChange}),f.a.createElement(k.a,{label:"Totaalbedrag",name:"totalPrice",value:"€"+this.state.totalPrice.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}),readOnly:!0})),f.a.createElement("div",{className:"row"},f.a.createElement(R.a,{label:"Begin datum",name:"dateLastInvoice",value:o,onChangeAction:this.handleInputChangeDate,required:"required",error:this.state.errors.dateLastInvoice})),f.a.createElement("div",{className:"pull-right btn-group",role:"group"},f.a.createElement(ce.a,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:this.props.toggleShowNew}),f.a.createElement(ce.a,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}]),a}(p.Component),Ce=Object(h.b)((function(e){return{invoiceDetails:e.invoiceDetails,products:e.systemData.products}}),(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))(Ie);function Se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Se(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var je=function(e){l()(a,e);var t=ke(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Re(Re({},n.state),{},{invoiceProduct:Re(Re({},n.state.invoiceProduct),{},y()({},r,a))}),n.updatePrice)})),y()(b()(n),"handleInputChangeProduct",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Re(Re({},n.state),{},{product:Re(Re({},n.state.product),{},y()({},r,a))}))})),y()(b()(n),"handleInputChangeProductPrice",(function(e){var t,a=e.target,r="checkbox"===a.type?a.checked:a.value,i=a.name;t=n.state.vatPercentage&&"6"==n.state.vatPercentage.id?1.06*r:n.state.vatPercentage&&"9"==n.state.vatPercentage.id?1.09*r:n.state.vatPercentage&&"21"==n.state.vatPercentage.id?1.21*r:r,n.setState(Re(Re({},n.state),{},{price:t,product:Re(Re({},n.state.product),{},y()({},i,r))}),n.updatePrice)})),y()(b()(n),"handleInputChangeProductVat",(function(e){var t,a=e.target,r="checkbox"===a.type?a.checked:a.value,i=a.name;t="6"==r?1.06*n.state.product.price:"9"==r?1.09*n.state.product.price:"21"==r?1.21*n.state.product.price:n.state.product.price,n.setState(Re(Re({},n.state),{},{price:t,product:Re(Re({},n.state.product),{},y()({},i,r))}),n.updatePrice)})),y()(b()(n),"updatePrice",(function(){var e=S.a.isFloat(n.state.price+"")?n.state.price:0,t=S.a.isFloat(n.state.invoiceProduct.amount+"")?n.state.invoiceProduct.amount:0,a=S.a.isFloat(n.state.invoiceProduct.percentageReduction+"")?n.state.invoiceProduct.percentageReduction:0,r=S.a.isFloat(n.state.invoiceProduct.amountReduction+"")?n.state.invoiceProduct.amountReduction:0,i=0;e<0?i=e*t*((parseFloat(100)+parseFloat(a))/100)-r:i=e*t*((100-a)/100)-r;n.setState(Re(Re({},n.state),{},{price:parseFloat(e).toFixed(2),totalPrice:parseFloat(i).toFixed(2)}))})),y()(b()(n),"handleSubmit",(function(e){e.preventDefault();var t=n.state.invoiceProduct,a={},r=!1;S.a.isEmpty(t.amount+"")&&(a.amount=!0,r=!0),S.a.isEmpty(t.dateLastInvoice+"")&&(a.dateLastInvoice=!0,r=!0),S.a.isEmpty(t.description+"")&&(a.description=!0,r=!0);var i=n.state.product;S.a.isEmpty(i.administrationId+"")&&(a.administrationId=!0,r=!0),S.a.isEmpty(i.price+"")&&(a.price=!0,r=!0),n.setState(Re(Re({},n.state),{},{errors:a,errorMessage:!1})),!r&&N.a.newProductAndInvoiceProduct(t,i).then((function(e){n.props.fetchInvoiceDetails(t.invoiceId),n.props.toggleShowNewProductOneTime()}))})),n.state={vatPercentages:[{id:"0",name:"0"},{id:"9",name:"9"},{id:"21",name:"21"}],errorMessage:!1,price:"0",totalPrice:"0",invoiceProduct:{invoiceId:n.props.invoiceDetails.id,description:"",amount:1,amountReduction:0,percentageReduction:0,dateLastInvoice:I()().format("YYYY-MM-DD")},product:{code:"EMP",name:"Eenmalig product",durationId:"none",administrationId:n.props.invoiceDetails.order.administrationId,invoiceFrequencyId:"once",vatPercentage:"",price:"",isOneTime:!0,ledgerId:""},errors:{amount:!1,dateLastInvoice:!1,description:!1,price:!1}},n.handleReactSelectChange=n.handleReactSelectChange.bind(b()(n)),n.handleInputChangeDate=n.handleInputChangeDate.bind(b()(n)),n}return o()(a,[{key:"handleReactSelectChange",value:function(e,t){this.setState(Re(Re({},this.state),{},{product:Re(Re({},this.state.product),{},y()({},t,e))}))}},{key:"handleInputChangeDate",value:function(e,t){this.setState(Re(Re({},this.state),{},{invoiceProduct:Re(Re({},this.state.invoiceProduct),{},y()({},t,e))}))}},{key:"render",value:function(){var e=this.state.invoiceProduct,t=e.description,a=e.amount,n=e.amountReduction,r=e.percentageReduction,i=e.dateLastInvoice,o=this.state.product,c=o.vatPercentage,l=o.price,s=o.ledgerId;return f.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},f.a.createElement(Z.a,{className:"panel-grey"},f.a.createElement($.a,null,f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"panel-heading"},f.a.createElement("span",{className:"h5 text-bold"},"Product"))),f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{label:"Prijs ex. BTW",id:"price",name:"price",type:"number",min:"0",max:"1000000",value:l,onChangeAction:this.handleInputChangeProductPrice,required:"required",error:this.state.errors.price}),f.a.createElement(ve.a,{label:"BTW percentage",name:"vatPercentage",options:this.state.vatPercentages,value:c,onChangeAction:this.handleInputChangeProductVat,placeholder:"Geen"})),1==this.props.invoiceDetails.order.administration.usesTwinfield&&1==this.props.invoiceDetails.order.administration.twinfieldIsValid&&f.a.createElement("div",{className:"row"},f.a.createElement(ge.a,{label:"Grootboek",name:"ledgerId",options:this.props.ledgers,optionName:"description",value:s,onChangeAction:this.handleReactSelectChange,multi:!1})),f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"panel-part panel-heading"},f.a.createElement("span",{className:"h5 text-bold"},"Notaregel"))),f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{label:"Omschrijving",id:"description",name:"description",value:t,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.description}),f.a.createElement(k.a,{label:"Aantal",type:"number",id:"amount",name:"amount",value:a,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.amount})),f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{label:"Kortingspercentage",type:"number",id:"percentageReduction",name:"percentageReduction",value:r,onChangeAction:this.handleInputChange}),f.a.createElement(k.a,{label:"Bedrag",name:"price",value:"€"+this.state.price.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}),readOnly:!0})),f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{label:"Kortingsbedrag",type:"number",id:"amountReduction",name:"amountReduction",value:n,onChangeAction:this.handleInputChange}),f.a.createElement(k.a,{label:"Totaalbedrag",name:"totalPrice",value:"€"+this.state.totalPrice.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}),readOnly:!0})),f.a.createElement("div",{className:"row"},f.a.createElement(R.a,{label:"Begin datum",name:"dateLastInvoice",value:i,onChangeAction:this.handleInputChangeDate,required:"required",error:this.state.errors.dateLastInvoice})),this.state.errorMessage&&f.a.createElement("div",{className:"col-sm-10 col-md-offset-1 alert alert-danger"},this.state.errorMessage),f.a.createElement("div",{className:"pull-right btn-group",role:"group"},f.a.createElement(ce.a,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:this.props.toggleShowNewProductOneTime}),f.a.createElement(ce.a,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}]),a}(p.Component),Te=Object(h.b)((function(e){return{invoiceDetails:e.invoiceDetails,administrationId:e.administrationDetails.id,productDurations:e.systemData.productDurations,productInvoiceFrequencies:e.systemData.productInvoiceFrequencies,productPaymentTypes:e.systemData.productPaymentTypes,products:e.systemData.products,ledgers:e.systemData.ledgers}}),(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))(je);function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var xe=function(e){l()(a,e);var t=Ae(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"toggleShowNew",(function(){n.setState({showNew:!n.state.showNew})})),y()(b()(n),"toggleShowNewProduct",(function(){n.setState({showNewProduct:!n.state.showNewProduct})})),y()(b()(n),"toggleShowNewProductOneTime",(function(){n.setState({showNewProductOneTime:!n.state.showNewProductOneTime})})),n.state={showNew:!1,showNewProduct:!1,showNewProductOneTime:!1},n}return o()(a,[{key:"render",value:function(){return f.a.createElement(Z.a,null,f.a.createElement(re.a,null,f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-xs-10"},f.a.createElement("span",{className:"h5 text-bold"},"Notaregels")))),f.a.createElement($.a,null,f.a.createElement("div",{className:"col-md-12"},f.a.createElement(he,null)),f.a.createElement("div",{className:"col-md-12 margin-10-top"},this.state.showNew&&f.a.createElement(Ce,{toggleShowNew:this.toggleShowNew}),this.state.showNewProduct&&f.a.createElement(De,{toggleShowNewProduct:this.toggleShowNewProduct}),this.state.showNewProductOneTime&&f.a.createElement(Te,{toggleShowNewProductOneTime:this.toggleShowNewProductOneTime}))))}}]),a}(p.Component),Le=Object(h.b)((function(e){return{permissions:e.meDetails.permissions,invoice:e.invoiceDetails}}))(xe);I.a.locale("nl");var Me=Object(h.b)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.payment,a=t.datePaid,n=t.amount,r=t.paymentReference,i=t.createdAt;return f.a.createElement("div",{className:"row border ".concat(e.highlightLine),onMouseEnter:function(){return e.onLineEnter()},onMouseLeave:function(){return e.onLineLeave()}},f.a.createElement("div",{onClick:e.openEdit},f.a.createElement("div",{className:"col-sm-3"},a?I()(a).format("L"):""),f.a.createElement("div",{className:"col-sm-2"},n?"€"+n.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}):"€0,00"),f.a.createElement("div",{className:"col-sm-3"},r||""),f.a.createElement("div",{className:"col-sm-3"},i?I()(i).format("L"):"")),f.a.createElement("div",{className:"col-sm-1"},!e.invoiceInTwinfield&&!e.invoicePaidInTwinfield&&e.showActionButtons&&e.permissions.manageFinancial?f.a.createElement("a",{role:"button",onClick:e.openEdit},f.a.createElement("span",{className:"glyphicon glyphicon-pencil mybtn-success"})," "):"",!e.invoiceInTwinfield&&!e.invoicePaidInTwinfield&&e.showActionButtons&&e.permissions.manageFinancial?f.a.createElement("a",{role:"button",onClick:e.toggleDelete},f.a.createElement("span",{className:"glyphicon glyphicon-trash mybtn-danger"})," "):""))}));I.a.locale("nl");var Fe=function(e){var t=e.payment,a=t.amount,n=t.datePaid,r=t.paymentReference;return f.a.createElement("div",null,f.a.createElement("form",{className:"form-horizontal",onSubmit:e.handleSubmit},f.a.createElement(Z.a,{className:"panel-grey"},f.a.createElement($.a,null,f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{label:"Bedrag",id:"amount",name:"amount",value:a,onChangeAction:e.handleInputChange,required:"required",error:e.errors.amount}),f.a.createElement(R.a,{label:"Datum betaald",name:"datePaid",value:n,onChangeAction:e.handleInputChangeDate,required:"required",error:e.errors.datePaid})),f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{label:"Betalingskenmerk",name:"paymentReference",value:r,onChangeAction:e.handleInputChange})),f.a.createElement("div",{className:"pull-right btn-group",role:"group"},f.a.createElement(ce.a,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:e.cancelEdit}),f.a.createElement(ce.a,{buttonText:"Opslaan",onClickAction:e.handleSubmit,type:"submit",value:"Submit"}))))))},qe=Object(h.b)(null,(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))((function(e){return f.a.createElement(w.a,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.closeDeleteItemModal,confirmAction:function(){N.a.deletePayment(e.id).then((function(t){e.fetchInvoiceDetails(e.invoiceId),e.closeDeleteItemModal()}))},title:"Verwijderen"},f.a.createElement("p",null,"Verwijder betaling?"))}));function Be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Be(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var Ye=function(e){l()(a,e);var t=ze(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"toggleDelete",(function(){n.setState({showDelete:!n.state.showDelete})})),y()(b()(n),"onLineEnter",(function(){n.setState({showActionButtons:!0,highlightLine:"highlight-line"})})),y()(b()(n),"onLineLeave",(function(){n.setState({showActionButtons:!1,highlightLine:""})})),y()(b()(n),"openEdit",(function(){n.setState({showEdit:!0})})),y()(b()(n),"closeEdit",(function(){n.setState({showEdit:!1})})),y()(b()(n),"cancelEdit",(function(){n.setState(Ve(Ve({},n.state),{},{payment:Ve({},n.props.payment)})),n.closeEdit()})),y()(b()(n),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Ve(Ve({},n.state),{},{payment:Ve(Ve({},n.state.payment),{},y()({},r,a))}))})),y()(b()(n),"handleSubmit",(function(e){e.preventDefault();var t={},a=!1,r=n.state.payment;S.a.isEmpty(r.amount+"")&&(t.amount=!0,a=!0),S.a.isEmpty(r.datePaid+"")&&(t.datePaid=!0,a=!0),n.setState(Ve(Ve({},n.state),{},{errors:t})),!a&&N.a.updatePayment(r).then((function(e){n.props.fetchInvoiceDetails(n.state.payment.invoiceId),n.closeEdit()}))})),n.state={showActionButtons:!1,highlightLine:"",showEdit:!1,showDelete:!1,payment:Ve({},e.payment),errors:{amount:!1,datePaid:!1}},n.handleInputChangeDate=n.handleInputChangeDate.bind(b()(n)),n}return o()(a,[{key:"componentWillReceiveProps",value:function(e){Object(Q.isEqual)(this.state.payment,e.payment)||this.setState(Ve(Ve({},this.state),{},{payment:Ve({},e.payment)}))}},{key:"handleInputChangeDate",value:function(e,t){this.setState(Ve(Ve({},this.state),{},{payment:Ve(Ve({},this.state.payment),{},y()({},t,e))}))}},{key:"render",value:function(){return f.a.createElement("div",null,f.a.createElement(Me,{highlightLine:this.state.highlightLine,showActionButtons:this.state.showActionButtons,onLineEnter:this.onLineEnter,onLineLeave:this.onLineLeave,openEdit:this.openEdit,toggleDelete:this.toggleDelete,payment:this.state.payment,invoiceInTwinfield:this.props.invoiceInTwinfield,invoicePaidInTwinfield:this.props.invoicePaidInTwinfield}),!this.props.invoiceInTwinfield&&!this.props.invoicePaidInTwinfield&&this.state.showEdit&&this.props.permissions.manageFinancial&&f.a.createElement(Fe,{errors:this.state.errors,payment:this.state.payment,handleInputChange:this.handleInputChange,handleInputChangeDate:this.handleInputChangeDate,handleSubmit:this.handleSubmit,cancelEdit:this.cancelEdit}),!this.props.invoiceInTwinfield&&!this.props.invoicePaidInTwinfield&&this.state.showDelete&&this.props.permissions.manageFinancial&&f.a.createElement(qe,{closeDeleteItemModal:this.toggleDelete,id:this.state.payment.id,invoiceId:this.state.payment.invoiceId}))}}]),a}(p.Component),We=Object(h.b)((function(e){return{permissions:e.meDetails.permissions,invoiceInTwinfield:e.invoiceDetails.invoiceInTwinfield,invoicePaidInTwinfield:e.invoiceDetails.invoicePaidInTwinfield}}),(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))(Ye),Ge=Object(h.b)((function(e){return{payments:e.invoiceDetails.payments}}))((function(e){return f.a.createElement("div",null,f.a.createElement("div",{className:"row border header"},f.a.createElement("div",{className:"col-sm-3"},"Datum betaald"),f.a.createElement("div",{className:"col-sm-2"},"Bedrag"),f.a.createElement("div",{className:"col-sm-3"},"Betalingskenmerk"),f.a.createElement("div",{className:"col-sm-3"},"Datum aangemaakt"),f.a.createElement("div",{className:"col-sm-1"})),e.payments.length>0?e.payments.map((function(e){return f.a.createElement(We,{key:e.id,payment:e})})):f.a.createElement("div",null,"Geen betalingen bekend."))}));function He(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _e(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?He(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):He(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var Ue=function(e){l()(a,e);var t=Ke(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(_e(_e({},n.state),{},{payment:_e(_e({},n.state.payment),{},y()({},r,a))}))})),y()(b()(n),"handleSubmit",(function(e){e.preventDefault();var t=n.state.payment,a={},r=!1;S.a.isEmpty(t.amount+"")&&(a.amount=!0,r=!0),S.a.isEmpty(t.datePaid+"")&&(a.datePaid=!0,r=!0),n.setState(_e(_e({},n.state),{},{errors:a})),!r&&N.a.newPayment(t).then((function(e){n.props.fetchInvoiceDetails(t.invoiceId),n.props.toggleShowNew()}))})),n.state={payment:{invoiceId:n.props.invoiceDetails.id,amount:"",datePaid:I()(),paymentReference:null},errors:{amount:!1,datePaid:!1}},n.handleInputChangeDate=n.handleInputChangeDate.bind(b()(n)),n}return o()(a,[{key:"handleInputChangeDate",value:function(e,t){this.setState(_e(_e({},this.state),{},{payment:_e(_e({},this.state.payment),{},y()({},t,e))}))}},{key:"render",value:function(){var e=this.state.payment,t=e.amount,a=e.datePaid,n=e.paymentReference;return f.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},f.a.createElement(Z.a,{className:"panel-grey"},f.a.createElement($.a,null,f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{label:"Bedrag",id:"amount",name:"amount",value:t,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.amount}),f.a.createElement(R.a,{label:"Datum betaald",name:"datePaid",value:a,onChangeAction:this.handleInputChangeDate,required:"required",error:this.state.errors.datePaid})),f.a.createElement("div",{className:"row"},f.a.createElement(k.a,{label:"Betalingskenmerk",name:"paymentReference",value:n,onChangeAction:this.handleInputChange})),f.a.createElement("div",{className:"pull-right btn-group",role:"group"},f.a.createElement(ce.a,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:this.props.toggleShowNew}),f.a.createElement(ce.a,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}]),a}(p.Component),Je=Object(h.b)((function(e){return{invoiceDetails:e.invoiceDetails}}),(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))(Ue);function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var Xe=function(e){l()(a,e);var t=Qe(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"toggleShowNew",(function(){n.setState({showNew:!n.state.showNew})})),n.state={showNew:!1},n}return o()(a,[{key:"render",value:function(){return f.a.createElement(Z.a,null,f.a.createElement(re.a,null,f.a.createElement("span",{className:"h5 text-bold"},"Betalingen"),!this.props.invoiceInTwinfield&&!this.props.invoicePaidInTwinfield&&this.props.permissions.manageFinancial&&f.a.createElement("a",{role:"button",className:"pull-right",onClick:this.toggleShowNew},f.a.createElement("span",{className:"glyphicon glyphicon-plus"}))),f.a.createElement($.a,null,f.a.createElement("div",{className:"col-md-12"},f.a.createElement(Ge,null)),f.a.createElement("div",{className:"col-md-12 margin-10-top"},this.state.showNew&&f.a.createElement(Je,{toggleShowNew:this.toggleShowNew}))))}}]),a}(p.Component),Ze=Object(h.b)((function(e){return{permissions:e.meDetails.permissions,invoiceInTwinfield:e.invoiceDetails.invoiceInTwinfield,invoicePaidInTwinfield:e.invoiceDetails.invoicePaidInTwinfield}}))(Xe);I.a.locale("nl");var $e=function(e){var t=e.molliePayment,a=t.mollieId,n=(t.createdAt,t.datePaid),r=t.dateActivated,i=t.iban,o=t.ibanName;return f.a.createElement("div",{className:"row border"},f.a.createElement("div",null,f.a.createElement("div",{className:"col-sm-2"},a),f.a.createElement("div",{className:"col-sm-2"},r?I()(r).format("L HH:mm"):""),f.a.createElement("div",{className:"col-sm-2"},n?I()(n).format("L HH:mm"):""),f.a.createElement("div",{className:"col-sm-3"},i),f.a.createElement("div",{className:"col-sm-3"},o)))};function et(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function tt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?et(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):et(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var nt=function(e){l()(a,e);var t=at(a);function a(e){var n;return r()(this,a),(n=t.call(this,e)).state={molliePayment:tt({},e.molliePayment)},n}return o()(a,[{key:"render",value:function(){return f.a.createElement("div",null,f.a.createElement($e,{molliePayment:this.state.molliePayment}))}}]),a}(p.Component),rt=Object(h.b)((function(e){return{molliePayments:e.invoiceDetails.molliePayments}}))((function(e){return f.a.createElement("div",null,f.a.createElement("div",{className:"row border header"},f.a.createElement("div",{className:"col-sm-2"},"Transactie referentie"),f.a.createElement("div",{className:"col-sm-2"},"Aanvraag gedaan op"),f.a.createElement("div",{className:"col-sm-2"},"Betaald op"),f.a.createElement("div",{className:"col-sm-3"},"Iban"),f.a.createElement("div",{className:"col-sm-3"},"Rekeninghouder")),e.molliePayments.length>0?e.molliePayments.map((function(e){return f.a.createElement(nt,{key:e.id,molliePayment:e})})):f.a.createElement("div",null,"Geen online betalingstransacties bekend."))}));function it(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var ot=function(e){l()(a,e);var t=it(a);function a(){return r()(this,a),t.apply(this,arguments)}return o()(a,[{key:"render",value:function(){return f.a.createElement(Z.a,null,f.a.createElement(re.a,null,f.a.createElement("span",{className:"h5 text-bold"},"Online betalingtransacties")),f.a.createElement($.a,null,f.a.createElement("div",{className:"col-md-12"},f.a.createElement(rt,null))))}}]),a}(p.Component);I.a.locale("nl");var ct=function(e){var t=e.twinfieldMessage,a=t.createdAt,n=t.messageText,r=t.isError?"alert-warning":"";return f.a.createElement("div",{className:"row border"},f.a.createElement("div",null,f.a.createElement("div",{className:"col-sm-2 ".concat(r)},a?I()(a).format("L HH:mm"):""),f.a.createElement("div",{className:"col-sm-10 ".concat(r)},n)))};function lt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function st(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):lt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var mt=function(e){l()(a,e);var t=ut(a);function a(e){var n;return r()(this,a),(n=t.call(this,e)).state={twinfieldMessage:st({},e.twinfieldMessage)},n}return o()(a,[{key:"render",value:function(){return f.a.createElement("div",null,f.a.createElement(ct,{twinfieldMessage:this.state.twinfieldMessage}))}}]),a}(p.Component),dt=Object(h.b)((function(e){return{twinfieldMessages:e.invoiceDetails.twinfieldMessagesInvoice}}))((function(e){return f.a.createElement("div",null,f.a.createElement("div",{className:"row border header"},f.a.createElement("div",{className:"col-sm-2"},"Datum"),f.a.createElement("div",{className:"col-sm-10"},"Melding")),e.twinfieldMessages.length>0?e.twinfieldMessages.map((function(e){return f.a.createElement(mt,{key:e.id,twinfieldMessage:e})})):f.a.createElement("div",null,"Geen Twinfield meldingen."))}));function pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var ft=function(e){l()(a,e);var t=pt(a);function a(){return r()(this,a),t.apply(this,arguments)}return o()(a,[{key:"render",value:function(){return f.a.createElement(Z.a,null,f.a.createElement(re.a,null,f.a.createElement("span",{className:"h5 text-bold"},"Twinfield log nota's")),f.a.createElement($.a,null,f.a.createElement("div",{className:"col-md-12"},f.a.createElement(dt,null))))}}]),a}(p.Component);I.a.locale("nl");var ht=function(e){var t=e.twinfieldMessage,a=t.createdAt,n=t.messageText,r=t.isError?"alert-warning":"";return f.a.createElement("div",{className:"row border"},f.a.createElement("div",null,f.a.createElement("div",{className:"col-sm-2 ".concat(r)},a?I()(a).format("L HH:mm"):""),f.a.createElement("div",{className:"col-sm-10 ".concat(r)},n)))};function vt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function gt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var Et=function(e){l()(a,e);var t=bt(a);function a(e){var n;return r()(this,a),(n=t.call(this,e)).state={twinfieldMessage:gt({},e.twinfieldMessage)},n}return o()(a,[{key:"render",value:function(){return f.a.createElement("div",null,f.a.createElement(ht,{twinfieldMessage:this.state.twinfieldMessage}))}}]),a}(p.Component),yt=Object(h.b)((function(e){return{twinfieldMessages:e.invoiceDetails.twinfieldMessagesPayment}}))((function(e){return f.a.createElement("div",null,f.a.createElement("div",{className:"row border header"},f.a.createElement("div",{className:"col-sm-2"},"Datum"),f.a.createElement("div",{className:"col-sm-10"},"Melding")),e.twinfieldMessages.length>0?e.twinfieldMessages.map((function(e){return f.a.createElement(Et,{key:e.id,twinfieldMessage:e})})):f.a.createElement("div",null,"Geen Twinfield meldingen."))}));function Pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var Dt=function(e){l()(a,e);var t=Pt(a);function a(){return r()(this,a),t.apply(this,arguments)}return o()(a,[{key:"render",value:function(){return f.a.createElement(Z.a,null,f.a.createElement(re.a,null,f.a.createElement("span",{className:"h5 text-bold"},"Twinfield log betalingen")),f.a.createElement($.a,null,f.a.createElement("div",{className:"col-md-12"},f.a.createElement(yt,null))))}}]),a}(p.Component);function wt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}I.a.locale("nl");var Nt=function(e){l()(a,e);var t=wt(a);function a(e){return r()(this,a),t.call(this,e)}return o()(a,[{key:"render",value:function(){var e="",t=!0;return this.props.hasError?e="Fout bij het ophalen van nota.":this.props.isLoading?e="Gegevens aan het laden.":Object(Q.isEmpty)(this.props.invoiceDetails)?e="Geen nota gevonden!":t=!1,t?f.a.createElement("div",null,e):f.a.createElement("div",null,f.a.createElement(ae,null),f.a.createElement(Le,null),this.props.invoiceDetails.usesTwinfield&&f.a.createElement(ft,null),f.a.createElement(Ze,null),this.props.invoiceDetails.usesMollie&&f.a.createElement(ot,null),this.props.invoiceDetails.usesTwinfield&&f.a.createElement(Dt,null),f.a.createElement(ie,null))}}]),a}(p.Component),Ot=Object(h.b)((function(e){return{invoiceDetails:e.invoiceDetails,isLoading:e.loadingData.isLoading,hasError:e.loadingData.hasError}}))(Nt);function It(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var Ct=function(e){l()(a,e);var t=It(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"openItem",(function(e){P.f.push("/taak/".concat(e))})),n.state={relatedTasks:""},n}return o()(a,[{key:"render",value:function(){var e=this,t=this.props.relatedTasks;return f.a.createElement("div",null,""==t&&f.a.createElement("div",null,"Geen taken of notities gevonden."),""!=t&&f.a.createElement("table",{className:"table harmonica-table"},f.a.createElement("tbody",null,t.map((function(t,a){return f.a.createElement("tr",{onClick:function(){return e.openItem(t.id)},key:a},f.a.createElement("td",{className:"col-xs-12 clickable"},I()(t.createdAt).format("L")," - ",t.noteSummary))})))))}}]),a}(p.Component),St=Object(h.b)((function(e){return{relatedTasks:e.invoiceDetails.relatedTasks}}))(Ct),Rt=Object(h.b)((function(e){return{permissions:e.meDetails.permissions}}),null)((function(e){var t=e.toggleShowList,a=e.showTasksList,n=e.newTask,r=e.taskCount,i=e.permissions;return f.a.createElement(Z.a,{className:"harmonica-button"},f.a.createElement($.a,null,f.a.createElement("div",{className:"col-sm-10",onClick:t,role:"button"},f.a.createElement("span",null,"TAKEN/NOTITIES ",f.a.createElement("span",{className:"badge"},r))),f.a.createElement("div",{className:"col-sm-2"},i.manageTask&&f.a.createElement("div",{className:"pull-right"},f.a.createElement("span",{className:"glyphicon glyphicon-plus glyphicon-white","data-toggle":"dropdown",role:"button"}),f.a.createElement("ul",{className:"dropdown-menu"},f.a.createElement("li",null,f.a.createElement("a",{className:"btn",onClick:function(){return n("open")}},"Maak taak")),f.a.createElement("li",null,f.a.createElement("a",{className:"btn",onClick:function(){return n("afgehandeld")}},"Maak notitie"))))),f.a.createElement("div",{className:"col-sm-12"},a&&f.a.createElement(St,null))))}));function kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var jt=function(e){l()(a,e);var t=kt(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"openItem",(function(e){P.f.push("/email/".concat(e))})),n}return o()(a,[{key:"render",value:function(){var e=this,t=this.props.relatedEmails;return f.a.createElement("div",null,""==t&&f.a.createElement("div",null,"Geen e-mails gevonden."),""!=t&&f.a.createElement("table",{className:"table harmonica-table"},f.a.createElement("tbody",null,t.map((function(t,a){return f.a.createElement("tr",{key:a},f.a.createElement("td",{className:"col-xs-4 clickable",onClick:function(){return e.openItem(t.id)}},I()(t.date_sent).format("L")),f.a.createElement("td",{className:"col-xs-8 clickable",onClick:function(){return e.openItem(t.id)}},t.subject))})))))}}]),a}(p.Component),Tt=Object(h.b)((function(e){return{relatedEmails:e.invoiceDetails.relatedEmails}}))(jt),At=function(e){var t=e.toggleShowList,a=e.showEmailsList,n=e.newEmail,r=e.emailCount;return f.a.createElement(Z.a,{className:"harmonica-button"},f.a.createElement($.a,null,f.a.createElement("div",{className:"col-sm-10",onClick:t,role:"button"},f.a.createElement("span",{onClick:t,className:""},"E-MAILS ",f.a.createElement("span",{className:"badge"},r))),f.a.createElement("div",{className:"col-sm-2"},f.a.createElement("a",{role:"button",className:"pull-right",onClick:n},f.a.createElement("span",{className:"glyphicon glyphicon-plus glyphicon-white"}))),f.a.createElement("div",{className:"col-sm-12"},a&&f.a.createElement(Tt,null))))};function xt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Lt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var Ft=function(e){l()(a,e);var t=Mt(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"newTask",(function(e){P.f.push("/taak/nieuw/".concat(e,"/nota/").concat(n.props.invoiceDetails.id))})),y()(b()(n),"newEmail",(function(){P.f.push("/email/nieuw")})),n.state={toggleShowList:{tasks:!1,emails:!1}},n.toggleShowList=n.toggleShowList.bind(b()(n)),n}return o()(a,[{key:"componentWillReceiveProps",value:function(e){this.props.id!==e.id&&this.setState({toggleShowList:{tasks:!1,emails:!1}})}},{key:"toggleShowList",value:function(e){this.setState(Lt(Lt({},this.state),{},{toggleShowList:Lt(Lt({},this.state.toggleShowList),{},y()({},e,!this.state.toggleShowList[e]))}))}},{key:"render",value:function(){var e=this;return f.a.createElement("div",{className:"margin-10-top"},f.a.createElement(Rt,{toggleShowList:function(){return e.toggleShowList("tasks")},showTasksList:this.state.toggleShowList.tasks,taskCount:this.props.invoiceDetails.taskCount,newTask:this.newTask}),f.a.createElement(At,{toggleShowList:function(){return e.toggleShowList("emails")},showEmailsList:this.state.toggleShowList.emails,newEmail:this.newEmail,emailCount:this.props.invoiceDetails.emailCount}))}}]),a}(p.Component),qt=Object(h.b)((function(e){return{invoiceDetails:e.invoiceDetails,permissions:e.meDetails.permissions}}),null)(Ft);function Bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var Vt=function(e){l()(a,e);var t=Bt(a);function a(e){return r()(this,a),t.call(this,e)}return o()(a,[{key:"componentDidMount",value:function(){this.props.fetchInvoiceDetails(this.props.params.id)}},{key:"render",value:function(){return f.a.createElement("div",{className:"row"},f.a.createElement("div",{className:"col-md-9"},f.a.createElement("div",{className:"col-md-12 margin-10-top"},f.a.createElement(Z.a,null,f.a.createElement($.a,{className:"panel-small"},f.a.createElement(J,null)))),f.a.createElement("div",{className:"col-md-12 margin-10-top"},f.a.createElement(Ot,null))),f.a.createElement(Z.a,{className:"col-md-3 harmonica"},f.a.createElement($.a,null,f.a.createElement(qt,null))))}}]),a}(p.Component);t.default=Object(h.b)((function(e){return{invoiceDetails:e.invoiceDetails}}),(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))(Vt)},699:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(8),o=a.n(i),c=function(e){var t=e.children,a=e.className,n=e.onMouseEnter,i=e.onMouseLeave;return r.a.createElement("div",{className:"panel panel-default ".concat(a),onMouseEnter:n,onMouseLeave:i},t)};c.defaultProps={className:"",onMouseEnter:function(){},onMouseLeave:function(){}},c.propTypes={className:o.a.string,onMouseEnter:o.a.func,onMouseLeave:o.a.func},t.a=c},700:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(8),o=a.n(i),c=function(e){var t=e.className,a=e.children;return r.a.createElement("div",{className:"panel-body ".concat(t)},a)};c.defaultProps={className:""},c.propTypes={className:o.a.string},t.a=c},701:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(8),o=a.n(i),c=function(e){var t=e.buttonClassName,a=e.iconName,n=e.onClickAction,i=e.title,o=e.disabled;return r.a.createElement("button",{type:"button",className:"btn ".concat(t),onClick:n,disabled:o,title:i},r.a.createElement("span",{className:"glyphicon ".concat(a)}))};c.defaultProps={buttonClassName:"btn-success btn-sm",title:"",disabled:!1},c.propTypes={buttonClassName:o.a.string,iconName:o.a.string.isRequired,onClickAction:o.a.func,title:o.a.string,disabled:o.a.bool},t.a=c},702:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(8),o=a.n(i),c=function(e){var t=e.buttonClassName,a=e.buttonText,n=e.onClickAction,i=e.type,o=e.value,c=e.loading,l=e.loadText,s=e.disabled;return c?r.a.createElement("button",{type:i,className:"btn btn-sm btn-loading ".concat(t),value:o,disabled:c},r.a.createElement("span",{className:"glyphicon glyphicon-refresh glyphicon-refresh-animate"})," ",l):r.a.createElement("button",{type:i,className:"btn btn-sm ".concat(t),onClick:n,value:o,disabled:s},a)};c.defaultProps={buttonClassName:"btn-success",type:"button",value:"",loading:!1,loadText:"Aan het laden",disabled:!1},c.propTypes={buttonClassName:o.a.string,buttonText:o.a.string.isRequired,onClickAction:o.a.func,type:o.a.string,value:o.a.string,loading:o.a.bool,loadText:o.a.string,disabled:o.a.bool},t.a=c},703:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(8),o=a.n(i),c=function(e){var t=e.label,a=e.type,n=e.className,i=e.size,o=e.id,c=e.placeholder,l=e.name,s=e.value,u=e.onClickAction,m=e.onChangeAction,d=e.onBlurAction,p=e.required,f=e.readOnly,h=e.maxLength,v=e.error,g=e.min,b=e.max,E=e.step,y=e.errorMessage,P=e.divSize,D=e.divClassName,w=e.autoComplete;return r.a.createElement("div",{className:"form-group ".concat(P," ").concat(D)},r.a.createElement("label",{htmlFor:o,className:"col-sm-6 ".concat(p)},t),r.a.createElement("div",{className:"".concat(i)},r.a.createElement("input",{type:a,className:"form-control input-sm ".concat(n)+(v?"has-error":""),id:o,placeholder:c,name:l,value:s||"",onClick:u,onChange:m,onBlur:d,readOnly:f,maxLength:h,min:g,max:b,autoComplete:w,step:E})),v&&r.a.createElement("div",{className:"col-sm-offset-6 col-sm-6"},r.a.createElement("span",{className:"has-error-message"}," ",y)))};c.defaultProps={divClassName:"",className:"",size:"col-sm-6",divSize:"col-sm-6",name:"",type:"text",value:"",required:"",readOnly:!1,maxLength:null,error:!1,min:"",max:"",step:"",errorMessage:"",autoComplete:"off",onBlurAction:function(){},onClickAction:function(){},onChangeAction:function(){}},c.propTypes={label:o.a.oneOfType([o.a.string,o.a.object]).isRequired,type:o.a.string,className:o.a.string,divClassName:o.a.string,size:o.a.string,divSize:o.a.string,id:o.a.string,placeholder:o.a.string,name:o.a.string.isRequired,value:o.a.oneOfType([o.a.string,o.a.number]),onClickAction:o.a.func,onChangeAction:o.a.func,onBlurAction:o.a.func,required:o.a.string,readOnly:o.a.bool,maxLength:o.a.string,error:o.a.bool,min:o.a.string,max:o.a.string,step:o.a.string,errorMessage:o.a.string,autoComplete:o.a.string},t.a=c},704:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(4),o=a(8),c=a.n(o),l=a(710),s=a(711),u=function(e){var t=e.label,a=e.className,n=e.id,o=e.value,c=e.link,u=e.hidden,m=e.name,d=e.textToolTip;return c.length>0?r.a.createElement("div",{className:a,style:u?{display:"none"}:{}},r.a.createElement("label",{htmlFor:n,className:"col-sm-6"},t),r.a.createElement("div",{className:"col-sm-6",id:n,onClick:null},r.a.createElement(i.b,{to:c,className:"link-underline"},o)," ",d&&r.a.createElement("span",null,r.a.createElement(l.a,{color:"blue",size:"15px","data-tip":d,"data-for":"tooltip-".concat(m)}),r.a.createElement(s.a,{id:"tooltip-".concat(m),effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"})))):r.a.createElement("div",{className:a,style:u?{display:"none"}:{}},r.a.createElement("label",{htmlFor:n,className:"col-sm-6"},t),r.a.createElement("div",{className:"col-sm-6",id:n},o," ",d&&r.a.createElement("span",null,r.a.createElement(l.a,{color:"blue",size:"15px","data-tip":d,"data-for":"tooltip-".concat(m)}),r.a.createElement(s.a,{id:"tooltip-".concat(m),effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"}))))};u.defaultProps={className:"col-sm-6",value:"",id:"",name:"",textToolTip:"",link:"",hidden:!1},u.propTypes={label:c.a.oneOfType([c.a.string,c.a.object]).isRequired,className:c.a.string,id:c.a.string,name:c.a.string,textToolTip:c.a.string,value:c.a.oneOfType([c.a.string,c.a.number]),link:c.a.string,hidden:c.a.bool},t.a=u},705:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(8),o=a.n(i),c=function(e){var t=e.label,a=e.className,n=e.size,i=e.id,o=e.name,c=e.value,l=e.options,s=e.onChangeAction,u=e.onBlurAction,m=e.required,d=e.error,p=e.errorMessage,f=e.optionValue,h=e.optionName,v=e.readOnly,g=e.placeholder,b=e.divClassName,E=e.emptyOption;return r.a.createElement("div",{className:"form-group ".concat(n," ").concat(b)},r.a.createElement("label",{htmlFor:i,className:"col-sm-6 ".concat(m)},t),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("select",{className:"form-control input-sm ".concat(a)+(d&&" has-error"),id:i,name:o,value:c||"",onChange:s,onBlur:u,readOnly:v},E&&r.a.createElement("option",{value:""},g),l.map((function(e){return r.a.createElement("option",{key:e[f],value:e[f]},e[h])})))),d&&r.a.createElement("div",{className:"col-sm-offset-6 col-sm-6"},r.a.createElement("span",{className:"has-error-message"}," ",p)))};c.defaultProps={divClassName:"",className:"",size:"col-sm-6",readOnly:!1,required:"",error:!1,errorMessage:"",value:"",optionValue:"id",optionName:"name",placeholder:"",emptyOption:!0},c.propTypes={label:o.a.string.isRequired,className:o.a.string,size:o.a.string,id:o.a.string,name:o.a.string.isRequired,options:o.a.array,value:o.a.oneOfType([o.a.string,o.a.number]),onChangeAction:o.a.func,onBlurAction:o.a.func,required:o.a.string,readOnly:o.a.bool,error:o.a.bool,errorMessage:o.a.string,emptyOption:o.a.bool,optionValue:o.a.string,optionName:o.a.string,placeholder:o.a.string},t.a=c},707:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(8),o=a.n(i),c=function(e){var t=e.className,a=e.children;return r.a.createElement("div",{className:"panel-heading ".concat(t)},a)};c.defaultProps={className:""},c.propTypes={className:o.a.string},t.a=c},708:function(e,t,a){"use strict";var n=a(24),r=a.n(n),i=a(25),o=a.n(i),c=a(22),l=a.n(c),s=a(26),u=a.n(s),m=a(27),d=a.n(m),p=a(16),f=a.n(p),h=a(6),v=a.n(h),g=a(0),b=a.n(g),E=a(8),y=a.n(E),P=a(719),D=a.n(P),w=a(720),N=a.n(w),O=a(7),I=a.n(O),C=a(710),S=a(711);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=f()(e);if(t){var r=f()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return d()(this,a)}}I.a.locale("nl");var k=function(e){u()(a,e);var t=R(a);function a(e){var n;return r()(this,a),n=t.call(this,e),v()(l()(n),"validateDate",(function(e){var t=I()(e.target.value,"DD-MM-YYYY",!0),a=!1;t.isValid()||""===e.target.value||(a=!0),n.props.disabledBefore&&t.isBefore(n.props.disabledBefore)&&(a=!0),n.props.disabledAfter&&t.isAfter(n.props.disabledAfter)&&(a=!0),n.setState({errorDateFormat:a})})),v()(l()(n),"onDateChange",(function(e){var t=e?I()(e).format("Y-MM-DD"):"",a=!1;t&&n.props.disabledBefore&&I()(t).isBefore(n.props.disabledBefore)&&(a=!0),t&&n.props.disabledAfter&&I()(t).isAfter(n.props.disabledAfter)&&(a=!0),n.setState({errorDateFormat:a}),!a&&n.props.onChangeAction(t,n.props.name)})),n.state={errorDateFormat:!1},n}return o()(a,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.className,n=e.size,r=e.divSize,i=e.id,o=e.value,c=e.required,l=e.readOnly,s=e.name,u=e.textToolTip,m=e.error,d=e.errorMessage,p=e.disabledBefore,f=e.disabledAfter,h=o?I()(o).format("L"):"",v={};return p&&(v.before=new Date(p)),f&&(v.after=new Date(f)),b.a.createElement("div",{className:"form-group ".concat(r)},b.a.createElement("div",null,b.a.createElement("label",{htmlFor:i,className:"col-sm-6 ".concat(c)},t)),b.a.createElement("div",{className:"".concat(n)},b.a.createElement(D.a,{id:i,value:h,formatDate:w.formatDate,parseDate:w.parseDate,onDayChange:this.onDateChange,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:N.a,disabledDays:v},inputProps:{className:"form-control input-sm ".concat(a)+(this.state.errorDateFormat||m?" has-error":""),name:s,onBlur:this.validateDate,autoComplete:"off",readOnly:l,disabled:l},required:c,readOnly:l,placeholder:""})),u&&b.a.createElement("div",{className:"col-sm-1"},b.a.createElement(C.a,{color:"blue",size:"15px","data-tip":u,"data-for":"tooltip-".concat(s)}),b.a.createElement(S.a,{id:"tooltip-".concat(s),effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"})),m&&b.a.createElement("div",{className:"col-sm-offset-6 col-sm-6"},b.a.createElement("span",{className:"has-error-message"}," ",d)))}}]),a}(g.Component);k.defaultProps={className:"",size:"col-sm-6",divSize:"col-sm-6",required:"",readOnly:!1,value:null,id:"",name:"",textToolTip:"",error:!1,errorMessage:"",disabledBefore:null,disabledAfter:null},k.propTypes={label:y.a.string.isRequired,type:y.a.string,className:y.a.string,size:y.a.string,divSize:y.a.string,id:y.a.string,name:y.a.string,textToolTip:y.a.string,value:y.a.oneOfType([y.a.string,y.a.object]),onChangeAction:y.a.func,required:y.a.string,readOnly:y.a.bool,error:y.a.bool,errorMessage:y.a.string,disabledBefore:y.a.string,disabledAfter:y.a.string},t.a=k},721:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(8),o=a.n(i),c=a(724),l=(a(725),function(e){var t=e.label,a=e.divSize,n=e.size,i=e.id,o=e.name,l=e.value,s=e.options,u=e.optionId,m=e.optionName,d=e.onChangeAction,p=e.required,f=e.multi,h=e.error,v=e.isLoading,g=e.disabled;return r.a.createElement("div",{className:"form-group ".concat(a)},r.a.createElement("label",{htmlFor:i,className:"col-sm-6 ".concat(p)},t),r.a.createElement("div",{className:"".concat(n)},r.a.createElement(c.a,{id:i,name:o,value:l,onChange:function(e){d(e||"",o)},options:s,valueKey:u,labelKey:m,placeholder:"",noResultsText:"Geen resultaat gevonden",multi:f,simpleValue:!0,removeSelected:!0,className:h?" has-error":"",isLoading:v,disabled:g})))});l.defaultProps={className:"",size:"col-sm-6",divSize:"col-sm-6",optionId:"id",optionName:"name",disabled:!1,required:"",error:!1,value:"",multi:!0,isLoading:!1},l.propTypes={label:o.a.string.isRequired,className:o.a.string,size:o.a.string,divSize:o.a.string,id:o.a.string,name:o.a.string.isRequired,options:o.a.array.isRequired,optionId:o.a.string,optionName:o.a.string,value:o.a.oneOfType([o.a.string,o.a.number]),onChangeAction:o.a.func,onBlurAction:o.a.func,required:o.a.string,disabled:o.a.bool,error:o.a.bool,multi:o.a.bool,isLoading:o.a.bool},t.a=l},722:function(e,t){e.exports=function(e,t,a,n){var r=new Blob(void 0!==n?[n,e]:[e],{type:a||"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,t);else{var i=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(r):window.webkitURL.createObjectURL(r),o=document.createElement("a");o.style.display="none",o.href=i,o.setAttribute("download",t),void 0===o.download&&o.setAttribute("target","_blank"),document.body.appendChild(o),o.click(),setTimeout((function(){document.body.removeChild(o),window.URL.revokeObjectURL(i)}),200)}}},752:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){return{type:"FETCH_INVOICE_DETAILS",id:e}},r=function(e){return{type:"DELETE_INVOICE",id:e}}},849:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return c}));var n=function(e,t,a,n,r,i,o){return{type:"FETCH_INVOICES",filters:e,sorts:t,pagination:a,administrationId:n,onlyEmailInvoices:r,onlyPostInvoices:i,setInvoicesPaid:o}},r=function(e){return{type:"INVOICE_PREVIEW_SEND",data:e}},i=function(){return{type:"CLEAR_INVOICE_PREVIEW_SEND"}},o=function(){return{type:"CLEAR_INVOICES"}},c=function(e){return{type:"DELETE_INVOICE_FROM_GRID",id:e}}}}]);