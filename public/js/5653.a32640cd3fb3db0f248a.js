"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[5653],{30525:(t,e,n)=>{n.d(e,{Z:()=>x});var o=n(15671),a=n(43144),r=n(97326),s=n(60136),i=n(82963),l=n(61120),c=n(4942),u=n(67294),m=n(61409),p=n(86706),f=n(14309),d=n(98688),h=n(30381),v=n.n(h);var E=function(t){(0,s.Z)(f,t);var e,n,p=(e=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,o=(0,l.Z)(e);if(n){var a=(0,l.Z)(this).constructor;t=Reflect.construct(o,arguments,a)}else t=o.apply(this,arguments);return(0,i.Z)(this,t)});function f(t){var e;return(0,o.Z)(this,f),e=p.call(this,t),(0,c.Z)((0,r.Z)(e),"openItem",(function(t){m.nA.push("/taak/".concat(t))})),e.state={relatedTasks:""},e}return(0,a.Z)(f,[{key:"render",value:function(){var t=this,e=this.props.relatedTasks;return u.createElement("div",null,""==e&&u.createElement("div",null,"Geen taken gevonden."),""!=e&&u.createElement("table",{className:"table harmonica-table"},u.createElement("tbody",null,e.map((function(e,n){return u.createElement("tr",{onClick:function(){return t.openItem(e.id)},key:n},u.createElement("td",{className:"col-xs-12 clickable"},v()(e.createdAt).format("L")," - ",e.noteSummary))})))))}}]),f}(u.Component);const g=(0,p.$j)((function(t){return{relatedTasks:t.projectDetails.relatedTasks}}))(E);var O=n(97894),y=n(10055);const w=(0,p.$j)((function(t){return{permissions:t.meDetails.permissions}}),null)((function(t){var e=t.toggleShowList,n=t.showTasksList,o=t.taskCount,a=t.newTask,r=t.permissions;return u.createElement(f.Z,{className:"harmonica-button"},u.createElement(d.Z,null,u.createElement("div",{className:"col-sm-10",onClick:e,role:"button"},u.createElement("span",{className:""},"OPEN TAKEN ",u.createElement("span",{className:"badge"},o))),u.createElement("div",{className:"col-sm-2"},r.manageTask&&u.createElement("a",{role:"button",className:"pull-right",onClick:a},u.createElement(O.ZP,{className:"harmonica-button",size:14,icon:y.P}))),u.createElement("div",{className:"col-sm-12"},n&&u.createElement(g,null))))}));const b=function(t){(0,s.Z)(f,t);var e,n,p=(e=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,o=(0,l.Z)(e);if(n){var a=(0,l.Z)(this).constructor;t=Reflect.construct(o,arguments,a)}else t=o.apply(this,arguments);return(0,i.Z)(this,t)});function f(t){var e;return(0,o.Z)(this,f),e=p.call(this,t),(0,c.Z)((0,r.Z)(e),"openItem",(function(t){m.nA.push("/document/".concat(t))})),e}return(0,a.Z)(f,[{key:"render",value:function(){var t=this,e=this.props.relatedDocuments;return u.createElement("div",null,e&&""==e&&u.createElement("div",null,"Geen documenten gevonden."),e&&""!=e&&u.createElement("table",{className:"table harmonica-table"},u.createElement("tbody",null,e.map((function(e,n){return u.createElement("tr",{onClick:function(){return t.openItem(e.id)},key:n},u.createElement("td",{className:"col-xs-5 clickable"},v()(e.createdAt).format("L")),u.createElement("td",{className:"col-xs-6 clickable"},e.filename))})))))}}]),f}(u.Component),Z=(0,p.$j)((function(t){return{permissions:t.meDetails.permissions}}),null)((function(t){var e=t.title,n=t.toggleShowList,o=t.showDocumentsList,a=t.newDocument,r=t.documentCount,s=t.permissions,i=t.relatedDocuments;return u.createElement(f.Z,{className:"harmonica-button"},u.createElement(d.Z,null,u.createElement("div",{className:"col-sm-10",onClick:n,role:"button"},u.createElement("span",null,e," ",u.createElement("span",{className:"badge"},r))),u.createElement("div",{className:"col-sm-2"},s.createDocument&&u.createElement("div",{className:"pull-right"},u.createElement(O.ZP,{className:"harmonica-button",size:14,icon:y.P,"data-toggle":"dropdown",role:"button"}),u.createElement("ul",{className:"dropdown-menu"},u.createElement("li",null,u.createElement("a",{className:"btn",onClick:function(){return a("internal")}},"Maak document")),u.createElement("li",null,u.createElement("a",{className:"btn",onClick:function(){return a("upload")}},"Upload document"))))),o&&u.createElement(b,{relatedDocuments:i})))}));var N=n(41415);var k=function(t){(0,s.Z)(p,t);var e,n,m=(e=p,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,o=(0,l.Z)(e);if(n){var a=(0,l.Z)(this).constructor;t=Reflect.construct(o,arguments,a)}else t=o.apply(this,arguments);return(0,i.Z)(this,t)});function p(t){var e;return(0,o.Z)(this,p),e=m.call(this,t),(0,c.Z)((0,r.Z)(e),"openItem",(function(t){e.setState({showDetailsModal:!0,activeEmailId:t})})),e.state={showDetailsModal:!1,activeEmailId:null},e}return(0,a.Z)(p,[{key:"render",value:function(){var t=this,e=this.props.relatedEmailsInbox;return u.createElement("div",null,""==e&&u.createElement("div",null,"Geen e-mails gevonden."),""!=e&&u.createElement("table",{className:"table harmonica-table"},u.createElement("tbody",null,e.map((function(e,n){return u.createElement("tr",{key:n},u.createElement("td",{className:"col-xs-4 clickable",onClick:function(){return t.openItem(e.id)}},v()(e.date_sent).format("L")),u.createElement("td",{className:"col-xs-8 clickable",onClick:function(){return t.openItem(e.id)}},e.subject))})))),u.createElement(N.Z,{showModal:this.state.showDetailsModal,emailId:this.state.activeEmailId,setShowModal:function(e){return t.setState({showDetailsModal:e})}}))}}]),p}(u.Component);const S=(0,p.$j)((function(t){return{relatedEmailsInbox:t.projectDetails.relatedEmailsInbox}}))(k),C=function(t){var e=t.toggleShowList,n=t.showEmailsInboxList,o=t.newEmail,a=t.emailInboxCount;return u.createElement(f.Z,{className:"harmonica-button"},u.createElement(d.Z,null,u.createElement("div",{className:"col-sm-10",onClick:e,role:"button"},u.createElement("span",{onClick:e,role:"button",className:""},"E-MAIL INBOX ",u.createElement("span",{className:"badge"},a))),u.createElement("div",{className:"col-sm-2"},u.createElement("a",{role:"button",className:"pull-right",onClick:o},u.createElement(O.ZP,{className:"harmonica-button",size:14,icon:y.P}))),u.createElement("div",{className:"col-sm-12"},n&&u.createElement(S,null))))};var L=function(t){(0,s.Z)(p,t);var e,n,m=(e=p,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,o=(0,l.Z)(e);if(n){var a=(0,l.Z)(this).constructor;t=Reflect.construct(o,arguments,a)}else t=o.apply(this,arguments);return(0,i.Z)(this,t)});function p(t){var e;return(0,o.Z)(this,p),e=m.call(this,t),(0,c.Z)((0,r.Z)(e),"openItem",(function(t){e.setState({showDetailsModal:!0,activeEmailId:t})})),e.state={showDetailsModal:!1,activeEmailId:null},e}return(0,a.Z)(p,[{key:"render",value:function(){var t=this,e=this.props.relatedEmailsSent;return u.createElement("div",null,""==e&&u.createElement("div",null,"Geen e-mails gevonden."),""!=e&&u.createElement("table",{className:"table harmonica-table"},u.createElement("tbody",null,e.map((function(e,n){return u.createElement("tr",{key:n},u.createElement("td",{className:"col-xs-4 clickable",onClick:function(){return t.openItem(e.id)}},v()(e.date_sent).format("L")),u.createElement("td",{className:"col-xs-8 clickable",onClick:function(){return t.openItem(e.id)}},e.subject))})))),u.createElement(N.Z,{showModal:this.state.showDetailsModal,emailId:this.state.activeEmailId,setShowModal:function(e){return t.setState({showDetailsModal:e})}}))}}]),p}(u.Component);const P=(0,p.$j)((function(t){return{relatedEmailsSent:t.projectDetails.relatedEmailsSent}}))(L),D=function(t){var e=t.toggleShowList,n=t.showEmailsSentList,o=t.newEmail,a=t.emailSentCount;return u.createElement(f.Z,{className:"harmonica-button"},u.createElement(d.Z,null,u.createElement("div",{className:"col-sm-10",onClick:e,role:"button"},u.createElement("span",{onClick:e,className:""},"E-MAIL VERZONDEN ",u.createElement("span",{className:"badge"},a))),u.createElement("div",{className:"col-sm-2"},u.createElement("a",{role:"button",className:"pull-right",onClick:o},u.createElement(O.ZP,{className:"harmonica-button",size:14,icon:y.P}))),u.createElement("div",{className:"col-sm-12"},n&&u.createElement(P,null))))};function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var I=function(t){(0,s.Z)(f,t);var e,n,p=(e=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,o=(0,l.Z)(e);if(n){var a=(0,l.Z)(this).constructor;t=Reflect.construct(o,arguments,a)}else t=o.apply(this,arguments);return(0,i.Z)(this,t)});function f(t){var e;return(0,o.Z)(this,f),e=p.call(this,t),(0,c.Z)((0,r.Z)(e),"newTask",(function(){m.nA.push("/taak/nieuw/project/".concat(e.props.project.id))})),(0,c.Z)((0,r.Z)(e),"newDocumentNotOnPortal",(function(t){m.nA.push("/document/nieuw/".concat(t,"/eco/project/").concat(e.props.project.id))})),(0,c.Z)((0,r.Z)(e),"newDocumentOnPortal",(function(t){m.nA.push("/document/nieuw/".concat(t,"/portal/project/").concat(e.props.project.id))})),(0,c.Z)((0,r.Z)(e),"newEmail",(function(){m.nA.push("/email/nieuw")})),e.state={toggleShowList:{tasks:!1,documentsNotOnPortal:!1,documentsOnPortal:!1,emailsInbox:!1,emailsSent:!1}},e.toggleShowList=e.toggleShowList.bind((0,r.Z)(e)),e}return(0,a.Z)(f,[{key:"toggleShowList",value:function(t){this.setState(R(R({},this.state),{},{toggleShowList:R(R({},this.state.toggleShowList),{},(0,c.Z)({},t,!this.state.toggleShowList[t]))}))}},{key:"render",value:function(){var t=this;return u.createElement("div",{className:"margin-10-top"},u.createElement(w,{toggleShowList:function(){return t.toggleShowList("tasks")},showTasksList:this.state.toggleShowList.tasks,taskCount:this.props.project.taskCount,newTask:this.newTask}),u.createElement(Z,{title:"DOCUMENTEN ALLEEN IN ECONOBIS",toggleShowList:function(){return t.toggleShowList("documentsNotOnPortal")},showDocumentsList:this.state.toggleShowList.documentsNotOnPortal,newDocument:this.newDocumentNotOnPortal,documentCount:this.props.project.documentCountNotOnPortal,relatedDocuments:this.props.project.relatedDocumentsNotOnPortal}),u.createElement(Z,{title:"DOCUMENTEN PORTAL",toggleShowList:function(){return t.toggleShowList("documentsOnPortal")},showDocumentsList:this.state.toggleShowList.documentsOnPortal,newDocument:this.newDocumentOnPortal,documentCount:this.props.project.documentCountOnPortal,relatedDocuments:this.props.project.relatedDocumentsOnPortal}),u.createElement(C,{toggleShowList:function(){return t.toggleShowList("emailsInbox")},showEmailsInboxList:this.state.toggleShowList.emailsInbox,newEmail:this.newEmail,emailInboxCount:this.props.project.emailInboxCount}),u.createElement(D,{toggleShowList:function(){return t.toggleShowList("emailsSent")},showEmailsSentList:this.state.toggleShowList.emailsSent,newEmail:this.newEmail,emailSentCount:this.props.project.emailSentCount}))}}]),f}(u.Component);const x=(0,p.$j)((function(t){return{project:t.projectDetails}}))(I)},88211:(t,e,n)=>{n.d(e,{Z:()=>o});const o=function(t){return t||(t=0),t=parseFloat(t),isNaN(t)?"Ongeldig bedrag":"â‚¬ ".concat(t.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}))}},57511:(t,e)=>{e.x=void 0,e.x={viewBox:"0 0 1536 1792",children:[{name:"path",attribs:{d:"M1468 380q28 28 48 76t20 88v1152q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1600q0-40 28-68t68-28h896q40 0 88 20t76 48zM1024 136v376h376q-10-29-22-41l-313-313q-12-12-41-22zM1408 1664v-1024h-416q-40 0-68-28t-28-68v-416h-768v1536h1280z"}}]}},93358:(t,e)=>{e.B=void 0,e.B={viewBox:"0 0 1792 1792",children:[{name:"path",attribs:{d:"M1792 640q0 26-19 45l-512 512q-19 19-45 19t-45-19-19-45v-256h-224q-98 0-175.5 6t-154 21.5-133 42.5-105.5 69.5-80 101-48.5 138.5-17.5 181q0 55 5 123 0 6 2.5 23.5t2.5 26.5q0 15-8.5 25t-23.5 10q-16 0-28-17-7-9-13-22t-13.5-30-10.5-24q-127-285-127-451 0-199 53-333 162-403 875-403h224v-256q0-26 19-45t45-19 45 19l512 512q19 19 19 45z"}}]}},320:(t,e,n)=>{n.d(e,{Z:()=>E});var o=n(67294),a=(n(88389),n(73935),n(75912)),r=(n(93998),n(35639),n(61085)),s=n(45987),i=n(87462),l=n(15671),c=n(43144),u=n(60136),m=n(82963),p=n(61120),f=n(53569);var d={cacheOptions:!1,defaultOptions:!1,filterOption:null,isLoading:!1},h=function(t){var e,n;return n=e=function(e){(0,u.Z)(d,e);var n,a,r=(n=d,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,p.Z)(n);if(a){var o=(0,p.Z)(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return(0,m.Z)(this,t)});function d(t){var e;return(0,l.Z)(this,d),(e=r.call(this)).select=void 0,e.lastRequest=void 0,e.mounted=!1,e.optionsCache={},e.handleInputChange=function(t,n){var o=e.props,a=o.cacheOptions,r=o.onInputChange,s=(0,f.G)(t,n,r);if(!s)return delete e.lastRequest,void e.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(a&&e.optionsCache[s])e.setState({inputValue:s,loadedInputValue:s,loadedOptions:e.optionsCache[s],isLoading:!1,passEmptyOptions:!1});else{var i=e.lastRequest={};e.setState({inputValue:s,isLoading:!0,passEmptyOptions:!e.state.loadedInputValue},(function(){e.loadOptions(s,(function(t){e.mounted&&(t&&(e.optionsCache[s]=t),i===e.lastRequest&&(delete e.lastRequest,e.setState({isLoading:!1,loadedInputValue:s,loadedOptions:t||[],passEmptyOptions:!1})))}))}))}return s},e.state={defaultOptions:Array.isArray(t.defaultOptions)?t.defaultOptions:void 0,inputValue:void 0!==t.inputValue?t.inputValue:"",isLoading:!0===t.defaultOptions,loadedOptions:[],passEmptyOptions:!1},e}return(0,c.Z)(d,[{key:"componentDidMount",value:function(){var t=this;this.mounted=!0;var e=this.props.defaultOptions,n=this.state.inputValue;!0===e&&this.loadOptions(n,(function(e){if(t.mounted){var n=!!t.lastRequest;t.setState({defaultOptions:e||[],isLoading:n})}}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){t.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),t.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(t.defaultOptions)?t.defaultOptions:void 0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(t,e){var n=this.props.loadOptions;if(!n)return e();var o=n(t,e);o&&"function"==typeof o.then&&o.then(e,(function(){return e()}))}},{key:"render",value:function(){var e=this,n=this.props,a=(n.loadOptions,n.isLoading),r=(0,s.Z)(n,["loadOptions","isLoading"]),l=this.state,c=l.defaultOptions,u=l.inputValue,m=l.isLoading,p=l.loadedInputValue,f=l.loadedOptions,d=l.passEmptyOptions?[]:u&&p?f:c||[];return o.createElement(t,(0,i.Z)({},r,{ref:function(t){e.select=t},options:d,isLoading:m||a,onInputChange:this.handleInputChange}))}}]),d}(o.Component),e.defaultProps=d,n};h((0,r.m)(a.S));var v=(0,n(12766).Vn)(a.S);const E=h((0,r.m)(v))},12766:(t,e,n)=>{n.d(e,{Vn:()=>g,ZP:()=>y});var o=n(87462),a=n(93433),r=n(4942),s=n(15671),i=n(43144),l=n(60136),c=n(82963),u=n(61120),m=n(67294),p=(n(88389),n(73935),n(53569)),f=n(75912),d=(n(93998),n(35639),n(61085));function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}var v=function(){var t=arguments.length>1?arguments[1]:void 0,e=String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),n=String(t.value).toLowerCase(),o=String(t.label).toLowerCase();return n===e||o===e},E=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(t){return'Create "'.concat(t,'"')},isValidNewOption:function(t,e,n){return!(!t||e.some((function(e){return v(t,e)}))||n.some((function(e){return v(t,e)})))},getNewOptionData:function(t,e){return{label:e,value:t,__isNew__:!0}}}),g=function(t){var e,n;return n=e=function(e){(0,l.Z)(d,e);var n,r,f=(n=d,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=(0,u.Z)(n);if(r){var o=(0,u.Z)(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return(0,c.Z)(this,t)});function d(t){var e;(0,s.Z)(this,d),(e=f.call(this,t)).select=void 0,e.onChange=function(t,n){var o=e.props,r=o.getNewOptionData,s=o.inputValue,i=o.isMulti,l=o.onChange,c=o.onCreateOption,u=o.value,m=o.name;if("select-option"!==n.action)return l(t,n);var f=e.state.newOption,d=Array.isArray(t)?t:[t];if(d[d.length-1]!==f)l(t,n);else if(c)c(s);else{var h=r(s,s),v={action:"create-option",name:m};l(i?[].concat((0,a.Z)((0,p.C)(u)),[h]):h,v)}};var n=t.options||[];return e.state={newOption:void 0,options:n},e}return(0,i.Z)(d,[{key:"UNSAFE_componentWillReceiveProps",value:function(t){var e=t.allowCreateWhileLoading,n=t.createOptionPosition,o=t.formatCreateLabel,r=t.getNewOptionData,s=t.inputValue,i=t.isLoading,l=t.isValidNewOption,c=t.value,u=t.options||[],m=this.state.newOption;m=l(s,(0,p.C)(c),u)?r(s,o(s)):void 0,this.setState({newOption:m,options:!e&&i||!m?u:"first"===n?[m].concat((0,a.Z)(u)):[].concat((0,a.Z)(u),[m])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var e=this,n=this.state.options;return m.createElement(t,(0,o.Z)({},this.props,{ref:function(t){e.select=t},options:n,onChange:this.onChange}))}}]),d}(m.Component),e.defaultProps=E,n},O=g(f.S);const y=(0,d.m)(O)}}]);