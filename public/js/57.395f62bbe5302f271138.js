(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{1555:function(e,a,t){"use strict";t.r(a);var n=t(289),r=t.n(n),c=t(545),o=t.n(c),l=t(6),i=t.n(l),s=t(0),m=t.n(s),u=t(20),p=t(4),d=t(28),g=t(31),f=t(51),v=t(15),h=t.n(v),E=t(16),b=t.n(E),N=t(17),y=t.n(N),O=t(18),w=t.n(O),j=t(13),k=t.n(j),C=t(37),D=t(949),P=t(91),A=t(3),S=t.n(A);function L(e){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=k()(e);if(a){var r=k()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return w()(this,t)}}var x=function(e){y()(t,e);var a=L(t);function t(e){return h()(this,t),a.call(this,e)}return b()(t,[{key:"render",value:function(){var e=this,a=this.props,t=a.id,n=a.numberOfIntakes,c=a.closeDeleteItemModal,o=function(){var a=r()(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,D.a.deleteCampaign(t);case 3:p.f.push("/campagnes"),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),a.t0.response?e.props.setError(a.t0.response.status,a.t0.response.data.message):(console.log(a.t0),alert("Er is iets misgegaan met het verwijderen van de campagne."));case 9:c();case 10:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(){return a.apply(this,arguments)}}();return m.a.createElement(C.a,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:c,confirmAction:function(){return o()},title:"Verwijderen"},n>0?m.a.createElement(m.a.Fragment,null,m.a.createElement("p",null,"Let op, deze campagne heeft nog"," ",m.a.createElement("span",{className:"text-danger"},m.a.createElement("strong",null,n," lopende intakes"))," ","als je deze campagne verwijderd worden deze intakes verwijderd.",m.a.createElement("br",null),m.a.createElement("span",{className:"text-danger"},m.a.createElement("strong",null,"DEZE ACTIE KAN NIET ONGEDAAN GEMAAKT WORDEN!")),m.a.createElement("br",null)," Weet je zeker dat je deze campagne"," ",m.a.createElement("span",{className:"text-danger"},m.a.createElement("strong",null,"en gerelateerde intakes"))," ","wilt verwijderen?")):m.a.createElement("p",null,"Weet u zeker dat u deze campagne wilt verwijderen?"))}}]),t}(s.Component);x.propTypes={id:A.any,numberOfIntakes:A.any,closeDeleteItemModal:A.any};var I=Object(u.b)(null,(function(e){return{setError:function(a,t){e(Object(P.b)(a,t))}}}))(x);var T=Object(u.b)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var a=e.campaign,t=e.permissions,n=Object(s.useState)(!1),r=o()(n,2),c=r[0],l=r[1];function i(){l((function(e){return!e}))}return m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-sm-12"},m.a.createElement(d.a,null,m.a.createElement(g.a,{className:"panel-small"},m.a.createElement("div",{className:"col-md-2"},m.a.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},m.a.createElement(f.a,{iconName:"glyphicon-arrow-left",onClickAction:p.e.goBack}),t.manageMarketing&&m.a.createElement(f.a,{iconName:"glyphicon-trash",onClickAction:i}))),m.a.createElement("div",{className:"col-md-8"},m.a.createElement("h4",{className:"text-center text-success margin-small"},m.a.createElement("strong",null,a.name?"Campagne: "+a.name:""))),m.a.createElement("div",{className:"col-md-2"})))),c&&m.a.createElement(I,{id:a.id,numberOfIntakes:a.numberOfIntakes,closeDeleteItemModal:i}))})),B=t(160),z=t(5),M=t.n(z),R=t(7),V=t.n(R),G=t(33),q=t.n(G),H=t(36),_=t(122),W=t(52),F=t(39),U=t(123),K=t(943);function J(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Q(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?J(Object(t),!0).forEach((function(a){M()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}V.a.locale("nl");var Y=Object(u.b)((function(e){return{status:e.systemData.campaignStatuses,types:e.systemData.campaignTypes,measureCategories:e.systemData.measureCategories,opportunityActions:e.systemData.opportunityActions}}))((function(e){var a,t,n,c,l=e.campaign,u=e.fetchCampaignData,p=e.switchToView,d=e.status,g=e.types,f=e.measureCategories,v=e.opportunityActions,h=Object(s.useState)(Q(Q({},l),{},{description:l.description||"",statusId:(null===(a=l.status)||void 0===a?void 0:a.id)||"",typeId:(null===(t=l.type)||void 0===t?void 0:t.id)||"",measureCategoryIds:null===(n=l.measureCategories)||void 0===n?void 0:n.map((function(e){return e.id})).join(","),measureCategoryIdsSelected:l.measureCategories?l.measureCategories:[],opportunityActionIds:null===(c=l.opportunityActions)||void 0===c?void 0:c.map((function(e){return e.id})).join(","),opportunityActionIdsSelected:l.opportunityActions?l.opportunityActions:[]})),E=o()(h,2),b=E[0],N=E[1],y=Object(s.useState)({name:!1,type:!1}),O=o()(y,2),w=O[0],j=O[1];function k(e){var a=e.target,t="checkbox"===a.type?a.checked:a.value,n=a.name;N(Q(Q({},b),{},M()({},n,t)))}function C(e,a){var t=e?V()(e).format("Y-MM-DD"):"";N(Q(Q({},b),{},M()({},a,t)))}function P(e){return A.apply(this,arguments)}function A(){return(A=r()(i.a.mark((function e(a){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t={},n=!1,q.a.isEmpty(b.name)&&(t.name=!0,n=!0),q.a.isEmpty(""+b.typeId)&&(t.type=!0,n=!0),j(t),n){e.next=17;break}return e.prev=7,e.next=10,D.a.updateCampaign(b.id,b);case 10:u(),p(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),alert("Er is iets misgegaan met het opslaan van de gegevens!");case 17:case"end":return e.stop()}}),e,null,[[7,14]])})))).apply(this,arguments)}return m.a.createElement("form",{className:"form-horizontal col-md-12",onSubmit:P},m.a.createElement("div",{className:"row"},m.a.createElement(H.a,{label:"Naam",size:"col-sm-6",name:"name",value:b.name,onChangeAction:k,required:"required",error:w.name}),m.a.createElement(H.a,{label:"Campagnenummer",name:"number",value:b.number,readOnly:!0})),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"form-group col-sm-12"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-sm-3"},m.a.createElement("label",{htmlFor:"description",className:"col-sm-12"},"Beschrijving")),m.a.createElement("div",{className:"col-sm-8"},m.a.createElement("textarea",{name:"description",value:b.description,onChange:k,className:"form-control input-sm"}))))),m.a.createElement("div",{className:"row"},m.a.createElement(W.a,{label:"Begindatum",size:"col-sm-6",name:"startDate",value:b.startDate||"",onChangeAction:C}),m.a.createElement(W.a,{label:"Einddatum",size:"col-sm-6",name:"endDate",value:b.endDate||"",onChangeAction:C})),m.a.createElement("div",{className:"row"},m.a.createElement(_.a,{label:"Status",size:"col-sm-6",name:"statusId",options:d,value:b.statusId,onChangeAction:k})),m.a.createElement("div",{className:"row"},m.a.createElement(K.a,{label:"Aangeboden maatregelen",name:"measureCategoryIds",value:b.measureCategoryIdsSelected,options:f,onChangeAction:function(e){var a=e?e.map((function(e){return e.id})).join(","):"";N(Q(Q({},b),{},{measureCategoryIds:a,measureCategoryIdsSelected:e}))}})),m.a.createElement("div",{className:"row"},m.a.createElement(K.a,{label:"Acties voor kans",name:"opportunityActionIds",value:b.opportunityActionIdsSelected,options:v,onChangeAction:function(e){var a=e?e.map((function(e){return e.id})).join(","):"";N(Q(Q({},b),{},{opportunityActionIds:a,opportunityActionIdsSelected:e}))}})),m.a.createElement("div",{className:"row"},m.a.createElement(_.a,{label:"Type",size:"col-sm-6",name:"typeId",options:g,value:b.typeId,onChangeAction:k,required:"required",error:w.type})),m.a.createElement(U.a,null,m.a.createElement("div",{className:"pull-right btn-group",role:"group"},m.a.createElement(F.a,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:p}),m.a.createElement(F.a,{buttonText:"Opslaan",onClickAction:P,type:"submit",value:"Submit"}))))})),Z=t(22),X=t(43),$=t(48),ee=function(e){var a=e.label,t=e.id,n=e.value,r=e.link,c=e.hidden,o=e.name,l=e.textToolTip;return r.length>0?m.a.createElement("div",{className:"form-group col-sm-12",style:c?{display:"none"}:{}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-sm-3"},m.a.createElement("label",{htmlFor:t,className:"col-sm-12"},a)),m.a.createElement("div",{className:"col-sm-6",id:t,onClick:null},m.a.createElement(p.b,{to:r,className:"link-underline"},n)," ",l&&m.a.createElement("span",null,m.a.createElement(X.c,{color:"blue",size:"15px","data-tip":l,"data-for":"tooltip-".concat(o)}),m.a.createElement($.a,{id:"tooltip-".concat(o),effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"}))))):m.a.createElement("div",{className:"form-group col-sm-12",style:c?{display:"none"}:{}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-sm-3"},m.a.createElement("label",{htmlFor:t,className:"col-sm-12"},a)),m.a.createElement("div",{className:"col-sm-6",id:t},n," ",l&&m.a.createElement("span",null,m.a.createElement(X.c,{color:"blue",size:"15px","data-tip":l,"data-for":"tooltip-".concat(o)}),m.a.createElement($.a,{id:"tooltip-".concat(o),effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"})))))};ee.defaultProps={label:"",value:"",name:"",textToolTip:"",link:"",hidden:!1},ee.propTypes={label:S.a.oneOfType([S.a.string,S.a.object]).isRequired,id:S.a.string,name:S.a.string,textToolTip:S.a.string,value:S.a.oneOfType([S.a.string,S.a.number]),link:S.a.string,hidden:S.a.bool};var ae=ee;V.a.locale("nl");var te=function(e){var a=e.campaign,t=a.name,n=a.number,r=a.description,c=a.startDate,o=a.endDate,l=a.status,i=a.measureCategories,s=a.opportunityActions,u=a.type,p=e.switchToEdit;return m.a.createElement("div",null,m.a.createElement("div",{className:"row",onClick:p},m.a.createElement(Z.a,{label:"Naam",value:t}),m.a.createElement(Z.a,{label:"Campagne nummer",value:n})),m.a.createElement("div",{className:"row",onClick:p},m.a.createElement("div",{className:"col-sm-3"},m.a.createElement("label",{htmlFor:"description",className:"col-sm-12"},"Beschrijving")),m.a.createElement("div",{className:"col-sm-9",id:"description"},r)),m.a.createElement("div",{className:"row",onClick:p},m.a.createElement(Z.a,{label:"Begindatum",value:c?V()(c).format("L"):""}),m.a.createElement(Z.a,{label:"Einddatum",value:o?V()(o).format("L"):""})),m.a.createElement("div",{className:"row",onClick:p},m.a.createElement(Z.a,{label:"Status",value:(null==l?void 0:l.name)||""})),m.a.createElement("div",{className:"row",onClick:p},m.a.createElement(ae,{label:"Aangeboden maatregelen",value:i&&i.map((function(e){return e.name})).join(", ")})),m.a.createElement("div",{className:"row",onClick:p},m.a.createElement(ae,{label:"Acties voor kans",value:s&&s.map((function(e){return e.name})).join(", ")})),m.a.createElement("div",{className:"row",onClick:p},m.a.createElement(Z.a,{label:"Type",value:(null==u?void 0:u.name)||""})))};function ne(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function re(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?ne(Object(t),!0).forEach((function(a){M()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ne(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var ce=function(){var e=Object(s.useState)({showEdit:!1,activeDiv:""}),a=o()(e,2),t=a[0],n=a[1];return{state:t,switchToEdit:function(){n(re(re({},t),{},{showEdit:!0}))},switchToView:function(){n({showEdit:!1,activeDiv:""})},onDivEnter:function(){n(re(re({},t),{},{activeDiv:"panel-grey"}))},onDivLeave:function(){t.showEdit||n(re(re({},t),{},{activeDiv:""}))}}};var oe=Object(u.b)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var a=e.campaign,t=e.permissions,n=e.fetchCampaignData,r=ce(),c=r.state,o=r.switchToEdit,l=r.switchToView,i=r.onDivEnter,s=r.onDivLeave;return m.a.createElement(d.a,{className:c.activeDiv,onMouseEnter:function(){return i()},onMouseLeave:function(){return s()}},m.a.createElement(g.a,null,c.showEdit&&t.manageMarketing?m.a.createElement(Y,{campaign:a,switchToView:l,fetchCampaignData:n}):m.a.createElement(te,{campaign:a,switchToEdit:o})))}));V.a.locale("nl");var le=function(e){var a=e.campaign,t=a.createdBy,n=a.createdAt,r=a.ownedBy,c=e.switchToEdit;return m.a.createElement("div",null,m.a.createElement("div",{className:"row",onClick:c},m.a.createElement(Z.a,{label:"Gemaakt door",value:(null==t?void 0:t.fullName)||"Onbekend",link:t?"gebruiker/"+t.id:""}),m.a.createElement(Z.a,{label:"Verantwoordelijke",value:(null==r?void 0:r.fullName)||"Onbekend",link:r?"gebruiker/"+r.id:""})),m.a.createElement("div",{className:"row",onClick:c},m.a.createElement(Z.a,{label:"Gemaakt op",value:n?V()(n).format("L"):"Onbekend"})))};var ie=Object(u.b)((function(e){return{users:e.systemData.users}}))((function(e){var a=e.campaign,t=a.id,n=a.createdBy,c=a.createdAt,l=a.ownedBy,u=e.switchToView,p=e.users,d=e.fetchCampaignData,g=Object(s.useState)(null==l?void 0:l.id),f=o()(g,2),v=f[0],h=f[1],E=Object(s.useState)({ownedBy:!1}),b=o()(E,2),N=b[0],y=b[1];function O(e){return w.apply(this,arguments)}function w(){return(w=r()(i.a.mark((function e(a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n=!1,q.a.isEmpty(""+v)&&(y({ownedBy:!0}),n=!0),n){e.next=14;break}return e.prev=4,e.next=7,D.a.updateCampaignOwner(t,v);case 7:d(),u(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),alert("Er is iets misgegaan met het opslaan van de gegevens!");case 14:case"end":return e.stop()}}),e,null,[[4,11]])})))).apply(this,arguments)}return m.a.createElement("form",{className:"form-horizontal col-md-12",onSubmit:O},m.a.createElement("div",{className:"row"},m.a.createElement(H.a,{label:"Gemaakt door",name:"createdBy",value:n.fullName,readOnly:!0}),m.a.createElement(_.a,{label:"Verantwoordelijke",size:"col-sm-6",name:"ownedById",options:p,value:v,optionName:"fullName",onChangeAction:function(e){h(e.target.value)},error:N.ownedBy})),m.a.createElement("div",{className:"row"},m.a.createElement(W.a,{label:"Gemaakt op",size:"col-sm-6",name:"createdAt",value:c||"",readOnly:!0})),m.a.createElement(U.a,null,m.a.createElement("div",{className:"pull-right btn-group",role:"group"},m.a.createElement(F.a,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:u}),m.a.createElement(F.a,{buttonText:"Opslaan",onClickAction:O,type:"submit",value:"Submit"}))))}));var se=Object(u.b)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var a=e.campaign,t=e.permissions,n=e.fetchCampaignData,r=ce(),c=r.state,o=r.switchToEdit,l=r.switchToView,i=r.onDivEnter,s=r.onDivLeave;return m.a.createElement(d.a,{className:c.activeDiv,onMouseEnter:function(){return i()},onMouseLeave:function(){return s()}},m.a.createElement(g.a,null,c.showEdit&&t.manageMarketing?m.a.createElement(ie,{campaign:a,switchToView:l,fetchCampaignData:n}):m.a.createElement(le,{campaign:a,switchToEdit:o})))})),me=Object(u.b)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var a,t,n=e.organisation,r=(n.id,n.contactId),c=n.address,o=n.contact,l=n.name,i=n.amountOfQuotations,s=n.amountOfWonQuotations,u=e.highlightLine,d=e.onLineEnter,g=e.onLineLeave,f=e.permissions,v=e.showActionButtons,h=e.toggleDelete;return m.a.createElement("div",{className:"row border ".concat(u),onMouseEnter:d,onMouseLeave:g},m.a.createElement("div",{onClick:function(){return p.f.push("/contact/".concat(r))}},m.a.createElement("div",{className:"col-sm-1"},o.number),m.a.createElement("div",{className:"col-sm-2"},l),m.a.createElement("div",{className:"col-sm-2"},(null==c?void 0:c.city)||""),m.a.createElement("div",{className:"col-sm-2"},(null===(a=o.contactPerson)||void 0===a||null===(t=a.contact)||void 0===t?void 0:t.fullName)||""),m.a.createElement("div",{className:"col-sm-2"},i),m.a.createElement("div",{className:"col-sm-2"},s)),m.a.createElement("div",{className:"col-sm-1"},v&&f.manageMarketing?m.a.createElement("a",{role:"button",onClick:h},m.a.createElement("span",{className:"glyphicon glyphicon-trash mybtn-danger"})," "):""))})),ue=function(e){var a=e.toggleDelete,t=e.fetchCampaignData,n=e.organisationId,c=e.campaignId;function o(){return(o=r()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.detachOrganisation(c,n);case 3:t(),a(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met het verwijderen van de organisatie. Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return m.a.createElement(C.a,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:a,confirmAction:function(){return o.apply(this,arguments)},title:"Verwijderen"},m.a.createElement("p",null,"Wil je deze organisatie ontkoppelen van deze campagne?"))};function pe(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function de(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?pe(Object(t),!0).forEach((function(a){M()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pe(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var ge=function(e){var a=e.organisation,t=e.campaignId,n=e.fetchCampaignData,r=Object(s.useState)({showActionButtons:!1,highlightLine:"",showDelete:!1}),c=o()(r,2),l=c[0],i=c[1];function u(){i({showDelete:!l.showDelete})}return m.a.createElement("div",null,m.a.createElement(me,{highlightLine:l.highlightLine,showActionButtons:l.showActionButtons,onLineEnter:function(){i(de(de({},l),{},{showActionButtons:!0,highlightLine:"highlight-line"}))},onLineLeave:function(){i(de(de({},l),{},{showActionButtons:!1,highlightLine:""}))},toggleDelete:u,organisation:a}),l.showDelete&&m.a.createElement(ue,{toggleDelete:u,organisationId:a.id,campaignId:t,fetchCampaignData:n}))},fe=function(e){var a=e.organisations,t=e.campaignId,n=e.fetchCampaignData;return m.a.createElement("div",null,m.a.createElement("div",{className:"row border header"},m.a.createElement("div",{className:"col-sm-1"},"Nummer"),m.a.createElement("div",{className:"col-sm-2"},"Organisatie"),m.a.createElement("div",{className:"col-sm-2"},"Plaats"),m.a.createElement("div",{className:"col-sm-2"},"Contactpersoon"),m.a.createElement("div",{className:"col-sm-2"},"Aangevraagde offertes"),m.a.createElement("div",{className:"col-sm-2"},"Gewonnen offertes"),m.a.createElement("div",{className:"col-sm-1"})),a.length>0?a.map((function(e){return m.a.createElement(ge,{key:e.id,organisation:e,campaignId:t,fetchCampaignData:n})})):m.a.createElement("div",null,"Geen betrokken bedrijven bekend."))},ve=t(973);var he=function(e){var a=e.campaignId,t=e.campaignName,n=e.fetchCampaignData,c=e.toggleShowNew,l=Object(s.useState)([]),u=o()(l,2),p=u[0],f=u[1],v=Object(s.useState)(""),h=o()(v,2),E=h[0],b=h[1],N=Object(s.useState)({organisation:!1,hasErrors:!1}),y=o()(N,2),O=y[0],w=y[1];function j(e){return k.apply(this,arguments)}function k(){return(k=r()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),E||w({organisation:!0,hasErrors:!0}),O.hasErrors){e.next=13;break}return e.prev=3,e.next=6,D.a.attachOrganisation(a,E);case 6:n(),c(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),alert("Er is iets misgegaan met het toevoegen van de organisatie. Herlaad de pagina en probeer het nogmaals.");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){var e;(e=r()(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ve.a.getOrganisationPeek();case 3:a=e.sent,f(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met ophalen van de organisaties! Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return e.apply(this,arguments)})()}),[]),m.a.createElement("form",{className:"form-horizontal",onSubmit:j},m.a.createElement(d.a,{className:"panel-grey"},m.a.createElement(g.a,null,m.a.createElement("div",{className:"row"},m.a.createElement(H.a,{label:"Campagne",name:"campaign",value:t,readOnly:!0}),m.a.createElement(_.a,{label:"Organisatie",size:"col-sm-6",name:"organisationId",options:p,value:E,onChangeAction:function(e){b(e.target.value)},required:"required",error:O.organisation})),m.a.createElement("div",{className:"pull-right btn-group",role:"group"},m.a.createElement(F.a,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:c}),m.a.createElement(F.a,{buttonText:"Opslaan",onClickAction:j,type:"submit",value:"Submit"})))))},Ee=t(54);var be=Object(u.b)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var a=e.campaignId,t=e.campaignName,n=e.organisations,r=e.permissions,c=e.fetchCampaignData,l=Object(s.useState)(!1),i=o()(l,2),u=i[0],p=i[1];function f(){p((function(e){return!e}))}return m.a.createElement(d.a,null,m.a.createElement(Ee.a,null,m.a.createElement("span",{className:"h5 text-bold"},"Betrokken bedrijven"),r.manageMarketing&&m.a.createElement("a",{role:"button",className:"pull-right",onClick:f},m.a.createElement("span",{className:"glyphicon glyphicon-plus"}))),m.a.createElement(g.a,null,m.a.createElement("div",{className:"col-md-12"},m.a.createElement(fe,{organisations:n,campaignId:a,fetchCampaignData:c})),m.a.createElement("div",{className:"col-md-12 margin-10-top"},u&&m.a.createElement(he,{campaignId:a,campaignName:t,toggleShowNew:f,fetchCampaignData:c}))))})),Ne=t(142),ye=t.n(Ne),Oe=t(163),we=Object(u.b)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var a,t=e.id,n=e.contact,r=e.address,c=e.fullAddress,o=e.createdAt;return m.a.createElement("div",{className:"row border",onClick:function(){return p.f.push("/intake/".concat(t))}},m.a.createElement("div",{className:"col-sm-1"},t),m.a.createElement("div",{className:"col-sm-1"},null==n||null===(a=n.type)||void 0===a?void 0:a.name),m.a.createElement("div",{className:"col-sm-2"},null==n?void 0:n.fullName),m.a.createElement("div",{className:"col-sm-3"},c),m.a.createElement("div",{className:"col-sm-1"},null==r?void 0:r.postalCode),m.a.createElement("div",{className:"col-sm-2"},null==r?void 0:r.city),m.a.createElement("div",{className:"col-sm-2"},o?V()(o).format("L"):""))})),je=function(e){var a=e.data,t=e.meta,n=e.page,r=e.setPage,c=e.isLoading;return m.a.createElement("div",null,m.a.createElement("div",{className:"row border header"},m.a.createElement("div",{className:"col-sm-1"},"Id"),m.a.createElement("div",{className:"col-sm-1"},"Type"),m.a.createElement("div",{className:"col-sm-2"},"Naam"),m.a.createElement("div",{className:"col-sm-3"},"Adres"),m.a.createElement("div",{className:"col-sm-1"},"Postcode"),m.a.createElement("div",{className:"col-sm-2"},"Plaats"),m.a.createElement("div",{className:"col-sm-2"},"Gereageerd op")),m.a.createElement("div",null,c?m.a.createElement("div",null,"Bezig met laden."):a.length>0?a.map((function(e){return m.a.createElement(we,ye()({key:e.id},e))})):m.a.createElement("div",null,"Geen intakes bekend.")),m.a.createElement("div",{className:"col-md-6 col-md-offset-3 margin-20-top"},m.a.createElement(Oe.a,{onPageChangeAction:function(e){r(e.selected)},totalRecords:t.total,initialPage:n,recordsPerPage:10})))};var ke=function(e){var a=e.campaignId,t=Object(s.useState)({data:[],meta:{}}),n=o()(t,2),c=n[0],l=n[1],u=Object(s.useState)(!0),p=o()(u,2),f=p[0],v=p[1],h=Object(s.useState)(0),E=o()(h,2),b=E[0],N=E[1];function y(){return(y=r()(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.fetchCampaignIntakes({id:a,page:b+1});case 3:t=e.sent,l(t.data),v(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Er is iets misgegaan met het laden van de gegevens. Herlaad de pagina."),v(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){y.apply(this,arguments)}()}),[b]),m.a.createElement(d.a,null,m.a.createElement(Ee.a,null,m.a.createElement("span",{className:"h5 text-bold"},"Gerelateerde intakes")),m.a.createElement(g.a,null,m.a.createElement("div",{className:"col-md-12"},m.a.createElement(je,ye()({},c,{isLoading:f,page:b,setPage:N})))))},Ce=function(e){var a,t=e.id,n=e.number,r=e.intake,c=e.createdAt,o=e.measureCategory,l=e.status,i=e.quotationRequests;return m.a.createElement("div",{className:"row border",onClick:function(){return p.f.push("/kans/".concat(t))}},m.a.createElement("div",{className:"col-sm-2"},n),m.a.createElement("div",{className:"col-sm-1"},c?V()(c).format("L"):""),m.a.createElement("div",{className:"col-sm-3"},(null==r||null===(a=r.contact)||void 0===a?void 0:a.fullName)||""),m.a.createElement("div",{className:"col-sm-3"},(null==o?void 0:o.name)||""),m.a.createElement("div",{className:"col-sm-1"},(null==l?void 0:l.name)||""),m.a.createElement("div",{className:"col-sm-2"},null==i?void 0:i.length))},De=function(e){var a=e.data,t=e.meta,n=e.page,r=e.setPage,c=e.isLoading;return m.a.createElement("div",null,m.a.createElement("div",{className:"row border header"},m.a.createElement("div",{className:"col-sm-2"},"Nummer"),m.a.createElement("div",{className:"col-sm-1"},"Datum"),m.a.createElement("div",{className:"col-sm-3"},"Naam"),m.a.createElement("div",{className:"col-sm-3"},"Maatregel categorie"),m.a.createElement("div",{className:"col-sm-1"},"Status"),m.a.createElement("div",{className:"col-sm-2"},"Aantal offertes")),m.a.createElement("div",null,c?m.a.createElement("div",null,"Bezig met laden."):a.length>0?a.map((function(e){return m.a.createElement(Ce,ye()({key:e.id},e))})):m.a.createElement("div",null,"Geen kansen bekend.")),m.a.createElement("div",{className:"col-md-6 col-md-offset-3 margin-20-top"},m.a.createElement(Oe.a,{onPageChangeAction:function(e){r(e.selected)},totalRecords:t.total,initialPage:n,recordsPerPage:10})))};var Pe=function(e){var a=e.campaignId,t=Object(s.useState)({data:[],meta:{}}),n=o()(t,2),c=n[0],l=n[1],u=Object(s.useState)(!0),p=o()(u,2),f=p[0],v=p[1],h=Object(s.useState)(0),E=o()(h,2),b=E[0],N=E[1];function y(){return(y=r()(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.fetchCampaignOpportunities({id:a,page:b+1});case 3:t=e.sent,l(t.data),v(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),alert("Er is iets misgegaan met het laden van de gegevens. Herlaad de pagina."),v(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(){y.apply(this,arguments)}()}),[b]),m.a.createElement(d.a,null,m.a.createElement(Ee.a,null,m.a.createElement("span",{className:"h5 text-bold"},"Gerelateerde kansen")),m.a.createElement(g.a,null,m.a.createElement("div",{className:"col-md-12"},m.a.createElement(De,ye()({},c,{isLoading:f,page:b,setPage:N})))))},Ae=Object(u.b)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var a,t=e.response,n=(t.id,t.contact),r=t.address,c=t.dateResponded,o=e.permissions,l=e.highlightLine,i=e.onLineEnter,s=e.onLineLeave,u=e.showActionButtons,d=e.toggleDelete;return m.a.createElement("div",{className:"row border ".concat(l),onMouseEnter:function(){return i()},onMouseLeave:function(){return s()}},m.a.createElement("div",{onClick:function(){return p.f.push("/contact/".concat(n.id))}},m.a.createElement("div",{className:"col-sm-1"},(null==n?void 0:n.number)||""),m.a.createElement("div",{className:"col-sm-1"},(null==n||null===(a=n.type)||void 0===a?void 0:a.name)||""),m.a.createElement("div",{className:"col-sm-2"},(null==n?void 0:n.fullName)||""),m.a.createElement("div",{className:"col-sm-2"},r?r.street+r.number+(r.addition?"-"+r.addition:""):""),m.a.createElement("div",{className:"col-sm-1"},(null==r?void 0:r.postal_code)||""),m.a.createElement("div",{className:"col-sm-2"},(null==r?void 0:r.city)||""),m.a.createElement("div",{className:"col-sm-2"},c?V()(c).format("L"):"")),m.a.createElement("div",{className:"col-sm-1"},u&&o.manageMarketing?m.a.createElement("a",{role:"button",onClick:d},m.a.createElement("span",{className:"glyphicon glyphicon-trash mybtn-danger"})," "):""))})),Se=function(e){var a=e.toggleDelete,t=e.fetchCampaignData,n=e.contactId,c=e.campaignId;function o(){return(o=r()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.detachResponse(c,n);case 3:t(),a(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met het verwijderen van de response. Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return m.a.createElement(C.a,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:a,confirmAction:function(){return o.apply(this,arguments)},title:"Verwijderen"},m.a.createElement("p",null,"Wil je deze response ontkoppelen van deze campagne?"))};function Le(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function xe(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Le(Object(t),!0).forEach((function(a){M()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Le(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var Ie=function(e){var a=e.response,t=e.campaignId,n=e.fetchCampaignData,r=Object(s.useState)({showActionButtons:!1,highlightLine:"",showDelete:!1}),c=o()(r,2),l=c[0],i=c[1];function u(){i({showDelete:!l.showDelete})}return m.a.createElement("div",null,m.a.createElement(Ae,{highlightLine:l.highlightLine,showActionButtons:l.showActionButtons,onLineEnter:function(){i(xe(xe({},l),{},{showActionButtons:!0,highlightLine:"highlight-line"}))},onLineLeave:function(){i(xe(xe({},l),{},{showActionButtons:!1,highlightLine:""}))},toggleDelete:u,response:a}),l.showDelete&&m.a.createElement(Se,{toggleDelete:u,contactId:a.contact.id,campaignId:t,fetchCampaignData:n}))},Te=function(e){var a=e.responses,t=e.campaignId,n=e.fetchCampaignData;return m.a.createElement("div",null,m.a.createElement("div",{className:"row border header"},m.a.createElement("div",{className:"col-sm-1"},"Nummer"),m.a.createElement("div",{className:"col-sm-1"},"Type"),m.a.createElement("div",{className:"col-sm-2"},"Naam"),m.a.createElement("div",{className:"col-sm-2"},"Adres"),m.a.createElement("div",{className:"col-sm-1"},"Postcode"),m.a.createElement("div",{className:"col-sm-2"},"Plaats"),m.a.createElement("div",{className:"col-sm-2"},"Gereageerd op"),m.a.createElement("div",{className:"col-sm-1"})),a.length>0?a.map((function(e){return m.a.createElement(Ie,{key:e.id,response:e,campaignId:t,fetchCampaignData:n})})):m.a.createElement("div",null,"Geen responses bekend."))},Be=t(145);var ze=function(e){var a=e.campaignId,t=e.campaignName,n=e.fetchCampaignData,c=e.toggleShowNew,l=Object(s.useState)([]),u=o()(l,2),p=u[0],f=u[1],v=Object(s.useState)(""),h=o()(v,2),E=h[0],b=h[1],N=Object(s.useState)({contact:!1,hasErrors:!1}),y=o()(N,2),O=y[0],w=y[1];function j(e){return k.apply(this,arguments)}function k(){return(k=r()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),E||w({contact:!0,hasErrors:!0}),O.hasErrors){e.next=13;break}return e.prev=3,e.next=6,D.a.attachResponse(a,E);case 6:n(),c(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),alert("Er is iets misgegaan met het toevoegen van de organisatie! Herlaad de pagina en probeer het nogmaals.");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){var e;(e=r()(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Be.a.getContactsPeek();case 3:a=e.sent,f(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met ophalen van de contacten. Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return e.apply(this,arguments)})()}),[]),m.a.createElement("form",{className:"form-horizontal",onSubmit:j},m.a.createElement(d.a,{className:"panel-grey"},m.a.createElement(g.a,null,m.a.createElement("div",{className:"row"},m.a.createElement(H.a,{label:"Campagne",name:"campaign",value:t,readOnly:!0}),m.a.createElement(_.a,{label:"Contact",size:"col-sm-6",name:"contactId",options:p,value:E,onChangeAction:function(e){b(e.target.value)},required:"required",optionName:"fullName",error:O.contact})),m.a.createElement("div",{className:"pull-right btn-group",role:"group"},m.a.createElement(F.a,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:c}),m.a.createElement(F.a,{buttonText:"Opslaan",onClickAction:j,type:"submit",value:"Submit"})))))};var Me=Object(u.b)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var a=e.campaignId,t=e.campaignName,n=e.responses,r=e.permissions,c=e.fetchCampaignData,l=Object(s.useState)(!1),i=o()(l,2),u=i[0],p=i[1];function f(){p((function(e){return!e}))}return m.a.createElement(d.a,null,m.a.createElement(Ee.a,null,m.a.createElement("span",{className:"h5 text-bold"},"Responses"),r.manageMarketing&&m.a.createElement("a",{role:"button",className:"pull-right",onClick:f},m.a.createElement("span",{className:"glyphicon glyphicon-plus"}))),m.a.createElement(g.a,null,m.a.createElement("div",{className:"col-md-12"},m.a.createElement(Te,{responses:n,campaignId:a,fetchCampaignData:c})),m.a.createElement("div",{className:"col-md-12 margin-10-top"},u&&m.a.createElement(ze,{campaignId:a,campaignName:t,toggleShowNew:f,fetchCampaignData:c}))))})),Re=Object(u.b)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var a=e.coach,t=a.id,n=a.number,r=a.name,c=a.address,o=e.highlightLine,l=e.onLineEnter,i=e.onLineLeave,s=e.permissions,u=e.showActionButtons,d=e.toggleDelete;return m.a.createElement("div",{className:"row border ".concat(o),onMouseEnter:l,onMouseLeave:i},m.a.createElement("div",{onClick:function(){return p.f.push("/contact/".concat(t))}},m.a.createElement("div",{className:"col-sm-2"},n),m.a.createElement("div",{className:"col-sm-4"},r),m.a.createElement("div",{className:"col-sm-4"},c?c.city:"")),m.a.createElement("div",{className:"col-sm-1"},u&&s.manageMarketing?m.a.createElement("a",{role:"button",onClick:d},m.a.createElement("span",{className:"glyphicon glyphicon-trash mybtn-danger"})," "):""))})),Ve=function(e){var a=e.toggleDelete,t=e.fetchCampaignData,n=e.coachId,c=e.campaignId;function o(){return(o=r()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.detachCoach(c,n);case 3:t(),a(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met het verwijderen van de coach. Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return m.a.createElement(C.a,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:a,confirmAction:function(){return o.apply(this,arguments)},title:"Verwijderen"},m.a.createElement("p",null,"Wil je deze coach ontkoppelen van deze campagne?"))};function Ge(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function qe(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?Ge(Object(t),!0).forEach((function(a){M()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ge(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var He=function(e){var a=e.coach,t=e.campaignId,n=e.fetchCampaignData,r=Object(s.useState)({showActionButtons:!1,highlightLine:"",showDelete:!1}),c=o()(r,2),l=c[0],i=c[1];function u(){i({showDelete:!l.showDelete})}return m.a.createElement("div",null,m.a.createElement(Re,{highlightLine:l.highlightLine,showActionButtons:l.showActionButtons,onLineEnter:function(){i(qe(qe({},l),{},{showActionButtons:!0,highlightLine:"highlight-line"}))},onLineLeave:function(){i(qe(qe({},l),{},{showActionButtons:!1,highlightLine:""}))},toggleDelete:u,coach:a}),l.showDelete&&m.a.createElement(Ve,{toggleDelete:u,coachId:a.id,campaignId:t,fetchCampaignData:n}))},_e=function(e){var a=e.coaches,t=e.campaignId,n=e.fetchCampaignData;return m.a.createElement("div",null,m.a.createElement("div",{className:"row border header"},m.a.createElement("div",{className:"col-sm-2"},"Nummer"),m.a.createElement("div",{className:"col-sm-4"},"Coach"),m.a.createElement("div",{className:"col-sm-4"},"Plaats"),m.a.createElement("div",{className:"col-sm-1"})),a.length>0?a.map((function(e){return m.a.createElement(He,{key:e.id,coach:e,campaignId:t,fetchCampaignData:n})})):m.a.createElement("div",null,"Geen betrokken coaches bekend."))},We=t(2),Fe=t.n(We),Ue="".concat(URL_API,"/api/coach"),Ke=function(){var e="".concat(Ue,"/peek"),a="Bearer "+localStorage.getItem("access_token");return Fe.a.defaults.headers.common.Authorization=a,Fe.a.get(e).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))};var Je=function(e){var a=e.campaignId,t=e.campaignName,n=e.fetchCampaignData,c=e.toggleShowNew,l=Object(s.useState)([]),u=o()(l,2),p=u[0],f=u[1],v=Object(s.useState)(""),h=o()(v,2),E=h[0],b=h[1],N=Object(s.useState)({coach:!1,hasErrors:!1}),y=o()(N,2),O=y[0],w=y[1];function j(e){return k.apply(this,arguments)}function k(){return(k=r()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),E||w({coach:!0,hasErrors:!0}),O.hasErrors){e.next=13;break}return e.prev=3,e.next=6,D.a.attachCoach(a,E);case 6:n(),c(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),alert("Er is iets misgegaan met het toevoegen van de coaches. Herlaad de pagina en probeer het nogmaals.");case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){var e;(e=r()(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ke();case 3:a=e.sent,f(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert("Er is iets misgegaan met ophalen van de coaches! Herlaad de pagina en probeer het nogmaals.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(){return e.apply(this,arguments)})()}),[]),m.a.createElement("form",{className:"form-horizontal",onSubmit:j},m.a.createElement(d.a,{className:"panel-grey"},m.a.createElement(g.a,null,m.a.createElement("div",{className:"row"},m.a.createElement(H.a,{label:"Campagne",name:"campaign",value:t,readOnly:!0}),m.a.createElement(_.a,{label:"Coach",size:"col-sm-6",name:"coachId",options:p,value:E,onChangeAction:function(e){b(e.target.value)},required:"required",error:O.coach})),m.a.createElement("div",{className:"pull-right btn-group",role:"group"},m.a.createElement(F.a,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:c}),m.a.createElement(F.a,{buttonText:"Opslaan",onClickAction:j,type:"submit",value:"Submit"})))))};var Qe=Object(u.b)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var a=e.campaignId,t=e.campaignName,n=e.coaches,r=e.permissions,c=e.fetchCampaignData,l=Object(s.useState)(!1),i=o()(l,2),u=i[0],p=i[1];function f(){p((function(e){return!e}))}return m.a.createElement(d.a,null,m.a.createElement(Ee.a,null,m.a.createElement("span",{className:"h5 text-bold"},"Betrokken coaches"),r.manageMarketing&&m.a.createElement("a",{role:"button",className:"pull-right",onClick:f},m.a.createElement("span",{className:"glyphicon glyphicon-plus"}))),m.a.createElement(g.a,null,m.a.createElement("div",{className:"col-md-12"},m.a.createElement(_e,{coaches:n,campaignId:a,fetchCampaignData:c})),m.a.createElement("div",{className:"col-md-12 margin-10-top"},u&&m.a.createElement(Je,{campaignId:a,campaignName:t,toggleShowNew:f,fetchCampaignData:c}))))}));var Ye=function(e){var a=e.campaign,t=e.isLoading,n=e.hasError,r=e.fetchCampaignData;return n?m.a.createElement("div",null,"Fout bij het ophalen van campagne."):t?m.a.createElement("div",null,"Gegevens aan het laden."):Object(B.isEmpty)(a)?m.a.createElement("div",null,"Geen campagne gevonden!"):m.a.createElement(m.a.Fragment,null,m.a.createElement(oe,{campaign:a,fetchCampaignData:r}),m.a.createElement(be,{campaignId:a.id,campaignName:a.name,organisations:a.organisations,fetchCampaignData:r}),m.a.createElement(Qe,{campaignId:a.id,campaignName:a.name,coaches:a.coaches,fetchCampaignData:r}),m.a.createElement(ke,{campaignId:a.id}),m.a.createElement(Pe,{campaignId:a.id}),m.a.createElement(Me,{campaignId:a.id,campaignName:a.name,responses:a.responses,fetchCampaignData:r}),m.a.createElement(se,{campaign:a,fetchCampaignData:r}))};var Ze=function(e){var a=e.relatedTasks;return 0===a.length?m.a.createElement("div",null,"Geen taken gevonden."):m.a.createElement("div",null,m.a.createElement("table",{className:"table harmonica-table"},m.a.createElement("tbody",null,a.map((function(e){return m.a.createElement("tr",{onClick:function(){return a=e.id,void p.f.push("/taak/".concat(a));var a},key:e.id},m.a.createElement("td",{className:"col-xs-12 clickable"},V()(e.createdAt).format("L")," - ",e.noteSummary))})))))},Xe=Object(u.b)((function(e){return{permissions:e.meDetails.permissions}}),null)((function(e){var a=e.toggleShowList,t=e.showTasksList,n=e.taskCount,r=e.newTask,c=e.permissions,o=e.relatedTasks;return m.a.createElement(d.a,{className:"harmonica-button"},m.a.createElement(g.a,null,m.a.createElement("div",{className:"col-sm-10",onClick:a,role:"button"},m.a.createElement("span",{className:""},"OPEN TAKEN ",m.a.createElement("span",{className:"badge"},n))),m.a.createElement("div",{className:"col-sm-2"},c.manageTask&&m.a.createElement("a",{role:"button",className:"pull-right",onClick:r},m.a.createElement("span",{className:"glyphicon glyphicon-plus glyphicon-white"}))),m.a.createElement("div",{className:"col-sm-12"},t&&m.a.createElement(Ze,{relatedTasks:o}))))}));var $e=function(e){var a=e.relatedNotes;return 0===a.length?m.a.createElement("div",null,"Geen notities gevonden."):m.a.createElement("div",null,m.a.createElement("table",{className:"table harmonica-table"},m.a.createElement("tbody",null,a.map((function(e){return m.a.createElement("tr",{onClick:function(){return a=e.id,void p.f.push("/taak/".concat(a));var a},key:e.id},m.a.createElement("td",{className:"col-xs-12 clickable"},V()(e.createdAt).format("L")," - ",e.noteSummary))})))))},ea=Object(u.b)((function(e){return{permissions:e.meDetails.permissions}}),null)((function(e){var a=e.toggleShowList,t=e.showNotesList,n=e.noteCount,r=e.newNote,c=e.permissions,o=e.relatedNotes;return m.a.createElement(d.a,{className:"harmonica-button"},m.a.createElement(g.a,null,m.a.createElement("div",{className:"col-sm-10",onClick:a,role:"button"},m.a.createElement("span",{className:""},"NOTITIES ",m.a.createElement("span",{className:"badge"},n))),m.a.createElement("div",{className:"col-sm-2"},c.manageTask&&m.a.createElement("a",{role:"button",className:"pull-right",onClick:r},m.a.createElement("span",{className:"glyphicon glyphicon-plus glyphicon-white"}))),m.a.createElement("div",{className:"col-sm-12"},t&&m.a.createElement($e,{relatedNotes:o}))))}));var aa=function(e){var a=e.relatedDocuments;return 0===a.length?m.a.createElement("div",null,"Geen documenten gevonden."):m.a.createElement("div",null,m.a.createElement("table",{className:"table harmonica-table"},m.a.createElement("tbody",null,a.map((function(e){return m.a.createElement("tr",{onClick:function(){return a=e.id,void p.f.push("/document/".concat(a));var a},key:e.id},m.a.createElement("td",{className:"col-xs-5 clickable"},V()(e.createdAt).format("L")),m.a.createElement("td",{className:"col-xs-6 clickable"},e.filename))})))))},ta=Object(u.b)((function(e){return{permissions:e.meDetails.permissions}}),null)((function(e){var a=e.toggleShowList,t=e.showDocumentsList,n=e.newDocument,r=e.documentCount,c=e.permissions,o=e.relatedDocuments;return m.a.createElement(d.a,{className:"harmonica-button"},m.a.createElement(g.a,null,m.a.createElement("div",{className:"col-sm-10",onClick:a,role:"button"},m.a.createElement("span",null,"DOCUMENTEN ",m.a.createElement("span",{className:"badge"},r))),m.a.createElement("div",{className:"col-sm-2"},c.createDocument&&m.a.createElement("div",{className:"pull-right"},m.a.createElement("span",{className:"glyphicon glyphicon-plus glyphicon-white","data-toggle":"dropdown",role:"button"}),m.a.createElement("ul",{className:"dropdown-menu"},m.a.createElement("li",null,m.a.createElement("a",{className:"btn",onClick:function(){return n("upload")}},"Upload document"))))),m.a.createElement("div",{className:"col-sm-12"},t&&m.a.createElement(aa,{relatedDocuments:o}))))}));function na(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function ra(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?na(Object(t),!0).forEach((function(a){M()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):na(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var ca=function(e){var a=e.campaign,t=Object(s.useState)({tasks:!1,notes:!1,documents:!1}),n=o()(t,2),r=n[0],c=n[1];function l(e){c((function(a){return ra(ra({},a),{},M()({},e,!a[e]))}))}return m.a.createElement("div",{className:"margin-10-top"},m.a.createElement(Xe,{toggleShowList:function(){return l("tasks")},showTasksList:r.tasks,taskCount:a.taskCount,newTask:function(){p.f.push("/taak/nieuw/campagne/".concat(a.id))},relatedTasks:a.relatedTasks}),m.a.createElement(ea,{toggleShowList:function(){return l("notes")},showNotesList:r.notes,noteCount:a.noteCount,newNote:function(){p.f.push("/taak/nieuw/afgehandeld/campagne/".concat(a.id))},relatedNotes:a.relatedNotes}),m.a.createElement(ta,{toggleShowList:function(){return l("documents")},showDocumentsList:r.documents,documentCount:a.documentCount,newDocument:function(e){p.f.push("/document/nieuw/".concat(e,"/campagne/").concat(a.id))},relatedDocuments:a.relatedDocuments}))};function oa(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function la(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?oa(Object(t),!0).forEach((function(a){M()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oa(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var ia={result:{},isLoading:!0,hasError:!1},sa=function(e,a){switch(a.type){case"updateIsLoading":return la(la({},e),{},{isLoading:a.payload});case"updateResult":return la(la({},e),{},{result:a.payload});case"updateHasErrors":return la(la({},e),{},{hasError:a.payload});default:return ia}};a.default=function(e){var a=e.params,t=Object(s.useReducer)(sa,ia),n=o()(t,2),c=n[0],l=n[1];function u(){return p.apply(this,arguments)}function p(){return(p=r()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.fetchCampaign({id:a.id});case 3:v(e.sent.data.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),h(!0),alert("Er is iets misgegaan met het laden van de gegevens. Herlaad de pagina.");case 11:f(!1);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function f(e){l({type:"updateIsLoading",payload:e})}function v(e){l({type:"updateResult",payload:e})}function h(e){l({type:"updateHasErrors",payload:e})}return Object(s.useEffect)((function(){u()}),[]),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-9"},m.a.createElement("div",{className:"col-md-12"},m.a.createElement(T,{campaign:c.result})),m.a.createElement("div",{className:"col-md-12"},m.a.createElement(Ye,{campaign:c.result,isLoading:c.isLoading,hasError:c.hasError,fetchCampaignData:u}))),m.a.createElement(d.a,{className:"col-md-3 harmonica"},m.a.createElement(g.a,null,m.a.createElement(ca,{campaign:c.result}))))}},934:function(e,a,t){"use strict";t.d(a,"b",(function(){return N}));t(548);var n=t(24),r=(t(545),t(291)),c=t(47),o=t(56),l=t(55),i=(t(12),t(57)),s=t(64),m=t(45),u=t(0),p=t.n(u),d=(t(23),t(83),t(90),t(27)),g=t(124),f=(t(84),t(546),t(224),t(286));function v(e){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=Object(m.a)(e);if(a){var r=Object(m.a)(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Object(s.a)(this,t)}}function h(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0,t=String(e).toLowerCase(),n=String(a.value).toLowerCase(),r=String(a.label).toLowerCase();return n===t||r===t},b=function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?h(Object(t),!0).forEach((function(a){Object(c.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,a,t){return!(!e||a.some((function(a){return E(e,a)}))||t.some((function(a){return E(e,a)})))},getNewOptionData:function(e,a){return{label:a,value:e,__isNew__:!0}}}),N=function(e){var a,t;return t=a=function(a){Object(i.a)(c,a);var t=v(c);function c(e){var a;Object(o.a)(this,c),(a=t.call(this,e)).select=void 0,a.onChange=function(e,t){var n=a.props,c=n.getNewOptionData,o=n.inputValue,l=n.isMulti,i=n.onChange,s=n.onCreateOption,m=n.value,u=n.name;if("select-option"!==t.action)return i(e,t);var p=a.state.newOption,g=Array.isArray(e)?e:[e];if(g[g.length-1]!==p)i(e,t);else if(s)s(o);else{var f=c(o,o),v={action:"create-option",name:u};i(l?[].concat(Object(r.a)(Object(d.c)(m)),[f]):f,v)}};var n=e.options||[];return a.state={newOption:void 0,options:n},a}return Object(l.a)(c,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var a=e.allowCreateWhileLoading,t=e.createOptionPosition,n=e.formatCreateLabel,c=e.getNewOptionData,o=e.inputValue,l=e.isLoading,i=e.isValidNewOption,s=e.value,m=e.options||[],u=this.state.newOption;u=i(o,Object(d.c)(s),m)?c(o,n(o)):void 0,this.setState({newOption:u,options:!a&&l||!u?m:"first"===t?[u].concat(Object(r.a)(m)):[].concat(Object(r.a)(m),[u])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var a=this,t=this.state.options;return p.a.createElement(e,Object(n.a)({},this.props,{ref:function(e){a.select=e},options:t,onChange:this.onChange}))}}]),c}(u.Component),a.defaultProps=b,t},y=N(g.a),O=Object(f.a)(y);a.a=O},943:function(e,a,t){"use strict";var n=t(5),r=t.n(n),c=t(0),o=t.n(c),l=t(3),i=t.n(l),s=t(934);function m(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function u(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?m(Object(t),!0).forEach((function(a){r()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var p=function(e){var a=e.label,t=e.size,n=e.id,r=e.name,c=e.value,l=e.options,i=e.optionId,m=e.optionName,p=e.onChangeAction,d=e.required,g=e.multi,f=e.error,v=e.errorMessage,h=e.isLoading,E=e.disabled,b=e.placeholder,N=e.clearable,y={option:function(e){return u(u({},e),{},{fontSize:"12px"})},singleValue:function(e){return u(u({},e),{},{fontSize:"12px"})},menu:function(e){return u(u({},e),{},{zIndex:20})}};return o.a.createElement("div",{className:"form-group col-sm-12"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-3"},o.a.createElement("label",{htmlFor:n,className:"col-sm-12 ".concat(d)},a)),o.a.createElement("div",{className:"".concat(t)},o.a.createElement(s.a,{id:n,name:r,onChange:function(e){return p(e)},value:c,options:l,getOptionLabel:function(e){return e[m]},getOptionValue:function(e){return e[i]},placeholder:b,noOptionsMessage:function(){return"Geen opties gevonden"},loadingMessage:function(){return"Laden"},isMulti:g,simpleValue:!0,removeSelected:!0,className:f?" has-error":"",isLoading:h,isDisabled:E,styles:y,isClearable:N,theme:function(e){return u(u({},e),{},{colors:u({},e.colors),spacing:u(u({},e.spacing),{},{baseUnit:2,controlHeight:24,menuGutter:4})})}})),f&&o.a.createElement("div",{className:"col-sm-offset-3 col-sm-8"},o.a.createElement("span",{className:"has-error-message"}," ",v))))};p.defaultProps={allowCreate:!1,size:"col-sm-6",optionId:"id",optionName:"name",disabled:!1,required:"",error:!1,errorMessage:"",value:"",multi:!0,isLoading:!1,placeholder:"",clearable:!1},p.propTypes={label:i.a.string.isRequired,size:i.a.string,id:i.a.string,name:i.a.string.isRequired,options:i.a.array,optionId:i.a.string,optionName:i.a.string,value:i.a.oneOfType([i.a.string,i.a.number]),onChangeAction:i.a.func,onBlurAction:i.a.func,required:i.a.string,disabled:i.a.bool,error:i.a.bool,errorMessage:i.a.string,multi:i.a.bool,isLoading:i.a.bool,placeholder:i.a.string,clearable:i.a.bool},a.a=p},949:function(e,a,t){"use strict";var n=t(9);a.a={fetchCampaign:function(e){var a=e.id,t="".concat("/campaign","/").concat(a);return n.a.get(t)},fetchCampaignIntakes:function(e){var a=e.id,t=e.page,r="".concat("/campaign","/").concat(a,"/intakes?page=").concat(t);return n.a.get(r)},fetchCampaignOpportunities:function(e){var a=e.id,t=e.page,r="".concat("/campaign","/").concat(a,"/opportunities?page=").concat(t);return n.a.get(r)},updateCampaign:function(e,a){var t="".concat("/campaign","/").concat(e);return n.a.post(t,a)},storeCampaign:function(e){var a="".concat("/campaign");return n.a.post(a,e)},deleteCampaign:function(e){var a="".concat("/campaign","/").concat(e,"/delete");return n.a.post(a)},attachResponse:function(e,a){var t="".concat("/campaign","/").concat(e,"/response/").concat(a,"/attach");return n.a.post(t)},detachResponse:function(e,a){var t="".concat("/campaign","/").concat(e,"/response/").concat(a,"/detach");return n.a.post(t)},attachOrganisation:function(e,a){var t="".concat("/campaign","/").concat(e,"/organisation/").concat(a,"/attach");return n.a.post(t)},detachOrganisation:function(e,a){var t="".concat("/campaign","/").concat(e,"/organisation/").concat(a,"/detach");return n.a.post(t)},attachCoach:function(e,a){var t="".concat("/campaign","/").concat(e,"/coach/").concat(a,"/attach");return n.a.post(t)},detachCoach:function(e,a){var t="".concat("/campaign","/").concat(e,"/coach/").concat(a,"/detach");return n.a.post(t)},updateCampaignOwner:function(e,a){var t="".concat("/campaign","/").concat(e,"/owner/").concat(a,"/associate");return n.a.post(t)}}},973:function(e,a,t){"use strict";var n=t(2),r=t.n(n),c="".concat(URL_API,"/api/organisation");a.a={newOrganisation:function(e){var a="".concat(c),t="Bearer "+localStorage.getItem("access_token");return r.a.defaults.headers.common.Authorization=t,r.a.post(a,e)},updateOrganisation:function(e){var a="".concat(c,"/").concat(e.id),t="Bearer "+localStorage.getItem("access_token");return r.a.defaults.headers.common.Authorization=t,r.a.post(a,e)},getOrganisationPeek:function(){var e="".concat(c,"/peek"),a="Bearer "+localStorage.getItem("access_token");return r.a.defaults.headers.common.Authorization=a,r.a.get(e).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))}}}}]);