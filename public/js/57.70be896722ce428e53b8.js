(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{1613:function(e,t,a){"use strict";a.r(t);var n=a(24),r=a.n(n),i=a(25),o=a.n(i),c=a(26),s=a.n(c),l=a(27),u=a.n(l),m=a(16),d=a.n(m),p=a(0),h=a.n(p),f=a(31),v=a(756),g=a(22),b=a.n(g),E=a(6),y=a.n(E),P=a(4),D=a(692),w=a(102),N=a(93),O=a(9),I=a.n(O),C=a(698),S=a.n(C),R=a(700),k=a(694);function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var L=function(e){s()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=d()(e);if(t()){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(A({},n.state,{invoice:A({},n.state.invoice,y()({},r,a))}))})),y()(b()(n),"handleInputChangeDate",(function(e,t){n.setState(A({},n.state,{invoice:A({},n.state.invoice,y()({},t,e))}))})),y()(b()(n),"confirmAction",(function(e){e.preventDefault();var t=n.state.invoice,a={},r=!1;S.a.isEmpty(t.datePaid+"")&&(a.datePaid=!0,r=!0),n.setState(A({},n.state,{errors:a})),r||N.a.updateInvoice(t).then((function(e){n.props.fetchInvoiceDetails(t.id),n.props.closeModal()}))})),n.state={invoice:{id:e.invoiceId,datePaid:I()().format("Y-MM-DD"),paymentReference:null},errors:{datePaid:!1}},n}return o()(a,[{key:"render",value:function(){var e=this.state.invoice,t=e.datePaid,a=e.paymentReference;return h.a.createElement(w.a,{buttonConfirmText:"Nota betalen",closeModal:this.props.closeModal,confirmAction:this.confirmAction,title:"Nota betalen"},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-sm-12 margin-10-bottom"},h.a.createElement("span",null,"Wanneer de betaaldatum wordt ingevuld zal er een betaling aangemaakt worden met het openstaande bedrag(€",this.props.amountOpen.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}),")."))),h.a.createElement("div",{className:"row"},h.a.createElement(R.a,{divSize:"col-sm-12",label:"Datum betaald",name:"datePaid",value:t,onChangeAction:this.handleInputChangeDate,required:"required",error:this.state.errors.datePaid})),h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{divSize:"col-sm-12",label:"Betalingskenmerk",name:"paymentReference",value:a,onChangeAction:this.handleInputChange})))}}]),a}(p.Component),x=Object(f.b)(null,(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))(L);var T=function(e){s()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=d()(e);if(t()){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"confirmAction",(function(e){e.preventDefault(),N.a.sendNotification(n.props.invoiceId).then((function(e){n.props.fetchInvoiceDetails(n.props.invoiceId),n.props.closeModal()}))})),n}return o()(a,[{key:"render",value:function(){return h.a.createElement(w.a,{buttonConfirmText:"Versturen",closeModal:this.props.closeModal,confirmAction:this.confirmAction,title:"Notificatie versturen"},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-sm-12 margin-10-bottom"},h.a.createElement("span",null,this.props.reminderText))))}}]),a}(p.Component),M=Object(f.b)(null,(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))(T);var F=function(e){s()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=d()(e);if(t()){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"confirmAction",(function(e){e.preventDefault(),N.a.setIrrecoverable(n.props.invoiceId).then((function(e){n.props.fetchInvoiceDetails(n.props.invoiceId),n.props.closeModal()}))})),n}return o()(a,[{key:"render",value:function(){return h.a.createElement(w.a,{closeModal:this.props.closeModal,confirmAction:this.confirmAction,title:"Nota oninbaar"},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-sm-12 margin-10-bottom"},h.a.createElement("span",null,"Wilt u deze nota als oninbaar markeren?"))))}}]),a}(p.Component),q=Object(f.b)(null,(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))(F),B=a(727),V=a.n(B),z=a(857),Y=Object(f.b)(null,(function(e){return{deleteInvoice:function(t){e(Object(v.a)(t))}}}))((function(e){return h.a.createElement(w.a,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.closeDeleteItemModal,confirmAction:function(){return e.deleteInvoice(e.id),void e.closeDeleteItemModal()},title:"Verwijderen"},h.a.createElement("p",null,"Verwijder nota: ",h.a.createElement("strong",null," ","".concat(e.number,"?"))))})),W=a(201);var G=function(e){s()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=d()(e);if(t()){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"download",(function(){N.a.download(n.props.invoiceDetails.id).then((function(e){V()(e.data,e.headers["x-filename"])}))})),y()(b()(n),"showSend",(function(){var e="collection"===n.props.invoiceDetails.paymentTypeId?"incasso":"overboeken";"incasso"==e&&n.props.invoiceDetails.totalInclVatInclReduction<0?n.props.setError(405,'Een nota met een negatief bedrag kan geen incasso zijn. Wil je a.u.b. de betaalwijze van de order aanpassen in "Overboeken".'):(n.props.previewSend([n.props.invoiceDetails.id]),P.f.push("/financieel/".concat(n.props.invoiceDetails.order.administrationId,"/notas/te-verzenden/verzenden/email/").concat(e)))})),y()(b()(n),"showSendPost",(function(){var e="collection"===n.props.invoiceDetails.paymentTypeId?"incasso":"overboeken";n.props.previewSend([n.props.invoiceDetails.id]),P.f.push("/financieel/".concat(n.props.invoiceDetails.order.administrationId,"/notas/te-verzenden/verzenden/post/").concat(e))})),y()(b()(n),"showSetPaid",(function(){n.setState({showSetPaid:!n.state.showSetPaid})})),y()(b()(n),"showSendNotification",(function(){n.setState({showSendNotification:!n.state.showSendNotification})})),y()(b()(n),"showSetIrrecoverable",(function(){n.setState({showSetIrrecoverable:!n.state.showSetIrrecoverable})})),y()(b()(n),"showDelete",(function(){n.setState({showDelete:!n.state.showDelete})})),y()(b()(n),"view",(function(){P.f.push("/nota/inzien/".concat(n.props.invoiceDetails.id))})),n.state={showSetChecked:!1,showSetPaid:!1,showSendNotification:!1,reminderText:"",showSetIrrecoverable:!1,showDelete:!1},n}return o()(a,[{key:"componentWillReceiveProps",value:function(e){this.props!==e&&(e.invoiceDetails.dateReminder3?this.setState({reminderText:"Wilt u de aanmaning sturen?"}):e.invoiceDetails.dateReminder2?this.setState({reminderText:"Wilt u de derde herinnering sturen?"}):e.invoiceDetails.dateReminder1?this.setState({reminderText:"Wilt u de tweede herinnering sturen?"}):this.setState({reminderText:"Wilt u de eerste herinnering sturen?"}))}},{key:"render",value:function(){return h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-md-4"},h.a.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},h.a.createElement(D.a,{iconName:"glyphicon-arrow-left",onClickAction:P.e.goBack}),h.a.createElement(D.a,{iconName:"glyphicon-eye-open",onClickAction:this.view}),("to-send"===this.props.invoiceDetails.statusId||"error-sending"===this.props.invoiceDetails.statusId)&&"Geen e-mail bekend"!==this.props.invoiceDetails.emailToAddress&&h.a.createElement(D.a,{iconName:"glyphicon-envelope",onClickAction:this.showSend}),("to-send"===this.props.invoiceDetails.statusId||"error-sending"===this.props.invoiceDetails.statusId)&&"Geen e-mail bekend"===this.props.invoiceDetails.emailToAddress&&h.a.createElement(D.a,{iconName:"glyphicon-envelope",onClickAction:this.showSendPost}),!this.props.invoiceDetails.invoiceInTwinfield&&("sent"===this.props.invoiceDetails.statusId||"exported"===this.props.invoiceDetails.statusId)&&h.a.createElement(D.a,{iconName:"glyphicon-euro",onClickAction:this.showSetPaid}),("sent"===this.props.invoiceDetails.statusId||"exported"===this.props.invoiceDetails.statusId)&&!this.props.invoiceDetails.dateExhortation&&!this.props.invoiceDetails.isPaidByMollie&&h.a.createElement(D.a,{iconName:"glyphicon-bullhorn",onClickAction:this.showSendNotification}),"to-send"!==this.props.invoiceDetails.statusId&&"in-progress"!==this.props.invoiceDetails.statusId&&"is-sending"!==this.props.invoiceDetails.statusId&&"error-making"!==this.props.invoiceDetails.statusId&&"error-sending"!==this.props.invoiceDetails.statusId&&"is-resending"!==this.props.invoiceDetails.statusId&&"paid"!==this.props.invoiceDetails.statusId&&"irrecoverable"!==this.props.invoiceDetails.statusId&&h.a.createElement(D.a,{iconName:"glyphicon-remove",onClickAction:this.showSetIrrecoverable}),h.a.createElement(D.a,{iconName:"glyphicon-download-alt",onClickAction:this.download}),"to-send"===this.props.invoiceDetails.statusId&&h.a.createElement(D.a,{iconName:"glyphicon-trash",onClickAction:this.showDelete}))),!this.props.isLoading&&h.a.createElement("div",{className:"col-md-4"},h.a.createElement("h4",{className:"text-center"},"Nota:"," ",this.props.invoiceDetails.order?this.props.invoiceDetails.order.contact.fullName:""," /"," ",this.props.invoiceDetails.number)),h.a.createElement("div",{className:"col-md-4"}),this.state.showSetPaid&&h.a.createElement(x,{closeModal:this.showSetPaid,invoiceId:this.props.invoiceDetails.id,amountOpen:this.props.invoiceDetails.amountOpen}),this.state.showSendNotification&&h.a.createElement(M,{reminderText:this.state.reminderText,closeModal:this.showSendNotification,invoiceId:this.props.invoiceDetails.id}),this.state.showSetIrrecoverable&&h.a.createElement(q,{closeModal:this.showSetIrrecoverable,invoiceId:this.props.invoiceDetails.id}),this.state.showDelete&&h.a.createElement(Y,{number:this.props.invoiceDetails.number,id:this.props.invoiceDetails.id,closeDeleteItemModal:this.showDelete}))}}]),a}(p.Component),_=Object(f.b)((function(e){return{invoiceDetails:e.invoiceDetails,isLoading:e.loadingData.isLoading}}),(function(e){return{previewSend:function(t){e(Object(z.e)(t))},setError:function(t,a){e(Object(W.b)(t,a))}}}))(G),H=a(198),K=a(696),U=a(690),J=a(691),Q=Object(f.b)((function(e){return{invoiceDetails:e.invoiceDetails}}))((function(e){var t=e.invoiceDetails,a=t.status,n=t.dateRequested,r=t.paymentType,i=t.paymentTypeId,o=t.invoiceText,c=t.subject,s=t.order,l=t.totalInclVatInclReduction,u=t.amountOpen,m=t.dateSent,d=t.datePaymentDue,p=t.datePaid,f=t.paymentReference,v=t.dateReminder1,g=t.dateReminder2,b=t.dateReminder3,E=t.dateExhortation,y=t.emailReminder1,P=t.emailReminder2,D=t.emailReminder3,w=t.emailExhortation,N=t.dateCollection,O=t.emailedTo,C=t.sentToName,S=t.isPaidByMollie;return h.a.createElement("div",{onClick:e.switchToEdit},h.a.createElement(U.a,null,h.a.createElement(J.a,null,h.a.createElement("div",{className:"row"},h.a.createElement(K.a,{label:"Contact",value:s.contact?s.contact.fullName:"",link:s.contact?"contact/"+s.contact.id:""}),h.a.createElement(K.a,{label:"Status",value:a?a.name:""})),a&&"sent"===a.id&&S&&h.a.createElement("div",{className:"row"},h.a.createElement(K.a,null),h.a.createElement(K.a,{label:"Substatus",value:"Mollie betaald"})),h.a.createElement("div",{className:"row"},h.a.createElement(K.a,{label:"Betaalwijze",value:r?r.name:""}),h.a.createElement(K.a,{label:"Betreft",value:c||""})),h.a.createElement("div",{className:"row"},h.a.createElement(K.a,{label:"Order",value:s?s.number:"",link:s?"order/"+s.id:""})),h.a.createElement("div",{className:"row margin-20-top margin-20-bottom"},h.a.createElement("div",{className:"col-sm-3"},h.a.createElement("label",{htmlFor:"invoiceText",className:"col-sm-12"},"Opmerking")),h.a.createElement("div",{className:"col-sm-9",id:"invoiceText"},o||"")),h.a.createElement("div",{className:"row"},h.a.createElement(K.a,{label:"Bedrag incl. BTW",value:l?"€"+l.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}):"€0,00"}),h.a.createElement(K.a,{label:"Openstaand bedrag",value:u?"€"+u.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}):"€0,00"})),h.a.createElement("div",{className:"row"},m?h.a.createElement(K.a,{label:"Nota datum",value:m?I()(m).format("DD-MM-Y"):""}):h.a.createElement(K.a,{label:"Geplande nota datum",value:n?I()(n).format("DD-MM-Y"):""})),h.a.createElement("div",{className:"row"},h.a.createElement(K.a,{label:"Verstuurd naar",value:C||""}),h.a.createElement(K.a,{label:"Verstuurd naar e-mail",value:O||""})),h.a.createElement("div",{className:"row"},h.a.createElement(K.a,{label:"Herinnering 1 verstuurd",value:v?I()(v).format("DD-MM-Y"):""}),h.a.createElement(K.a,{label:"E-mail herinnering 1",value:y||""})),h.a.createElement("div",{className:"row"},h.a.createElement(K.a,{label:"Herinnering 2 verstuurd",value:g?I()(g).format("DD-MM-Y"):""}),h.a.createElement(K.a,{label:"E-mail herinnering 2",value:P||""})),h.a.createElement("div",{className:"row"},h.a.createElement(K.a,{label:"Herinnering 3 verstuurd",value:b?I()(b).format("DD-MM-Y"):""}),h.a.createElement(K.a,{label:"E-mail herinnering 3",value:D||""})),h.a.createElement("div",{className:"row"},h.a.createElement(K.a,{label:"Aanmaning verstuurd",value:E?I()(E).format("DD-MM-Y"):""}),h.a.createElement(K.a,{label:"E-mail aanmaning",value:w||""})),h.a.createElement("div",{className:"row"},"transfer"===i?h.a.createElement(K.a,{label:"Uiterste betaaldatum",value:d?I()(d).format("DD-MM-Y"):""}):h.a.createElement(K.a,{label:"Incasso datum",value:N?I()(N).format("DD-MM-Y"):""}),h.a.createElement(K.a,{label:"Datum betaald",value:p?I()(p).format("DD-MM-Y"):""})),h.a.createElement("div",{className:"row"},h.a.createElement(K.a,{label:"Betalingskenmerk",value:f||""})))))}));var X=function(e){s()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=d()(e);if(t()){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}(a);function a(e){return r()(this,a),t.call(this,e)}return o()(a,[{key:"render",value:function(){return h.a.createElement("div",null,h.a.createElement(Q,null))}}]),a}(p.Component);I.a.locale("nl");var Z=Object(f.b)((function(e){return{invoiceDetails:e.invoiceDetails}}))((function(e){var t=e.invoiceDetails,a=t.createdAt,n=t.createdBy;return h.a.createElement("div",null,h.a.createElement("div",{className:"row"},h.a.createElement(K.a,{label:"Gemaakt door",value:n?n.fullName:"Onbekend",link:n?"gebruiker/"+n.id:""}),h.a.createElement(K.a,{label:"Gemaakt op",value:a?I()(a).format("L"):"Onbekend"})))})),$=a(699),ee=function(e){return h.a.createElement(U.a,null,h.a.createElement($.a,null,h.a.createElement("span",{className:"h5 text-bold"},"Afsluiting gegevens")),h.a.createElement(J.a,null,h.a.createElement("div",{className:"col-md-12"},h.a.createElement(Z,null))))};I.a.locale("nl");var te=Object(f.b)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.invoiceProduct,a=t.period,n=t.productCode,r=t.productName,i=t.description,o=t.amount,c=t.amountInclVatInclReduction;return h.a.createElement("div",{className:"row border ".concat(e.highlightLine),onMouseEnter:function(){return e.onLineEnter()},onMouseLeave:function(){return e.onLineLeave()}},h.a.createElement("div",null,h.a.createElement("div",{className:"col-sm-1"},n||""),h.a.createElement("div",{className:"col-sm-3"},r||""),h.a.createElement("div",{className:"col-sm-3"},i||""),h.a.createElement("div",{className:"col-sm-2"},o||""),h.a.createElement("div",{className:"col-sm-2"},c?"€"+c.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}):"€0,00"),h.a.createElement("div",{className:"col-sm-1"}),a&&h.a.createElement("div",{className:"col-sm-12"},"Periode ",a)))})),ae=a(693);I.a.locale("nl");var ne=function(e){var t=e.invoiceProduct,a=t.product,n=t.description,r=t.amount,i=t.amountReduction,o=t.percentageReduction,c=t.dateLastInvoice,s=t.variablePrice;return h.a.createElement("div",null,h.a.createElement("form",{className:"form-horizontal",onSubmit:e.handleSubmit},h.a.createElement(U.a,{className:"panel-grey"},h.a.createElement(J.a,null,h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{label:"Notanummer",name:"invoice",value:e.invoiceDetails?e.invoiceDetails.number:"",readOnly:!0}),h.a.createElement(k.a,{label:"Product",name:"product",value:a?a.name:"",readOnly:!0})),h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{label:"Omschrijving",id:"description",name:"description",value:n,onChangeAction:e.handleInputChange,required:"required",error:e.errors.description}),h.a.createElement(k.a,{label:"Aantal",type:"number",id:"amount",name:"amount",value:r,onChangeAction:e.handleInputChange,required:"required",error:e.errors.amount})),h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{label:"Kortingspercentage",type:"number",id:"percentageReduction",name:"percentageReduction",value:o,onChangeAction:e.handleInputChange}),e.productVariablePrice?h.a.createElement(k.a,{label:"Prijs ex. BTW",type:"number",name:"variablePrice",value:s,onChangeAction:e.handleInputChangeVariablePrice}):h.a.createElement(k.a,{label:"Prijs excl. BTW",name:"price",value:"€"+e.invoiceProduct.product.currentPrice.priceInclVat.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:e.invoiceProduct.product.currentPrice.priceNumberOfDecimals}),readOnly:!0})),h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{label:"Kortingsbedrag",type:"number",id:"amountReduction",name:"amountReduction",value:i,onChangeAction:e.handleInputChange}),h.a.createElement(k.a,{label:"Totaalbedrag",name:"totalPrice",value:"€"+e.totalPrice.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}),readOnly:!0})),h.a.createElement("div",{className:"row"},h.a.createElement(R.a,{label:"Begin datum",name:"dateLastInvoice",value:c,onChangeAction:e.handleInputChangeDate})),h.a.createElement("div",{className:"pull-right btn-group",role:"group"},h.a.createElement(ae.a,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:e.cancelEdit}),h.a.createElement(ae.a,{buttonText:"Opslaan",onClickAction:e.handleSubmit,type:"submit",value:"Submit"}))))))},re=Object(f.b)(null,(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))((function(e){return h.a.createElement(w.a,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.closeDeleteItemModal,confirmAction:function(){N.a.deleteInvoiceProduct(e.id).then((function(t){e.fetchInvoiceDetails(e.invoiceId),e.closeDeleteItemModal()}))},title:"Verwijderen"},h.a.createElement("p",null,"Verwijder notaregel?"))}));function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function oe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ce=function(e){s()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=d()(e);if(t()){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"toggleDelete",(function(){n.setState({showDelete:!n.state.showDelete})})),y()(b()(n),"onLineEnter",(function(){n.setState({showActionButtons:!0,highlightLine:"highlight-line"})})),y()(b()(n),"onLineLeave",(function(){n.setState({showActionButtons:!1,highlightLine:""})})),y()(b()(n),"openEdit",(function(){n.setState({showEdit:!0})})),y()(b()(n),"closeEdit",(function(){n.setState({showEdit:!1})})),y()(b()(n),"cancelEdit",(function(){n.setState(oe({},n.state,{invoiceProduct:oe({},n.props.invoiceProduct)})),n.closeEdit()})),y()(b()(n),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(oe({},n.state,{invoiceProduct:oe({},n.state.invoiceProduct,y()({},r,a))}),n.updatePrice)})),y()(b()(n),"updatePrice",(function(){var e=0;e=n.state.invoiceProduct.variablePrice?S.a.isFloat(n.state.invoiceProduct.variablePrice+"")?n.state.invoiceProduct.variablePrice:0:S.a.isFloat(n.props.invoiceProduct.product.currentPrice.priceInclVat+"")?n.props.invoiceProduct.product.currentPrice.priceInclVat:0;var t=S.a.isFloat(n.state.invoiceProduct.amount+"")?n.state.invoiceProduct.amount:0,a=S.a.isFloat(n.state.invoiceProduct.percentageReduction+"")?n.state.invoiceProduct.percentageReduction:0,r=S.a.isFloat(n.state.invoiceProduct.amountReduction+"")?n.state.invoiceProduct.amountReduction:0,i=0;e<0?i=e*t*((parseFloat(100)+parseFloat(a))/100)-r:i=e*t*((100-a)/100)-r;n.setState(oe({},n.state,{totalPrice:i}))})),y()(b()(n),"handleSubmit",(function(e){e.preventDefault();var t={},a=!1,r=n.state.invoiceProduct;S.a.isEmpty(r.amount+"")&&(t.amount=!0,a=!0),S.a.isEmpty(r.description+"")&&(t.description=!0,a=!0),n.setState(oe({},n.state,{errors:t})),!a&&N.a.updateInvoiceProduct(r).then((function(e){n.props.fetchInvoiceDetails(n.state.invoiceProduct.invoiceId),n.closeEdit()}))})),y()(b()(n),"handleInputChangeVariablePrice",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(oe({},n.state,{price:a,invoiceProduct:oe({},n.state.invoiceProduct,y()({},r,a))}),n.updatePrice)})),n.state={showActionButtons:!1,highlightLine:"",showEdit:!1,showDelete:!1,totalPrice:e.invoiceProduct.amountInclVatInclReduction,invoiceProduct:oe({},e.invoiceProduct,{variablePrice:e.invoiceProduct.priceInclVat?Math.round(100*e.invoiceProduct.priceInclVat)/100:0}),errors:{amount:!1,description:!1}},n.handleInputChangeDate=n.handleInputChangeDate.bind(b()(n)),n}return o()(a,[{key:"componentWillReceiveProps",value:function(e){Object(H.isEqual)(this.state.invoiceProduct,e.invoiceProduct)||this.setState(oe({},this.state,{totalPrice:e.invoiceProduct.amountInclVatInclReduction,invoiceProduct:oe({},e.invoiceProduct,{variablePrice:e.invoiceProduct.priceInclVat?Math.round(100*e.invoiceProduct.priceInclVat)/100:0})}))}},{key:"handleInputChangeDate",value:function(e,t){this.setState(oe({},this.state,{invoiceProduct:oe({},this.state.invoiceProduct,y()({},t,e))}))}},{key:"render",value:function(){return h.a.createElement("div",null,h.a.createElement(te,{highlightLine:this.state.highlightLine,onLineEnter:this.onLineEnter,onLineLeave:this.onLineLeave,showActionButtons:this.state.showActionButtons,invoiceProduct:this.state.invoiceProduct,invoiceDetails:this.props.invoiceDetails,openEdit:this.openEdit,toggleDelete:this.toggleDelete}),this.state.showEdit&&this.props.permissions.manageFinancial&&h.a.createElement(ne,{invoiceDetails:this.props.invoiceDetails,errors:this.state.errors,totalPrice:this.state.totalPrice,invoiceProduct:this.state.invoiceProduct,handleInputChange:this.handleInputChange,handleInputChangeDate:this.handleInputChangeDate,handleSubmit:this.handleSubmit,cancelEdit:this.cancelEdit,handleInputChangeVariablePrice:this.handleInputChangeVariablePrice,productVariablePrice:"variable"===this.state.invoiceProduct.product.hasVariablePrice}),this.state.showDelete&&this.props.permissions.manageFinancial&&h.a.createElement(re,{closeDeleteItemModal:this.toggleDelete,id:this.state.invoiceProduct.id,invoiceId:this.state.invoiceProduct.invoiceId}))}}]),a}(p.Component),se=Object(f.b)((function(e){return{permissions:e.meDetails.permissions,invoiceDetails:e.invoiceDetails}}),(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))(ce),le=Object(f.b)((function(e){return{invoiceProducts:e.invoiceDetails.invoiceProducts}}))((function(e){return h.a.createElement("div",null,h.a.createElement("div",{className:"row border header"},h.a.createElement("div",{className:"col-sm-1"},"Productcode"),h.a.createElement("div",{className:"col-sm-3"},"Productnaam"),h.a.createElement("div",{className:"col-sm-3"},"Omschrijving"),h.a.createElement("div",{className:"col-sm-2"},"Aantal"),h.a.createElement("div",{className:"col-sm-2"},"Bedrag incl. BTW")),e.invoiceProducts.length>0?e.invoiceProducts.map((function(e){return h.a.createElement(se,{key:e.id,invoiceProduct:e})})):h.a.createElement("div",null,"Geen notaregels bekend."))})),ue=a(697),me=a(718);function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var he=function(e){s()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=d()(e);if(t()){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(pe({},n.state,{invoiceProduct:pe({},n.state.invoiceProduct,y()({},r,a))}),n.updatePrice)})),y()(b()(n),"handleInputChangeProduct",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(pe({},n.state,{product:pe({},n.state.product,y()({},r,a))}))})),y()(b()(n),"handleInputChangeProductPrice",(function(e){var t,a=e.target,r="checkbox"===a.type?a.checked:a.value,i=a.name;t=n.state.vatPercentage&&"6"==n.state.vatPercentage.id?1.06*r:n.state.vatPercentage&&"9"==n.state.vatPercentage.id?1.09*r:n.state.vatPercentage&&"21"==n.state.vatPercentage.id?1.21*r:r,n.setState(pe({},n.state,{price:t,product:pe({},n.state.product,y()({},i,r))}),n.updatePrice)})),y()(b()(n),"handleInputChangeProductVat",(function(e){var t,a=e.target,r="checkbox"===a.type?a.checked:a.value,i=a.name;t="6"==r?1.06*n.state.product.price:"9"==r?1.09*n.state.product.price:"21"==r?1.21*n.state.product.price:n.state.product.price,n.setState(pe({},n.state,{price:t,product:pe({},n.state.product,y()({},i,r))}),n.updatePrice)})),y()(b()(n),"updatePrice",(function(){var e=S.a.isFloat(n.state.price+"")?n.state.price:0,t=S.a.isFloat(n.state.invoiceProduct.amount+"")?n.state.invoiceProduct.amount:0,a=S.a.isFloat(n.state.invoiceProduct.percentageReduction+"")?n.state.invoiceProduct.percentageReduction:0,r=S.a.isFloat(n.state.invoiceProduct.amountReduction+"")?n.state.invoiceProduct.amountReduction:0,i=0;e<0?i=e*t*((parseFloat(100)+parseFloat(a))/100)-r:i=e*t*((100-a)/100)-r;n.setState(pe({},n.state,{price:parseFloat(e).toFixed(2),totalPrice:parseFloat(i).toFixed(2)}))})),y()(b()(n),"handleSubmit",(function(e){e.preventDefault();var t=n.state.invoiceProduct,a={},r=!1,i=!1;S.a.isEmpty(t.amount+"")&&(a.amount=!0,r=!0),S.a.isEmpty(t.dateLastInvoice+"")&&(a.dateLastInvoice=!0,r=!0),S.a.isEmpty(t.description+"")&&(a.description=!0,r=!0);var o=n.state.product,c=!1;n.props.products.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return e.code===o.code&&(c=!0)&&e.active})),c&&(i="Productcode moet uniek zijn.",a.code=!0,r=!0),S.a.isEmpty(o.code+"")&&(a.code=!0,r=!0);var s=!1;n.props.products.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e){return e.name===o.name&&(s=!0)&&e.active})),s&&(i="Productnaam moet uniek zijn.",a.name=!0,r=!0),c&&s&&(i="Productcode en productnaam moeten uniek zijn."),S.a.isEmpty(o.name+"")&&(a.name=!0,r=!0),S.a.isEmpty(o.administrationId+"")&&(a.administrationId=!0,r=!0),S.a.isEmpty(o.price+"")&&(a.price=!0,r=!0),n.setState(pe({},n.state,{errors:a,errorMessage:i})),!r&&N.a.newProductAndInvoiceProduct(t,o).then((function(e){n.props.fetchInvoiceDetails(t.invoiceId),n.props.toggleShowNewProduct()}))})),n.state={vatPercentages:[{id:"0",name:"0"},{id:"9",name:"9"},{id:"21",name:"21"}],errorMessage:!1,price:"0",totalPrice:"0",invoiceProduct:{invoiceId:n.props.invoiceDetails.id,description:"",amount:1,amountReduction:0,percentageReduction:0,dateLastInvoice:I()().format("YYYY-MM-DD")},product:{code:"",name:"",durationId:"none",administrationId:n.props.invoiceDetails.order.administrationId,invoiceFrequencyId:"once",vatPercentage:"",price:"",isOneTime:!1,ledgerId:""},errors:{amount:!1,dateLastInvoice:!1,description:!1,code:!1,name:!1,price:!1}},n.handleReactSelectChange=n.handleReactSelectChange.bind(b()(n)),n.handleInputChangeDate=n.handleInputChangeDate.bind(b()(n)),n}return o()(a,[{key:"handleReactSelectChange",value:function(e,t){this.setState(pe({},this.state,{product:pe({},this.state.product,y()({},t,e))}))}},{key:"handleInputChangeDate",value:function(e,t){this.setState(pe({},this.state,{invoiceProduct:pe({},this.state.invoiceProduct,y()({},t,e))}))}},{key:"render",value:function(){var e=this.state.invoiceProduct,t=e.description,a=e.amount,n=e.amountReduction,r=e.percentageReduction,i=e.dateLastInvoice,o=this.state.product,c=o.code,s=o.name,l=o.vatPercentage,u=o.price,m=o.ledgerId;return h.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},h.a.createElement(U.a,{className:"panel-grey"},h.a.createElement(J.a,null,h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"panel-heading"},h.a.createElement("span",{className:"h5 text-bold"},"Product"))),h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{label:"Productcode",name:"code",value:c,onChangeAction:this.handleInputChangeProduct,required:"required",error:this.state.errors.code}),h.a.createElement(k.a,{label:"Naam",name:"name",value:s,onChangeAction:this.handleInputChangeProduct,required:"required",error:this.state.errors.name})),h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{label:"Prijs ex. BTW",id:"price",name:"price",type:"number",min:"0",max:"1000000",value:u,onChangeAction:this.handleInputChangeProductPrice,required:"required",error:this.state.errors.price}),h.a.createElement(ue.a,{label:"BTW percentage",name:"vatPercentage",options:this.state.vatPercentages,value:l,onChangeAction:this.handleInputChangeProductVat,placeholder:"Geen"})),1==this.props.invoiceDetails.order.administration.usesTwinfield&&1==this.props.invoiceDetails.order.administration.twinfieldIsValid&&h.a.createElement("div",{className:"row"},h.a.createElement(me.a,{label:"Grootboek",name:"ledgerId",options:this.props.ledgers,optionName:"description",value:m,onChangeAction:this.handleReactSelectChange})),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"panel-part panel-heading"},h.a.createElement("span",{className:"h5 text-bold"},"Notaregel"))),h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{label:"Omschrijving",id:"description",name:"description",value:t,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.description}),h.a.createElement(k.a,{label:"Aantal",type:"number",id:"amount",name:"amount",value:a,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.amount})),h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{label:"Kortingspercentage",type:"number",id:"percentageReduction",name:"percentageReduction",value:r,onChangeAction:this.handleInputChange}),h.a.createElement(k.a,{label:"Bedrag",name:"price",value:"€"+this.state.price.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}),readOnly:!0})),h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{label:"Kortingsbedrag",type:"number",id:"amountReduction",name:"amountReduction",value:n,onChangeAction:this.handleInputChange}),h.a.createElement(k.a,{label:"Totaalbedrag",name:"totalPrice",value:"€"+this.state.totalPrice.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}),readOnly:!0})),h.a.createElement("div",{className:"row"},h.a.createElement(R.a,{label:"Begin datum",name:"dateLastInvoice",value:i,onChangeAction:this.handleInputChangeDate,required:"required",error:this.state.errors.dateLastInvoice})),this.state.errorMessage&&h.a.createElement("div",{className:"col-sm-10 col-md-offset-1 alert alert-danger"},this.state.errorMessage),h.a.createElement("div",{className:"pull-right btn-group",role:"group"},h.a.createElement(ae.a,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:this.props.toggleShowNewProduct}),h.a.createElement(ae.a,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}]),a}(p.Component),fe=Object(f.b)((function(e){return{invoiceDetails:e.invoiceDetails,administrationId:e.administrationDetails.id,productDurations:e.systemData.productDurations,productInvoiceFrequencies:e.systemData.productInvoiceFrequencies,productPaymentTypes:e.systemData.productPaymentTypes,products:e.systemData.products,ledgers:e.systemData.ledgers}}),(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))(he);function ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ve(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var be=function(e){s()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=d()(e);if(t()){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(ge({},n.state,{invoiceProduct:ge({},n.state.invoiceProduct,y()({},r,a))}),n.updatePrice)})),y()(b()(n),"handleInputChangeVariablePrice",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(ge({},n.state,{price:a,invoiceProduct:ge({},n.state.invoiceProduct,y()({},r,a))}),n.updatePrice)})),y()(b()(n),"updatePrice",(function(){var e=S.a.isFloat(n.state.price+"")?n.state.price:0,t=S.a.isFloat(n.state.invoiceProduct.amount+"")?n.state.invoiceProduct.amount:0,a=S.a.isFloat(n.state.invoiceProduct.percentageReduction+"")?n.state.invoiceProduct.percentageReduction:0,r=S.a.isFloat(n.state.invoiceProduct.amountReduction+"")?n.state.invoiceProduct.amountReduction:0,i=0;e<0?i=e*t*((parseFloat(100)+parseFloat(a))/100)-r:i=e*t*((100-a)/100)-r;n.setState(ge({},n.state,{totalPrice:i}))})),y()(b()(n),"handleChangeProduct",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name,i="",o=0,c="";if(a){var s=n.props.products.filter((function(e){return e.id==a}));o=s[0].priceInclVat,c=s[0].invoiceText,i=s[0].hasVariablePrice}n.setState(ge({},n.state,{price:o,productHasVariablePrice:"variable"===i,invoiceProduct:ge({},n.state.invoiceProduct,y()({description:c},r,a))}),n.updatePrice)})),y()(b()(n),"handleSubmit",(function(e){e.preventDefault();var t=n.state.invoiceProduct,a={},r=!1;S.a.isEmpty(t.productId+"")&&(a.productId=!0,r=!0),S.a.isEmpty(t.amount+"")&&(a.amount=!0,r=!0),S.a.isEmpty(t.dateLastInvoice+"")&&(a.dateLastInvoice=!0,r=!0),S.a.isEmpty(t.description+"")&&(a.description=!0,r=!0),n.setState(ge({},n.state,{errors:a})),!r&&N.a.newInvoiceProduct(t).then((function(e){n.props.fetchInvoiceDetails(t.invoiceId),n.props.toggleShowNew()}))})),n.state={price:"0",totalPrice:"0",productHasVariablePrice:!1,invoiceProduct:{invoiceId:n.props.invoiceDetails.id,productId:"",description:"",amount:1,amountReduction:0,percentageReduction:0,dateLastInvoice:I()().format("YYYY-MM-DD"),variablePrice:0},errors:{productId:!1,amount:!1,dateLastInvoice:!1,description:!1}},n.handleInputChangeDate=n.handleInputChangeDate.bind(b()(n)),n}return o()(a,[{key:"handleInputChangeDate",value:function(e,t){this.setState(ge({},this.state,{invoiceProduct:ge({},this.state.invoiceProduct,y()({},t,e))}))}},{key:"render",value:function(){var e=this.state.invoiceProduct,t=e.productId,a=e.description,n=e.amount,r=e.amountReduction,i=e.percentageReduction,o=e.dateLastInvoice;return h.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},h.a.createElement(U.a,{className:"panel-grey"},h.a.createElement(J.a,null,h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{label:"Order nummer",name:"orderId",value:this.props.invoiceDetails.number,readOnly:!0}),h.a.createElement(ue.a,{label:"Product",id:"productId",name:"productId",options:this.props.products,value:t,onChangeAction:this.handleChangeProduct,required:"required",error:this.state.errors.productId})),h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{label:"Omschrijving",id:"description",name:"description",value:a,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.description}),h.a.createElement(k.a,{label:"Aantal",type:"number",id:"amount",name:"amount",value:n,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.amount})),h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{label:"Kortingspercentage",type:"number",id:"percentageReduction",name:"percentageReduction",value:i,onChangeAction:this.handleInputChange}),this.state.productHasVariablePrice?h.a.createElement(k.a,{label:"Prijs ex. BTW",type:"number",name:"variablePrice",value:this.state.price,onChangeAction:this.handleInputChangeVariablePrice}):h.a.createElement(k.a,{label:"Prijs excl. BTW",name:"price",value:"€"+this.state.price.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}),readOnly:!0})),h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{label:"Kortingsbedrag",type:"number",id:"amountReduction",name:"amountReduction",value:r,onChangeAction:this.handleInputChange}),h.a.createElement(k.a,{label:"Totaalbedrag",name:"totalPrice",value:"€"+this.state.totalPrice.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}),readOnly:!0})),h.a.createElement("div",{className:"row"},h.a.createElement(R.a,{label:"Begin datum",name:"dateLastInvoice",value:o,onChangeAction:this.handleInputChangeDate,required:"required",error:this.state.errors.dateLastInvoice})),h.a.createElement("div",{className:"pull-right btn-group",role:"group"},h.a.createElement(ae.a,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:this.props.toggleShowNew}),h.a.createElement(ae.a,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}]),a}(p.Component),Ee=Object(f.b)((function(e){return{invoiceDetails:e.invoiceDetails,products:e.systemData.products}}),(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))(be);function ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ye(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var De=function(e){s()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=d()(e);if(t()){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Pe({},n.state,{invoiceProduct:Pe({},n.state.invoiceProduct,y()({},r,a))}),n.updatePrice)})),y()(b()(n),"handleInputChangeProduct",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Pe({},n.state,{product:Pe({},n.state.product,y()({},r,a))}))})),y()(b()(n),"handleInputChangeProductPrice",(function(e){var t,a=e.target,r="checkbox"===a.type?a.checked:a.value,i=a.name;t=n.state.vatPercentage&&"6"==n.state.vatPercentage.id?1.06*r:n.state.vatPercentage&&"9"==n.state.vatPercentage.id?1.09*r:n.state.vatPercentage&&"21"==n.state.vatPercentage.id?1.21*r:r,n.setState(Pe({},n.state,{price:t,product:Pe({},n.state.product,y()({},i,r))}),n.updatePrice)})),y()(b()(n),"handleInputChangeProductVat",(function(e){var t,a=e.target,r="checkbox"===a.type?a.checked:a.value,i=a.name;t="6"==r?1.06*n.state.product.price:"9"==r?1.09*n.state.product.price:"21"==r?1.21*n.state.product.price:n.state.product.price,n.setState(Pe({},n.state,{price:t,product:Pe({},n.state.product,y()({},i,r))}),n.updatePrice)})),y()(b()(n),"updatePrice",(function(){var e=S.a.isFloat(n.state.price+"")?n.state.price:0,t=S.a.isFloat(n.state.invoiceProduct.amount+"")?n.state.invoiceProduct.amount:0,a=S.a.isFloat(n.state.invoiceProduct.percentageReduction+"")?n.state.invoiceProduct.percentageReduction:0,r=S.a.isFloat(n.state.invoiceProduct.amountReduction+"")?n.state.invoiceProduct.amountReduction:0,i=0;e<0?i=e*t*((parseFloat(100)+parseFloat(a))/100)-r:i=e*t*((100-a)/100)-r;n.setState(Pe({},n.state,{price:parseFloat(e).toFixed(2),totalPrice:parseFloat(i).toFixed(2)}))})),y()(b()(n),"handleSubmit",(function(e){e.preventDefault();var t=n.state.invoiceProduct,a={},r=!1;S.a.isEmpty(t.amount+"")&&(a.amount=!0,r=!0),S.a.isEmpty(t.dateLastInvoice+"")&&(a.dateLastInvoice=!0,r=!0),S.a.isEmpty(t.description+"")&&(a.description=!0,r=!0);var i=n.state.product;S.a.isEmpty(i.administrationId+"")&&(a.administrationId=!0,r=!0),S.a.isEmpty(i.price+"")&&(a.price=!0,r=!0),n.setState(Pe({},n.state,{errors:a,errorMessage:!1})),!r&&N.a.newProductAndInvoiceProduct(t,i).then((function(e){n.props.fetchInvoiceDetails(t.invoiceId),n.props.toggleShowNewProductOneTime()}))})),n.state={vatPercentages:[{id:"0",name:"0"},{id:"9",name:"9"},{id:"21",name:"21"}],errorMessage:!1,price:"0",totalPrice:"0",invoiceProduct:{invoiceId:n.props.invoiceDetails.id,description:"",amount:1,amountReduction:0,percentageReduction:0,dateLastInvoice:I()().format("YYYY-MM-DD")},product:{code:"EMP",name:"Eenmalig product",durationId:"none",administrationId:n.props.invoiceDetails.order.administrationId,invoiceFrequencyId:"once",vatPercentage:"",price:"",isOneTime:!0,ledgerId:""},errors:{amount:!1,dateLastInvoice:!1,description:!1,price:!1}},n.handleReactSelectChange=n.handleReactSelectChange.bind(b()(n)),n.handleInputChangeDate=n.handleInputChangeDate.bind(b()(n)),n}return o()(a,[{key:"handleReactSelectChange",value:function(e,t){this.setState(Pe({},this.state,{product:Pe({},this.state.product,y()({},t,e))}))}},{key:"handleInputChangeDate",value:function(e,t){this.setState(Pe({},this.state,{invoiceProduct:Pe({},this.state.invoiceProduct,y()({},t,e))}))}},{key:"render",value:function(){var e=this.state.invoiceProduct,t=e.description,a=e.amount,n=e.amountReduction,r=e.percentageReduction,i=e.dateLastInvoice,o=this.state.product,c=o.vatPercentage,s=o.price,l=o.ledgerId;return h.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},h.a.createElement(U.a,{className:"panel-grey"},h.a.createElement(J.a,null,h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"panel-heading"},h.a.createElement("span",{className:"h5 text-bold"},"Product"))),h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{label:"Prijs ex. BTW",id:"price",name:"price",type:"number",min:"0",max:"1000000",value:s,onChangeAction:this.handleInputChangeProductPrice,required:"required",error:this.state.errors.price}),h.a.createElement(ue.a,{label:"BTW percentage",name:"vatPercentage",options:this.state.vatPercentages,value:c,onChangeAction:this.handleInputChangeProductVat,placeholder:"Geen"})),1==this.props.invoiceDetails.order.administration.usesTwinfield&&1==this.props.invoiceDetails.order.administration.twinfieldIsValid&&h.a.createElement("div",{className:"row"},h.a.createElement(me.a,{label:"Grootboek",name:"ledgerId",options:this.props.ledgers,optionName:"description",value:l,onChangeAction:this.handleReactSelectChange})),h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"panel-part panel-heading"},h.a.createElement("span",{className:"h5 text-bold"},"Notaregel"))),h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{label:"Omschrijving",id:"description",name:"description",value:t,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.description}),h.a.createElement(k.a,{label:"Aantal",type:"number",id:"amount",name:"amount",value:a,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.amount})),h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{label:"Kortingspercentage",type:"number",id:"percentageReduction",name:"percentageReduction",value:r,onChangeAction:this.handleInputChange}),h.a.createElement(k.a,{label:"Bedrag",name:"price",value:"€"+this.state.price.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}),readOnly:!0})),h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{label:"Kortingsbedrag",type:"number",id:"amountReduction",name:"amountReduction",value:n,onChangeAction:this.handleInputChange}),h.a.createElement(k.a,{label:"Totaalbedrag",name:"totalPrice",value:"€"+this.state.totalPrice.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}),readOnly:!0})),h.a.createElement("div",{className:"row"},h.a.createElement(R.a,{label:"Begin datum",name:"dateLastInvoice",value:i,onChangeAction:this.handleInputChangeDate,required:"required",error:this.state.errors.dateLastInvoice})),this.state.errorMessage&&h.a.createElement("div",{className:"col-sm-10 col-md-offset-1 alert alert-danger"},this.state.errorMessage),h.a.createElement("div",{className:"pull-right btn-group",role:"group"},h.a.createElement(ae.a,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:this.props.toggleShowNewProductOneTime}),h.a.createElement(ae.a,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}]),a}(p.Component),we=Object(f.b)((function(e){return{invoiceDetails:e.invoiceDetails,administrationId:e.administrationDetails.id,productDurations:e.systemData.productDurations,productInvoiceFrequencies:e.systemData.productInvoiceFrequencies,productPaymentTypes:e.systemData.productPaymentTypes,products:e.systemData.products,ledgers:e.systemData.ledgers}}),(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))(De);var Ne=function(e){s()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=d()(e);if(t()){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"toggleShowNew",(function(){n.setState({showNew:!n.state.showNew})})),y()(b()(n),"toggleShowNewProduct",(function(){n.setState({showNewProduct:!n.state.showNewProduct})})),y()(b()(n),"toggleShowNewProductOneTime",(function(){n.setState({showNewProductOneTime:!n.state.showNewProductOneTime})})),n.state={showNew:!1,showNewProduct:!1,showNewProductOneTime:!1},n}return o()(a,[{key:"render",value:function(){return h.a.createElement(U.a,null,h.a.createElement($.a,null,h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-xs-10"},h.a.createElement("span",{className:"h5 text-bold"},"Notaregels")))),h.a.createElement(J.a,null,h.a.createElement("div",{className:"col-md-12"},h.a.createElement(le,null)),h.a.createElement("div",{className:"col-md-12 margin-10-top"},this.state.showNew&&h.a.createElement(Ee,{toggleShowNew:this.toggleShowNew}),this.state.showNewProduct&&h.a.createElement(fe,{toggleShowNewProduct:this.toggleShowNewProduct}),this.state.showNewProductOneTime&&h.a.createElement(we,{toggleShowNewProductOneTime:this.toggleShowNewProductOneTime}))))}}]),a}(p.Component),Oe=Object(f.b)((function(e){return{permissions:e.meDetails.permissions,invoice:e.invoiceDetails}}))(Ne);I.a.locale("nl");var Ie=Object(f.b)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.payment,a=t.datePaid,n=t.amount,r=t.paymentReference,i=t.createdAt;return h.a.createElement("div",{className:"row border ".concat(e.highlightLine),onMouseEnter:function(){return e.onLineEnter()},onMouseLeave:function(){return e.onLineLeave()}},h.a.createElement("div",{onClick:e.openEdit},h.a.createElement("div",{className:"col-sm-3"},a?I()(a).format("L"):""),h.a.createElement("div",{className:"col-sm-2"},n?"€"+n.toLocaleString("nl",{minimumFractionDigits:2,maximumFractionDigits:2}):"€0,00"),h.a.createElement("div",{className:"col-sm-3"},r||""),h.a.createElement("div",{className:"col-sm-3"},i?I()(i).format("L"):"")),h.a.createElement("div",{className:"col-sm-1"},e.showActionButtons&&e.permissions.manageFinancial?h.a.createElement("a",{role:"button",onClick:e.openEdit},h.a.createElement("span",{className:"glyphicon glyphicon-pencil mybtn-success"})," "):"",e.showActionButtons&&e.permissions.manageFinancial?h.a.createElement("a",{role:"button",onClick:e.toggleDelete},h.a.createElement("span",{className:"glyphicon glyphicon-trash mybtn-danger"})," "):""))}));I.a.locale("nl");var Ce=function(e){var t=e.payment,a=t.amount,n=t.datePaid,r=t.paymentReference;return h.a.createElement("div",null,h.a.createElement("form",{className:"form-horizontal",onSubmit:e.handleSubmit},h.a.createElement(U.a,{className:"panel-grey"},h.a.createElement(J.a,null,h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{label:"Bedrag",id:"amount",name:"amount",value:a,onChangeAction:e.handleInputChange,required:"required",error:e.errors.amount}),h.a.createElement(R.a,{label:"Datum betaald",name:"datePaid",value:n,onChangeAction:e.handleInputChangeDate,required:"required",error:e.errors.datePaid})),h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{label:"Betalingskenmerk",name:"paymentReference",value:r,onChangeAction:e.handleInputChange})),h.a.createElement("div",{className:"pull-right btn-group",role:"group"},h.a.createElement(ae.a,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:e.cancelEdit}),h.a.createElement(ae.a,{buttonText:"Opslaan",onClickAction:e.handleSubmit,type:"submit",value:"Submit"}))))))},Se=Object(f.b)(null,(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))((function(e){return h.a.createElement(w.a,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.closeDeleteItemModal,confirmAction:function(){N.a.deletePayment(e.id).then((function(t){e.fetchInvoiceDetails(e.invoiceId),e.closeDeleteItemModal()}))},title:"Verwijderen"},h.a.createElement("p",null,"Verwijder betaling?"))}));function Re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var je=function(e){s()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=d()(e);if(t()){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"toggleDelete",(function(){n.setState({showDelete:!n.state.showDelete})})),y()(b()(n),"onLineEnter",(function(){n.setState({showActionButtons:!0,highlightLine:"highlight-line"})})),y()(b()(n),"onLineLeave",(function(){n.setState({showActionButtons:!1,highlightLine:""})})),y()(b()(n),"openEdit",(function(){n.setState({showEdit:!0})})),y()(b()(n),"closeEdit",(function(){n.setState({showEdit:!1})})),y()(b()(n),"cancelEdit",(function(){n.setState(ke({},n.state,{payment:ke({},n.props.payment)})),n.closeEdit()})),y()(b()(n),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(ke({},n.state,{payment:ke({},n.state.payment,y()({},r,a))}))})),y()(b()(n),"handleSubmit",(function(e){e.preventDefault();var t={},a=!1,r=n.state.payment;S.a.isEmpty(r.amount+"")&&(t.amount=!0,a=!0),S.a.isEmpty(r.datePaid+"")&&(t.datePaid=!0,a=!0),n.setState(ke({},n.state,{errors:t})),!a&&N.a.updatePayment(r).then((function(e){n.props.fetchInvoiceDetails(n.state.payment.invoiceId),n.closeEdit()}))})),n.state={showActionButtons:!1,highlightLine:"",showEdit:!1,showDelete:!1,payment:ke({},e.payment),errors:{amount:!1,datePaid:!1}},n.handleInputChangeDate=n.handleInputChangeDate.bind(b()(n)),n}return o()(a,[{key:"componentWillReceiveProps",value:function(e){Object(H.isEqual)(this.state.payment,e.payment)||this.setState(ke({},this.state,{payment:ke({},e.payment)}))}},{key:"handleInputChangeDate",value:function(e,t){this.setState(ke({},this.state,{payment:ke({},this.state.payment,y()({},t,e))}))}},{key:"render",value:function(){return h.a.createElement("div",null,h.a.createElement(Ie,{highlightLine:this.state.highlightLine,showActionButtons:this.state.showActionButtons,onLineEnter:this.onLineEnter,onLineLeave:this.onLineLeave,openEdit:this.openEdit,toggleDelete:this.toggleDelete,payment:this.state.payment}),!this.props.invoiceInTwinfield&&this.state.showEdit&&this.props.permissions.manageFinancial&&h.a.createElement(Ce,{errors:this.state.errors,payment:this.state.payment,handleInputChange:this.handleInputChange,handleInputChangeDate:this.handleInputChangeDate,handleSubmit:this.handleSubmit,cancelEdit:this.cancelEdit}),!this.props.invoiceInTwinfield&&this.state.showDelete&&this.props.permissions.manageFinancial&&h.a.createElement(Se,{closeDeleteItemModal:this.toggleDelete,id:this.state.payment.id,invoiceId:this.state.payment.invoiceId}))}}]),a}(p.Component),Ae=Object(f.b)((function(e){return{permissions:e.meDetails.permissions,invoiceInTwinfield:e.invoiceDetails.invoiceInTwinfield}}),(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))(je),Le=Object(f.b)((function(e){return{payments:e.invoiceDetails.payments}}))((function(e){return h.a.createElement("div",null,h.a.createElement("div",{className:"row border header"},h.a.createElement("div",{className:"col-sm-3"},"Datum betaald"),h.a.createElement("div",{className:"col-sm-2"},"Bedrag"),h.a.createElement("div",{className:"col-sm-3"},"Betalingskenmerk"),h.a.createElement("div",{className:"col-sm-3"},"Datum aangemaakt"),h.a.createElement("div",{className:"col-sm-1"})),e.payments.length>0?e.payments.map((function(e){return h.a.createElement(Ae,{key:e.id,payment:e})})):h.a.createElement("div",null,"Geen betalingen bekend."))}));function xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Me=function(e){s()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=d()(e);if(t()){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(Te({},n.state,{payment:Te({},n.state.payment,y()({},r,a))}))})),y()(b()(n),"handleSubmit",(function(e){e.preventDefault();var t=n.state.payment,a={},r=!1;S.a.isEmpty(t.amount+"")&&(a.amount=!0,r=!0),S.a.isEmpty(t.datePaid+"")&&(a.datePaid=!0,r=!0),n.setState(Te({},n.state,{errors:a})),!r&&N.a.newPayment(t).then((function(e){n.props.fetchInvoiceDetails(t.invoiceId),n.props.toggleShowNew()}))})),n.state={payment:{invoiceId:n.props.invoiceDetails.id,amount:"",datePaid:I()(),paymentReference:null},errors:{amount:!1,datePaid:!1}},n.handleInputChangeDate=n.handleInputChangeDate.bind(b()(n)),n}return o()(a,[{key:"handleInputChangeDate",value:function(e,t){this.setState(Te({},this.state,{payment:Te({},this.state.payment,y()({},t,e))}))}},{key:"render",value:function(){var e=this.state.payment,t=e.amount,a=e.datePaid,n=e.paymentReference;return h.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},h.a.createElement(U.a,{className:"panel-grey"},h.a.createElement(J.a,null,h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{label:"Bedrag",id:"amount",name:"amount",value:t,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.amount}),h.a.createElement(R.a,{label:"Datum betaald",name:"datePaid",value:a,onChangeAction:this.handleInputChangeDate,required:"required",error:this.state.errors.datePaid})),h.a.createElement("div",{className:"row"},h.a.createElement(k.a,{label:"Betalingskenmerk",name:"paymentReference",value:n,onChangeAction:this.handleInputChange})),h.a.createElement("div",{className:"pull-right btn-group",role:"group"},h.a.createElement(ae.a,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:this.props.toggleShowNew}),h.a.createElement(ae.a,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}]),a}(p.Component),Fe=Object(f.b)((function(e){return{invoiceDetails:e.invoiceDetails}}),(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))(Me);var qe=function(e){s()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=d()(e);if(t()){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"toggleShowNew",(function(){n.setState({showNew:!n.state.showNew})})),n.state={showNew:!1},n}return o()(a,[{key:"render",value:function(){return h.a.createElement(U.a,null,h.a.createElement($.a,null,h.a.createElement("span",{className:"h5 text-bold"},"Betalingen"),!this.props.invoiceInTwinfield&&this.props.permissions.manageFinancial&&h.a.createElement("a",{role:"button",className:"pull-right",onClick:this.toggleShowNew},h.a.createElement("span",{className:"glyphicon glyphicon-plus"}))),h.a.createElement(J.a,null,h.a.createElement("div",{className:"col-md-12"},h.a.createElement(Le,null)),h.a.createElement("div",{className:"col-md-12 margin-10-top"},this.state.showNew&&h.a.createElement(Fe,{toggleShowNew:this.toggleShowNew}))))}}]),a}(p.Component),Be=Object(f.b)((function(e){return{permissions:e.meDetails.permissions,invoiceInTwinfield:e.invoiceDetails.invoiceInTwinfield}}))(qe);I.a.locale("nl");var Ve=function(e){var t=e.molliePayment,a=t.mollieId,n=(t.createdAt,t.datePaid),r=t.dateActivated,i=t.iban,o=t.ibanName;return h.a.createElement("div",{className:"row border"},h.a.createElement("div",null,h.a.createElement("div",{className:"col-sm-2"},a),h.a.createElement("div",{className:"col-sm-2"},r?I()(r).format("L HH:mm"):""),h.a.createElement("div",{className:"col-sm-2"},n?I()(n).format("L HH:mm"):""),h.a.createElement("div",{className:"col-sm-3"},i),h.a.createElement("div",{className:"col-sm-3"},o)))};function ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ze(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var We=function(e){s()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=d()(e);if(t()){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}(a);function a(e){var n;return r()(this,a),(n=t.call(this,e)).state={molliePayment:Ye({},e.molliePayment)},n}return o()(a,[{key:"render",value:function(){return h.a.createElement("div",null,h.a.createElement(Ve,{molliePayment:this.state.molliePayment}))}}]),a}(p.Component),Ge=Object(f.b)((function(e){return{molliePayments:e.invoiceDetails.molliePayments}}))((function(e){return h.a.createElement("div",null,h.a.createElement("div",{className:"row border header"},h.a.createElement("div",{className:"col-sm-2"},"Transactie referentie"),h.a.createElement("div",{className:"col-sm-2"},"Aanvraag gedaan op"),h.a.createElement("div",{className:"col-sm-2"},"Betaald op"),h.a.createElement("div",{className:"col-sm-3"},"Iban"),h.a.createElement("div",{className:"col-sm-3"},"Rekeninghouder")),e.molliePayments.length>0?e.molliePayments.map((function(e){return h.a.createElement(We,{key:e.id,molliePayment:e})})):h.a.createElement("div",null,"Geen online betalingstransacties bekend."))}));var _e=function(e){s()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=d()(e);if(t()){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}(a);function a(){return r()(this,a),t.apply(this,arguments)}return o()(a,[{key:"render",value:function(){return h.a.createElement(U.a,null,h.a.createElement($.a,null,h.a.createElement("span",{className:"h5 text-bold"},"Online betalingtransacties")),h.a.createElement(J.a,null,h.a.createElement("div",{className:"col-md-12"},h.a.createElement(Ge,null))))}}]),a}(p.Component);I.a.locale("nl");var He=function(e){s()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=d()(e);if(t()){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}(a);function a(e){return r()(this,a),t.call(this,e)}return o()(a,[{key:"render",value:function(){var e="",t=!0;return this.props.hasError?e="Fout bij het ophalen van nota.":this.props.isLoading?e="Gegevens aan het laden.":Object(H.isEmpty)(this.props.invoiceDetails)?e="Geen nota gevonden!":t=!1,t?h.a.createElement("div",null,e):h.a.createElement("div",null,h.a.createElement(X,null),h.a.createElement(Oe,null),h.a.createElement(Be,null),this.props.invoiceDetails.usesMollie&&h.a.createElement(_e,null),h.a.createElement(ee,null))}}]),a}(p.Component),Ke=Object(f.b)((function(e){return{invoiceDetails:e.invoiceDetails,isLoading:e.loadingData.isLoading,hasError:e.loadingData.hasError}}))(He);var Ue=function(e){s()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=d()(e);if(t()){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"openItem",(function(e){P.f.push("/taak/".concat(e))})),n.state={relatedTasks:""},n}return o()(a,[{key:"render",value:function(){var e=this,t=this.props.relatedTasks;return h.a.createElement("div",null,""==t&&h.a.createElement("div",null,"Geen taken of notities gevonden."),""!=t&&h.a.createElement("table",{className:"table harmonica-table"},h.a.createElement("tbody",null,t.map((function(t,a){return h.a.createElement("tr",{onClick:function(){return e.openItem(t.id)},key:a},h.a.createElement("td",{className:"col-xs-12 clickable"},I()(t.createdAt).format("L")," - ",t.noteSummary))})))))}}]),a}(p.Component),Je=Object(f.b)((function(e){return{relatedTasks:e.invoiceDetails.relatedTasks}}))(Ue),Qe=Object(f.b)((function(e){return{permissions:e.meDetails.permissions}}),null)((function(e){var t=e.toggleShowList,a=e.showTasksList,n=e.newTask,r=e.taskCount,i=e.permissions;return h.a.createElement(U.a,{className:"harmonica-button"},h.a.createElement(J.a,null,h.a.createElement("div",{className:"col-sm-10",onClick:t,role:"button"},h.a.createElement("span",null,"TAKEN/NOTITIES ",h.a.createElement("span",{className:"badge"},r))),h.a.createElement("div",{className:"col-sm-2"},i.manageTask&&h.a.createElement("div",{className:"pull-right"},h.a.createElement("span",{className:"glyphicon glyphicon-plus glyphicon-white","data-toggle":"dropdown",role:"button"}),h.a.createElement("ul",{className:"dropdown-menu"},h.a.createElement("li",null,h.a.createElement("a",{className:"btn",onClick:function(){return n("open")}},"Maak taak")),h.a.createElement("li",null,h.a.createElement("a",{className:"btn",onClick:function(){return n("afgehandeld")}},"Maak notitie"))))),h.a.createElement("div",{className:"col-sm-12"},a&&h.a.createElement(Je,null))))}));var Xe=function(e){s()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=d()(e);if(t()){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"openItem",(function(e){P.f.push("/email/".concat(e))})),n}return o()(a,[{key:"render",value:function(){var e=this,t=this.props.relatedEmails;return h.a.createElement("div",null,""==t&&h.a.createElement("div",null,"Geen e-mails gevonden."),""!=t&&h.a.createElement("table",{className:"table harmonica-table"},h.a.createElement("tbody",null,t.map((function(t,a){return h.a.createElement("tr",{key:a},h.a.createElement("td",{className:"col-xs-4 clickable",onClick:function(){return e.openItem(t.id)}},I()(t.date_sent).format("L")),h.a.createElement("td",{className:"col-xs-8 clickable",onClick:function(){return e.openItem(t.id)}},t.subject))})))))}}]),a}(p.Component),Ze=Object(f.b)((function(e){return{relatedEmails:e.invoiceDetails.relatedEmails}}))(Xe),$e=function(e){var t=e.toggleShowList,a=e.showEmailsList,n=e.newEmail,r=e.emailCount;return h.a.createElement(U.a,{className:"harmonica-button"},h.a.createElement(J.a,null,h.a.createElement("div",{className:"col-sm-10",onClick:t,role:"button"},h.a.createElement("span",{onClick:t,className:""},"E-MAILS ",h.a.createElement("span",{className:"badge"},r))),h.a.createElement("div",{className:"col-sm-2"},h.a.createElement("a",{role:"button",className:"pull-right",onClick:n},h.a.createElement("span",{className:"glyphicon glyphicon-plus glyphicon-white"}))),h.a.createElement("div",{className:"col-sm-12"},a&&h.a.createElement(Ze,null))))};function et(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function tt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?et(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):et(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var at=function(e){s()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=d()(e);if(t()){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(b()(n),"newTask",(function(e){P.f.push("/taak/nieuw/".concat(e,"/nota/").concat(n.props.invoiceDetails.id))})),y()(b()(n),"newEmail",(function(){P.f.push("/email/nieuw")})),n.state={toggleShowList:{tasks:!1,emails:!1}},n.toggleShowList=n.toggleShowList.bind(b()(n)),n}return o()(a,[{key:"componentWillReceiveProps",value:function(e){this.props.id!==e.id&&this.setState({toggleShowList:{tasks:!1,emails:!1}})}},{key:"toggleShowList",value:function(e){this.setState(tt({},this.state,{toggleShowList:tt({},this.state.toggleShowList,y()({},e,!this.state.toggleShowList[e]))}))}},{key:"render",value:function(){var e=this;return h.a.createElement("div",{className:"margin-10-top"},h.a.createElement(Qe,{toggleShowList:function(){return e.toggleShowList("tasks")},showTasksList:this.state.toggleShowList.tasks,taskCount:this.props.invoiceDetails.taskCount,newTask:this.newTask}),h.a.createElement($e,{toggleShowList:function(){return e.toggleShowList("emails")},showEmailsList:this.state.toggleShowList.emails,newEmail:this.newEmail,emailCount:this.props.invoiceDetails.emailCount}))}}]),a}(p.Component),nt=Object(f.b)((function(e){return{invoiceDetails:e.invoiceDetails,permissions:e.meDetails.permissions}}),null)(at);var rt=function(e){s()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=d()(e);if(t()){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}(a);function a(e){return r()(this,a),t.call(this,e)}return o()(a,[{key:"componentDidMount",value:function(){this.props.fetchInvoiceDetails(this.props.params.id)}},{key:"render",value:function(){return h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-md-9"},h.a.createElement("div",{className:"col-md-12 margin-10-top"},h.a.createElement(U.a,null,h.a.createElement(J.a,{className:"panel-small"},h.a.createElement(_,null)))),h.a.createElement("div",{className:"col-md-12 margin-10-top"},h.a.createElement(Ke,null))),h.a.createElement(U.a,{className:"col-md-3 harmonica"},h.a.createElement(J.a,null,h.a.createElement(nt,null))))}}]),a}(p.Component);t.default=Object(f.b)((function(e){return{invoiceDetails:e.invoiceDetails}}),(function(e){return{fetchInvoiceDetails:function(t){e(Object(v.b)(t))}}}))(rt)},690:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(7),o=a.n(i),c=function(e){var t=e.children,a=e.className,n=e.onMouseEnter,i=e.onMouseLeave;return r.a.createElement("div",{className:"panel panel-default ".concat(a),onMouseEnter:n,onMouseLeave:i},t)};c.defaultProps={className:"",onMouseEnter:function(){},onMouseLeave:function(){}},c.propTypes={className:o.a.string,onMouseEnter:o.a.func,onMouseLeave:o.a.func},t.a=c},691:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(7),o=a.n(i),c=function(e){var t=e.className,a=e.children;return r.a.createElement("div",{className:"panel-body ".concat(t)},a)};c.defaultProps={className:""},c.propTypes={className:o.a.string},t.a=c},692:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(7),o=a.n(i),c=function(e){var t=e.buttonClassName,a=e.iconName,n=e.onClickAction,i=e.title,o=e.disabled;return r.a.createElement("button",{type:"button",className:"btn ".concat(t),onClick:n,disabled:o,title:i},r.a.createElement("span",{className:"glyphicon ".concat(a)}))};c.defaultProps={buttonClassName:"btn-success btn-sm",title:"",disabled:!1},c.propTypes={buttonClassName:o.a.string,iconName:o.a.string.isRequired,onClickAction:o.a.func,title:o.a.string,disabled:o.a.bool},t.a=c},693:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(7),o=a.n(i),c=function(e){var t=e.buttonClassName,a=e.buttonText,n=e.onClickAction,i=e.type,o=e.value,c=e.loading,s=e.loadText,l=e.disabled;return c?r.a.createElement("button",{type:i,className:"btn btn-sm btn-loading ".concat(t),value:o,disabled:c},r.a.createElement("span",{className:"glyphicon glyphicon-refresh glyphicon-refresh-animate"})," ",s):r.a.createElement("button",{type:i,className:"btn btn-sm ".concat(t),onClick:n,value:o,disabled:l},a)};c.defaultProps={buttonClassName:"btn-success",type:"button",value:"",loading:!1,loadText:"Aan het laden",disabled:!1},c.propTypes={buttonClassName:o.a.string,buttonText:o.a.string.isRequired,onClickAction:o.a.func,type:o.a.string,value:o.a.string,loading:o.a.bool,loadText:o.a.string,disabled:o.a.bool},t.a=c},694:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(7),o=a.n(i),c=function(e){var t=e.label,a=e.type,n=e.className,i=e.size,o=e.id,c=e.placeholder,s=e.name,l=e.value,u=e.onClickAction,m=e.onChangeAction,d=e.onBlurAction,p=e.required,h=e.readOnly,f=e.maxLength,v=e.error,g=e.min,b=e.max,E=e.step,y=e.errorMessage,P=e.divSize,D=e.divClassName,w=e.autoComplete;return r.a.createElement("div",{className:"form-group ".concat(P," ").concat(D)},r.a.createElement("label",{htmlFor:o,className:"col-sm-6 ".concat(p)},t),r.a.createElement("div",{className:"".concat(i)},r.a.createElement("input",{type:a,className:"form-control input-sm ".concat(n)+(v?"has-error":""),id:o,placeholder:c,name:s,value:l||"",onClick:u,onChange:m,onBlur:d,readOnly:h,maxLength:f,min:g,max:b,autoComplete:w,step:E})),v&&r.a.createElement("div",{className:"col-sm-offset-6 col-sm-6"},r.a.createElement("span",{className:"has-error-message"}," ",y)))};c.defaultProps={divClassName:"",className:"",size:"col-sm-6",divSize:"col-sm-6",name:"",type:"text",value:"",required:"",readOnly:!1,maxLength:null,error:!1,min:"",max:"",step:"",errorMessage:"",autoComplete:"off",onBlurAction:function(){},onClickAction:function(){},onChangeAction:function(){}},c.propTypes={label:o.a.oneOfType([o.a.string,o.a.object]).isRequired,type:o.a.string,className:o.a.string,divClassName:o.a.string,size:o.a.string,divSize:o.a.string,id:o.a.string,placeholder:o.a.string,name:o.a.string.isRequired,value:o.a.oneOfType([o.a.string,o.a.number]),onClickAction:o.a.func,onChangeAction:o.a.func,onBlurAction:o.a.func,required:o.a.string,readOnly:o.a.bool,maxLength:o.a.string,error:o.a.bool,min:o.a.string,max:o.a.string,step:o.a.string,errorMessage:o.a.string,autoComplete:o.a.string},t.a=c},696:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(4),o=a(7),c=a.n(o),s=function(e){var t=e.label,a=e.className,n=e.id,o=e.value,c=e.link,s=e.hidden;return c.length>0?r.a.createElement("div",{className:a,style:s?{display:"none"}:{}},r.a.createElement("label",{htmlFor:n,className:"col-sm-6"},t),r.a.createElement("div",{className:"col-sm-6",id:n,onClick:null},r.a.createElement(i.b,{to:c,className:"link-underline"},o))):r.a.createElement("div",{className:a,style:s?{display:"none"}:{}},r.a.createElement("label",{htmlFor:n,className:"col-sm-6"},t),r.a.createElement("div",{className:"col-sm-6",id:n},o))};s.defaultProps={className:"col-sm-6",value:"",link:"",hidden:!1},s.propTypes={label:c.a.oneOfType([c.a.string,c.a.object]).isRequired,className:c.a.string,id:c.a.string,value:c.a.oneOfType([c.a.string,c.a.number]),link:c.a.string,hidden:c.a.bool},t.a=s},697:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(7),o=a.n(i),c=function(e){var t=e.label,a=e.className,n=e.size,i=e.id,o=e.name,c=e.value,s=e.options,l=e.onChangeAction,u=e.onBlurAction,m=e.required,d=e.error,p=e.errorMessage,h=e.optionValue,f=e.optionName,v=e.readOnly,g=e.placeholder,b=e.divClassName,E=e.emptyOption;return r.a.createElement("div",{className:"form-group ".concat(n," ").concat(b)},r.a.createElement("label",{htmlFor:i,className:"col-sm-6 ".concat(m)},t),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement("select",{className:"form-control input-sm ".concat(a)+(d&&" has-error"),id:i,name:o,value:c||"",onChange:l,onBlur:u,readOnly:v},E&&r.a.createElement("option",{value:""},g),s.map((function(e){return r.a.createElement("option",{key:e[h],value:e[h]},e[f])})))),d&&r.a.createElement("div",{className:"col-sm-offset-6 col-sm-6"},r.a.createElement("span",{className:"has-error-message"}," ",p)))};c.defaultProps={divClassName:"",className:"",size:"col-sm-6",readOnly:!1,required:"",error:!1,errorMessage:"",value:"",optionValue:"id",optionName:"name",placeholder:"",emptyOption:!0},c.propTypes={label:o.a.string.isRequired,className:o.a.string,size:o.a.string,id:o.a.string,name:o.a.string.isRequired,options:o.a.array,value:o.a.oneOfType([o.a.string,o.a.number]),onChangeAction:o.a.func,onBlurAction:o.a.func,required:o.a.string,readOnly:o.a.bool,error:o.a.bool,errorMessage:o.a.string,emptyOption:o.a.bool,optionValue:o.a.string,optionName:o.a.string,placeholder:o.a.string},t.a=c},699:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(7),o=a.n(i),c=function(e){var t=e.className,a=e.children;return r.a.createElement("div",{className:"panel-heading ".concat(t)},a)};c.defaultProps={className:""},c.propTypes={className:o.a.string},t.a=c},700:function(e,t,a){"use strict";var n=a(24),r=a.n(n),i=a(25),o=a.n(i),c=a(22),s=a.n(c),l=a(26),u=a.n(l),m=a(27),d=a.n(m),p=a(16),h=a.n(p),f=a(6),v=a.n(f),g=a(0),b=a.n(g),E=a(7),y=a.n(E),P=a(720),D=a.n(P),w=a(721),N=a.n(w),O=a(9),I=a.n(O);I.a.locale("nl");var C=function(e){u()(a,e);var t=function(e){function t(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var a,n=h()(e);if(t()){var r=h()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return d()(this,a)}}(a);function a(e){var n;return r()(this,a),n=t.call(this,e),v()(s()(n),"validateDate",(function(e){var t=I()(e.target.value,"DD-MM-YYYY",!0),a=!1;t.isValid()||""===e.target.value||(a=!0),n.props.disabledBefore&&t.isBefore(n.props.disabledBefore)&&(a=!0),n.props.disabledAfter&&t.isAfter(n.props.disabledAfter)&&(a=!0),n.setState({errorDateFormat:a})})),v()(s()(n),"onDateChange",(function(e){var t=e?I()(e).format("Y-MM-DD"):"",a=!1;t&&n.props.disabledBefore&&I()(t).isBefore(n.props.disabledBefore)&&(a=!0),t&&n.props.disabledAfter&&I()(t).isAfter(n.props.disabledAfter)&&(a=!0),n.setState({errorDateFormat:a}),!a&&n.props.onChangeAction(t,n.props.name)})),n.state={errorDateFormat:!1},n}return o()(a,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.className,n=e.size,r=e.divSize,i=e.id,o=e.value,c=e.required,s=e.readOnly,l=e.name,u=e.error,m=e.errorMessage,d=e.disabledBefore,p=e.disabledAfter,h=o?I()(o).format("L"):"",f={};return d&&(f.before=new Date(d)),p&&(f.after=new Date(p)),b.a.createElement("div",{className:"form-group ".concat(r)},b.a.createElement("div",null,b.a.createElement("label",{htmlFor:i,className:"col-sm-6 ".concat(c)},t)),b.a.createElement("div",{className:"".concat(n)},b.a.createElement(D.a,{id:i,value:h,formatDate:w.formatDate,parseDate:w.parseDate,onDayChange:this.onDateChange,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:N.a,disabledDays:f},inputProps:{className:"form-control input-sm ".concat(a)+(this.state.errorDateFormat||u?" has-error":""),name:l,onBlur:this.validateDate,autoComplete:"off",readOnly:s,disabled:s},required:c,readOnly:s,placeholder:""})),u&&b.a.createElement("div",{className:"col-sm-offset-6 col-sm-6"},b.a.createElement("span",{className:"has-error-message"}," ",m)))}}]),a}(g.Component);C.defaultProps={className:"",size:"col-sm-6",divSize:"col-sm-6",required:"",readOnly:!1,value:null,error:!1,errorMessage:"",disabledBefore:null,disabledAfter:null},C.propTypes={label:y.a.string.isRequired,type:y.a.string,className:y.a.string,size:y.a.string,divSize:y.a.string,id:y.a.string,name:y.a.string,value:y.a.oneOfType([y.a.string,y.a.object]),onChangeAction:y.a.func,required:y.a.string,readOnly:y.a.bool,error:y.a.bool,errorMessage:y.a.string,disabledBefore:y.a.string,disabledAfter:y.a.string},t.a=C},708:function(e,t,a){"use strict";a(726),a(197),a(701),a(12),a(6);var n=a(722),r=a(715),i=(a(22),a(725)),o=a(723),c=a(724),s=a(0),l=a.n(s),u=a(717),m=a(709),d=(a(103),a(92),a(695)),p=(a(711),a(706),a(716),a(719)),h=a(738);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(c.a)(e);if(t){var r=Object(c.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(o.a)(this,a)}}s.Component;var v=Object(p.a)(d.a);t.a=v},718:function(e,t,a){"use strict";var n=a(6),r=a.n(n),i=a(0),o=a.n(i),c=a(7),s=a.n(c),l=a(708);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d=function(e){var t=e.label,a=e.divSize,n=e.size,r=e.id,i=e.name,c=e.value,s=e.options,u=e.optionId,d=e.optionName,p=e.onChangeAction,h=e.required,f=e.error,v=e.errorMessage,g=e.isLoading,b=e.disabled,E=e.placeholder,y=e.clearable,P={option:function(e){return m({},e,{fontSize:"12px"})},singleValue:function(e){return m({},e,{fontSize:"12px"})},menu:function(e){return m({},e,{zIndex:20})}};return o.a.createElement("div",{className:"form-group ".concat(a)},o.a.createElement("label",{htmlFor:r,className:"col-sm-6 ".concat(h)},t),o.a.createElement("div",{className:"".concat(n)},o.a.createElement(l.a,{id:r,name:i,value:s&&c?s.find((function(e){return e[u]===c})):"",onChange:function(e){return p(e?e[u]:"",i)},options:s,getOptionLabel:function(e){return e[d]},getOptionValue:function(e){return e[u]},placeholder:E,noOptionsMessage:function(){return"Geen opties gevonden"},loadingMessage:function(){return"Laden"},isMulti:!1,simpleValue:!0,removeSelected:!0,className:f?" has-error":"",isLoading:g,isDisabled:b,styles:P,isClearable:y,theme:function(e){return m({},e,{colors:m({},e.colors),spacing:m({},e.spacing,{baseUnit:2,controlHeight:24,menuGutter:4})})}})),f&&o.a.createElement("div",{className:"col-sm-offset-3 col-sm-8"},o.a.createElement("span",{className:"has-error-message"}," ",v)))};d.defaultProps={size:"col-sm-6",divSize:"col-sm-6",optionId:"id",optionName:"name",disabled:!1,required:"",error:!1,errorMessage:"",value:"",isLoading:!1,placeholder:"",clearable:!1},d.propTypes={label:s.a.string.isRequired,size:s.a.string,divSize:s.a.string,id:s.a.string,name:s.a.string.isRequired,options:s.a.array,optionId:s.a.string,optionName:s.a.string,value:s.a.oneOfType([s.a.string,s.a.number]),onChangeAction:s.a.func,onBlurAction:s.a.func,required:s.a.string,disabled:s.a.bool,error:s.a.bool,errorMessage:s.a.string,isLoading:s.a.bool,placeholder:s.a.string,clearable:s.a.bool},t.a=d},727:function(e,t){e.exports=function(e,t,a,n){var r=new Blob(void 0!==n?[n,e]:[e],{type:a||"application/octet-stream"});if(void 0!==window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,t);else{var i=(window.URL?window.URL:window.webkitURL).createObjectURL(r),o=document.createElement("a");o.style.display="none",o.href=i,o.setAttribute("download",t),void 0===o.download&&o.setAttribute("target","_blank"),document.body.appendChild(o),o.click(),setTimeout((function(){document.body.removeChild(o),window.URL.revokeObjectURL(i)}),0)}}},756:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){return{type:"FETCH_INVOICE_DETAILS",id:e}},r=function(e){return{type:"DELETE_INVOICE",id:e}}},857:function(e,t,a){"use strict";a.d(t,"d",(function(){return n})),a.d(t,"e",(function(){return r})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return c}));var n=function(e,t,a,n,r,i){return{type:"FETCH_INVOICES",filters:e,sorts:t,pagination:a,administrationId:n,onlyEmailInvoices:r,onlyPostInvoices:i}},r=function(e){return{type:"INVOICE_PREVIEW_SEND",data:e}},i=function(){return{type:"CLEAR_INVOICE_PREVIEW_SEND"}},o=function(){return{type:"CLEAR_INVOICES"}},c=function(e){return{type:"DELETE_INVOICE_FROM_GRID",id:e}}}}]);