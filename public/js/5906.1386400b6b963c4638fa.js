"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[5906],{93491:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(61941),r="".concat(URL_API,"/api/organisation");const s={newOrganisation:function(e){var t="".concat(r);return n.A.post(t,e)},updateOrganisation:function(e){var t="".concat(r,"/").concat(e.id);return n.A.post(t,e)},getOrganisationPeek:function(){var e="".concat(r,"/peek");return n.A.get(e).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))}}},77570:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(61941),r="".concat(URL_API,"/api/person");const s={newPerson:function(e){var t="".concat(r);return n.A.post(t,e)},updatePerson:function(e){var t="".concat(r,"/").concat(e.id);return n.A.post(t,e)},getPersonPeek:function(){var e="".concat(r,"/peek");return n.A.get(e).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))},makePrimary:function(e){var t="".concat(r,"/").concat(e.id);return n.A.post(t,e).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))}}},85906:(e,t,a)=>{a.r(t),a.d(t,{default:()=>se});var n=a(96540),r=a(23029),s=a(92901),o=a(56822),i=a(53954),l=a(85501),c=a(24179),m=a(91858),d=a(62493),u=a(55849);function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}const h=function(e){function t(e){return(0,r.A)(this,t),a=this,n=t,s=[e],n=(0,i.A)(n),(0,o.A)(a,p()?Reflect.construct(n,s||[],(0,i.A)(a).constructor):n.apply(a,s));var a,n,s}return(0,l.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){return n.createElement("div",{className:"row"},n.createElement(d.A,null,n.createElement(u.A,{className:"panel-small"},n.createElement("div",{className:"col-md-4"},n.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},n.createElement(m.A,{iconName:"arrowLeft",onClickAction:c.Nc.goBack}))),n.createElement("div",{className:"col-md-4"},n.createElement("h4",{className:"text-center margin-small"},"Nieuw contact")),n.createElement("div",{className:"col-md-4"}))))}}])}(n.Component);var A=a(64467),g=a(69733),y=a(95093),E=a.n(y),v=a(57761),b=a.n(v),f=a(77570),C=a(54814),I=a(14809),N=a(73421),w=a(55956),P=a(22102),k=a(77465),D=a(9392);function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(O=function(){return!!e})()}var S=function(e){function t(e){return(0,r.A)(this,t),a=this,n=t,s=[e],n=(0,i.A)(n),(0,o.A)(a,O()?Reflect.construct(n,s||[],(0,i.A)(a).constructor):n.apply(a,s));var a,n,s}return(0,l.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){var e=this.props.address,t=e.street,a=e.number,r=e.addition,s=e.postalCode,o=e.city,i=e.typeId,l=e.endDate,c=e.primary,m=e.countryId;return n.createElement(d.A,{className:"panel-grey"},n.createElement(u.A,null,n.createElement("div",{className:"row"},n.createElement(C.A,{label:"Postcode",size:"col-sm-4",name:"postalCode",value:s,onChangeAction:this.props.handleInputLvbagChange,required:"required",error:this.props.errors.postalCode}),n.createElement("div",{className:"form-group col-sm-6"},n.createElement("label",{htmlFor:"number",className:"col-sm-6 required"},"Nummer"),n.createElement("div",{className:"col-sm-4"},n.createElement("input",{type:"number",className:"form-control input-sm "+(this.props.errors.number?"has-error":""),id:"number",name:"number",value:a,onChange:this.props.handleInputLvbagChange})),n.createElement("div",{className:"col-sm-2"},n.createElement("input",{type:"text",className:"form-control input-sm",id:"addition",name:"addition",value:r,onChange:this.props.handleInputChange})))),n.createElement("div",{className:"row"},n.createElement(C.A,{label:"Adres",id:"adres",size:"col-sm-6",name:"street",value:t,onChangeAction:this.props.handleInputChange}),n.createElement(C.A,{label:"Plaats",id:"plaats",size:"col-sm-6",name:"city",value:o,onChangeAction:this.props.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(I.A,{label:"Type",id:"type",size:"col-sm-6",name:"typeId",options:this.props.addressTypes,value:i,onChangeAction:this.props.handleInputChange,required:"required",error:this.props.errors.typeId}),"old"===i?n.createElement(N.A,{label:"Eind datum",name:"endDate",value:l,onChangeAction:this.props.handleInputChangeDate,error:this.props.errors.endDate}):null),n.createElement("div",{className:"row"},n.createElement(I.A,{label:"Land",id:"countryId",size:"col-sm-6",name:"countryId",options:this.props.countries,value:m,onChangeAction:this.props.handleInputChange,error:this.props.errors.countryId}),n.createElement(k.A,{label:"Primair adres",name:"primary",value:c,onChangeAction:this.props.handleInputChange}))))}}])}(n.Component);const T=(0,g.Ng)((function(e){return{addressTypes:e.systemData.addressTypes,countries:e.systemData.countries}}))(S);function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(x=function(){return!!e})()}var L=function(e){function t(e){return(0,r.A)(this,t),a=this,n=t,s=[e],n=(0,i.A)(n),(0,o.A)(a,x()?Reflect.construct(n,s||[],(0,i.A)(a).constructor):n.apply(a,s));var a,n,s}return(0,l.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){var e=this.props.emailAddress,t=e.email,a=e.typeId,r=e.primary;return n.createElement(d.A,{className:"panel-grey"},n.createElement(u.A,null,n.createElement("div",{className:"row"},n.createElement(C.A,{label:"E-mail",id:"email",size:"col-sm-6",name:"email",value:t,onChangeAction:this.props.handleInputChange,required:"required",error:this.props.errors.email}),n.createElement(I.A,{label:"Type",id:"type",size:"col-sm-6",name:"typeId",options:this.props.emailAddressTypes,value:a,onChangeAction:this.props.handleInputChange,required:"required",error:this.props.errors.typeId})),n.createElement("div",{className:"row"},n.createElement(k.A,{label:"Primair e-mailadres",name:"primary",value:r,onChangeAction:this.props.handleInputChange}))))}}])}(n.Component);const q=(0,g.Ng)((function(e){return{emailAddressTypes:e.systemData.emailAddressTypes}}))(L);function z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(z=function(){return!!e})()}var B=function(e){function t(e){return(0,r.A)(this,t),a=this,n=t,s=[e],n=(0,i.A)(n),(0,o.A)(a,z()?Reflect.construct(n,s||[],(0,i.A)(a).constructor):n.apply(a,s));var a,n,s}return(0,l.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){var e=this.props.phoneNumber,t=e.number,a=e.typeId,r=e.primary;return n.createElement(d.A,{className:"panel-grey"},n.createElement(u.A,null,n.createElement("div",{className:"row"},n.createElement(C.A,{label:"Nummer",size:"col-sm-6",name:"number",value:t,onChangeAction:this.props.handleInputChange,required:"required",error:this.props.errors.number}),n.createElement(I.A,{label:"Type",size:"col-sm-6",name:"typeId",options:this.props.phoneNumberTypes,value:a,onChangeAction:this.props.handleInputChange,required:"required",error:this.props.errors.typeId})),n.createElement("div",{className:"row"},n.createElement(k.A,{label:"Primair telefoonnummer",name:"primary",value:r,onChangeAction:this.props.handleInputChange}))))}}])}(n.Component);const j=(0,g.Ng)((function(e){return{phoneNumberTypes:e.systemData.phoneNumberTypes}}))(B);var H=a(84981),R=a(63750);function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function(){return!!e})()}const M=function(e){function t(e){return(0,r.A)(this,t),a=this,n=t,s=[e],n=(0,i.A)(n),(0,o.A)(a,_()?Reflect.construct(n,s||[],(0,i.A)(a).constructor):n.apply(a,s));var a,n,s}return(0,l.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){return n.createElement(R.A,{modalClassName:"modal-lg",buttonConfirmText:"Aanmaken",buttonCancelText:this.props.cancelButtonText,closeModal:this.props.closeModal,confirmAction:this.props.confirmAction,title:"Duplicaat gevonden"},n.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.duplicateText}}))}}])}(n.Component);a(31714);var U=a(87722),G=a(17827),V=a(96193);function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(Object(a),!0).forEach((function(t){(0,A.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(F=function(){return!!e})()}var W=function(e){function t(e){var a,n,s,l;return(0,r.A)(this,t),n=this,s=t,l=[e],s=(0,i.A)(s),a=(0,o.A)(n,F()?Reflect.construct(s,l||[],(0,i.A)(n).constructor):s.apply(n,l)),(0,A.A)(a,"toggleAddress",(function(){a.setState({showAddress:!a.state.showAddress})})),(0,A.A)(a,"toggleEmail",(function(){a.setState({showEmail:!a.state.showEmail})})),(0,A.A)(a,"togglePhone",(function(){a.setState({showPhone:!a.state.showPhone})})),(0,A.A)(a,"showConfirmDuplicate",(function(){a.setState({showConfirmDuplicate:!a.state.showConfirmDuplicate,buttonLoading:!1})})),(0,A.A)(a,"hideConfirmDuplicate",(function(e){""!=a.state.duplicateContactId?c.RL.push("/contact/"+a.state.duplicateContactId):a.setState({showConfirmDuplicate:!1,buttonLoading:!1})})),(0,A.A)(a,"addressHandleInputLvbagChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(Y(Y({},a.state),{},{address:Y(Y({},a.state.address),{},(0,A.A)({},r,n))})),setTimeout((function(){var e=a.state.address;e&&!b().isEmpty(e.postalCode)&&b().isPostalCode(e.postalCode,"NL")&&!b().isEmpty(e.number)&&b().isEmpty(e.city)&&b().isEmpty(e.street)&&H.A.getLvbagAddress(e.postalCode,e.number).then((function(e){a.setState(Y(Y({},a.state),{},{address:Y(Y({},a.state.address),{},{street:e.street,city:e.city})}))}))}),100)})),(0,A.A)(a,"addressHandleInputChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(Y(Y({},a.state),{},{address:Y(Y({},a.state.address),{},(0,A.A)({},r,n))}))})),(0,A.A)(a,"addressHandleInputChangeDate",(function(e,t){a.setState(Y(Y({},a.state),{},{address:Y(Y({},a.state.address),{},(0,A.A)({},t,e))}))})),(0,A.A)(a,"emailAddressHandleInputChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(Y(Y({},a.state),{},{emailAddress:Y(Y({},a.state.emailAddress),{},(0,A.A)({},r,n))}))})),(0,A.A)(a,"phoneHandleInputChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(Y(Y({},a.state),{},{phoneNumber:Y(Y({},a.state.phoneNumber),{},(0,A.A)({},r,n))}))})),(0,A.A)(a,"handleInputChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(Y(Y({},a.state),{},{person:Y(Y({},a.state.person),{},(0,A.A)({},r,n))}))})),(0,A.A)(a,"handleInputChangeDate",(function(e,t){a.setState(Y(Y({},a.state),{},{person:Y(Y({},a.state.person),{},(0,A.A)({},t,e))}))})),(0,A.A)(a,"confirmDuplicate",(function(){a.handleSubmit("dontCheckDuplicates")})),(0,A.A)(a,"handleSubmit",(function(e){var t=!0;"dontCheckDuplicates"===e?t=!1:e&&e.preventDefault();var n=a.state.person,r={},s=!1;b().isEmpty(n.firstName)&&b().isEmpty(n.lastName)&&(r.name=!0,s=!0);var o=a.state.address;o.postalCode&&(o.postalCode=o.postalCode.toUpperCase());var i={};if(!b().isEmpty(o.postalCode)){var l=o.countryId;b().isEmpty(o.countryId+"")&&(l="NL"),b().isEmpty(o.postalCode+"")||("NL"==l?b().isPostalCode(o.postalCode,"NL"):b().isPostalCode(o.postalCode,"any"))||(i.postalCode=!0,i.countryId=!0,s=!0),b().isEmpty(o.number)&&(i.number=!0,s=!0),b().isEmpty(o.typeId)&&(i.typeId=!0,s=!0)}var m=a.state.phoneNumber,d={};b().isEmpty(m.number)||(b().isEmpty(m.number)&&(d.number=!0,s=!0),b().isEmpty(m.typeId)&&(d.typeId=!0,s=!0));var u=a.state.emailAddress,p={};if(b().isEmpty(u.email)||(b().isEmail(u.email)||(p.email=!0,s=!0),b().isEmpty(u.typeId)&&(p.typeId=!0,s=!0)),a.setState(Y(Y({},a.state),{},{errors:r,addressErrors:i,phoneErrors:d,emailErrors:p})),!s){if(a.state.buttonLoading)return!1;a.setState({buttonLoading:!0}),f.A.newPerson({person:n,address:o,emailAddress:u,phoneNumber:m,checkDuplicates:t}).then((function(e){c.RL.push("/contact/".concat(e.data.data.id))})).catch((function(e){409===e.response.status&&(a.setState(Y(Y({},a.state),{},{duplicateText:e.response.data.message,duplicateContactId:e.response.data.contactId,cancelButtonText:e.response.data.cancelButtonText})),a.showConfirmDuplicate())}))}})),a.state={lastNamePrefixes:[],users:[],titles:[],inspectionPersonTypes:[],buttonLoading:!1,showAddress:!0,showEmail:!0,showPhone:!0,showConfirmDuplicate:!1,duplicateText:"",duplicateContactId:"",cancelButtonText:"",person:{id:"",number:"",createdAt:"",titleId:"",initials:"",firstName:"",lastNamePrefixId:"",lastName:"",memberSince:"",memberUntil:"",dateOfBirth:"",ownerId:e.userId,didAgreeAvg:!1,inspectionPersonTypeId:"",hoomAccountId:""},address:{street:"",number:"",addition:"",postalCode:"",city:"",typeId:"visit",endDate:"",primary:!0,countryId:""},emailAddress:{email:"",typeId:"home",primary:!0},phoneNumber:{number:"",typeId:"home",primary:!0},errors:{name:!1},addressErrors:{typeId:!1,endDate:!1,postalCode:!1,number:!1,countryId:!1},emailErrors:{typeId:!1,email:!1},phoneErrors:{typeId:!1,number:!1}},a}return(0,l.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){var e=this.state.person,t=e.titleId,a=e.initials,r=e.firstName,s=e.lastNamePrefixId,o=e.lastName,i=(e.memberSince,e.dateOfBirth),l=e.ownerId,c=e.didAgreeAvg;return e.inspectionPersonTypeId,e.hoomAccountId,n.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},n.createElement("div",{className:"row"},n.createElement(C.A,{label:"Contactnummer",name:"number",readOnly:!0,value:""}),n.createElement(C.A,{label:"Gemaakt op",name:"createdAt",value:E()().format("DD-MM-Y"),readOnly:!0})),n.createElement("div",{className:"row"},n.createElement(I.A,{label:"Aanspreektitel",name:"titleId",options:this.props.titles,value:t,onChangeAction:this.handleInputChange}),n.createElement(N.A,{label:"Geboortedatum",name:"dateOfBirth",value:i,onChangeAction:this.handleInputChangeDate})),n.createElement("div",{className:"row"},n.createElement(C.A,{label:"Voorletters",size:"col-sm-6",name:"initials",value:a,onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(C.A,{label:"Voornaam",size:"col-sm-6",name:"firstName",value:r,onChangeAction:this.handleInputChange,required:""===o&&"required",error:this.state.errors.name})),n.createElement("div",{className:"row"},n.createElement(I.A,{label:"Tussenvoegsel",name:"lastNamePrefixId",options:this.props.lastNamePrefixes,value:s,onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(C.A,{label:"Achternaam",size:"col-sm-6",name:"lastName",value:o,onChangeAction:this.handleInputChange,required:""===r&&"required",error:this.state.errors.name})),n.createElement("div",{className:"row"},n.createElement(I.A,{label:"Eigenaar",size:"col-sm-6",name:"ownerId",options:this.props.users,value:l,optionName:"fullName",onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(k.A,{label:"Akkoord privacybeleid",name:"didAgreeAvg",value:c,onChangeAction:this.handleInputChange})),n.createElement("div",{className:"margin-10-top"},n.createElement(D.A,null,n.createElement("div",{className:"row",onClick:this.toggleAddress},this.state.showAddress?n.createElement(U.Ay,{size:21,icon:V.y}):n.createElement(U.Ay,{size:21,icon:G._}),n.createElement("span",{className:"h5"},"Adres"))),this.state.showAddress&&n.createElement(T,{address:this.state.address,errors:this.state.addressErrors,handleInputLvbagChange:this.addressHandleInputLvbagChange,handleInputChange:this.addressHandleInputChange,handleInputChangeDate:this.addressHandleInputChangeDate})),n.createElement("div",{className:"margin-10-top"},n.createElement(D.A,null,n.createElement("div",{className:"row",onClick:this.toggleEmail},this.state.showEmail?n.createElement(U.Ay,{size:21,icon:V.y}):n.createElement(U.Ay,{size:21,icon:G._}),n.createElement("span",{className:"h5"},"E-mail"))),this.state.showEmail&&n.createElement(q,{emailAddress:this.state.emailAddress,errors:this.state.emailErrors,handleInputChange:this.emailAddressHandleInputChange})),n.createElement("div",{className:"margin-10-top"},n.createElement(D.A,null,n.createElement("div",{className:"row",onClick:this.togglePhone},this.state.showPhone?n.createElement(U.Ay,{size:21,icon:V.y}):n.createElement(U.Ay,{size:21,icon:G._}),n.createElement("span",{className:"h5"},"Telefoonnummer"))),this.state.showPhone&&n.createElement(j,{phoneNumber:this.state.phoneNumber,errors:this.state.phoneErrors,handleInputChange:this.phoneHandleInputChange})),n.createElement(P.A,null,n.createElement("div",{className:"pull-right btn-group",role:"group"},n.createElement(w.A,{loading:this.state.buttonLoading,loadText:"Persoon wordt aangemaakt.",buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"}))),this.state.showConfirmDuplicate&&n.createElement(M,{closeModal:this.hideConfirmDuplicate,confirmAction:this.confirmDuplicate,duplicateText:this.state.duplicateText,duplicateContactId:this.state.duplicateContactId,cancelButtonText:this.state.cancelButtonText}))}}])}(n.Component);const J=(0,g.Ng)((function(e){return{lastNamePrefixes:e.systemData.lastNamePrefixes,users:e.systemData.users,titles:e.systemData.titles,inspectionPersonTypes:e.systemData.inspectionPersonTypes,userId:e.meDetails.id}}))(W);var Q=a(93491),X=a(15900);function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(a),!0).forEach((function(t){(0,A.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ee=function(){return!!e})()}var te=function(e){function t(e){var a,n,s,l;return(0,r.A)(this,t),n=this,s=t,l=[e],s=(0,i.A)(s),a=(0,o.A)(n,ee()?Reflect.construct(s,l||[],(0,i.A)(n).constructor):s.apply(n,l)),(0,A.A)(a,"toggleAddress",(function(){a.setState({showAddress:!a.state.showAddress})})),(0,A.A)(a,"toggleEmail",(function(){a.setState({showEmail:!a.state.showEmail})})),(0,A.A)(a,"togglePhone",(function(){a.setState({showPhone:!a.state.showPhone})})),(0,A.A)(a,"addressHandleInputLvbagChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState($($({},a.state),{},{address:$($({},a.state.address),{},(0,A.A)({},r,n))})),setTimeout((function(){var e=a.state.address;!b().isEmpty(e.postalCode)&&b().isPostalCode(e.postalCode,"NL")&&!b().isEmpty(e.number)&&b().isEmpty(e.city)&&b().isEmpty(e.street)&&H.A.getLvbagAddress(e.postalCode,e.number).then((function(e){a.setState($($({},a.state),{},{address:$($({},a.state.address),{},{street:e.street,city:e.city})}))}))}),100)})),(0,A.A)(a,"addressHandleInputChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState($($({},a.state),{},{address:$($({},a.state.address),{},(0,A.A)({},r,n))}))})),(0,A.A)(a,"addressHandleInputChangeDate",(function(e,t){a.setState($($({},a.state),{},{address:$($({},a.state.address),{},(0,A.A)({},t,e))}))})),(0,A.A)(a,"emailAddressHandleInputChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState($($({},a.state),{},{emailAddress:$($({},a.state.emailAddress),{},(0,A.A)({},r,n))}))})),(0,A.A)(a,"phoneHandleInputChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState($($({},a.state),{},{phoneNumber:$($({},a.state.phoneNumber),{},(0,A.A)({},r,n))}))})),(0,A.A)(a,"handleInputChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState($($({},a.state),{},{organisation:$($({},a.state.organisation),{},(0,A.A)({},r,n))}))})),(0,A.A)(a,"handleInputChangeDate",(function(e,t){a.setState($($({},a.state),{},{organisation:$($({},a.state.organisation),{},(0,A.A)({},t,e))}))})),(0,A.A)(a,"handleSubmit",(function(e){e.preventDefault();var t=a.state.organisation,n={},r=!1;b().isEmpty(t.name)&&(n.name=!0,r=!0),b().isEmpty(t.iban)||X.isValidIBAN(t.iban)||(n.iban=!0,r=!0);var s=a.state.address;s.postalCode&&(s.postalCode=s.postalCode.toUpperCase());var o={};if(!b().isEmpty(s.postalCode)){var i=s.countryId;b().isEmpty(s.countryId+"")&&(i="NL"),b().isEmpty(s.postalCode+"")||("NL"==i?b().isPostalCode(s.postalCode,"NL"):b().isPostalCode(s.postalCode,"any"))||(o.postalCode=!0,o.countryId=!0,r=!0),b().isEmpty(s.number)&&(o.number=!0,r=!0),b().isEmpty(s.typeId)&&(o.typeId=!0,r=!0)}var l=a.state.phoneNumber,m={};b().isEmpty(l.number)||(b().isEmpty(l.number)&&(m.number=!0,r=!0),b().isEmpty(l.typeId)&&(m.typeId=!0,r=!0));var d=a.state.emailAddress,u={};if(b().isEmpty(d.email)||(b().isEmail(d.email)||(u.email=!0,r=!0),b().isEmpty(d.typeId)&&(u.typeId=!0,r=!0)),a.setState($($({},a.state),{},{errors:n,addressErrors:o,phoneErrors:m,emailErrors:u})),!r){if(a.state.buttonLoading)return!1;a.setState({buttonLoading:!0}),Q.A.newOrganisation({organisation:t,address:s,emailAddress:d,phoneNumber:l}).then((function(e){c.RL.push("/contact/".concat(e.data.data.id))})).catch((function(e){409===e.response.status&&(a.setState($($({},a.state),{},{duplicateText:e.response.data.message})),a.toggleShowConfirmDuplicate())}))}})),a.state={buttonLoading:!1,showAddress:!0,showEmail:!0,showPhone:!0,showConfirmDuplicate:!1,duplicateText:"",organisation:{id:"",number:"",createdAt:"",name:"",statutoryName:"",chamberOfCommerceNumber:"",vatNumber:"",memberSince:"",memberUntil:"",website:"",iban:"",ibanAttn:"",ownerId:e.userId,didAgreeAvg:!1,inspectionPersonTypeId:""},address:{street:"",number:"",addition:"",postalCode:"",city:"",typeId:"visit",endDate:"",primary:!0,countryId:""},emailAddress:{email:"",typeId:"home",primary:!0},phoneNumber:{number:"",typeId:"home",primary:!0},errors:{name:!1,iban:!1},addressErrors:{typeId:!1,endDate:!1,postalCode:!1,number:!1,countryId:!1},emailErrors:{typeId:!1,email:!1},phoneErrors:{typeId:!1,number:!1}},a}return(0,l.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){var e=this.state.organisation,t=e.name,a=e.statutoryName,r=e.chamberOfCommerceNumber,s=e.vatNumber,o=(e.memberSince,e.website),i=e.iban,l=e.ibanAttn,c=e.ownerId,m=e.didAgreeAvg;return e.inspectionPersonTypeId,n.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},n.createElement("div",{className:"row"},n.createElement(C.A,{label:"Contactnummer",name:"number",readOnly:!0,value:""}),n.createElement(C.A,{label:"Gemaakt op",name:"createdAt",value:E()().format("DD-MM-Y"),readOnly:!0})),n.createElement("div",{className:"row"},n.createElement(C.A,{label:"Naam",name:"name",value:t,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.name})),n.createElement("div",{className:"row"},n.createElement(C.A,{label:"Statutaire naam",name:"statutoryName",value:a,onChangeAction:this.handleInputChange,error:this.state.errors.statutoryName})),n.createElement("div",{className:"row"},n.createElement(C.A,{label:"KvK",size:"col-sm-6",name:"chamberOfCommerceNumber",value:r,onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(C.A,{label:"Btw nummer",name:"vatNumber",value:s,onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(C.A,{label:"IBAN",name:"iban",value:i,onChangeAction:this.handleInputChange,error:this.state.errors.iban})),n.createElement("div",{className:"row"},n.createElement(C.A,{label:"IBAN t.n.v.",name:"ibanAttn",value:l,onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(C.A,{label:"Website",name:"website",value:o,onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(I.A,{label:"Eigenaar",size:"col-sm-6",name:"ownerId",options:this.props.users,value:c,optionName:"fullName",onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(k.A,{label:"Akkoord privacybeleid",name:"didAgreeAvg",value:m,onChangeAction:this.handleInputChange}))," ",n.createElement("div",{className:"margin-10-top"},n.createElement(D.A,null,n.createElement("div",{className:"row",onClick:this.toggleAddress},this.state.showAddress?n.createElement(U.Ay,{size:21,icon:V.y}):n.createElement(U.Ay,{size:21,icon:G._}),n.createElement("span",{className:"h5"},"Adres"))),this.state.showAddress&&n.createElement(T,{address:this.state.address,errors:this.state.addressErrors,handleInputLvbagChange:this.addressHandleInputLvbagChange,handleInputChange:this.addressHandleInputChange,handleInputChangeDate:this.addressHandleInputChangeDate})),n.createElement("div",{className:"margin-10-top"},n.createElement(D.A,null,n.createElement("div",{className:"row",onClick:this.toggleEmail},this.state.showEmail?n.createElement(U.Ay,{size:21,icon:V.y}):n.createElement(U.Ay,{size:21,icon:G._}),n.createElement("span",{className:"h5"},"E-mail"))),this.state.showEmail&&n.createElement(q,{emailAddress:this.state.emailAddress,errors:this.state.emailErrors,handleInputChange:this.emailAddressHandleInputChange})),n.createElement("div",{className:"margin-10-top"},n.createElement(D.A,null,n.createElement("div",{className:"row",onClick:this.togglePhone},this.state.showPhone?n.createElement(U.Ay,{size:21,icon:V.y}):n.createElement(U.Ay,{size:21,icon:G._}),n.createElement("span",{className:"h5"},"Telefoonnummer"))),this.state.showPhone&&n.createElement(j,{phoneNumber:this.state.phoneNumber,errors:this.state.phoneErrors,handleInputChange:this.phoneHandleInputChange})),n.createElement(P.A,null,n.createElement("div",{className:"pull-right btn-group",role:"group"},n.createElement(w.A,{loading:this.state.buttonLoading,loadText:"Organisatie wordt aangemaakt.",buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"}))))}}])}(n.Component);const ae=(0,g.Ng)((function(e){return{users:e.systemData.users,userId:e.meDetails.id}}))(te),ne=function(e){return n.createElement(d.A,{className:"panel-grey"},n.createElement(u.A,null,n.createElement("div",{className:"col-md-12"},"persoon"===e.type&&n.createElement(J,null),"organisatie"===e.type&&n.createElement(ae,null))))},re=function(e){return n.createElement("div",null,n.createElement(ne,{type:e.type,organisationId:e.organisationId}))},se=function(e){return n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-9"},n.createElement("div",{className:"col-md-12 margin-10-top"},n.createElement(h,null)),n.createElement("div",{className:"col-md-12 margin-10-top"},n.createElement(re,{type:e.params.type}))))}},96193:(e,t)=>{t.y=void 0,t.y={viewBox:"0 0 1152 1792",children:[{name:"path",attribs:{d:"M1075 736q0 13-10 23l-466 466q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z"}}]}},17827:(e,t)=>{t._=void 0,t._={viewBox:"0 0 640 1792",children:[{name:"path",attribs:{d:"M595 960q0 13-10 23l-466 466q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l393-393-393-393q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l466 466q10 10 10 23z"}}]}}}]);