"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[5906],{17827:(e,t)=>{t._=void 0,t._={viewBox:"0 0 640 1792",children:[{name:"path",attribs:{d:"M595 960q0 13-10 23l-466 466q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l393-393-393-393q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l466 466q10 10 10 23z"}}]}},77570:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(61941),r=a(61643);const s={newPerson:function(e){var t="".concat((0,r.e)(),"/api/person"),a="".concat(t);return(0,n.A)().post(a,e)},updatePerson:function(e){var t="".concat((0,r.e)(),"/api/person"),a="".concat(t,"/").concat(e.id);return(0,n.A)().post(a,e)},getPersonPeek:function(){var e="".concat((0,r.e)(),"/api/person"),t="".concat(e,"/peek");return(0,n.A)().get(t).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))},makePrimary:function(e){var t="".concat((0,r.e)(),"/api/person"),a="".concat(t,"/").concat(e.id);return(0,n.A)().post(a,e).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))}}},85906:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ie});var n=a(96540),r=a(23029),s=a(92901),o=a(56822),i=a(53954),l=a(85501),c=a(58168),m=a(47767),d=a(91858),u=a(62493),p=a(55849);function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}var A=function(e){function t(e){return(0,r.A)(this,t),a=this,n=t,s=[e],n=(0,i.A)(n),(0,o.A)(a,h()?Reflect.construct(n,s||[],(0,i.A)(a).constructor):n.apply(a,s));var a,n,s}return(0,l.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){var e=this.props.navigate;return n.createElement("div",{className:"row"},n.createElement(u.A,null,n.createElement(p.A,{className:"panel-small"},n.createElement("div",{className:"col-md-4"},n.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},n.createElement(d.A,{iconName:"arrowLeft",onClickAction:function(){return e(-1)}}))),n.createElement("div",{className:"col-md-4"},n.createElement("h4",{className:"text-center margin-small"},"Nieuw contact")),n.createElement("div",{className:"col-md-4"}))))}}])}(n.Component);const g=function(e){var t=(0,m.Zp)();return n.createElement(A,(0,c.A)({},e,{navigate:t}))};var y=a(64467),v=a(69733),E=a(95093),f=a.n(E),b=a(57761),C=a.n(b),I=a(77570),N=a(54814),w=a(14809),P=a(73421),k=a(55956),D=a(22102),O=a(77465),S=a(9392);function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(T=function(){return!!e})()}var x=function(e){function t(e){return(0,r.A)(this,t),a=this,n=t,s=[e],n=(0,i.A)(n),(0,o.A)(a,T()?Reflect.construct(n,s||[],(0,i.A)(a).constructor):n.apply(a,s));var a,n,s}return(0,l.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){var e=this.props.address,t=e.street,a=e.number,r=e.addition,s=e.postalCode,o=e.city,i=e.typeId,l=e.endDate,c=e.primary,m=e.countryId;return n.createElement(u.A,{className:"panel-grey"},n.createElement(p.A,null,n.createElement("div",{className:"row"},n.createElement(N.A,{label:"Postcode",size:"col-sm-4",name:"postalCode",value:s,onChangeAction:this.props.handleInputLvbagChange,required:"required",error:this.props.errors.postalCode}),n.createElement("div",{className:"form-group col-sm-6"},n.createElement("label",{htmlFor:"number",className:"col-sm-6 required"},"Nummer"),n.createElement("div",{className:"col-sm-4"},n.createElement("input",{type:"number",className:"form-control input-sm "+(this.props.errors.number?"has-error":""),id:"number",name:"number",value:a,onChange:this.props.handleInputLvbagChange})),n.createElement("div",{className:"col-sm-2"},n.createElement("input",{type:"text",className:"form-control input-sm",id:"addition",name:"addition",value:r,onChange:this.props.handleInputChange})))),n.createElement("div",{className:"row"},n.createElement(N.A,{label:"Adres",id:"adres",size:"col-sm-6",name:"street",value:t,onChangeAction:this.props.handleInputChange}),n.createElement(N.A,{label:"Plaats",id:"plaats",size:"col-sm-6",name:"city",value:o,onChangeAction:this.props.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(w.A,{label:"Type",id:"type",size:"col-sm-6",name:"typeId",options:this.props.addressTypes,value:i,onChangeAction:this.props.handleInputChange,required:"required",error:this.props.errors.typeId}),"old"===i?n.createElement(P.A,{label:"Eind datum",name:"endDate",value:l,onChangeAction:this.props.handleInputChangeDate,error:this.props.errors.endDate}):null),n.createElement("div",{className:"row"},n.createElement(w.A,{label:"Land",id:"countryId",size:"col-sm-6",name:"countryId",options:this.props.countries,value:m,onChangeAction:this.props.handleInputChange,error:this.props.errors.countryId}),n.createElement(O.A,{label:"Primair adres",name:"primary",value:c,onChangeAction:this.props.handleInputChange}))))}}])}(n.Component);const q=(0,v.Ng)((function(e){return{addressTypes:e.systemData.addressTypes,countries:e.systemData.countries}}))(x);function z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(z=function(){return!!e})()}var L=function(e){function t(e){return(0,r.A)(this,t),a=this,n=t,s=[e],n=(0,i.A)(n),(0,o.A)(a,z()?Reflect.construct(n,s||[],(0,i.A)(a).constructor):n.apply(a,s));var a,n,s}return(0,l.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){var e=this.props.emailAddress,t=e.email,a=e.typeId,r=e.primary;return n.createElement(u.A,{className:"panel-grey"},n.createElement(p.A,null,n.createElement("div",{className:"row"},n.createElement(N.A,{label:"E-mail",id:"email",size:"col-sm-6",name:"email",value:t,onChangeAction:this.props.handleInputChange,required:"required",error:this.props.errors.email}),n.createElement(w.A,{label:"Type",id:"type",size:"col-sm-6",name:"typeId",options:this.props.emailAddressTypes,value:a,onChangeAction:this.props.handleInputChange,required:"required",error:this.props.errors.typeId})),n.createElement("div",{className:"row"},n.createElement(O.A,{label:"Primair e-mailadres",name:"primary",value:r,onChangeAction:this.props.handleInputChange}))))}}])}(n.Component);const B=(0,v.Ng)((function(e){return{emailAddressTypes:e.systemData.emailAddressTypes}}))(L);function j(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(j=function(){return!!e})()}var H=function(e){function t(e){return(0,r.A)(this,t),a=this,n=t,s=[e],n=(0,i.A)(n),(0,o.A)(a,j()?Reflect.construct(n,s||[],(0,i.A)(a).constructor):n.apply(a,s));var a,n,s}return(0,l.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){var e=this.props.phoneNumber,t=e.number,a=e.typeId,r=e.primary;return n.createElement(u.A,{className:"panel-grey"},n.createElement(p.A,null,n.createElement("div",{className:"row"},n.createElement(N.A,{label:"Nummer",size:"col-sm-6",name:"number",value:t,onChangeAction:this.props.handleInputChange,required:"required",error:this.props.errors.number}),n.createElement(w.A,{label:"Type",size:"col-sm-6",name:"typeId",options:this.props.phoneNumberTypes,value:a,onChangeAction:this.props.handleInputChange,required:"required",error:this.props.errors.typeId})),n.createElement("div",{className:"row"},n.createElement(O.A,{label:"Primair telefoonnummer",name:"primary",value:r,onChangeAction:this.props.handleInputChange}))))}}])}(n.Component);const R=(0,v.Ng)((function(e){return{phoneNumberTypes:e.systemData.phoneNumberTypes}}))(H);var M=a(84981),_=a(63750);function U(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(U=function(){return!!e})()}const G=function(e){function t(e){return(0,r.A)(this,t),a=this,n=t,s=[e],n=(0,i.A)(n),(0,o.A)(a,U()?Reflect.construct(n,s||[],(0,i.A)(a).constructor):n.apply(a,s));var a,n,s}return(0,l.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){return n.createElement(_.A,{modalClassName:"modal-lg",buttonConfirmText:"Aanmaken",buttonCancelText:this.props.cancelButtonText,closeModal:this.props.closeModal,confirmAction:this.props.confirmAction,title:"Duplicaat gevonden"},n.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.duplicateText}}))}}])}(n.Component);a(31714);var V=a(87722),Z=a(17827),K=a(96193);function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(a),!0).forEach((function(t){(0,y.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(W=function(){return!!e})()}var J=function(e){function t(e){var a,n,s,l;return(0,r.A)(this,t),n=this,s=t,l=[e],s=(0,i.A)(s),a=(0,o.A)(n,W()?Reflect.construct(s,l||[],(0,i.A)(n).constructor):s.apply(n,l)),(0,y.A)(a,"toggleAddress",(function(){a.setState({showAddress:!a.state.showAddress})})),(0,y.A)(a,"toggleEmail",(function(){a.setState({showEmail:!a.state.showEmail})})),(0,y.A)(a,"togglePhone",(function(){a.setState({showPhone:!a.state.showPhone})})),(0,y.A)(a,"showConfirmDuplicate",(function(){a.setState({showConfirmDuplicate:!a.state.showConfirmDuplicate,buttonLoading:!1})})),(0,y.A)(a,"hideConfirmDuplicate",(function(e){""!=a.state.duplicateContactId?a.props.navigate("/contact/"+a.state.duplicateContactId):a.setState({showConfirmDuplicate:!1,buttonLoading:!1})})),(0,y.A)(a,"addressHandleInputLvbagChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(F(F({},a.state),{},{address:F(F({},a.state.address),{},(0,y.A)({},r,n))})),setTimeout((function(){var e=a.state.address;e&&!C().isEmpty(e.postalCode)&&C().isPostalCode(e.postalCode,"NL")&&!C().isEmpty(e.number)&&C().isEmpty(e.city)&&C().isEmpty(e.street)&&M.A.getLvbagAddress(e.postalCode,e.number).then((function(e){a.setState(F(F({},a.state),{},{address:F(F({},a.state.address),{},{street:e.street,city:e.city})}))}))}),100)})),(0,y.A)(a,"addressHandleInputChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(F(F({},a.state),{},{address:F(F({},a.state.address),{},(0,y.A)({},r,n))}))})),(0,y.A)(a,"addressHandleInputChangeDate",(function(e,t){a.setState(F(F({},a.state),{},{address:F(F({},a.state.address),{},(0,y.A)({},t,e))}))})),(0,y.A)(a,"emailAddressHandleInputChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(F(F({},a.state),{},{emailAddress:F(F({},a.state.emailAddress),{},(0,y.A)({},r,n))}))})),(0,y.A)(a,"phoneHandleInputChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(F(F({},a.state),{},{phoneNumber:F(F({},a.state.phoneNumber),{},(0,y.A)({},r,n))}))})),(0,y.A)(a,"handleInputChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(F(F({},a.state),{},{person:F(F({},a.state.person),{},(0,y.A)({},r,n))}))})),(0,y.A)(a,"handleInputChangeDate",(function(e,t){a.setState(F(F({},a.state),{},{person:F(F({},a.state.person),{},(0,y.A)({},t,e))}))})),(0,y.A)(a,"confirmDuplicate",(function(){a.handleSubmit("dontCheckDuplicates")})),(0,y.A)(a,"handleSubmit",(function(e){var t=!0;"dontCheckDuplicates"===e?t=!1:e&&e.preventDefault();var n=a.state.person,r={},s=!1;C().isEmpty(n.firstName)&&C().isEmpty(n.lastName)&&(r.name=!0,s=!0);var o=a.state.address;o.postalCode&&(o.postalCode=o.postalCode.toUpperCase());var i={};if(!C().isEmpty(o.postalCode)){var l=o.countryId;C().isEmpty(o.countryId+"")&&(l="NL"),C().isEmpty(o.postalCode+"")||("NL"==l?C().isPostalCode(o.postalCode,"NL"):C().isPostalCode(o.postalCode,"any"))||(i.postalCode=!0,i.countryId=!0,s=!0),C().isEmpty(o.number)&&(i.number=!0,s=!0),C().isEmpty(o.typeId)&&(i.typeId=!0,s=!0)}var c=a.state.phoneNumber,m={};C().isEmpty(c.number)||(C().isEmpty(c.number)&&(m.number=!0,s=!0),C().isEmpty(c.typeId)&&(m.typeId=!0,s=!0));var d=a.state.emailAddress,u={};if(C().isEmpty(d.email)||(C().isEmail(d.email)||(u.email=!0,s=!0),C().isEmpty(d.typeId)&&(u.typeId=!0,s=!0)),a.setState(F(F({},a.state),{},{errors:r,addressErrors:i,phoneErrors:m,emailErrors:u})),!s){if(a.state.buttonLoading)return!1;a.setState({buttonLoading:!0}),I.A.newPerson({person:n,address:o,emailAddress:d,phoneNumber:c,checkDuplicates:t}).then((function(e){a.props.navigate("/contact/".concat(e.data.data.id))})).catch((function(e){409===e.response.status&&(a.setState(F(F({},a.state),{},{duplicateText:e.response.data.message,duplicateContactId:e.response.data.contactId,cancelButtonText:e.response.data.cancelButtonText})),a.showConfirmDuplicate())}))}})),a.state={lastNamePrefixes:[],users:[],titles:[],inspectionPersonTypes:[],buttonLoading:!1,showAddress:!0,showEmail:!0,showPhone:!0,showConfirmDuplicate:!1,duplicateText:"",duplicateContactId:"",cancelButtonText:"",person:{id:"",number:"",createdAt:"",titleId:"",initials:"",firstName:"",lastNamePrefixId:"",lastName:"",memberSince:"",memberUntil:"",dateOfBirth:"",ownerId:e.userId,didAgreeAvg:!1,inspectionPersonTypeId:"",hoomAccountId:""},address:{street:"",number:"",addition:"",postalCode:"",city:"",typeId:"visit",endDate:"",primary:!0,countryId:""},emailAddress:{email:"",typeId:"home",primary:!0},phoneNumber:{number:"",typeId:"home",primary:!0},errors:{name:!1},addressErrors:{typeId:!1,endDate:!1,postalCode:!1,number:!1,countryId:!1},emailErrors:{typeId:!1,email:!1},phoneErrors:{typeId:!1,number:!1}},a}return(0,l.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){var e=this.state.person,t=e.titleId,a=e.initials,r=e.firstName,s=e.lastNamePrefixId,o=e.lastName,i=(e.memberSince,e.dateOfBirth),l=e.ownerId,c=e.didAgreeAvg;return e.inspectionPersonTypeId,e.hoomAccountId,n.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},n.createElement("div",{className:"row"},n.createElement(N.A,{label:"Contactnummer",name:"number",readOnly:!0,value:""}),n.createElement(N.A,{label:"Gemaakt op",name:"createdAt",value:f()().format("DD-MM-Y"),readOnly:!0})),n.createElement("div",{className:"row"},n.createElement(w.A,{label:"Aanspreektitel",name:"titleId",options:this.props.titles,value:t,onChangeAction:this.handleInputChange}),n.createElement(P.A,{label:"Geboortedatum",name:"dateOfBirth",value:i,onChangeAction:this.handleInputChangeDate})),n.createElement("div",{className:"row"},n.createElement(N.A,{label:"Voorletters",size:"col-sm-6",name:"initials",value:a,onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(N.A,{label:"Voornaam",size:"col-sm-6",name:"firstName",value:r,onChangeAction:this.handleInputChange,required:""===o&&"required",error:this.state.errors.name})),n.createElement("div",{className:"row"},n.createElement(w.A,{label:"Tussenvoegsel",name:"lastNamePrefixId",options:this.props.lastNamePrefixes,value:s,onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(N.A,{label:"Achternaam",size:"col-sm-6",name:"lastName",value:o,onChangeAction:this.handleInputChange,required:""===r&&"required",error:this.state.errors.name})),n.createElement("div",{className:"row"},n.createElement(w.A,{label:"Eigenaar",size:"col-sm-6",name:"ownerId",options:this.props.users,value:l,optionName:"fullName",onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(O.A,{label:"Akkoord privacybeleid",name:"didAgreeAvg",value:c,onChangeAction:this.handleInputChange})),n.createElement("div",{className:"margin-10-top"},n.createElement(S.A,null,n.createElement("div",{className:"row",onClick:this.toggleAddress},this.state.showAddress?n.createElement(V.Ay,{size:21,icon:K.y}):n.createElement(V.Ay,{size:21,icon:Z._}),n.createElement("span",{className:"h5"},"Adres"))),this.state.showAddress&&n.createElement(q,{address:this.state.address,errors:this.state.addressErrors,handleInputLvbagChange:this.addressHandleInputLvbagChange,handleInputChange:this.addressHandleInputChange,handleInputChangeDate:this.addressHandleInputChangeDate})),n.createElement("div",{className:"margin-10-top"},n.createElement(S.A,null,n.createElement("div",{className:"row",onClick:this.toggleEmail},this.state.showEmail?n.createElement(V.Ay,{size:21,icon:K.y}):n.createElement(V.Ay,{size:21,icon:Z._}),n.createElement("span",{className:"h5"},"E-mail"))),this.state.showEmail&&n.createElement(B,{emailAddress:this.state.emailAddress,errors:this.state.emailErrors,handleInputChange:this.emailAddressHandleInputChange})),n.createElement("div",{className:"margin-10-top"},n.createElement(S.A,null,n.createElement("div",{className:"row",onClick:this.togglePhone},this.state.showPhone?n.createElement(V.Ay,{size:21,icon:K.y}):n.createElement(V.Ay,{size:21,icon:Z._}),n.createElement("span",{className:"h5"},"Telefoonnummer"))),this.state.showPhone&&n.createElement(R,{phoneNumber:this.state.phoneNumber,errors:this.state.phoneErrors,handleInputChange:this.phoneHandleInputChange})),n.createElement(D.A,null,n.createElement("div",{className:"pull-right btn-group",role:"group"},n.createElement(k.A,{loading:this.state.buttonLoading,loadText:"Persoon wordt aangemaakt.",buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"}))),this.state.showConfirmDuplicate&&n.createElement(G,{closeModal:this.hideConfirmDuplicate,confirmAction:this.confirmDuplicate,duplicateText:this.state.duplicateText,duplicateContactId:this.state.duplicateContactId,cancelButtonText:this.state.cancelButtonText}))}}])}(n.Component);const Q=(0,v.Ng)((function(e){return{lastNamePrefixes:e.systemData.lastNamePrefixes,users:e.systemData.users,titles:e.systemData.titles,inspectionPersonTypes:e.systemData.inspectionPersonTypes,userId:e.meDetails.id}}))((function(e){var t=(0,m.Zp)();return n.createElement(J,(0,c.A)({},e,{navigate:t}))}));var X=a(93491),$=a(15900);function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(a),!0).forEach((function(t){(0,y.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ae=function(){return!!e})()}var ne=function(e){function t(e){var a,n,s,l;return(0,r.A)(this,t),n=this,s=t,l=[e],s=(0,i.A)(s),a=(0,o.A)(n,ae()?Reflect.construct(s,l||[],(0,i.A)(n).constructor):s.apply(n,l)),(0,y.A)(a,"toggleAddress",(function(){a.setState({showAddress:!a.state.showAddress})})),(0,y.A)(a,"toggleEmail",(function(){a.setState({showEmail:!a.state.showEmail})})),(0,y.A)(a,"togglePhone",(function(){a.setState({showPhone:!a.state.showPhone})})),(0,y.A)(a,"addressHandleInputLvbagChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(te(te({},a.state),{},{address:te(te({},a.state.address),{},(0,y.A)({},r,n))})),setTimeout((function(){var e=a.state.address;!C().isEmpty(e.postalCode)&&C().isPostalCode(e.postalCode,"NL")&&!C().isEmpty(e.number)&&C().isEmpty(e.city)&&C().isEmpty(e.street)&&M.A.getLvbagAddress(e.postalCode,e.number).then((function(e){a.setState(te(te({},a.state),{},{address:te(te({},a.state.address),{},{street:e.street,city:e.city})}))}))}),100)})),(0,y.A)(a,"addressHandleInputChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(te(te({},a.state),{},{address:te(te({},a.state.address),{},(0,y.A)({},r,n))}))})),(0,y.A)(a,"addressHandleInputChangeDate",(function(e,t){a.setState(te(te({},a.state),{},{address:te(te({},a.state.address),{},(0,y.A)({},t,e))}))})),(0,y.A)(a,"emailAddressHandleInputChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(te(te({},a.state),{},{emailAddress:te(te({},a.state.emailAddress),{},(0,y.A)({},r,n))}))})),(0,y.A)(a,"phoneHandleInputChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(te(te({},a.state),{},{phoneNumber:te(te({},a.state.phoneNumber),{},(0,y.A)({},r,n))}))})),(0,y.A)(a,"handleInputChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(te(te({},a.state),{},{organisation:te(te({},a.state.organisation),{},(0,y.A)({},r,n))}))})),(0,y.A)(a,"handleInputChangeDate",(function(e,t){a.setState(te(te({},a.state),{},{organisation:te(te({},a.state.organisation),{},(0,y.A)({},t,e))}))})),(0,y.A)(a,"handleSubmit",(function(e){e.preventDefault();var t=a.state.organisation,n={},r=!1;C().isEmpty(t.name)&&(n.name=!0,r=!0),C().isEmpty(t.iban)||$.isValidIBAN(t.iban)||(n.iban=!0,r=!0);var s=a.state.address;s.postalCode&&(s.postalCode=s.postalCode.toUpperCase());var o={};if(!C().isEmpty(s.postalCode)){var i=s.countryId;C().isEmpty(s.countryId+"")&&(i="NL"),C().isEmpty(s.postalCode+"")||("NL"==i?C().isPostalCode(s.postalCode,"NL"):C().isPostalCode(s.postalCode,"any"))||(o.postalCode=!0,o.countryId=!0,r=!0),C().isEmpty(s.number)&&(o.number=!0,r=!0),C().isEmpty(s.typeId)&&(o.typeId=!0,r=!0)}var l=a.state.phoneNumber,c={};C().isEmpty(l.number)||(C().isEmpty(l.number)&&(c.number=!0,r=!0),C().isEmpty(l.typeId)&&(c.typeId=!0,r=!0));var m=a.state.emailAddress,d={};if(C().isEmpty(m.email)||(C().isEmail(m.email)||(d.email=!0,r=!0),C().isEmpty(m.typeId)&&(d.typeId=!0,r=!0)),a.setState(te(te({},a.state),{},{errors:n,addressErrors:o,phoneErrors:c,emailErrors:d})),!r){if(a.state.buttonLoading)return!1;a.setState({buttonLoading:!0}),X.A.newOrganisation({organisation:t,address:s,emailAddress:m,phoneNumber:l}).then((function(e){a.props.navigate("/contact/".concat(e.data.data.id))})).catch((function(e){409===e.response.status&&(a.setState(te(te({},a.state),{},{duplicateText:e.response.data.message})),a.toggleShowConfirmDuplicate())}))}})),a.state={buttonLoading:!1,showAddress:!0,showEmail:!0,showPhone:!0,showConfirmDuplicate:!1,duplicateText:"",organisation:{id:"",number:"",createdAt:"",name:"",statutoryName:"",chamberOfCommerceNumber:"",vatNumber:"",memberSince:"",memberUntil:"",website:"",iban:"",ibanAttn:"",ownerId:e.userId,didAgreeAvg:!1,inspectionPersonTypeId:""},address:{street:"",number:"",addition:"",postalCode:"",city:"",typeId:"visit",endDate:"",primary:!0,countryId:""},emailAddress:{email:"",typeId:"home",primary:!0},phoneNumber:{number:"",typeId:"home",primary:!0},errors:{name:!1,iban:!1},addressErrors:{typeId:!1,endDate:!1,postalCode:!1,number:!1,countryId:!1},emailErrors:{typeId:!1,email:!1},phoneErrors:{typeId:!1,number:!1}},a}return(0,l.A)(t,e),(0,s.A)(t,[{key:"render",value:function(){var e=this.state.organisation,t=e.name,a=e.statutoryName,r=e.chamberOfCommerceNumber,s=e.vatNumber,o=(e.memberSince,e.website),i=e.iban,l=e.ibanAttn,c=e.ownerId,m=e.didAgreeAvg;return e.inspectionPersonTypeId,n.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},n.createElement("div",{className:"row"},n.createElement(N.A,{label:"Contactnummer",name:"number",readOnly:!0,value:""}),n.createElement(N.A,{label:"Gemaakt op",name:"createdAt",value:f()().format("DD-MM-Y"),readOnly:!0})),n.createElement("div",{className:"row"},n.createElement(N.A,{label:"Naam",name:"name",value:t,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.name})),n.createElement("div",{className:"row"},n.createElement(N.A,{label:"Statutaire naam",name:"statutoryName",value:a,onChangeAction:this.handleInputChange,error:this.state.errors.statutoryName})),n.createElement("div",{className:"row"},n.createElement(N.A,{label:"KvK",size:"col-sm-6",name:"chamberOfCommerceNumber",value:r,onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(N.A,{label:"Btw nummer",name:"vatNumber",value:s,onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(N.A,{label:"IBAN",name:"iban",value:i,onChangeAction:this.handleInputChange,error:this.state.errors.iban})),n.createElement("div",{className:"row"},n.createElement(N.A,{label:"IBAN t.n.v.",name:"ibanAttn",value:l,onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(N.A,{label:"Website",name:"website",value:o,onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(w.A,{label:"Eigenaar",size:"col-sm-6",name:"ownerId",options:this.props.users,value:c,optionName:"fullName",onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(O.A,{label:"Akkoord privacybeleid",name:"didAgreeAvg",value:m,onChangeAction:this.handleInputChange}))," ",n.createElement("div",{className:"margin-10-top"},n.createElement(S.A,null,n.createElement("div",{className:"row",onClick:this.toggleAddress},this.state.showAddress?n.createElement(V.Ay,{size:21,icon:K.y}):n.createElement(V.Ay,{size:21,icon:Z._}),n.createElement("span",{className:"h5"},"Adres"))),this.state.showAddress&&n.createElement(q,{address:this.state.address,errors:this.state.addressErrors,handleInputLvbagChange:this.addressHandleInputLvbagChange,handleInputChange:this.addressHandleInputChange,handleInputChangeDate:this.addressHandleInputChangeDate})),n.createElement("div",{className:"margin-10-top"},n.createElement(S.A,null,n.createElement("div",{className:"row",onClick:this.toggleEmail},this.state.showEmail?n.createElement(V.Ay,{size:21,icon:K.y}):n.createElement(V.Ay,{size:21,icon:Z._}),n.createElement("span",{className:"h5"},"E-mail"))),this.state.showEmail&&n.createElement(B,{emailAddress:this.state.emailAddress,errors:this.state.emailErrors,handleInputChange:this.emailAddressHandleInputChange})),n.createElement("div",{className:"margin-10-top"},n.createElement(S.A,null,n.createElement("div",{className:"row",onClick:this.togglePhone},this.state.showPhone?n.createElement(V.Ay,{size:21,icon:K.y}):n.createElement(V.Ay,{size:21,icon:Z._}),n.createElement("span",{className:"h5"},"Telefoonnummer"))),this.state.showPhone&&n.createElement(R,{phoneNumber:this.state.phoneNumber,errors:this.state.phoneErrors,handleInputChange:this.phoneHandleInputChange})),n.createElement(D.A,null,n.createElement("div",{className:"pull-right btn-group",role:"group"},n.createElement(k.A,{loading:this.state.buttonLoading,loadText:"Organisatie wordt aangemaakt.",buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"}))))}}])}(n.Component);const re=(0,v.Ng)((function(e){return{users:e.systemData.users,userId:e.meDetails.id}}))((function(e){var t=(0,m.Zp)();return n.createElement(ne,(0,c.A)({},e,{navigate:t}))})),se=function(e){return n.createElement(u.A,{className:"panel-grey"},n.createElement(p.A,null,n.createElement("div",{className:"col-md-12"},"persoon"===e.type&&n.createElement(Q,null),"organisatie"===e.type&&n.createElement(re,null))))},oe=function(e){return n.createElement("div",null,n.createElement(se,{type:e.type,organisationId:e.organisationId}))},ie=function(e){return n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-9"},n.createElement("div",{className:"col-md-12 margin-10-top"},n.createElement(g,null)),n.createElement("div",{className:"col-md-12 margin-10-top"},n.createElement(oe,{type:e.params.type}))))}},93491:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(61941),r=a(61643);const s={newOrganisation:function(e){var t="".concat((0,r.e)(),"/api/organisation"),a="".concat(t);return(0,n.A)().post(a,e)},updateOrganisation:function(e){var t="".concat((0,r.e)(),"/api/organisation"),a="".concat(t,"/").concat(e.id);return(0,n.A)().post(a,e)},getOrganisationPeek:function(){var e="".concat((0,r.e)(),"/api/organisation"),t="".concat(e,"/peek");return(0,n.A)().get(t).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))}}},96193:(e,t)=>{t.y=void 0,t.y={viewBox:"0 0 1152 1792",children:[{name:"path",attribs:{d:"M1075 736q0 13-10 23l-466 466q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z"}}]}}}]);