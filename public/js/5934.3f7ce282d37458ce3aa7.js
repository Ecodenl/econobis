"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[5934],{5934:(e,t,a)=>{a.r(t),a.d(t,{default:()=>I});var r=a(5544),n=a(96540),l=a(23029),c=a(92901),o=a(56822),s=a(53954),i=a(85501),u=a(64467),p=a(58168),m=a(47767),f=a(57761),d=a.n(f),g=a(95430),v=a(54814),h=a(55956),A=a(62493),P=a(55849),E=a(77465),b=a(33579);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(Object(a),!0).forEach((function(t){(0,u.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function N(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(N=function(){return!!e})()}var y=function(e){function t(e){var a,r,n,c;return(0,l.A)(this,t),r=this,n=t,c=[e],n=(0,s.A)(n),a=(0,o.A)(r,N()?Reflect.construct(n,c||[],(0,s.A)(r).constructor):n.apply(r,c)),(0,u.A)(a,"handleInputChange",(function(e){var t=e.target,r="checkbox"===t.type?t.checked:t.value,n=t.name;a.setState(R(R({},a.state),{},{portalFreeFieldsPage:R(R({},a.state.portalFreeFieldsPage),{},(0,u.A)({},n,r))}))})),(0,u.A)(a,"handleSubmit",(function(e){e.preventDefault();var t=a.state.portalFreeFieldsPage,r={},n={},l=!1;d().isEmpty(t.name+"")&&(r.name=!0,n.name="verplicht",l=!0),d().isEmpty(t.urlPageRef+"")&&(r.urlPageRef=!0,n.urlPageRef="verplicht",l=!0),null==t.urlPageRef||d().isEmpty(t.urlPageRef)||t.urlPageRef.match(/^[a-z-1-9]+$/)||(r.urlPageRef=!0,n.urlPageRef="Waarde ongeldig. Alleen kleine letters, cijfers en koppelteken (-) toegestaan.",l=!0),a.setState(R(R({},a.state),{},{errors:r,errorsMessage:n})),l||g.A.newPortalFreeFieldsPage(t).then((function(e){a.props.navigate("/vrije-velden-portaal-pagina")})).catch((function(e){console.log(e),alert("Er is iets mis gegaan met opslaan!")}))})),a.state={portalFreeFieldsPage:{name:"",isActive:!0,description:"",urlPageRef:""},errors:{name:!1,isActive:!1,description:!1,urlPageRef:!1},errorsMessage:{name:"",isActive:"",description:"",urlPageRef:""}},a}return(0,i.A)(t,e),(0,c.A)(t,[{key:"render",value:function(){var e=this.state.portalFreeFieldsPage,t=e.name,a=e.isActive,r=e.description,l=e.urlPageRef;return n.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},n.createElement(A.A,null,n.createElement(P.A,null,n.createElement("div",{className:"row"},n.createElement(v.A,{label:"Pagina naam",name:"name",value:t,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.name,errorMessage:this.state.errorsMessage.name}),n.createElement(E.A,{label:"Actief",name:"isActive",value:a,onChangeAction:this.handleInputChange,error:this.state.errors.isActive,errorMessage:this.state.errorsMessage.isActive})),n.createElement("div",{className:"row"},n.createElement(b.A,{label:"Pagina beschrijving",name:"description",value:r,onChangeAction:this.handleInputChange,error:this.state.errors.description,errorMessage:this.state.errorsMessage.description})),n.createElement("div",{className:"row"},n.createElement(v.A,{size:"col-sm-5",label:"Pagina referentie voor portaal url",name:"urlPageRef",value:l,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.urlPageRef,errorMessage:this.state.errorsMessage.urlPageRef,textToolTip:"Te gebruiken pagina referentie voor portaal url. Alleen kleine letters en koppelteken (-) toegestaan."})),n.createElement("div",{className:"row"},n.createElement("div",{className:"form-group col-sm-12"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-3"},n.createElement("label",{htmlFor:"urlPageRefView",className:"col-sm-12"},"Portaal url")),n.createElement("div",{className:"col-sm-9",id:"urlPageRefView"},"https://".concat(this.props.portalUrl,"/#/vrije-velden/").concat(l)))))," ",n.createElement("hr",null)),n.createElement(P.A,null,n.createElement("div",{className:"pull-right btn-group",role:"group"},n.createElement(h.A,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}])}(n.Component);const w=function(e){var t=(0,m.Zp)();return n.createElement(y,(0,p.A)({},e,{navigate:t}))};var O=a(91858);const k=function(){var e=(0,m.Zp)();return n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-4"},n.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},n.createElement(O.A,{iconName:"arrowLeft",onClickAction:function(){return e(-1)}}))),n.createElement("div",{className:"col-md-4"},n.createElement("h4",{className:"text-center margin-small"},"Nieuw vrije velden portaal pagina")),n.createElement("div",{className:"col-md-4"}))};var j=a(72505),S=a.n(j),C=a(95532);const I=function(){var e=(0,n.useState)(""),t=(0,r.A)(e,2),a=t[0],l=t[1],c=(0,n.useState)(!0),o=(0,r.A)(c,2),s=o[0],i=o[1];return(0,n.useEffect)((function(){!function(){i(!0);S().all([C.A.fetchPortalSettings("?keys[]=portalUrl")]).then(S().spread((function(e){l(e.data.portalUrl),i(!1)}))).catch((function(){alert("Er is iets misgegaan met ophalen van het vrije veld."),i(!1)}))}()}),[]),s?n.createElement("div",null,"Gegevens aan het laden."):n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-9"},n.createElement("div",{className:"col-md-12 margin-10-top"},n.createElement(A.A,null,n.createElement(P.A,{className:"panel-small"},n.createElement(k,null)))),n.createElement("div",{className:"col-md-12 margin-10-top"},n.createElement(w,{portalUrl:a}))),n.createElement("div",{className:"col-md-3"}))}},95430:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(61941);const n={fetchPortalFreeFieldsPages:function(e,t,a){var n="".concat(URL_API,"/api/portal-free-fields-pages/grid");return r.A.get(n,{params:{filters:JSON.stringify(e),sorts:JSON.stringify(t),limit:a.limit,offset:a.offset}})},fetchPortalFreeFieldsPageDetails:function(e){var t="".concat(URL_API,"/api/portal-free-fields-page/").concat(e);return r.A.get(t).then((function(e){return e.data.data}))},peekFreeFieldsContacts:function(e){var t="".concat(URL_API,"/api/portal-free-fields-page/free-fields-contacts/").concat(e,"/peek-contacts");return r.A.get(t)},deletePortalFreeFieldsPage:function(e){var t="".concat(URL_API,"/api/portal-free-fields-page/").concat(e,"/delete");return r.A.post(t)},newPortalFreeFieldsPage:function(e){var t="".concat(URL_API,"/api/portal-free-fields-page");return r.A.post(t,e).then((function(e){return e.data})).catch((function(e){console.log(e)}))},updatePortalFreeFieldsPage:function(e){return r.A.post("".concat(URL_API,"/api/portal-free-fields-page/").concat(e.id,"/update"),e)},createPortalFreeFieldsField:function(e){var t="".concat(URL_API,"/api/portal-free-fields-page-field");return r.A.post(t,e)},updatePortalFreeFieldsField:function(e,t){var a="".concat(URL_API,"/api/portal-free-fields-page-field/").concat(e);return r.A.post(a,t)},deletePortalFreeFieldsField:function(e){var t="".concat(URL_API,"/api/portal-free-fields-page-field/").concat(e,"/delete");return r.A.post(t)}}},95532:(e,t,a)=>{a.d(t,{A:()=>l});var r=a(61941),n="setting";const l={fetchPortalSettings:function(e){var t="".concat(n,"/multiple").concat(e);return r.A.get(t)},updatePortalSettings:function(e){var t="".concat(n);return r.A.post(t,e)}}}}]);