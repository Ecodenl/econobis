"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[5934],{5934:(e,t,a)=>{a.r(t),a.d(t,{default:()=>I});var r=a(5544),n=a(96540),l=(a(2008),a(51629),a(67945),a(84185),a(83851),a(81278),a(79432),a(26099),a(60825),a(23500),a(23029)),o=a(92901),s=a(56822),c=a(53954),i=a(85501),u=a(64467),p=a(58168),m=(a(52675),a(89463),a(28706),a(62010),a(27495),a(71761),a(47767)),d=a(57761),f=a.n(d),g=a(95430),v=a(54814),h=a(55956),A=a(62493),P=a(55849),b=a(77465),E=a(33579);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(Object(a),!0).forEach((function(t){(0,u.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function N(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(N=function(){return!!e})()}var k=function(e){function t(e){var a,r,n,o;return(0,l.A)(this,t),r=this,n=t,o=[e],n=(0,c.A)(n),a=(0,s.A)(r,N()?Reflect.construct(n,o||[],(0,c.A)(r).constructor):n.apply(r,o)),(0,u.A)(a,"handleInputChange",(function(e){var t=e.target,r="checkbox"===t.type?t.checked:t.value,n=t.name;a.setState(w(w({},a.state),{},{portalFreeFieldsPage:w(w({},a.state.portalFreeFieldsPage),{},(0,u.A)({},n,r))}))})),(0,u.A)(a,"handleSubmit",(function(e){e.preventDefault();var t=a.state.portalFreeFieldsPage,r={},n={},l=!1;f().isEmpty(t.name+"")&&(r.name=!0,n.name="verplicht",l=!0),f().isEmpty(t.urlPageRef+"")&&(r.urlPageRef=!0,n.urlPageRef="verplicht",l=!0),null==t.urlPageRef||f().isEmpty(t.urlPageRef)||t.urlPageRef.match(/^[a-z-1-9]+$/)||(r.urlPageRef=!0,n.urlPageRef="Waarde ongeldig. Alleen kleine letters, cijfers en koppelteken (-) toegestaan.",l=!0),a.setState(w(w({},a.state),{},{errors:r,errorsMessage:n})),l||g.A.newPortalFreeFieldsPage(t).then((function(e){a.props.navigate("/vrije-velden-portaal-pagina")})).catch((function(e){console.log(e),alert("Er is iets mis gegaan met opslaan!")}))})),a.state={portalFreeFieldsPage:{name:"",isActive:!0,description:"",urlPageRef:""},errors:{name:!1,isActive:!1,description:!1,urlPageRef:!1},errorsMessage:{name:"",isActive:"",description:"",urlPageRef:""}},a}return(0,i.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){var e=this.state.portalFreeFieldsPage,t=e.name,a=e.isActive,r=e.description,l=e.urlPageRef;return n.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},n.createElement(A.A,null,n.createElement(P.A,null,n.createElement("div",{className:"row"},n.createElement(v.A,{label:"Pagina naam",name:"name",value:t,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.name,errorMessage:this.state.errorsMessage.name}),n.createElement(b.A,{label:"Actief",name:"isActive",value:a,onChangeAction:this.handleInputChange,error:this.state.errors.isActive,errorMessage:this.state.errorsMessage.isActive})),n.createElement("div",{className:"row"},n.createElement(E.A,{label:"Pagina beschrijving",name:"description",value:r,onChangeAction:this.handleInputChange,error:this.state.errors.description,errorMessage:this.state.errorsMessage.description})),n.createElement("div",{className:"row"},n.createElement(v.A,{size:"col-sm-5",label:"Pagina referentie voor portaal url",name:"urlPageRef",value:l,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.urlPageRef,errorMessage:this.state.errorsMessage.urlPageRef,textToolTip:"Te gebruiken pagina referentie voor portaal url. Alleen kleine letters en koppelteken (-) toegestaan."})),n.createElement("div",{className:"row"},n.createElement("div",{className:"form-group col-sm-12"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-3"},n.createElement("label",{htmlFor:"urlPageRefView",className:"col-sm-12"},"Portaal url")),n.createElement("div",{className:"col-sm-9",id:"urlPageRefView"},"https://".concat(this.props.portalUrl,"/#/vrije-velden/").concat(l)))))," ",n.createElement("hr",null)),n.createElement(P.A,null,n.createElement("div",{className:"pull-right btn-group",role:"group"},n.createElement(h.A,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}])}(n.Component);const R=function(e){var t=(0,m.Zp)();return n.createElement(k,(0,p.A)({},e,{navigate:t}))};var y=a(91858);const C=function(){var e=(0,m.Zp)();return n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-4"},n.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},n.createElement(y.A,{iconName:"arrowLeft",onClickAction:function(){return e(-1)}}))),n.createElement("div",{className:"col-md-4"},n.createElement("h4",{className:"text-center margin-small"},"Nieuw vrije velden portaal pagina")),n.createElement("div",{className:"col-md-4"}))};var O=a(72505),j=a.n(O),S=a(95532);const I=function(){var e=(0,n.useState)(""),t=(0,r.A)(e,2),a=t[0],l=t[1],o=(0,n.useState)(!0),s=(0,r.A)(o,2),c=s[0],i=s[1];return(0,n.useEffect)((function(){!function(){i(!0);j().all([S.A.fetchPortalSettingsDetails(1)]).then(j().spread((function(e){l(e.data.data.portalUrl),i(!1)}))).catch((function(){alert("Er is iets misgegaan met ophalen van het vrije veld."),i(!1)}))}()}),[]),c?n.createElement("div",null,"Gegevens aan het laden."):n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-9"},n.createElement("div",{className:"col-md-12 margin-10-top"},n.createElement(A.A,null,n.createElement(P.A,{className:"panel-small"},n.createElement(C,null)))),n.createElement("div",{className:"col-md-12 margin-10-top"},n.createElement(R,{portalUrl:a}))),n.createElement("div",{className:"col-md-3"}))}},71761:(e,t,a)=>{var r=a(69565),n=a(89228),l=a(28551),o=a(64117),s=a(18014),c=a(655),i=a(67750),u=a(55966),p=a(57829),m=a(56682);n("match",(function(e,t,a){return[function(t){var a=i(this),n=o(t)?void 0:u(t,e);return n?r(n,t,a):new RegExp(t)[e](c(a))},function(e){var r=l(this),n=c(e),o=a(t,r,n);if(o.done)return o.value;if(!r.global)return m(r,n);var i=r.unicode;r.lastIndex=0;for(var u,d=[],f=0;null!==(u=m(r,n));){var g=c(u[0]);d[f]=g,""===g&&(r.lastIndex=p(n,s(r.lastIndex),i)),f++}return 0===f?null:d}]}))},95430:(e,t,a)=>{a.d(t,{A:()=>l}),a(28706),a(60739);var r=a(61941),n=a(61643);const l={fetchPortalFreeFieldsPages:function(e,t,a){var l="".concat((0,n.e)(),"/api/portal-free-fields-pages/grid");return(0,r.A)().get(l,{params:{filters:JSON.stringify(e),sorts:JSON.stringify(t),limit:a.limit,offset:a.offset}})},fetchPortalFreeFieldsPageDetails:function(e){var t="".concat((0,n.e)(),"/api/portal-free-fields-page/").concat(e);return(0,r.A)().get(t).then((function(e){return e.data.data}))},peekFreeFieldsContacts:function(e){var t="".concat((0,n.e)(),"/api/portal-free-fields-page/free-fields-contacts/").concat(e,"/peek-contacts");return(0,r.A)().get(t)},deletePortalFreeFieldsPage:function(e){var t="".concat((0,n.e)(),"/api/portal-free-fields-page/").concat(e,"/delete");return(0,r.A)().post(t)},newPortalFreeFieldsPage:function(e){var t="".concat((0,n.e)(),"/api/portal-free-fields-page");return(0,r.A)().post(t,e).then((function(e){return e.data})).catch((function(e){console.log(e)}))},updatePortalFreeFieldsPage:function(e){return(0,r.A)().post("".concat((0,n.e)(),"/api/portal-free-fields-page/").concat(e.id,"/update"),e)},createPortalFreeFieldsField:function(e){var t="".concat((0,n.e)(),"/api/portal-free-fields-page-field");return(0,r.A)().post(t,e)},updatePortalFreeFieldsField:function(e,t){var a="".concat((0,n.e)(),"/api/portal-free-fields-page-field/").concat(e);return(0,r.A)().post(a,t)},deletePortalFreeFieldsField:function(e){var t="".concat((0,n.e)(),"/api/portal-free-fields-page-field/").concat(e,"/delete");return(0,r.A)().post(t)}}},95532:(e,t,a)=>{a.d(t,{A:()=>n}),a(28706);var r=a(61941);const n={fetchPortalSettingsDetails:function(e){var t="jory/portal-settings/".concat(e);return(0,r.A)().get(t,{params:{jory:{fld:["id","portalActive","portalName","cooperativeName","portalWebsite","portalUrl","responsibleUserId","contactResponsibleOwnerUserId","checkContactTaskResponsibleUserId","checkContactTaskResponsibleTeamId","emailTemplateNewAccountId","linkPrivacyPolicy","showNewAtCooperativeLink","newAtCooperativeLinkText","showAllowRequestForDelete","allowRequestForDeleteButtonText","pcrPowerKwhConsumptionPercentage","pcrGeneratingCapacityOneSolorPanel","defaultContactGroupMemberId","defaultContactGroupNoMemberId","defaultAdministrationId"],rlt:{responsibleUser:[],contactResponsibleOwnerUser:[],checkContactTaskResponsibleUser:[],checkContactTaskResponsibleTeam:[],emailTemplateNewAccount:[],defaultContactGroupMember:[],defaultContactGroupNoMember:[],defaultAdministration:[]}}}})},updatePortalSettings:function(e){var t="".concat("portal-settings","/").concat(e.id);return(0,r.A)().post(t,e)}}}}]);