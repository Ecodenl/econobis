"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[5934],{5934:(e,t,r)=>{r.r(t),r.d(t,{default:()=>x});var a=r(5544),n=r(96540),l=(r(2008),r(51629),r(67945),r(84185),r(83851),r(81278),r(79432),r(26099),r(60825),r(23500),r(23029)),o=r(92901),c=r(56822),i=r(53954),s=r(85501),u=r(64467),p=r(58168),m=(r(52675),r(89463),r(28706),r(62010),r(27495),r(71761),r(47767)),f=r(57761),d=r.n(f),g=r(95430),v=r(54814),h=r(55956),A=r(62493),P=r(55849),E=r(77465),b=r(33579);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){(0,u.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}var w=function(e){function t(e){var r,a,n,o;return(0,l.A)(this,t),a=this,n=t,o=[e],n=(0,i.A)(n),r=(0,c.A)(a,y()?Reflect.construct(n,o||[],(0,i.A)(a).constructor):n.apply(a,o)),(0,u.A)(r,"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;r.setState(N(N({},r.state),{},{portalFreeFieldsPage:N(N({},r.state.portalFreeFieldsPage),{},(0,u.A)({},n,a))}))})),(0,u.A)(r,"handleSubmit",(function(e){e.preventDefault();var t=r.state.portalFreeFieldsPage,a={},n={},l=!1;d().isEmpty(t.name+"")&&(a.name=!0,n.name="verplicht",l=!0),d().isEmpty(t.urlPageRef+"")&&(a.urlPageRef=!0,n.urlPageRef="verplicht",l=!0),null==t.urlPageRef||d().isEmpty(t.urlPageRef)||t.urlPageRef.match(/^[a-z-1-9]+$/)||(a.urlPageRef=!0,n.urlPageRef="Waarde ongeldig. Alleen kleine letters, cijfers en koppelteken (-) toegestaan.",l=!0),r.setState(N(N({},r.state),{},{errors:a,errorsMessage:n})),l||g.A.newPortalFreeFieldsPage(t).then((function(e){r.props.navigate("/vrije-velden-portaal-pagina")})).catch((function(e){console.log(e),alert("Er is iets mis gegaan met opslaan!")}))})),r.state={portalFreeFieldsPage:{name:"",isActive:!0,description:"",urlPageRef:""},errors:{name:!1,isActive:!1,description:!1,urlPageRef:!1},errorsMessage:{name:"",isActive:"",description:"",urlPageRef:""}},r}return(0,s.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){var e=this.state.portalFreeFieldsPage,t=e.name,r=e.isActive,a=e.description,l=e.urlPageRef;return n.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},n.createElement(A.A,null,n.createElement(P.A,null,n.createElement("div",{className:"row"},n.createElement(v.A,{label:"Pagina naam",name:"name",value:t,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.name,errorMessage:this.state.errorsMessage.name}),n.createElement(E.A,{label:"Actief",name:"isActive",value:r,onChangeAction:this.handleInputChange,error:this.state.errors.isActive,errorMessage:this.state.errorsMessage.isActive})),n.createElement("div",{className:"row"},n.createElement(b.A,{label:"Pagina beschrijving",name:"description",value:a,onChangeAction:this.handleInputChange,error:this.state.errors.description,errorMessage:this.state.errorsMessage.description})),n.createElement("div",{className:"row"},n.createElement(v.A,{size:"col-sm-5",label:"Pagina referentie voor portaal url",name:"urlPageRef",value:l,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.urlPageRef,errorMessage:this.state.errorsMessage.urlPageRef,textToolTip:"Te gebruiken pagina referentie voor portaal url. Alleen kleine letters en koppelteken (-) toegestaan."})),n.createElement("div",{className:"row"},n.createElement("div",{className:"form-group col-sm-12"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-3"},n.createElement("label",{htmlFor:"urlPageRefView",className:"col-sm-12"},"Portaal url")),n.createElement("div",{className:"col-sm-9",id:"urlPageRefView"},"https://".concat(this.props.portalUrl,"/#/vrije-velden/").concat(l)))))," ",n.createElement("hr",null)),n.createElement(P.A,null,n.createElement("div",{className:"pull-right btn-group",role:"group"},n.createElement(h.A,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}])}(n.Component);const O=function(e){var t=(0,m.Zp)();return n.createElement(w,(0,p.A)({},e,{navigate:t}))};var k=r(91858);const R=function(){var e=(0,m.Zp)();return n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-4"},n.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},n.createElement(k.A,{iconName:"arrowLeft",onClickAction:function(){return e(-1)}}))),n.createElement("div",{className:"col-md-4"},n.createElement("h4",{className:"text-center margin-small"},"Nieuw vrije velden portaal pagina")),n.createElement("div",{className:"col-md-4"}))};var j=r(72505),S=r.n(j),C=r(95532);const x=function(){var e=(0,n.useState)(""),t=(0,a.A)(e,2),r=t[0],l=t[1],o=(0,n.useState)(!0),c=(0,a.A)(o,2),i=c[0],s=c[1];return(0,n.useEffect)((function(){!function(){s(!0);S().all([C.A.fetchPortalSettings("?keys[]=portalUrl")]).then(S().spread((function(e){l(e.data.portalUrl),s(!1)}))).catch((function(){alert("Er is iets misgegaan met ophalen van het vrije veld."),s(!1)}))}()}),[]),i?n.createElement("div",null,"Gegevens aan het laden."):n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-9"},n.createElement("div",{className:"col-md-12 margin-10-top"},n.createElement(A.A,null,n.createElement(P.A,{className:"panel-small"},n.createElement(R,null)))),n.createElement("div",{className:"col-md-12 margin-10-top"},n.createElement(O,{portalUrl:r}))),n.createElement("div",{className:"col-md-3"}))}},71761:(e,t,r)=>{var a=r(69565),n=r(89228),l=r(28551),o=r(64117),c=r(18014),i=r(655),s=r(67750),u=r(55966),p=r(57829),m=r(56682);n("match",(function(e,t,r){return[function(t){var r=s(this),n=o(t)?void 0:u(t,e);return n?a(n,t,r):new RegExp(t)[e](i(r))},function(e){var a=l(this),n=i(e),o=r(t,a,n);if(o.done)return o.value;if(!a.global)return m(a,n);var s=a.unicode;a.lastIndex=0;for(var u,f=[],d=0;null!==(u=m(a,n));){var g=i(u[0]);f[d]=g,""===g&&(a.lastIndex=p(n,c(a.lastIndex),s)),d++}return 0===d?null:f}]}))},95430:(e,t,r)=>{r.d(t,{A:()=>l}),r(28706),r(60739);var a=r(61941),n=r(61643);const l={fetchPortalFreeFieldsPages:function(e,t,r){var l="".concat((0,n.e)(),"/api/portal-free-fields-pages/grid");return(0,a.A)().get(l,{params:{filters:JSON.stringify(e),sorts:JSON.stringify(t),limit:r.limit,offset:r.offset}})},fetchPortalFreeFieldsPageDetails:function(e){var t="".concat((0,n.e)(),"/api/portal-free-fields-page/").concat(e);return(0,a.A)().get(t).then((function(e){return e.data.data}))},peekFreeFieldsContacts:function(e){var t="".concat((0,n.e)(),"/api/portal-free-fields-page/free-fields-contacts/").concat(e,"/peek-contacts");return(0,a.A)().get(t)},getExcelFreeFieldsFieldLog:function(){var e="".concat((0,n.e)(),"/api/free-fields-field-log/excel/mutations");return(0,a.A)().get(e,{responseType:"blob"})},deletePortalFreeFieldsPage:function(e){var t="".concat((0,n.e)(),"/api/portal-free-fields-page/").concat(e,"/delete");return(0,a.A)().post(t)},newPortalFreeFieldsPage:function(e){var t="".concat((0,n.e)(),"/api/portal-free-fields-page");return(0,a.A)().post(t,e).then((function(e){return e.data})).catch((function(e){console.log(e)}))},updatePortalFreeFieldsPage:function(e){return(0,a.A)().post("".concat((0,n.e)(),"/api/portal-free-fields-page/").concat(e.id,"/update"),e)},createPortalFreeFieldsField:function(e){var t="".concat((0,n.e)(),"/api/portal-free-fields-page-field");return(0,a.A)().post(t,e)},updatePortalFreeFieldsField:function(e,t){var r="".concat((0,n.e)(),"/api/portal-free-fields-page-field/").concat(e);return(0,a.A)().post(r,t)},deletePortalFreeFieldsField:function(e){var t="".concat((0,n.e)(),"/api/portal-free-fields-page-field/").concat(e,"/delete");return(0,a.A)().post(t)}}},95532:(e,t,r)=>{r.d(t,{A:()=>l}),r(28706);var a=r(61941),n="setting";const l={fetchPortalSettings:function(e){var t="".concat(n,"/multiple").concat(e);return(0,a.A)().get(t)},updatePortalSettings:function(e){var t="".concat(n);return(0,a.A)().post(t,e)}}}}]);