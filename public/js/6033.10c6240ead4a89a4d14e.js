"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[6033],{3470:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},5746:(e,t,a)=>{var r=a(69565),n=a(89228),o=a(28551),s=a(64117),i=a(67750),l=a(3470),c=a(655),p=a(55966),m=a(56682);n("search",(function(e,t,a){return[function(t){var a=i(this),n=s(t)?void 0:p(t,e);return n?r(n,t,a):new RegExp(t)[e](c(a))},function(e){var r=o(this),n=c(e),s=a(t,r,n);if(s.done)return s.value;var i=r.lastIndex;l(i,0)||(r.lastIndex=0);var p=m(r,n);return l(r.lastIndex,i)||(r.lastIndex=i),null===p?-1:p.index}]}))},66033:(e,t,a)=>{a.r(t),a.d(t,{default:()=>J}),a(52675),a(2008),a(51629),a(67945),a(84185),a(83851),a(81278),a(79432),a(26099),a(60825),a(23500);var r=a(23029),n=a(92901),o=a(56822),s=a(53954),i=a(85501),l=a(64467),c=a(96540),p=a(2543),m=a(58168),u=(a(50113),a(59089),a(69733)),d=(a(94170),a(62010),a(2892),a(27495),a(25440),a(5746),a(57761)),h=a.n(d),v=a(95093),g=a.n(v),b=a(55956),f=a(62493),A=a(55849),w=a(95532),C=a(17375),S=a(26062),E=a(54814),k=a(8426),N=a(31714),T=a(77465);function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){(0,l.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(R=function(){return!!e})()}g().locale("nl");var P=function(e){function t(e){var a,n,i,c;return(0,r.A)(this,t),n=this,i=t,c=[e],i=(0,s.A)(i),a=(0,o.A)(n,R()?Reflect.construct(i,c||[],(0,s.A)(n).constructor):i.apply(n,c)),(0,l.A)(a,"handleInputChange",(function(e){var t=e.target,r="checkbox"===t.type?t.checked:t.value,n=t.name;a.setState(y(y({},a.state),{},{portalSettings:y(y({},a.state.portalSettings),{},(0,l.A)({},n,r))}))})),(0,l.A)(a,"handleSubmit",(function(e){e.preventDefault();var t=a.state.portalSettings,r={},n=!1;t.portalUrl&&!h().isEmpty(t.portalUrl+"")||(r.portalUrl=!0,n=!0),t.portalActive&&h().isEmpty(t.responsibleUserId+"")&&(r.responsibleUserId=!0,n=!0),t.portalActive&&h().isEmpty(t.contactResponsibleOwnerUserId+"")&&(r.contactResponsibleOwnerUserId=!0,n=!0),t.portalActive&&h().isEmpty(t.checkContactTaskResponsible+"")&&(r.checkContactTaskResponsible=!0,n=!0),t.portalActive&&!0===t.showNewAtCooperativeLink&&(null===t.newAtCooperativeLinkText||h().isEmpty(t.newAtCooperativeLinkText))&&(r.newAtCooperativeLinkText=!0,n=!0),!0!==t.showNewAtCooperativeLink&&(t.newAtCooperativeLinkText=null),t.portalActive&&!0===t.showAllowRequestForDelete&&(null===t.allowRequestForDeleteButtonText||h().isEmpty(t.allowRequestForDeleteButtonText))&&(r.allowRequestForDeleteButtonText=!0,n=!0),!0!==t.showAllowRequestForDelete&&(t.allowRequestForDeleteButtonText=null),t.portalActive&&h().isEmpty(t.defaultContactGroupMemberId+"")&&(r.defaultContactGroupMemberId=!0,n=!0),t.portalActive&&h().isEmpty(t.defaultContactGroupNoMemberId+"")&&(r.defaultContactGroupNoMemberId=!0,n=!0),t.portalActive&&(null===t.linkPrivacyPolicy||h().isEmpty(t.linkPrivacyPolicy))&&(r.linkPrivacyPolicy=!0,n=!0),t.portalActive&&null===t.pcrPowerKwhConsumptionPercentage&&(r.pcrPowerKwhConsumptionPercentage=!0,n=!0),t.portalActive&&null===t.pcrGeneratingCapacityOneSolorPanel&&(r.pcrGeneratingCapacityOneSolorPanel=!0,n=!0),t.portalActive&&h().isEmpty(t.emailTemplateNewAccountId+"")&&(r.emailTemplateNewAccountId=!0,n=!0),t.portalActive&&(null===t.portalName||h().isEmpty(t.portalName))&&(r.portalName=!0,n=!0),t.portalActive&&(null===t.cooperativeName||h().isEmpty(t.cooperativeName))&&(r.cooperativeName=!0,n=!0),t.portalActive&&(null===t.portalWebsite||h().isEmpty(t.portalWebsite))&&(r.portalWebsite=!0,n=!0),t.checkContactTaskResponsible.search("user")>=0&&(t.checkContactTaskResponsibleUserId=t.checkContactTaskResponsible.replace("user",""),t.checkContactTaskResponsibleTeamId=""),t.checkContactTaskResponsible.search("team")>=0&&(t.checkContactTaskResponsibleUserId="",t.checkContactTaskResponsibleTeamId=t.checkContactTaskResponsible.replace("team","")),t.portalActive&&h().isEmpty(t.defaultAdministrationId+"")&&(r.defaultAdministrationId=!0,n=!0),a.setState(y(y({},a.state),{},{errors:r})),n||w.A.updatePortalSettings(t).then((function(e){a.props.updateState(e.data.data),a.props.fetchSystemData(),a.props.peekAdministrations(),a.props.fetchStaticContactGroups(),a.props.switchToView()})).catch((function(e){e.response?a.props.setError(e.response.status,e.response.data.message):(console.log(e),alert("Er is iets misgegaan bij opslaan. Herlaad de pagina en probeer het nogmaals."))}))})),a.manageTechnicalPortalSettings="support@econobis.nl"==a.props.meDetails.email||"software@xaris.nl"==a.props.meDetails.email,a.state={portalSettings:y({},e.portalSettings),emailTemplates:y({},e.emailTemplates),administrations:y({},e.administrations),staticContactGroups:y({},e.staticContactGroups),errors:{portalActive:!1,portalName:!1,cooperativeName:!1,portalWebsite:!1,portalLoginInfoText:!1,portalUrl:!1,responsibleUserId:!1,checkContactTaskResponsibleUserId:!1,checkContactTaskResponsibleTeamId:!1,checkContactTaskResponsible:!1,contactResponsibleOwnerUserId:!1,emailTemplateNewAccountId:!1,linkPrivacyPolicy:!1,showNewAtCooperativeLink:!1,newAtCooperativeLinkText:!1,showAllowRequestForDelete:!1,allowRequestForDeleteButtonText:!1,defaultContactGroupMemberId:!1,defaultContactGroupNoMemberId:!1,pcrPowerKwhConsumptionPercentage:!1,pcrGeneratingCapacityOneSolorPanel:!1,defaultAdministrationId:!1}},a.handleReactSelectChange=a.handleReactSelectChange.bind(a),a}return(0,i.A)(t,e),(0,n.A)(t,[{key:"handleReactSelectChange",value:function(e,t){this.setState(y(y({},this.state),{},{portalSettings:y(y({},this.state.portalSettings),{},(0,l.A)({},t,e))}))}},{key:"render",value:function(){var e=this.state.portalSettings,t=e.portalActive,a=e.portalName,r=e.cooperativeName,n=e.portalWebsite,o=e.portalLoginInfoText,s=e.portalUrl,i=e.responsibleUserId,l=e.checkContactTaskResponsible,p=e.contactResponsibleOwnerUserId,m=e.emailTemplateNewAccountId,u=e.linkPrivacyPolicy,d=e.showNewAtCooperativeLink,h=e.newAtCooperativeLinkText,v=e.showAllowRequestForDelete,g=e.allowRequestForDeleteButtonText,w=e.defaultContactGroupMemberId,C=e.defaultContactGroupNoMemberId,S=e.pcrPowerKwhConsumptionPercentage,I=e.pcrGeneratingCapacityOneSolorPanel,y=e.defaultAdministrationId;return c.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},c.createElement(f.A,null,c.createElement(A.A,null,c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Contacten portal URL",divSize:"col-sm-8",name:"portalUrl",value:s,onChangeAction:this.handleInputChange,readOnly:!this.manageTechnicalPortalSettings,required:"required",error:this.state.errors.portalUrl})),c.createElement("hr",null),c.createElement("div",{className:"row"},c.createElement(T.A,{label:"Contacten portal actief",divSize:"col-sm-8",name:"portalActive",value:t,onChangeAction:this.handleInputChange})),c.createElement("div",{className:"row"},c.createElement(N.A,{label:"Verantwoordelijke portal",divSize:"col-sm-8",name:"responsibleUserId",value:Number(i),options:this.props.users,optionName:"fullName",onChangeAction:this.handleReactSelectChange,required:t?"required":"",error:this.state.errors.responsibleUserId})),c.createElement("div",{className:"row"},c.createElement(N.A,{label:"Eigenaar nieuwe contacten",divSize:"col-sm-8",name:"contactResponsibleOwnerUserId",value:Number(p),options:this.props.users,optionName:"fullName",onChangeAction:this.handleReactSelectChange,required:t?"required":"",error:this.state.errors.contactResponsibleOwnerUserId})),c.createElement("div",{className:"row"},c.createElement(k.A,{label:"Verantwoordelijke uitvoeren taak",divSize:"col-sm-8",name:"checkContactTaskResponsible",optionsInGroups:[{name:"user",label:"Gebruikers",options:this.props.users,optionName:"fullName"},{name:"team",label:"Teams",options:this.props.teams}],value:l,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.checkContactTaskResponsible})),c.createElement("div",{className:"row"},c.createElement(T.A,{label:"Nieuwe contacten kunnen account aanmaken",divSize:"col-sm-8",name:"showNewAtCooperativeLink",value:d,onChangeAction:this.handleInputChange})),d?c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Tekst voor het aanmaken nieuw account",divSize:"col-sm-8",name:"newAtCooperativeLinkText",value:h,maxLength:255,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.newAtCooperativeLinkText})):null,c.createElement("div",{className:"row"},c.createElement(T.A,{label:"Verwijderen via portaal toestaan",divSize:"col-sm-8",name:"showAllowRequestForDelete",value:v,onChangeAction:this.handleInputChange})),v?c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Knoptekst voor verwijderen via portaal",divSize:"col-sm-8",name:"allowRequestForDeleteButtonText",value:g,maxLength:50,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.allowRequestForDeleteButtonText})):null,c.createElement("div",{className:"row"},c.createElement(N.A,{label:"Standaard contact groep lid worden",divSize:"col-sm-8",name:"defaultContactGroupMemberId",value:Number(w),options:this.props.staticContactGroups,onChangeAction:this.handleReactSelectChange,required:t?"required":"",error:this.state.errors.defaultContactGroupMemberId})),c.createElement("div",{className:"row"},c.createElement(N.A,{label:"Standaard contact groep geen lid worden",divSize:"col-sm-8",name:"defaultContactGroupNoMemberId",value:Number(C),options:this.props.staticContactGroups,onChangeAction:this.handleReactSelectChange,required:t?"required":"",error:this.state.errors.defaultContactGroupNoMemberId})),c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Privacybeleid link",divSize:"col-sm-8",name:"linkPrivacyPolicy",value:u,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.linkPrivacyPolicy})),c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Advies % te dekken jaarlijks verbruik zonnepanelen",type:"number",min:0,max:100,divSize:"col-sm-8",name:"pcrPowerKwhConsumptionPercentage",value:S,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.pcrPowerKwhConsumptionPercentage})),c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Opbrengstcapaciteit van 1 zonnepaneel",type:"number",divSize:"col-sm-8",name:"pcrGeneratingCapacityOneSolorPanel",value:I,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.pcrGeneratingCapacityOneSolorPanel})),c.createElement("div",{className:"row"},c.createElement(N.A,{label:"E-mail template Nieuwe account activeren",divSize:"col-sm-8",name:"emailTemplateNewAccountId",value:Number(m),options:this.props.emailTemplates,onChangeAction:this.handleReactSelectChange,required:t?"required":"",error:this.state.errors.emailTemplateNewAccountId})),c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Coöperatie portal naam",divSize:"col-sm-8",name:"portalName",value:a,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.portalName})),c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Coöperatie naam",divSize:"col-sm-8",name:"cooperativeName",value:r,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.cooperativeName})),c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Coöperatie website",divSize:"col-sm-8",name:"portalWebsite",value:n,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.portalWebsite})),c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Portaal login informatie tekst",divSize:"col-sm-8",name:"portalLoginInfoText",value:o,onChangeAction:this.handleInputChange,error:this.state.errors.portalLoginInfoText,maxLength:"255"})),c.createElement("div",{className:"row"},c.createElement(N.A,{label:"Standaard administratie / uitgevende instantie",divSize:"col-sm-8",name:"defaultAdministrationId",value:Number(y),options:this.props.administrations,onChangeAction:this.handleReactSelectChange,required:t?"required":"",error:this.state.errors.defaultAdministrationId}))),c.createElement(A.A,null,c.createElement("div",{className:"pull-right btn-group",role:"group"},c.createElement(b.A,{buttonClassName:"btn-default",buttonText:"Sluiten",onClickAction:this.props.switchToView}),c.createElement(b.A,{buttonText:"Opslaan",type:"submit",value:"Submit"})))))}}])}(c.Component);const O=(0,u.Ng)(null,(function(e){return(0,C.zH)({fetchSystemData:S.u},e)}))(P);var G=a(30483);const D=function(e){var t=e.portalActive,a=e.portalName,r=e.cooperativeName,n=e.portalWebsite,o=e.portalLoginInfoText,s=e.portalUrl,i=e.responsibleUser,l=e.checkContactTaskResponsibleUser,p=e.checkContactTaskResponsibleTeam,m=e.contactResponsibleOwnerUser,u=e.emailTemplateNewAccount,d=e.linkPrivacyPolicy,h=e.showNewAtCooperativeLink,v=e.newAtCooperativeLinkText,g=e.showAllowRequestForDelete,b=e.allowRequestForDeleteButtonText,w=e.defaultContactGroupMember,C=e.defaultContactGroupNoMember,S=e.pcrPowerKwhConsumptionPercentage,E=e.pcrGeneratingCapacityOneSolorPanel,k=e.defaultAdministration,N=e.switchToEdit;return e.imageHash,c.createElement("div",{onClick:N},c.createElement(f.A,null,c.createElement(A.A,null,c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Contacten portal URL",divSize:"col-sm-8",value:s,className:"col-sm-8 form-group"})),c.createElement("hr",null),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Contacten portal actief",divSize:"col-sm-8",value:t?"Ja":"Nee",className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Verantwoordelijke portal",divSize:"col-sm-8",value:i?i.fullName:"",className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Eigenaar nieuwe contacten",divSize:"col-sm-8",value:m?m.fullName:"",className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Verantwoordelijke uitvoeren taak",divSize:"col-sm-8",value:l?l.fullName:p?p.name:"",className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Nieuwe contacten kunnen account aanmaken",divSize:"col-sm-8",value:h?"Ja":"Nee",className:"col-sm-8 form-group"})),h?c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Tekst voor het aanmaken nieuw account",divSize:"col-sm-8",value:v,className:"col-sm-8 form-group"})):null,c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Verwijderen via portaal toestaan",divSize:"col-sm-8",value:g?"Ja":"Nee",className:"col-sm-8 form-group"})),g?c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Knoptekst voor verwijderen via portaal",divSize:"col-sm-8",value:b,className:"col-sm-8 form-group"})):null,c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Standaard contact groep lid worden",divSize:"col-sm-8",value:w?w.name:"",className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Standaard contact groep geen lid worden",divSize:"col-sm-8",value:C?C.name:"",className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Privacybeleid link",divSize:"col-sm-8",value:d,className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Advies % te dekken jaarlijks verbruik zonnepanelen",divSize:"col-sm-8",value:S,className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Opbrengstcapaciteit van 1 zonnepaneel",divSize:"col-sm-8",value:E,className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Email template Nieuwe account activeren",divSize:"col-sm-8",value:u?u.name:"",className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Coöperatie portal naam",divSize:"col-sm-8",value:a,className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Coöperatie naam",divSize:"col-sm-8",value:r,className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Coöperatie website",divSize:"col-sm-8",value:n,className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Portaal login informatie tekst",divSize:"col-sm-8",value:o,className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Standaard administratie / uitgevende instantie",divSize:"col-sm-8",value:k?k.name:"",className:"col-sm-8 form-group"})))))};var U=a(6438),q=a(60738),z=a(49932);function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(x=function(){return!!e})()}var j=function(e){function t(e){var a,n,i,c;return(0,r.A)(this,t),n=this,i=t,c=[e],i=(0,s.A)(i),a=(0,o.A)(n,x()?Reflect.construct(i,c||[],(0,s.A)(n).constructor):i.apply(n,c)),(0,l.A)(a,"peekAdministrations",(function(){z.A.peekAdministrations().then((function(e){a.setState({administrations:e})}))})),(0,l.A)(a,"fetchStaticContactGroups",(function(){q.A.peekStaticContactGroups().then((function(e){a.setState({staticContactGroups:e})}))})),(0,l.A)(a,"switchToEdit",(function(){a.setState({showEdit:!0})})),(0,l.A)(a,"switchToView",(function(){a.setState({imageHash:Date.now(),showEdit:!1,activeDiv:""})})),a.state={emailTemplates:[],administrations:[],staticContactGroups:[],imageHash:Date.now(),showEdit:!1,activeDiv:""},a}return(0,i.A)(t,e),(0,n.A)(t,[{key:"componentDidMount",value:function(){var e=this;U.A.fetchEmailTemplatesPeek().then((function(t){e.setState({emailTemplates:t})})),this.peekAdministrations(),this.fetchStaticContactGroups()}},{key:"onDivEnter",value:function(){this.setState({activeDiv:"panel-grey"})}},{key:"onDivLeave",value:function(){this.state.showEdit||this.setState({activeDiv:""})}},{key:"render",value:function(){var e=this,t=this.props.meDetails.permissions,a=void 0===t?{}:t;return this.props.portalSettings.responsibleUser="",this.props.portalSettings.responsibleUserId&&0!=this.props.portalSettings.responsibleUserId&&(this.props.portalSettings.responsibleUser=this.props.usersAll.find((function(t){return t.id==e.props.portalSettings.responsibleUserId}))),this.props.portalSettings.contactResponsibleOwnerUser="",this.props.portalSettings.contactResponsibleOwnerUserId&&0!=this.props.portalSettings.contactResponsibleOwnerUserId&&(this.props.portalSettings.contactResponsibleOwnerUser=this.props.usersAll.find((function(t){return t.id==e.props.portalSettings.contactResponsibleOwnerUserId}))),this.props.portalSettings.emailTemplateNewAccount="",this.props.portalSettings.emailTemplateNewAccountId&&0!=this.props.portalSettings.emailTemplateNewAccountId&&(this.props.portalSettings.emailTemplateNewAccount=this.state.emailTemplates.find((function(t){return t.id==e.props.portalSettings.emailTemplateNewAccountId}))),this.props.portalSettings.defaultContactGroupMember="",this.props.portalSettings.defaultContactGroupMemberId&&0!=this.props.portalSettings.defaultContactGroupMemberId&&(this.props.portalSettings.defaultContactGroupMember=this.state.staticContactGroups.find((function(t){return t.id==e.props.portalSettings.defaultContactGroupMemberId}))),this.props.portalSettings.defaultContactGroupNoMember="",this.props.portalSettings.defaultContactGroupNoMemberId&&0!=this.props.portalSettings.defaultContactGroupNoMemberId&&(this.props.portalSettings.defaultContactGroupNoMember=this.state.staticContactGroups.find((function(t){return t.id==e.props.portalSettings.defaultContactGroupNoMemberId}))),this.props.portalSettings.checkContactTaskResponsible="",this.props.portalSettings.checkContactTaskResponsibleUser=null,this.props.portalSettings.checkContactTaskResponsibleTeam=null,this.props.portalSettings.checkContactTaskResponsibleUserId&&0!=this.props.portalSettings.checkContactTaskResponsibleUserId&&(this.props.portalSettings.checkContactTaskResponsible="user"+this.props.portalSettings.checkContactTaskResponsibleUserId,this.props.portalSettings.checkContactTaskResponsibleUser=this.props.usersAll.find((function(t){return t.id==e.props.portalSettings.checkContactTaskResponsibleUserId}))),this.props.portalSettings.checkContactTaskResponsibleTeamId&&0!=this.props.portalSettings.checkContactTaskResponsibleTeamId&&(this.props.portalSettings.checkContactTaskResponsible="team"+this.props.portalSettings.checkContactTaskResponsibleTeamId,this.props.portalSettings.checkContactTaskResponsibleTeam=this.props.teams.find((function(t){return t.id==e.props.portalSettings.checkContactTaskResponsibleTeamId}))),this.props.portalSettings.defaultAdministration="",this.props.portalSettings.defaultAdministrationId&&0!=this.props.portalSettings.defaultAdministrationId&&(this.props.portalSettings.defaultAdministration=this.state.administrations.find((function(t){return t.id==e.props.portalSettings.defaultAdministrationId}))),c.createElement("div",{className:this.state.activeDiv,onMouseEnter:function(){return e.onDivEnter()},onMouseLeave:function(){return e.onDivLeave()}},this.state.showEdit&&a.managePortalSettings?c.createElement(O,{portalSettings:this.props.portalSettings,emailTemplates:this.state.emailTemplates,administrations:this.state.administrations,staticContactGroups:this.state.staticContactGroups,switchToView:this.switchToView,peekAdministrations:this.peekAdministrations,fetchStaticContactGroups:this.fetchStaticContactGroups,imageHash:this.state.imageHash,updateState:this.props.updateState,users:this.props.users,teams:this.props.teams,meDetails:this.props.meDetails}):c.createElement(D,(0,m.A)({},this.props.portalSettings,{switchToEdit:this.switchToEdit,imageHash:this.state.imageHash})))}}])}(c.Component);const L=(0,u.Ng)((function(e){return{emailTemplates:e.emailTemplates,administrations:e.administrations,staticContactGroups:e.staticContactGroups,meDetails:e.meDetails,permissions:e.meDetails.permissions,teams:e.systemData.teams,usersAll:e.systemData.usersAll,users:e.systemData.users}}))(j),M=function(e){var t=e.portalSettings,a=e.hasError,r=e.isLoading,n=e.updateState,o=(e.emailTemplates,""),s=!0;return a?o="Fout bij het ophalen van portal instellingen.":r?o="Gegevens aan het laden.":(0,p.isEmpty)(t)?o="Geen portal instellingen gevonden!":s=!1,s?c.createElement("div",null,o):c.createElement("div",null,c.createElement(L,{portalSettings:t,updateState:n}))};var F=a(47767),B=a(91858);const V=function(){var e=(0,F.Zp)();return c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-4"},c.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},c.createElement(B.A,{iconName:"arrowLeft",onClickAction:function(){return e(-1)}}))),c.createElement("div",{className:"col-md-4"},c.createElement("h4",{className:"text-center"},"Portal instellingen")),c.createElement("div",{className:"col-md-4"}))};function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function H(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(Object(a),!0).forEach((function(t){(0,l.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(W=function(){return!!e})()}const J=function(e){function t(e){var a,n,i,c;return(0,r.A)(this,t),n=this,i=t,c=[e],i=(0,s.A)(i),a=(0,o.A)(n,W()?Reflect.construct(i,c||[],(0,s.A)(n).constructor):i.apply(n,c)),(0,l.A)(a,"callFetchPortalSettingsDetails",(function(){a.setState({isLoading:!0,hasError:!1}),w.A.fetchPortalSettingsDetails(1).then((function(e){a.setState({isLoading:!1,portalSettings:H({},e.data.data)})})).catch((function(e){a.setState({isLoading:!1,hasError:!0})}))})),(0,l.A)(a,"updateState",(function(e){a.setState({portalSettings:H({},e)})})),a.state={portalSettings:{},isLoading:!1,hasError:!1},a}return(0,i.A)(t,e),(0,n.A)(t,[{key:"componentDidMount",value:function(){this.callFetchPortalSettingsDetails()}},{key:"render",value:function(){return c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-9"},c.createElement("div",{className:"col-md-12 margin-10-top"},c.createElement(f.A,null,c.createElement(A.A,{className:"panel-small"},c.createElement(V,null)))),c.createElement("div",{className:"col-md-12 margin-10-top"},c.createElement(M,{portalSettings:this.state.portalSettings,isLoading:this.state.isLoading,hasError:this.state.hasError,updateState:this.updateState}))),c.createElement("div",{className:"col-md-3"}))}}])}(c.Component)},95532:(e,t,a)=>{a.d(t,{A:()=>n}),a(28706);var r=a(61941);const n={fetchPortalSettingsDetails:function(e){var t="jory/portal-settings/".concat(e);return(0,r.A)().get(t,{params:{jory:{fld:["id","portalActive","portalName","cooperativeName","portalLoginInfoText","portalWebsite","portalUrl","responsibleUserId","contactResponsibleOwnerUserId","checkContactTaskResponsibleUserId","checkContactTaskResponsibleTeamId","emailTemplateNewAccountId","linkPrivacyPolicy","showNewAtCooperativeLink","newAtCooperativeLinkText","showAllowRequestForDelete","allowRequestForDeleteButtonText","pcrPowerKwhConsumptionPercentage","pcrGeneratingCapacityOneSolorPanel","defaultContactGroupMemberId","defaultContactGroupNoMemberId","defaultAdministrationId"],rlt:{responsibleUser:[],contactResponsibleOwnerUser:[],checkContactTaskResponsibleUser:[],checkContactTaskResponsibleTeam:[],emailTemplateNewAccount:[],defaultContactGroupMember:[],defaultContactGroupNoMember:[],defaultAdministration:[]}}}})},updatePortalSettings:function(e){var t="".concat("portal-settings","/").concat(e.id);return(0,r.A)().post(t,e)}}}}]);