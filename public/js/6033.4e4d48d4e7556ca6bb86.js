"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[6033],{3470:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},5746:(e,t,a)=>{var n=a(69565),r=a(89228),o=a(28551),s=a(64117),i=a(67750),l=a(3470),c=a(655),p=a(55966),m=a(56682);r("search",(function(e,t,a){return[function(t){var a=i(this),r=s(t)?void 0:p(t,e);return r?n(r,t,a):new RegExp(t)[e](c(a))},function(e){var n=o(this),r=c(e),s=a(t,n,r);if(s.done)return s.value;var i=n.lastIndex;l(i,0)||(n.lastIndex=0);var p=m(n,r);return l(n.lastIndex,i)||(n.lastIndex=i),null===p?-1:p.index}]}))},52703:(e,t,a)=>{var n=a(44576),r=a(79039),o=a(79504),s=a(655),i=a(43802).trim,l=a(47452),c=n.parseInt,p=n.Symbol,m=p&&p.iterator,u=/^[+-]?0x/i,d=o(u.exec),h=8!==c(l+"08")||22!==c(l+"0x16")||m&&!r((function(){c(Object(m))}));e.exports=h?function(e,t){var a=i(s(e));return c(a,t>>>0||(d(u,a)?16:10))}:c},58940:(e,t,a)=>{var n=a(46518),r=a(52703);n({global:!0,forced:parseInt!==r},{parseInt:r})},66033:(e,t,a)=>{a.r(t),a.d(t,{default:()=>J}),a(52675),a(2008),a(51629),a(67945),a(84185),a(83851),a(81278),a(79432),a(26099),a(60825),a(23500);var n=a(23029),r=a(92901),o=a(56822),s=a(53954),i=a(85501),l=a(64467),c=a(96540),p=a(2543),m=a(58168),u=(a(50113),a(59089),a(69733)),d=(a(94170),a(62010),a(2892),a(58940),a(27495),a(25440),a(5746),a(57761)),h=a.n(d),v=a(95093),g=a.n(v),b=a(55956),f=a(62493),A=a(55849),C=a(95532),w=a(17375),k=a(26062),S=a(54814),N=a(8426),E=a(31714),I=a(77465);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,l.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(P=function(){return!!e})()}g().locale("nl");var R=function(e){function t(e){var a,r,i,c;return(0,n.A)(this,t),r=this,i=t,c=[e],i=(0,s.A)(i),a=(0,o.A)(r,P()?Reflect.construct(i,c||[],(0,s.A)(r).constructor):i.apply(r,c)),(0,l.A)(a,"handleInputChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(T(T({},a.state),{},{portalSettings:T(T({},a.state.portalSettings),{},(0,l.A)({},r,n))}))})),(0,l.A)(a,"handleSubmit",(function(e){e.preventDefault();var t=a.state.portalSettings,n={},r=!1;h().isEmpty(t.portalUrl)&&(n.portalUrl=!0,r=!0),t.portalActive&&h().isEmpty(t.responsibleUserId+"")&&(n.responsibleUserId=!0,r=!0),t.portalActive&&h().isEmpty(t.contactResponsibleOwnerUserId+"")&&(n.contactResponsibleOwnerUserId=!0,r=!0),t.portalActive&&h().isEmpty(t.checkContactTaskResponsible+"")&&(n.checkContactTaskResponsible=!0,r=!0),t.portalActive&&h().isEmpty(t.newAtCooperativeLinkText)&&(n.newAtCooperativeLinkText=!0,r=!0),t.portalActive&&h().isEmpty(t.defaultContactGroupMemberId+"")&&(n.defaultContactGroupMemberId=!0,r=!0),t.portalActive&&h().isEmpty(t.defaultContactGroupNoMemberId+"")&&(n.defaultContactGroupNoMemberId=!0,r=!0),t.portalActive&&h().isEmpty(t.linkPrivacyPolicy)&&(n.linkPrivacyPolicy=!0,r=!0),t.portalActive&&h().isEmpty(t.pcrPowerKwhConsumptionPercentage+"")&&(n.pcrPowerKwhConsumptionPercentage=!0,r=!0),t.portalActive&&h().isEmpty(t.pcrGeneratingCapacityOneSolorPanel)&&(n.pcrGeneratingCapacityOneSolorPanel=!0,r=!0),t.portalActive&&h().isEmpty(t.emailTemplateNewAccountId+"")&&(n.emailTemplateNewAccountId=!0,r=!0),t.portalActive&&h().isEmpty(t.portalName)&&(n.portalName=!0,r=!0),t.portalActive&&h().isEmpty(t.cooperativeName)&&(n.cooperativeName=!0,r=!0),t.portalActive&&h().isEmpty(t.portalWebsite)&&(n.portalWebsite=!0,r=!0),t.checkContactTaskResponsible.search("user")>=0&&(t.checkContactTaskResponsibleUserId=t.checkContactTaskResponsible.replace("user",""),t.checkContactTaskResponsibleTeamId=""),t.checkContactTaskResponsible.search("team")>=0&&(t.checkContactTaskResponsibleUserId="",t.checkContactTaskResponsibleTeamId=t.checkContactTaskResponsible.replace("team","")),t.portalActive&&h().isEmpty(t.defaultAdministrationId+"")&&(n.defaultAdministrationId=!0,r=!0);var o=new FormData;o.append("portalActive",!!t.portalActive&&t.portalActive),o.append("portalName",t.portalName?t.portalName:""),o.append("cooperativeName",t.cooperativeName?t.cooperativeName:""),o.append("portalWebsite",t.portalWebsite?t.portalWebsite:""),o.append("portalLoginInfoText",t.portalLoginInfoText?t.portalLoginInfoText:""),o.append("portalUrl",t.portalUrl),o.append("responsibleUserId",t.responsibleUserId?t.responsibleUserId:""),o.append("checkContactTaskResponsibleUserId",t.checkContactTaskResponsibleUserId?t.checkContactTaskResponsibleUserId:""),o.append("checkContactTaskResponsibleTeamId",t.checkContactTaskResponsibleTeamId?t.checkContactTaskResponsibleTeamId:""),o.append("contactResponsibleOwnerUserId",t.contactResponsibleOwnerUserId?t.contactResponsibleOwnerUserId:""),o.append("emailTemplateNewAccountId",t.emailTemplateNewAccountId?t.emailTemplateNewAccountId:""),o.append("linkPrivacyPolicy",t.linkPrivacyPolicy?t.linkPrivacyPolicy:""),o.append("showNewAtCooperativeLink",!!t.showNewAtCooperativeLink&&t.showNewAtCooperativeLink),o.append("newAtCooperativeLinkText",t.newAtCooperativeLinkText?t.newAtCooperativeLinkText:""),o.append("defaultContactGroupMemberId",t.defaultContactGroupMemberId?t.defaultContactGroupMemberId:""),o.append("defaultContactGroupNoMemberId",t.defaultContactGroupNoMemberId?t.defaultContactGroupNoMemberId:""),o.append("pcrPowerKwhConsumptionPercentage",t.pcrPowerKwhConsumptionPercentage?parseInt(t.pcrPowerKwhConsumptionPercentage)/100:0),o.append("pcrGeneratingCapacityOneSolorPanel",t.pcrGeneratingCapacityOneSolorPanel?t.pcrGeneratingCapacityOneSolorPanel:0),o.append("defaultAdministrationId",t.defaultAdministrationId?t.defaultAdministrationId:""),a.setState(T(T({},a.state),{},{errors:n})),!r&&C.A.updatePortalSettings(o).then((function(e){a.props.updateState(e.data),a.props.fetchSystemData(),a.props.peekAdministrations(),a.props.fetchStaticContactGroups(),a.props.switchToView()})).catch((function(e){console.log(e),alert("Er is iets misgegaan bij opslaan. Herlaad de pagina en probeer het nogmaals.")}))})),a.manageTechnicalPortalSettings="support@econobis.nl"==a.props.meDetails.email||"software@xaris.nl"==a.props.meDetails.email,a.state={portalSettings:T({},e.portalSettings),emailTemplates:T({},e.emailTemplates),administrations:T({},e.administrations),staticContactGroups:T({},e.staticContactGroups),errors:{portalActive:!1,portalName:!1,cooperativeName:!1,portalWebsite:!1,portalLoginInfoText:!1,portalUrl:!1,responsibleUserId:!1,checkContactTaskResponsibleUserId:!1,checkContactTaskResponsibleTeamId:!1,checkContactTaskResponsible:!1,contactResponsibleOwnerUserId:!1,emailTemplateNewAccountId:!1,linkPrivacyPolicy:!1,showNewAtCooperativeLink:!1,newAtCooperativeLinkText:!1,defaultContactGroupMemberId:!1,defaultContactGroupNoMemberId:!1,pcrPowerKwhConsumptionPercentage:!1,pcrGeneratingCapacityOneSolorPanel:!1,defaultAdministrationId:!1}},a.handleReactSelectChange=a.handleReactSelectChange.bind(a),a}return(0,i.A)(t,e),(0,r.A)(t,[{key:"handleReactSelectChange",value:function(e,t){this.setState(T(T({},this.state),{},{portalSettings:T(T({},this.state.portalSettings),{},(0,l.A)({},t,e))}))}},{key:"render",value:function(){var e=this.state.portalSettings,t=e.portalActive,a=e.portalName,n=e.cooperativeName,r=e.portalWebsite,o=e.portalLoginInfoText,s=e.portalUrl,i=e.responsibleUserId,l=e.checkContactTaskResponsible,p=e.contactResponsibleOwnerUserId,m=e.emailTemplateNewAccountId,u=e.linkPrivacyPolicy,d=e.showNewAtCooperativeLink,h=e.newAtCooperativeLinkText,v=e.defaultContactGroupMemberId,g=e.defaultContactGroupNoMemberId,C=e.pcrPowerKwhConsumptionPercentage,w=e.pcrGeneratingCapacityOneSolorPanel,k=e.defaultAdministrationId;return c.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},c.createElement(f.A,null,c.createElement(A.A,null,c.createElement("div",{className:"row"},c.createElement(S.A,{label:"Contacten portal URL",divSize:"col-sm-8",name:"portalUrl",value:s,onChangeAction:this.handleInputChange,readOnly:!this.manageTechnicalPortalSettings,required:"required",error:this.state.errors.portalUrl})),c.createElement("hr",null),c.createElement("div",{className:"row"},c.createElement(I.A,{label:"Contacten portal actief",divSize:"col-sm-8",name:"portalActive",value:t,onChangeAction:this.handleInputChange})),c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Verantwoordelijke portal",divSize:"col-sm-8",name:"responsibleUserId",value:Number(i),options:this.props.users,optionName:"fullName",onChangeAction:this.handleReactSelectChange,required:t?"required":"",error:this.state.errors.responsibleUserId})),c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Eigenaar nieuwe contacten",divSize:"col-sm-8",name:"contactResponsibleOwnerUserId",value:Number(p),options:this.props.users,optionName:"fullName",onChangeAction:this.handleReactSelectChange,required:t?"required":"",error:this.state.errors.contactResponsibleOwnerUserId})),c.createElement("div",{className:"row"},c.createElement(N.A,{label:"Verantwoordelijke uitvoeren taak",divSize:"col-sm-8",name:"checkContactTaskResponsible",optionsInGroups:[{name:"user",label:"Gebruikers",options:this.props.users,optionName:"fullName"},{name:"team",label:"Teams",options:this.props.teams}],value:l,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.checkContactTaskResponsible})),c.createElement("div",{className:"row"},c.createElement(I.A,{label:"Nieuwe contacten kunnen account aanmaken",divSize:"col-sm-8",name:"showNewAtCooperativeLink",value:d,onChangeAction:this.handleInputChange})),d?c.createElement("div",{className:"row"},c.createElement(S.A,{label:"Tekst voor het aanmaken nieuw account",divSize:"col-sm-8",name:"newAtCooperativeLinkText",value:h,maxLength:255,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.newAtCooperativeLinkText})):null,c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Standaard contact groep lid worden",divSize:"col-sm-8",name:"defaultContactGroupMemberId",value:Number(v),options:this.props.staticContactGroups,onChangeAction:this.handleReactSelectChange,required:t?"required":"",error:this.state.errors.defaultContactGroupMemberId})),c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Standaard contact groep geen lid worden",divSize:"col-sm-8",name:"defaultContactGroupNoMemberId",value:Number(g),options:this.props.staticContactGroups,onChangeAction:this.handleReactSelectChange,required:t?"required":"",error:this.state.errors.defaultContactGroupNoMemberId})),c.createElement("div",{className:"row"},c.createElement(S.A,{label:"Privacybeleid link",divSize:"col-sm-8",name:"linkPrivacyPolicy",value:u,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.linkPrivacyPolicy})),c.createElement("div",{className:"row"},c.createElement(S.A,{label:"Advies % te dekken jaarlijks verbruik zonnepanelen",type:"number",min:0,max:100,divSize:"col-sm-8",name:"pcrPowerKwhConsumptionPercentage",value:C,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.pcrPowerKwhConsumptionPercentage})),c.createElement("div",{className:"row"},c.createElement(S.A,{label:"Opbrengstcapaciteit van 1 zonnepaneel",type:"number",divSize:"col-sm-8",name:"pcrGeneratingCapacityOneSolorPanel",value:w,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.pcrGeneratingCapacityOneSolorPanel})),c.createElement("div",{className:"row"},c.createElement(E.A,{label:"E-mail template Nieuwe account activeren",divSize:"col-sm-8",name:"emailTemplateNewAccountId",value:Number(m),options:this.props.emailTemplates,onChangeAction:this.handleReactSelectChange,required:t?"required":"",error:this.state.errors.emailTemplateNewAccountId})),c.createElement("div",{className:"row"},c.createElement(S.A,{label:"Coöperatie portal naam",divSize:"col-sm-8",name:"portalName",value:a,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.portalName})),c.createElement("div",{className:"row"},c.createElement(S.A,{label:"Coöperatie naam",divSize:"col-sm-8",name:"cooperativeName",value:n,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.cooperativeName})),c.createElement("div",{className:"row"},c.createElement(S.A,{label:"Coöperatie website",divSize:"col-sm-8",name:"portalWebsite",value:r,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.portalWebsite})),c.createElement("div",{className:"row"},c.createElement(S.A,{label:"Portaal login informatie tekst",divSize:"col-sm-8",name:"portalLoginInfoText",value:o,onChangeAction:this.handleInputChange,error:this.state.errors.portalLoginInfoText,maxLength:"255"})),c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Standaard administratie / uitgevende instantie",divSize:"col-sm-8",name:"defaultAdministrationId",value:Number(k),options:this.props.administrations,onChangeAction:this.handleReactSelectChange,required:t?"required":"",error:this.state.errors.defaultAdministrationId}))),c.createElement(A.A,null,c.createElement("div",{className:"pull-right btn-group",role:"group"},c.createElement(b.A,{buttonClassName:"btn-default",buttonText:"Sluiten",onClickAction:this.props.switchToView}),c.createElement(b.A,{buttonText:"Opslaan",type:"submit",value:"Submit"})))))}}])}(c.Component);const O=(0,u.Ng)(null,(function(e){return(0,w.zH)({fetchSystemData:k.u},e)}))(R);var G=a(30483);const U=function(e){var t=e.portalActive,a=e.portalName,n=e.cooperativeName,r=e.portalWebsite,o=e.portalLoginInfoText,s=e.portalUrl,i=e.responsibleUser,l=e.checkContactTaskResponsibleUser,p=e.checkContactTaskResponsibleTeam,m=e.contactResponsibleOwnerUser,u=e.emailTemplateNewAccount,d=e.linkPrivacyPolicy,h=e.showNewAtCooperativeLink,v=e.newAtCooperativeLinkText,g=e.defaultContactGroupMember,b=e.defaultContactGroupNoMember,C=e.pcrPowerKwhConsumptionPercentage,w=e.pcrGeneratingCapacityOneSolorPanel,k=e.defaultAdministration,S=e.switchToEdit;return e.imageHash,c.createElement("div",{onClick:S},c.createElement(f.A,null,c.createElement(A.A,null,c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Contacten portal URL",divSize:"col-sm-8",value:s,className:"col-sm-8 form-group"})),c.createElement("hr",null),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Contacten portal actief",divSize:"col-sm-8",value:t?"Ja":"Nee",className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Verantwoordelijke portal",divSize:"col-sm-8",value:i?i.fullName:"",className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Eigenaar nieuwe contacten",divSize:"col-sm-8",value:m?m.fullName:"",className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Verantwoordelijke uitvoeren taak",divSize:"col-sm-8",value:l?l.fullName:p?p.name:"",className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Nieuwe contacten kunnen account aanmaken",divSize:"col-sm-8",value:h?"Ja":"Nee",className:"col-sm-8 form-group"})),h?c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Tekst voor het aanmaken nieuw account",divSize:"col-sm-8",value:v,className:"col-sm-8 form-group"})):null,c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Standaard contact groep lid worden",divSize:"col-sm-8",value:g?g.name:"",className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Standaard contact groep geen lid worden",divSize:"col-sm-8",value:b?b.name:"",className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Privacybeleid link",divSize:"col-sm-8",value:d,className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Advies % te dekken jaarlijks verbruik zonnepanelen",divSize:"col-sm-8",value:C,className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Opbrengstcapaciteit van 1 zonnepaneel",divSize:"col-sm-8",value:w,className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Email template Nieuwe account activeren",divSize:"col-sm-8",value:u?u.name:"",className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Coöperatie portal naam",divSize:"col-sm-8",value:a,className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Coöperatie naam",divSize:"col-sm-8",value:n,className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Coöperatie website",divSize:"col-sm-8",value:r,className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Portaal login informatie tekst",divSize:"col-sm-8",value:o,className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Standaard administratie / uitgevende instantie",divSize:"col-sm-8",value:k?k.name:"",className:"col-sm-8 form-group"})))))};var L=a(6438),z=a(60738),x=a(49932);function D(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(D=function(){return!!e})()}var M=function(e){function t(e){var a,r,i,c;return(0,n.A)(this,t),r=this,i=t,c=[e],i=(0,s.A)(i),a=(0,o.A)(r,D()?Reflect.construct(i,c||[],(0,s.A)(r).constructor):i.apply(r,c)),(0,l.A)(a,"peekAdministrations",(function(){x.A.peekAdministrations().then((function(e){a.setState({administrations:e})}))})),(0,l.A)(a,"fetchStaticContactGroups",(function(){z.A.peekStaticContactGroups().then((function(e){a.setState({staticContactGroups:e})}))})),(0,l.A)(a,"switchToEdit",(function(){a.setState({showEdit:!0})})),(0,l.A)(a,"switchToView",(function(){a.setState({imageHash:Date.now(),showEdit:!1,activeDiv:""})})),a.state={emailTemplates:[],administrations:[],staticContactGroups:[],imageHash:Date.now(),showEdit:!1,activeDiv:""},a}return(0,i.A)(t,e),(0,r.A)(t,[{key:"componentDidMount",value:function(){var e=this;L.A.fetchEmailTemplatesPeek().then((function(t){e.setState({emailTemplates:t})})),this.peekAdministrations(),this.fetchStaticContactGroups()}},{key:"onDivEnter",value:function(){this.setState({activeDiv:"panel-grey"})}},{key:"onDivLeave",value:function(){this.state.showEdit||this.setState({activeDiv:""})}},{key:"render",value:function(){var e=this,t=this.props.meDetails.permissions,a=void 0===t?{}:t;return this.props.portalSettings.responsibleUser="",this.props.portalSettings.responsibleUserId&&0!=this.props.portalSettings.responsibleUserId&&(this.props.portalSettings.responsibleUser=this.props.usersAll.find((function(t){return t.id==e.props.portalSettings.responsibleUserId}))),this.props.portalSettings.contactResponsibleOwnerUser="",this.props.portalSettings.contactResponsibleOwnerUserId&&0!=this.props.portalSettings.contactResponsibleOwnerUserId&&(this.props.portalSettings.contactResponsibleOwnerUser=this.props.usersAll.find((function(t){return t.id==e.props.portalSettings.contactResponsibleOwnerUserId}))),this.props.portalSettings.emailTemplateNewAccount="",this.props.portalSettings.emailTemplateNewAccountId&&0!=this.props.portalSettings.emailTemplateNewAccountId&&(this.props.portalSettings.emailTemplateNewAccount=this.state.emailTemplates.find((function(t){return t.id==e.props.portalSettings.emailTemplateNewAccountId}))),this.props.portalSettings.defaultContactGroupMember="",this.props.portalSettings.defaultContactGroupMemberId&&0!=this.props.portalSettings.defaultContactGroupMemberId&&(this.props.portalSettings.defaultContactGroupMember=this.state.staticContactGroups.find((function(t){return t.id==e.props.portalSettings.defaultContactGroupMemberId}))),this.props.portalSettings.defaultContactGroupNoMember="",this.props.portalSettings.defaultContactGroupNoMemberId&&0!=this.props.portalSettings.defaultContactGroupNoMemberId&&(this.props.portalSettings.defaultContactGroupNoMember=this.state.staticContactGroups.find((function(t){return t.id==e.props.portalSettings.defaultContactGroupNoMemberId}))),this.props.portalSettings.checkContactTaskResponsible="",this.props.portalSettings.checkContactTaskResponsibleUser=null,this.props.portalSettings.checkContactTaskResponsibleTeam=null,this.props.portalSettings.checkContactTaskResponsibleUserId&&0!=this.props.portalSettings.checkContactTaskResponsibleUserId&&(this.props.portalSettings.checkContactTaskResponsible="user"+this.props.portalSettings.checkContactTaskResponsibleUserId,this.props.portalSettings.checkContactTaskResponsibleUser=this.props.usersAll.find((function(t){return t.id==e.props.portalSettings.checkContactTaskResponsibleUserId}))),this.props.portalSettings.checkContactTaskResponsibleTeamId&&0!=this.props.portalSettings.checkContactTaskResponsibleTeamId&&(this.props.portalSettings.checkContactTaskResponsible="team"+this.props.portalSettings.checkContactTaskResponsibleTeamId,this.props.portalSettings.checkContactTaskResponsibleTeam=this.props.teams.find((function(t){return t.id==e.props.portalSettings.checkContactTaskResponsibleTeamId}))),this.props.portalSettings.defaultAdministration="",this.props.portalSettings.defaultAdministrationId&&0!=this.props.portalSettings.defaultAdministrationId&&(this.props.portalSettings.defaultAdministration=this.state.administrations.find((function(t){return t.id==e.props.portalSettings.defaultAdministrationId}))),c.createElement("div",{className:this.state.activeDiv,onMouseEnter:function(){return e.onDivEnter()},onMouseLeave:function(){return e.onDivLeave()}},this.state.showEdit&&a.managePortalSettings?c.createElement(O,{portalSettings:this.props.portalSettings,emailTemplates:this.state.emailTemplates,administrations:this.state.administrations,staticContactGroups:this.state.staticContactGroups,switchToView:this.switchToView,peekAdministrations:this.peekAdministrations,fetchStaticContactGroups:this.fetchStaticContactGroups,imageHash:this.state.imageHash,updateState:this.props.updateState,users:this.props.users,teams:this.props.teams,meDetails:this.props.meDetails}):c.createElement(U,(0,m.A)({},this.props.portalSettings,{switchToEdit:this.switchToEdit,imageHash:this.state.imageHash})))}}])}(c.Component);const j=(0,u.Ng)((function(e){return{emailTemplates:e.emailTemplates,administrations:e.administrations,staticContactGroups:e.staticContactGroups,meDetails:e.meDetails,permissions:e.meDetails.permissions,teams:e.systemData.teams,usersAll:e.systemData.usersAll,users:e.systemData.users}}))(M),q=function(e){var t=e.portalSettings,a=e.hasError,n=e.isLoading,r=e.updateState,o=(e.emailTemplates,""),s=!0;return a?o="Fout bij het ophalen van portal instellingen.":n?o="Gegevens aan het laden.":(0,p.isEmpty)(t)?o="Geen portal instellingen gevonden!":s=!1,s?c.createElement("div",null,o):c.createElement("div",null,c.createElement(j,{portalSettings:t,updateState:r}))};var K=a(47767),W=a(91858);const H=function(){var e=(0,K.Zp)();return c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-4"},c.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},c.createElement(W.A,{iconName:"arrowLeft",onClickAction:function(){return e(-1)}}))),c.createElement("div",{className:"col-md-4"},c.createElement("h4",{className:"text-center"},"Portal instellingen")),c.createElement("div",{className:"col-md-4"}))};function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){(0,l.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(F=function(){return!!e})()}const J=function(e){function t(e){var a,r,i,c;return(0,n.A)(this,t),r=this,i=t,c=[e],i=(0,s.A)(i),a=(0,o.A)(r,F()?Reflect.construct(i,c||[],(0,s.A)(r).constructor):i.apply(r,c)),(0,l.A)(a,"callFetchPortalSettings",(function(){a.setState({isLoading:!0,hasError:!1}),C.A.fetchPortalSettings("?keys[]=portalActive&keys[]=portalName&keys[]=cooperativeName&keys[]=portalWebsite&keys[]=portalLoginInfoText&keys[]=portalUrl&keys[]=responsibleUserId&keys[]=checkContactTaskResponsibleUserId&keys[]=checkContactTaskResponsibleTeamId&keys[]=contactResponsibleOwnerUserId&keys[]=emailTemplateNewAccountId&keys[]=linkPrivacyPolicy&keys[]=showNewAtCooperativeLink&keys[]=newAtCooperativeLinkText&keys[]=defaultContactGroupMemberId&keys[]=defaultContactGroupNoMemberId&keys[]=defaultAdministrationId&keys[]=pcrPowerKwhConsumptionPercentage&keys[]=pcrGeneratingCapacityOneSolorPanel").then((function(e){a.setState({isLoading:!1,portalSettings:B(B({},e.data),{},{portalActive:"true"==e.data.portalActive,showNewAtCooperativeLink:"true"==e.data.showNewAtCooperativeLink,pcrPowerKwhConsumptionPercentage:100*e.data.pcrPowerKwhConsumptionPercentage})})})).catch((function(e){a.setState({isLoading:!1,hasError:!0})}))})),(0,l.A)(a,"updateState",(function(e){a.setState({portalSettings:B(B({},e),{},{portalActive:"true"==e.portalActive,showNewAtCooperativeLink:"true"==e.showNewAtCooperativeLink,pcrPowerKwhConsumptionPercentage:100*e.pcrPowerKwhConsumptionPercentage})})})),a.state={portalSettings:{},isLoading:!1,hasError:!1},a}return(0,i.A)(t,e),(0,r.A)(t,[{key:"componentDidMount",value:function(){this.callFetchPortalSettings()}},{key:"render",value:function(){return c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-9"},c.createElement("div",{className:"col-md-12 margin-10-top"},c.createElement(f.A,null,c.createElement(A.A,{className:"panel-small"},c.createElement(H,null)))),c.createElement("div",{className:"col-md-12 margin-10-top"},c.createElement(q,{portalSettings:this.state.portalSettings,isLoading:this.state.isLoading,hasError:this.state.hasError,updateState:this.updateState}))),c.createElement("div",{className:"col-md-3"}))}}])}(c.Component)},95532:(e,t,a)=>{a.d(t,{A:()=>o}),a(28706);var n=a(61941),r="setting";const o={fetchPortalSettings:function(e){var t="".concat(r,"/multiple").concat(e);return(0,n.A)().get(t)},updatePortalSettings:function(e){var t="".concat(r);return(0,n.A)().post(t,e)}}}}]);