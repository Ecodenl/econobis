"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[6033],{66033:(e,t,a)=>{a.r(t),a.d(t,{default:()=>J});var r=a(23029),n=a(92901),o=a(56822),s=a(53954),i=a(85501),l=a(64467),c=a(96540),p=a(2543),m=a(58168),u=a(69733),d=a(57761),h=a.n(d),v=a(95093),g=a.n(v),b=a(55956),C=a(62493),A=a(55849),f=a(95532),w=a(17375),k=a(26062),S=a(54814),N=a(8426),E=a(31714),y=a(77465);function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){(0,l.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(P=function(){return!!e})()}g().locale("nl");var R=function(e){function t(e){var a,n,i,c;return(0,r.A)(this,t),n=this,i=t,c=[e],i=(0,s.A)(i),a=(0,o.A)(n,P()?Reflect.construct(i,c||[],(0,s.A)(n).constructor):i.apply(n,c)),(0,l.A)(a,"handleInputChange",(function(e){var t=e.target,r="checkbox"===t.type?t.checked:t.value,n=t.name;a.setState(T(T({},a.state),{},{portalSettings:T(T({},a.state.portalSettings),{},(0,l.A)({},n,r))}))})),(0,l.A)(a,"handleSubmit",(function(e){e.preventDefault();var t=a.state.portalSettings,r={},n=!1;h().isEmpty(t.portalUrl)&&(r.portalUrl=!0,n=!0),t.portalActive&&h().isEmpty(t.responsibleUserId+"")&&(r.responsibleUserId=!0,n=!0),t.portalActive&&h().isEmpty(t.contactResponsibleOwnerUserId+"")&&(r.contactResponsibleOwnerUserId=!0,n=!0),t.portalActive&&h().isEmpty(t.checkContactTaskResponsible+"")&&(r.checkContactTaskResponsible=!0,n=!0),t.portalActive&&h().isEmpty(t.newAtCooperativeLinkText)&&(r.newAtCooperativeLinkText=!0,n=!0),t.portalActive&&h().isEmpty(t.defaultContactGroupMemberId+"")&&(r.defaultContactGroupMemberId=!0,n=!0),t.portalActive&&h().isEmpty(t.defaultContactGroupNoMemberId+"")&&(r.defaultContactGroupNoMemberId=!0,n=!0),t.portalActive&&h().isEmpty(t.linkPrivacyPolicy)&&(r.linkPrivacyPolicy=!0,n=!0),t.portalActive&&h().isEmpty(t.pcrPowerKwhConsumptionPercentage+"")&&(r.pcrPowerKwhConsumptionPercentage=!0,n=!0),t.portalActive&&h().isEmpty(t.pcrGeneratingCapacityOneSolorPanel)&&(r.pcrGeneratingCapacityOneSolorPanel=!0,n=!0),t.portalActive&&h().isEmpty(t.emailTemplateNewAccountId+"")&&(r.emailTemplateNewAccountId=!0,n=!0),t.portalActive&&h().isEmpty(t.portalName)&&(r.portalName=!0,n=!0),t.portalActive&&h().isEmpty(t.cooperativeName)&&(r.cooperativeName=!0,n=!0),t.portalActive&&h().isEmpty(t.portalWebsite)&&(r.portalWebsite=!0,n=!0),t.checkContactTaskResponsible.search("user")>=0&&(t.checkContactTaskResponsibleUserId=t.checkContactTaskResponsible.replace("user",""),t.checkContactTaskResponsibleTeamId=""),t.checkContactTaskResponsible.search("team")>=0&&(t.checkContactTaskResponsibleUserId="",t.checkContactTaskResponsibleTeamId=t.checkContactTaskResponsible.replace("team","")),t.portalActive&&h().isEmpty(t.defaultAdministrationId+"")&&(r.defaultAdministrationId=!0,n=!0);var o=new FormData;o.append("portalActive",!!t.portalActive&&t.portalActive),o.append("portalName",t.portalName?t.portalName:""),o.append("cooperativeName",t.cooperativeName?t.cooperativeName:""),o.append("portalWebsite",t.portalWebsite?t.portalWebsite:""),o.append("portalUrl",t.portalUrl),o.append("responsibleUserId",t.responsibleUserId?t.responsibleUserId:""),o.append("checkContactTaskResponsibleUserId",t.checkContactTaskResponsibleUserId?t.checkContactTaskResponsibleUserId:""),o.append("checkContactTaskResponsibleTeamId",t.checkContactTaskResponsibleTeamId?t.checkContactTaskResponsibleTeamId:""),o.append("contactResponsibleOwnerUserId",t.contactResponsibleOwnerUserId?t.contactResponsibleOwnerUserId:""),o.append("emailTemplateNewAccountId",t.emailTemplateNewAccountId?t.emailTemplateNewAccountId:""),o.append("linkPrivacyPolicy",t.linkPrivacyPolicy?t.linkPrivacyPolicy:""),o.append("showNewAtCooperativeLink",!!t.showNewAtCooperativeLink&&t.showNewAtCooperativeLink),o.append("newAtCooperativeLinkText",t.newAtCooperativeLinkText?t.newAtCooperativeLinkText:""),o.append("defaultContactGroupMemberId",t.defaultContactGroupMemberId?t.defaultContactGroupMemberId:""),o.append("defaultContactGroupNoMemberId",t.defaultContactGroupNoMemberId?t.defaultContactGroupNoMemberId:""),o.append("pcrPowerKwhConsumptionPercentage",t.pcrPowerKwhConsumptionPercentage?parseInt(t.pcrPowerKwhConsumptionPercentage)/100:0),o.append("pcrGeneratingCapacityOneSolorPanel",t.pcrGeneratingCapacityOneSolorPanel?t.pcrGeneratingCapacityOneSolorPanel:0),o.append("defaultAdministrationId",t.defaultAdministrationId?t.defaultAdministrationId:""),a.setState(T(T({},a.state),{},{errors:r})),!n&&f.A.updatePortalSettings(o).then((function(e){a.props.updateState(e.data),a.props.fetchSystemData(),a.props.peekAdministrations(),a.props.fetchStaticContactGroups(),a.props.switchToView()})).catch((function(e){console.log(e),alert("Er is iets misgegaan bij opslaan. Herlaad de pagina en probeer het nogmaals.")}))})),a.manageTechnicalPortalSettings="support@econobis.nl"==a.props.meDetails.email||"software@xaris.nl"==a.props.meDetails.email,a.state={portalSettings:T({},e.portalSettings),emailTemplates:T({},e.emailTemplates),administrations:T({},e.administrations),staticContactGroups:T({},e.staticContactGroups),errors:{portalActive:!1,portalName:!1,cooperativeName:!1,portalWebsite:!1,portalUrl:!1,responsibleUserId:!1,checkContactTaskResponsibleUserId:!1,checkContactTaskResponsibleTeamId:!1,checkContactTaskResponsible:!1,contactResponsibleOwnerUserId:!1,emailTemplateNewAccountId:!1,linkPrivacyPolicy:!1,showNewAtCooperativeLink:!1,newAtCooperativeLinkText:!1,defaultContactGroupMemberId:!1,defaultContactGroupNoMemberId:!1,pcrPowerKwhConsumptionPercentage:!1,pcrGeneratingCapacityOneSolorPanel:!1,defaultAdministrationId:!1}},a.handleReactSelectChange=a.handleReactSelectChange.bind(a),a}return(0,i.A)(t,e),(0,n.A)(t,[{key:"handleReactSelectChange",value:function(e,t){this.setState(T(T({},this.state),{},{portalSettings:T(T({},this.state.portalSettings),{},(0,l.A)({},t,e))}))}},{key:"render",value:function(){var e=this.state.portalSettings,t=e.portalActive,a=e.portalName,r=e.cooperativeName,n=e.portalWebsite,o=e.portalUrl,s=e.responsibleUserId,i=e.checkContactTaskResponsible,l=e.contactResponsibleOwnerUserId,p=e.emailTemplateNewAccountId,m=e.linkPrivacyPolicy,u=e.showNewAtCooperativeLink,d=e.newAtCooperativeLinkText,h=e.defaultContactGroupMemberId,v=e.defaultContactGroupNoMemberId,g=e.pcrPowerKwhConsumptionPercentage,f=e.pcrGeneratingCapacityOneSolorPanel,w=e.defaultAdministrationId;return c.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},c.createElement(C.A,null,c.createElement(A.A,null,c.createElement("div",{className:"row"},c.createElement(S.A,{label:"Contacten portal URL",divSize:"col-sm-8",name:"portalUrl",value:o,onChangeAction:this.handleInputChange,readOnly:!this.manageTechnicalPortalSettings,required:"required",error:this.state.errors.portalUrl})),c.createElement("hr",null),c.createElement("div",{className:"row"},c.createElement(y.A,{label:"Contacten portal actief",divSize:"col-sm-8",name:"portalActive",value:t,onChangeAction:this.handleInputChange})),c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Verantwoordelijke portal",divSize:"col-sm-8",name:"responsibleUserId",value:Number(s),options:this.props.users,optionName:"fullName",onChangeAction:this.handleReactSelectChange,required:t?"required":"",error:this.state.errors.responsibleUserId})),c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Eigenaar nieuwe contacten",divSize:"col-sm-8",name:"contactResponsibleOwnerUserId",value:Number(l),options:this.props.users,optionName:"fullName",onChangeAction:this.handleReactSelectChange,required:t?"required":"",error:this.state.errors.contactResponsibleOwnerUserId})),c.createElement("div",{className:"row"},c.createElement(N.A,{label:"Verantwoordelijke uitvoeren taak",divSize:"col-sm-8",name:"checkContactTaskResponsible",optionsInGroups:[{name:"user",label:"Gebruikers",options:this.props.users,optionName:"fullName"},{name:"team",label:"Teams",options:this.props.teams}],value:i,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.checkContactTaskResponsible})),c.createElement("div",{className:"row"},c.createElement(y.A,{label:"Nieuwe contacten kunnen account aanmaken",divSize:"col-sm-8",name:"showNewAtCooperativeLink",value:u,onChangeAction:this.handleInputChange})),u?c.createElement("div",{className:"row"},c.createElement(S.A,{label:"Tekst voor het aanmaken nieuw account",divSize:"col-sm-8",name:"newAtCooperativeLinkText",value:d,maxLength:255,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.newAtCooperativeLinkText})):null,c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Standaard contact groep lid worden",divSize:"col-sm-8",name:"defaultContactGroupMemberId",value:Number(h),options:this.props.staticContactGroups,onChangeAction:this.handleReactSelectChange,required:t?"required":"",error:this.state.errors.defaultContactGroupMemberId})),c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Standaard contact groep geen lid worden",divSize:"col-sm-8",name:"defaultContactGroupNoMemberId",value:Number(v),options:this.props.staticContactGroups,onChangeAction:this.handleReactSelectChange,required:t?"required":"",error:this.state.errors.defaultContactGroupNoMemberId})),c.createElement("div",{className:"row"},c.createElement(S.A,{label:"Privacybeleid link",divSize:"col-sm-8",name:"linkPrivacyPolicy",value:m,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.linkPrivacyPolicy})),c.createElement("div",{className:"row"},c.createElement(S.A,{label:"Advies % te dekken jaarlijks verbruik zonnepanelen",type:"number",min:0,max:100,divSize:"col-sm-8",name:"pcrPowerKwhConsumptionPercentage",value:g,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.pcrPowerKwhConsumptionPercentage})),c.createElement("div",{className:"row"},c.createElement(S.A,{label:"Opbrengstcapaciteit van 1 zonnepaneel",type:"number",divSize:"col-sm-8",name:"pcrGeneratingCapacityOneSolorPanel",value:f,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.pcrGeneratingCapacityOneSolorPanel})),c.createElement("div",{className:"row"},c.createElement(E.A,{label:"E-mail template Nieuwe account activeren",divSize:"col-sm-8",name:"emailTemplateNewAccountId",value:Number(p),options:this.props.emailTemplates,onChangeAction:this.handleReactSelectChange,required:t?"required":"",error:this.state.errors.emailTemplateNewAccountId})),c.createElement("div",{className:"row"},c.createElement(S.A,{label:"Coöperatie portal naam",divSize:"col-sm-8",name:"portalName",value:a,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.portalName})),c.createElement("div",{className:"row"},c.createElement(S.A,{label:"Coöperatie naam",divSize:"col-sm-8",name:"cooperativeName",value:r,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.cooperativeName})),c.createElement("div",{className:"row"},c.createElement(S.A,{label:"Coöperatie website",divSize:"col-sm-8",name:"portalWebsite",value:n,onChangeAction:this.handleInputChange,required:t?"required":"",error:this.state.errors.portalWebsite})),c.createElement("div",{className:"row"},c.createElement(E.A,{label:"Standaard administratie / uitgevende instantie",divSize:"col-sm-8",name:"defaultAdministrationId",value:Number(w),options:this.props.administrations,onChangeAction:this.handleReactSelectChange,required:t?"required":"",error:this.state.errors.defaultAdministrationId}))),c.createElement(A.A,null,c.createElement("div",{className:"pull-right btn-group",role:"group"},c.createElement(b.A,{buttonClassName:"btn-default",buttonText:"Sluiten",onClickAction:this.props.switchToView}),c.createElement(b.A,{buttonText:"Opslaan",type:"submit",value:"Submit"})))))}}])}(c.Component);const O=(0,u.Ng)(null,(function(e){return(0,w.zH)({fetchSystemData:k.u},e)}))(R);var G=a(30483);const U=function(e){var t=e.portalActive,a=e.portalName,r=e.cooperativeName,n=e.portalWebsite,o=e.portalUrl,s=e.responsibleUser,i=e.checkContactTaskResponsibleUser,l=e.checkContactTaskResponsibleTeam,p=e.contactResponsibleOwnerUser,m=e.emailTemplateNewAccount,u=e.linkPrivacyPolicy,d=e.showNewAtCooperativeLink,h=e.newAtCooperativeLinkText,v=e.defaultContactGroupMember,g=e.defaultContactGroupNoMember,b=e.pcrPowerKwhConsumptionPercentage,f=e.pcrGeneratingCapacityOneSolorPanel,w=e.defaultAdministration,k=e.switchToEdit;return e.imageHash,c.createElement("div",{onClick:k},c.createElement(C.A,null,c.createElement(A.A,null,c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Contacten portal URL",divSize:"col-sm-8",value:o,className:"col-sm-8 form-group"})),c.createElement("hr",null),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Contacten portal actief",divSize:"col-sm-8",value:t?"Ja":"Nee",className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Verantwoordelijke portal",divSize:"col-sm-8",value:s?s.fullName:"",className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Eigenaar nieuwe contacten",divSize:"col-sm-8",value:p?p.fullName:"",className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Verantwoordelijke uitvoeren taak",divSize:"col-sm-8",value:i?i.fullName:l?l.name:"",className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Nieuwe contacten kunnen account aanmaken",divSize:"col-sm-8",value:d?"Ja":"Nee",className:"col-sm-8 form-group"})),d?c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Tekst voor het aanmaken nieuw account",divSize:"col-sm-8",value:h,className:"col-sm-8 form-group"})):null,c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Standaard contact groep lid worden",divSize:"col-sm-8",value:v?v.name:"",className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Standaard contact groep geen lid worden",divSize:"col-sm-8",value:g?g.name:"",className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Privacybeleid link",divSize:"col-sm-8",value:u,className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Advies % te dekken jaarlijks verbruik zonnepanelen",divSize:"col-sm-8",value:b,className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Opbrengstcapaciteit van 1 zonnepaneel",divSize:"col-sm-8",value:f,className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Email template Nieuwe account activeren",divSize:"col-sm-8",value:m?m.name:"",className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Coöperatie portal naam",divSize:"col-sm-8",value:a,className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Coöperatie naam",divSize:"col-sm-8",value:r,className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Coöperatie website",divSize:"col-sm-8",value:n,className:"col-sm-8 form-group"})),c.createElement("div",{className:"row"},c.createElement(G.A,{label:"Standaard administratie / uitgevende instantie",divSize:"col-sm-8",value:w?w.name:"",className:"col-sm-8 form-group"})))))};var z=a(6438),L=a(60738),D=a(49932);function M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(M=function(){return!!e})()}var j=function(e){function t(e){var a,n,i,c;return(0,r.A)(this,t),n=this,i=t,c=[e],i=(0,s.A)(i),a=(0,o.A)(n,M()?Reflect.construct(i,c||[],(0,s.A)(n).constructor):i.apply(n,c)),(0,l.A)(a,"peekAdministrations",(function(){D.A.peekAdministrations().then((function(e){a.setState({administrations:e})}))})),(0,l.A)(a,"fetchStaticContactGroups",(function(){L.A.peekStaticContactGroups().then((function(e){a.setState({staticContactGroups:e})}))})),(0,l.A)(a,"switchToEdit",(function(){a.setState({showEdit:!0})})),(0,l.A)(a,"switchToView",(function(){a.setState({imageHash:Date.now(),showEdit:!1,activeDiv:""})})),a.state={emailTemplates:[],administrations:[],staticContactGroups:[],imageHash:Date.now(),showEdit:!1,activeDiv:""},a}return(0,i.A)(t,e),(0,n.A)(t,[{key:"componentDidMount",value:function(){var e=this;z.A.fetchEmailTemplatesPeek().then((function(t){e.setState({emailTemplates:t})})),this.peekAdministrations(),this.fetchStaticContactGroups()}},{key:"onDivEnter",value:function(){this.setState({activeDiv:"panel-grey"})}},{key:"onDivLeave",value:function(){this.state.showEdit||this.setState({activeDiv:""})}},{key:"render",value:function(){var e=this,t=this.props.meDetails.permissions,a=void 0===t?{}:t;return this.props.portalSettings.responsibleUser="",this.props.portalSettings.responsibleUserId&&0!=this.props.portalSettings.responsibleUserId&&(this.props.portalSettings.responsibleUser=this.props.usersAll.find((function(t){return t.id==e.props.portalSettings.responsibleUserId}))),this.props.portalSettings.contactResponsibleOwnerUser="",this.props.portalSettings.contactResponsibleOwnerUserId&&0!=this.props.portalSettings.contactResponsibleOwnerUserId&&(this.props.portalSettings.contactResponsibleOwnerUser=this.props.usersAll.find((function(t){return t.id==e.props.portalSettings.contactResponsibleOwnerUserId}))),this.props.portalSettings.emailTemplateNewAccount="",this.props.portalSettings.emailTemplateNewAccountId&&0!=this.props.portalSettings.emailTemplateNewAccountId&&(this.props.portalSettings.emailTemplateNewAccount=this.state.emailTemplates.find((function(t){return t.id==e.props.portalSettings.emailTemplateNewAccountId}))),this.props.portalSettings.defaultContactGroupMember="",this.props.portalSettings.defaultContactGroupMemberId&&0!=this.props.portalSettings.defaultContactGroupMemberId&&(this.props.portalSettings.defaultContactGroupMember=this.state.staticContactGroups.find((function(t){return t.id==e.props.portalSettings.defaultContactGroupMemberId}))),this.props.portalSettings.defaultContactGroupNoMember="",this.props.portalSettings.defaultContactGroupNoMemberId&&0!=this.props.portalSettings.defaultContactGroupNoMemberId&&(this.props.portalSettings.defaultContactGroupNoMember=this.state.staticContactGroups.find((function(t){return t.id==e.props.portalSettings.defaultContactGroupNoMemberId}))),this.props.portalSettings.checkContactTaskResponsible="",this.props.portalSettings.checkContactTaskResponsibleUser=null,this.props.portalSettings.checkContactTaskResponsibleTeam=null,this.props.portalSettings.checkContactTaskResponsibleUserId&&0!=this.props.portalSettings.checkContactTaskResponsibleUserId&&(this.props.portalSettings.checkContactTaskResponsible="user"+this.props.portalSettings.checkContactTaskResponsibleUserId,this.props.portalSettings.checkContactTaskResponsibleUser=this.props.usersAll.find((function(t){return t.id==e.props.portalSettings.checkContactTaskResponsibleUserId}))),this.props.portalSettings.checkContactTaskResponsibleTeamId&&0!=this.props.portalSettings.checkContactTaskResponsibleTeamId&&(this.props.portalSettings.checkContactTaskResponsible="team"+this.props.portalSettings.checkContactTaskResponsibleTeamId,this.props.portalSettings.checkContactTaskResponsibleTeam=this.props.teams.find((function(t){return t.id==e.props.portalSettings.checkContactTaskResponsibleTeamId}))),this.props.portalSettings.defaultAdministration="",this.props.portalSettings.defaultAdministrationId&&0!=this.props.portalSettings.defaultAdministrationId&&(this.props.portalSettings.defaultAdministration=this.state.administrations.find((function(t){return t.id==e.props.portalSettings.defaultAdministrationId}))),c.createElement("div",{className:this.state.activeDiv,onMouseEnter:function(){return e.onDivEnter()},onMouseLeave:function(){return e.onDivLeave()}},this.state.showEdit&&a.managePortalSettings?c.createElement(O,{portalSettings:this.props.portalSettings,emailTemplates:this.state.emailTemplates,administrations:this.state.administrations,staticContactGroups:this.state.staticContactGroups,switchToView:this.switchToView,peekAdministrations:this.peekAdministrations,fetchStaticContactGroups:this.fetchStaticContactGroups,imageHash:this.state.imageHash,updateState:this.props.updateState,users:this.props.users,teams:this.props.teams,meDetails:this.props.meDetails}):c.createElement(U,(0,m.A)({},this.props.portalSettings,{switchToEdit:this.switchToEdit,imageHash:this.state.imageHash})))}}])}(c.Component);const q=(0,u.Ng)((function(e){return{emailTemplates:e.emailTemplates,administrations:e.administrations,staticContactGroups:e.staticContactGroups,meDetails:e.meDetails,permissions:e.meDetails.permissions,teams:e.systemData.teams,usersAll:e.systemData.usersAll,users:e.systemData.users}}))(j),x=function(e){var t=e.portalSettings,a=e.hasError,r=e.isLoading,n=e.updateState,o=(e.emailTemplates,""),s=!0;return a?o="Fout bij het ophalen van portal instellingen.":r?o="Gegevens aan het laden.":(0,p.isEmpty)(t)?o="Geen portal instellingen gevonden!":s=!1,s?c.createElement("div",null,o):c.createElement("div",null,c.createElement(q,{portalSettings:t,updateState:n}))};var K=a(47767),W=a(91858);const H=function(){var e=(0,K.Zp)();return c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-4"},c.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},c.createElement(W.A,{iconName:"arrowLeft",onClickAction:function(){return e(-1)}}))),c.createElement("div",{className:"col-md-4"},c.createElement("h4",{className:"text-center"},"Portal instellingen")),c.createElement("div",{className:"col-md-4"}))};function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){(0,l.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(F=function(){return!!e})()}const J=function(e){function t(e){var a,n,i,c;return(0,r.A)(this,t),n=this,i=t,c=[e],i=(0,s.A)(i),a=(0,o.A)(n,F()?Reflect.construct(i,c||[],(0,s.A)(n).constructor):i.apply(n,c)),(0,l.A)(a,"callFetchPortalSettings",(function(){a.setState({isLoading:!0,hasError:!1}),f.A.fetchPortalSettings("?keys[]=portalActive&keys[]=portalName&keys[]=cooperativeName&keys[]=portalWebsite&keys[]=portalUrl&keys[]=responsibleUserId&keys[]=checkContactTaskResponsibleUserId&keys[]=checkContactTaskResponsibleTeamId&keys[]=contactResponsibleOwnerUserId&keys[]=emailTemplateNewAccountId&keys[]=linkPrivacyPolicy&keys[]=showNewAtCooperativeLink&keys[]=newAtCooperativeLinkText&keys[]=defaultContactGroupMemberId&keys[]=defaultContactGroupNoMemberId&keys[]=defaultAdministrationId&keys[]=pcrPowerKwhConsumptionPercentage&keys[]=pcrGeneratingCapacityOneSolorPanel").then((function(e){a.setState({isLoading:!1,portalSettings:B(B({},e.data),{},{portalActive:"true"==e.data.portalActive,showNewAtCooperativeLink:"true"==e.data.showNewAtCooperativeLink,pcrPowerKwhConsumptionPercentage:100*e.data.pcrPowerKwhConsumptionPercentage})})})).catch((function(e){a.setState({isLoading:!1,hasError:!0})}))})),(0,l.A)(a,"updateState",(function(e){a.setState({portalSettings:B(B({},e),{},{portalActive:"true"==e.portalActive,showNewAtCooperativeLink:"true"==e.showNewAtCooperativeLink,pcrPowerKwhConsumptionPercentage:100*e.pcrPowerKwhConsumptionPercentage})})})),a.state={portalSettings:{},isLoading:!1,hasError:!1},a}return(0,i.A)(t,e),(0,n.A)(t,[{key:"componentDidMount",value:function(){this.callFetchPortalSettings()}},{key:"render",value:function(){return c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-9"},c.createElement("div",{className:"col-md-12 margin-10-top"},c.createElement(C.A,null,c.createElement(A.A,{className:"panel-small"},c.createElement(H,null)))),c.createElement("div",{className:"col-md-12 margin-10-top"},c.createElement(x,{portalSettings:this.state.portalSettings,isLoading:this.state.isLoading,hasError:this.state.hasError,updateState:this.updateState}))),c.createElement("div",{className:"col-md-3"}))}}])}(c.Component)},95532:(e,t,a)=>{a.d(t,{A:()=>o});var r=a(61941),n="setting";const o={fetchPortalSettings:function(e){var t="".concat(n,"/multiple").concat(e);return r.A.get(t)},updatePortalSettings:function(e){var t="".concat(n);return r.A.post(t,e)}}}}]);