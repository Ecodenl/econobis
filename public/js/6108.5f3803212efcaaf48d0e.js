"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[6108],{95912:(e,t,n)=>{n.d(t,{Ef:()=>a,QQ:()=>c,QX:()=>p,Um:()=>i,WX:()=>r,Xn:()=>u,oo:()=>o,ps:()=>l,zm:()=>s});var a=function(e){return{type:"FETCH_CONTACT_GROUP_DETAILS",id:e}},r=function(e){return{type:"UPDATE_CONTACT_GROUP_DETAILS",contactGroupDetails:e}},o=function(){return{type:"CLEAR_CONTACT_GROUP_DETAILS"}},c=function(e,t){return{type:"DELETE_COMPOSED_GROUP",contactGroupId:e,contactGroupToDetachId:t}},s=function(e,t){return{type:"ATTACH_COMPOSED_GROUP",contactGroupId:e,contactGroupToAttachId:t}},i=function(e,t){return{type:"DELETE_COMPOSED_EXCEPT_GROUP",contactGroupId:e,contactGroupToDetachId:t}},l=function(e,t){return{type:"ATTACH_COMPOSED_EXCEPT_GROUP",contactGroupId:e,contactGroupToAttachId:t}},u=function(e){return{type:"UPDATE_LAPOSTA_LIST_ID",lapostaListId:e}},p=function(e){return{type:"DEACTIVATE_LAPOSTA_LIST_ID",lapostaListId:e}}},68776:(e,t,n)=>{n.d(t,{UQ:()=>o,fn:()=>r,pA:()=>a,yp:()=>c});var a=function(e){return{type:"ADD_CONTACT_TO_GROUP",contact:e}},r=function(e,t,n){return{type:"FETCH_CONTACT_GROUPS",filters:e,sorts:t,pagination:n}},o=function(){return{type:"CLEAR_CONTACT_GROUPS"}},c=function(e,t){return{type:"DELETE_CONTACT_GROUP",id:e,successAction:t}}},46108:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_e});var a=n(67294),r=n(86706),o=n(95912),c=n(29439),s=n(61409),i=n(14309),l=n(98688),u=n(55451),p=n(41355),m=n(68776),d=n(25725);const f=(0,r.$j)(null,(function(e){return{deleteContactGroup:function(t,n){e((0,m.yp)(t,n))},fetchSystemData:function(){e((0,d.P)())}}}))((function(e){var t=function(){e.fetchSystemData(),s.nA.push("/contact-groepen")};return a.createElement(p.Z,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.closeDeleteItemModal,confirmAction:function(){return e.deleteContactGroup(e.id,t),void e.closeDeleteItemModal()},title:"Verwijderen"},"static"===e.contactGroupType?a.createElement("span",null,"Je gaat een statische groep verwijderen. Deze groep kan je niet meer herstellen. Weet je zeker dat de deze statische groep ",a.createElement("strong",null,e.name)," wilt verwijderen?"):a.createElement("span",null,"Verwijder groep: ",a.createElement("strong",null,e.name)))}));var h=n(49332),g=n(60813);const v=(0,r.$j)((function(e){return{id:e.contactGroupDetails.id,lapostaListId:e.contactGroupDetails.lapostaListId}}),(function(e){return{updateContactGroupLapostaList:function(t){e((0,o.Xn)(t))}}}))((function(e){var t=e.closeModal,n=e.id,r=e.lapostaListId,s=(0,a.useState)("Aanmaken laposta lijst gestart"),i=(0,c.Z)(s,2),l=i[0],u=i[1],m=(0,a.useState)([]),d=(0,c.Z)(m,2),f=d[0],h=d[1];return(0,a.useEffect)((function(){g.Z.syncLapostaList(n).then((function(e){u("Laposta lijst is succesvol aangemaakt"),(0,o.Xn)(r),setTimeout(t,2e3)})).catch((function(e){if(e.response&&422===e.response.status){if(e.response.data&&e.response.data.errors)e.response.data.errors.econobis&&e.response.data.errors.econobis.length&&(u("De volgende fouten gevonden tijdens synchronisatie:"),h(e.response.data.errors.econobis));else if(e.response.data&&e.response.data.message){u("Er is iets misgegaan bij het synchroniseren met Laposta ("+e.response.status+").");for(var t=[],n=0,a=Object.entries(JSON.parse(e.response.data.message));n<a.length;n++){var r=(0,c.Z)(a[n],2),o=(r[0],r[1]);t.push("".concat(o))}h(t)}}else u("Er is iets misgegaan bij het synchroniseren met Laposta ("+(e.response&&e.response.status)+").")}))}),[]),a.createElement(p.Z,{buttonClassName:"btn-danger",closeModal:t,buttonCancelText:"Sluiten",showConfirmAction:!1,title:"Synchroniseren met Laposta"},a.createElement("p",null,l),f.length?a.createElement("ul",null,f.map((function(e){return a.createElement("li",null,e)}))):null)})),E=(0,r.$j)((function(e){return{id:e.contactGroupDetails.id,lapostaListId:e.contactGroupDetails.lapostaListId}}),(function(e){return{deActivatedContactGroupLapostaList:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){e(deActivatedContactGroupLapostaList(t))}))}}))((function(e){var t=e.closeModal,n=e.id,r=e.lapostaListId,s=(0,a.useState)("Aanmaken laposta lijst gestart"),i=(0,c.Z)(s,2),l=i[0],u=i[1],m=(0,a.useState)([]),d=(0,c.Z)(m,2),f=d[0],h=d[1];return(0,a.useEffect)((function(){g.Z.deActivateLapostaList(n).then((function(e){u("Laposta lijst is succesvol uitgezet"),(0,o.QX)(r),setTimeout(t,2e3)})).catch((function(e){if(e.response&&422===e.response.status){if(e.response.data&&e.response.data.errors)e.response.data.errors.econobis&&e.response.data.errors.econobis.length&&(u("De volgende fouten gevonden tijdens uitzetten:"),h(e.response.data.errors.econobis));else if(e.response.data&&e.response.data.message){u("Er is iets misgegaan bij het uitzetten van Laposta ("+e.response.status+").");for(var t=[],n=0,a=Object.entries(JSON.parse(e.response.data.message));n<a.length;n++){var r=(0,c.Z)(a[n],2),o=(r[0],r[1]);t.push("".concat(o))}h(t)}}else u("Er is iets misgegaan bij het uitzetten van Laposta ("+(e.response&&e.response.status)+").")}))}),[]),a.createElement(p.Z,{buttonClassName:"btn-danger",closeModal:t,buttonCancelText:"Sluiten",showConfirmAction:!1,title:"Uitzetten van Laposta"},a.createElement("p",null,l),f.length?a.createElement("ul",null,f.map((function(e){return a.createElement("li",null,e)}))):null)})),y=function(e){return a.createElement(p.Z,{buttonConfirmText:"Bevestig",buttonClassName:"btn-danger",closeModal:e.closeConfirmModal,confirmAction:e.confirmDeActivate,title:"Bevestig uitzetten LaPosta"},a.createElement("span",null,"LaPosta uitzetten voor Groep ",a.createElement("strong",null,e.name),"?",a.createElement("br",null),"De koppeling met LaPosta lijst wordt uitgezet voor deze groep en alle gekoppelde contacten. Hierna is er geen synchronisatie meer mogelijk met deze LaPosta lijst. De lijst blijft wel bestaan in LaPosta. Als je hierna weer kiest voor 'LaPosta lijst aanmaken' dan zal er een nieuwe lijst in LaPosta aangemaakt worden."))},b=(0,r.$j)((function(e){return{contactGroup:e.contactGroupDetails,cooperation:e.systemData.cooperation,permissions:e.meDetails.permissions}}),null)((function(e){var t=e.permissions,n=e.contactGroup,r=e.cooperation,o=(e.isLoading,e.callFetchContactGroupDetails),p=(0,a.useState)(!1),m=(0,c.Z)(p,2),d=m[0],g=m[1],b=(0,a.useState)(!1),G=(0,c.Z)(b,2),Z=G[0],D=G[1],C=(0,a.useState)(!1),w=(0,c.Z)(C,2),k=w[0],O=w[1],L=(0,a.useState)(!1),N=(0,c.Z)(L,2),T=N[0],j=N[1];function S(){g(!d)}function P(){Z&&o(),D(!Z)}function A(){O(!1)}var I=n.id,R=n.name,x=n.type,M=n.numberOfContacts,F=void 0===M?0:M,z=n.composedOf,B="";return"contacts"===z?B="(Contacten)":"participants"===z?B="(Participanten)":"both"===z&&(B="(Samengesteld)"),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-12"},a.createElement(i.Z,null,a.createElement(l.Z,{className:"panel-small"},a.createElement("div",{className:"col-md-3"},a.createElement("div",{className:"btn-group",role:"group"},a.createElement(u.Z,{iconName:"arrowLeft",onClickAction:s.mW.goBack}),t.manageGroup&&!n.isUsedInComposedGroup&&a.createElement(u.Z,{iconName:"trash",onClickAction:S}),a.createElement(h.Z,{buttonText:"Open lijst (".concat(F,")"),onClickAction:function(){return s.nA.push("/contacten-in-groep/".concat(I))}}),t.manageMarketing&&r&&r.use_laposta&&a.createElement(a.Fragment,null,a.createElement("br",null)," ",a.createElement("br",null),a.createElement(h.Z,{onClickAction:P,buttonText:n.isUsedInLaposta?n.groupUpToDateWithLaposta?"LaPosta lijst actueel":"LaPosta lijst bijwerken":"LaPosta lijst aanmaken",disabled:Boolean(n.isUsedInLaposta&&n.groupUpToDateWithLaposta),buttonClassName:n.isUsedInLaposta&&!n.groupUpToDateWithLaposta?"btn-danger":"btn-success"}),Boolean(n.isUsedInLaposta)&&a.createElement(h.Z,{onClickAction:function(){O(!0)},buttonText:"LaPosta lijst uitzetten"})))),a.createElement("div",{className:"col-md-6"},a.createElement("h4",{className:"text-center"},R," ",B)),a.createElement("div",{className:"col-md-3"})))),d&&a.createElement(f,{closeDeleteItemModal:S,name:R,id:I,contactGroupType:x.id}),Z&&a.createElement(v,{closeModal:P}),k&&a.createElement(y,{closeConfirmModal:A,confirmDeActivate:function(){A(),j(!0)},name:R}),T&&a.createElement(E,{closeModal:function(){T&&o(),j(!1)}}))}));var G=n(15671),Z=n(43144),D=n(60136),C=n(82963),w=n(61120),k=n(96486),O=n.n(k),L=n(97326),N=n(4942),T=n(48966),j=n.n(T),S=n(30381),P=n.n(S),A=n(78113),I=n(9181),R=n(54138),x=n(21606),M=n(71840),F=n(82084),z=n(19789);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,N.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e){(0,D.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,w.Z)(t);if(n){var r=(0,w.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,C.Z)(this,e)});function o(e){var t;(0,G.Z)(this,o),t=r.call(this,e),(0,N.Z)((0,L.Z)(t),"handleInputChange",(function(e){var n=e.target,a="checkbox"===n.type?n.checked:n.value,r=n.name;t.setState(U(U({},t.state),{},{contactGroup:U(U({},t.state.contactGroup),{},(0,N.Z)({},r,a))}))})),(0,N.Z)((0,L.Z)(t),"closeDynamicToStatic",(function(){t.setState(U(U({},t.state),{},{showConfirmDynamicToStatic:!1}))})),(0,N.Z)((0,L.Z)(t),"confirmDynamicToStatic",(function(){t.doUpdateContactGroup()})),(0,N.Z)((0,L.Z)(t),"handleSubmit",(function(e){e.preventDefault();var n=t.state.contactGroup,a={},r=!1,o=!1;j().isEmpty(n.name)&&(a.name=!0,r=!0);var c=!1;t.state.contactGroups.map((function(e){return e.name==n.name&&(c=!0)})),c&&n.name!==t.state.oldName&&(o="Naam moet uniek zijn.",a.name=!0,r=!0),1==n.sendEmailNewContactLink&&(n.emailTemplateIdNewContactLink||(a.emailTemplateIdNewContactLink=!0,r=!0)),t.setState(U(U({},t.state),{},{errors:a,errorMessage:o}));var s=!1;n.type!==t.state.oldType.id&&"static"==n.type&&(s=!0),r||(s?t.setShowConfirmDynamicToStatic():t.doUpdateContactGroup())})),(0,N.Z)((0,L.Z)(t),"doUpdateContactGroup",(function(){var e=t.state.contactGroup;g.Z.updateContactGroup(e).then((function(e){t.props.updateContactGroupDetails(e),t.props.fetchSystemData(),t.props.switchToView()}))})),(0,N.Z)((0,L.Z)(t),"handleChangeStartedDate",(function(e){var n=e?P()(e).format("Y-MM-DD"):"";t.setState(U(U({},t.state),{},{contactGroup:U(U({},t.state.contactGroup),{},{dateStarted:n})}))})),(0,N.Z)((0,L.Z)(t),"handleChangeFinishedDate",(function(e){var n=e?P()(e).format("Y-MM-DD"):"";t.setState(U(U({},t.state),{},{contactGroup:U(U({},t.state.contactGroup),{},{dateFinished:n})}))})),(0,N.Z)((0,L.Z)(t),"handleChangeComposedGroupType",(function(e){t.setState(U(U({},t.state),{},{contactGroup:U(U({},t.state.contactGroup),{},{contactGroupComposedType:e})}))})),(0,N.Z)((0,L.Z)(t),"handleChangeDynamicFilterType",(function(e){t.setState(U(U({},t.state),{},{contactGroup:U(U({},t.state.contactGroup),{},{dynamicFilterType:e})}))}));var n=e.contactGroupDetails,a=n.dateStarted,c=n.dateFinished,s=n.responsibleUserId,i=n.showPortal,l=n.editPortal,u=n.showContactForm,p=n.contactGroupComposedType,m=n.type,d=n.dynamicFilterType,f=n.sendEmailNewContactLink,h=n.emailTemplateIdNewContactLink,v=n.includeIntoExportGroupReport,E=n.inspectionPersonType;return t.state={showConfirmValidatePeriodOverlap:!1,contactsWithPermission:[],contactGroups:[],emailTemplates:[],oldName:e.contactGroupDetails.name?e.contactGroupDetails.name:"",oldType:e.contactGroupDetails.type?e.contactGroupDetails.type:"",contactGroup:U(U({},e.contactGroupDetails),{},{dateStarted:a?P()(a).format("Y-MM-DD"):"",dateFinished:c?P()(c).format("Y-MM-DD"):"",responsibleUserId:s||"",showPortal:i||!1,editPortal:l||!1,showContactForm:u||!1,contactGroupComposedType:p||"one",type:m.id,dynamicFilterType:d||"and",sendEmailNewContactLink:f||!1,emailTemplateIdNewContactLink:h||"",includeIntoExportGroupReport:v||!1,inspectionPersonTypeId:E?E.id:""}),errors:{name:!1,emailTemplateIdNewContactLink:!1},peekLoading:{emailTemplates:!0}},t.handleReactSelectChange=t.handleReactSelectChange.bind((0,L.Z)(t)),t}return(0,Z.Z)(o,[{key:"componentDidMount",value:function(){var e=this,t=this.props.permissions;A.Z.fetchUsersWithPermission(t.find((function(e){return"manage_group"===e.name})).id).then((function(t){e.setState({contactsWithPermission:t})})),g.Z.peekContactGroups().then((function(t){e.setState({contactGroups:t})})),z.Z.fetchEmailTemplatesPeek().then((function(t){return e.setState({emailTemplates:t,peekLoading:U(U({},e.state.peekLoading),{},{emailTemplates:!1})})}))}},{key:"handleReactSelectChange",value:function(e,t){this.setState(U(U({},this.state),{},{contactGroup:U(U({},this.state.contactGroup),{},(0,N.Z)({},t,e))}))}},{key:"setShowConfirmDynamicToStatic",value:function(){this.setState(U(U({},this.state),{},{showConfirmDynamicToStatic:!0}))}},{key:"render",value:function(){var e=this,t=this.state.contactGroup,n=t.name,r=t.description,o=t.responsibleUserId,c=t.closed,s=t.dateStarted,i=t.dateFinished,l=t.createdAt,u=t.showPortal,m=t.editPortal,d=t.showContactForm,f=t.type,g=t.sendEmailNewContactLink,v=t.isUsedInLaposta,E=t.lapostaListId,y=t.lapostaListCreatedAt,b=t.emailTemplateIdNewContactLink,G=t.includeIntoExportGroupReport,Z=t.numberOfContacts,D=t.inspectionPersonTypeId;return a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},a.createElement("div",{className:"row"},a.createElement(I.Z,{label:"Naam",name:"name",value:n,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.name}),"composed"===this.props.contactGroupDetails.type.id&&a.createElement("div",{className:"col-xs-6"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-xs-6"},a.createElement("input",{onChange:function(){return e.handleChangeComposedGroupType("one")},type:"radio",name:"composedGroupType",value:"one",id:"one",defaultChecked:"one"===this.props.contactGroupDetails.contactGroupComposedType})," ",a.createElement("label",{htmlFor:"one"},"In één van de groepen")),a.createElement("div",{className:"col-xs-6"},a.createElement("input",{onChange:function(){return e.handleChangeComposedGroupType("all")},type:"radio",name:"composedGroupType",value:"all",id:"all",defaultChecked:"all"===this.props.contactGroupDetails.contactGroupComposedType})," ",a.createElement("label",{htmlFor:"all"}," In alle groepen")))),"dynamic"===this.props.contactGroupDetails.type.id&&a.createElement("div",{className:"col-xs-6"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-xs-6"},a.createElement("input",{onChange:function(){return e.handleChangeDynamicFilterType("and")},type:"radio",name:"dynamicFilterType",value:"and",id:"and",defaultChecked:"and"===this.props.contactGroupDetails.dynamicFilterType}),a.createElement("label",{htmlFor:"and"},'Alle extra filters zijn "EN"')),a.createElement("div",{className:"col-xs-6"},a.createElement("input",{onChange:function(){return e.handleChangeDynamicFilterType("or")},type:"radio",name:"dynamicFilterType",value:"or",id:"or",defaultChecked:"or"===this.props.contactGroupDetails.dynamicFilterType}),a.createElement("label",{htmlFor:"or"},'Alle extra filters zijn "OF"'))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"form-group col-sm-12"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-3"},a.createElement("label",{htmlFor:"description",className:"col-sm-12"},"Omschrijving")),a.createElement("div",{className:"col-sm-9"},a.createElement("textarea",{name:"description",value:r,onChange:this.handleInputChange,className:"form-control input-sm"}))))),a.createElement("div",{className:"row"},a.createElement("div",{className:"form-group col-sm-6"},a.createElement("label",{htmlFor:"responsibleUserId",className:"col-sm-6"},"Verantwoordelijke"),a.createElement("div",{className:"col-sm-6"},a.createElement("select",{className:"form-control input-sm",id:"responsibleUserId",name:"responsibleUserId",value:o,onChange:this.handleInputChange},a.createElement("option",{value:""}),this.state.contactsWithPermission.map((function(e){return a.createElement("option",{key:e.id,value:e.id},e.fullName)}))))),a.createElement(x.Z,{label:"Gesloten",name:"closed",value:c,onChangeAction:this.handleInputChange})),a.createElement("div",{className:"row"},a.createElement(R.Z,{label:"Startdatum",size:"col-sm-6",name:"dateStarted",value:s,onChangeAction:this.handleChangeStartedDate}),a.createElement(R.Z,{label:"Datum gereed",size:"col-sm-6",name:"dateFinished",value:i,onChangeAction:this.handleChangeFinishedDate})),a.createElement("div",{className:"row"},a.createElement(x.Z,{label:"Zichtbaar op portaal",name:"showPortal",value:u,onChangeAction:this.handleInputChange}),a.createElement(x.Z,{label:"Veranderen op portaal",name:"editPortal",value:m,onChangeAction:this.handleInputChange})),a.createElement("div",{className:"row"},a.createElement(x.Z,{label:"Zichtbaar bij contact",name:"showContactForm",value:d,onChangeAction:this.handleInputChange}),"dynamic"===this.props.contactGroupDetails.type.id?a.createElement(M.Z,{label:"Type",name:"type",value:f,options:[{id:"dynamic",name:"Dynamisch"},{id:"static",name:"Statisch"}],onChangeAction:this.handleInputChange}):a.createElement(I.Z,{label:"Type",name:"type",value:this.props.contactGroupDetails.type.name,readOnly:!0})),"static"===this.props.contactGroupDetails.type.id&&a.createElement(a.Fragment,null,a.createElement("div",{className:"row"},a.createElement(x.Z,{label:"Verstuur e-mail bij nieuwe contactkoppeling",name:"sendEmailNewContactLink",value:g,onChangeAction:this.handleInputChange}),1==g&&a.createElement(F.Z,{label:"Template email nieuwe contactkoppeling",divSize:"col-sm-6",name:"emailTemplateIdNewContactLink",options:this.state.emailTemplates,value:b,onChangeAction:this.handleReactSelectChange,isLoading:this.state.peekLoading.emailTemplates,required:g?"required":"",error:this.state.errors.emailTemplateIdNewContactLink})),a.createElement("div",{className:"row"},a.createElement(x.Z,{label:"Meenemen in export groep rapportage",name:"includeIntoExportGroupReport",value:G,onChangeAction:this.handleInputChange,size:"col-sm-5",textToolTip:'Als je deze optie op "AAN" zet zal deze groep getoond worden in de export groepen rapportage op de "groepen beheer" pagina.'}),a.createElement(F.Z,{label:"Rol in buurtaanpak",divSize:"col-sm-6",name:"inspectionPersonTypeId",options:this.props.inspectionPersonTypes,value:D,onChangeAction:this.handleReactSelectChange,clearable:!0,disabled:Z>0,size:"col-sm-5",textToolTip:"Contact die worden toegevoegd aan deze groep krijgen dezelfde waarde als Rol in buurtaanpak"}))),a.createElement("div",{className:"row"},a.createElement(I.Z,{label:"Gemaakt op",name:"createdAt",value:P()(l).format("DD-MM-Y"),readOnly:!0}),a.createElement(I.Z,{label:"Gemaakt door",name:"createdBy",value:this.props.meDetails.fullName,readOnly:!0})),v&&a.createElement("div",{className:"row"},a.createElement(I.Z,{label:"Laposta lijst id",name:"lapostaListId",value:E,readOnly:!0}),a.createElement(I.Z,{label:"Gemaakt in Laposta op",name:"lapostaListCreatedAt",value:y&&P()(y).format("DD-MM-Y"),readOnly:!0})),this.state.errorMessage&&a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-10 col-md-offset-1 alert alert-danger"},this.state.errorMessage)),a.createElement("div",{className:"panel-footer"},a.createElement("div",{className:"pull-right btn-group",role:"group"},a.createElement(h.Z,{buttonClassName:"btn-default",buttonText:"Sluiten",onClickAction:this.props.switchToView}),a.createElement(h.Z,{buttonText:"Opslaan",onClickAction:this.handleSubmit}))),this.state.showConfirmDynamicToStatic&&a.createElement(p.Z,{buttonConfirmText:"Bevestigen",buttonClassName:"btn-danger",closeModal:this.closeDynamicToStatic,confirmAction:function(){return e.confirmDynamicToStatic()},title:"Bevestig groep type aanpassing"},a.createElement(a.Fragment,null,'Weet je zeker dat je het groepstype van deze groep wilt wijzigen naar "statisch"? De filters die zijn ingesteld voor deze groep komen te vervallen. De groep wordt dan niet meer dynamisch bijgewerkt op basis van de filters.')))}}]),o}(a.Component);const V=(0,r.$j)((function(e){return{meDetails:e.meDetails,contactGroupDetails:e.contactGroupDetails,permissions:e.systemData.permissions,inspectionPersonTypes:e.systemData.inspectionPersonTypes}}),(function(e){return{updateContactGroupDetails:function(t){e((0,o.WX)(t))},fetchSystemData:function(){e((0,d.P)())}}}))(_);var $=n(7250);const q=(0,r.$j)((function(e){return{contactGroupDetails:e.contactGroupDetails}}))((function(e){var t=e.contactGroupDetails,n=t.name,r=t.dynamicFilterType,o=t.contactGroupComposedType,c=t.description,s=t.responsibleUser,i=void 0===s?{}:s,l=t.closedStatus,u=t.dateStarted,p=t.dateFinished,m=t.createdAt,d=t.type,f=t.createdBy,h=t.showPortal,g=t.editPortal,v=t.showContactForm,E=t.sendEmailNewContactLink,y=t.isUsedInLaposta,b=t.lapostaListId,G=t.lapostaListCreatedAt,Z=t.emailTemplateNewContactLink,D=void 0===Z?{}:Z,C=t.includeIntoExportGroupReport,w=t.inspectionPersonType;return a.createElement("div",{onClick:e.switchToEdit},a.createElement("div",{className:"row"},a.createElement($.Z,{label:"Naam",value:n}),"composed"===d.id&&a.createElement($.Z,{label:"Voorwaarde",value:"one"===o?"In één van de groepen":"In alle groepen"}),"dynamic"===d.id&&a.createElement($.Z,{label:"Filter voorwaarde",value:"or"===r?'Alle extra filters zijn "OF"':'Alle extra filters zijn "EN"'})),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-3"},a.createElement("label",{htmlFor:"description",className:"col-sm-12"},"Omschrijving")),a.createElement("div",{className:"col-sm-9",id:"description"},c)),a.createElement("div",{className:"row"},a.createElement($.Z,{label:"Verantwoordelijke",value:i&&i.fullName,link:i?"gebruiker/"+i.id:""}),a.createElement($.Z,{label:"Status",value:l})),a.createElement("div",{className:"row"},a.createElement($.Z,{label:"Startdatum",value:u&&P()(u).format("DD-MM-Y")}),a.createElement($.Z,{label:"Datum gereed",value:p&&P()(p).format("DD-MM-Y")})),a.createElement("div",{className:"row"},a.createElement($.Z,{label:"Zichtbaar op portaal",value:h?"Ja":"Nee"}),a.createElement($.Z,{label:"Veranderen op portaal",value:g?"Ja":"Nee"})),a.createElement("div",{className:"row"},a.createElement($.Z,{label:"Zichtbaar bij contact",value:v?"Ja":"Nee"}),a.createElement($.Z,{label:"Type",value:d?d.name:""})),"static"===d.id&&a.createElement(a.Fragment,null,a.createElement("div",{className:"row"},a.createElement($.Z,{label:"Verstuur e-mail bij nieuwe contactkoppeling",value:E?"Ja":"Nee"}),1==E&&a.createElement($.Z,{label:"Template email nieuwe contactkoppeling",value:D?D.name:""})),a.createElement("div",{className:"row"},a.createElement($.Z,{label:"Meenemen in export groep rapportage",value:C?"Ja":"Nee",size:"col-sm-5",name:"includeIntoExportGroupReport",textToolTip:'Als je deze optie op "AAN" zet zal deze groep getoond worden in de export groepen rapportage op de "groepen beheer" pagina.'}),a.createElement($.Z,{label:"Rol in buurtaanpak",value:w?w.name+" groep":"",size:"col-sm-5",name:"inspectionPersonType",textToolTip:"Contact die worden toegevoegd aan deze groep krijgen dezelfde waarde als Rol in buurtaanpak"}))),a.createElement("div",{className:"row"},a.createElement($.Z,{label:"Gemaakt op",value:m&&P()(m).format("DD-MM-Y")}),a.createElement($.Z,{label:"Gemaakt door",value:f&&f.fullName})),y&&a.createElement("div",{className:"row"},a.createElement($.Z,{label:"Laposta lijst id",value:b}),a.createElement($.Z,{label:"Gemaakt in Laposta op",value:G&&P()(G).format("DD-MM-Y")})))}));var W=function(e){(0,D.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,w.Z)(t);if(n){var r=(0,w.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,C.Z)(this,e)});function o(e){var t;return(0,G.Z)(this,o),t=r.call(this,e),(0,N.Z)((0,L.Z)(t),"switchToEdit",(function(){t.setState({showEdit:!0})})),(0,N.Z)((0,L.Z)(t),"switchToView",(function(){t.setState({showEdit:!1,activeDiv:""})})),t.state={showEdit:"edit"===e.mode,activeDiv:""},t}return(0,Z.Z)(o,[{key:"onDivEnter",value:function(){this.setState({activeDiv:"panel-grey"})}},{key:"onDivLeave",value:function(){this.state.showEdit||this.setState({activeDiv:""})}},{key:"render",value:function(){var e=this,t=this.props.permissions;return a.createElement(i.Z,{className:this.state.activeDiv,onMouseEnter:function(){return e.onDivEnter()},onMouseLeave:function(){return e.onDivLeave()}},a.createElement(l.Z,null,a.createElement("div",{className:"col-md-12"},this.state.showEdit&&t.manageGroup?a.createElement(V,{switchToView:this.switchToView}):a.createElement(q,{switchToEdit:this.switchToEdit}))))}}]),o}(a.Component);const H=(0,r.$j)((function(e){return{permissions:e.meDetails.permissions}}))(W);var Y=function(e){(0,D.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,w.Z)(t);if(n){var r=(0,w.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,C.Z)(this,e)});function o(e){return(0,G.Z)(this,o),r.call(this,e)}return(0,Z.Z)(o,[{key:"render",value:function(){var e="",t=!0;return this.props.hasError?e="Fout bij het ophalen van groep.":(0,k.isEmpty)(this.props.contactGroupDetails)?e="Gegevens aan het laden.":(0,k.isEmpty)(this.props.contactGroupDetails)?e="Geen groep gevonden!":t=!1,t?a.createElement("div",null,e):a.createElement("div",null,a.createElement(H,{mode:this.props.mode}))}}]),o}(a.Component);const X=(0,r.$j)((function(e){return{contactGroupDetails:e.contactGroupDetails,isLoading:e.loadingData.isLoading,hasError:e.loadingData.hasError}}),null)(Y),J=function(e,t){switch(e){case"field":switch(t){case"id":return"Id";case"number":return"Contact nummer";case"typeId":return"Type";case"payoutTypeId":return"Uitkeren op";case"didAgreeAvg":return"Akkoord privacybeleid";case"fullName":case"name":return"Naam";case"streetAndNumber":return"Straat";case"postalCode":return"Postcode";case"city":return"Woonplaats";case"country":return"Land";case"emailAddress":return"E-mailadres";case"phoneNumber":return"Telefoon nummer";case"statusId":return"Status";case"currentObligations":return"Aantal obligaties";case"currentParticipations":return"Aantal participaties";case"currentPostalcodeLinkCapital":return"Aantal postcoderoos";case"currentLoan":return"Bedrag lening";case"staticContactGroup":return"Statische groep";case"occupation":return"Verbinding";case"occupationPrimary":return"Primaire verbinding";case"campaign":return"Campagne";case"opportunityMeasureCategory":return"Kans maatregel categorie";case"opportunityStatus":return"Kans status";case"opportunityMeasure":return"Kans maatregel specifiek";case"opportunityEvaluationRealised":return"Kans status evaluatie uitgevoerd";case"opportunityCampaign":return"Kans campagne";case"intakeMeasureCategory":return"Intake - Interesse";case"intakeDateStart":return"Intake - Begin datum";case"intakeDateFinish":return"Intake - Eind datum";case"intakeStatus":return"Intake - Status";case"quotationRequestStatusOrganisationOrCoach":return"Kansactie status (org/coach)";case"quotationRequestStatusOccupant":return"Kansactie status (bewoner)";case"portalUser":return"Portal gebruiker actief";case"housingFileFieldName":return"Woningdossier - veldnaam";case"housingFileFieldValue":return"Woningdossier - status / waarde";case"contactFreeFieldsFieldName":return"Vrij veld contact - veldnaam";case"addressFreeFieldsFieldName":return"Vrij veld adres - veldnaam";case"contactFreeFieldsFieldValue":return"Vrij veld contact - status / waarde";case"addressFreeFieldsFieldValue":return"Vrij veld adres - status / waarde";case"housingFileExists":return"Woningdossier aanwezig";case"inspectionPersonType":return"Rol in buurtaanpak";case"sharedArea":return"Buurt";case"product":return"Product";case"dateStart":return"Product - Begin datum";case"dateFinish":return"Product - Eind datum";case"orderStatus":return"Product - Order status";case"contactType":return"Contact type";case"address":return"Adres";case"dateRegister":return"Eerste ingangsdatum deelname";case"energySupplierId":case"energySupplier":return"Energie leverancier";case"contactBirthday":return"Contact geboortedatum";case"projectId":return"Project";case"dateOfBirth":return"Geboortedatum";case"energySupplierType":return"Type huidige energie leverancier";case"dateContractSend":return"Datum contract verzonden";case"dateEnd":return"Einddatum";case"giftedByContactId":return"Geschonken door";case"participationsSold":return"Deelnames overgedragen";case"didAcceptAgreement":return"Akkoord voorwaarden";case"didUnderstandInfo":return"Projectinfo begrepen";case"participationsRequested":return"Deelnames aangevraagd";case"participantMutationTypeId":return"Deelname type (Mutaties)";case"participantMutationStatusId":return"Deelname status (Mutaties)";case"participantMutationDateContractRetour":return"Datum contract retour (Mutaties)";case"participantMutationDatePayment":return"Betaaldatum (Mutaties)";case"obligationsDefinitive":return"Huidig aantal obligaties";case"participationsDefinitive":return"Huidig aantal participaties";case"postalcodeLinkCapitalDefinitive":return"Huidig aantal postcoderoos";case"loanDefinitive":return"Huidig bedrag obligaties";case"createdAt":return"Gemaakt op";case"hoomdossierExists":return"Hoomdossier aangemaakt"}break;case"comperator":switch(t){case"eq":case"rel":return"gelijk aan";case"neq":case"nrel":return"niet gelijk aan";case"ct":return"bevat";case"nct":return"bevat niet";case"lt":return"kleiner dan";case"lte":return"kleiner of gelijk aan";case"gt":return"groter dan";case"gte":return"groter dan of gelijk aan";case"nl":return"is leeg";case"nnl":return"is niet leeg";case"is0":return"is 0";case"isn0":return"is niet 0";case"bw":return"begint met";case"nbw":return"begint niet met";case"ew":return"eindigt met";case"new":return"eindigt niet met";case"bool":return"is"}}},K=function(e){var t=e.extraFilter,n=t.field,r=t.comperator,o=t.dataName,c=o;!(0,k.isEmpty)(o)||"energySupplier"!==n&&"campaign"!==n&&"energySupplierType"!==n&&"orderStatus"!==n&&"product"!==n&&"opportunityMeasureCategory"!==n&&"opportunityStatus"!==n&&"opportunityMeasure"!==n&&"opportunityEvaluationRealised"!==n&&"opportunityCampaign"!==n&&"intakeMeasureCategory"!==n&&"intakeDateStart"!==n&&"intakeDateFinish"!==n&&"intakeStatus"!==n&&"quotationRequestStatusOrganisationOrCoach"!==n&&"quotationRequestStatusOccupant"!==n&&"occupationPrimary"!==n&&"occupation"!==n&&"staticContactGroup"!==n&&"country"!==n&&"inspectionPersonType"!==n&&"housingFileFieldValue"!==n&&"sharedArea"!==n||"eq"!==r&&"neq"!==r&&"rel"!==r&&"nrel"!==r||(c="--Willekeurige waarde--");var s=J("field",n),i=J("comperator",r);return a.createElement("div",{className:"row border ".concat(e.highlightLine),onMouseEnter:function(){return e.onLineEnter()},onMouseLeave:function(){return e.onLineLeave()}},a.createElement("div",null,a.createElement("div",{className:"col-sm-3"},s),a.createElement("div",{className:"col-sm-3"},i),a.createElement("div",{className:"col-sm-3"},c)))};const Q=function(e){(0,D.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,w.Z)(t);if(n){var r=(0,w.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,C.Z)(this,e)});function o(e){var t;return(0,G.Z)(this,o),t=r.call(this,e),(0,N.Z)((0,L.Z)(t),"onLineEnter",(function(){t.setState({highlightLine:"highlight-line"})})),(0,N.Z)((0,L.Z)(t),"onLineLeave",(function(){t.setState({highlightLine:""})})),t.state={highlightLine:""},t}return(0,Z.Z)(o,[{key:"render",value:function(){return a.createElement("div",null,a.createElement(K,{highlightLine:this.state.highlightLine,onLineEnter:this.onLineEnter,onLineLeave:this.onLineLeave,extraFilter:this.props.extraFilter}))}}]),o}(a.Component),ee=(0,r.$j)((function(e){return{extraFilters:e.contactGroupDetails.extraFilters}}))((function(e){return a.createElement("div",null,a.createElement("div",{className:"row border header"},a.createElement("div",{className:"col-sm-3"},"Veld"),a.createElement("div",{className:"col-sm-3"},"Type"),a.createElement("div",{className:"col-sm-3"},"Waarde")),e.extraFilters.length>0?e.extraFilters.map((function(e){return a.createElement(Q,{key:e.id,extraFilter:e})})):a.createElement("div",null,"Geen extra filters bekend."))}));var te=n(80720);const ne=function(e){(0,D.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,w.Z)(t);if(n){var r=(0,w.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,C.Z)(this,e)});function o(e){return(0,G.Z)(this,o),r.call(this,e)}return(0,Z.Z)(o,[{key:"render",value:function(){return a.createElement(i.Z,null,a.createElement(te.Z,null,a.createElement("span",{className:"h5 text-bold"},"Extra filters")),a.createElement(l.Z,null,a.createElement("div",{className:"col-md-12"},a.createElement(ee,null))))}}]),o}(a.Component),ae=function(e){var t=e.filter,n=t.field,r=t.dataName,o=J("field",n);return a.createElement("div",{className:"row border ".concat(e.highlightLine),onMouseEnter:function(){return e.onLineEnter()},onMouseLeave:function(){return e.onLineLeave()}},a.createElement("div",null,a.createElement("div",{className:"col-sm-3"},o),a.createElement("div",{className:"col-sm-3"},r)))};function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){(0,N.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ce=function(e){(0,D.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,w.Z)(t);if(n){var r=(0,w.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,C.Z)(this,e)});function o(e){var t;return(0,G.Z)(this,o),t=r.call(this,e),(0,N.Z)((0,L.Z)(t),"onLineEnter",(function(){t.setState({highlightLine:"highlight-line"})})),(0,N.Z)((0,L.Z)(t),"onLineLeave",(function(){t.setState({highlightLine:""})})),t.state={highlightLine:"",filter:oe({},e.filter)},t}return(0,Z.Z)(o,[{key:"render",value:function(){return a.createElement("div",null,a.createElement(ae,{highlightLine:this.state.highlightLine,onLineEnter:this.onLineEnter,onLineLeave:this.onLineLeave,filter:this.state.filter}))}}]),o}(a.Component),se=(0,r.$j)((function(e){return{filters:e.contactGroupDetails.filters}}))((function(e){return a.createElement("div",null,a.createElement("div",{className:"row border header"},a.createElement("div",{className:"col-sm-3"},"Veld"),a.createElement("div",{className:"col-sm-3"},"Waarde")),e.filters.length>0?e.filters.map((function(e){return a.createElement(ce,{key:e.id,filter:e})})):a.createElement("div",null,"Geen filters bekend."))}));const ie=function(e){(0,D.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,w.Z)(t);if(n){var r=(0,w.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,C.Z)(this,e)});function o(e){return(0,G.Z)(this,o),r.call(this,e)}return(0,Z.Z)(o,[{key:"render",value:function(){return a.createElement(i.Z,null,a.createElement(te.Z,null,a.createElement("span",{className:"h5 text-bold"},"Filters")),a.createElement(l.Z,null,a.createElement("div",{className:"col-md-12"},a.createElement(se,null))))}}]),o}(a.Component);var le=function(e){(0,D.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,w.Z)(t);if(n){var r=(0,w.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,C.Z)(this,e)});function o(e){var t;return(0,G.Z)(this,o),t=r.call(this,e),(0,N.Z)((0,L.Z)(t),"openItem",(function(e){s.nA.push("/taak/".concat(e))})),t.state={relatedTasks:""},t}return(0,Z.Z)(o,[{key:"render",value:function(){var e=this,t=this.props.relatedTasks;return a.createElement("div",null,""==t&&a.createElement("div",null,"Geen taken gevonden."),""!=t&&a.createElement("table",{className:"table harmonica-table"},a.createElement("tbody",null,t.map((function(t,n){return a.createElement("tr",{onClick:function(){return e.openItem(t.id)},key:n},a.createElement("td",{className:"col-xs-12 clickable"},P()(t.createdAt).format("L")," - ",t.noteSummary))})))))}}]),o}(a.Component);const ue=(0,r.$j)((function(e){return{relatedTasks:e.contactGroupDetails.relatedTasks}}))(le);var pe=n(97894),me=n(10055);const de=(0,r.$j)((function(e){return{permissions:e.meDetails.permissions}}),null)((function(e){var t=e.toggleShowList,n=e.showTasksList,r=e.newTask,o=e.taskCount,c=e.permissions;return a.createElement(i.Z,{className:"harmonica-button"},a.createElement(l.Z,null,a.createElement("div",{className:"col-sm-10",onClick:t,role:"button"},a.createElement("span",{className:""},"TAKEN ",a.createElement("span",{className:"badge"},o))),a.createElement("div",{className:"col-sm-2"},c.manageTask&&a.createElement("a",{role:"button",className:"pull-right",onClick:r},a.createElement(pe.ZP,{className:"harmonica-button",size:14,icon:me.P}))),a.createElement("div",{className:"col-sm-12"},n&&a.createElement(ue,null))))}));var fe=function(e){(0,D.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,w.Z)(t);if(n){var r=(0,w.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,C.Z)(this,e)});function o(e){var t;return(0,G.Z)(this,o),t=r.call(this,e),(0,N.Z)((0,L.Z)(t),"openItem",(function(e){s.nA.push("/document/".concat(e))})),t.state={relatedDocuments:""},t}return(0,Z.Z)(o,[{key:"render",value:function(){var e=this,t=this.props.relatedDocuments;return a.createElement("div",null,""==t&&a.createElement("div",null,"Geen documenten gevonden."),""!=t&&a.createElement("table",{className:"table harmonica-table"},a.createElement("tbody",null,t.map((function(t,n){return a.createElement("tr",{onClick:function(){return e.openItem(t.id)},key:n},a.createElement("td",{className:"col-xs-5 clickable"},P()(t.created_at).format("L")),a.createElement("td",{className:"col-xs-6 clickable"},t.filename))})))))}}]),o}(a.Component);const he=(0,r.$j)((function(e){return{relatedDocuments:e.contactGroupDetails.relatedDocuments}}))(fe),ge=(0,r.$j)((function(e){return{permissions:e.meDetails.permissions}}),null)((function(e){var t=e.toggleShowList,n=e.showDocumentsList,r=e.newDocument,o=e.documentCount,c=e.permissions;return a.createElement(i.Z,{className:"harmonica-button"},a.createElement(l.Z,null,a.createElement("div",{className:"col-sm-10",onClick:t,role:"button"},a.createElement("span",null,"DOCUMENTEN ",a.createElement("span",{className:"badge"},o))),a.createElement("div",{className:"col-sm-2"},c.createDocument&&a.createElement("div",{className:"pull-right"},a.createElement(pe.ZP,{className:"harmonica-button",size:14,icon:me.P,"data-toggle":"dropdown",role:"button"}),a.createElement("ul",{className:"dropdown-menu"},a.createElement("li",null,a.createElement("a",{className:"btn",onClick:function(){return r("internal")}},"Maak document")),a.createElement("li",null,a.createElement("a",{className:"btn",onClick:function(){return r("upload")}},"Upload document"))))),a.createElement("div",{className:"col-sm-12"},n&&a.createElement(he,null))))}));function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){(0,N.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=function(e){(0,D.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,w.Z)(t);if(n){var r=(0,w.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,C.Z)(this,e)});function o(e){var t;return(0,G.Z)(this,o),t=r.call(this,e),(0,N.Z)((0,L.Z)(t),"newTask",(function(){s.nA.push("/taak/nieuw/contact-groep/".concat(t.props.id))})),(0,N.Z)((0,L.Z)(t),"newDocument",(function(e){s.nA.push("/document/nieuw/".concat(e,"/contact-groep/").concat(t.props.id))})),t.state={toggleShowList:{tasks:!1,documents:!1}},t.toggleShowList=t.toggleShowList.bind((0,L.Z)(t)),t}return(0,Z.Z)(o,[{key:"toggleShowList",value:function(e){this.setState(Ee(Ee({},this.state),{},{toggleShowList:Ee(Ee({},this.state.toggleShowList),{},(0,N.Z)({},e,!this.state.toggleShowList[e]))}))}},{key:"render",value:function(){var e=this;return this.props.permissions,a.createElement("div",{className:"margin-10-top"},a.createElement(de,{toggleShowList:function(){return e.toggleShowList("tasks")},showTasksList:this.state.toggleShowList.tasks,taskCount:this.props.contactGroupDetails.taskCount,newTask:this.newTask}),a.createElement(ge,{toggleShowList:function(){return e.toggleShowList("documents")},showDocumentsList:this.state.toggleShowList.documents,newDocument:this.newDocument,documentCount:this.props.contactGroupDetails.documentCount}))}}]),o}(a.Component);const be=(0,r.$j)((function(e){return{contactGroupDetails:e.contactGroupDetails,permissions:e.meDetails.permissions}}))(ye);var Ge=n(77320);const Ze=function(e){var t=e.composedGroup,n=t.id,r=t.name;return a.createElement("div",{className:"row border ".concat(e.highlightLine),onMouseEnter:function(){return e.onLineEnter()},onMouseLeave:function(){return e.onLineLeave()}},a.createElement("div",null,a.createElement("div",{className:"col-sm-11",onClick:function(){return s.nA.push("/contact-groep/".concat(n))}},r),a.createElement("div",{className:"col-sm-1"},e.showActionButtons?a.createElement("a",{role:"button",onClick:e.toggleDelete},a.createElement(pe.ZP,{className:"mybtn-danger",size:14,icon:Ge._})):"")))},De=(0,r.$j)(null,(function(e){return{deleteComposedGroup:function(t,n){e((0,o.QQ)(t,n))},fetchContactGroupDetails:function(t){e((0,o.Ef)(t))}}}))((function(e){return a.createElement(p.Z,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.closeDeleteItemModal,confirmAction:function(){return e.deleteComposedGroup(e.contactGroupId,e.composedGroup.id),e.fetchContactGroupDetails(e.contactGroupId),void e.closeDeleteItemModal()},title:"Verwijderen"},a.createElement("p",null,"Ontkoppel groep: ",a.createElement("strong",null," ","".concat(e.composedGroup.name)," ")))}));function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){(0,N.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ke=function(e){(0,D.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,w.Z)(t);if(n){var r=(0,w.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,C.Z)(this,e)});function o(e){var t;return(0,G.Z)(this,o),t=r.call(this,e),(0,N.Z)((0,L.Z)(t),"onLineEnter",(function(){t.setState({showActionButtons:!0,highlightLine:"highlight-line"})})),(0,N.Z)((0,L.Z)(t),"onLineLeave",(function(){t.setState({showActionButtons:!1,highlightLine:""})})),(0,N.Z)((0,L.Z)(t),"toggleDelete",(function(){t.setState({showDelete:!t.state.showDelete})})),t.state={highlightLine:"",showActionButtons:!1,showDelete:!1,composedGroup:we({},e.composedGroup)},t}return(0,Z.Z)(o,[{key:"render",value:function(){return a.createElement("div",null,a.createElement(Ze,{highlightLine:this.state.highlightLine,onLineEnter:this.onLineEnter,onLineLeave:this.onLineLeave,toggleDelete:this.toggleDelete,showActionButtons:this.state.showActionButtons,composedGroup:this.state.composedGroup}),this.state.showDelete&&a.createElement(De,{closeDeleteItemModal:this.toggleDelete,contactGroupId:this.props.contactGroupId,composedGroup:this.state.composedGroup}))}}]),o}(a.Component),Oe=(0,r.$j)((function(e){return{composedGroups:e.contactGroupDetails.composedGroups,contactGroupId:e.contactGroupDetails.id}}))((function(e){return a.createElement("div",null,a.createElement("div",{className:"row border header"},a.createElement("div",{className:"col-sm-12"},"Groep")),e.composedGroups.length>0?e.composedGroups.map((function(t){return a.createElement(ke,{key:t.id,composedGroup:t,contactGroupId:e.contactGroupId})})):a.createElement("div",null,"Geen samengestelde groepen bekend."))}));function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){(0,N.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Te=function(e){(0,D.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,w.Z)(t);if(n){var r=(0,w.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,C.Z)(this,e)});function o(e){var t;return(0,G.Z)(this,o),t=r.call(this,e),(0,N.Z)((0,L.Z)(t),"handleInputChange",(function(e){var n=e.target,a="checkbox"===n.type?n.checked:n.value,r=n.name;t.setState((0,N.Z)({},r,a))})),(0,N.Z)((0,L.Z)(t),"handleSubmit",(function(e){e.preventDefault();var n={},a=!1;j().isEmpty(t.state.contactGroupToAttachId)&&(n.contactGroupToAttachId=!0,a=!0),t.setState(Ne(Ne({},t.state),{},{errors:n})),a||(t.props.attachComposedGroup(t.props.contactGroupId,t.state.contactGroupToAttachId),t.props.fetchContactGroupDetails(t.props.contactGroupId),t.props.toggleAddGroup())})),t.state={contactGroups:[],contactGroupToAttachId:"",errors:{contactGroupToAttachId:!1}},t}return(0,Z.Z)(o,[{key:"componentDidMount",value:function(){var e=this;g.Z.peekContactGroups().then((function(t){e.setState({contactGroups:t})}))}},{key:"render",value:function(){var e=this.state.contactGroups;return this.props.composedGroups.map((function(t){O().remove(e,(function(e){return e.id===t.id}))})),a.createElement(p.Z,{buttonConfirmText:"Toevoegen",closeModal:this.props.toggleAddGroup,confirmAction:this.handleSubmit,title:"Groep koppelen"},a.createElement("div",{className:"row"},a.createElement(M.Z,{size:"col-md-12",label:"Groep",name:"contactGroupToAttachId",options:e,value:this.state.contactGroupToAttachId,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.contactGroupToAttachId})))}}]),o}(a.Component);const je=(0,r.$j)((function(e){return{composedGroups:e.contactGroupDetails.composedGroups}}),(function(e){return{attachComposedGroup:function(t,n){e((0,o.zm)(t,n))},fetchContactGroupDetails:function(t){e((0,o.Ef)(t))}}}))(Te),Se=(0,r.$j)(null,(function(e){return{deleteComposedExceptGroup:function(t,n){e((0,o.Um)(t,n))},fetchContactGroupDetails:function(t){e((0,o.Ef)(t))}}}))((function(e){return a.createElement(p.Z,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.closeDeleteItemModal,confirmAction:function(){return e.deleteComposedExceptGroup(e.contactGroupId,e.composedExceptGroup.id),e.fetchContactGroupDetails(e.contactGroupId),void e.closeDeleteItemModal()},title:"Verwijder uit uitgezonderd"},a.createElement("p",null,"Ontkoppel groep: ",a.createElement("strong",null," ","".concat(e.composedExceptGroup.name)," ")))}));function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){(0,N.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ie=function(e){(0,D.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,w.Z)(t);if(n){var r=(0,w.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,C.Z)(this,e)});function o(e){var t;return(0,G.Z)(this,o),t=r.call(this,e),(0,N.Z)((0,L.Z)(t),"onLineEnter",(function(){t.setState({showActionButtons:!0,highlightLine:"highlight-line"})})),(0,N.Z)((0,L.Z)(t),"onLineLeave",(function(){t.setState({showActionButtons:!1,highlightLine:""})})),(0,N.Z)((0,L.Z)(t),"toggleDelete",(function(){t.setState({showDelete:!t.state.showDelete})})),t.state={highlightLine:"",showActionButtons:!1,showDelete:!1,composedExceptGroup:Ae({},e.composedExceptGroup)},t}return(0,Z.Z)(o,[{key:"render",value:function(){return a.createElement("div",null,a.createElement(Ze,{highlightLine:this.state.highlightLine,onLineEnter:this.onLineEnter,onLineLeave:this.onLineLeave,toggleDelete:this.toggleDelete,showActionButtons:this.state.showActionButtons,composedGroup:this.state.composedExceptGroup}),this.state.showDelete&&a.createElement(Se,{closeDeleteItemModal:this.toggleDelete,contactGroupId:this.props.contactGroupId,composedExceptGroup:this.state.composedExceptGroup}))}}]),o}(a.Component),Re=(0,r.$j)((function(e){return{composedExceptGroups:e.contactGroupDetails.composedExceptGroups,contactGroupId:e.contactGroupDetails.id}}))((function(e){return a.createElement("div",null,a.createElement("div",{className:"row border header"},a.createElement("div",{className:"col-sm-12"},"Groep")),e.composedExceptGroups.length>0?e.composedExceptGroups.map((function(t){return a.createElement(Ie,{key:t.id,composedExceptGroup:t,contactGroupId:e.contactGroupId})})):a.createElement("div",null,"Geen uitgezonderde groepen bekend."))}));function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){(0,N.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe=function(e){(0,D.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,w.Z)(t);if(n){var r=(0,w.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,C.Z)(this,e)});function o(e){var t;return(0,G.Z)(this,o),t=r.call(this,e),(0,N.Z)((0,L.Z)(t),"handleInputChange",(function(e){var n=e.target,a="checkbox"===n.type?n.checked:n.value,r=n.name;t.setState((0,N.Z)({},r,a))})),(0,N.Z)((0,L.Z)(t),"handleSubmit",(function(e){e.preventDefault();var n={},a=!1;j().isEmpty(t.state.contactGroupToAttachId)&&(n.contactGroupToAttachId=!0,a=!0),t.setState(Me(Me({},t.state),{},{errors:n})),a||(t.props.attachComposedExceptGroup(t.props.contactGroupId,t.state.contactGroupToAttachId),t.props.fetchContactGroupDetails(t.props.contactGroupId),t.props.toggleExceptGroup())})),t.state={contactGroups:[],contactGroupToAttachId:"",errors:{contactGroupToAttachId:!1}},t}return(0,Z.Z)(o,[{key:"componentDidMount",value:function(){var e=this;g.Z.peekContactGroups().then((function(t){e.setState({contactGroups:t})}))}},{key:"render",value:function(){var e=this.state.contactGroups;return this.props.composedExceptGroups.map((function(t){O().remove(e,(function(e){return e.id===t.id}))})),a.createElement(p.Z,{buttonConfirmText:"Uitzonderen",closeModal:this.props.toggleExceptGroup,confirmAction:this.handleSubmit,title:"Groep uitzonderen"},a.createElement("div",{className:"row"},a.createElement(M.Z,{size:"col-md-12",label:"Groep",name:"contactGroupToAttachId",options:e,value:this.state.contactGroupToAttachId,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.contactGroupToAttachId})))}}]),o}(a.Component);const ze=(0,r.$j)((function(e){return{composedExceptGroups:e.contactGroupDetails.composedExceptGroups}}),(function(e){return{attachComposedExceptGroup:function(t,n){e((0,o.ps)(t,n))},fetchContactGroupDetails:function(t){e((0,o.Ef)(t))}}}))(Fe);var Be=function(e){(0,D.Z)(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,w.Z)(t);if(n){var r=(0,w.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,C.Z)(this,e)});function o(e){var t;return(0,G.Z)(this,o),t=r.call(this,e),(0,N.Z)((0,L.Z)(t),"toggleAddGroup",(function(){t.setState({showAddGroup:!t.state.showAddGroup})})),(0,N.Z)((0,L.Z)(t),"toggleExceptGroup",(function(){t.setState({showExceptGroup:!t.state.showExceptGroup})})),t.state={showAddGroup:!1,showExceptGroup:!1},t}return(0,Z.Z)(o,[{key:"render",value:function(){return a.createElement("div",null,a.createElement(i.Z,null,a.createElement(te.Z,null,a.createElement("span",{className:"h5 text-bold"},"Samengesteld uit"),a.createElement("a",{role:"button",className:"pull-right",onClick:this.toggleAddGroup},a.createElement(pe.ZP,{size:14,icon:me.P}))),a.createElement(l.Z,null,a.createElement("div",{className:"col-md-12"},a.createElement(Oe,null))),this.state.showAddGroup&&a.createElement(je,{toggleAddGroup:this.toggleAddGroup,contactGroupId:this.props.contactGroupId})),a.createElement(i.Z,null,a.createElement(te.Z,null,a.createElement("span",{className:"h5 text-bold"},"Uitgezonderd in samenstelling"),a.createElement("a",{role:"button",className:"pull-right",onClick:this.toggleExceptGroup},a.createElement(pe.ZP,{size:14,icon:me.P}))),a.createElement(l.Z,null,a.createElement("div",{className:"col-md-12"},a.createElement(Re,null))),this.state.showExceptGroup&&a.createElement(ze,{toggleExceptGroup:this.toggleExceptGroup,contactGroupId:this.props.contactGroupId})))}}]),o}(a.Component);const Ue=(0,r.$j)((function(e){return{contactGroupId:e.contactGroupDetails.id}}))(Be),_e=(0,r.$j)((function(e){return{userDetails:e.userDetails,contactGroupDetails:e.contactGroupDetails}}),(function(e){return{fetchContactGroupDetails:function(t){e((0,o.Ef)(t))},clearContactGroupDetails:function(){e((0,o.oo)())}}}))((function(e){function t(t){e.clearContactGroupDetails(),e.fetchContactGroupDetails(t)}return(0,a.useEffect)((function(){t(e.params.id)}),[e.params.id]),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-9"},a.createElement("div",{className:"col-md-12"},a.createElement(b,{callFetchContactGroupDetails:function(){return t(e.params.id)}})),a.createElement("div",{className:"col-md-12"},a.createElement(X,{mode:e.params.mode})),e.contactGroupDetails.type&&"dynamic"===e.contactGroupDetails.type.id&&a.createElement("div",{className:"col-md-12"},a.createElement(ie,null)),e.contactGroupDetails.type&&"dynamic"===e.contactGroupDetails.type.id&&a.createElement("div",{className:"col-md-12"},a.createElement(ne,null)),e.contactGroupDetails.type&&"composed"===e.contactGroupDetails.type.id&&a.createElement("div",{className:"col-md-12"},a.createElement(Ue,null))),a.createElement(i.Z,{className:"col-md-3 harmonica"},a.createElement(l.Z,null,a.createElement(be,{id:e.params.id}))))}))}}]);