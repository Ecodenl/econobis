"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[6148],{60857:(t,e,n)=>{n.d(e,{A:()=>o});var a=n(61941),c="/campaign";const o={fetchCampaign:function(t){var e=t.id,n="".concat(c,"/").concat(e);return a.A.get(n)},fetchCampaignIntakes:function(t){var e=t.id,n=t.page,o="".concat(c,"/").concat(e,"/intakes?page=").concat(n);return a.A.get(o)},fetchCampaignOpportunities:function(t){var e=t.id,n=t.page,o="".concat(c,"/").concat(e,"/opportunities?page=").concat(n);return a.A.get(o)},fetchCampaignWorkflowStatuses:function(t){var e=t.campaignId,n=t.workflowForType,o="".concat(c,"/").concat(e,"/workflow-statuses/").concat(n);return a.A.get(o)},updateCampaign:function(t,e){var n="".concat(c,"/").concat(t);return a.A.post(n,e)},updateCampaignInspection:function(t,e){var n="".concat(c,"/inspection/").concat(t);return a.A.post(n,e)},updateCampaignWorkflowSetting:function(t,e){var n="".concat(c,"/workflow-setting/").concat(t);return a.A.post(n,e)},storeCampaign:function(t){var e="".concat(c);return a.A.post(e,t)},deleteCampaign:function(t){var e="".concat(c,"/").concat(t,"/delete");return a.A.post(e)},attachResponse:function(t,e){var n="".concat(c,"/").concat(t,"/response/").concat(e,"/attach");return a.A.post(n)},detachResponse:function(t,e){var n="".concat(c,"/").concat(t,"/response/").concat(e,"/detach");return a.A.post(n)},attachOrganisation:function(t,e){var n="".concat(c,"/").concat(t,"/organisation/").concat(e,"/attach");return a.A.post(n)},detachOrganisation:function(t,e){var n="".concat(c,"/").concat(t,"/organisation/").concat(e,"/detach");return a.A.post(n)},attachCoach:function(t,e){var n="".concat(c,"/").concat(t,"/coach/").concat(e,"/attach");return a.A.post(n)},detachCoach:function(t,e){var n="".concat(c,"/").concat(t,"/coach/").concat(e,"/detach");return a.A.post(n)},attachProjectManager:function(t,e){var n="".concat(c,"/").concat(t,"/projectManager/").concat(e,"/attach");return a.A.post(n)},detachProjectManager:function(t,e){var n="".concat(c,"/").concat(t,"/projectManager/").concat(e,"/detach");return a.A.post(n)},attachExternalParty:function(t,e){var n="".concat(c,"/").concat(t,"/externalParty/").concat(e,"/attach");return a.A.post(n)},detachExternalParty:function(t,e){var n="".concat(c,"/").concat(t,"/externalParty/").concat(e,"/detach");return a.A.post(n)},updateCampaignOwner:function(t,e){var n="".concat(c,"/").concat(t,"/owner/").concat(e,"/associate");return a.A.post(n)},deleteCampaignWorkflow:function(t){var e="".concat(c,"/campaignworkflow/").concat(t,"/delete");return a.A.post(e)},addCampaignWorkflow:function(t){var e="".concat(c,"/campaignworkflow/add");return a.A.post(e,t)},editCampaignWorkflow:function(t,e){var n="".concat(c,"/campaignworkflow/").concat(t,"/edit");return a.A.post(n,e)}}},46148:(t,e,n)=>{n.r(e),n.d(e,{default:()=>x});var a=n(23029),c=n(92901),o=n(56822),r=n(53954),i=n(85501),s=n(96540),l=n(69733),u=n(24179),m=n(91858);const p=(0,l.Ng)((function(t){return{permissions:t.meDetails.permissions,campaigns:t.campaigns.list}}))((function(t){var e=t.permissions,n=void 0===e?{}:e,a=t.campaigns.meta,c=void 0===a?{}:a;return s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-4"},s.createElement("div",{className:"btn-group",role:"group"},s.createElement(m.A,{iconName:"arrowLeft",onClickAction:u.Nc.goBack}),n.manageMarketing&&s.createElement(m.A,{iconName:"plus",onClickAction:function(){u.RL.push("campagne/nieuw")}}))),s.createElement("div",{className:"col-md-4"},s.createElement("h3",{className:"text-center table-title"},"Campagnes")),s.createElement("div",{className:"col-md-4"},s.createElement("div",{className:"pull-right"},"Resultaten: ",c.total||0)))}));var g=n(58168),h=n(64467),d=n(42285),f=n(45403),v=n(93913),A=n(26829),w=n(95093),E=n.n(w),C=n(87722),k=n(88505);function y(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(y=function(){return!!t})()}n(87696),E().locale("nl");var D=function(t){function e(t){var n,c,i,s;return(0,a.A)(this,e),c=this,i=e,s=[t],i=(0,r.A)(i),(n=(0,o.A)(c,y()?Reflect.construct(i,s||[],(0,r.A)(c).constructor):i.apply(c,s))).state={showActionButtons:!1,highlightRow:""},n}return(0,i.A)(e,t),(0,c.A)(e,[{key:"onRowEnter",value:function(){this.setState({showActionButtons:!0,highlightRow:"highlight-row"})}},{key:"onRowLeave",value:function(){this.setState({showActionButtons:!1,highlightRow:""})}},{key:"openItem",value:function(t){u.RL.push("campagne/".concat(t))}},{key:"render",value:function(){var t=this,e=this.props,n=e.id,a=e.number,c=e.startDate,o=e.endDate,r=e.name,i=e.type,l=e.status,u=e.amountResponses;return s.createElement("tr",{className:this.state.highlightRow,onDoubleClick:function(){return t.openItem(n)},onMouseEnter:function(){return t.onRowEnter()},onMouseLeave:function(){return t.onRowLeave()}},s.createElement("td",null,a),s.createElement("td",null,c?E()(c).format("L"):""),s.createElement("td",null,o?E()(o).format("L"):""),s.createElement("td",null,r),s.createElement("td",null,i),s.createElement("td",null,l),s.createElement("td",null,u),s.createElement("td",null,this.state.showActionButtons?s.createElement("a",{role:"button",onClick:function(){return t.openItem(n)}},s.createElement(C.Ay,{className:"mybtn-success",size:14,icon:k.w})):"",(this.state.showActionButtons&&this.props.permissions.manageMarketing,"")))}}])}(s.Component);const b=(0,l.Ng)((function(t){return{permissions:t.meDetails.permissions}}))(D);var P=n(63750),N=n(60857);const I=function(t){return s.createElement(P.A,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:t.closeDeleteItemModal,confirmAction:function(){return N.A.deleteCampaign(t.id).then((function(){t.fetchCampaignsData()})),void t.closeDeleteItemModal()},title:"Verwijderen"},"Verwijder campagne ",s.createElement("strong",null,t.name),"?")};var O=n(74850);function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach((function(e){(0,h.A)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function j(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(j=function(){return!!t})()}var S=function(t){function e(t){var n,c,i,s;return(0,a.A)(this,e),c=this,i=e,s=[t],i=(0,r.A)(i),n=(0,o.A)(c,j()?Reflect.construct(i,s||[],(0,r.A)(c).constructor):i.apply(c,s)),(0,h.A)(n,"showDeleteItemModal",(function(t,e){n.setState(R(R({},n.state),{},{showDeleteItem:!0,deleteItem:R(R({},n.state.deleteItem),{},{id:t,name:e})}))})),(0,h.A)(n,"closeDeleteItemModal",(function(){n.setState(R(R({},n.state),{},{showDeleteItem:!1,deleteItem:R(R({},n.state.deleteItem),{},{id:"",name:""})}))})),n.state={showDeleteItem:!1,deleteItem:{id:"",name:""}},n}return(0,i.A)(e,t),(0,c.A)(e,[{key:"render",value:function(){var t=this,e=this.props.campaigns,n=e.data,a=void 0===n?[]:n,c=e.meta,o=void 0===c?{}:c,r=this.props.permissions,i=void 0===r?{}:r,l="",u=!0;return this.props.hasError?l=i.manageMarketing?"Fout bij het ophalen van campagnes.":"Je moet de rol “Marketing medewerker” of “Key user” hebben om campagnes te kunnen inzien/aanpassen, vraag jou admin/key-user om jou deze rechten via instellingen > gebruikers te geven indien nodig.":this.props.isLoading?l="Gegevens aan het laden.":0===a.length?l="Geen campagnes gevonden!":u=!1,s.createElement("div",null,s.createElement(d.A,null,s.createElement(f.A,null,s.createElement("tr",{className:"thead-title-quaternary"},s.createElement(A.A,{title:"Nummer",width:"10%"}),s.createElement(A.A,{title:"Begindatum",width:"10%"}),s.createElement(A.A,{title:"Einddatum",width:"10%"}),s.createElement(A.A,{title:"Naam",width:"20%"}),s.createElement(A.A,{title:"Type",width:"20%"}),s.createElement(A.A,{title:"Status",width:"10%"}),s.createElement(A.A,{title:"Aantal responses",width:"14%"}),s.createElement(A.A,{title:"",width:"6%"}))),s.createElement(v.A,null,u?s.createElement("tr",null,s.createElement("td",{colSpan:9},l)):a.map((function(e){return s.createElement(b,(0,g.A)({key:e.id},e,{showDeleteItemModal:t.showDeleteItemModal}))})))),s.createElement("div",{className:"col-md-6 col-md-offset-3"},s.createElement(O.A,{onPageChangeAction:this.props.handlePageClick,totalRecords:o.total,initialPage:this.props.campaignsPagination.page})),this.state.showDeleteItem&&s.createElement(I,(0,g.A)({closeDeleteItemModal:this.closeDeleteItemModal,fetchCampaignsData:this.props.fetchCampaignsData},this.state.deleteItem)))}}])}(s.Component);const B=(0,l.Ng)((function(t){return{campaigns:t.campaigns.list,campaignsPagination:t.campaigns.pagination,isLoading:t.loadingData.isLoading,hasError:t.loadingData.hasError,permissions:t.meDetails.permissions}}),null)(S);function L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(L=function(){return!!t})()}var T=function(t){function e(t){var n,c,i,s;return(0,a.A)(this,e),c=this,i=e,s=[t],i=(0,r.A)(i),(n=(0,o.A)(c,L()?Reflect.construct(i,s||[],(0,r.A)(c).constructor):i.apply(c,s))).fetchCampaignsData=n.fetchCampaignsData.bind(n),n.handlePageClick=n.handlePageClick.bind(n),n}return(0,i.A)(e,t),(0,c.A)(e,[{key:"componentDidMount",value:function(){this.fetchCampaignsData()}},{key:"componentWillUnmount",value:function(){this.props.clearCampaigns()}},{key:"fetchCampaignsData",value:function(){var t=this;setTimeout((function(){var e={limit:20,offset:t.props.campaignsPagination.offset};t.props.fetchCampaigns(e)}),100)}},{key:"handlePageClick",value:function(t){var e=t.selected,n=Math.ceil(20*e);this.props.setCampaignsPagination({page:e,offset:n}),this.fetchCampaignsData()}},{key:"render",value:function(){return s.createElement("div",null,s.createElement("div",{className:"panel panel-default col-md-12"},s.createElement("div",{className:"panel-body"},s.createElement("div",{className:"col-md-12 margin-10-top"},s.createElement(p,null)),s.createElement("div",{className:"col-md-12 margin-10-top"},s.createElement(B,{handlePageClick:this.handlePageClick,fetchCampaignsData:this.fetchCampaignsData})))))}}])}(s.Component);const x=(0,l.Ng)((function(t){return{campaignsPagination:t.campaigns.pagination}}),(function(t){return{fetchCampaigns:function(e){t(function(t){return{type:"FETCH_CAMPAIGNS",pagination:t}}(e))},clearCampaigns:function(){t({type:"CLEAR_CAMPAIGNS"})},setCampaignsPagination:function(e){t(function(t){return{type:"SET_CAMPAIGNS_PAGINATION",pagination:t}}(e))}}}))(T)}}]);