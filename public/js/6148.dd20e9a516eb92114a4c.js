"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[6148],{60857:(t,e,n)=>{n.d(e,{A:()=>o});var a=n(61941),c="/campaign";const o={fetchCampaign:function(t){var e=t.id,n="".concat(c,"/").concat(e);return a.A.get(n)},fetchCampaignIntakes:function(t){var e=t.id,n=t.page,o="".concat(c,"/").concat(e,"/intakes?page=").concat(n);return a.A.get(o)},fetchCampaignOpportunities:function(t){var e=t.id,n=t.page,o="".concat(c,"/").concat(e,"/opportunities?page=").concat(n);return a.A.get(o)},fetchCampaignWorkflowStatuses:function(t){var e=t.campaignId,n=t.workflowForType,o="".concat(c,"/").concat(e,"/workflow-statuses/").concat(n);return a.A.get(o)},updateCampaign:function(t,e){var n="".concat(c,"/").concat(t);return a.A.post(n,e)},updateCampaignInspection:function(t,e){var n="".concat(c,"/inspection/").concat(t);return a.A.post(n,e)},updateCampaignWorkflowSetting:function(t,e){var n="".concat(c,"/workflow-setting/").concat(t);return a.A.post(n,e)},storeCampaign:function(t){var e="".concat(c);return a.A.post(e,t)},deleteCampaign:function(t){var e="".concat(c,"/").concat(t,"/delete");return a.A.post(e)},attachResponse:function(t,e){var n="".concat(c,"/").concat(t,"/response/").concat(e,"/attach");return a.A.post(n)},detachResponse:function(t,e){var n="".concat(c,"/").concat(t,"/response/").concat(e,"/detach");return a.A.post(n)},attachOrganisation:function(t,e){var n="".concat(c,"/").concat(t,"/organisation/").concat(e,"/attach");return a.A.post(n)},detachOrganisation:function(t,e){var n="".concat(c,"/").concat(t,"/organisation/").concat(e,"/detach");return a.A.post(n)},attachCoach:function(t,e){var n="".concat(c,"/").concat(t,"/coach/").concat(e,"/attach");return a.A.post(n)},detachCoach:function(t,e){var n="".concat(c,"/").concat(t,"/coach/").concat(e,"/detach");return a.A.post(n)},attachProjectManager:function(t,e){var n="".concat(c,"/").concat(t,"/projectManager/").concat(e,"/attach");return a.A.post(n)},detachProjectManager:function(t,e){var n="".concat(c,"/").concat(t,"/projectManager/").concat(e,"/detach");return a.A.post(n)},attachExternalParty:function(t,e){var n="".concat(c,"/").concat(t,"/externalParty/").concat(e,"/attach");return a.A.post(n)},detachExternalParty:function(t,e){var n="".concat(c,"/").concat(t,"/externalParty/").concat(e,"/detach");return a.A.post(n)},updateCampaignOwner:function(t,e){var n="".concat(c,"/").concat(t,"/owner/").concat(e,"/associate");return a.A.post(n)},deleteCampaignWorkflow:function(t){var e="".concat(c,"/campaignworkflow/").concat(t,"/delete");return a.A.post(e)},addCampaignWorkflow:function(t){var e="".concat(c,"/campaignworkflow/add");return a.A.post(e,t)},editCampaignWorkflow:function(t,e){var n="".concat(c,"/campaignworkflow/").concat(t,"/edit");return a.A.post(n,e)}}},46148:(t,e,n)=>{n.r(e),n.d(e,{default:()=>_});var a=n(23029),c=n(92901),o=n(56822),r=n(53954),i=n(85501),s=n(96540),l=n(69733),u=n(24179),m=n(91858);const p=(0,l.Ng)((function(t){return{permissions:t.meDetails.permissions,campaigns:t.campaigns.list}}))((function(t){var e=t.permissions,n=void 0===e?{}:e,a=t.campaigns.meta,c=void 0===a?{}:a;return s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-4"},s.createElement("div",{className:"btn-group",role:"group"},s.createElement(m.A,{iconName:"arrowLeft",onClickAction:u.Nc.goBack}),n.manageMarketing&&s.createElement(m.A,{iconName:"plus",onClickAction:function(){u.RL.push("campagne/nieuw")}}))),s.createElement("div",{className:"col-md-4"},s.createElement("h3",{className:"text-center table-title"},"Campagnes")),s.createElement("div",{className:"col-md-4"},s.createElement("div",{className:"pull-right"},"Resultaten: ",c.total||0)))}));var f=n(58168),h=n(64467),g=n(42285),d=n(45403),v=n(93913),A=n(26829),w=n(95093),E=n.n(w),C=n(87722),y=n(88505);function k(t,e,n){return e=(0,r.A)(e),(0,o.A)(t,D()?Reflect.construct(e,n||[],(0,r.A)(t).constructor):e.apply(t,n))}function D(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(D=function(){return!!t})()}n(87696),E().locale("nl");var P=function(t){function e(t){var n;return(0,a.A)(this,e),(n=k(this,e,[t])).state={showActionButtons:!1,highlightRow:""},n}return(0,i.A)(e,t),(0,c.A)(e,[{key:"onRowEnter",value:function(){this.setState({showActionButtons:!0,highlightRow:"highlight-row"})}},{key:"onRowLeave",value:function(){this.setState({showActionButtons:!1,highlightRow:""})}},{key:"openItem",value:function(t){u.RL.push("campagne/".concat(t))}},{key:"render",value:function(){var t=this,e=this.props,n=e.id,a=e.number,c=e.startDate,o=e.endDate,r=e.name,i=e.type,l=e.status,u=e.amountResponses;return s.createElement("tr",{className:this.state.highlightRow,onDoubleClick:function(){return t.openItem(n)},onMouseEnter:function(){return t.onRowEnter()},onMouseLeave:function(){return t.onRowLeave()}},s.createElement("td",null,a),s.createElement("td",null,c?E()(c).format("L"):""),s.createElement("td",null,o?E()(o).format("L"):""),s.createElement("td",null,r),s.createElement("td",null,i),s.createElement("td",null,l),s.createElement("td",null,u),s.createElement("td",null,this.state.showActionButtons?s.createElement("a",{role:"button",onClick:function(){return t.openItem(n)}},s.createElement(C.Ay,{className:"mybtn-success",size:14,icon:y.w})):"",(this.state.showActionButtons&&this.props.permissions.manageMarketing,"")))}}])}(s.Component);const N=(0,l.Ng)((function(t){return{permissions:t.meDetails.permissions}}))(P);var b=n(63750),I=n(60857);const O=function(t){return s.createElement(b.A,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:t.closeDeleteItemModal,confirmAction:function(){return I.A.deleteCampaign(t.id).then((function(){t.fetchCampaignsData()})),void t.closeDeleteItemModal()},title:"Verwijderen"},"Verwijder campagne ",s.createElement("strong",null,t.name),"?")};var M=n(74850);function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){(0,h.A)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function S(t,e,n){return e=(0,r.A)(e),(0,o.A)(t,B()?Reflect.construct(e,n||[],(0,r.A)(t).constructor):e.apply(t,n))}function B(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(B=function(){return!!t})()}var L=function(t){function e(t){var n;return(0,a.A)(this,e),n=S(this,e,[t]),(0,h.A)(n,"showDeleteItemModal",(function(t,e){n.setState(j(j({},n.state),{},{showDeleteItem:!0,deleteItem:j(j({},n.state.deleteItem),{},{id:t,name:e})}))})),(0,h.A)(n,"closeDeleteItemModal",(function(){n.setState(j(j({},n.state),{},{showDeleteItem:!1,deleteItem:j(j({},n.state.deleteItem),{},{id:"",name:""})}))})),n.state={showDeleteItem:!1,deleteItem:{id:"",name:""}},n}return(0,i.A)(e,t),(0,c.A)(e,[{key:"render",value:function(){var t=this,e=this.props.campaigns,n=e.data,a=void 0===n?[]:n,c=e.meta,o=void 0===c?{}:c,r="",i=!0;return this.props.hasError?r="Fout bij het ophalen van campagnes.":this.props.isLoading?r="Gegevens aan het laden.":0===a.length?r="Geen campagnes gevonden!":i=!1,s.createElement("div",null,s.createElement(g.A,null,s.createElement(d.A,null,s.createElement("tr",{className:"thead-title-quaternary"},s.createElement(A.A,{title:"Nummer",width:"10%"}),s.createElement(A.A,{title:"Begindatum",width:"10%"}),s.createElement(A.A,{title:"Einddatum",width:"10%"}),s.createElement(A.A,{title:"Naam",width:"20%"}),s.createElement(A.A,{title:"Type",width:"20%"}),s.createElement(A.A,{title:"Status",width:"10%"}),s.createElement(A.A,{title:"Aantal responses",width:"14%"}),s.createElement(A.A,{title:"",width:"6%"}))),s.createElement(v.A,null,i?s.createElement("tr",null,s.createElement("td",{colSpan:9},r)):a.map((function(e){return s.createElement(N,(0,f.A)({key:e.id},e,{showDeleteItemModal:t.showDeleteItemModal}))})))),s.createElement("div",{className:"col-md-6 col-md-offset-3"},s.createElement(M.A,{onPageChangeAction:this.props.handlePageClick,totalRecords:o.total,initialPage:this.props.campaignsPagination.page})),this.state.showDeleteItem&&s.createElement(O,(0,f.A)({closeDeleteItemModal:this.closeDeleteItemModal,fetchCampaignsData:this.props.fetchCampaignsData},this.state.deleteItem)))}}])}(s.Component);const T=(0,l.Ng)((function(t){return{campaigns:t.campaigns.list,campaignsPagination:t.campaigns.pagination,isLoading:t.loadingData.isLoading,hasError:t.loadingData.hasError}}),null)(L);function x(t,e,n){return e=(0,r.A)(e),(0,o.A)(t,G()?Reflect.construct(e,n||[],(0,r.A)(t).constructor):e.apply(t,n))}function G(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(G=function(){return!!t})()}var W=function(t){function e(t){var n;return(0,a.A)(this,e),(n=x(this,e,[t])).fetchCampaignsData=n.fetchCampaignsData.bind(n),n.handlePageClick=n.handlePageClick.bind(n),n}return(0,i.A)(e,t),(0,c.A)(e,[{key:"componentDidMount",value:function(){this.fetchCampaignsData()}},{key:"componentWillUnmount",value:function(){this.props.clearCampaigns()}},{key:"fetchCampaignsData",value:function(){var t=this;setTimeout((function(){var e={limit:20,offset:t.props.campaignsPagination.offset};t.props.fetchCampaigns(e)}),100)}},{key:"handlePageClick",value:function(t){var e=t.selected,n=Math.ceil(20*e);this.props.setCampaignsPagination({page:e,offset:n}),this.fetchCampaignsData()}},{key:"render",value:function(){return s.createElement("div",null,s.createElement("div",{className:"panel panel-default col-md-12"},s.createElement("div",{className:"panel-body"},s.createElement("div",{className:"col-md-12 margin-10-top"},s.createElement(p,null)),s.createElement("div",{className:"col-md-12 margin-10-top"},s.createElement(T,{handlePageClick:this.handlePageClick,fetchCampaignsData:this.fetchCampaignsData})))))}}])}(s.Component);const _=(0,l.Ng)((function(t){return{campaignsPagination:t.campaigns.pagination}}),(function(t){return{fetchCampaigns:function(e){t(function(t){return{type:"FETCH_CAMPAIGNS",pagination:t}}(e))},clearCampaigns:function(){t({type:"CLEAR_CAMPAIGNS"})},setCampaignsPagination:function(e){t(function(t){return{type:"SET_CAMPAIGNS_PAGINATION",pagination:t}}(e))}}}))(W)}}]);