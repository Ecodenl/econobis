(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{1052:function(e,t,a){"use strict";var n=a(545),r=a.n(n),o=a(0);t.a=function(e){var t=Object(o.useState)(!1),a=r()(t,2),n=a[0],c=a[1];function l(t){t.key===e&&c(!0)}function i(t){t.key===e&&c(!1)}return Object(o.useEffect)((function(){return window.addEventListener("keydown",l),window.addEventListener("keyup",i),function(){window.removeEventListener("keydown",l),window.removeEventListener("keyup",i)}}),[]),n}},1627:function(e,t,a){"use strict";a.r(t);var n=a(141),r=a.n(n),o=a(14),c=a.n(o),l=a(5),i=a.n(l),s=a(545),u=a.n(s),m=a(0),d=a.n(m),p=a(7),f=a.n(p);var g=function(e){var t=e.createdAt,a=e.value,n=e.jobCategoryName;return d.a.createElement("tr",{className:"border"},d.a.createElement("td",null,f()(t).format("l LTS")),d.a.createElement("td",null,n),d.a.createElement("td",null,a))},v=a(9);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h=function(e,t,a){return v.a.get("jory/jobs-log",{params:{jory:E({fld:["id","value","userId","createdAt","updatedAt","jobCategoryId","jobCategoryName"],srt:t,flt:e},a),meta:["total"]}})},y=a(28),j=a(31),w=a(4),O=a(51);var C=function(e){var t=e.countTotal,a=e.reloadJobslogs;return d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-md-4"},d.a.createElement("div",{className:"btn-group",role:"group"},d.a.createElement(O.a,{iconName:"glyphicon-arrow-left",onClickAction:w.e.goBack}),d.a.createElement(O.a,{iconName:"glyphicon-refresh",onClickAction:a}))),d.a.createElement("div",{className:"col-md-4"},d.a.createElement("h3",{className:"text-center table-title"},"Processen logs")),d.a.createElement("div",{className:"col-md-4"},d.a.createElement("div",{className:"pull-right"},"Resultaten: ",t||0)))},N=a(162),k=a(223),D=a(222),P=a(931),S=a(284),A=a(935),M=[{code:"email",name:"Email"},{code:"participant",name:"Deelnemer rapportage"},{code:"revenue",name:"Opbrengst rapportage"},{code:"create-invoice",name:"Maken nota's"},{code:"create-payment-invoice",name:"Maken uitkeringsnota's"},{code:"sent-invoice",name:"Versturen nota"},{code:"sent-invoice-reminder",name:"Versturen herinnering nota"},{code:"create-financial-overview-project",name:"Aanmaken waardestaat project"},{code:"sent-financial-overview-contact",name:"Maken/versturen waardestaten email"},{code:"create-financial-overview-contact-post",name:"Maken waardestaten post"},{code:"sync-laposta",name:"Synchronisatie relatie in Laposta"}];var Y=function(e){var t=e.filter,a=e.handleChangeFilter;return d.a.createElement("tr",{className:"thead-filter"},d.a.createElement(A.a,{value:t.createdAt?t.createdAt:null,onChangeAction:function(e){return a("createdAt",e?f()(e).format("YYYY-MM-DD"):null)}}),d.a.createElement("th",null,d.a.createElement("select",{className:"form-control input-sm",value:t.jobCategoryId,onChange:function(e){return a("jobCategoryId",e.target.value)}},d.a.createElement("option",null),M.map((function(e){return d.a.createElement("option",{key:e.code,value:e.code},e.name)})))),d.a.createElement("th",null,d.a.createElement("input",{type:"text",className:"form-control input-sm",value:t.value,onChange:function(e){return a("value",e.target.value)}})))},I=a(1052);function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T={createdAt:f()().format("YYYY-MM-DD"),value:"",jobCategoryId:null};t.default=function(){var e=Object(m.useState)([]),t=u()(e,2),a=t[0],n=t[1],o=Object(m.useState)(!0),l=u()(o,2),s=l[0],p=l[1],v=Object(m.useState)({total:0}),b=u()(v,2),E=b[0],w=b[1],O=Object(m.useState)(T),A=u()(O,2),M=A[0],R=A[1],q=Object(m.useState)(["-createdAt","-id"]),J=u()(q,2),x=J[0],B=J[1],F=Object(m.useState)({offset:0,limit:20}),V=u()(F,2),W=V[0],z=V[1],G=Object(I.a)("Enter");function U(){p(!0),h(function(){var e={and:[]};M.createdAt&&e.and.push({field:"createdAt",operator:"like",data:"".concat(f()(M.createdAt).format("YYYY-MM-DD"),"%")});M.value&&e.and.push({field:"value",operator:"like",data:"%".concat(M.value,"%")});M.jobCategoryId&&e.and.push({field:"jobCategoryId",data:M.jobCategoryId});return e}(),x,W).then((function(e){n(e.data.data),w(e.data.meta),p(!1)})).catch((function(e){alert("Er is iets misgegaan met ophalen van de gegevens.")}))}function H(e,t){var a=x;3===a.length&&a.pop(),B("DESC"===t?["-".concat(e)].concat(c()(a)):[e].concat(c()(a)))}return Object(m.useEffect)((function(){U()}),[W.offset,x,M.createdAt,M.jobCategoryId]),Object(m.useEffect)((function(){G&&U()}),[G]),d.a.createElement(y.a,null,d.a.createElement(j.a,null,d.a.createElement(C,{countTotal:E.total,reloadJobslogs:function(){R(T),U()}}),d.a.createElement("div",{className:"margin-10-top"},d.a.createElement(D.a,null,d.a.createElement(k.a,null,d.a.createElement("tr",{className:"thead-title"},d.a.createElement(P.a,{title:"Datum",width:"20%",setSorts:H,sortColumn:"createdAt"}),d.a.createElement(P.a,{title:"Categorie",width:"20%",setSorts:H,sortColumn:"jobCategoryId"}),d.a.createElement(P.a,{title:"Melding",width:"60%",setSorts:H,sortColumn:"value"})),d.a.createElement(Y,{filter:M,handleChangeFilter:function(e,t){R(L(L({},M),{},i()({},e,t)))}})),d.a.createElement(S.a,null,s?d.a.createElement("tr",null,d.a.createElement("td",{colSpan:3},"Bezig met gegevens laden")):a.length>0?a.map((function(e){return d.a.createElement(g,r()({key:e.id},e))})):d.a.createElement("tr",null,d.a.createElement("td",{colSpan:3},"Geen resultaten!")))),d.a.createElement("div",{className:"col-md-6 col-md-offset-3"},d.a.createElement(N.a,{onPageChangeAction:function(e){var t=Math.ceil(20*e.selected);z(L(L({},W),{},{offset:t}))},totalRecords:E.total,initialPage:0})))))}},931:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(3),c=a.n(o),l=function(e){var t=e.RowClassName,a=e.setSorts,n=e.sortColumn,o=e.title,c=e.width;return r.a.createElement("th",{className:t,width:c},o,r.a.createElement("span",{className:"glyphicon glyphicon-arrow-down pull-right small",role:"button",onClick:a.bind(void 0,n,"ASC")}),r.a.createElement("span",{className:"glyphicon glyphicon-arrow-up pull-right small",role:"button",onClick:a.bind(void 0,n,"DESC")}))};l.defaultProps={RowClassName:""},l.propTypes={setSorts:c.a.func.isRequired,sortColumn:c.a.string.isRequired,title:c.a.string.isRequired,width:c.a.string.isRequired,RowClassName:c.a.string},t.a=l},935:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(3),c=a.n(o),l=a(288),i=a.n(l),s=a(163),u=a.n(s),m=a(7),d=a.n(m);d.a.locale("nl");var p=function(e){var t=e.className,a=e.value,n=e.onChangeAction,o=e.placeholder,c=a?d()(a).format("L"):"";return r.a.createElement("th",{className:"DayPicker-overflow ".concat(t)},r.a.createElement(i.a,{value:c,onDayChange:n,formatDate:s.formatDate,parseDate:s.parseDate,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:u.a},inputProps:{className:"form-control input-sm",placeholder:o},placeholder:""}))};p.defaultProps={className:"",value:null,placeholder:""},p.propTypes={className:c.a.string,value:c.a.oneOfType([c.a.string,c.a.object]),onChangeAction:c.a.func,placeholder:c.a.string},t.a=p}}]);