(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{1158:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(0),c=a.n(n),r=a(27),i=a(30),o=a(36),l=a(1042),s=a(1066),u=a(38),m=a(21);function d(e){var t=e.initialValues,a=e.onSubmit,n=e.cancelAction,d=Object(l.a)({initialValues:t,validationSchema:s.a().shape({name:s.b().required("Verplicht")}),onSubmit:function(e,t){var n=t.setSubmitting;a(e,n)}}),h=d.values,f=d.errors,E=d.touched,p=d.handleChange,v=d.handleSubmit,g=d.handleBlur,b=d.isSubmitting;return c.a.createElement("form",{className:"form-horizontal",onSubmit:v},c.a.createElement(r.a,null,c.a.createElement(i.a,null,c.a.createElement("div",{className:"row"},c.a.createElement(o.a,{label:"Weergavenaam",name:"name",value:h.name,onChangeAction:p,onBlurAction:g,required:"required",error:f.name&&E.name,errorMessage:f.name}),c.a.createElement(m.a,{label:"Standaard duur afspraak",value:"90 minuten"}))),c.a.createElement(i.a,null,c.a.createElement("div",{className:"pull-right btn-group",role:"group"},n&&c.a.createElement(u.a,{buttonClassName:"btn-default",buttonText:"Sluiten",onClickAction:n}),c.a.createElement(u.a,{buttonText:"Opslaan",onClickAction:v,type:"submit",value:"Submit",loading:b})))))}},1621:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return j}));var n=a(547),c=a.n(n),r=a(0),i=a.n(r),o=a(27),l=a(30),s=a(50),u=a(4),m=a(954),d=a(1158);function h(e){var t=e.district,a=e.switchToView,n=e.onSave;return i.a.createElement(d.a,{initialValues:t,onSubmit:function(e,t){var c=t.setSubmitting;m.a.updateDistrict(e).then((function(){n(),a()})).catch((function(){c(!1),alert("Er is iets misgegaan met opslaan. Probeer het nogmaals")}))},cancelAction:a})}var f=a(21);function E(e){var t=e.district,a=e.switchToEdit;return i.a.createElement("div",{onClick:a},i.a.createElement(o.a,null,i.a.createElement(l.a,null,i.a.createElement("div",{className:"row"},i.a.createElement(f.a,{label:"Weergavenaam",value:t.name}),i.a.createElement(f.a,{label:"Standaard duur afspraak",value:"90 minuten"})))))}function p(e){var t=e.district,a=e.onSave,n=Object(r.useState)(""),o=c()(n,2),l=o[0],s=o[1],u=Object(r.useState)(!1),m=c()(u,2),d=m[0],f=m[1];return i.a.createElement("div",{className:l,onMouseEnter:function(){return s("panel-grey")},onMouseLeave:function(){return s("")}},d?i.a.createElement(h,{district:t,switchToView:function(){return f(!1)},onSave:a}):i.a.createElement(E,{district:t,switchToEdit:function(){return f(!0)}}))}var v=a(53),g=a(35);function b(e){var t=e.district,a=e.coach,n=e.onDetach,o=Object(r.useState)(!1),l=c()(o,2),s=l[0],u=l[1],d=Object(r.useState)(!1),h=c()(d,2),f=h[0],E=h[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"row border ".concat(s?"highlight-line":""),onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)}},i.a.createElement("div",{className:"col-sm-11"},a.fullName),i.a.createElement("div",{className:"col-sm-1"},s&&i.a.createElement("a",{role:"button",onClick:function(){return E(!0)}},i.a.createElement("span",{className:"glyphicon glyphicon-trash mybtn-danger"})))),f&&i.a.createElement(g.a,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:function(){return E(!1)},confirmAction:function(){m.a.detachDistrictCoach({districtId:t.id,coachId:a.id}).then((function(){n(),E(!1)})).catch((function(){alert("Er is iets misgegaan met het ontkoppelen van de coach.")}))},title:"Verwijderen"},i.a.createElement("p",null,"Wil je deze coach ontkoppelen van deze afspraakkalender?")))}var N=a(36),k=a(38),C=a(123),S=a(996);function w(e){var t=e.district,a=e.onCreate,n=e.onHide,s=Object(r.useState)([]),u=c()(s,2),d=u[0],h=u[1],f=Object(r.useState)(null),E=c()(f,2),p=E[0],v=E[1];Object(r.useEffect)((function(){S.a.getCoachPeek().then((function(e){h(e)})).catch((function(){alert("Er is iets misgegaan met ophalen van de coaches! Herlaad de pagina en probeer het nogmaals.")}))}),[]);var g=function(e){e.preventDefault(),m.a.attachDistrictCoach({districtId:t.id,coachId:p}).then((function(){a()})).catch((function(){alert("Er is iets misgegaan met het koppelen van de coach.")}))};return i.a.createElement("form",{className:"form-horizontal",onSubmit:g},i.a.createElement(o.a,{className:"panel-grey"},i.a.createElement(l.a,null,i.a.createElement("div",{className:"row"},i.a.createElement(N.a,{label:"Afspraakkalender",name:"afspraakKalender",value:t.name,readOnly:!0}),i.a.createElement(C.a,{label:"Coach",size:"col-sm-6",name:"coachId",options:d.filter((function(e){return!t.coaches.some((function(t){return t.id===e.id}))})),optionName:"name",value:p,onChangeAction:function(e){return v(e.target.value)},required:"required"})),i.a.createElement("div",{className:"pull-right btn-group",role:"group"},i.a.createElement(k.a,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:n}),i.a.createElement(k.a,{buttonText:"Opslaan",onClickAction:g,type:"submit",value:"Submit"})))))}function D(e){var t=e.district,a=e.onChange,n=Object(r.useState)(!1),s=c()(n,2),u=s[0],m=s[1];return i.a.createElement(o.a,null,i.a.createElement(v.a,null,i.a.createElement("span",{className:"h5 text-bold"},"Gekoppelde coaches"),i.a.createElement("a",{role:"button",className:"pull-right",onClick:function(){return m(!0)}},i.a.createElement("span",{className:"glyphicon glyphicon-plus"}))),i.a.createElement(l.a,null,i.a.createElement("div",{className:"col-md-12"},i.a.createElement("div",{className:"row border header"},i.a.createElement("div",{className:"col-sm-11"},"Naam"),i.a.createElement("div",{className:"col-sm-1"})),t.coaches.length>0?t.coaches.map((function(e){return i.a.createElement(b,{key:e.id,district:t,coach:e,onDetach:a})})):i.a.createElement("div",null,"Geen coaches bekend.")),i.a.createElement("div",{className:"col-md-12 margin-10-top"},u&&i.a.createElement(w,{district:t,onCreate:function(){m(!1),a()},onHide:function(){return m(!1)}}))))}function j(e){var t=Object(r.useState)({coaches:[]}),a=c()(t,2),n=a[0],d=a[1];Object(r.useEffect)((function(){h()}),[]);var h=function(){m.a.fetchDistrictDetails(e.params.id).then((function(e){d(e)})).catch((function(){alert("Er is iets misgegaan met ophalen van de afspraakkalender.")}))};return i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-9"},i.a.createElement("div",{className:"col-md-12 margin-10-top"},i.a.createElement(o.a,null,i.a.createElement(l.a,{className:"panel-small"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col-md-4"},i.a.createElement("div",{className:"btn-group",role:"group"},i.a.createElement(s.a,{iconName:"glyphicon-arrow-left",onClickAction:u.e.goBack}))),i.a.createElement("div",{className:"col-md-4"},i.a.createElement("h4",{className:"text-center"},"Instellingen Afspraakkalender: ",n.name)),i.a.createElement("div",{className:"col-md-4"}))))),i.a.createElement("div",{className:"col-md-12 margin-10-top"},i.a.createElement(p,{district:n,onSave:h}),i.a.createElement(D,{district:n,onChange:h}))),i.a.createElement("div",{className:"col-md-3"}))}},954:function(e,t,a){"use strict";var n=a(2);t.a={fetchDistricts:function(){return n.a.get("district").then((function(e){return e.data}))},fetchDistrictDetails:function(e){return n.a.get("".concat("district","/").concat(e)).then((function(e){return e.data}))},fetchDistrictCalendarItems:function(e,t,a){return n.a.get("".concat("district","/").concat(e,"/calendar-items"),{params:{startDate:t,endDate:a}}).then((function(e){return e.data}))},newDistrict:function(e){return n.a.post("district",e).then((function(e){return e.data}))},updateDistrict:function(e){return n.a.post("".concat("district","/").concat(e.id),e)},deleteDistrict:function(e){return n.a.post("".concat("district","/").concat(e.id,"/delete"))},detachDistrictCoach:function(e){var t=e.districtId,a=e.coachId;return n.a.post("".concat("district","/").concat(t,"/coaches/").concat(a,"/detach"))},attachDistrictCoach:function(e){var t=e.districtId,a=e.coachId;return n.a.post("".concat("district","/").concat(t,"/coaches/").concat(a,"/attach"))}}},996:function(e,t,a){"use strict";var n=a(2),c="".concat(URL_API,"/api");t.a={getCoachPeek:function(){var e="".concat(c,"/coach-peek");return n.a.get(e).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))},getProjectManagerPeek:function(){var e="".concat(c,"/project-manager-peek");return n.a.get(e).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))},getExternalPartyPeek:function(){var e="".concat(c,"/external-party-peek");return n.a.get(e).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))}}}}]);