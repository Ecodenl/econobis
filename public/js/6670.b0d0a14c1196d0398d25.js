"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[6670],{23932:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(61941);const o={fetchFreeFieldsFields:function(e,t,n){var o="".concat(URL_API,"/api/free-fields-field/grid");return a.A.get(o,{params:{filters:JSON.stringify(e),sorts:JSON.stringify(t),limit:n.limit,offset:n.offset}})},deleteFreeFieldsField:function(e){var t="".concat(URL_API,"/api/free-fields-field/").concat(e,"/delete");return a.A.post(t)},newFreeFieldsField:function(e){var t="".concat(URL_API,"/api/free-fields-field");return a.A.post(t,e).then((function(e){return e.data})).catch((function(e){console.log(e)}))},fetchFreeFieldDetails:function(e){var t="".concat(URL_API,"/api/free-fields-field/").concat(e);return a.A.get(t).then((function(e){return e.data.data}))},updateFreeFieldsField:function(e){return a.A.post("".concat(URL_API,"/api/free-fields-field/").concat(e.id,"/update"),e)},fetchFilterFreeFieldsFieldsContact:function(){var e="".concat(URL_API,"/api/free-fields-field/get-for-filter/contacts");return a.A.get(e)},fetchFilterFreeFieldsFieldsAddress:function(){var e="".concat(URL_API,"/api/free-fields-field/get-for-filter/addresses");return a.A.get(e)},peekFreeFieldsTables:function(){var e="".concat(URL_API,"/api/free-fields-field/free-fields-tables/peek");return a.A.get(e)},peekFreeFieldsFieldFormats:function(){var e="".concat(URL_API,"/api/free-fields-field/free-fields-field-formats/peek");return a.A.get(e)},fetchFreeFieldsFieldRecords:function(e,t){var n="".concat(URL_API,"/api/free-fields-field-records/get-values");return a.A.get(n,{params:{table:e,recordId:t}}).then((function(e){return e.data}))},updateFreeFieldsFieldRecords:function(e,t){var n="".concat(URL_API,"/api/free-fields-field-records/update-values");return a.A.post(n,{data:{records:e,recordId:t}})}}},66670:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Le});var a=n(23029),o=n(92901),r=n(56822),s=n(53954),i=n(85501),l=n(64467),c=n(96540),d=n(69733),u=n(17375),p=n(2543),m=n(95093),h=n.n(m),f=function(e,t,n,a,o,r){return{type:"FETCH_CONTACTS",filters:e,extraFilters:t,sorts:n,pagination:a,filterType:o,dataControleType:r}},g=function(){return{type:"CLEAR_CONTACTS"}},C=function(e){return{type:"SET_CHECKED_CONTACT_ALL",checkedValue:e}},y=function(e){return{type:"SET_NUMBER_FILTER",number:e}},F=function(e){return{type:"SET_TYPE_FILTER",typeId:e}},E=function(e){return{type:"SET_FULL_NAME_FILTER",fullName:e}},A=function(e){return{type:"SET_STREET_AND_NUMBER_FILTER",streetAndNumber:e}},b=function(e){return{type:"SET_POSTAL_CODE_FILTER",postalCode:e}},v=function(e){return{type:"SET_CITY_FILTER",city:e}},k=function(e){return{type:"SET_EMAIL_ADDRESS_FILTER",emailAddress:e}},w=function(e){return{type:"SET_PHONE_NUMBER_FILTER",phoneNumber:e}},S=function(e){return{type:"SET_VAT_NUMBER_FILTER",vatNumber:e}},N=function(e){return{type:"SET_CHAMBER_OF_COMMERCE_NUMBER",chamberOfCommerceNumber:e}},T=function(e){return{type:"SET_STATUS_FILTER",statusId:e}},x=function(e){return{type:"SET_CREATED_AT_FILTER",createdAt:e}},D=function(){return{type:"CLEAR_FILTER_CONTACTS"}},O=function(e){return{type:"SET_CONTACTS_PAGINATION",pagination:e}},I=n(23138),M=n(58168),R=n(42285),L=n(45403),P=n(93913),_=n(9152),G=(n(26829),n(87722)),V=n(34527);const j=(0,d.Ng)(null,(function(e){return{setContactsSortsFilter:function(t,n){e(function(e,t){return{type:"SET_CONTACTS_SORTS_FILTER",field:e,order:t}}(t,n))}}}))((function(e){(0,c.useEffect)((function(){switch(e.dataControleType){case"zelfde-email-naam":t("fullName","ASC"),t("emailAddress","ASC");break;case"zelfde-email-adres":t("streetAndNumber","ASC"),t("postalCode","ASC"),t("emailAddress","ASC");break;case"zelfde-email":t("emailAddress","ASC");break;case"zelfde-adres":t("streetAndNumber","ASC"),t("postalCode","ASC");break;case"zelfde-iban":t("iban","ASC");break;case"zelfde-btwnummer":t("vatNumber","ASC");break;case"zelfde-kvknummer":t("chamberOfCommerceNumber","ASC")}}),[e.dataControleType]);var t=function(t,n){e.setContactsSortsFilter(t,n),setTimeout((function(){e.fetchContactsData()}),100)};return c.createElement("tr",{className:"thead-title"},e.showCheckbox||e.showCheckboxMerge?c.createElement("th",{width:"3%"}):null,c.createElement(_.A,{RowClassName:"hidden-xs",sortColumn:"number",title:"#",width:"5%",setSorts:t}),c.createElement(_.A,{RowClassName:"hidden-xs hidden-sm",sortColumn:"typeName",title:"Type",width:"7%",setSorts:t}),c.createElement(_.A,{sortColumn:"fullName",title:"Naam",width:"11%",setSorts:t}),c.createElement(_.A,{RowClassName:"hidden-xs",sortColumn:"streetAndNumber",title:"Adres",width:"12%",setSorts:t}),c.createElement(_.A,{RowClassName:"hidden-xs",sortColumn:"postalCode",title:"Postcode",width:"7%",setSorts:t}),c.createElement(_.A,{RowClassName:"hidden-xs",sortColumn:"city",title:"Plaats",width:"10%",setSorts:t}),c.createElement(_.A,{RowClassName:"hidden-xs",sortColumn:"emailAddress",title:"E-mail",width:"12%",setSorts:t}),c.createElement(_.A,{sortColumn:"phoneNumber",title:"Telefoon",width:"7%",setSorts:t}),"zelfde-iban"===e.dataControleType?c.createElement("th",{width:"7%"},"IBAN",c.createElement(G.Ay,{className:"pull-right small",size:14,icon:V.m,role:"button",onClick:t.bind(void 0,"iban","ASC")})):"","zelfde-btwnummer"===e.dataControleType?c.createElement(_.A,{sortColumn:"vatNumber",title:"BTW Nummer",width:"7%",setSorts:t}):"","zelfde-kvknummer"===e.dataControleType?c.createElement(_.A,{sortColumn:"chamberOfCommerceNumber",title:"KVK Nummer",width:"7%",setSorts:t}):"",c.createElement(_.A,{RowClassName:"hidden-xs hidden-sm",sortColumn:"createdAt",title:"Gemaakt op",width:"8%",setSorts:t}),c.createElement("th",{width:"3%"}))}));var H=n(7639);const z=(0,d.Ng)((function(e){return{filters:e.contacts.filters,contactStatuses:e.systemData.contactStatuses,contactTypes:e.systemData.contactTypes}}),(function(e){return(0,u.zH)({setNumberFilter:y,setTypeFilter:F,setFullNameFilter:E,setStreetAndNumberFilter:A,setPostalCodeFilter:b,setCityFilter:v,setEmailAddressFilter:k,setPhoneNumberFilter:w,setStatusFilter:T,setCreatedAtFilter:x,setVatNumberFilter:S,setChamberOfCommerceNumberFilter:N},e)}))((function(e){return c.createElement("tr",{className:"thead-filter"},e.showCheckbox&&c.createElement("td",null,c.createElement("input",{type:"checkbox",value:e.checkedAllCheckboxes,onChange:e.selectAllCheckboxes})),e.showCheckboxMerge&&c.createElement("td",null),c.createElement("th",{className:"hidden-xs"},c.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.number.data,onChange:function(t){e.setNumberFilter(t.target.value)}})),c.createElement("th",{className:"hidden-xs hidden-sm"},c.createElement("select",{className:"form-control input-sm",value:e.filters.typeId.data,onChange:function(t){e.setTypeFilter(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}},c.createElement("option",null),e.contactTypes.map((function(e){return c.createElement("option",{key:e.id,value:e.id},e.name)})))),c.createElement("th",null,c.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.fullName.data,onChange:function(t){e.setFullNameFilter(t.target.value)}})),c.createElement("th",{className:"hidden-xs"},c.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.streetAndNumber.data,onChange:function(t){e.setStreetAndNumberFilter(t.target.value)}})),c.createElement("th",{className:"hidden-xs"},c.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.postalCode.data,onChange:function(t){e.setPostalCodeFilter(t.target.value)}})),c.createElement("th",{className:"hidden-xs"},c.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.city.data,onChange:function(t){e.setCityFilter(t.target.value)}})),c.createElement("th",{className:"hidden-xs"},c.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.emailAddress.data,onChange:function(t){e.setEmailAddressFilter(t.target.value)}})),c.createElement("th",null,c.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.phoneNumber.data,onChange:function(t){e.setPhoneNumberFilter(t.target.value)}})),"zelfde-btwnummer"===e.dataControleType?c.createElement("th",null,c.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.vatNumber.data,onChange:function(t){e.setVatNumberFilter(t.target.value)}})):"","zelfde-iban"===e.dataControleType?c.createElement("th",null):"","zelfde-kvknummer"===e.dataControleType?c.createElement("th",null,c.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.chamberOfCommerceNumber.data,onChange:function(t){e.setChamberOfCommerceNumberFilter(t.target.value)}})):"",c.createElement(H.A,{value:e.filters.createdAt.data&&e.filters.createdAt.data,onChangeAction:function(t){void 0===t?e.setCreatedAtFilter(""):e.setCreatedAtFilter(h()(t).format("Y-MM-DD"))}}),c.createElement("th",null))}));var U=n(24179),q=n(87696),B=n(88505);function Y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Y=function(){return!!e})()}var K=function(e){function t(e){var n,o,i,l;return(0,a.A)(this,t),o=this,i=t,l=[e],i=(0,s.A)(i),(n=(0,r.A)(o,Y()?Reflect.construct(i,l||[],(0,s.A)(o).constructor):i.apply(o,l))).state={showActionButtons:!1,highlightRow:""},n}return(0,i.A)(t,e),(0,o.A)(t,[{key:"onRowEnter",value:function(){this.setState({showActionButtons:!0,highlightRow:"highlight-row"})}},{key:"onRowLeave",value:function(){this.setState({showActionButtons:!1,highlightRow:""})}},{key:"setCheckedContact",value:function(e){this.props.setCheckedContact(e)}},{key:"openItem",value:function(e){U.RL.push("/contact/".concat(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.showCheckbox,a=t.showCheckboxMerge,o=t.checked,r=t.keepSelected,s=t.removeSelected,i=t.blockSelecting,l=t.id,d=t.number,u=t.typeId,p=t.typeName,m=t.fullName,f=t.streetAndNumber,g=t.postalCode,C=t.city,y=t.areaName,F=t.emailAddress,E=t.phoneNumber,A=(t.statusName,t.createdAt),b=t.permissions,v=t.iban,k=t.vatNumber,w=t.chamberOfCommerceNumber;return c.createElement("tr",{className:r?"success-row":s?"error-row":this.state.highlightRow,onDoubleClick:function(){return n||a?void 0:e.openItem(l)},onMouseEnter:function(){return e.onRowEnter()},onMouseLeave:function(){return e.onRowLeave()}},n&&c.createElement("td",null,c.createElement("input",{type:"checkbox",checked:o,onChange:function(){return e.setCheckedContact(l)}})),a&&c.createElement("td",null,!i&&c.createElement("input",{type:"checkbox",checked:o,onChange:function(){return e.setCheckedContact(l)}})),c.createElement("td",{className:"hidden-xs"},d),c.createElement("td",{className:"hidden-xs hidden-sm"},p," "),c.createElement("td",null,m),c.createElement("td",{className:"hidden-xs"},f),c.createElement("td",{className:"hidden-xs"},g),c.createElement("td",{className:"hidden-xs",title:"Buurt: "+(y||"onbekend")},C),c.createElement("td",{className:"hidden-xs"},F),c.createElement("td",null," ",E),"zelfde-iban"===this.props.dataControleType?c.createElement("td",{className:"hidden-xs"},v):"","zelfde-btwnummer"===this.props.dataControleType?c.createElement("td",{className:"hidden-xs"},k):"","zelfde-kvknummer"===this.props.dataControleType?c.createElement("td",{className:"hidden-xs"},w):"",c.createElement("td",{className:"hidden-xs hidden-sm"},h()(A).format("DD-MM-Y")),c.createElement("td",null,this.state.showActionButtons?c.createElement("a",{role:"button",onClick:function(){return e.openItem(l)}},c.createElement(G.Ay,{className:"mybtn-success",size:14,icon:B.w})):"",this.state.showActionButtons?c.createElement(c.Fragment,null,"organisation"===u&&b&&b.deleteOrganisation&&c.createElement("a",{role:"button",onClick:this.props.showDeleteItemModal.bind(this,l,m)},c.createElement(G.Ay,{className:"mybtn-danger",size:14,icon:q.d})),"person"===u&&b&&b.deletePerson&&c.createElement("a",{role:"button",onClick:this.props.showDeleteItemModal.bind(this,l,m)},c.createElement(G.Ay,{className:"mybtn-danger",size:14,icon:q.d}))):""))}}])}(c.Component);const W=(0,d.Ng)((function(e){return{statuses:e.statuses,types:e.types,permissions:e.meDetails.permissions}}),(function(e){return{setCheckedContact:function(t){e(function(e){return{type:"SET_CHECKED_CONTACT",id:e}}(t))}}}))(K);var J=n(63750);const Z=(0,d.Ng)(null,(function(e){return{deleteContact:function(t){e(function(e){return{type:"DELETE_CONTACT",id:e}}(t))}}}))((function(e){return c.createElement(J.A,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.closeDeleteItemModal,confirmAction:function(){return e.deleteContact(e.id),void e.closeDeleteItemModal()},title:"Verwijderen"},c.createElement("p",null,"Verwijder contact: ",c.createElement("strong",null," ",e.fullName," ")))}));var Q=n(74850);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,l.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ee=function(){return!!e})()}var te=function(e){function t(e){var n,o,i,c;return(0,a.A)(this,t),o=this,i=t,c=[e],i=(0,s.A)(i),n=(0,r.A)(o,ee()?Reflect.construct(i,c||[],(0,s.A)(o).constructor):i.apply(o,c)),(0,l.A)(n,"handleKeyUp",(function(e){13===e.keyCode&&n.props.onSubmitFilter()})),(0,l.A)(n,"showDeleteItemModal",(function(e,t){n.setState($($({},n.state),{},{showDeleteItem:!0,deleteItem:$($({},n.state.deleteItem),{},{id:e,fullName:t})}))})),(0,l.A)(n,"closeDeleteItemModal",(function(){n.setState($($({},n.state),{},{showDeleteItem:!1,deleteItem:$($({},n.state.deleteItem),{},{id:"",fullName:""})}))})),n.state={showDeleteItem:!1,deleteItem:{id:"",fullName:""}},n}return(0,i.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){var e=this,t=this.props.contacts,n=t.data,a=void 0===n?[]:n,o=t.meta,r=void 0===o?{}:o,s=null,i=null,l=0;if(this.props.showCheckboxListMerge){var d=a.filter((function(e){return e.checked})).sort((function(e,t){return e.checkedAt-t.checkedAt}));s=d[0]?Number(d[0].id):null,i=d[1]?Number(d[1].id):null,a.map((function(e){return!0===e.checked&&l++}))}var u="",p=!0;return this.props.hasError?u="Fout bij het ophalen van contacten.":this.props.isLoading?u="Gegevens aan het laden.":0===a.length?u="Geen contacten gevonden!":p=!1,c.createElement("div",null,c.createElement("form",{onKeyUp:this.handleKeyUp},c.createElement(R.A,null,c.createElement(L.A,null,c.createElement(j,{showCheckbox:this.props.showCheckboxList,showCheckboxMerge:this.props.showCheckboxListMerge,fetchContactsData:function(){return e.props.fetchContactsData()},dataControleType:this.props.dataControleType}),c.createElement(z,{showCheckbox:this.props.showCheckboxList,showCheckboxMerge:this.props.showCheckboxListMerge,selectAllCheckboxes:function(){return e.props.selectAllCheckboxes()},onSubmitFilter:this.props.onSubmitFilter,dataControleType:this.props.dataControleType})),c.createElement(P.A,null,p?c.createElement("tr",null,c.createElement("td",{colSpan:10},u)):a.map((function(t){return c.createElement(W,(0,M.A)({key:t.id},t,{showCheckbox:e.props.showCheckboxList,showCheckboxMerge:e.props.showCheckboxListMerge,checkedAllCheckboxes:e.props.checkedAllCheckboxes,dataControleType:e.props.dataControleType,showDeleteItemModal:e.showDeleteItemModal,keepSelected:t.id===s,removeSelected:t.id===i,blockSelecting:t.id!==s&&t.id!==i&&2===l}))})))),c.createElement("div",{className:"col-md-6 col-md-offset-3"},c.createElement(Q.A,{onPageChangeAction:this.props.handlePageClick,totalRecords:r.total,initialPage:this.props.contactsPagination.page}))),this.state.showDeleteItem&&c.createElement(Z,(0,M.A)({closeDeleteItemModal:this.closeDeleteItemModal},this.state.deleteItem)))}}])}(c.Component);const ne=(0,d.Ng)((function(e){return{isLoading:e.loadingData.isLoading,hasError:e.loadingData.hasError}}))(te);var ae=n(91858);const oe=(0,d.Ng)((function(e){return{contacts:e.contacts.list.data}}),(function(e){return{deleteSelectedContacts:function(t){e(function(e){return{type:"DELETE_SELECTED_CONTACTS",contactIds:e}}(t))}}}))((function(e){var t=function(){var t=0;return e.contacts.map((function(e){return!0===e.checked&&t++})),t};return c.createElement(J.A,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.toggleShowDeleteSelectedItems,confirmAction:function(){return t=[],e.contacts.map((function(e){return!0===e.checked&&t.push(e.id)})),e.deleteSelectedContacts(t),void e.toggleShowDeleteSelectedItems();var t},title:"Verwijderen"},0!==t()?c.createElement("div",null,"Verwijder de geselecteerde ",c.createElement("strong",null,t())," contacten?"):c.createElement("div",null,"Geen contacten geselecteerd."))}));var re=n(60738),se=n(14809);function ie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ie=function(){return!!e})()}var le=function(e){function t(e){var n,o,i,c;return(0,a.A)(this,t),o=this,i=t,c=[e],i=(0,s.A)(i),n=(0,r.A)(o,ie()?Reflect.construct(i,c||[],(0,s.A)(o).constructor):i.apply(o,c)),(0,l.A)(n,"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,o=t.name;n.setState((0,l.A)({},o,a))})),(0,l.A)(n,"handleSubmit",(function(e){var t=[];n.props.contacts.map((function(e){return!0===e.checked&&t.push(e.id)})),re.A.addManyContactsToGroup(t,n.state.groupId).then((function(e){n.props.toggleAddGroup(),U.RL.push("/contacten-in-groep/".concat(n.state.groupId))}))})),n.state={contactGroups:[],groupId:"",contactCount:0,contactIds:"",errors:{groupId:!1}},n}return(0,i.A)(t,e),(0,o.A)(t,[{key:"componentDidMount",value:function(){var e=this;re.A.peekStaticContactGroups().then((function(t){e.setState({contactGroups:t})}));var t=0;this.props.contacts.map((function(e){return!0===e.checked&&t++})),this.setState({contactCount:t})}},{key:"render",value:function(){return c.createElement(J.A,{buttonConfirmText:"Toevoegen",closeModal:this.props.toggleAddGroup,confirmAction:this.handleSubmit,title:"Contacten toevoegen aan groep"},0!==this.state.contactCount?c.createElement("div",{className:"row"},c.createElement(se.A,{size:"col-md-12",label:"Voeg ".concat(this.state.contactCount," contact(en) toe aan groep:"),name:"groupId",options:this.state.contactGroups,value:this.state.groupId,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.groupId})):c.createElement("div",null,"Geen contacten geselecteerd."))}}])}(c.Component);const ce=(0,d.Ng)((function(e){return{contactDetails:e.contactDetails,contacts:e.contacts.list.data}}),null)(le);var de=n(41904),ue=n(23384),pe=n(46161),me=n(5544),he=n(93822);const fe=function(e){var t=e.contacts,n=e.fetchContactsData,a=e.toggleShowMergeSelectedItems,o=(0,c.useState)(""),r=(0,me.A)(o,2),s=r[0],i=r[1],l=(0,c.useState)([]),d=(0,me.A)(l,2),u=d[0],p=d[1],m=t.data.filter((function(e){return e.checked})).sort((function(e,t){return e.checkedAt-t.checkedAt})).map((function(e){return e.id})),h=t.data.find((function(e){return e.id===Number(m[0])})),f=t.data.find((function(e){return e.id===Number(m[1])})),g=function(){var e=0;return t.data.map((function(t){return!0===t.checked&&e++})),e};return c.createElement("div",null,u.length?c.createElement(J.A,{buttonConfirmText:"Samenvoegen",buttonClassName:"btn-danger",closeModal:a,showConfirmAction:!1,title:"Contacten samenvoegen"},c.createElement("p",null,s),c.createElement("ul",null,u.map((function(e){return c.createElement("li",null,e)})))):c.createElement(J.A,{buttonConfirmText:"Samenvoegen",buttonClassName:"btn-danger",closeModal:a,confirmAction:function(){he.A.mergeContacts(m[0],m[1]).then((function(){i("Contacten zijn succesvol samengevoegd"),n(),setTimeout(a,2e3)})).catch((function(e){if(e.response&&422===e.response.status){if(e.response.data&&e.response.data.errors)e.response.data.errors.econobis&&e.response.data.errors.econobis.length&&(i("Fout bij samenvoegen contacten:"),p(e.response.data.errors.econobis));else if(e.response.data&&e.response.data.message){i("Er is iets misgegaan bij het samenvoegen contacten ("+e.response.status+").");var t=[];if(Array.isArray(e.response.data.message))for(var n=0,a=Object.entries(JSON.parse(e.response.data.message));n<a.length;n++){var o=(0,me.A)(a[n],2),r=(o[0],o[1]);t.push("".concat(r))}else t.push(e.response.data.message);p(t)}}else i("Er is iets misgegaan bij het samenvoegen contacten."),p(["Onbekende fout"])}))},showConfirmAction:2===g(),title:"Contacten samenvoegen"},2===g()?c.createElement("div",null,"Weet je zeker dat je deze 2 contacten wilt samenvoegen? ",c.createElement("br",null),"Gegevens worden overgenomen naar het eerst geselecteerde contact"," ",c.createElement("strong",null,h.number),", het tweede geselecteerde contact"," ",c.createElement("strong",null,f.number)," wordt verwijderd."):c.createElement("div",null,"Selecteer exact 2 contacten om te kunnen samenvoegen.")))};var ge=n(26819);function Ce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ce=function(){return!!e})()}var ye=function(e){function t(e){var n,o,i,c;return(0,a.A)(this,t),o=this,i=t,c=[e],i=(0,s.A)(i),n=(0,r.A)(o,Ce()?Reflect.construct(i,c||[],(0,s.A)(o).constructor):i.apply(o,c)),(0,l.A)(n,"toggleShowDeleteSelectedItems",(function(){n.setState({showDeleteSelectedItems:!n.state.showDeleteSelectedItems})})),(0,l.A)(n,"toggleShowMergeSelectedItems",(function(){n.setState({showMergeSelectedItems:!n.state.showMergeSelectedItems})})),(0,l.A)(n,"toggleAddContactsToGroup",(function(){n.setState({showAddContactsToGroup:!n.state.showAddContactsToGroup})})),(0,l.A)(n,"newContact",(function(){U.RL.push("/contact/nieuw")})),(0,l.A)(n,"importContacts",(function(){U.RL.push("/contact/import")})),n.state={showDeleteSelectedItems:!1,showMergeSelectedItems:!1,showAddContactsToGroup:!1},n}return(0,i.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){var e=this.props.meDetails.permissions,t=void 0===e?{}:e,n=this.props.contacts.meta,a=void 0===n?{}:n,o=this.props,r=o.dataControleType,s=void 0!==r&&r,i=o.showCheckboxList,l=void 0!==i&&i,d=o.showCheckboxListMerge,u=void 0!==d&&d;return c.createElement("div",{className:"row"},c.createElement("div",{className:"col-md-4"},c.createElement("div",{className:"btn-group",role:"group"},c.createElement(ae.A,{iconName:"refresh",onClickAction:this.props.resetContactFilters,title:"Vernieuwen scherm"}),s||u||!(t.createPerson||t.createOrganisation||t.manageGroup)?null:c.createElement("div",{className:"nav navbar-nav btn-group",role:"group"},c.createElement("button",{className:"btn btn-success btn-sm","data-toggle":"dropdown",title:"Toevoegen contact of groep"},c.createElement(G.Ay,{size:14,icon:ue.t})),c.createElement("ul",{className:"dropdown-menu"},t.createPerson&&c.createElement("li",null,c.createElement(U.N_,{to:"contact/nieuw/persoon"},"Persoon")),t.createOrganisation&&c.createElement("li",null,c.createElement(U.N_,{to:"contact/nieuw/organisatie"},"Organisatie")),t.manageGroup&&c.createElement("li",null,c.createElement(U.N_,{role:"button",onClick:this.props.toggleSaveAsGroup},"Groep")))),!s&&!u&&(t.deletePerson||t.deleteOrganisation||t.manageGroup)&&c.createElement(ae.A,{iconName:"check",onClickAction:this.props.toggleShowCheckboxList,title:"Contactselectie maken"}),!s&&l&&t.updatePerson&&t.updateOrganisation&&t.manageGroup&&c.createElement("div",{className:"nav navbar-nav btn-group",role:"group"},c.createElement("button",{className:"btn btn-success btn-sm","data-toggle":"dropdown",title:"Contactselectie toevoegen aan groep"},c.createElement(G.Ay,{size:14,icon:pe.u})),c.createElement("ul",{className:"dropdown-menu"},c.createElement("li",null,c.createElement("a",{role:"button",onClick:this.toggleAddContactsToGroup},"Voeg toe aan groep")))),!s&&l&&(t.deletePerson||t.deleteOrganisation)&&c.createElement(ae.A,{iconName:"trash",onClickAction:this.toggleShowDeleteSelectedItems,title:"Verwijderen geselecteerde contacten"}),!s&&!l&&!u&&c.createElement(ae.A,{iconName:"filter",onClickAction:this.props.toggleShowExtraFilters,title:"Contactfilters"}),!l&&!u&&t.downloadContact&&c.createElement(ae.A,{iconName:"download",onClickAction:this.props.getCSV,title:"Downloaden contacten naar CSV"}),!s&&!l&&!u&&t.downloadContact&&c.createElement(ae.A,{iconName:"download",onClickAction:this.props.getFreeFieldsCSV,title:"Downloaden vrije velden van contacten naar CSV"}),!s&&!l&&!u&&t.downloadContact&&c.createElement(ae.A,{iconName:"download",onClickAction:this.props.getEnergySuppliersCSV,title:"Downloaden contacten energieleveranciers gegevens naar CSV"}),!s&&!l&&!u&&t.import&&c.createElement(ae.A,{iconName:"upload",onClickAction:this.importContacts,title:"Importeren contacten"}),!s&&!l&&!u&&t.downloadContactConsumption&&a.useExportAddressConsumption&&c.createElement(c.Fragment,null,c.createElement("a",{role:"button",className:"btn btn-success btn-sm",onClick:this.props.getExcelAddressEnergyConsumptionElectricity,title:"Downloaden elektriciteit verbruik"},c.createElement(de.z5h,{width:"13px",height:"12px"})),c.createElement("a",{role:"button",className:"btn btn-success btn-sm",onClick:this.props.getExcelAddressEnergyConsumptionGas,title:"Downloaden gas verbruik"},c.createElement(de.Itl,{width:"13px",height:"12px"}))),!l&&(t.deletePerson||t.deleteOrganisation||t.manageGroup)&&c.createElement(ae.A,{iconName:"check",onClickAction:this.props.toggleShowCheckboxListMerge,title:"Contacten samenvoegen selectie"}),u&&(t.deletePerson||t.deleteOrganisation||t.manageGroup)&&c.createElement(ae.A,{iconName:"compress",onClickAction:this.toggleShowMergeSelectedItems,title:"Contacten samenvoegen"}))),c.createElement("div",{className:"col-md-4"},c.createElement("h3",{className:"text-center table-title"},"Contacten ",function(){if(s)switch(s){case"zelfde-email-naam":return"(met zelfde email en naam)";case"zelfde-email-adres":return"(met zelfde email en adres)";case"zelfde-email":return"(met zelfde email)";case"zelfde-adres":return"(met zelfde adres)";case"zelfde-kvknummer":return"(met zelfde kvk nummer)";case"zelfde-btwnummer":return"(met zelfde btw nummer)";case"zelfde-iban":return"(met zelfde iban)"}return""}(),s&&c.createElement(c.Fragment,null,"Â ",c.createElement(de.__w,{color:"blue",size:"15px","data-tip":"Hier staan de contacten die op basis van het geselecteerde criterium als dubbel zijn gevonden.  Je kan deze ontdubbelen door op het de blauwe knop met het vinkje te klikken. (Contacten samenvoegen selectie) Als je twee contacten hebt geselecteerd kan je die samenvoegen door op de blauwe knop met twee pijltjes te klikken (Contacten samenvoegen) Hiermee worden de gegevens van het contact wat groen gemarkeerd is aangevuld. Het rood gemarkeerde contact wordt verwijderd.","data-for":"tooltip-note"}),c.createElement(ge.A,{id:"tooltip-note",effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"})))),c.createElement("div",{className:"col-md-4"},c.createElement("div",{className:"pull-right"},"Resultaten: ",a.total||0)),this.state.showDeleteSelectedItems&&c.createElement(oe,{toggleShowDeleteSelectedItems:this.toggleShowDeleteSelectedItems}),this.state.showAddContactsToGroup&&c.createElement(ce,{toggleAddGroup:this.toggleAddContactsToGroup}),this.state.showMergeSelectedItems&&c.createElement(fe,{toggleShowMergeSelectedItems:this.toggleShowMergeSelectedItems,contacts:this.props.contacts,fetchContactsData:this.props.fetchContactsData}))}}])}(c.Component);const Fe=(0,d.Ng)((function(e){return{meDetails:e.meDetails,contacts:e.contacts.list}}),null)(ye);var Ee=n(19737),Ae=n(5419),be=n.n(Ae);const ve=function(e){return c.createElement(J.A,{buttonConfirmText:"Aanmaken",buttonClassName:"btn-success",closeModal:e.closeDeleteItemModal,confirmAction:function(){e.saveAsGroup()},title:"Groep aanmaken"},"Wilt u een groep aanmaken op basis van de huidige filters?")};var ke=n(70762),we=n(55956),Se=n(23932);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){(0,l.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xe=function(){return!!e})()}var De=function(e){function t(e){var n,o,i,l;return(0,a.A)(this,t),o=this,i=t,l=[e],i=(0,s.A)(i),(n=(0,r.A)(o,xe()?Reflect.construct(i,l||[],(0,s.A)(o).constructor):i.apply(o,l))).state={filterType:e.filterType,contactType:e.contactType,amountOfFilters:e.amountOfFilters,filters:e.extraFilters,contactFreeFieldsFields:null,addressFreeFieldsFields:null,measuresToSelect:e.measures.filter((function(e){return 1===e.visible})),yesNoOptions:[{id:0,name:"Nee"},{id:1,name:"Ja"}]},n.fetchFilterFreeFieldsFieldsContact(),n.fetchFilterFreeFieldsFieldsAddress(),n.closeModal=n.closeModal.bind(n),n.confirmAction=n.confirmAction.bind(n),n.handleFilterFieldChange=n.handleFilterFieldChange.bind(n),n.handleFilterTypeChange=n.handleFilterTypeChange.bind(n),n.handleFilterValueChange=n.handleFilterValueChange.bind(n),n.addFilterRow=n.addFilterRow.bind(n),n.deleteFilterRow=n.deleteFilterRow.bind(n),n}return(0,i.A)(t,e),(0,o.A)(t,[{key:"fetchFilterFreeFieldsFieldsContact",value:function(){var e=this;Se.A.fetchFilterFreeFieldsFieldsContact().then((function(t){e.setState(Te(Te({},e.state),{},{contactFreeFieldsFields:t.data.data}))}))}},{key:"fetchFilterFreeFieldsFieldsAddress",value:function(){var e=this;Se.A.fetchFilterFreeFieldsFieldsAddress().then((function(t){e.setState(Te(Te({},e.state),{},{addressFreeFieldsFields:t.data.data}))}))}},{key:"closeModal",value:function(){this.props.toggleShowExtraFilters()}},{key:"confirmAction",value:function(){this.props.handleExtraFiltersChange(this.state.filters,this.state.amountOfFilters,this.state.filterType)}},{key:"handleFilterFieldChange",value:function(e,t){var n=this.state.filters,a=this.state.amountOfFilters;"product"!==n[t].field&&"opportunityMeasureCategory"!==n[t].field&&"intakeMeasureCategory"!==n[t].field&&"housingFileFieldName"!==n[t].field&&"contactFreeFieldsFieldName"!==n[t].field&&"addressFreeFieldsFieldName"!==n[t].field||(delete(n=n.filter((function(e){return e.connectedTo!==n[t].connectName})))[t].connectName,a=n.length),"product"===e?(n[t]={field:"product",type:"eq",data:"",connectName:e+t},n.splice(t+1,0,{field:"dateStart",type:"eq",data:"",connectedTo:e+t}),n.splice(t+2,0,{field:"dateFinish",type:"eq",data:"",connectedTo:e+t}),n.splice(t+3,0,{field:"orderStatus",type:"eq",data:"",connectedTo:e+t}),a=n.length):"opportunityMeasureCategory"===e?(n[t]={field:"opportunityMeasureCategory",type:"eq",data:"",connectName:e+t},n.splice(t+1,0,{field:"opportunityStatus",type:"eq",data:"",connectedTo:e+t}),n.splice(t+2,0,{field:"opportunityMeasure",type:"eq",data:"",connectedTo:e+t}),n.splice(t+3,0,{field:"opportunityEvaluationRealised",type:"eq",data:"",connectedTo:e+t}),n.splice(t+4,0,{field:"opportunityCampaign",type:"eq",data:"",connectedTo:e+t}),a=n.length):"intakeMeasureCategory"===e?(n[t]={field:"intakeMeasureCategory",type:"eq",data:"",connectName:e+t},n.splice(t+1,0,{field:"intakeDateStart",type:"eq",data:"",connectedTo:e+t}),n.splice(t+2,0,{field:"intakeDateFinish",type:"eq",data:"",connectedTo:e+t}),n.splice(t+3,0,{field:"intakeStatus",type:"eq",data:"",connectedTo:e+t}),a=n.length):"housingFileFieldName"===e?(n[t]={field:"housingFileFieldName",type:"eq",data:"",connectName:e+t},n.splice(t+1,0,{field:"housingFileFieldValue",type:"eq",data:"",connectedTo:e+t,housingFileField:""}),a=n.length):"contactFreeFieldsFieldName"===e?(n[t]={field:"contactFreeFieldsFieldName",type:"eq",data:"",connectName:e+t},n.splice(t+1,0,{field:"contactFreeFieldsFieldValue",type:"eq",data:"",connectedTo:e+t,freeFieldFormatType:""}),a=n.length):"addressFreeFieldsFieldName"===e?(n[t]={field:"addressFreeFieldsFieldName",type:"eq",data:"",connectName:e+t},n.splice(t+1,0,{field:"addressFreeFieldsFieldValue",type:"eq",data:"",connectedTo:e+t,freeFieldFormatType:""}),a=n.length):(n[t].field=e,n[t].data=""),this.setState(Te(Te({},this.state),{},{filters:n,amountOfFilters:a}))}},{key:"handleFilterTypeChange",value:function(e){this.setState(Te(Te({},this.state),{},{filterType:e}))}},{key:"handleFilterValueChange",value:function(e,t,n){var a=this.state.filters;if(a[n][e]=t,"housingFileFieldName"===a[n].field&&a[n].data){var o=this.props.housingFileHoomLinks.find((function(e){return e.key===Number(a[n].data)}));if(o){var r=a[n].connectName;a.map((function(e){return e.connectedTo===r&&(e.data="",e.type="eq",e.housingFileField=o.externalHoomShortName),e}))}}if("contactFreeFieldsFieldName"===a[n].field){var s="";if(a[n].data){var i=this.state.contactFreeFieldsFields.find((function(e){return e.id===Number(a[n].data)}));i&&(s=i.formatType)}var l=a[n].connectName;a.map((function(e){return e.connectedTo===l&&(e.data="",e.type="eq",e.freeFieldFormatType=s),e}))}if("addressFreeFieldsFieldName"===a[n].field){var c="";if(a[n].data){var d=this.state.addressFreeFieldsFields.find((function(e){return e.id===Number(a[n].data)}));d&&(c=d.formatType)}var u=a[n].connectName;a.map((function(e){return e.connectedTo===u&&(e.data="",e.type="eq",e.freeFieldFormatType=c),e}))}var p=this.state.measuresToSelect;"opportunityMeasureCategory"===a[n].field&&(p=a[n].data?this.props.measures.filter((function(e){return 1===e.visible&&e.measureCategoryId==a[n].data})):this.props.measures.filter((function(e){return 1===e.visible}))),this.setState(Te(Te({},this.state),{},{filters:a,measuresToSelect:p}))}},{key:"addFilterRow",value:function(){var e=this,t=this.state.filters;t[this.state.amountOfFilters]={field:"name",type:"eq",data:""},setTimeout((function(){e.setState(Te(Te({},e.state),{},{filters:t}))}),300),setTimeout((function(){e.setState({amountOfFilters:e.state.amountOfFilters+1})}),300)}},{key:"deleteFilterRow",value:function(e){var t=this.state.filters;"product"!==t[e].field&&"opportunityMeasureCategory"!==t[e].field&&"intakeMeasureCategory"!==t[e].field&&"housingFileFieldName"!==t[e].field&&"contactFreeFieldsFieldName"!==t[e].field&&"addressFreeFieldsFieldName"!==t[e].field||(t=t.filter((function(n){return n.connectedTo!==t[e].connectName}))),t.splice(e,1),this.setState(Te(Te({},this.state),{},{filters:t,amountOfFilters:t.length}))}},{key:"render",value:function(){var e=this,t={name:{name:"Naam",type:"stringWithoutNull"},postalCode:{name:"Postcode",type:"numberOrString"},country:{name:"Land",type:"dropdown",dropDownOptions:this.props.countries},createdAt:{name:"Gemaakt op",type:"date"},currentObligations:{name:"Huidig aantal obligaties",type:"number"},currentParticipations:{name:"Huidig aantal participaties",type:"number"},currentPostalcodeLinkCapital:{name:"Huidig aantal postcoderoos",type:"number"},currentLoan:{name:"Huidig bedrag lening",type:"number"},staticContactGroup:{name:"Statische groep",type:"dropdownHas",dropDownOptions:this.props.staticContactGroups},occupation:{name:"Verbinding",type:"dropdownRelations",dropDownOptions:this.props.primaryOccupations},occupationPrimary:{name:"Primaire verbinding",type:"dropdownRelations",dropDownOptions:this.props.primaryOccupations},campaign:{name:"Campagne",type:"dropdownHas",dropDownOptions:this.props.campaigns},opportunityMeasureCategory:{name:"Kans maatregel categorie",type:"dropdownHas",dropDownOptions:this.props.measureCategories},quotationRequestStatusOrganisationOrCoach:{name:"Kansactie status (org/coach)",type:"dropdownHas",dropDownOptions:this.props.quotationRequestStatus},quotationRequestStatusOccupant:{name:"Kansactie status (bewoner)",type:"dropdownHas",dropDownOptions:this.props.quotationRequestStatus},intakeMeasureCategory:{name:"Intake interesse",type:"dropdownHas",dropDownOptions:this.props.measureCategories},product:{name:"Product",type:"dropdownHas",dropDownOptions:this.props.products},dateOfBirth:{name:"Geboortedatum",type:"date"},energySupplier:{name:"Huidige Energie leverancier",type:"dropdown",dropDownOptions:this.props.energySuppliers},energySupplierType:{name:"Type huidige energie leverancier",type:"dropdownHas",dropDownOptions:this.props.energySupplierTypes},didAgreeAvg:{name:"Akkoord privacybeleid",type:"boolean",dropDownOptions:this.state.yesNoOptions},portalUser:{name:"Portal gebruiker actief",type:"boolean",dropDownOptions:this.state.yesNoOptions},housingFileExists:{name:"Woningdossier aanwezig",type:"boolean",dropDownOptions:this.state.yesNoOptions},housingFileFieldName:{name:"Woningdossier kenmerk",type:"dropdownHousingFileFields",dropDownOptions:this.props.housingFileHoomLinks},contactFreeFieldsFieldName:{name:"Vrij veld contact",type:"dropdownFreeFieldsFields",dropDownOptions:this.state.contactFreeFieldsFields?this.state.contactFreeFieldsFields:[]},addressFreeFieldsFieldName:{name:"Vrij veld adres",type:"dropdownFreeFieldsFields",dropDownOptions:this.state.addressFreeFieldsFields?this.state.addressFreeFieldsFields:[]},inspectionPersonType:{name:"Rol in buurtaanpak",type:"dropdownHas",dropDownOptions:this.props.inspectionPersonTypes},sharedArea:{name:"Buurt",type:"searchWithAsync"},hoomdossierExists:{name:"Hoomdossier aangemaakt",type:"boolean",dropDownOptions:this.state.yesNoOptions}},n={dateStart:{name:"Begin datum",type:"date"},dateFinish:{name:"Eind datum",type:"date"},orderStatus:{name:"Order status",type:"dropdownHas",dropDownOptions:this.props.orderStatuses}},a={opportunityStatus:{name:"Kans status",type:"dropdownHas",dropDownOptions:this.props.opportunityStatus},opportunityMeasure:{name:"Kans maatregel specifiek",type:"dropdownHas",dropDownOptions:this.state.measuresToSelect},opportunityEvaluationRealised:{name:"Kans status evaluatie uitgevoerd",type:"dropdownHas",dropDownOptions:this.props.opportunityEvaluationStatuses},opportunityCampaign:{name:"Kans campagne",type:"dropdownHas",dropDownOptions:this.props.campaigns}},o={intakeDateStart:{name:"Begin datum",type:"date"},intakeDateFinish:{name:"Eind datum",type:"date"},intakeStatus:{name:"Intake status",type:"dropdownHas",dropDownOptions:this.props.intakeStatuses}},r={housingFileFieldValue:{name:"Status/waarde",type:"housingFileFieldValue"}},s={contactFreeFieldsFieldValue:{name:"Status/waarde",type:"contactFreeFieldsFieldValue"}},i={addressFreeFieldsFieldValue:{name:"Status/waarde",type:"addressFreeFieldsFieldValue"}};return c.createElement(J.A,{title:"Extra filters",modalClassName:"modal-dialog-70vw",modalBodyClassName:"scrollable-modal-body",buttonConfirmText:"Toepassen",confirmAction:this.confirmAction,closeModal:this.closeModal,buttonCancelText:"Sluiten",extraButtonLabel:"Maak groep",extraButtonClass:"btn-success",extraButtonAction:this.props.saveAsGroup},c.createElement("div",{className:"row filter-row"},c.createElement("h5",null,c.createElement("div",{className:"col-xs-6"},c.createElement("input",{onChange:function(){return e.handleFilterTypeChange("and")},type:"radio",name:"type",value:"and",id:"and",checked:"and"===this.state.filterType}),c.createElement("label",{htmlFor:"and"},'Alle extra filters zijn "EN"')),c.createElement("div",{className:"col-xs-6"},c.createElement("input",{onChange:function(){return e.handleFilterTypeChange("or")},type:"radio",name:"type",value:"or",id:"or",checked:"or"===this.state.filterType}),c.createElement("label",{htmlFor:"or"},'Alle extra filters zijn "OF"')))),c.createElement("table",{className:"table"},c.createElement("thead",null,c.createElement("tr",null,c.createElement("th",{className:"col-md-4"},"Zoekveld"),c.createElement("th",{className:"col-md-3"}),c.createElement("th",{className:"col-md-4"},"Waarde"),c.createElement("th",{className:"col-md-1"}))),c.createElement("tbody",null,0===this.state.filters.length?c.createElement("tr",null,c.createElement("td",{colSpan:4},"Geen filters gezet.")):this.state.filters.map((function(l,d){return c.createElement(ke.A,{key:d,filter:l,filterNumber:d,fields:Te(Te(Te(Te(Te(Te(Te({},t),n),a),o),r),s),i),handleFilterFieldChange:e.handleFilterFieldChange,deleteFilterRow:e.deleteFilterRow,handleFilterValueChange:e.handleFilterValueChange,contactType:e.state.contactType})})))),c.createElement("div",{className:"row"},c.createElement("div",{className:"col-xs-12 text-right"},c.createElement(we.A,{buttonText:"Extra filter",onClickAction:this.addFilterRow}))))}}])}(c.Component);const Oe=(0,d.Ng)((function(e){return{contactStatuses:e.systemData.contactStatuses,staticContactGroups:e.systemData.staticContactGroups,primaryOccupations:e.systemData.primaryOccupations,measureCategories:e.systemData.measureCategories,measures:e.systemData.measures,opportunityStatus:e.systemData.opportunityStatus,opportunityEvaluationStatuses:e.systemData.opportunityEvaluationStatuses,intakeStatuses:e.systemData.intakeStatuses,products:e.systemData.products,energySuppliers:e.systemData.energySuppliers,energySupplierTypes:e.systemData.energySupplierTypes,countries:e.systemData.countries,orderStatuses:e.systemData.orderStatuses,quotationRequestStatus:e.systemData.quotationRequestStatus,inspectionPersonTypes:e.systemData.inspectionPersonTypes,housingFileHoomLinks:e.systemData.housingFileHoomLinks}}))(De);var Ie=n(38732);function Me(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Me=function(){return!!e})()}h().locale("nl");var Re=function(e){function t(e){var n,o,i,c;return(0,a.A)(this,t),o=this,i=t,c=[e],i=(0,s.A)(i),n=(0,r.A)(o,Me()?Reflect.construct(i,c||[],(0,s.A)(o).constructor):i.apply(o,c)),(0,l.A)(n,"fetchContactsData",(function(){setTimeout((function(){var e=n.state,t=e.extraFilters,a=e.filterType,o=e.dataControleType,r=(0,Ee.A)(n.props.contactsFilters),s=n.props.contactsSorts,i={limit:20,offset:n.props.contactsPagination.offset};n.props.fetchContacts(r,t,s,i,a,o)}),100)})),(0,l.A)(n,"saveAsGroup",(function(){var e=n.state,t=e.extraFilters,a=e.filterType,o=(0,Ee.A)(n.props.contactsFilters);he.A.saveAsGroup({filters:o,extraFilters:t,filterType:a}).then((function(e){U.RL.push("/contact-groep/".concat(e.data.data.id,"/edit"))}))})),(0,l.A)(n,"toggleSaveAsGroup",(function(){n.setState((function(e){return{showSaveAsGroup:!e.showSaveAsGroup}}))})),(0,l.A)(n,"getCSV",(function(){n.props.blockUI(),setTimeout((function(){var e=n.state,t=e.extraFilters,a=e.filterType,o=e.dataControleType,r=(0,Ee.A)(n.props.contactsFilters),s=n.props.contactsSorts;he.A.getCSV({filters:r,extraFilters:t,sorts:s,filterType:a,dataControleType:o}).then((function(e){be()(e.data,"Contacten-".concat(h()().format("YYYY-MM-DD HH:mm:ss"),".csv")),n.props.unblockUI()})).catch((function(){n.props.unblockUI()}))}),100)})),(0,l.A)(n,"getFreeFieldsCSV",(function(){n.props.blockUI(),setTimeout((function(){var e=n.state,t=e.extraFilters,a=e.filterType,o=(0,Ee.A)(n.props.contactsFilters),r=n.props.contactsSorts;he.A.getFreeFieldsCSV({filters:o,extraFilters:t,sorts:r,filterType:a}).then((function(e){be()(e.data,"Contacten-Vrije-Velden-".concat(h()().format("YYYY-MM-DD HH:mm:ss"),".csv")),n.props.unblockUI()})).catch((function(){n.props.unblockUI()}))}),100)})),(0,l.A)(n,"getEnergySuppliersCSV",(function(){n.props.blockUI(),setTimeout((function(){var e=n.state,t=e.extraFilters,a=e.filterType,o=(0,Ee.A)(n.props.contactsFilters),r=n.props.contactsSorts;he.A.getEnergySuppliersCSV({filters:o,extraFilters:t,sorts:r,filterType:a}).then((function(e){be()(e.data,"Contacten-energieleveranciers-".concat(h()().format("YYYY-MM-DD HH:mm:ss"),".csv")),n.props.unblockUI()})).catch((function(){n.props.unblockUI()}))}),100)})),(0,l.A)(n,"getExcelAddressEnergyConsumptionGas",(function(){n.props.blockUI(),setTimeout((function(){for(var e=1e4,t=Math.ceil(n.props.contacts.meta.total/e),a=n.props.contacts.meta.total>e,o=1,r=1;r<=t;r++){var s={limit:e,offset:r*e-e},i=n.state.extraFilters,l=(0,Ee.A)(n.props.contactsFilters),c=n.props.contactsSorts;he.A.getExcelAddressEnergyConsumptionGas({filters:l,extraFilters:i,sorts:c,pagination:s}).then((function(e){var r=a?"Contacten-verbruik-gas-".concat(h()().format("YYYY-MM-DD HH:mm:ss")," (").concat(o," van ").concat(t,").xlsx"):"Contacten-verbruik-gas-".concat(h()().format("YYYY-MM-DD HH:mm:ss"),".xlsx");be()(e.data,r),o++,n.props.unblockUI()})).catch((function(){n.props.unblockUI()}))}}),100)})),(0,l.A)(n,"getExcelAddressEnergyConsumptionElectricity",(function(){n.props.blockUI(),setTimeout((function(){for(var e=1e4,t=Math.ceil(n.props.contacts.meta.total/e),a=n.props.contacts.meta.total>e,o=1,r=1;r<=t;r++){var s={limit:e,offset:r*e-e},i=n.state.extraFilters,l=(0,Ee.A)(n.props.contactsFilters),c=n.props.contactsSorts;he.A.getExcelAddressEnergyConsumptionElectricity({filters:l,extraFilters:i,sorts:c,pagination:s}).then((function(e){var r=a?"Contacten-verbruik-elektriciteit-".concat(h()().format("YYYY-MM-DD HH:mm:ss")," (").concat(o," van ").concat(t,").xlsx"):"Contacten-verbruik-elektriciteit-".concat(h()().format("YYYY-MM-DD HH:mm:ss"),".xlsx");be()(e.data,r),o++,n.props.unblockUI()})).catch((function(){n.props.unblockUI()}))}}),100)})),(0,l.A)(n,"resetContactFilters",(function(){n.props.clearFilterContacts(),n.setState({filterType:"and",amountOfFilters:0,extraFilters:[]}),n.fetchContactsData()})),(0,l.A)(n,"onSubmitFilter",(function(){n.props.clearContacts(),n.props.setContactsPagination({page:0,offset:0}),n.fetchContactsData()})),(0,l.A)(n,"toggleShowCheckboxList",(function(){n.setState((function(e){return{showCheckboxList:!e.showCheckboxList}}))})),(0,l.A)(n,"toggleShowCheckboxListMerge",(function(){n.setState((function(e){return{showCheckboxListMerge:!e.showCheckboxListMerge}}))})),(0,l.A)(n,"selectAllCheckboxes",(function(){n.setState((function(e){return{checkedAllCheckboxes:!e.checkedAllCheckboxes}})),n.props.setCheckedContactAll(!n.state.checkedAllCheckboxes)})),(0,l.A)(n,"prefillExtraFilter",(function(){n.setState({filterType:"and",amountOfFilters:1,extraFilters:[{field:"name",type:"eq",data:""}]})})),(0,l.A)(n,"toggleShowExtraFilters",(function(){0!==n.state.extraFilters.length||n.state.showExtraFilters||n.prefillExtraFilter(),n.setState((function(e){return{showExtraFilters:!e.showExtraFilters}}))})),n.state={campaigns:"",showCheckboxList:!1,showCheckboxListMerge:!1,checkedAllCheckboxes:!1,showSaveAsGroup:!1,showExtraFilters:!1,filterType:"and",dataControleType:"",amountOfFilters:0,extraFilters:[]},n.handlePageClick=n.handlePageClick.bind(n),n.handleExtraFiltersChange=n.handleExtraFiltersChange.bind(n),n.getCSV=n.getCSV.bind(n),n.getFreeFieldsCSV=n.getFreeFieldsCSV.bind(n),n.getEnergySuppliersCSV=n.getEnergySuppliersCSV.bind(n),n.toggleShowExtraFilters=n.toggleShowExtraFilters.bind(n),n.getDataControleType=n.getDataControleType.bind(n),n}return(0,i.A)(t,e),(0,o.A)(t,[{key:"getDataControleType",value:function(e){return e&&"data-controle"===e.filter?e.value:""}},{key:"componentDidMount",value:function(){var e=this;if((0,p.isEmpty)(this.props.params))this.props.clearFilterContacts(),this.setState({filterType:"and",dataControleType:""});else switch(this.props.params.filter){case"type":this.props.clearFilterContacts(),this.props.setTypeFilter(this.props.params.value);break;case"data-controle":this.setState({dataControleType:this.getDataControleType(this.props.params)})}this.fetchContactsData(),Ie.A.peekNotFinishedCampaigns().then((function(t){e.setState({campaigns:t})}))}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.params.value!==e.params.value){if(this.props.clearFilterContacts(),this.setState({filterType:"and",dataControleType:""}),!(0,p.isEmpty)(this.props.params))switch(this.props.params.filter){case"type":this.props.setTypeFilter(this.props.params.value);break;case"data-controle":this.setState({dataControleType:this.getDataControleType(this.props.params)})}setTimeout((function(){t.fetchContactsData()}),100)}}},{key:"componentWillUnmount",value:function(){this.props.clearContacts()}},{key:"handlePageClick",value:function(e){var t=e.selected,n=Math.ceil(20*t);this.props.setContactsPagination({page:t,offset:n}),this.fetchContactsData()}},{key:"handleExtraFiltersChange",value:function(e,t,n){var a=this;this.setState({filterType:n,amountOfFilters:t,extraFilters:e}),this.props.setContactsPagination({page:0,offset:0}),setTimeout((function(){a.fetchContactsData()}),100)}},{key:"render",value:function(){return c.createElement("div",null,c.createElement("div",{className:"panel panel-default"},c.createElement("div",{className:"panel-body"},c.createElement("div",{className:"col-md-12 margin-10-top"},c.createElement(Fe,{dataControleType:this.state.dataControleType,showCheckboxList:this.state.showCheckboxList,showCheckboxListMerge:this.state.showCheckboxListMerge,toggleShowCheckboxList:this.toggleShowCheckboxList,toggleShowCheckboxListMerge:this.toggleShowCheckboxListMerge,resetContactFilters:this.resetContactFilters,selectAllCheckboxes:this.selectAllCheckboxes,checkedAllCheckboxes:this.state.checkedAllCheckboxes,getCSV:this.getCSV,getFreeFieldsCSV:this.getFreeFieldsCSV,getEnergySuppliersCSV:this.getEnergySuppliersCSV,getExcelAddressEnergyConsumptionGas:this.getExcelAddressEnergyConsumptionGas,getExcelAddressEnergyConsumptionElectricity:this.getExcelAddressEnergyConsumptionElectricity,toggleSaveAsGroup:this.toggleSaveAsGroup,saveAsGroup:this.saveAsGroup,toggleShowExtraFilters:this.toggleShowExtraFilters,fetchContactsData:this.fetchContactsData})),c.createElement("div",{className:"col-md-12 margin-10-top"},c.createElement(ne,{dataControleType:this.state.dataControleType,contacts:this.props.contacts,contactsPagination:this.props.contactsPagination,showCheckboxList:this.state.showCheckboxList,showCheckboxListMerge:this.state.showCheckboxListMerge,selectAllCheckboxes:this.selectAllCheckboxes,checkedAllCheckboxes:this.state.checkedAllCheckboxes,onSubmitFilter:this.onSubmitFilter,fetchContactsData:this.fetchContactsData,handlePageClick:this.handlePageClick})))),this.state.showSaveAsGroup&&c.createElement(ve,{saveAsGroup:this.saveAsGroup,closeDeleteItemModal:this.toggleSaveAsGroup}),this.state.showExtraFilters&&c.createElement(Oe,{campaigns:this.state.campaigns,saveAsGroup:this.saveAsGroup,filterType:this.state.filterType,toggleShowExtraFilters:this.toggleShowExtraFilters,handleExtraFiltersChange:this.handleExtraFiltersChange,contactType:this.props.contactsFilters.typeId.data,extraFilters:this.state.extraFilters,amountOfFilters:this.state.amountOfFilters}))}}])}(c.Component);const Le=(0,d.Ng)((function(e){return{contacts:e.contacts.list,contactsFilters:e.contacts.filters,contactsSorts:e.contacts.sorts,contactsPagination:e.contacts.pagination}}),(function(e){return(0,u.zH)({fetchContacts:f,clearContacts:g,setCheckedContactAll:C,setTypeFilter:F,clearFilterContacts:D,setContactsPagination:O,blockUI:I.o,unblockUI:I.r},e)}))(Re)}}]);