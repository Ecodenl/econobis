"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[6732],{3740:(e,a,t)=>{t.d(a,{Z:()=>l});var r=t(69265);const l={fetchFreeFieldsFields:function(e,a,t){var l="".concat(URL_API,"/api/free-fields-field/grid");return r.Z.get(l,{params:{filters:JSON.stringify(e),sorts:JSON.stringify(a),limit:t.limit,offset:t.offset}})},deleteFreeFieldsField:function(e){var a="".concat(URL_API,"/api/free-fields-field/").concat(e,"/delete");return r.Z.post(a)},newFreeFieldsField:function(e){var a="".concat(URL_API,"/api/free-fields-field");return r.Z.post(a,e).then((function(e){return e.data})).catch((function(e){console.log(e)}))},fetchFreeFieldDetails:function(e){var a="".concat(URL_API,"/api/free-fields-field/").concat(e);return r.Z.get(a).then((function(e){return e.data.data}))},updateFreeFieldsField:function(e){return r.Z.post("".concat(URL_API,"/api/free-fields-field/").concat(e.id,"/update"),e)},fetchFilterFreeFieldsFieldsContact:function(){var e="".concat(URL_API,"/api/free-fields-field/get-for-filter/contacts");return r.Z.get(e)},fetchFilterFreeFieldsFieldsAddress:function(){var e="".concat(URL_API,"/api/free-fields-field/get-for-filter/addresses");return r.Z.get(e)},peekFreeFieldsTables:function(){var e="".concat(URL_API,"/api/free-fields-field/free-fields-tables/peek");return r.Z.get(e)},peekFreeFieldsFieldFormats:function(){var e="".concat(URL_API,"/api/free-fields-field/free-fields-field-formats/peek");return r.Z.get(e)},fetchFreeFieldsFieldRecords:function(e,a){var t="".concat(URL_API,"/api/free-fields-field-records/get-values");return r.Z.get(t,{params:{table:e,recordId:a}}).then((function(e){return e.data}))},updateFreeFieldsFieldRecords:function(e,a){var t="".concat(URL_API,"/api/free-fields-field-records/update-values");return r.Z.post(t,{data:{records:e,recordId:a}})}}},78242:(e,a,t)=>{t.d(a,{Z:()=>g});var r=t(29439),l=t(67294),n=t(45697),s=t.n(n),i=t(32574),o=t.n(i),d=t(30381),c=t.n(d),u=t(86733),m=t(30071),f=t(91871),h=t(96168),p=function(e){var a=e.className,t=e.divSize,n=e.sizeDate,s=e.sizeTime,i=e.label,d=e.id,p=e.name,g=e.value,b=e.onChangeActionDate,v=e.onChangeActionTime,F=e.readOnly,E=e.required,y=e.start,N=e.end,Z=e.step,k=e.textToolTip,C=e.error,I=e.errorMessage,D=e.disabledBefore,V=e.disabledAfter,M=e.nullable,A=e.nullableLabel,x=(0,l.useState)(!1),O=(0,r.Z)(x,2),w=O[0],P=O[1],T=g?c()(g).format("L"):"",S=g?c()(g).format("HH:mm"):"",R=(0,l.useState)({before:D?new Date(D):"",after:V?new Date(V):""}),q=(0,r.Z)(R,2),_=q[0],j=(q[1],(0,l.useState)("00:00"==g)),W=(0,r.Z)(j,2),z=W[0],L=W[1];return l.createElement("div",{className:"form-group ".concat(t)},l.createElement("label",{htmlFor:d,className:"col-sm-6 ".concat(E)},i),l.createElement("div",{className:"".concat(n)},l.createElement(u.default,{id:d,value:T,formatDate:m.formatDate,parseDate:m.parseDate,onDayChange:function(e){var a=e?c()(e).format("Y-MM-DD"):"",t=!1;a&&D&&c()(a).isBefore(D)&&(t=!0),a&&V&&c()(a).isAfter(V)&&(t=!0),P(t),!t&&b(a,p)},dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:m.default,disabledDays:_},inputProps:{className:"form-control input-sm ".concat(a)+(w||C?" has-error":""),name:p,onBlur:function(e){var a=c()(e.target.value,"DD-MM-YYYY",!0),t=!1;a.isValid()||""===e.target.value||(t=!0),D&&a.isBefore(D)&&(t=!0),V&&a.isAfter(V)&&(t=!0),P(t)},autoComplete:"off",readOnly:F,disabled:F},required:E,readOnly:F,placeholder:""})),l.createElement("div",{className:"".concat(s)},z?l.createElement("span",null,"Onbekend"):F?l.createElement("input",{name:p,value:S,className:"form-control input-sm",readOnly:!0,disabled:!0}):l.createElement(o(),{name:p,value:S,onChange:function(e){var a=c()("1900-01-01 00:00:00").add(e,"seconds").format("HH:mm");v(a,p)},start:y,end:N,step:Z,format:24,className:"input-sm"})),l.createElement("div",{className:"col-sm-1"},M?l.createElement("label",null,l.createElement("input",{type:"checkbox",name:"nullableChecked",value:!0,title:z?"Vink uit: tijdstip zetten":"Vink aan: tijdstip onbekend",checked:z,onChange:function(e){var a=e.target,t="checkbox"===a.type?a.checked:a.value;L(t),v(t?"00:00":"08:00",p)}})," ",A):"",k&&l.createElement(l.Fragment,null,l.createElement(f.DAO,{color:"blue",size:"15px","data-tip":k,"data-for":"tooltip-".concat(p)}),l.createElement(h.Z,{id:"tooltip-".concat(p),effect:"float",place:"right",multiline:!0,"aria-haspopup":"true"}))),C&&l.createElement("div",{className:"col-sm-offset-6 col-sm-6"},l.createElement("span",{className:"has-error-message"}," ",I)))};p.defaultProps={className:"",divSize:"col-sm-6",sizeDate:"col-sm-3",sizeTime:"col-sm-2",required:"",readOnly:!1,value:null,name:"",textToolTip:"",error:!1,errorMessage:"",disabledBefore:null,disabledAfter:null,start:"08:00",end:"23:00",step:15,nullable:!1,nullableLabel:"",nullableChecked:!1},p.propTypes={label:s().string.isRequired,className:s().string,divSize:s().string,sizeDate:s().string,sizeTime:s().string,id:s().string,name:s().string.isRequired,value:s().oneOfType([s().string]),onChangeActionDate:s().func,onChangeActionTime:s().func,start:s().string,end:s().string,step:s().number,readOnly:s().bool,textToolTip:s().string,error:s().bool,errorMessage:s().string,disabledBefore:s().string,disabledAfter:s().string,nullable:s().bool,nullableLabel:s().string,nullableChecked:s().bool};const g=p},78286:(e,a,t)=>{t.d(a,{Z:()=>d});var r=t(67294),l=t(9181),n=t(21606),s=t(54138),i=t(85129),o=t(78242);const d=function(e){var a=e.fieldFormatType,t=e.defaultValue,d=e.mandatory,c=e.errors,u=e.errorsMessage,m=e.handleInputChange,f=e.handleInputChangeDate,h=e.handleInputChangeDatetimeDate,p=e.handleInputChangeDatetimeTime;switch(a){case"boolean":return r.createElement(n.Z,{label:"Standaard waarde",name:"defaultValue",value:t,onChangeAction:m,required:d?"required":"",error:c.defaultValue,errorMessage:u.defaultValue});case"text_short":return r.createElement(l.Z,{label:"Standaard waarde",name:"defaultValue",value:t,onChangeAction:m,type:"text",required:d?"required":"",error:c.defaultValue,errorMessage:u.defaultValue});case"text_long":return r.createElement(i.Z,{label:"Standaard waarde",name:"defaultValue",value:t,onChangeAction:m,required:d?"required":"",error:c.defaultValue,errorMessage:u.defaultValue});case"int":case"double_2_dec":case"amount_euro":return r.createElement(l.Z,{label:"Standaard waarde",name:"defaultValue",value:t,onChangeAction:m,type:"number",required:d?"required":"",error:c.defaultValue,errorMessage:u.defaultValue});case"date":return r.createElement(s.Z,{label:"Standaard waarde",name:"defaultValue",value:t,onChangeAction:f,required:d?"required":"",error:c.defaultValue,errorMessage:u.defaultValue});case"datetime":return r.createElement(o.Z,{label:"Standaard waarde",name:"defaultValue",value:t,onChangeActionDate:h,onChangeActionTime:p,required:d?"required":"",error:c.defaultValue,errorMessage:u.defaultValue,nullable:!0})}}},26732:(e,a,t)=>{t.r(a),t.d(a,{default:()=>w});var r=t(67294),l=t(15671),n=t(43144),s=t(97326),i=t(60136),o=t(82963),d=t(61120),c=t(4942),u=t(61409),m=t(48966),f=t.n(m),h=t(9181),p=t(49332),g=t(98688),b=t(14309),v=t(21606),F=t(3740),E=t(9669),y=t.n(E),N=t(82084),Z=t(84006),k=t(7250),C=t(78286),I=t(30381),D=t.n(I);function V(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,r)}return t}function M(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?V(Object(t),!0).forEach((function(a){(0,c.Z)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):V(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}const A=function(e){(0,i.Z)(E,e);var a,t,m=(a=E,t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,d.Z)(a);if(t){var l=(0,d.Z)(this).constructor;e=Reflect.construct(r,arguments,l)}else e=r.apply(this,arguments);return(0,o.Z)(this,e)});function E(e){var a;return(0,l.Z)(this,E),a=m.call(this,e),(0,c.Z)((0,s.Z)(a),"handleInputChange",(function(e){var t=e.target,r="checkbox"===t.type?t.checked:t.value,l=t.name;a.setState(M(M({},a.state),{},{freeField:M(M({},a.state.freeField),{},(0,c.Z)({},l,r))}))})),(0,c.Z)((0,s.Z)(a),"handleInputChangeDate",(function(e,t){var r=e?D()(e).format("Y-MM-DD"):"";a.setState(M(M({},a.state),{},{freeField:M(M({},a.state.freeField),{},(0,c.Z)({},t,r))}))})),(0,c.Z)((0,s.Z)(a),"handleInputChangeDatetimeDate",(function(e,t){var r=e||"",l="08:00";a.state.freeField.defaultValue&&(l=D()(a.state.freeField.defaultValue).format("HH:mm"));var n="";f().isEmpty(r)||(n=D()(r+" "+l+":00").format("YYYY-MM-DD HH:mm:ss")),a.setState(M(M({},a.state),{},{freeField:M(M({},a.state.freeField),{},(0,c.Z)({},t,n))}))})),(0,c.Z)((0,s.Z)(a),"handleInputChangeDatetimeTime",(function(e,t){var r="",l=e||"08:00";a.state.freeField.defaultValue&&(r=D()(a.state.freeField.defaultValue).format("Y-MM-DD"));var n="";f().isEmpty(r)||(n=D()(r+" "+l+":00").format("YYYY-MM-DD HH:mm:ss")),a.setState(M(M({},a.state),{},{freeField:M(M({},a.state.freeField),{},(0,c.Z)({},t,n))}))})),(0,c.Z)((0,s.Z)(a),"handleSubmit",(function(e){e.preventDefault();var t=a.state.freeField,r={},l={},n=!1,s=(0,Z.i)({fieldFormatType:"defaultValue",defaultValue:a.state.freeField.defaultValue,mandatory:a.state.freeField.mandatory,mask:a.state.freeField.mask});s&&(l.defaultValue=s,r.defaultValue=!0,n=!0),f().isEmpty(t.tableId+"")&&(r.tableId=!0,l.tableId="verplicht",n=!0),f().isEmpty(t.fieldFormatId+"")&&(r.fieldFormatId=!0,l.fieldFormatId="verplicht",n=!0),f().isEmpty(t.fieldName)&&(r.fieldName=!0,l.fieldName="verplicht",n=!0),null==t.fieldNameWebform||f().isEmpty(t.fieldNameWebform)||t.fieldNameWebform.match(/^[a-z0-9_]+$/)||(r.fieldNameWebform=!0,l.fieldNameWebform="Waarde ongeldig",n=!0),t.mandatory&&f().isEmpty(""+t.defaultValue)&&(r.defaultValue=!0,l.defaultValue="verplicht",n=!0),f().isEmpty(t.sortOrder+"")&&(r.sortOrder=!0,l.sortOrder="verplicht",n=!0),a.setState(M(M({},a.state),{},{errors:r,errorsMessage:l})),n||F.Z.newFreeFieldsField(t).then((function(e){u.nA.push("/vrije-velden/".concat(e.data.id))})).catch((function(e){console.log(e),alert("Er is iets mis gegaan met opslaan!")}))})),a.state={freeField:{tableId:"",fieldFormatId:"",fieldName:"",fieldNameWebform:"",visiblePortal:!1,changePortal:!1,mandatory:!1,defaultValue:"",exportable:!1,sortOrder:"",mask:""},freeFieldsTables:[],freeFieldsFieldFormats:[],errors:{tableId:!1,fieldFormatId:!1,fieldName:!1,fieldNameWebform:!1,visiblePortal:!1,changePortal:!1,mandatory:!1,defaultValue:!1,exportable:!1,sortOrder:!1,mask:!1},errorsMessage:{tableId:"",fieldFormatId:"",fieldName:"",fieldNameWebform:"",visiblePortal:"",changePortal:"",mandatory:"",defaultValue:"",exportable:"",sortOrder:"",mask:""}},a.handleReactSelectChange=a.handleReactSelectChange.bind((0,s.Z)(a)),a}return(0,n.Z)(E,[{key:"componentDidMount",value:function(){var e=this;y().all([F.Z.peekFreeFieldsTables(),F.Z.peekFreeFieldsFieldFormats()]).then(y().spread((function(a,t){e.setState({freeFieldsTables:a.data.data,freeFieldsFieldFormats:t.data.data})})))}},{key:"handleReactSelectChange",value:function(e,a){this.setState(M(M({},this.state),{},{freeField:M(M({},this.state.freeField),{},(0,c.Z)({},a,e))}))}},{key:"getTablePrefixFieldNameWebform",value:function(e){var a=null;if(e){var t=this.state.freeFieldsTables.find((function(a){return a.id==e}));a=t?t.prefixFieldNameWebform:null}return a}},{key:"render",value:function(){var e=this.state.freeField,a=e.tableId,t=e.fieldFormatId,l=e.fieldName,n=e.fieldNameWebform,s=e.visiblePortal,i=e.changePortal,o=e.mandatory,d=e.defaultValue,c=e.exportable,u=e.sortOrder,m=e.mask,f=this.getTablePrefixFieldNameWebform(a),F=this.state.freeFieldsFieldFormats.find((function(e){return e.id==t})),E=F?F.formatType:null;return r.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},r.createElement(b.Z,null,r.createElement(g.Z,null,r.createElement("div",{className:"row"},r.createElement(N.Z,{label:"Op onderdeel",id:"tableId",name:"tableId",options:this.state.freeFieldsTables,value:a,onChangeAction:this.handleReactSelectChange,required:"required",error:this.state.errors.tableId,errorMessage:this.state.errorsMessage.tableId}),r.createElement(N.Z,{label:"Type",id:"fieldFormatId",name:"fieldFormatId",options:this.state.freeFieldsFieldFormats,value:t,onChangeAction:this.handleReactSelectChange,required:"required",error:this.state.errors.fieldFormatId,errorMessage:this.state.errorsMessage.fieldFormatId})),r.createElement("div",{className:"row"},r.createElement(h.Z,{label:"Veldnaam",name:"fieldName",value:l,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.fieldName,errorMessage:this.state.errorsMessage.fieldName}),r.createElement(v.Z,{label:"Verplicht",name:"mandatory",value:o,onChangeAction:this.handleInputChange,error:this.state.errors.mandatory,errorMessage:this.state.errorsMessage.mandatory})),r.createElement("div",{className:"row"},r.createElement(v.Z,{label:"Zichtbaar in portaal",name:"visiblePortal",value:s,onChangeAction:this.handleInputChange,error:this.state.errors.visiblePortal,errorMessage:this.state.errorsMessage.visiblePortal}),r.createElement(v.Z,{label:"Aan te passen in portaal",name:"changePortal",value:i,onChangeAction:this.handleInputChange,error:this.state.errors.changePortal,errorMessage:this.state.errorsMessage.changePortal})),r.createElement("div",{className:"row"},r.createElement("div",{className:"form-group col-sm-6"}," "),r.createElement(v.Z,{label:"Exporteerbaar",name:"exportable",value:c,onChangeAction:this.handleInputChange,error:this.state.errors.exportable,errorMessage:this.state.errorsMessage.exportable})),r.createElement("div",{className:"row"},E&&r.createElement(C.Z,{fieldFormatType:E,defaultValue:d,mandatory:o,errors:this.state.errors,errorsMessage:this.state.errorsMessage,handleInputChange:this.handleInputChange,handleInputChangeDate:this.handleInputChangeDate,handleInputChangeDatetimeDate:this.handleInputChangeDatetimeDate,handleInputChangeDatetimeTime:this.handleInputChangeDatetimeTime})),r.createElement("div",{className:"row"},r.createElement(h.Z,{label:"Volgorde",name:"sortOrder",value:u,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.sortOrder,errorMessage:this.state.errorsMessage.sortOrder,type:"number"})),null!=f?r.createElement("div",{className:"row"},r.createElement(k.Z,{className:"form-group col-sm-6 ",label:"Veldnaam webformulier",value:n?f+n:""}),r.createElement(h.Z,{label:"Wijzig veldnaam webformulier",name:"fieldNameWebform",value:n,size:"col-sm-5",onChangeAction:this.handleInputChange,error:this.state.errors.fieldNameWebform,errorMessage:this.state.errorsMessage.fieldNameWebform,textToolTip:"Te gebruiken veldnaam voor webformulier in snake_case notatie. Alleen kleine letters, cijfers en liggend streepje (undescore) toegestaan.Veldnamen voor webformulieren hebben altijd een vaste prefix, afhankelijk van onderdeel."})):null,r.createElement("hr",null),r.createElement("div",{className:"row"},r.createElement(h.Z,{label:"Masker",name:"mask",value:m,onChangeAction:this.handleInputChange,error:this.state.errors.mask,errorMessage:this.state.errorsMessage.mask}),r.createElement("div",{className:"form-group col-sm-3 "},r.createElement("div",{className:"col-sm-12"},"Legenda:",r.createElement("br",null),"9 = nummer",r.createElement("br",null),"a = letter",r.createElement("br",null),"x = nummer / letter",r.createElement("br",null),"Alle andere karakters zullen letterlijk moeten worden gebruikt")),r.createElement("div",{className:"form-group col-sm-3"},r.createElement("div",{className:"col-sm-6"},"Voorbeelden:",r.createElement("br",null),"999-999",r.createElement("br",null),"9a9/999a",r.createElement("br",null),"999-99-9999",r.createElement("br",null),"xx.xx.xxxx.xx"),r.createElement("div",{className:"col-sm-6"},r.createElement("br",null),"123-760",r.createElement("br",null),"3q2/887w",r.createElement("br",null),"987-65-4329",r.createElement("br",null),"12.qq.12aw.3r")))),r.createElement(g.Z,null,r.createElement("div",{className:"pull-right btn-group",role:"group"},r.createElement(p.Z,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}]),E}(r.Component);var x=t(55451);const O=function(){return r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-4"},r.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},r.createElement(x.Z,{iconName:"arrowLeft",onClickAction:u.mW.goBack}))),r.createElement("div",{className:"col-md-4"},r.createElement("h4",{className:"text-center margin-small"},"Nieuw vrij veld")),r.createElement("div",{className:"col-md-4"}))},w=function(){return r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-9"},r.createElement("div",{className:"col-md-12 margin-10-top"},r.createElement(b.Z,null,r.createElement(g.Z,{className:"panel-small"},r.createElement(O,null)))),r.createElement("div",{className:"col-md-12 margin-10-top"},r.createElement(A,null))),r.createElement("div",{className:"col-md-3"}))}},84006:(e,a,t)=>{t.d(a,{i:()=>n});var r=t(48966),l=t.n(r);function n(e){var a=null;switch(e.fieldFormatType){case"defaultValue":a=e.defaultValue;break;case"boolean":a=e.fieldRecordValueBoolean;break;case"text_short":case"text_long":a=e.fieldRecordValueText;break;case"int":a=e.fieldRecordValueInt;break;case"double_2_dec":case"amount_euro":a=e.fieldRecordValueDouble;break;case"date":case"datetime":a=e.fieldRecordValueDatetime}return 1!=e.mandatory||null!=a&&!l().isEmpty(a+"")?!function(e,a){if(null!=e&&!l().isEmpty(""+e)&&null!=a&&!l().isEmpty(""+a)){var t=e.toString(),r=a.split(""),n=t.split(""),s=0;if(!a.includes("?")&&a.length!=t.length)return!1;for(s in r)switch(r[s]){case"9":if(!n[s]||!n[s].match(/^[0-9]$/))return!1;break;case"a":if(!n[s]||!n[s].match(/^[a-zA-Z]$/))return!1;break;case"x":if(!n[s]||!n[s].match(/^[a-zA-Z0-9]$/))return!1;break;default:if(n[s]!=r[s])return!1}}return!0}(a,e.mask,e.mandatory)&&"voldoet niet aan het masker: "+e.mask:"verplicht"}}}]);