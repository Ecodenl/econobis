"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[6732],{3740:(e,t,r)=>{r.d(t,{Z:()=>l});var a=r(69265);const l={fetchFreeFieldsFields:function(e,t,r){var l="".concat(URL_API,"/api/free-fields-field/grid");return a.Z.get(l,{params:{filters:JSON.stringify(e),sorts:JSON.stringify(t),limit:r.limit,offset:r.offset}})},deleteFreeFieldsField:function(e){var t="".concat(URL_API,"/api/free-fields-field/").concat(e,"/delete");return a.Z.post(t)},newFreeFieldsField:function(e){var t="".concat(URL_API,"/api/free-fields-field");return a.Z.post(t,e).then((function(e){return e.data})).catch((function(e){console.log(e)}))},fetchFreeFieldDetails:function(e){var t="".concat(URL_API,"/api/free-fields-field/").concat(e);return a.Z.get(t).then((function(e){return e.data.data}))},updateFreeFieldsField:function(e){return a.Z.post("".concat(URL_API,"/api/free-fields-field/").concat(e.id,"/update"),e)},fetchFilterFreeFieldsFieldsContact:function(){var e="".concat(URL_API,"/api/free-fields-field/get-for-filter/contacts");return a.Z.get(e)},fetchFilterFreeFieldsFieldsAddress:function(){var e="".concat(URL_API,"/api/free-fields-field/get-for-filter/addresses");return a.Z.get(e)},peekFreeFieldsTables:function(){var e="".concat(URL_API,"/api/free-fields-field/free-fields-tables/peek");return a.Z.get(e)},peekFreeFieldsFieldFormats:function(){var e="".concat(URL_API,"/api/free-fields-field/free-fields-field-formats/peek");return a.Z.get(e)},fetchFreeFieldsFieldRecords:function(e,t){var r="".concat(URL_API,"/api/free-fields-field-records/get-values");return a.Z.get(r,{params:{table:e,recordId:t}}).then((function(e){return e.data}))},updateFreeFieldsFieldRecords:function(e,t){var r="".concat(URL_API,"/api/free-fields-field-records/update-values");return a.Z.post(r,{data:{records:e,recordId:t}})}}},26732:(e,t,r)=>{r.r(t),r.d(t,{default:()=>A});var a=r(67294),l=r(15671),n=r(43144),s=r(97326),i=r(60136),o=r(82963),c=r(61120),d=r(4942),u=r(61409),m=r(48966),f=r.n(m),h=r(9181),p=r(49332),b=r(98688),g=r(14309),v=r(21606),F=r(3740),E=r(9669),Z=r.n(E),y=r(82084),I=r(84006);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const P=function(e){(0,i.Z)(E,e);var t,r,m=(t=E,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,c.Z)(t);if(r){var l=(0,c.Z)(this).constructor;e=Reflect.construct(a,arguments,l)}else e=a.apply(this,arguments);return(0,o.Z)(this,e)});function E(e){var t;return(0,l.Z)(this,E),t=m.call(this,e),(0,d.Z)((0,s.Z)(t),"handleInputChange",(function(e){var r=e.target,a="checkbox"===r.type?r.checked:r.value,l=r.name;t.setState(N(N({},t.state),{},{freeField:N(N({},t.state.freeField),{},(0,d.Z)({},l,a))}))})),(0,d.Z)((0,s.Z)(t),"handleSubmit",(function(e){e.preventDefault();var r=t.state.freeField,a={},l={},n=!1,s=(0,I.i)({fieldFormatType:"defaultValue",defaultValue:t.state.freeField.defaultValue,mandatory:t.state.freeField.mandatory,mask:t.state.freeField.mask});s&&(l.defaultValue=s,a.defaultValue=!0,n=!0),f().isEmpty(r.tableId+"")&&(a.tableId=!0,l.tableId="verplicht",n=!0),f().isEmpty(r.fieldFormatId+"")&&(a.fieldFormatId=!0,l.fieldFormatId="verplicht",n=!0),f().isEmpty(r.fieldName)&&(a.fieldName=!0,l.fieldName="verplicht",n=!0),r.mandatory&&f().isEmpty(r.defaultValue)&&(a.defaultValue=!0,l.defaultValue="verplicht",n=!0),f().isEmpty(r.sortOrder+"")&&(a.sortOrder=!0,l.sortOrder="verplicht",n=!0),t.setState(N(N({},t.state),{},{errors:a,errorsMessage:l})),!n&&F.Z.newFreeFieldsField(r).then((function(e){u.nA.push("/vrije-velden/".concat(e.data.id))})).catch((function(e){console.log(e),alert("Er is iets mis gegaan met opslaan!")}))})),t.state={freeField:{tableId:"",fieldFormatId:"",fieldName:"",visiblePortal:!1,changePortal:!1,mandatory:!1,defaultValue:"",exportable:!1,sortOrder:"",mask:""},freeFieldsTables:[],freeFieldsFieldFormats:[],errors:{tableId:!1,fieldFormatId:!1,fieldName:!1,visiblePortal:!1,changePortal:!1,mandatory:!1,defaultValue:!1,exportable:!1,sortOrder:!1,mask:!1},errorsMessage:{tableId:!1,fieldFormatId:!1,fieldName:!1,visiblePortal:!1,changePortal:!1,mandatory:!1,defaultValue:!1,exportable:!1,sortOrder:!1,mask:!1}},t.handleReactSelectChange=t.handleReactSelectChange.bind((0,s.Z)(t)),t}return(0,n.Z)(E,[{key:"componentDidMount",value:function(){var e=this;Z().all([F.Z.peekFreeFieldsTables(),F.Z.peekFreeFieldsFieldFormats()]).then(Z().spread((function(t,r){e.setState({freeFieldsTables:t.data.data,freeFieldsFieldFormats:r.data.data})})))}},{key:"handleReactSelectChange",value:function(e,t){this.setState(N(N({},this.state),{},{freeField:N(N({},this.state.freeField),{},(0,d.Z)({},t,e))}))}},{key:"render",value:function(){var e=this.state.freeField,t=e.tableId,r=e.fieldFormatId,l=e.fieldName,n=e.visiblePortal,s=e.changePortal,i=e.mandatory,o=e.defaultValue,c=e.exportable,d=e.sortOrder,u=e.mask;return a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},a.createElement(g.Z,null,a.createElement(b.Z,null,a.createElement("div",{className:"row"},a.createElement(y.Z,{label:"Op onderdeel",id:"tableId",name:"tableId",options:this.state.freeFieldsTables,value:t,onChangeAction:this.handleReactSelectChange,required:"required",error:this.state.errors.tableId,errorMessage:this.state.errorsMessage.tableId}),a.createElement(y.Z,{label:"Type",id:"fieldFormatId",name:"fieldFormatId",options:this.state.freeFieldsFieldFormats,value:r,onChangeAction:this.handleReactSelectChange,required:"required",error:this.state.errors.fieldFormatId,errorMessage:this.state.errorsMessage.fieldFormatId})),a.createElement("div",{className:"row"},a.createElement(h.Z,{label:"Veld naam",name:"fieldName",value:l,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.fieldName,errorMessage:this.state.errorsMessage.fieldName}),a.createElement(v.Z,{label:"Verplicht",name:"mandatory",value:i,onChangeAction:this.handleInputChange,error:this.state.errors.mandatory,errorMessage:this.state.errorsMessage.mandatory})),a.createElement("div",{className:"row"},a.createElement(v.Z,{label:"Zichtbaar in portaal",name:"visiblePortal",value:n,onChangeAction:this.handleInputChange,error:this.state.errors.visiblePortal,errorMessage:this.state.errorsMessage.visiblePortal}),a.createElement(v.Z,{label:"Aan te passen in portaal",name:"changePortal",value:s,onChangeAction:this.handleInputChange,error:this.state.errors.changePortal,errorMessage:this.state.errorsMessage.changePortal})),a.createElement("div",{className:"row"},a.createElement(h.Z,{label:"Standaard waarde",name:"defaultValue",value:o,onChangeAction:this.handleInputChange,required:i?"required":"",error:this.state.errors.defaultValue,errorMessage:this.state.errorsMessage.defaultValue}),a.createElement(v.Z,{label:"Exporteerbaar",name:"exportable",value:c,onChangeAction:this.handleInputChange,error:this.state.errors.exportable,errorMessage:this.state.errorsMessage.exportable})),a.createElement("div",{className:"row"},a.createElement(h.Z,{label:"Volgorde",name:"sortOrder",value:d,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.sortOrder,errorMessage:this.state.errorsMessage.sortOrder,type:"number"})),a.createElement("hr",null),a.createElement("div",{className:"row"},a.createElement(h.Z,{label:"Masker",name:"mask",value:u,onChangeAction:this.handleInputChange,error:this.state.errors.mask,errorMessage:this.state.errorsMessage.mask}),a.createElement("div",{className:"form-group col-sm-3 "},a.createElement("div",{className:"col-sm-12"},"Legenda:",a.createElement("br",null),"9 = nummer",a.createElement("br",null),"a = letter",a.createElement("br",null),"x = nummer / letter",a.createElement("br",null),"Alle andere karakters zullen letterlijk moeten worden gebruikt")),a.createElement("div",{className:"form-group col-sm-3"},a.createElement("div",{className:"col-sm-6"},"Voorbeelden:",a.createElement("br",null),"999-999",a.createElement("br",null),"9a9/999a",a.createElement("br",null),"999-99-9999",a.createElement("br",null),"xx.xx.xxxx.xx"),a.createElement("div",{className:"col-sm-6"},a.createElement("br",null),"123-760",a.createElement("br",null),"3q2/887w",a.createElement("br",null),"987-65-4329",a.createElement("br",null),"12.qq.12aw.3r")))),a.createElement(b.Z,null,a.createElement("div",{className:"pull-right btn-group",role:"group"},a.createElement(p.Z,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}]),E}(a.Component);var O=r(55451);const C=function(){return a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},a.createElement(O.Z,{iconName:"arrowLeft",onClickAction:u.mW.goBack}))),a.createElement("div",{className:"col-md-4"},a.createElement("h4",{className:"text-center margin-small"},"Nieuw vrij veld")),a.createElement("div",{className:"col-md-4"}))},A=function(){return a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-9"},a.createElement("div",{className:"col-md-12 margin-10-top"},a.createElement(g.Z,null,a.createElement(b.Z,{className:"panel-small"},a.createElement(C,null)))),a.createElement("div",{className:"col-md-12 margin-10-top"},a.createElement(P,null))),a.createElement("div",{className:"col-md-3"}))}},84006:(e,t,r)=>{r.d(t,{i:()=>n});var a=r(48966),l=r.n(a);function n(e){var t=null;switch(e.fieldFormatType){case"defaultValue":t=e.defaultValue;break;case"boolean":t=e.fieldRecordValueBoolean;break;case"text_short":case"text_long":t=e.fieldRecordValueText;break;case"int":t=e.fieldRecordValueInt;break;case"double_2_dec":case"amount_euro":t=e.fieldRecordValueDouble;break;case"date":case"datetime":t=e.fieldRecordValueDatetime}return 1!=e.mandatory||null!=t&&!l().isEmpty(t+"")?!function(e,t){if(null!=e&&!l().isEmpty(""+e)&&null!=t&&!l().isEmpty(""+t)){var r=t.split(""),a=e.split(""),n=0;if(!t.includes("?")&&t.length!=e.length)return!1;for(n in r)switch(r[n]){case"9":if(!a[n]||!a[n].match(/^[0-9]$/))return!1;break;case"a":if(!a[n]||!a[n].match(/^[a-zA-Z]$/))return!1;break;case"x":if(!a[n]||!a[n].match(/^[a-zA-Z0-9]$/))return!1;break;default:if(a[n]!=r[n])return!1}}return!0}(t,e.mask,e.mandatory)&&"voldoet niet aan het masker: "+e.mask:"verplicht"}}}]);