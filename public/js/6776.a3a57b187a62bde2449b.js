"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[6776],{17036:(e,t,a)=>{a.d(t,{A:()=>n});var r=a(96540);const o=a.p+"f16a591e26463d103c70d91c927fe80a.png",n=function(e){var t={height:e.height,paddingTop:"10px",paddingBottom:"10px",width:"auto"};return r.createElement("img",{src:o,className:"img-logo",alt:"Logo Eco",style:t})}},76776:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g}),a(52675),a(2008),a(51629),a(67945),a(84185),a(83851),a(81278),a(79432),a(60825),a(23500);var r=a(23029),o=a(92901),n=a(56822),c=a(53954),s=a(85501),l=a(64467),i=a(58168),d=(a(62062),a(94170),a(26099),a(96540)),m=a(49887),u=a(17036),p=a(47767);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,l.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}var w=function(e){function t(e){var a,o,s,i;return(0,r.A)(this,t),o=this,s=t,i=[e],s=(0,c.A)(s),a=(0,n.A)(o,v()?Reflect.construct(s,i||[],(0,c.A)(o).constructor):s.apply(o,i)),(0,l.A)(a,"enableTwoFactor",(function(){m.A.enableTwoFactor(a.state.password).then((function(){a.callFetchTwoFactorQr(),a.callFetchTwoFactorRecoveryCodes()}))})),(0,l.A)(a,"callFetchTwoFactorQr",(function(){return m.A.fetchTwoFactorQr(a.state.password).then((function(e){a.setState({qr:h({},e.data)})}))})),(0,l.A)(a,"callFetchTwoFactorRecoveryCodes",(function(){m.A.fetchTwoFactorRecoveryCodes(a.state.password).then((function(e){a.setState({recoveryCodes:e.data})}))})),a.state={qr:{svg:""},recoveryCodes:[],password:e.location.state?e.location.state.password:"",hasValidPassword:!1,errorMessage:""},a.checkPasswordHandler=a.checkPasswordHandler.bind(a),a}return(0,s.A)(t,e),(0,o.A)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.password&&m.A.checkPassword(this.state.password).then((function(){e.setState({hasValidPassword:!0}),e.enableTwoFactor()}))}},{key:"checkPasswordHandler",value:function(e){var t=this;e.preventDefault(),this.setState({errorMessage:""}),m.A.checkPassword(this.state.password).then((function(){t.setState({hasValidPassword:!0}),t.enableTwoFactor()})).catch((function(e){t.setState({errorMessage:"Wachtwoord is onjuist."})}))}},{key:"renderAlert",value:function(){if(this.state.errorMessage)return d.createElement("div",{className:"row margin-10-top text-center"},d.createElement("div",{className:"col-sm-10 col-md-offset-1"},d.createElement("div",{className:"col-sm-10 col-md-offset-1 alert alert-danger login-alert"},this.state.errorMessage)))}},{key:"render",value:function(){var e=this;return d.createElement("div",{className:"col-md-4 col-sm-8 col-xs-10 login-form"},d.createElement("div",{className:"panel panel-default add"},d.createElement("div",{className:"panel-body"},d.createElement("div",{className:"text-center"},d.createElement(u.A,{height:"150px"})),this.renderAlert(),this.state.hasValidPassword?d.createElement(d.Fragment,null,d.createElement("div",{className:"row margin-10-top text-center"},d.createElement("div",{className:"col-sm-10 col-md-offset-1"},"Het gebruik van twee factor authenticatie is ingeschakeld voor uw account. Sla de herstelcode op een veilige plek op en scan vervolgens de QR-code met een authenticator app.")),d.createElement("div",{className:"row margin-10-top text-center"},d.createElement("div",{className:"col-sm-10 col-md-offset-1"},d.createElement("h4",null,"Herstelcode:"),d.createElement("ul",{style:{listStyleType:"none",padding:0}},this.state.recoveryCodes.map((function(e){return d.createElement("li",{key:e,style:{"font-family":"courier"}},e)}))))),d.createElement("div",{className:"row margin-10-top text-center"},d.createElement("div",{className:"col-sm-10 col-md-offset-1"},d.createElement("h4",null,"QR"),d.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.qr.svg}}))),d.createElement("div",{className:"row margin-10-top"},d.createElement("div",{className:"col-sm-10 col-md-offset-1"},d.createElement("div",{className:"btn-group pull-right"},d.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){e.props.navigate("/two-factor/confirm")}},"Doorgaan"))))):d.createElement("form",{onSubmit:this.checkPasswordHandler},"Voer uw wachtwoord opnieuw in om twee factor authenticatie te activeren.",d.createElement("br",null),d.createElement("div",{className:"row"},d.createElement("div",{className:"col-xs-6"},d.createElement("input",{placeholder:"Wachtwoord",className:"form-control input-sm",type:"password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})),d.createElement("div",{className:"col-xs-6"},d.createElement("button",{type:"submit",className:"btn btn-primary btn-sm"},"Ontgrendel")))))))}}])}(d.Component);const g=function(e){var t=(0,p.Zp)(),a=(0,p.zy)();return d.createElement(w,(0,i.A)({},e,{navigate:t,location:a}))}}}]);