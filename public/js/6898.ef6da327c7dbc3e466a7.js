"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[6898],{7047:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(69265),a="/campaign";const o={fetchCampaign:function(e){var t=e.id,n="".concat(a,"/").concat(t);return i.Z.get(n)},fetchCampaignIntakes:function(e){var t=e.id,n=e.page,o="".concat(a,"/").concat(t,"/intakes?page=").concat(n);return i.Z.get(o)},fetchCampaignOpportunities:function(e){var t=e.id,n=e.page,o="".concat(a,"/").concat(t,"/opportunities?page=").concat(n);return i.Z.get(o)},updateCampaign:function(e,t){var n="".concat(a,"/").concat(e);return i.Z.post(n,t)},storeCampaign:function(e){var t="".concat(a);return i.Z.post(t,e)},deleteCampaign:function(e){var t="".concat(a,"/").concat(e,"/delete");return i.Z.post(t)},attachResponse:function(e,t){var n="".concat(a,"/").concat(e,"/response/").concat(t,"/attach");return i.Z.post(n)},detachResponse:function(e,t){var n="".concat(a,"/").concat(e,"/response/").concat(t,"/detach");return i.Z.post(n)},attachOrganisation:function(e,t){var n="".concat(a,"/").concat(e,"/organisation/").concat(t,"/attach");return i.Z.post(n)},detachOrganisation:function(e,t){var n="".concat(a,"/").concat(e,"/organisation/").concat(t,"/detach");return i.Z.post(n)},attachCoach:function(e,t){var n="".concat(a,"/").concat(e,"/coach/").concat(t,"/attach");return i.Z.post(n)},detachCoach:function(e,t){var n="".concat(a,"/").concat(e,"/coach/").concat(t,"/detach");return i.Z.post(n)},attachProjectManager:function(e,t){var n="".concat(a,"/").concat(e,"/projectManager/").concat(t,"/attach");return i.Z.post(n)},detachProjectManager:function(e,t){var n="".concat(a,"/").concat(e,"/projectManager/").concat(t,"/detach");return i.Z.post(n)},attachExternalParty:function(e,t){var n="".concat(a,"/").concat(e,"/externalParty/").concat(t,"/attach");return i.Z.post(n)},detachExternalParty:function(e,t){var n="".concat(a,"/").concat(e,"/externalParty/").concat(t,"/detach");return i.Z.post(n)},updateCampaignOwner:function(e,t){var n="".concat(a,"/").concat(e,"/owner/").concat(t,"/associate");return i.Z.post(n)}}},75957:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(67294),a=n(45697),o=n.n(a),c=n(86733),s=n(30071),r=n(30381),l=n.n(r);l().locale("nl");var u=function(e){var t=e.className,n=e.startDate,a=e.endDate,o=e.onChangeActionStart,r=e.onChangeActionEnd,u=(e.placeholder,n?l()(n).format("L"):""),p=a?l()(a).format("L"):"";return i.createElement("th",{className:"DayPicker-overflow ".concat(t)},i.createElement(c.default,{value:u,onDayChange:o,formatDate:s.formatDate,parseDate:s.parseDate,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:s.default},inputProps:{className:"form-control input-sm",placeholder:"Van"},placeholder:"Van"}),i.createElement("br",null),i.createElement(c.default,{value:p,onDayChange:r,formatDate:s.formatDate,parseDate:s.parseDate,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:s.default},inputProps:{className:"form-control input-sm",placeholder:"tot"},placeholder:"tot"}))};u.defaultProps={className:"",startDate:null,endDate:null,placeholder:""},u.propTypes={className:o().string,startDate:o().oneOfType([o().string,o().object]),endDate:o().oneOfType([o().string,o().object]),onChangeAction:o().func,placeholder:o().string};const p=u},6898:(e,t,n)=>{n.r(t),n.d(t,{default:()=>he});var i=n(93433),a=n(15671),o=n(43144),c=n(97326),s=n(60136),r=n(82963),l=n(61120),u=n(4942),p=n(67294),m=n(37974),f=n(83920),h=function(e,t,n,i){return{type:"FETCH_HOUSING_FILE_SPECIFICATIONS",filters:e,extraFilters:t,sorts:n,pagination:i}},d=function(){return{type:"CLEAR_HOUSING_FILE_SPECIFICATIONS"}},g=function(e){return{type:"SET_FILTER_HOUSING_FILE_SPECIFICATION_FULL_NAME",fullName:e}},E=function(e){return{type:"SET_FILTER_HOUSING_FILE_SPECIFICATION_ADDRESS",address:e}},S=function(e){return{type:"SET_FILTER_HOUSING_FILE_SPECIFICATION_POSTAL_CODE",postalCode:e}},F=function(e){return{type:"SET_FILTER_HOUSING_FILE_SPECIFICATION_CITY",city:e}},C=function(e){return{type:"SET_FILTER_HOUSING_FILE_SPECIFICATION_MEASURE_CATEGORY_NAME",measureCategoryName:e}},y=function(e){return{type:"SET_FILTER_HOUSING_FILE_SPECIFICATION_MEASURE_NAME",measureName:e}},v=function(e){return{type:"SET_FILTER_HOUSING_FILE_SPECIFICATION_STATUS_NAME",statusName:e}},I=function(e){return{type:"SET_FILTER_HOUSING_FILE_SPECIFICATION_MEASURE_DATE_START",measureDateStart:e}},k=function(e){return{type:"SET_FILTER_HOUSING_FILE_SPECIFICATION_MEASURE_DATE_END",measureDateEnd:e}},Z=function(){return{type:"CLEAR_FILTER_HOUSING_FILE_SPECIFICATIONS"}},N=function(e){return{type:"SET_HOUSING_FILE_SPECIFICATIONS_PAGINATION",pagination:e}},b=n(87462),w=n(96498),x=n(75286),O=n(24480),D=n(51910),R=n(69025);const H=(0,m.$j)(null,(function(e){return{setHousingFileSpecificationsSortsFilter:function(t,n){e(function(e,t){return{type:"SET_HOUSING_FILE_SPECIFICATIONS_SORTS_FILTER",field:e,order:t}}(t,n))}}}))((function(e){var t=function(t,n){e.setHousingFileSpecificationsSortsFilter(t,n),setTimeout((function(){e.refreshHousingFileSpecificationsData()}),100)};return p.createElement("tr",{className:"thead-title"},e.showCheckboxList?p.createElement("th",{width:"3%"},p.createElement("div",null,p.createElement("input",{type:"checkbox",onChange:e.toggleCheckedAll}))):null,p.createElement(R.Z,{sortColumn:"fullName",title:"Contact",width:e.showCheckboxList?"12%":"15%",setSorts:t}),p.createElement(R.Z,{sortColumn:"address",title:"Adres",width:"15%",setSorts:t}),p.createElement(R.Z,{sortColumn:"postalCode",title:"Postcode",width:"5%",setSorts:t}),p.createElement(R.Z,{sortColumn:"city",title:"Woonplaats",width:"10%",setSorts:t}),p.createElement(R.Z,{sortColumn:"measureCategoryName",title:"Categorie",width:"15%",setSorts:t}),p.createElement(R.Z,{sortColumn:"measureName",title:"Specificatie",width:"15%",setSorts:t}),p.createElement(R.Z,{sortColumn:"statusName",title:"Status",width:"10%",setSorts:t}),p.createElement(R.Z,{sortColumn:"measureDate",title:"Datum realisatie",width:"10%",setSorts:t}),p.createElement("th",{width:"5%"}))}));var A=n(30381),T=n.n(A),_=n(75957);const M=(0,m.$j)((function(e){return{filters:e.housingFileSpecifications.filters}}),(function(e){return(0,f.DE)({clearFilterHousingFileSpecifications:Z,setFilterHousingFileSpecificationFullName:g,setFilterHousingFileSpecificationPostalCode:S,setFilterHousingFileSpecificationCity:F,setFilterHousingFileSpecificationAddress:E,setFilterHousingFileSpecificationMeasureCategoryName:C,setFilterHousingFileSpecificationMeasureName:y,setFilterHousingFileSpecificationStatusName:v,setFilterHousingFileSpecificationMeasureDateStart:I,setFilterHousingFileSpecificationMeasureDateEnd:k},e)}))((function(e){return p.createElement("tr",{className:"thead-filter"},p.createElement("th",null,p.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.fullName.data,onChange:function(t){e.setFilterHousingFileSpecificationFullName(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),p.createElement("th",null,p.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.address.data,onChange:function(t){e.setFilterHousingFileSpecificationAddress(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),p.createElement("th",null,p.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.postalCode.data,onChange:function(t){e.setFilterHousingFileSpecificationPostalCode(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),p.createElement("th",null,p.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.city.data,onChange:function(t){e.setFilterHousingFileSpecificationCity(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),p.createElement("th",null,p.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.measureCategoryName.data,onChange:function(t){e.setFilterHousingFileSpecificationMeasureCategoryName(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),p.createElement("th",null,p.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.measureName.data,onChange:function(t){e.setFilterHousingFileSpecificationMeasureName(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),p.createElement("th",null,p.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.statusName.data,onChange:function(t){e.setFilterHousingFileSpecificationStatusName(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),p.createElement(_.Z,{startDate:e.filters.measureDateStart.data&&e.filters.measureDateStart.data,endDate:e.filters.measureDateEnd.data&&e.filters.measureDateEnd.data,onChangeActionStart:function(t){void 0===t?e.setFilterHousingFileSpecificationMeasureDateStart(""):e.setFilterHousingFileSpecificationMeasureDateStart(T()(t).format("Y-MM-DD"))},onChangeActionEnd:function(t){void 0===t?e.setFilterHousingFileSpecificationMeasureDateEnd(""):e.setFilterHousingFileSpecificationMeasureDateEnd(T()(t).format("Y-MM-DD"))}}),p.createElement("th",null))}));var L=n(97894),P=n(75502);const U=function(e){(0,s.Z)(c,e);var t,n,i=(t=c,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,l.Z)(t);if(n){var a=(0,l.Z)(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return(0,r.Z)(this,e)});function c(e){var t;return(0,a.Z)(this,c),(t=i.call(this,e)).state={showMore:!1,showActionButtons:!1,highlightRow:""},t}return(0,o.Z)(c,[{key:"onRowEnter",value:function(){this.setState({showActionButtons:!0,highlightRow:"highlight-row"})}},{key:"onRowLeave",value:function(){this.setState({showActionButtons:!1,highlightRow:""})}},{key:"toggleShowMore",value:function(){this.props.showCheckboxList||this.setState({showMore:!this.state.showMore})}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,i=t.fullName,a=t.fullAddress,o=t.postalCode,c=t.city,s=t.measureCategoryName,r=t.measureName,l=t.status,u=t.measureDate,m=t.answer,f=t.floor,h=t.side,d=t.typeBrand,g=t.isDefaultEconobisMeasure,E=t.externalHoomName,S=t.typeOfExecution,F=t.savingsGas,C=t.savingsElectricity,y=t.co2Savings,v=t.showCheckboxList,I=this.state,k=I.showMore,Z=I.showActionButtons;return p.createElement(p.Fragment,null,p.createElement("tr",{className:this.state.highlightRow,onMouseEnter:function(){return e.onRowEnter()},onMouseLeave:function(){return e.onRowLeave()},onClick:function(){return e.toggleShowMore()}},v?p.createElement("td",null,p.createElement("div",null,l&&"desirable"===l.codeRef?p.createElement("input",{type:"checkbox",name:n,onChange:this.props.toggleSpecificationCheck,checked:!!this.props.specificationIds&&this.props.specificationIds.includes(n)}):" ")):null,p.createElement("td",null,i),p.createElement("td",null,a),p.createElement("td",null,o),p.createElement("td",null,c),p.createElement("td",null,s),p.createElement("td",null,g?E:r),p.createElement("td",null,l?l.name:""),p.createElement("td",null,u?T()(u).format("DD-MM-Y"):""),p.createElement("td",null,!v&&Z?p.createElement("a",{role:"button",onClick:function(){return e.toggleShowMore()}},p.createElement(L.ZP,{className:"mybtn-success",size:14,icon:P.r})," "):"")),!v&&k&&m?p.createElement("tr",{style:{backgroundColor:"initial"}},p.createElement("td",{colSpan:"4"}," "),p.createElement("td",null,"Waarde:"),p.createElement("td",{colSpan:"4"},m)):null,!v&&k&&f?p.createElement("tr",{style:{backgroundColor:"initial"}},p.createElement("td",{colSpan:"4"}," "),p.createElement("td",null,"Verdieping:"),p.createElement("td",{colSpan:"4"},f?f.name:"")):null,!v&&k&&h?p.createElement("tr",{style:{backgroundColor:"initial"}},p.createElement("td",{colSpan:"4"}," "),p.createElement("td",null,"Zijde:"),p.createElement("td",{colSpan:"4"},h?h.name:"")):null,!v&&k&&d?p.createElement("tr",{style:{backgroundColor:"initial"}},p.createElement("td",{colSpan:"4"}," "),p.createElement("td",null,"Type/merk:"),p.createElement("td",{colSpan:"4"},d)):null,!v&&k&&S?p.createElement("tr",{style:{backgroundColor:"initial"}},p.createElement("td",{colSpan:"4"}," "),p.createElement("td",null,"Uitvoering:"),p.createElement("td",{colSpan:"4"},null===S?"Onbekend":"Z"===S?"Zelf doen":"Laten doen")):null,!v&&k&&F?p.createElement("tr",{style:{backgroundColor:"initial"}},p.createElement("td",{colSpan:"4"}," "),p.createElement("td",null,"Besparing gas:"),p.createElement("td",{colSpan:"4"},F)):null,!v&&k&&C?p.createElement("tr",{style:{backgroundColor:"initial"}},p.createElement("td",{colSpan:"4"}," "),p.createElement("td",null,"Besparing electriciteit:"),p.createElement("td",{colSpan:"4"},C)):null,!v&&k&&y?p.createElement("tr",{style:{backgroundColor:"initial"}},p.createElement("td",{colSpan:"4"}," "),p.createElement("td",null,"CO2 besparing:"),p.createElement("td",{colSpan:"4"},y)):null)}}]),c}(p.Component);var j=function(e){(0,s.Z)(m,e);var t,n,i=(t=m,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,l.Z)(t);if(n){var a=(0,l.Z)(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return(0,r.Z)(this,e)});function m(e){var t;return(0,a.Z)(this,m),t=i.call(this,e),(0,u.Z)((0,c.Z)(t),"handleKeyUp",(function(e){13===e.keyCode&&t.props.onSubmitFilter()})),t}return(0,o.Z)(m,[{key:"render",value:function(){var e=this,t=this.props.housingFileSpecifications,n=t.data,i=void 0===n?[]:n,a=t.meta,o=void 0===a?{}:a,c=t.hasError,s=t.isLoading,r="",l=!0;return c?r="Fout bij het ophalen van woningdossier specificaties.":s?r="Gegevens aan het laden.":0===i.length?r="Geen woningdossier specificaties gevonden!":l=!1,p.createElement("form",{onKeyUp:this.handleKeyUp},p.createElement(w.Z,null,p.createElement(x.Z,null,p.createElement(H,{refreshHousingFileSpecificationsData:function(){return e.props.refreshHousingFileSpecificationsData()},showCheckboxList:this.props.showCheckboxList,toggleCheckedAll:this.props.toggleCheckedAll}),!this.props.showCheckboxList&&p.createElement(M,{onSubmitFilter:this.props.onSubmitFilter,showCheckboxList:this.props.showCheckboxList})),p.createElement(O.Z,null,l?p.createElement("tr",null,p.createElement("td",{colSpan:9},r)):i.map((function(t){return p.createElement(U,(0,b.Z)({key:t.id},t,{showCheckboxList:e.props.showCheckboxList,toggleSpecificationCheck:e.props.toggleSpecificationCheck,specificationIds:e.props.specificationIds}))})))),p.createElement("div",{className:"col-md-4 col-md-offset-4"},p.createElement(D.Z,{onPageChangeAction:this.props.handlePageClick,totalRecords:o.total,initialPage:this.props.housingFileSpecificationsPagination.page})))}}]),m}(p.Component);const B=(0,m.$j)((function(e){return{isLoading:e.loadingData.isLoading,hasError:e.loadingData.hasError}}))(j);var G=n(55451),q=n(49332);const Q=(0,m.$j)((function(e){return{permissions:e.meDetails.permissions,housingFileSpecifications:e.housingFileSpecifications.list}}))((function(e){var t=e.housingFileSpecifications.meta,n=void 0===t?{}:t;return p.createElement("div",{className:"row"},p.createElement("div",{className:"col-md-4"},p.createElement("div",{className:"btn-group",role:"group"},p.createElement(G.Z,{iconName:"refresh",onClickAction:e.resetHousingFileSpecificationFilters}),p.createElement(G.Z,{iconName:"filter",onClickAction:e.toggleShowExtraFilters,title:"Extra filters"}),p.createElement(G.Z,{iconName:"download",onClickAction:e.getExcelHousingFiles,title:"Download woningdossiers"}),p.createElement(G.Z,{iconName:"download",onClickAction:e.getExcelSpecifications,title:"Download woningdossiers specificaties"}),e.permissions.manageHousingFile&&p.createElement(p.Fragment,null,p.createElement(q.Z,{buttonText:e.showCheckboxList?"Selectie sluiten":"Selectie maken",onClickAction:e.toggleShowCheckboxList}),e.showCheckboxList?p.createElement(p.Fragment,null," ",p.createElement(q.Z,{buttonText:"Maak kans(en) ("+e.numberOfSelected+")",onClickAction:e.showModalCreateOpportunity,disabled:0==e.numberOfSelected})):null))),p.createElement("div",{className:"col-md-4"},p.createElement("h3",{className:"text-center table-title"},"Woningdossier specificaties")),p.createElement("div",{className:"col-md-4"},p.createElement("div",{className:"pull-right"},"Resultaten: ",n.total||0)))}));var Y=n(41355);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(82563);var z=function(e){(0,s.Z)(u,e);var t,n,i=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,l.Z)(t);if(n){var a=(0,l.Z)(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return(0,r.Z)(this,e)});function u(e){var t;return(0,a.Z)(this,u),(t=i.call(this,e)).state={filters:e.extraFilters,yesNoOptions:[{id:0,name:"Nee"},{id:1,name:"Ja"}]},t.closeModal=t.closeModal.bind((0,c.Z)(t)),t.confirmAction=t.confirmAction.bind((0,c.Z)(t)),t.handleFilterFieldChange=t.handleFilterFieldChange.bind((0,c.Z)(t)),t.handleFilterValueChange=t.handleFilterValueChange.bind((0,c.Z)(t)),t}return(0,o.Z)(u,[{key:"closeModal",value:function(){this.props.toggleShowExtraFilters()}},{key:"confirmAction",value:function(){this.props.handleExtraFiltersChange(this.state.filters)}},{key:"handleFilterFieldChange",value:function(e,t){var n=this.state.filters;n[t].field=e,n[t].data="",this.setState($($({},this.state),{},{filters:n}))}},{key:"handleFilterValueChange",value:function(e,t,n){var i=this.state.filters;i[n][e]=t,this.setState($($({},this.state),{},{filters:i}))}},{key:"render",value:function(){return p.createElement(Y.Z,{title:"Extra filters",buttonConfirmText:"Toepassen",confirmAction:this.confirmAction,closeModal:this.closeModal,buttonCancelText:"Sluiten"},p.createElement("table",{className:"table"},p.createElement("thead",null,p.createElement("tr",null,p.createElement("th",{className:"col-md-4"},"Zoekveld"),p.createElement("th",{className:"col-md-3"}),p.createElement("th",{className:"col-md-4"},"Waarde"),p.createElement("th",{className:"col-md-1"}))),0===this.state.filters.length?p.createElement("tbody",null,p.createElement("tr",null,p.createElement("td",{colSpan:4},"Geen filters gezet."))):p.createElement("tbody",null,p.createElement("tr",null,p.createElement("td",{className:"col-md-4"},"Waarde / antwoord"),p.createElement("td",{className:"col-md-3"}),p.createElement("td",{className:"col-md-4"}),p.createElement("td",{className:"col-md-1"})),p.createElement("tr",null,p.createElement("td",{className:"col-md-4"},"Verdieping"),p.createElement("td",{className:"col-md-3"}),p.createElement("td",{className:"col-md-4"}),p.createElement("td",{className:"col-md-1"})),p.createElement("tr",null,p.createElement("td",{className:"col-md-4"},"Zijde"),p.createElement("td",{className:"col-md-3"}),p.createElement("td",{className:"col-md-4"}),p.createElement("td",{className:"col-md-1"})),p.createElement("tr",null,p.createElement("td",{className:"col-md-4"},"Type/Merk"),p.createElement("td",{className:"col-md-3"}),p.createElement("td",{className:"col-md-4"}),p.createElement("td",{className:"col-md-1"})),p.createElement("tr",null,p.createElement("td",{className:"col-md-4"},"Uitvoering"),p.createElement("td",{className:"col-md-3"}),p.createElement("td",{className:"col-md-4"}),p.createElement("td",{className:"col-md-1"})),p.createElement("tr",null,p.createElement("td",{className:"col-md-4"},"Besparing gas"),p.createElement("td",{className:"col-md-3"}),p.createElement("td",{className:"col-md-4"}),p.createElement("td",{className:"col-md-1"})),p.createElement("tr",null,p.createElement("td",{className:"col-md-4"},"Besparing electriciteit"),p.createElement("td",{className:"col-md-3"}),p.createElement("td",{className:"col-md-4"}),p.createElement("td",{className:"col-md-1"})),p.createElement("tr",null,p.createElement("td",{className:"col-md-4"},"CO2 besparing"),p.createElement("td",{className:"col-md-3"}),p.createElement("td",{className:"col-md-4"}),p.createElement("td",{className:"col-md-1"})))))}}]),u}(p.Component);const K=(0,m.$j)((function(e){return{}}))(z);var V=n(55359),J=n(71840),X=n(48966),ee=n.n(X),te=n(634);var ne=function(e){(0,s.Z)(m,e);var t,n,i=(t=m,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,l.Z)(t);if(n){var a=(0,l.Z)(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return(0,r.Z)(this,e)});function m(e){var t;return(0,a.Z)(this,m),t=i.call(this,e),(0,u.Z)((0,c.Z)(t),"handleInputChange",(function(e){var n=e.target,i="checkbox"===n.type?n.checked:n.value,a=n.name;t.setState((0,u.Z)({},a,i))})),(0,u.Z)((0,c.Z)(t),"handleSubmit",(function(e){ee().isEmpty(t.state.campaignId+"")?t.setState({errors:{campaignId:!0}}):te.Z.createOpportunitiesFromSpecificationsList(t.props.specificationIds,t.state.campaignId).then((function(e){t.props.closeModalCreateOpportunity(),t.props.fetchHousingFileSpecificationsData(),t.props.showModalCreateQuotationRequest(t.state.campaignId,e.opportunityIds)}))})),t.state={campaigns:[],campaignId:"",errors:{campaignId:!1}},t}return(0,o.Z)(m,[{key:"componentDidMount",value:function(){var e=this;V.Z.peekNotFinishedCampaigns().then((function(t){e.setState({campaigns:t})}))}},{key:"render",value:function(){return p.createElement(Y.Z,{buttonConfirmText:"Kans(en) maken",closeModal:this.props.closeModalCreateOpportunity,confirmAction:this.handleSubmit,title:"Kans(en) maken"},p.createElement("p",null,"Aanmaken kans(en) voor de ",this.props.specificationIds.length," geselecteerde specificatie(s)?"),p.createElement("div",{className:"row"},p.createElement(J.Z,{size:"col-md-12",label:"Campagne",name:"campaignId",options:this.state.campaigns,value:this.state.campaignId,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.campaignId})))}}]),m}(p.Component);const ie=(0,m.$j)((function(e){return{permissions:e.meDetails.permissions}}),null)(ne);var ae=n(4257),oe=n(14309),ce=n(98688),se=n(35823),re=n.n(se),le=n(72506),ue=n(7047);var pe=function(e){(0,s.Z)(m,e);var t,n,i=(t=m,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,l.Z)(t);if(n){var a=(0,l.Z)(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return(0,r.Z)(this,e)});function m(e){var t;return(0,a.Z)(this,m),t=i.call(this,e),(0,u.Z)((0,c.Z)(t),"handleInputChange",(function(e){var n=e.target,i="checkbox"===n.type?n.checked:n.value,a=n.name;t.setState((0,u.Z)({},a,i))})),(0,u.Z)((0,c.Z)(t),"handleSubmit",(function(e){ee().isEmpty(t.state.organisationOrCoachId+"")?t.setState({errors:{organisationOrCoachId:!0}}):te.Z.createQuotationRequestsFromSpecificationsList(t.props.opportunityIds,t.state.organisationOrCoachId).then((function(e){t.props.closeModalCreateQuotationRequest()}))})),t.state={organisationsOrCoaches:[],organisationOrCoachId:"",errors:{organisationOrCoachId:!1}},t}return(0,o.Z)(m,[{key:"componentDidMount",value:function(){var e=this;ue.Z.fetchCampaign({id:this.props.campaignId}).then((function(t){e.setState({organisationsOrCoaches:t.data.data.organisationsOrCoaches})}))}},{key:"render",value:function(){return p.createElement(Y.Z,{buttonConfirmText:"Kansactie(s) maken",closeModal:this.props.closeModalCreateQuotationRequest,confirmAction:this.handleSubmit,title:"Kansactie(s) maken"},p.createElement("p",null,this.props.opportunityIds.length," kans(en) zijn aangemaakt."),p.createElement("p",null,"Ook kansactie(s) type 'Offerteverzoek' aanmaken voor deze kans(en)?"),p.createElement("div",{className:"row"},p.createElement(J.Z,{size:"col-md-12",label:"Organisatie/coach",name:"organisationOrCoachId",options:this.state.organisationsOrCoaches,value:this.state.organisationOrCoachId,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.organisationOrCoachId})))}}]),m}(p.Component);const me=(0,m.$j)((function(e){return{permissions:e.meDetails.permissions}}),null)(pe);var fe=function(e){(0,s.Z)(f,e);var t,n,m=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=(0,l.Z)(t);if(n){var a=(0,l.Z)(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return(0,r.Z)(this,e)});function f(e){var t;return(0,a.Z)(this,f),t=m.call(this,e),(0,u.Z)((0,c.Z)(t),"fetchHousingFileSpecificationsData",(function(){setTimeout((function(){var e=t.state.extraFilters,n=(0,ae.Z)(t.props.housingFileSpecificationsFilters),i=t.props.housingFileSpecificationsSorts,a={limit:20,offset:t.props.housingFileSpecificationsPagination.offset};t.props.fetchHousingFileSpecifications(n,e,i,a)}),100)})),(0,u.Z)((0,c.Z)(t),"getExcelHousingFiles",(function(){t.props.blockUI(),setTimeout((function(){var e=t.state.extraFilters,n=(0,ae.Z)(t.props.housingFileSpecificationsFilters),i=t.props.housingFileSpecificationsSorts;te.Z.getExcelHousingFiles({filters:n,extraFilters:e,sorts:i}).then((function(e){re()(e.data,"Woningdossiers-"+T()().format("YYYY-MM-DD HH:mm:ss")+".xlsx"),t.props.unblockUI()})).catch((function(e){t.props.unblockUI()}))}),100)})),(0,u.Z)((0,c.Z)(t),"getExcelSpecifications",(function(){t.props.blockUI(),setTimeout((function(){var e=t.state.extraFilters,n=(0,ae.Z)(t.props.housingFileSpecificationsFilters),i=t.props.housingFileSpecificationsSorts;te.Z.getExcelSpecifications({filters:n,extraFilters:e,sorts:i}).then((function(e){re()(e.data,"Woningdossiers-specificaties-"+T()().format("YYYY-MM-DD HH:mm:ss")+".xlsx"),t.props.unblockUI()})).catch((function(e){t.props.unblockUI()}))}),100)})),(0,u.Z)((0,c.Z)(t),"resetHousingFileFilters",(function(){t.props.clearFilterHousingFileSpecifications(),t.setState({extraFilters:[]}),t.fetchHousingFileSpecificationsData()})),(0,u.Z)((0,c.Z)(t),"handleExtraFiltersChange",(function(e){t.setState({extraFilters:e}),t.props.setHousingFileSpecificationsPagination({page:0,offset:0}),setTimeout((function(){t.fetchHousingFileSpecificationsData()}),100)})),(0,u.Z)((0,c.Z)(t),"toggleShowCheckboxList",(function(){t.setState({showCheckboxList:!t.state.showCheckboxList})})),(0,u.Z)((0,c.Z)(t),"toggleCheckedAll",(function(e){var n=e.target.checked,i=[];n&&t.props.housingFileSpecifications.data.map((function(e){return e&&e.status&&"desirable"===e.status.codeRef&&i.push(e.id)})),t.setState({specificationIds:i,checkedAll:n})})),(0,u.Z)((0,c.Z)(t),"toggleSpecificationCheck",(function(e){var n=e.target.checked,a=Number(e.target.name);n?t.setState({specificationIds:[].concat((0,i.Z)(t.state.specificationIds),[a])},t.checkAllSpecificationsAreChecked):t.setState({specificationIds:t.state.specificationIds.filter((function(e){return e!==a})),checkedAll:!1})})),(0,u.Z)((0,c.Z)(t),"showModalCreateOpportunity",(function(){t.setState({showCreateOpportunitiesFromSpecifications:!0})})),(0,u.Z)((0,c.Z)(t),"closeModalCreateOpportunity",(function(){t.setState({showCreateOpportunitiesFromSpecifications:!1})})),(0,u.Z)((0,c.Z)(t),"showModalCreateQuotationRequest",(function(e,n){t.setState({showCheckboxList:!1,showCreateQuotationRequestsFromSpecifications:!0,specificationIds:[],campaignId:e,opportunityIds:n})})),(0,u.Z)((0,c.Z)(t),"closeModalCreateQuotationRequest",(function(){t.setState({showCreateQuotationRequestsFromSpecifications:!1,specificationIds:[],campaignId:"",opportunityIds:[]})})),t.state={showExtraFilters:!1,extraFilters:[],showCheckboxList:!1,showCreateOpportunitiesFromSpecifications:!1,showCreateQuotationRequestsFromSpecifications:!1,specificationIds:[],campaignId:"",opportunityIds:[]},t.handlePageClick=t.handlePageClick.bind((0,c.Z)(t)),t.toggleShowExtraFilters=t.toggleShowExtraFilters.bind((0,c.Z)(t)),t}return(0,o.Z)(f,[{key:"componentDidMount",value:function(){this.fetchHousingFileSpecificationsData()}},{key:"componentWillUnmount",value:function(){this.props.clearHousingFileSpecifications()}},{key:"onSubmitFilter",value:function(){var e=this;(0,ae.Z)(this.props.housingFileSpecificationsFilters),this.props.housingFileSpecificationsSorts,this.props.setHousingFileSpecificationsPagination({page:0,offset:0}),setTimeout((function(){e.fetchHousingFileSpecificationsData()}),100)}},{key:"handlePageClick",value:function(e){var t=this,n=e.selected,i=Math.ceil(20*n);this.props.setHousingFileSpecificationsPagination({page:n,offset:i}),setTimeout((function(){t.fetchHousingFileSpecificationsData()}),100)}},{key:"prefillExtraFilter",value:function(){this.setState({extraFilters:[{field:"name",type:"eq",data:""}]})}},{key:"toggleShowExtraFilters",value:function(){0===this.state.extraFilters.length&&!this.state.showExtraFilters&&this.prefillExtraFilter(),this.setState({showExtraFilters:!this.state.showExtraFilters})}},{key:"checkAllSpecificationsAreChecked",value:function(){this.setState({checkedAll:this.state.specificationIds.length===this.props.housingFileSpecifications.length})}},{key:"render",value:function(){var e=this;return p.createElement(oe.Z,null,p.createElement(ce.Z,null,p.createElement("div",{className:"col-md-12 margin-10-top"},p.createElement(Q,{resetHousingFileSpecificationFilters:function(){return e.resetHousingFileSpecificationFilters()},getExcelHousingFiles:this.getExcelHousingFiles,getExcelSpecifications:this.getExcelSpecifications,toggleShowExtraFilters:this.toggleShowExtraFilters,showCheckboxList:this.state.showCheckboxList,toggleShowCheckboxList:this.toggleShowCheckboxList,showModalCreateOpportunity:this.showModalCreateOpportunity,numberOfSelected:this.state.specificationIds.length})),p.createElement("div",{className:"col-md-12 margin-10-top"},p.createElement(B,{housingFileSpecifications:this.props.housingFileSpecifications,housingFileSpecificationsPagination:this.props.housingFileSpecificationsPagination,onSubmitFilter:function(){return e.onSubmitFilter()},refreshHousingFileSpecificationsData:function(){return e.fetchHousingFileSpecificationsData()},handlePageClick:this.handlePageClick,showCheckboxList:this.state.showCheckboxList,toggleCheckedAll:this.toggleCheckedAll,toggleSpecificationCheck:this.toggleSpecificationCheck,specificationIds:this.state.specificationIds})),this.state.showExtraFilters&&p.createElement(K,{toggleShowExtraFilters:this.toggleShowExtraFilters,handleExtraFiltersChange:this.handleExtraFiltersChange,extraFilters:this.state.extraFilters}),this.state.showCreateOpportunitiesFromSpecifications&&p.createElement(ie,{closeModalCreateOpportunity:this.closeModalCreateOpportunity,specificationIds:this.state.specificationIds,showModalCreateQuotationRequest:this.showModalCreateQuotationRequest,fetchHousingFileSpecificationsData:this.fetchHousingFileSpecificationsData}),this.state.showCreateQuotationRequestsFromSpecifications&&p.createElement(me,{closeModalCreateQuotationRequest:this.closeModalCreateQuotationRequest,campaignId:this.state.campaignId,opportunityIds:this.state.opportunityIds})))}}]),f}(p.Component);const he=(0,m.$j)((function(e){return{permissions:e.meDetails.permissions,housingFileSpecifications:e.housingFileSpecifications.list,housingFileSpecificationsFilters:e.housingFileSpecifications.filters,housingFileSpecificationsSorts:e.housingFileSpecifications.sorts,housingFileSpecificationsPagination:e.housingFileSpecifications.pagination}}),(function(e){return(0,f.DE)({fetchHousingFileSpecifications:h,clearHousingFileSpecifications:d,setHousingFileSpecificationsPagination:N,clearFilterHousingFileSpecifications:Z,blockUI:le.Q,unblockUI:le.e},e)}))(fe)}}]);