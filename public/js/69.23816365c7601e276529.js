(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{1605:function(e,t,n){"use strict";n.r(t);var a=n(14),i=n.n(a),l=n(17),o=n.n(l),r=n(9),s=n.n(r),u=n(15),c=n.n(u),m=n(16),f=n.n(m),p=n(12),h=n.n(p),g=n(5),d=n.n(g),E=n(0),F=n.n(E),y=n(19),v=n(24),S=function(e,t,n){return{type:"FETCH_HOUSING_FILES",filters:e,sorts:t,pagination:n}},b=function(){return{type:"CLEAR_HOUSING_FILES"}},C=function(e){return{type:"SET_FILTER_HOUSING_FILE_DATE",createdAt:e}},N=function(e){return{type:"SET_FILTER_HOUSING_FILE_ADDRESS",address:e}},T=function(e){return{type:"SET_FILTER_HOUSING_FILE_FULL_NAME",fullName:e}},H=function(e){return{type:"SET_FILTER_POSTAL_CODE",postalCode:e}},I=function(e){return{type:"SET_FILTER_CITY",city:e}},R=function(e){return{type:"SET_FILTER_HOUSING_FILE_BUILDING_TYPE",buildingTypeId:e}},_=function(e){return{type:"SET_FILTER_HOUSING_FILE_ENERGY_LABEL",energyLabelId:e}},w=function(e){return{type:"SET_FILTER_IS_HOUSE_FOR_SALE",isHouseForSale:e}},L=function(e){return{type:"SET_FILTER_BUILD_YEAR",buildYear:e}},D=function(){return{type:"CLEAR_FILTER_HOUSING_FILES"}},k=function(e){return{type:"SET_HOUSING_FILES_PAGINATION",pagination:e}},A=n(143),O=n.n(A),P=n(222),U=n(223),B=n(285),x=n(933),Y=Object(y.b)(null,(function(e){return{setHousingFilesSortsFilter:function(t,n){e(function(e,t){return{type:"SET_HOUSING_FILES_SORTS_FILTER",field:e,order:t}}(t,n))}}}))((function(e){var t=function(t,n){e.setHousingFilesSortsFilter(t,n),setTimeout((function(){e.refreshHousingFilesData()}),100)};return F.a.createElement("tr",{className:"thead-title"},F.a.createElement(x.a,{sortColumn:"createdAt",title:"Datum",width:"10%",setSorts:t}),F.a.createElement(x.a,{sortColumn:"address",title:"Adres",width:"15%",setSorts:t}),F.a.createElement(x.a,{sortColumn:"postalCode",title:"Postcode",width:"10%",setSorts:t}),F.a.createElement(x.a,{sortColumn:"city",title:"Woonplaats",width:"10%",setSorts:t}),F.a.createElement(x.a,{sortColumn:"fullName",title:"Contact",width:"10%",setSorts:t}),F.a.createElement(x.a,{sortColumn:"buildYear",title:"Bouwjaar",width:"10%",setSorts:t}),F.a.createElement(x.a,{sortColumn:"buildingType",title:"Type woning",width:"15%",setSorts:t}),F.a.createElement(x.a,{sortColumn:"isHouseForSale",title:"Koophuis",width:"10%",setSorts:t}),F.a.createElement(x.a,{sortColumn:"energyLabel",title:"Energielabel",width:"5%",setSorts:t}),F.a.createElement("th",{width:"5%"}))})),G=n(7),j=n.n(G),M=n(939),W=Object(y.b)((function(e){return{filters:e.housingFiles.filters,energyLabels:e.systemData.energyLabels,buildingTypes:e.systemData.buildingTypes}}),(function(e){return Object(v.b)({setFilterBuildingType:R,clearFilterHousingFiles:D,setFilterFullName:T,setFilterPostalCode:H,setFilterCity:I,setFilterHousingFileAddress:N,setFilterHousingFileEnergyLabel:_,setHousingFileDateFilter:C,setFilterIsHouseForSale:w,setFilterBuildYear:L},e)}))((function(e){return F.a.createElement("tr",{className:"thead-filter"},F.a.createElement(M.a,{value:e.filters.createdAt.data&&e.filters.createdAt.data,onChangeAction:function(t){void 0===t?e.setHousingFileDateFilter(""):e.setHousingFileDateFilter(j()(t).format("Y-MM-DD"))}}),F.a.createElement("th",null,F.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.address.data,onChange:function(t){e.setFilterHousingFileAddress(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),F.a.createElement("th",null,F.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.postalCode.data,onChange:function(t){e.setFilterPostalCode(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),F.a.createElement("th",null,F.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.city.data,onChange:function(t){e.setFilterCity(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),F.a.createElement("th",null,F.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.fullName.data,onChange:function(t){e.setFilterFullName(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),F.a.createElement("th",null,F.a.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.buildYear.data,onChange:function(t){e.setFilterBuildYear(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),F.a.createElement("th",null,F.a.createElement("select",{className:"form-control input-sm",value:e.filters.buildingTypeId.data,onChange:function(t){e.setFilterBuildingType(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}},F.a.createElement("option",null),e.buildingTypes.map((function(e){return F.a.createElement("option",{key:e.id,value:e.id},e.name)})))),F.a.createElement("th",null,F.a.createElement("select",{className:"form-control input-sm",value:e.filters.isHouseForSale.data,onChange:function(t){e.setFilterIsHouseForSale(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}},F.a.createElement("option",null),F.a.createElement("option",{key:1,value:1},"Ja"),F.a.createElement("option",{key:0,value:0},"Nee"))),F.a.createElement("th",null,F.a.createElement("select",{className:"form-control input-sm",value:e.filters.energyLabelId.data,onChange:function(t){e.setFilterHousingFileEnergyLabel(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}},F.a.createElement("option",null),e.energyLabels.map((function(e){return F.a.createElement("option",{key:e.id,value:e.id},e.name)})))),F.a.createElement("th",null))})),q=n(4);function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return f()(this,n)}}var K=function(e){c()(n,e);var t=J(n);function n(e){var a;return i()(this,n),(a=t.call(this,e)).state={showActionButtons:!1,highlightRow:""},a}return o()(n,[{key:"onRowEnter",value:function(){this.setState({showActionButtons:!0,highlightRow:"highlight-row"})}},{key:"onRowLeave",value:function(){this.setState({showActionButtons:!1,highlightRow:""})}},{key:"openItem",value:function(e){q.f.push("/woningdossier/".concat(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.fullName,i=t.createdAt,l=t.fullAddress,o=t.postalCode,r=t.city,s=t.buildYear,u=t.buildingType,c=t.isHouseForSale,m=t.energyLabel;return F.a.createElement("tr",{className:this.state.highlightRow,onDoubleClick:function(){return e.openItem(n)},onMouseEnter:function(){return e.onRowEnter()},onMouseLeave:function(){return e.onRowLeave()}},F.a.createElement("td",null,j()(i).format("DD-MM-Y")),F.a.createElement("td",null,l),F.a.createElement("td",null,o),F.a.createElement("td",null,r),F.a.createElement("td",null,a),F.a.createElement("td",null,s||""),F.a.createElement("td",null,u||""),F.a.createElement("td",null,c?"Ja":"Nee"),F.a.createElement("td",null,m||""),F.a.createElement("td",null,this.state.showActionButtons?F.a.createElement("a",{role:"button",onClick:function(){return e.openItem(n)}},F.a.createElement("span",{className:"glyphicon glyphicon-pencil mybtn-success"})," "):""))}}]),n}(E.Component),z=n(164);function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return f()(this,n)}}var V=function(e){c()(n,e);var t=Q(n);function n(e){var a;return i()(this,n),a=t.call(this,e),d()(s()(a),"handleKeyUp",(function(e){13===e.keyCode&&a.props.onSubmitFilter()})),a}return o()(n,[{key:"render",value:function(){var e=this,t=this.props.housingFiles,n=t.data,a=void 0===n?[]:n,i=t.meta,l=void 0===i?{}:i,o="",r=!0;return this.props.hasError?o="Fout bij het ophalen van woningdossiers.":this.props.isLoading?o="Gegevens aan het laden.":0===a.length?o="Geen woningdossiers gevonden!":r=!1,F.a.createElement("form",{onKeyUp:this.handleKeyUp},F.a.createElement(P.a,null,F.a.createElement(U.a,null,F.a.createElement(Y,{refreshHousingFilesData:function(){return e.props.refreshHousingFilesData()}}),F.a.createElement(W,{onSubmitFilter:this.props.onSubmitFilter})),F.a.createElement(B.a,null,r?F.a.createElement("tr",null,F.a.createElement("td",{colSpan:10},o)):a.map((function(e){return F.a.createElement(K,O()({key:e.id},e))})))),F.a.createElement("div",{className:"col-md-4 col-md-offset-4"},F.a.createElement(z.a,{onPageChangeAction:this.props.handlePageClick,totalRecords:l.total,initialPage:this.props.housingFilesPagination.page})))}}]),n}(E.Component),X=Object(y.b)((function(e){return{isLoading:e.loadingData.isLoading,hasError:e.loadingData.hasError}}))(V),Z=n(50),$=Object(y.b)((function(e){return{housingFiles:e.housingFiles.list}}),null)((function(e){var t=e.housingFiles.meta,n=void 0===t?{}:t;return F.a.createElement("div",{className:"row"},F.a.createElement("div",{className:"col-md-4"},F.a.createElement("div",{className:"btn-group",role:"group"},F.a.createElement(Z.a,{iconName:"glyphicon-refresh",onClickAction:e.resetHousingFileFilters}),F.a.createElement(Z.a,{iconName:"glyphicon-download-alt",onClickAction:e.getExcel}))),F.a.createElement("div",{className:"col-md-4"},F.a.createElement("h3",{className:"text-center table-title"},"Woningdossiers")),F.a.createElement("div",{className:"col-md-4"},F.a.createElement("div",{className:"pull-right"},"Resultaten: ",n.total||0)))})),ee=n(935),te=n(27),ne=n(30),ae=n(304),ie=n(163),le=n.n(ie),oe=n(129);function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return f()(this,n)}}var se=function(e){c()(n,e);var t=re(n);function n(e){var a;return i()(this,n),a=t.call(this,e),d()(s()(a),"fetchHousingFilesData",(function(){setTimeout((function(){var e=Object(ee.a)(a.props.housingFilesFilters),t=a.props.housingFilesSorts,n={limit:20,offset:a.props.housingFilesPagination.offset};a.props.fetchHousingFiles(e,t,n)}),100)})),d()(s()(a),"getExcel",(function(){a.props.blockUI(),setTimeout((function(){var e=Object(ee.a)(a.props.housingFilesFilters),t=a.props.housingFilesSorts;ae.a.getExcel({filters:e,sorts:t}).then((function(e){le()(e.data,"Woningdossiers-"+j()().format("YYYY-MM-DD HH:mm:ss")+".xlsx"),a.props.unblockUI()})).catch((function(e){a.props.unblockUI()}))}),100)})),d()(s()(a),"resetHousingFileFilters",(function(){a.props.clearFilterHousingFiles(),a.fetchHousingFilesData()})),a.handlePageClick=a.handlePageClick.bind(s()(a)),a}return o()(n,[{key:"componentDidMount",value:function(){this.fetchHousingFilesData()}},{key:"componentWillUnmount",value:function(){this.props.clearHousingFiles()}},{key:"onSubmitFilter",value:function(){var e=this;Object(ee.a)(this.props.housingFilesFilters),this.props.housingFilesSorts;this.props.setHousingFilesPagination({page:0,offset:0}),setTimeout((function(){e.fetchHousingFilesData()}),100)}},{key:"handlePageClick",value:function(e){var t=this,n=e.selected,a=Math.ceil(20*n);this.props.setHousingFilesPagination({page:n,offset:a}),setTimeout((function(){t.fetchHousingFilesData()}),100)}},{key:"render",value:function(){var e=this;return F.a.createElement(te.a,null,F.a.createElement(ne.a,null,F.a.createElement("div",{className:"col-md-12 margin-10-top"},F.a.createElement($,{resetHousingFileFilters:function(){return e.resetHousingFileFilters()},getExcel:this.getExcel})),F.a.createElement("div",{className:"col-md-12 margin-10-top"},F.a.createElement(X,{housingFiles:this.props.housingFiles,housingFilesPagination:this.props.housingFilesPagination,onSubmitFilter:function(){return e.onSubmitFilter()},refreshHousingFilesData:function(){return e.fetchHousingFilesData()},handlePageClick:this.handlePageClick}))))}}]),n}(E.Component);t.default=Object(y.b)((function(e){return{housingFiles:e.housingFiles.list,housingFilesFilters:e.housingFiles.filters,housingFilesSorts:e.housingFiles.sorts,housingFilesPagination:e.housingFiles.pagination}}),(function(e){return Object(v.b)({fetchHousingFiles:S,clearHousingFiles:b,setHousingFilesPagination:k,clearFilterHousingFiles:D,blockUI:oe.a,unblockUI:oe.b},e)}))(se)},933:function(e,t,n){"use strict";var a=n(0),i=n.n(a),l=n(3),o=n.n(l),r=function(e){var t=e.RowClassName,n=e.setSorts,a=e.sortColumn,l=e.title,o=e.width;return i.a.createElement("th",{className:t,width:o},l,i.a.createElement("span",{className:"glyphicon glyphicon-arrow-down pull-right small",role:"button",onClick:n.bind(void 0,a,"ASC")}),i.a.createElement("span",{className:"glyphicon glyphicon-arrow-up pull-right small",role:"button",onClick:n.bind(void 0,a,"DESC")}))};r.defaultProps={RowClassName:""},r.propTypes={setSorts:o.a.func.isRequired,sortColumn:o.a.string.isRequired,title:o.a.string.isRequired,width:o.a.string.isRequired,RowClassName:o.a.string},t.a=r},935:function(e,t,n){"use strict";t.a=function(e){var t=[];for(var n in e)""!==e[n].data&&t.push(e[n]);return t}},939:function(e,t,n){"use strict";var a=n(0),i=n.n(a),l=n(3),o=n.n(l),r=n(289),s=n.n(r),u=n(165),c=n.n(u),m=n(7),f=n.n(m);f.a.locale("nl");var p=function(e){var t=e.className,n=e.value,a=e.onChangeAction,l=e.placeholder,o=n?f()(n).format("L"):"";return i.a.createElement("th",{className:"DayPicker-overflow ".concat(t)},i.a.createElement(s.a,{value:o,onDayChange:a,formatDate:u.formatDate,parseDate:u.parseDate,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:c.a},inputProps:{className:"form-control input-sm",placeholder:l},placeholder:""}))};p.defaultProps={className:"",value:null,placeholder:""},p.propTypes={className:o.a.string,value:o.a.oneOfType([o.a.string,o.a.object]),onChangeAction:o.a.func,placeholder:o.a.string},t.a=p}}]);