"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[6933],{56933:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var r=n(23029),a=n(92901),c=n(56822),o=n(53954),l=n(85501),m=n(64467),u=n(96540),s=n(57761),i=n.n(s),p=n(24179),d=n(62493),f=n(55849),h=n(91858);function v(e,t,n){return t=(0,o.A)(t),(0,c.A)(e,b()?Reflect.construct(t,n||[],(0,o.A)(e).constructor):t.apply(e,n))}function b(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(b=function(){return!!e})()}const E=function(e){function t(e){return(0,r.A)(this,t),v(this,t,[e])}return(0,l.A)(t,e),(0,a.A)(t,[{key:"render",value:function(){return u.createElement("div",{className:"row"},u.createElement("div",{className:"col-sm-12"},u.createElement(d.A,null,u.createElement(f.A,{className:"panel-small"},u.createElement("div",{className:"col-md-4"},u.createElement("div",{className:"btn-group btn-group-flex  margin-small",role:"group"},u.createElement(h.A,{iconName:"arrowLeft",onClickAction:p.Nc.goBack}))),u.createElement("div",{className:"col-md-4"},u.createElement("h3",{className:"text-center table-title"},"Rapportage Energie Leverancier")),u.createElement("div",{className:"col-md-4"})))))}}])}(u.Component);n(69733);var A=n(95093),N=n.n(A),g=n(14809),y=n(55956),O=n(22102),I=n(54814);N().locale("nl");const w=function(e){var t=e.report,n=t.templateId,r=t.documentName;return u.createElement("form",{className:"form-horizontal col-md-12",onSubmit:e.handleSubmit},u.createElement("div",{className:"row"},u.createElement(g.A,{label:"Document template",name:"templateId",options:e.templates,value:n,onChangeAction:e.handleInputChange,required:"required",error:e.errors.templateId,size:"col-sm-12"})),u.createElement("div",{className:"row"},u.createElement(I.A,{label:"Document naam",name:"documentName",value:r,onChangeAction:e.handleInputChange,required:"required",error:e.errors.documentName,divSize:"col-sm-12",labelSize:"col-sm-6",size:"col-sm-6"}),".pdf"),u.createElement(O.A,null,u.createElement("div",{className:"pull-right btn-group",role:"group"},u.createElement(y.A,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:e.switchToView}),u.createElement(y.A,{buttonText:"Opslaan",onClickAction:e.handleSubmit,type:"submit",value:"Submit"}))))};var k=n(32949),C=n(34390),S=n(72505),j=n.n(S);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,m.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t=(0,o.A)(t),(0,c.A)(e,x()?Reflect.construct(t,n||[],(0,o.A)(e).constructor):t.apply(e,n))}function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(x=function(){return!!e})()}const z=function(e){function t(e){var n;return(0,r.A)(this,t),n=R(this,t,[e]),(0,m.A)(n,"handleInputChange",(function(e){var t=e.target,r="checkbox"===t.type?t.checked:t.value,a=t.name;n.setState(P(P({},n.state),{},{report:P(P({},n.state.report),{},(0,m.A)({},a,r))}))})),(0,m.A)(n,"handleSubmit",(function(e){e.preventDefault();var t=n.state.report,r={},a=!1;i().isEmpty(t.templateId+"")&&(r.templateId=!0,a=!0),i().isEmpty(t.documentName+"")&&(r.documentName=!0,a=!0),n.setState(P(P({},n.state),{},{errors:r})),!a&&k.A.createEnergySupplierReport(t.revenueId,t.templateId,t.documentName).then((function(e){p.RL.push("/documenten")}))})),n.state={templates:[],report:{revenueId:e.params.revenueId,templateId:"",documentName:""},errors:{templateId:!1,documentName:!1}},n}return(0,l.A)(t,e),(0,a.A)(t,[{key:"componentDidMount",value:function(){var e=this;j().all([k.A.fetchRevenuesKwhForReport(this.props.params.revenueId,this.props.params.reportType),C.A.fetchDocumentTemplatesPeekGeneral()]).then(j().spread((function(t,n){var r=[];n.forEach((function(e){"revenue"==e.group&&r.push({id:e.id,name:e.name})})),e.setState(P(P({},e.state),{},{templates:r,report:P(P({},e.state.report),{},{documentName:t.defaultDocumentName})}))})))}},{key:"render",value:function(){return u.createElement("div",{className:"row"},u.createElement("div",{className:"col-md-9"},u.createElement("div",{className:"col-md-12"},u.createElement(E,null)),u.createElement("div",{className:"col-md-12"},u.createElement(d.A,null,u.createElement(f.A,null,u.createElement("div",{className:"col-md-12"},u.createElement(w,{report:this.state.report,errors:this.state.errors,templates:this.state.templates,handleInputChange:this.handleInputChange,handleSubmit:this.handleSubmit})))))),u.createElement("div",{className:"col-md-3"}))}}])}(u.Component)}}]);