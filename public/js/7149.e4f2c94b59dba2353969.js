"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[7149],{11674:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(69265),a="ledger";const o={fetchLedgerDetails:function(e){var t="jory/ledger/".concat(e);return n.Z.get(t,{params:{jory:{fld:["id","description","vatCodeId","twinfieldLedgerCode"],rlt:{vatCode:{fld:["id","description"]}}}}})},newLedger:function(e){var t=a;return e.jory=JSON.stringify({fld:["id"]}),n.Z.post(t,e)},updateLedger:function(e){var t="".concat(a,"/").concat(e.id);return n.Z.post(t,e)},deleteLedger:function(e){var t="".concat(a,"/").concat(e,"/delete");return n.Z.post(t)}}},27149:(e,t,r)=>{r.r(t),r.d(t,{default:()=>I});var n=r(67294),a=r(15671),o=r(43144),c=r(97326),l=r(60136),i=r(82963),s=r(61120),d=r(4942),u=r(86706),m=r(83920),f=r(61409),p=r(48966),g=r.n(p),h=r(30381),v=r.n(h),b=r(9181),E=r(49332),C=r(98688),Z=r(14309),y=r(11674),w=r(25725),O=r(71840);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){(0,d.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}v().locale("nl");var j=function(e){(0,l.Z)(m,e);var t,r,u=(t=m,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,s.Z)(t);if(r){var a=(0,s.Z)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,i.Z)(this,e)});function m(e){var t;return(0,a.Z)(this,m),t=u.call(this,e),(0,d.Z)((0,c.Z)(t),"handleInputChange",(function(e){var r=e.target,n="checkbox"===r.type?r.checked:r.value,a=r.name;t.setState(k(k({},t.state),{},{ledger:k(k({},t.state.ledger),{},(0,d.Z)({},a,n))}))})),(0,d.Z)((0,c.Z)(t),"handleInputChangeDate",(function(e,r){t.setState(k(k({},t.state),{},{ledger:k(k({},t.state.ledger),{},(0,d.Z)({},r,e))}))})),(0,d.Z)((0,c.Z)(t),"handleSubmit",(function(e){e.preventDefault();var r=t.state.ledger,n={},a=!1;g().isEmpty(r.description)&&(n.description=!0,a=!0),r.twinfieldLedgerCode&&t.props.ledgers.map((function(e){e.twinfieldLedgerCode==r.twinfieldLedgerCode&&(a=!0,n.twinfieldLedgerCode=!0)})),t.setState(k(k({},t.state),{},{errors:n})),!a&&y.Z.newLedger(r).then((function(e){t.props.fetchSystemData(),f.nA.push("/grootboekrekening/".concat(e.data.data.id))})).catch((function(e){alert("Er is iets mis gegaan met opslaan!")}))})),t.state={ledger:{description:"",vatCodeId:"",twinfieldLedgerCode:""},errors:{description:!1,vatCodeId:!1}},t}return(0,o.Z)(m,[{key:"render",value:function(){var e=this.state.ledger,t=e.description,r=e.vatCodeId,a=e.twinfieldLedgerCode;return n.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},n.createElement(Z.Z,null,n.createElement(C.Z,null,n.createElement("div",{className:"row"},n.createElement(b.Z,{label:"Omschrijving",name:"description",value:t,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.description}),n.createElement(O.Z,{label:"BTW code",name:"vatCodeId",value:r,options:this.props.vatCodes,optionName:"description",onChangeAction:this.handleInputChange,placeholder:"BTW geen"})),n.createElement("div",{className:"row"},n.createElement(b.Z,{label:"Twinfield grootboekcode",name:"twinfieldLedgerCode",value:a,onChangeAction:this.handleInputChange,error:this.state.errors.twinfieldLedgerCode,errorMessage:"Deze grootboekcode wordt al gebruikt."}))),n.createElement(C.Z,null,n.createElement("div",{className:"pull-right btn-group",role:"group"},n.createElement(E.Z,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}]),m}(n.Component);const L=(0,u.$j)((function(e){return{vatCodes:e.systemData.vatCodes,ledgers:e.systemData.ledgers}}),(function(e){return(0,m.DE)({fetchSystemData:w.P},e)}))(j);var D=r(55451);const S=function(){return n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-4"},n.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},n.createElement(D.Z,{iconName:"arrowLeft",onClickAction:f.mW.goBack}))),n.createElement("div",{className:"col-md-4"},n.createElement("h4",{className:"text-center margin-small"},"Nieuw grootboekrekening")),n.createElement("div",{className:"col-md-4"}))},I=function(){return n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-9"},n.createElement("div",{className:"col-md-12 margin-10-top"},n.createElement(Z.Z,null,n.createElement(C.Z,{className:"panel-small"},n.createElement(S,null)))),n.createElement("div",{className:"col-md-12 margin-10-top"},n.createElement(L,null))),n.createElement("div",{className:"col-md-3"}))}}}]);