"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[7298],{7639:(t,e,n)=>{n.d(e,{A:()=>m});var a=n(96540),o=n(5556),r=n.n(o),s=n(91385),i=n(4353),l=n(95093),u=n.n(l);u().locale("nl");var c=function(t){var e=t.className,n=t.value,o=t.onChangeAction,r=t.placeholder,l=n?u()(n).format("L"):"";return a.createElement("th",{className:"DayPicker-overflow ".concat(e)},a.createElement(s.default,{value:l,onDayChange:o,formatDate:i.formatDate,parseDate:i.parseDate,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:i.default},inputProps:{className:"form-control input-sm",placeholder:r},placeholder:""}))};c.defaultProps={className:"",value:null,placeholder:""},c.propTypes={className:r().string,value:r().oneOfType([r().string,r().object]),onChangeAction:r().func,placeholder:r().string};const m=c},78746:(t,e,n)=>{n.d(e,{A:()=>p});var a,o=n(57528),r=n(96540),s=n(5556),i=n.n(s),l=n(91385),u=n(4353),c=n(95093),m=n.n(c),d=n(17639);m().locale("nl");var f=function(t){var e=t.className,n=t.startDate,a=t.endDate,o=t.onChangeActionStart,s=t.onChangeActionEnd,i=(t.placeholder,n?m()(n).format("L"):""),c=a?m()(a).format("L"):"";return r.createElement("th",{className:"DayPicker-overflow ".concat(e)},r.createElement(E,null,r.createElement(l.default,{value:i,onDayChange:o,formatDate:u.formatDate,parseDate:u.parseDate,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:u.default},inputProps:{className:"form-control input-sm",placeholder:"Van"},placeholder:"Van"})," ","-"," ",r.createElement("span",{className:"InputFromTo-to"},r.createElement(l.default,{value:c,onDayChange:s,formatDate:u.formatDate,parseDate:u.parseDate,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:u.default},inputProps:{className:"form-control input-sm",placeholder:"tot"},placeholder:"tot"}))))};f.defaultProps={className:"",startDate:null,endDate:null,placeholder:""},f.propTypes={className:i().string,startDate:i().oneOfType([i().string,i().object]),endDate:i().oneOfType([i().string,i().object]),onChangeAction:i().func,placeholder:i().string};const p=f;var E=d.A.div(a||(a=(0,o.A)(["\n    display: flex;\n    //\n    //     // & .DayPicker-Day--selected:not(.DayPicker-Day--start):not(.DayPicker-Day--end):not(.DayPicker-Day--outside) {\n    //     //     background-color: #f0f8ff !important;\n    //     //     color: #4a90e2;\n    //     // }\n    //\n    //     & .DayPicker-Day {\n    //         border-radius: 0 !important;\n    //     }\n    //     & .DayPicker-Day--start {\n    //         border-top-left-radius: 50% !important;\n    //         border-bottom-left-radius: 50% !important;\n    //     }\n    //     & .DayPicker-Day--end {\n    //         border-top-right-radius: 50% !important;\n    //         border-bottom-right-radius: 50% !important;\n    //     }\n    //     // & .DayPickerInput-Overlay {\n    //     //     width: 200px;\n    //     // }\n    //     // .InputFromTo-to .DayPickerInput-Overlay {\n    //     //     margin-left: -198px;\n    //     // }\n"])))},9152:(t,e,n)=>{n.d(e,{A:()=>m});var a=n(96540),o=n(5556),r=n.n(o),s=n(87722),i=n(71866),l=n(34527),u=void 0,c=function(t){var e=t.RowClassName,n=t.setSorts,o=t.sortColumn,r=t.title,c=t.width;return a.createElement("th",{className:e,width:c},r,a.createElement(s.Ay,{className:"pull-right small",size:14,icon:l.m,role:"button",onClick:n.bind(u,o,"ASC")}),a.createElement(s.Ay,{className:"pull-right small",size:14,icon:i.b,role:"button",onClick:n.bind(u,o,"DESC")}))};c.defaultProps={RowClassName:""},c.propTypes={setSorts:r().func.isRequired,sortColumn:r().string.isRequired,title:r().string.isRequired,width:r().string.isRequired,RowClassName:r().string};const m=c},47298:(t,e,n)=>{n.r(e),n.d(e,{default:()=>lt});var a=n(23029),o=n(92901),r=n(56822),s=n(53954),i=n(85501),l=n(64467),u=n(96540),c=n(69733),m=n(17375),d=function(t,e,n){return{type:"FETCH_QUOTATION_REQUESTS",filters:t,sorts:e,pagination:n}},f=function(){return{type:"CLEAR_QUOTATION_REQUESTS"}},p=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_ORGANISATION_OR_COACH",organisationOrCoach:t}},E=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_CONTACT",contact:t}},h=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_ADDRESS",address:t}},R=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_AREA_NAME",areaName:t}},A=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_CAMPAIGN",campaign:t}},g=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_MEASURE",measure:t}},q=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_CREATED_AT_START",createdAtStart:t}},T=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_CREATED_AT_END",createdAtEnd:t}},v=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_DATE_PLANNED",datePlanned:t}},D=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_DATE_RECORDED",dateRecorded:t}},S=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_STATUS",statusId:t}},C=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_DATE_RELEASED",dateReleased:t}},y=function(){return{type:"CLEAR_FILTER_QUOTATION_REQUESTS"}},Q=function(t){return{type:"SET_QUOTATION_REQUESTS_PAGINATION",pagination:t}},N=n(58168),_=n(42285),k=n(45403),F=n(93913),O=n(9152);n(26829);const I=(0,c.Ng)(null,(function(t){return{setQuotationRequestsSortsFilter:function(e,n){t(function(t,e){return{type:"SET_QUOTATION_REQUESTS_SORTS_FILTER",field:t,order:e}}(e,n))}}}))((function(t){var e=function(e,n){t.setQuotationRequestsSortsFilter(e,n),setTimeout((function(){t.refreshQuotationRequestsData()}),100)};return u.createElement("tr",{className:"thead-title"},u.createElement(O.A,{sortColumn:"organisationOrCoach",title:"Organisatie/Coach",width:"9%",setSorts:e}),u.createElement(O.A,{sortColumn:"contact",title:"Contact",width:"9%",setSorts:e}),u.createElement(O.A,{sortColumn:"address",title:"Adres",width:"14%",setSorts:e}),u.createElement(O.A,{sortColumn:"areaName",title:"Buurt",width:"10%",setSorts:e}),u.createElement(O.A,{sortColumn:"measure",title:"Maatregel",width:"9%",setSorts:e}),u.createElement(O.A,{sortColumn:"createdAt",title:"Datum",width:"7%",setSorts:e}),u.createElement(O.A,{sortColumn:"datePlanned",title:"Afspraak",width:"7%",setSorts:e}),u.createElement(O.A,{sortColumn:"dateRecorded",title:"Opname",width:"7%",setSorts:e}),u.createElement(O.A,{sortColumn:"statusId",title:"Status kansactie",width:"7%",setSorts:e}),u.createElement(O.A,{sortColumn:"dateReleased",title:"Uitgebracht",width:"7%",setSorts:e}),u.createElement(O.A,{sortColumn:"campaign",title:"Campagne",width:"10%",setSorts:e}),u.createElement("th",{width:"4%"}))}));var P=n(95093),U=n.n(P),b=(n(36939),n(78746)),w=n(7639);const M=(0,c.Ng)((function(t){return{filters:t.quotationRequests.filters,quotationRequestStatus:t.systemData.quotationRequestStatus}}),(function(t){return(0,m.zH)({setFilterQuotationRequestStatus:S,clearFilterQuotationRequests:y,setQuotationRequestAddressFilter:h,setQuotationRequestAreaNameFilter:R,setQuotationRequestCampaignFilter:A,setQuotationRequestContactFilter:E,setQuotationRequestCreatedAtStartFilter:q,setQuotationRequestCreatedAtEndFilter:T,setQuotationRequestDatePlannedFilter:v,setQuotationRequestDateRecordedFilter:D,setQuotationRequestDateReleasedFilter:C,setQuotationRequestMeasureFilter:g,setQuotationRequestOrganisationOrCoachFilter:p},t)}))((function(t){return u.createElement("tr",{className:"thead-filter"},u.createElement("th",null,u.createElement("input",{type:"text",className:"form-control input-sm",value:t.filters.organisationOrCoach.data,onChange:function(e){t.setQuotationRequestOrganisationOrCoachFilter(e.target.value)}})),u.createElement("th",null,u.createElement("input",{type:"text",className:"form-control input-sm",value:t.filters.contact.data,onChange:function(e){t.setQuotationRequestContactFilter(e.target.value)}})),u.createElement("th",null,u.createElement("input",{type:"text",className:"form-control input-sm",value:t.filters.address.data,onChange:function(e){t.setQuotationRequestAddressFilter(e.target.value)}})),u.createElement("th",null,u.createElement("input",{type:"text",className:"form-control input-sm",value:t.filters.areaName.data,onChange:function(e){t.setQuotationRequestAreaNameFilter(e.target.value)}})),u.createElement("th",null,u.createElement("input",{type:"text",className:"form-control input-sm",value:t.filters.measure.data,onChange:function(e){t.setQuotationRequestMeasureFilter(e.target.value)}})),u.createElement(b.A,{startDate:t.filters.createdAtStart.data&&t.filters.createdAtStart.data,endDate:t.filters.createdAtEnd.data&&t.filters.createdAtEnd.data,onChangeActionStart:function(e){void 0===e?t.setQuotationRequestCreatedAtStartFilter(""):t.setQuotationRequestCreatedAtStartFilter(U()(e).format("Y-MM-DD"))},onChangeActionEnd:function(e){void 0===e?t.setQuotationRequestCreatedAtEndFilter(""):t.setQuotationRequestCreatedAtEndFilter(U()(e).format("Y-MM-DD"))}}),u.createElement(w.A,{value:t.filters.datePlanned.data&&t.filters.datePlanned.data,onChangeAction:function(e){void 0===e?t.setQuotationRequestDatePlannedFilter(""):t.setQuotationRequestDatePlannedFilter(U()(e).format("Y-MM-DD"))}}),u.createElement(w.A,{value:t.filters.dateRecorded.data&&t.filters.dateRecorded.data,onChangeAction:function(e){void 0===e?t.setQuotationRequestDateRecordedFilter(""):t.setQuotationRequestDateRecordedFilter(U()(e).format("Y-MM-DD"))}}),u.createElement("th",null,u.createElement("select",{className:"form-control input-sm",value:t.filters.statusId.data,onChange:function(e){t.setFilterQuotationRequestStatus(e.target.value),setTimeout((function(){t.onSubmitFilter()}),100)}},u.createElement("option",null),t.quotationRequestStatus.map((function(t){return u.createElement("option",{key:t.id,value:t.id},t.opportunityActionName," - ",t.name)})))),u.createElement(w.A,{value:t.filters.dateReleased.data&&t.filters.dateReleased.data,onChangeAction:function(e){void 0===e?t.setQuotationRequestDateReleasedFilter(""):t.setQuotationRequestDateReleasedFilter(U()(e).format("Y-MM-DD"))}}),u.createElement("th",null,u.createElement("input",{type:"text",className:"form-control input-sm",value:t.filters.campaign.data,onChange:function(e){t.setQuotationRequestCampaignFilter(e.target.value)}})),u.createElement("th",null))}));var L=n(24179),Y=n(87722),H=n(88505);function B(t,e,n){return e=(0,s.A)(e),(0,r.A)(t,x()?Reflect.construct(e,n||[],(0,s.A)(t).constructor):e.apply(t,n))}function x(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(x=function(){return!!t})()}const V=function(t){function e(t){var n;return(0,a.A)(this,e),(n=B(this,e,[t])).state={showActionButtons:!1,highlightRow:""},n}return(0,i.A)(e,t),(0,o.A)(e,[{key:"onRowEnter",value:function(){this.setState({showActionButtons:!0,highlightRow:"highlight-row"})}},{key:"onRowLeave",value:function(){this.setState({showActionButtons:!1,highlightRow:""})}},{key:"openItem",value:function(t){L.RL.push("/offerteverzoek/".concat(t))}},{key:"render",value:function(){var t=this,e=this.props,n=e.id,a=e.organisationOrCoach,o=e.opportunity,r=e.createdAt,s=e.dateRecorded,i=e.status,l=e.datePlanned,c=e.dateReleased;return u.createElement("tr",{className:this.state.highlightRow,onDoubleClick:function(){return t.openItem(n)},onMouseEnter:function(){return t.onRowEnter()},onMouseLeave:function(){return t.onRowLeave()}},u.createElement("td",null,a&&a.fullName),u.createElement("td",null,o&&o.intake.contact.fullName),u.createElement("td",null,o&&o.intake.fullAddress),u.createElement("td",null,o&&o.intake&&o.intake.address&&o.intake.address.areaName),u.createElement("td",null,o&&o.measureCategory.name),u.createElement("td",null,U()(r).format("DD-MM-Y")),u.createElement("td",null,l&&U()(l).format("DD-MM-Y HH:mm")),u.createElement("td",null,s&&U()(s).format("DD-MM-Y HH:mm")),u.createElement("td",null,i?i.name:"Onbekend"),u.createElement("td",null,c&&U()(c).format("DD-MM-Y HH:mm")),u.createElement("td",null,o&&o.intake.campaign.name),u.createElement("td",null,this.state.showActionButtons?u.createElement("a",{role:"button",onClick:function(){return t.openItem(n)}},u.createElement(Y.Ay,{className:"mybtn-success",size:14,icon:H.w})):""))}}])}(u.Component);var W=n(74850);function z(t,e,n){return e=(0,s.A)(e),(0,r.A)(t,G()?Reflect.construct(e,n||[],(0,s.A)(t).constructor):e.apply(t,n))}function G(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(G=function(){return!!t})()}var j=function(t){function e(t){var n;return(0,a.A)(this,e),n=z(this,e,[t]),(0,l.A)(n,"handleKeyUp",(function(t){13===t.keyCode&&n.props.onSubmitFilter()})),n}return(0,i.A)(e,t),(0,o.A)(e,[{key:"render",value:function(){var t=this,e=this.props.quotationRequests,n=e.data,a=void 0===n?[]:n,o=e.meta,r=void 0===o?{}:o,s="",i=!0;return this.props.hasError?s="Fout bij het ophalen van kansacties.":this.props.isLoading?s="Gegevens aan het laden.":0===a.length?s="Geen kansacties gevonden!":i=!1,u.createElement("form",{onKeyUp:this.handleKeyUp},u.createElement(_.A,null,u.createElement(k.A,null,u.createElement(I,{refreshQuotationRequestsData:function(){return t.props.refreshQuotationRequestsData()}}),u.createElement(M,{onSubmitFilter:this.props.onSubmitFilter})),u.createElement(F.A,null,i?u.createElement("tr",null,u.createElement("td",{colSpan:11},s)):a.map((function(t){return u.createElement(V,(0,N.A)({key:t.id},t))})))),u.createElement("div",{className:"col-md-4 col-md-offset-4"},u.createElement(W.A,{onPageChangeAction:this.props.handlePageClick,totalRecords:r.total,initialPage:this.props.quotationRequestsPagination.page})))}}])}(u.Component);const K=(0,c.Ng)((function(t){return{isLoading:t.loadingData.isLoading,hasError:t.loadingData.hasError}}))(j);var J=n(91858);const X=(0,c.Ng)((function(t){return{quotationRequests:t.quotationRequests.list}}),null)((function(t){var e=t.quotationRequests.meta,n=void 0===e?{}:e;return u.createElement("div",{className:"row"},u.createElement("div",{className:"col-md-4"},u.createElement("div",{className:"btn-group",role:"group"},u.createElement(J.A,{iconName:"refresh",onClickAction:t.resetQuotationRequestFilters}),u.createElement(J.A,{iconName:"download",onClickAction:t.getCSV}))),u.createElement("div",{className:"col-md-4"},u.createElement("h3",{className:"text-center table-title"},"Kansacties")),u.createElement("div",{className:"col-md-4"},u.createElement("div",{className:"pull-right"},"Resultaten: ",n.total||0)))}));var Z=n(19737),$=n(62493),tt=n(55849),et=n(5419),nt=n.n(et),at=n(875),ot=n(23138);function rt(t,e,n){return e=(0,s.A)(e),(0,r.A)(t,st()?Reflect.construct(e,n||[],(0,s.A)(t).constructor):e.apply(t,n))}function st(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(st=function(){return!!t})()}var it=function(t){function e(t){var n;return(0,a.A)(this,e),n=rt(this,e,[t]),(0,l.A)(n,"getCSV",(function(){n.props.blockUI(),setTimeout((function(){var t=(0,Z.A)(n.props.quotationRequestsFilters),e=n.props.quotationRequestsSorts;at.A.getCSV({filters:t,sorts:e}).then((function(t){nt()(t.data,"kansacties-"+U()().format("YYYY-MM-DD HH:mm:ss")+".csv"),n.props.unblockUI()})).catch((function(t){n.props.unblockUI()}))}),100)})),(0,l.A)(n,"fetchQuotationRequestsData",(function(){setTimeout((function(){var t=(0,Z.A)(n.props.quotationRequestsFilters),e=n.props.quotationRequestsSorts,a={limit:20,offset:n.props.quotationRequestsPagination.offset};n.props.fetchQuotationRequests(t,e,a)}),100)})),(0,l.A)(n,"resetQuotationRequestFilters",(function(){n.props.clearFilterQuotationRequests(),n.fetchQuotationRequestsData()})),n.handlePageClick=n.handlePageClick.bind(n),n.getCSV=n.getCSV.bind(n),n}return(0,i.A)(e,t),(0,o.A)(e,[{key:"componentDidMount",value:function(){this.fetchQuotationRequestsData()}},{key:"componentWillUnmount",value:function(){this.props.clearQuotationRequests()}},{key:"onSubmitFilter",value:function(){var t=this;(0,Z.A)(this.props.quotationRequestsFilters),this.props.quotationRequestsSorts,this.props.setQuotationRequestsPagination({page:0,offset:0}),setTimeout((function(){t.fetchQuotationRequestsData()}),100)}},{key:"handlePageClick",value:function(t){var e=this,n=t.selected,a=Math.ceil(20*n);this.props.setQuotationRequestsPagination({page:n,offset:a}),setTimeout((function(){e.fetchQuotationRequestsData()}),100)}},{key:"render",value:function(){var t=this;return u.createElement($.A,null,u.createElement(tt.A,null,u.createElement("div",{className:"col-md-12 margin-10-top"},u.createElement(X,{resetQuotationRequestFilters:function(){return t.resetQuotationRequestFilters()},getCSV:this.getCSV})),u.createElement("div",{className:"col-md-12 margin-10-top"},u.createElement(K,{quotationRequests:this.props.quotationRequests,quotationRequestsPagination:this.props.quotationRequestsPagination,onSubmitFilter:function(){return t.onSubmitFilter()},refreshQuotationRequestsData:function(){return t.fetchQuotationRequestsData()},handlePageClick:this.handlePageClick}))))}}])}(u.Component);const lt=(0,c.Ng)((function(t){return{quotationRequests:t.quotationRequests.list,quotationRequestsFilters:t.quotationRequests.filters,quotationRequestsSorts:t.quotationRequests.sorts,quotationRequestsPagination:t.quotationRequests.pagination}}),(function(t){return(0,m.zH)({fetchQuotationRequests:d,clearQuotationRequests:f,setQuotationRequestsPagination:Q,clearFilterQuotationRequests:y,blockUI:ot.o,unblockUI:ot.r},t)}))(it)},19737:(t,e,n)=>{n.d(e,{A:()=>a});const a=function(t){var e=[];for(var n in t)""!==t[n].data&&e.push(t[n]);return e}}}]);