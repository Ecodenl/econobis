"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[7427],{9152:(e,t,n)=>{n.d(t,{A:()=>u}),n(94170);var a=n(96540),l=n(5556),r=n.n(l),i=n(87722),o=n(71866),c=n(56908),s=void 0,m=function(e){var t=e.RowClassName,n=e.setSorts,l=e.sortColumn,r=e.title,m=e.width;return a.createElement("th",{className:t,width:m},r,a.createElement(i.Ay,{className:"pull-right small",size:14,icon:c.m,role:"button",onClick:n.bind(s,l,"ASC")}),a.createElement(i.Ay,{className:"pull-right small",size:14,icon:o.b,role:"button",onClick:n.bind(s,l,"DESC")}))};m.defaultProps={RowClassName:""},m.propTypes={setSorts:r().func.isRequired,sortColumn:r().string.isRequired,title:r().string.isRequired,width:r().string.isRequired,RowClassName:r().string};const u=m},25562:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(5544),l=n(96540);const r=function(e){var t=(0,l.useState)(!1),n=(0,a.A)(t,2),r=n[0],i=n[1];function o(t){t.key===e&&i(!0)}function c(t){t.key===e&&i(!1)}return(0,l.useEffect)((function(){return window.addEventListener("keydown",o),window.addEventListener("keyup",c),function(){window.removeEventListener("keydown",o),window.removeEventListener("keyup",c)}}),[]),r}},26829:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(96540),l=n(5556),r=n.n(l),i=function(e){var t=e.RowClassName,n=e.title,l=e.width;return a.createElement("th",{className:t,width:l},n)};i.defaultProps={RowClassName:""},i.propTypes={title:r().string.isRequired,width:r().string.isRequired,RowClassName:r().string};const o=i},42285:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(96540);const l=function(e){return a.createElement("table",{className:"table table-condensed table-hover table-striped col-xs-12"},e.children)}},45403:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(96540);const l=function(e){return a.createElement("thead",null,e.children)}},56908:(e,t)=>{t.m=void 0,t.m={viewBox:"0 0 1664 1792",children:[{name:"path",attribs:{d:"M1611 832q0 53-37 90l-651 652q-39 37-91 37-53 0-90-37l-651-652q-38-36-38-90 0-53 38-91l74-75q39-37 91-37 53 0 90 37l294 294v-704q0-52 38-90t90-38h128q52 0 90 38t38 90v704l294-294q37-37 90-37 52 0 91 37l75 75q37 39 37 91z"}}]}},71866:(e,t)=>{t.b=void 0,t.b={viewBox:"0 0 1664 1792",children:[{name:"path",attribs:{d:"M1611 971q0 51-37 90l-75 75q-38 38-91 38-54 0-90-38l-294-293v704q0 52-37.5 84.5t-90.5 32.5h-128q-53 0-90.5-32.5t-37.5-84.5v-704l-294 293q-36 38-90 38t-90-38l-75-75q-38-38-38-90 0-53 38-91l651-651q35-37 90-37 54 0 91 37l651 651q37 39 37 91z"}}]}},77427:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var a=n(60436),l=n(64467),r=n(5544),i=(n(28706),n(52675),n(2008),n(51629),n(62010),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(23500),n(96540)),o=n(62493),c=n(55849),s=n(58168),m=(n(62062),n(74850)),u=n(42285),d=n(45403),h=n(93913),f=(n(60825),n(23029)),v=n(92901),E=n(56822),p=n(53954),g=n(85501),A=n(47767),w=(n(95093),n(87722)),b=n(88505);function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}var N=function(e){function t(e){var n,a,l,r;return(0,f.A)(this,t),a=this,l=t,r=[e],l=(0,p.A)(l),(n=(0,E.A)(a,y()?Reflect.construct(l,r||[],(0,p.A)(a).constructor):l.apply(a,r))).state={showActionButtons:!1,highlightRow:""},n}return(0,g.A)(t,e),(0,v.A)(t,[{key:"onRowEnter",value:function(){this.setState({showActionButtons:!0,highlightRow:"highlight-row"})}},{key:"onRowLeave",value:function(){this.setState({showActionButtons:!1,highlightRow:""})}},{key:"openItem",value:function(e){this.props.navigate("/mailbox/".concat(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.name,l=t.email,r=t.incomingServerType,o=t.incomingServerTypeName,c=t.outgoingServerType,s=t.outgoingServerTypeName,m=t.imapHost,u=t.imapPort,d=t.smtpHost,h=t.smtpPort,f=t.mailgunDomain,v=t.valid,E=t.primary,p=t.isActive;return i.createElement("tr",{className:"".concat(this.state.highlightRow,"  ").concat(v?"":"has-error"),onDoubleClick:function(){return e.openItem(n)},onMouseEnter:function(){return e.onRowEnter()},onMouseLeave:function(){return e.onRowLeave()}},i.createElement("td",null,a),i.createElement("td",null,l),"imap"===r?i.createElement("td",null,o," ",m," (",u,")"):i.createElement("td",null,o),"smtp"===c?i.createElement("td",null,s," ",d," (",h,")"):"mailgun"===c?i.createElement("td",null,s," ",f):i.createElement("td",null,s),i.createElement("td",null,E?"Primair":""),i.createElement("td",null,p?"Ja":"Nee"),i.createElement("td",null,this.state.showActionButtons?i.createElement("a",{role:"button",onClick:function(){return e.openItem(n)}},i.createElement(w.Ay,{className:"mybtn-success",size:14,icon:b.w})):""))}}])}(i.Component);const C=function(e){var t=(0,A.Zp)();return i.createElement(N,(0,s.A)({},e,{navigate:t}))};var k=n(26829),S=n(9152);const P=function(e){return i.createElement("tr",{className:"thead-title"},i.createElement(S.A,{sortColumn:"name",title:"Weergavenaam",width:"25%",setSorts:e.handleChangeSort}),i.createElement(k.A,{title:"E-mail",width:"25%"}),i.createElement(k.A,{title:"Inkomend",width:"20%"}),i.createElement(k.A,{title:"Uitgaand",width:"20%"}),i.createElement(k.A,{title:"Primair",width:"5%"}),i.createElement(k.A,{title:"Actief",width:"5%"}),i.createElement(k.A,{title:"",width:"5%"}))},R=function(e){var t=e.filter,n=e.handleChangeFilter;return i.createElement(i.Fragment,null,i.createElement("tr",{className:"thead-filter"},i.createElement("th",null,i.createElement("input",{type:"text",className:"form-control input-sm",value:t.name,onChange:function(e){return n("name",e.target.value)}})),i.createElement("th",null),i.createElement("th",null),i.createElement("th",null),i.createElement("th",null),i.createElement("th",null,i.createElement("select",{className:"form-control input-sm",value:t.isActive,onChange:function(e){return n("isActive",e.target.value)}},i.createElement("option",null),i.createElement("option",{key:1,value:1},"Ja"),i.createElement("option",{key:0,value:0},"Nee"))),i.createElement("th",null)))},q=function(e){var t=e.mailboxes,n=e.mailboxesTotal,a=e.recordsPerPage,l=e.isLoading,r=e.filter,o=e.handlePageClick,c=e.handleChangeSort,f=e.handleChangeFilter,v=e.handleKeyUp;return i.createElement("div",null,i.createElement("form",{onKeyUp:v,className:"margin-10-top"},i.createElement(u.A,null,i.createElement(d.A,null,i.createElement(P,{handleChangeSort:c}),i.createElement(R,{filter:r,handleChangeFilter:f})),i.createElement(h.A,null,l?i.createElement("tr",null,i.createElement("td",{colSpan:7},"Bezig met gegevens laden")):t.length>0?t.map((function(e){return i.createElement(C,(0,s.A)({key:e.id},e))})):i.createElement("tr",null,i.createElement("td",{colSpan:3},"Geen resultaten!")))),i.createElement("div",{className:"col-md-6 col-md-offset-3"},i.createElement(m.A,{onPageChangeAction:o,totalRecords:n,initialPage:0,recordsPerPage:a}))))};var x=n(91858);const O=(0,n(69733).Ng)((function(e){return{permissions:e.meDetails.permissions}}),null)((function(e){var t=e.mailboxesTotal,n=e.refreshMailboxes,a=e.permissions,l=(0,A.Zp)();return i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-4"},i.createElement("div",{className:"btn-group",role:"group"},i.createElement(x.A,{iconName:"refresh",onClickAction:n}),a.createMailbox&&i.createElement(x.A,{iconName:"plus",onClickAction:function(){l("/mailbox/nieuw")}}))),i.createElement("div",{className:"col-md-4"},i.createElement("h3",{className:"text-center table-title"},"Mailboxen")),i.createElement("div",{className:"col-md-4"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-sm-12"},i.createElement("div",{className:"pull-right"},"Resultaten: ",t)))))}));var j=n(25562),M=n(72505),T=n.n(M),B=n(83873);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,l.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const z=function(){var e=(0,i.useState)([]),t=(0,r.A)(e,2),n=t[0],s=t[1],m=(0,i.useState)(!0),u=(0,r.A)(m,2),d=u[0],h=u[1],f=(0,i.useState)({total:0}),v=(0,r.A)(f,2),E=v[0],p=v[1],g=(0,i.useState)({name:"",isActive:1}),A=(0,r.A)(g,2),w=A[0],b=A[1],y=(0,i.useState)([{field:"name",order:"ASC"}]),N=(0,r.A)(y,2),C=N[0],k=N[1],S=(0,i.useState)({offset:0,limit:25}),P=(0,r.A)(S,2),R=P[0],x=P[1],M=(0,j.A)("Enter");function L(){var e;h(!0),T().all([B.A.fetchMailboxes((e=[],w.name&&e.push({field:"name",data:w.name}),w.isActive&&e.push({field:"isActive",data:w.isActive}),e),C,R)]).then(T().spread((function(e){s(e.data.data),p(e.data.meta),h(!1)}))).catch((function(e){h(!1),alert("Er is iets misgegaan met ophalen van de gegevens.")}))}function z(){s([]),x(D(D({},R),{},{page:0,offset:0}))}return(0,i.useEffect)((function(){L()}),[R.offset,C,w.name,w.isActive]),(0,i.useEffect)((function(){M&&L()}),[M]),i.createElement(o.A,{className:"col-md-12"},i.createElement(c.A,null,i.createElement("div",{className:"col-md-12 margin-10-top"},i.createElement(O,{mailboxesTotal:E.total,refreshMailboxes:L})),i.createElement("div",{className:"col-md-12 margin-10-top"},i.createElement(q,{mailboxes:n,mailboxesTotal:E.total,recordsPerPage:25,isLoading:d,filter:w,handlePageClick:function(e){var t=Math.ceil(25*e.selected);x(D(D({},R),{},{offset:t}))},handleChangeSort:function(e,t){var n=C;3===n.length&&n.pop();var l={field:"".concat(e),order:"".concat(t)};k([l].concat((0,a.A)(n)))},handleChangeFilter:function(e,t){b(D(D({},w),{},(0,l.A)({},e,t))),z()},handleKeyUp:function(e){13===e.keyCode&&z()}}))))}},93913:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(96540);const l=function(e){return a.createElement("tbody",null,e.children)}}}]);