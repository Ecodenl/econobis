"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[8303],{68303:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var o=a(15671),r=a(43144),n=a(97326),l=a(60136),c=a(82963),s=a(61120),m=a(4942),i=a(67294),u=a(13550),f=a(6479),d=a(61409);const h=function(e){(0,l.Z)(v,e);var t,a,h=(t=v,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,s.Z)(t);if(a){var r=(0,s.Z)(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return(0,c.Z)(this,e)});function v(e){var t;return(0,o.Z)(this,v),t=h.call(this,e),(0,m.Z)((0,n.Z)(t),"handleInputChange",(function(e){var a=e.target,o=a.value,r=a.name;t.setState((0,m.Z)({},r,o))})),(0,m.Z)((0,n.Z)(t),"handleSubmit",(function(e){e.preventDefault(),u.Z.confirmTwoFactor({code:t.state.twoFactorCode}).then((function(e){localStorage.setItem("two_factor_token",e.data.token),d.nA.push("/")})).catch((function(){t.setState({twoFactorCode:"",errorMessage:"Ongeldige code."})}))})),(0,m.Z)((0,n.Z)(t),"handleCancel",(function(e){e.preventDefault(),localStorage.removeItem("auth_token"),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("userId"),localStorage.removeItem("userName"),localStorage.removeItem("last_activity"),localStorage.removeItem("last_activity"),localStorage.removeItem("two_factor_token"),d.nA.push("/login")})),t.state={twoFactorCode:"",errorMessage:""},t}return(0,r.Z)(v,[{key:"renderAlert",value:function(){if(this.state.errorMessage)return i.createElement("div",{className:"col-sm-10 col-md-offset-1 alert alert-danger login-alert"},this.state.errorMessage)}},{key:"render",value:function(){return i.createElement("div",{className:"col-md-4 col-sm-8 col-xs-10 login-form"},i.createElement("div",{className:"panel panel-default add"},i.createElement("div",{className:"panel-body"},i.createElement("div",{className:"text-center"},i.createElement(f.Z,{height:"150px"})),i.createElement("form",{onSubmit:this.handleSubmit},i.createElement("div",{className:"row margin-10-top"},i.createElement("div",{className:"col-sm-10 col-md-offset-1"},"Geef de twee factor code in die je in je authenticator app hebt gekregen.")),i.createElement("div",{className:"row margin-10-top"},i.createElement("div",{className:"col-sm-10 col-md-offset-1"},i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"username",className:"control-label"},"Twee factor code"),i.createElement("input",{type:"text",name:"twoFactorCode",value:this.state.twoFactorCode,className:"form-control",placeholder:"",onChange:this.handleInputChange,autoComplete:"off",autoFocus:!0}))),this.renderAlert()),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-sm-10 col-md-offset-1"},i.createElement(d.rU,{to:"two-factor/recover",className:"link-underline"},"Gebruik herstelcode"),i.createElement("div",{className:"pull-right"},i.createElement("button",{type:"button",className:"btn btn-default",onClick:this.handleCancel},"Annuleren"),i.createElement("button",{type:"submit",className:"btn btn-primary",style:{marginLeft:"5px"}},"Login"))))))))}}]),v}(i.Component)}}]);