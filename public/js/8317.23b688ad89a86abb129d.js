"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[8317],{64956:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(69265);const n={fetchPortalFreeFieldsPages:function(e,t,r){var n="".concat(URL_API,"/api/portal-free-fields-pages/grid");return a.Z.get(n,{params:{filters:JSON.stringify(e),sorts:JSON.stringify(t),limit:r.limit,offset:r.offset}})},fetchPortalFreeFieldsPageDetails:function(e){var t="".concat(URL_API,"/api/portal-free-fields-page/").concat(e);return a.Z.get(t).then((function(e){return e.data.data}))},peekFreeFieldsContacts:function(e){var t="".concat(URL_API,"/api/portal-free-fields-page/free-fields-contacts/").concat(e,"/peek-contacts");return a.Z.get(t)},deletePortalFreeFieldsPage:function(e){var t="".concat(URL_API,"/api/portal-free-fields-page/").concat(e,"/delete");return a.Z.post(t)},newPortalFreeFieldsPage:function(e){var t="".concat(URL_API,"/api/portal-free-fields-page");return a.Z.post(t,e).then((function(e){return e.data})).catch((function(e){console.log(e)}))},updatePortalFreeFieldsPage:function(e){return a.Z.post("".concat(URL_API,"/api/portal-free-fields-page/").concat(e.id,"/update"),e)},createPortalFreeFieldsField:function(e){var t="".concat(URL_API,"/api/portal-free-fields-page-field");return a.Z.post(t,e)},updatePortalFreeFieldsField:function(e,t){var r="".concat(URL_API,"/api/portal-free-fields-page-field/").concat(e);return a.Z.post(r,t)},deletePortalFreeFieldsField:function(e){var t="".concat(URL_API,"/api/portal-free-fields-page-field/").concat(e,"/delete");return a.Z.post(t)}}},13691:(e,t,r)=>{r.d(t,{Z:()=>l});var a=r(69265),n="setting";const l={fetchPortalSettings:function(e){var t="".concat(n,"/multiple").concat(e);return a.Z.get(t)},updatePortalSettings:function(e){var t="".concat(n);return a.Z.post(t,e)}}},58317:(e,t,r)=>{r.r(t),r.d(t,{default:()=>j});var a=r(29439),n=r(67294),l=r(15671),c=r(43144),o=r(97326),s=r(60136),i=r(82963),u=r(61120),p=r(4942),m=r(61409),f=r(48966),d=r.n(f),g=r(64956),v=r(9181),h=r(49332),P=r(14309),E=r(98688),Z=r(21606),b=r(85129);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){(0,p.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const N=function(e){(0,s.Z)(f,e);var t,r,a=(t=f,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,u.Z)(t);if(r){var n=(0,u.Z)(this).constructor;e=Reflect.construct(a,arguments,n)}else e=a.apply(this,arguments);return(0,i.Z)(this,e)});function f(e){var t;return(0,l.Z)(this,f),t=a.call(this,e),(0,p.Z)((0,o.Z)(t),"handleInputChange",(function(e){var r=e.target,a="checkbox"===r.type?r.checked:r.value,n=r.name;t.setState(R(R({},t.state),{},{portalFreeFieldsPage:R(R({},t.state.portalFreeFieldsPage),{},(0,p.Z)({},n,a))}))})),(0,p.Z)((0,o.Z)(t),"handleSubmit",(function(e){e.preventDefault();var r=t.state.portalFreeFieldsPage,a={},n={},l=!1;d().isEmpty(r.name+"")&&(a.name=!0,n.name="verplicht",l=!0),d().isEmpty(r.urlPageRef+"")&&(a.urlPageRef=!0,n.urlPageRef="verplicht",l=!0),null==r.urlPageRef||d().isEmpty(r.urlPageRef)||r.urlPageRef.match(/^[a-z-1-9]+$/)||(a.urlPageRef=!0,n.urlPageRef="Waarde ongeldig. Alleen kleine letters, cijfers en koppelteken (-) toegestaan.",l=!0),t.setState(R(R({},t.state),{},{errors:a,errorsMessage:n})),l||g.Z.newPortalFreeFieldsPage(r).then((function(e){m.nA.push("/vrije-velden-portaal-pagina")})).catch((function(e){console.log(e),alert("Er is iets mis gegaan met opslaan!")}))})),t.state={portalFreeFieldsPage:{name:"",isActive:!0,description:"",urlPageRef:""},errors:{name:!1,isActive:!1,description:!1,urlPageRef:!1},errorsMessage:{name:"",isActive:"",description:"",urlPageRef:""}},t}return(0,c.Z)(f,[{key:"render",value:function(){var e=this.state.portalFreeFieldsPage,t=e.name,r=e.isActive,a=e.description,l=e.urlPageRef;return n.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},n.createElement(P.Z,null,n.createElement(E.Z,null,n.createElement("div",{className:"row"},n.createElement(v.Z,{label:"Pagina naam",name:"name",value:t,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.name,errorMessage:this.state.errorsMessage.name}),n.createElement(Z.Z,{label:"Actief",name:"isActive",value:r,onChangeAction:this.handleInputChange,error:this.state.errors.isActive,errorMessage:this.state.errorsMessage.isActive})),n.createElement("div",{className:"row"},n.createElement(b.Z,{label:"Pagina beschrijving",name:"description",value:a,onChangeAction:this.handleInputChange,error:this.state.errors.description,errorMessage:this.state.errorsMessage.description})),n.createElement("div",{className:"row"},n.createElement(v.Z,{size:"col-sm-5",label:"Pagina referentie voor portaal url",name:"urlPageRef",value:l,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.urlPageRef,errorMessage:this.state.errorsMessage.urlPageRef,textToolTip:"Te gebruiken pagina referentie voor portaal url. Alleen kleine letters en koppelteken (-) toegestaan."})),n.createElement("div",{className:"row"},n.createElement("div",{className:"form-group col-sm-12"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-sm-3"},n.createElement("label",{htmlFor:"urlPageRefView",className:"col-sm-12"},"Portaal url")),n.createElement("div",{className:"col-sm-9",id:"urlPageRefView"},"https://".concat(this.props.portalUrl,"/#/vrije-velden/").concat(l)))))," ",n.createElement("hr",null)),n.createElement(E.Z,null,n.createElement("div",{className:"pull-right btn-group",role:"group"},n.createElement(h.Z,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}]),f}(n.Component);var y=r(55451);const A=function(){return n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-4"},n.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},n.createElement(y.Z,{iconName:"arrowLeft",onClickAction:m.mW.goBack}))),n.createElement("div",{className:"col-md-4"},n.createElement("h4",{className:"text-center margin-small"},"Nieuw vrije velden portaal pagina")),n.createElement("div",{className:"col-md-4"}))};var k=r(9669),w=r.n(k),O=r(13691);const j=function(){var e=(0,n.useState)(""),t=(0,a.Z)(e,2),r=t[0],l=t[1],c=(0,n.useState)(!0),o=(0,a.Z)(c,2),s=o[0],i=o[1];return(0,n.useEffect)((function(){!function(){i(!0);w().all([O.Z.fetchPortalSettings("?keys[]=portalUrl")]).then(w().spread((function(e){l(e.data.portalUrl),i(!1)}))).catch((function(){alert("Er is iets misgegaan met ophalen van het vrije veld."),i(!1)}))}()}),[]),s?n.createElement("div",null,"Gegevens aan het laden."):n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-9"},n.createElement("div",{className:"col-md-12 margin-10-top"},n.createElement(P.Z,null,n.createElement(E.Z,{className:"panel-small"},n.createElement(A,null)))),n.createElement("div",{className:"col-md-12 margin-10-top"},n.createElement(N,{portalUrl:r}))),n.createElement("div",{className:"col-md-3"}))}}}]);