(self.webpackChunkeco=self.webpackChunkeco||[]).push([[8354],{58354:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>T});var r=a(67294),o=a(15671),n=a(43144),s=a(97326),l=a(60136),i=a(82963),c=a(61120),u=a(4942),d=a(37974),p=a(58492),m=a.n(p),g=a(61409),f=a(30381),h=a.n(f),b=a(48966),v=a.n(b),x=a(49332),S=a(9181),E=a(85129),I=a(14309),y=a(98688),w=a(778),C=a(80011),Z=a(96207),N=a(60813),k=a(82084),_=a(85016);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){(0,u.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}h().locale("nl");var P=function(e){(0,l.Z)(p,e);var t,a,d=(t=p,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(a){var o=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return(0,i.Z)(this,e)});function p(e){var t;return(0,o.Z)(this,p),t=d.call(this,e),(0,u.Z)((0,s.Z)(t),"callFetchContactGroups",(function(){t.setState({contactGroupsLoading:!0}),N.Z.peekContactGroups().then((function(e){t.setState({contactGroupsLoading:!1,contactGroups:e})})).catch((function(e){t.setState({contactGroupsLoading:!1})}))})),(0,u.Z)((0,s.Z)(t),"closeUploadImage",(function(){t.setState({showModalUploadImage:!1})})),(0,u.Z)((0,s.Z)(t),"toggleUploadImage",(function(e){t.props.permissions.managePortalSettings&&t.setState({showModalUploadImage:!t.state.showModalUploadImage,imageItemName:e})})),(0,u.Z)((0,s.Z)(t),"addImage",(function(e,a,r){t.setState(O(O({},t.state),{},{image:e[0],showModalCropImage:!0,useAutoCropper:r}))})),(0,u.Z)((0,s.Z)(t),"closeShowCrop",(function(){t.setState({showModalCropImage:!1})})),(0,u.Z)((0,s.Z)(t),"cropImage",(function(e){t.setState(O(O({},t.state),{},{widget:O(O({},t.state.widget),{},{image:e,widgetImageFileName:e.name}),showModalCropImage:!1}))})),(0,u.Z)((0,s.Z)(t),"handleInputChange",(function(e){var a=e.target,r="checkbox"===a.type?a.checked:a.value,o=a.name;t.setState(O(O({},t.state),{},{widget:O(O({},t.state.widget),{},(0,u.Z)({},o,r))}))})),(0,u.Z)((0,s.Z)(t),"handleReactSelectChange",(function(e,a){t.setState(O(O({},t.state),{},{widget:O(O({},t.state.widget),{},(0,u.Z)({},a,e))}))})),(0,u.Z)((0,s.Z)(t),"handleSubmit",(function(e){e.preventDefault();var a=t.state.widget,r={},o={},n=!1;if(v().isEmpty(a.title)&&(r.title=!0,o.title="Titel verplicht veld.",n=!0),v().isEmpty(a.text)&&(r.text=!0,o.text="Tekst verplicht veld.",n=!0),v().isEmpty(a.widgetImageFileName)&&(r.image=!0,o.image="Afbeelding verplicht veld.",n=!0),v().isEmpty(a.buttonText)&&(r.buttonText=!0,o.buttonText="Knoptekst verplicht veld.",n=!0),v().isEmpty(a.buttonLink)&&(r.buttonLink=!0,o.buttonLink="Knoplink verplicht veld.",n=!0),t.setState(O(O({},t.state),{},{errors:r,errorMessage:o})),!n){var s=new FormData;s.append("portalSettingsDashboardId",a.portalSettingsDashboardId),s.append("title",a.title),s.append("text",a.text),s.append("image",a.image),s.append("buttonText",a.buttonText),s.append("buttonLink",a.buttonLink),s.append("widgetImageFileName",a.widgetImageFileName),s.append("showGroupId",a.showGroupId),s.append("hideGroupId",a.hideGroupId),s.append("backgroundColor",a.backgroundColor),s.append("textColor",a.textColor),t.setState(O(O({},t.state),{},{errors:r})),Z.Z.addPortalSettingsDashboardWidget(s).then((function(e){g.nA.push("/portal-instellingen-dashboard")})).catch((function(e){console.log(e),alert("Er is iets mis gegaan met opslaan!")}))}})),t.state={widget:{portalSettingsDashboardId:1,title:"",text:"",image:"",widgetImageFileName:"",showGroupId:"",hideGroupId:"",buttonText:"",buttonLink:"",backgroundColor:"",textColor:"",active:!0},contactGroups:{},contactGroupsLoading:!1,image:"",imageItemName:"",showModalUploadImage:!1,showModalCropImage:!1,useAutoCropper:!0,errors:{title:!1,text:!1,image:!1,showGroupId:!1,hideGroupId:!1,buttonText:!1,buttonLink:!1,widgetImageFileName:!1,backgroundColor:!1,textColor:!1},errorMessage:{}},t}return(0,n.Z)(p,[{key:"componentDidMount",value:function(){this.callFetchContactGroups()}},{key:"render",value:function(){var e=this,t=this.state,a=t.widget,o=t.errors,n=t.errorMessage,s="".concat(URL_API,"/portal/images/").concat(a.widgetImageFileName,"?").concat(this.props.imageHash),l=this.props.permissions.managePortalSettings,i=void 0===l?{}:l;return r.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},r.createElement(I.Z,null,r.createElement(y.Z,null,r.createElement("div",{className:"row"},r.createElement(S.Z,{label:"Titel",divSize:"col-sm-8",name:"title",value:a.title,onChangeAction:this.handleInputChange,readOnly:!i,required:"required",error:o.title,errorMessage:n.title})),r.createElement("div",{className:"row"},r.createElement(S.Z,{label:"Afbeelding (bestandstype PNG of JPG)",divSize:"col-sm-8",name:"widgetImageFileName",value:a.image?a.image.name:a.widgetImageFileName,onClickAction:function(){e.toggleUploadImage("image-widget")},onChangeaction:function(){},readOnly:!i,required:"required",error:this.state.errors.widgetImageFileName}),r.createElement(m(),{src:a.image&&a.image.preview?a.image.preview:s,style:{border:"1px solid #999",display:"inline-block",padding:"1px",borderRadius:"1px",maxHeight:"50px",width:"auto",marginLeft:"20px",marginBottom:"10px",boxShadow:"0 0 0 1px #fff inset"}})),r.createElement("div",{className:"row"},r.createElement(E.Z,{label:"Tekst",size:"col-sm-8",sizeLabel:"col-sm-6",sizeInput:"col-sm-6",name:"text",value:a.text,onChangeAction:this.handleInputChange,readOnly:!i,required:"required",error:o.text,errorMessage:n.text})),r.createElement("div",{className:"row"},r.createElement(S.Z,{label:"Knoptekst",divSize:"col-sm-8",name:"buttonText",value:a.buttonText,onChangeAction:this.handleInputChange,readOnly:!i,required:"required",error:o.buttonText,errorMessage:n.buttonText})),r.createElement("div",{className:"row"},r.createElement(S.Z,{label:"Knoplink",divSize:"col-sm-8",name:"buttonLink",value:a.buttonLink,onChangeAction:this.handleInputChange,readOnly:!i,required:"required",error:o.buttonLink,errorMessage:n.buttonLink})),r.createElement("div",{className:"row"},r.createElement(k.Z,{label:"Zichtbaar voor groep",divSize:"col-sm-8",name:"showGroupId",options:this.state.contactGroups,value:a.showGroupId,onChangeAction:this.handleReactSelectChange,isLoading:this.state.contactGroupsLoading})),r.createElement("div",{className:"row"},r.createElement(k.Z,{label:"Verborgen voor groep",divSize:"col-sm-8",name:"hideGroupId",options:this.state.contactGroups,value:a.hideGroupId,onChangeAction:this.handleReactSelectChange,isLoading:this.state.contactGroupsLoading})),r.createElement("div",{className:"row"},r.createElement(_.Z,{label:"Widget achtergrond kleur",divSize:"col-sm-8",name:"backgroundColor",value:a.backgroundColor,onChangeAction:this.handleInputChange,readOnly:!i,required:"required",error:this.state.errors.backgroundColor}),r.createElement("span",{className:"rc-color-picker-trigger",unselectable:"unselectable",style:{backgroundColor:a.backgroundColor,color:a.textColor,border:"1px solid #999",display:"inline-block",padding:"2px",borderRadius:"2px",width:"150px",height:"30px",boxShadow:"0 0 0 2px #fff inset"}},"Widget tekst")),r.createElement("div",{className:"row"},r.createElement(_.Z,{label:"Widget tekst kleur",divSize:"col-sm-8",name:"textColor",value:a.textColor,onChangeAction:this.handleInputChange,readOnly:!i,required:"required",error:this.state.errors.textColor})),this.state.showModalUploadImage&&r.createElement(C.Z,{closeUploadImage:this.closeUploadImage,addImage:this.addImage,imageItemName:this.state.imageItemName,acceptedFiles:["image/png","image/jpeg"],acceptedExtenties:"PNG of JPG"}),this.state.showModalCropImage&&r.createElement(w.Z,{closeShowCrop:this.closeShowCrop,useAutoCropper:this.state.useAutoCropper,image:this.state.image,imageItemName:this.state.imageItemName,cropImage:this.cropImage})),r.createElement(y.Z,null,r.createElement("div",{className:"pull-right btn-group",role:"group"},r.createElement(x.Z,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}]),p}(r.Component);const A=(0,d.$j)((function(e){return{permissions:e.meDetails.permissions}}),null)(P);var G=a(55451);const L=function(){return r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-4"},r.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},r.createElement(G.Z,{iconName:"arrowLeft",onClickAction:g.mW.goBack}))),r.createElement("div",{className:"col-md-4"},r.createElement("h4",{className:"text-center margin-small"},"Nieuw dashboard widget")),r.createElement("div",{className:"col-md-4"}))},T=function(){return r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-9"},r.createElement("div",{className:"col-md-12 margin-10-top"},r.createElement(I.Z,null,r.createElement(y.Z,{className:"panel-small"},r.createElement(L,null)))),r.createElement("div",{className:"col-md-12 margin-10-top"},r.createElement(A,null))),r.createElement("div",{className:"col-md-3"}))}},58492:(e,t,a)=>{"use strict";var r=a(82569);t.__esModule=!0,t.default=void 0;var o=r(a(66660)),n=r(a(50914)),s=r(a(69471)),l=r(a(94184)),i=r(a(67294)),c=r(a(45697)),u=a(38078),d={responsive:c.default.bool,rounded:c.default.bool,circle:c.default.bool,thumbnail:c.default.bool},p=function(e){function t(){return e.apply(this,arguments)||this}return(0,s.default)(t,e),t.prototype.render=function(){var e,t=this.props,a=t.responsive,r=t.rounded,s=t.circle,c=t.thumbnail,d=t.className,p=(0,n.default)(t,["responsive","rounded","circle","thumbnail","className"]),m=(0,u.splitBsProps)(p),g=m[0],f=m[1],h=((e={})[(0,u.prefix)(g,"responsive")]=a,e[(0,u.prefix)(g,"rounded")]=r,e[(0,u.prefix)(g,"circle")]=s,e[(0,u.prefix)(g,"thumbnail")]=c,e);return i.default.createElement("img",(0,o.default)({},f,{className:(0,l.default)(d,h)}))},t}(i.default.Component);p.propTypes=d,p.defaultProps={responsive:!1,rounded:!1,circle:!1,thumbnail:!1};var m=(0,u.bsClass)("img",p);t.default=m,e.exports=t.default},55670:(e,t)=>{"use strict";t.__esModule=!0,t.Style=t.State=t.DEVICE_SIZES=t.SIZE_MAP=t.Size=void 0,t.Size={LARGE:"large",SMALL:"small",XSMALL:"xsmall"},t.SIZE_MAP={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"},t.DEVICE_SIZES=["lg","md","sm","xs"],t.State={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},t.Style={DEFAULT:"default",PRIMARY:"primary",LINK:"link",INVERSE:"inverse"}},38078:(e,t,a)=>{"use strict";var r=a(82569);t.__esModule=!0,t.prefix=c,t.getClassSet=function(e){var t,a=((t={})[c(e)]=!0,t);return e.bsSize&&(a[c(e,l.SIZE_MAP[e.bsSize]||e.bsSize)]=!0),e.bsStyle&&(a[c(e,e.bsStyle)]=!0),a},t.splitBsProps=function(e){var t={};return(0,o.default)(e).forEach((function(e){var a=e[0],r=e[1];g(a)||(t[a]=r)})),[m(e),t]},t.splitBsPropsAndOmit=function(e,t){var a={};t.forEach((function(e){a[e]=!0}));var r={};return(0,o.default)(e).forEach((function(e){var t=e[0],o=e[1];g(t)||a[t]||(r[t]=o)})),[m(e),r]},t.addStyle=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];d(a)(e)},t._curry=t.bsSizes=t.bsStyles=t.bsClass=void 0;var o=r(a(43562)),n=r(a(66660)),s=(r(a(41143)),r(a(45697))),l=a(55670);function i(e){return function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return"function"==typeof a[a.length-1]?e.apply(void 0,a):function(t){return e.apply(void 0,a.concat([t]))}}}function c(e,t){var a=(e.bsClass||"").trim();return null==a&&invariant(!1),a+(t?"-"+t:"")}var u=i((function(e,t){var a=t.propTypes||(t.propTypes={}),r=t.defaultProps||(t.defaultProps={});return a.bsClass=s.default.string,r.bsClass=e,t}));t.bsClass=u;var d=i((function(e,t,a){"string"!=typeof t&&(a=t,t=void 0);var r=a.STYLES||[],o=a.propTypes||{};e.forEach((function(e){-1===r.indexOf(e)&&r.push(e)}));var l=s.default.oneOf(r);return a.STYLES=r,l._values=r,a.propTypes=(0,n.default)({},o,{bsStyle:l}),void 0!==t&&((a.defaultProps||(a.defaultProps={})).bsStyle=t),a}));t.bsStyles=d;var p=i((function(e,t,a){"string"!=typeof t&&(a=t,t=void 0);var r=a.SIZES||[],o=a.propTypes||{};e.forEach((function(e){-1===r.indexOf(e)&&r.push(e)}));var i=[];r.forEach((function(e){var t=l.SIZE_MAP[e];t&&t!==e&&i.push(t),i.push(e)}));var c=s.default.oneOf(i);return c._values=i,a.SIZES=r,a.propTypes=(0,n.default)({},o,{bsSize:c}),void 0!==t&&(a.defaultProps||(a.defaultProps={}),a.defaultProps.bsSize=t),a}));function m(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function g(e){return"bsClass"===e||"bsSize"===e||"bsStyle"===e||"bsRole"===e}t.bsSizes=p;var f=i;t._curry=f},66660:(e,t,a)=>{var r=a(68207);function o(){return e.exports=o=r?r.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,o.apply(this,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},69471:(e,t,a)=>{var r=a(25380),o=a(58791);e.exports=function(e,t){e.prototype=r(t.prototype),e.prototype.constructor=e,o(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},82569:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},50914:(e,t,a)=>{var r=a(15297);e.exports=function(e,t){if(null==e)return{};var a,o,n={},s=r(e);for(o=0;o<s.length;o++)a=s[o],t.indexOf(a)>=0||(n[a]=e[a]);return n},e.exports.__esModule=!0,e.exports.default=e.exports},58791:(e,t,a)=>{var r=a(21900);function o(t,a){return e.exports=o=r?r.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,o(t,a)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}}]);