"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[8360],{2498:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(69265),r="".concat(URL_API,"/api/organisation");const s={newOrganisation:function(e){var t="".concat(r);return n.Z.post(t,e)},updateOrganisation:function(e){var t="".concat(r,"/").concat(e.id);return n.Z.post(t,e)},getOrganisationPeek:function(){var e="".concat(r,"/peek");return n.Z.get(e).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))}}},48861:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(69265),r="".concat(URL_API,"/api/person");const s={newPerson:function(e){var t="".concat(r);return n.Z.post(t,e)},updatePerson:function(e){var t="".concat(r,"/").concat(e.id);return n.Z.post(t,e)},getPersonPeek:function(){var e="".concat(r,"/peek");return n.Z.get(e).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))},makePrimary:function(e){var t="".concat(r,"/").concat(e.id);return n.Z.post(t,e).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))}}},48360:(e,t,a)=>{a.r(t),a.d(t,{default:()=>X});var n=a(67294),r=a(15671),s=a(43144),o=a(60136),i=a(82963),l=a(61120),c=a(61409),m=a(55451),u=a(14309),d=a(98688);const p=function(e){(0,o.Z)(h,e);var t,a,p=(t=h,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var r=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return(0,i.Z)(this,e)});function h(e){return(0,r.Z)(this,h),p.call(this,e)}return(0,s.Z)(h,[{key:"render",value:function(){return n.createElement("div",{className:"row"},n.createElement(u.Z,null,n.createElement(d.Z,{className:"panel-small"},n.createElement("div",{className:"col-md-4"},n.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},n.createElement(m.Z,{iconName:"arrowLeft",onClickAction:c.mW.goBack}))),n.createElement("div",{className:"col-md-4"},n.createElement("h4",{className:"text-center margin-small"},"Nieuw contact")),n.createElement("div",{className:"col-md-4"}))))}}]),h}(n.Component);var h=a(97326),f=a(4942),g=a(86706),y=a(30381),v=a.n(y),E=a(48966),b=a.n(E),Z=a(48861),C=a(9181),I=a(71840),N=a(54138),A=a(49332),w=a(25626),P=a(21606),k=a(80720);var O=function(e){(0,o.Z)(m,e);var t,a,c=(t=m,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var r=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return(0,i.Z)(this,e)});function m(e){return(0,r.Z)(this,m),c.call(this,e)}return(0,s.Z)(m,[{key:"render",value:function(){var e=this.props.address,t=e.street,a=e.number,r=e.addition,s=e.postalCode,o=e.city,i=e.typeId,l=e.endDate,c=e.primary,m=e.countryId;return n.createElement(u.Z,{className:"panel-grey"},n.createElement(d.Z,null,n.createElement("div",{className:"row"},n.createElement(C.Z,{label:"Postcode",size:"col-sm-4",name:"postalCode",value:s,onChangeAction:this.props.handleInputLvbagChange,required:"required",error:this.props.errors.postalCode}),n.createElement("div",{className:"form-group col-sm-6"},n.createElement("label",{htmlFor:"number",className:"col-sm-6 required"},"Nummer"),n.createElement("div",{className:"col-sm-4"},n.createElement("input",{type:"number",className:"form-control input-sm "+(this.props.errors.number?"has-error":""),id:"number",name:"number",value:a,onChange:this.props.handleInputLvbagChange})),n.createElement("div",{className:"col-sm-2"},n.createElement("input",{type:"text",className:"form-control input-sm",id:"addition",name:"addition",value:r,onChange:this.props.handleInputChange})))),n.createElement("div",{className:"row"},n.createElement(C.Z,{label:"Adres",id:"adres",size:"col-sm-6",name:"street",value:t,onChangeAction:this.props.handleInputChange}),n.createElement(C.Z,{label:"Plaats",id:"plaats",size:"col-sm-6",name:"city",value:o,onChangeAction:this.props.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(I.Z,{label:"Type",id:"type",size:"col-sm-6",name:"typeId",options:this.props.addressTypes,value:i,onChangeAction:this.props.handleInputChange,required:"required",error:this.props.errors.typeId}),"old"===i?n.createElement(N.Z,{label:"Eind datum",name:"endDate",value:l,onChangeAction:this.props.handleInputChangeDate,error:this.props.errors.endDate}):null),n.createElement("div",{className:"row"},n.createElement(I.Z,{label:"Land",id:"countryId",size:"col-sm-6",name:"countryId",options:this.props.countries,value:m,onChangeAction:this.props.handleInputChange,error:this.props.errors.countryId}),n.createElement(P.Z,{label:"Primair adres",name:"primary",value:c,onChangeAction:this.props.handleInputChange}))))}}]),m}(n.Component);const D=(0,g.$j)((function(e){return{addressTypes:e.systemData.addressTypes,countries:e.systemData.countries}}))(O);var S=function(e){(0,o.Z)(m,e);var t,a,c=(t=m,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var r=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return(0,i.Z)(this,e)});function m(e){return(0,r.Z)(this,m),c.call(this,e)}return(0,s.Z)(m,[{key:"render",value:function(){var e=this.props.emailAddress,t=e.email,a=e.typeId,r=e.primary;return n.createElement(u.Z,{className:"panel-grey"},n.createElement(d.Z,null,n.createElement("div",{className:"row"},n.createElement(C.Z,{label:"E-mail",id:"email",size:"col-sm-6",name:"email",value:t,onChangeAction:this.props.handleInputChange,required:"required",error:this.props.errors.email}),n.createElement(I.Z,{label:"Type",id:"type",size:"col-sm-6",name:"typeId",options:this.props.emailAddressTypes,value:a,onChangeAction:this.props.handleInputChange,required:"required",error:this.props.errors.typeId})),n.createElement("div",{className:"row"},n.createElement(P.Z,{label:"Primair e-mailadres",name:"primary",value:r,onChangeAction:this.props.handleInputChange}))))}}]),m}(n.Component);const x=(0,g.$j)((function(e){return{emailAddressTypes:e.systemData.emailAddressTypes}}))(S);var z=function(e){(0,o.Z)(m,e);var t,a,c=(t=m,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var r=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return(0,i.Z)(this,e)});function m(e){return(0,r.Z)(this,m),c.call(this,e)}return(0,s.Z)(m,[{key:"render",value:function(){var e=this.props.phoneNumber,t=e.number,a=e.typeId,r=e.primary;return n.createElement(u.Z,{className:"panel-grey"},n.createElement(d.Z,null,n.createElement("div",{className:"row"},n.createElement(C.Z,{label:"Nummer",size:"col-sm-6",name:"number",value:t,onChangeAction:this.props.handleInputChange,required:"required",error:this.props.errors.number}),n.createElement(I.Z,{label:"Type",size:"col-sm-6",name:"typeId",options:this.props.phoneNumberTypes,value:a,onChangeAction:this.props.handleInputChange,required:"required",error:this.props.errors.typeId})),n.createElement("div",{className:"row"},n.createElement(P.Z,{label:"Primair telefoonnummer",name:"primary",value:r,onChangeAction:this.props.handleInputChange}))))}}]),m}(n.Component);const R=(0,g.$j)((function(e){return{phoneNumberTypes:e.systemData.phoneNumberTypes}}))(z);var T=a(85388),q=a(41355);const L=function(e){(0,o.Z)(m,e);var t,a,c=(t=m,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var r=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return(0,i.Z)(this,e)});function m(e){return(0,r.Z)(this,m),c.call(this,e)}return(0,s.Z)(m,[{key:"render",value:function(){return n.createElement(q.Z,{modalClassName:"modal-lg",buttonConfirmText:"Aanmaken",closeModal:this.props.closeModal,confirmAction:this.props.confirmAction,title:"Duplicaat gevonden"},n.createElement("span",null,this.props.duplicateText))}}]),m}(n.Component);a(82084);var j=a(97894),B=a(96497),H=a(32042);function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){(0,f.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $=function(e){(0,o.Z)(u,e);var t,a,m=(t=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var r=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return(0,i.Z)(this,e)});function u(e){var t;return(0,r.Z)(this,u),t=m.call(this,e),(0,f.Z)((0,h.Z)(t),"toggleAddress",(function(){t.setState({showAddress:!t.state.showAddress})})),(0,f.Z)((0,h.Z)(t),"toggleEmail",(function(){t.setState({showEmail:!t.state.showEmail})})),(0,f.Z)((0,h.Z)(t),"togglePhone",(function(){t.setState({showPhone:!t.state.showPhone})})),(0,f.Z)((0,h.Z)(t),"toggleShowConfirmDuplicate",(function(){t.setState({showConfirmDuplicate:!t.state.showConfirmDuplicate,buttonLoading:!1})})),(0,f.Z)((0,h.Z)(t),"addressHandleInputLvbagChange",(function(e){var a=e.target,n="checkbox"===a.type?a.checked:a.value,r=a.name;t.setState(U(U({},t.state),{},{address:U(U({},t.state.address),{},(0,f.Z)({},r,n))})),setTimeout((function(){var e=t.state.address;!b().isEmpty(e.postalCode)&&b().isPostalCode(e.postalCode,"NL")&&!b().isEmpty(e.number)&&b().isEmpty(e.city)&&b().isEmpty(e.street)&&T.Z.getLvbagAddress(e.postalCode,e.number).then((function(e){t.setState(U(U({},t.state),{},{address:U(U({},t.state.address),{},{street:e.street,city:e.city})}))}))}),100)})),(0,f.Z)((0,h.Z)(t),"addressHandleInputChange",(function(e){var a=e.target,n="checkbox"===a.type?a.checked:a.value,r=a.name;t.setState(U(U({},t.state),{},{address:U(U({},t.state.address),{},(0,f.Z)({},r,n))}))})),(0,f.Z)((0,h.Z)(t),"addressHandleInputChangeDate",(function(e,a){t.setState(U(U({},t.state),{},{address:U(U({},t.state.address),{},(0,f.Z)({},a,e))}))})),(0,f.Z)((0,h.Z)(t),"emailAddressHandleInputChange",(function(e){var a=e.target,n="checkbox"===a.type?a.checked:a.value,r=a.name;t.setState(U(U({},t.state),{},{emailAddress:U(U({},t.state.emailAddress),{},(0,f.Z)({},r,n))}))})),(0,f.Z)((0,h.Z)(t),"phoneHandleInputChange",(function(e){var a=e.target,n="checkbox"===a.type?a.checked:a.value,r=a.name;t.setState(U(U({},t.state),{},{phoneNumber:U(U({},t.state.phoneNumber),{},(0,f.Z)({},r,n))}))})),(0,f.Z)((0,h.Z)(t),"handleInputChange",(function(e){var a=e.target,n="checkbox"===a.type?a.checked:a.value,r=a.name;t.setState(U(U({},t.state),{},{person:U(U({},t.state.person),{},(0,f.Z)({},r,n))}))})),(0,f.Z)((0,h.Z)(t),"handleInputChangeDate",(function(e,a){t.setState(U(U({},t.state),{},{person:U(U({},t.state.person),{},(0,f.Z)({},a,e))}))})),(0,f.Z)((0,h.Z)(t),"confirmDuplicate",(function(){t.handleSubmit("dontCheckDuplicates")})),(0,f.Z)((0,h.Z)(t),"handleSubmit",(function(e){var a=!0;"dontCheckDuplicates"===e?a=!1:e&&e.preventDefault();var n=t.state.person,r={},s=!1;b().isEmpty(n.firstName)&&b().isEmpty(n.lastName)&&(r.name=!0,s=!0);var o=t.state.address;o.postalCode&&(o.postalCode=o.postalCode.toUpperCase());var i={};if(!b().isEmpty(o.postalCode)){var l=o.countryId;b().isEmpty(o.countryId+"")&&(l="NL"),b().isEmpty(o.postalCode+"")||("NL"==l?b().isPostalCode(o.postalCode,"NL"):b().isPostalCode(o.postalCode,"any"))||(i.postalCode=!0,i.countryId=!0,s=!0),b().isEmpty(o.number)&&(i.number=!0,s=!0),b().isEmpty(o.typeId)&&(i.typeId=!0,s=!0)}var m=t.state.phoneNumber,u={};b().isEmpty(m.number)||(b().isEmpty(m.number)&&(u.number=!0,s=!0),b().isEmpty(m.typeId)&&(u.typeId=!0,s=!0));var d=t.state.emailAddress,p={};if(b().isEmpty(d.email)||(b().isEmail(d.email)||(p.email=!0,s=!0),b().isEmpty(d.typeId)&&(p.typeId=!0,s=!0)),t.setState(U(U({},t.state),{},{errors:r,addressErrors:i,phoneErrors:u,emailErrors:p})),!s){if(t.state.buttonLoading)return!1;t.setState({buttonLoading:!0}),Z.Z.newPerson({person:n,address:o,emailAddress:d,phoneNumber:m,checkDuplicates:a}).then((function(e){c.nA.push("/contact/".concat(e.data.data.id))})).catch((function(e){409===e.response.status&&(t.setState(U(U({},t.state),{},{duplicateText:e.response.data.message})),t.toggleShowConfirmDuplicate())}))}})),t.state={lastNamePrefixes:[],users:[],titles:[],inspectionPersonTypes:[],buttonLoading:!1,showAddress:!0,showEmail:!0,showPhone:!0,showConfirmDuplicate:!1,duplicateText:"",person:{id:"",number:"",createdAt:"",titleId:"",initials:"",firstName:"",lastNamePrefixId:"",lastName:"",memberSince:"",memberUntil:"",dateOfBirth:"",ownerId:e.userId,didAgreeAvg:!1,inspectionPersonTypeId:"",hoomAccountId:""},address:{street:"",number:"",addition:"",postalCode:"",city:"",typeId:"visit",endDate:"",primary:!0,countryId:""},emailAddress:{email:"",typeId:"home",primary:!0},phoneNumber:{number:"",typeId:"home",primary:!0},errors:{name:!1},addressErrors:{typeId:!1,endDate:!1,postalCode:!1,number:!1,countryId:!1},emailErrors:{typeId:!1,email:!1},phoneErrors:{typeId:!1,number:!1}},t}return(0,s.Z)(u,[{key:"render",value:function(){var e=this.state.person,t=e.titleId,a=e.initials,r=e.firstName,s=e.lastNamePrefixId,o=e.lastName,i=(e.memberSince,e.dateOfBirth),l=e.ownerId,c=e.didAgreeAvg;return e.inspectionPersonTypeId,e.hoomAccountId,n.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},n.createElement("div",{className:"row"},n.createElement(C.Z,{label:"Contactnummer",name:"number",readOnly:!0,value:""}),n.createElement(C.Z,{label:"Gemaakt op",name:"createdAt",value:v()().format("DD-MM-Y"),readOnly:!0})),n.createElement("div",{className:"row"},n.createElement(I.Z,{label:"Aanspreektitel",name:"titleId",options:this.props.titles,value:t,onChangeAction:this.handleInputChange}),n.createElement(N.Z,{label:"Geboortedatum",name:"dateOfBirth",value:i,onChangeAction:this.handleInputChangeDate})),n.createElement("div",{className:"row"},n.createElement(C.Z,{label:"Voorletters",size:"col-sm-6",name:"initials",value:a,onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(C.Z,{label:"Voornaam",size:"col-sm-6",name:"firstName",value:r,onChangeAction:this.handleInputChange,required:""===o&&"required",error:this.state.errors.name})),n.createElement("div",{className:"row"},n.createElement(I.Z,{label:"Tussenvoegsel",name:"lastNamePrefixId",options:this.props.lastNamePrefixes,value:s,onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(C.Z,{label:"Achternaam",size:"col-sm-6",name:"lastName",value:o,onChangeAction:this.handleInputChange,required:""===r&&"required",error:this.state.errors.name})),n.createElement("div",{className:"row"},n.createElement(I.Z,{label:"Eigenaar",size:"col-sm-6",name:"ownerId",options:this.props.users,value:l,optionName:"fullName",onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(P.Z,{label:"Akkoord privacybeleid",name:"didAgreeAvg",value:c,onChangeAction:this.handleInputChange})),n.createElement("div",{className:"margin-10-top"},n.createElement(k.Z,null,n.createElement("div",{className:"row",onClick:this.toggleAddress},this.state.showAddress?n.createElement(j.ZP,{size:21,icon:H.z}):n.createElement(j.ZP,{size:21,icon:B.n}),n.createElement("span",{className:"h5"},"Adres"))),this.state.showAddress&&n.createElement(D,{address:this.state.address,errors:this.state.addressErrors,handleInputLvbagChange:this.addressHandleInputLvbagChange,handleInputChange:this.addressHandleInputChange,handleInputChangeDate:this.addressHandleInputChangeDate})),n.createElement("div",{className:"margin-10-top"},n.createElement(k.Z,null,n.createElement("div",{className:"row",onClick:this.toggleEmail},this.state.showEmail?n.createElement(j.ZP,{size:21,icon:H.z}):n.createElement(j.ZP,{size:21,icon:B.n}),n.createElement("span",{className:"h5"},"E-mail"))),this.state.showEmail&&n.createElement(x,{emailAddress:this.state.emailAddress,errors:this.state.emailErrors,handleInputChange:this.emailAddressHandleInputChange})),n.createElement("div",{className:"margin-10-top"},n.createElement(k.Z,null,n.createElement("div",{className:"row",onClick:this.togglePhone},this.state.showPhone?n.createElement(j.ZP,{size:21,icon:H.z}):n.createElement(j.ZP,{size:21,icon:B.n}),n.createElement("span",{className:"h5"},"Telefoonnummer"))),this.state.showPhone&&n.createElement(R,{phoneNumber:this.state.phoneNumber,errors:this.state.phoneErrors,handleInputChange:this.phoneHandleInputChange})),n.createElement(w.Z,null,n.createElement("div",{className:"pull-right btn-group",role:"group"},n.createElement(A.Z,{loading:this.state.buttonLoading,loadText:"Persoon wordt aangemaakt.",buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"}))),this.state.showConfirmDuplicate&&n.createElement(L,{closeModal:this.toggleShowConfirmDuplicate,confirmAction:this.confirmDuplicate,duplicateText:this.state.duplicateText}))}}]),u}(n.Component);const G=(0,g.$j)((function(e){return{lastNamePrefixes:e.systemData.lastNamePrefixes,users:e.systemData.users,titles:e.systemData.titles,inspectionPersonTypes:e.systemData.inspectionPersonTypes,userId:e.meDetails.id}}))($);var V=a(2498),K=a(59687);function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(Object(a),!0).forEach((function(t){(0,f.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _=function(e){(0,o.Z)(u,e);var t,a,m=(t=u,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var r=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return(0,i.Z)(this,e)});function u(e){var t;return(0,r.Z)(this,u),t=m.call(this,e),(0,f.Z)((0,h.Z)(t),"toggleAddress",(function(){t.setState({showAddress:!t.state.showAddress})})),(0,f.Z)((0,h.Z)(t),"toggleEmail",(function(){t.setState({showEmail:!t.state.showEmail})})),(0,f.Z)((0,h.Z)(t),"togglePhone",(function(){t.setState({showPhone:!t.state.showPhone})})),(0,f.Z)((0,h.Z)(t),"addressHandleInputLvbagChange",(function(e){var a=e.target,n="checkbox"===a.type?a.checked:a.value,r=a.name;t.setState(Y(Y({},t.state),{},{address:Y(Y({},t.state.address),{},(0,f.Z)({},r,n))})),setTimeout((function(){var e=t.state.address;!b().isEmpty(e.postalCode)&&b().isPostalCode(e.postalCode,"NL")&&!b().isEmpty(e.number)&&b().isEmpty(e.city)&&b().isEmpty(e.street)&&T.Z.getLvbagAddress(e.postalCode,e.number).then((function(e){t.setState(Y(Y({},t.state),{},{address:Y(Y({},t.state.address),{},{street:e.street,city:e.city})}))}))}),100)})),(0,f.Z)((0,h.Z)(t),"addressHandleInputChange",(function(e){var a=e.target,n="checkbox"===a.type?a.checked:a.value,r=a.name;t.setState(Y(Y({},t.state),{},{address:Y(Y({},t.state.address),{},(0,f.Z)({},r,n))}))})),(0,f.Z)((0,h.Z)(t),"addressHandleInputChangeDate",(function(e,a){t.setState(Y(Y({},t.state),{},{address:Y(Y({},t.state.address),{},(0,f.Z)({},a,e))}))})),(0,f.Z)((0,h.Z)(t),"emailAddressHandleInputChange",(function(e){var a=e.target,n="checkbox"===a.type?a.checked:a.value,r=a.name;t.setState(Y(Y({},t.state),{},{emailAddress:Y(Y({},t.state.emailAddress),{},(0,f.Z)({},r,n))}))})),(0,f.Z)((0,h.Z)(t),"phoneHandleInputChange",(function(e){var a=e.target,n="checkbox"===a.type?a.checked:a.value,r=a.name;t.setState(Y(Y({},t.state),{},{phoneNumber:Y(Y({},t.state.phoneNumber),{},(0,f.Z)({},r,n))}))})),(0,f.Z)((0,h.Z)(t),"handleInputChange",(function(e){var a=e.target,n="checkbox"===a.type?a.checked:a.value,r=a.name;t.setState(Y(Y({},t.state),{},{organisation:Y(Y({},t.state.organisation),{},(0,f.Z)({},r,n))}))})),(0,f.Z)((0,h.Z)(t),"handleInputChangeDate",(function(e,a){t.setState(Y(Y({},t.state),{},{organisation:Y(Y({},t.state.organisation),{},(0,f.Z)({},a,e))}))})),(0,f.Z)((0,h.Z)(t),"handleSubmit",(function(e){e.preventDefault();var a=t.state.organisation,n={},r=!1;b().isEmpty(a.name)&&(n.name=!0,r=!0),b().isEmpty(a.iban)||K.isValidIBAN(a.iban)||(n.iban=!0,r=!0);var s=t.state.address;s.postalCode&&(s.postalCode=s.postalCode.toUpperCase());var o={};if(!b().isEmpty(s.postalCode)){var i=s.countryId;b().isEmpty(s.countryId+"")&&(i="NL"),b().isEmpty(s.postalCode+"")||("NL"==i?b().isPostalCode(s.postalCode,"NL"):b().isPostalCode(s.postalCode,"any"))||(o.postalCode=!0,o.countryId=!0,r=!0),b().isEmpty(s.number)&&(o.number=!0,r=!0),b().isEmpty(s.typeId)&&(o.typeId=!0,r=!0)}var l=t.state.phoneNumber,m={};b().isEmpty(l.number)||(b().isEmpty(l.number)&&(m.number=!0,r=!0),b().isEmpty(l.typeId)&&(m.typeId=!0,r=!0));var u=t.state.emailAddress,d={};if(b().isEmpty(u.email)||(b().isEmail(u.email)||(d.email=!0,r=!0),b().isEmpty(u.typeId)&&(d.typeId=!0,r=!0)),t.setState(Y(Y({},t.state),{},{errors:n,addressErrors:o,phoneErrors:m,emailErrors:d})),!r){if(t.state.buttonLoading)return!1;t.setState({buttonLoading:!0}),V.Z.newOrganisation({organisation:a,address:s,emailAddress:u,phoneNumber:l}).then((function(e){c.nA.push("/contact/".concat(e.data.data.id))})).catch((function(e){409===e.response.status&&(t.setState(Y(Y({},t.state),{},{duplicateText:e.response.data.message})),t.toggleShowConfirmDuplicate())}))}})),t.state={buttonLoading:!1,showAddress:!0,showEmail:!0,showPhone:!0,showConfirmDuplicate:!1,duplicateText:"",organisation:{id:"",number:"",createdAt:"",name:"",statutoryName:"",chamberOfCommerceNumber:"",vatNumber:"",memberSince:"",memberUntil:"",website:"",iban:"",ibanAttn:"",ownerId:e.userId,didAgreeAvg:!1,inspectionPersonTypeId:""},address:{street:"",number:"",addition:"",postalCode:"",city:"",typeId:"visit",endDate:"",primary:!0,countryId:""},emailAddress:{email:"",typeId:"home",primary:!0},phoneNumber:{number:"",typeId:"home",primary:!0},errors:{name:!1,iban:!1},addressErrors:{typeId:!1,endDate:!1,postalCode:!1,number:!1,countryId:!1},emailErrors:{typeId:!1,email:!1},phoneErrors:{typeId:!1,number:!1}},t}return(0,s.Z)(u,[{key:"render",value:function(){var e=this.state.organisation,t=e.name,a=e.statutoryName,r=e.chamberOfCommerceNumber,s=e.vatNumber,o=(e.memberSince,e.website),i=e.iban,l=e.ibanAttn,c=e.ownerId,m=e.didAgreeAvg;return e.inspectionPersonTypeId,n.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},n.createElement("div",{className:"row"},n.createElement(C.Z,{label:"Contactnummer",name:"number",readOnly:!0,value:""}),n.createElement(C.Z,{label:"Gemaakt op",name:"createdAt",value:v()().format("DD-MM-Y"),readOnly:!0})),n.createElement("div",{className:"row"},n.createElement(C.Z,{label:"Naam",name:"name",value:t,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.name})),n.createElement("div",{className:"row"},n.createElement(C.Z,{label:"Statutaire naam",name:"statutoryName",value:a,onChangeAction:this.handleInputChange,error:this.state.errors.statutoryName})),n.createElement("div",{className:"row"},n.createElement(C.Z,{label:"KvK",size:"col-sm-6",name:"chamberOfCommerceNumber",value:r,onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(C.Z,{label:"Btw nummer",name:"vatNumber",value:s,onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(C.Z,{label:"IBAN",name:"iban",value:i,onChangeAction:this.handleInputChange,error:this.state.errors.iban})),n.createElement("div",{className:"row"},n.createElement(C.Z,{label:"IBAN t.n.v.",name:"ibanAttn",value:l,onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(C.Z,{label:"Website",name:"website",value:o,onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(I.Z,{label:"Eigenaar",size:"col-sm-6",name:"ownerId",options:this.props.users,value:c,optionName:"fullName",onChangeAction:this.handleInputChange})),n.createElement("div",{className:"row"},n.createElement(P.Z,{label:"Akkoord privacybeleid",name:"didAgreeAvg",value:m,onChangeAction:this.handleInputChange}))," ",n.createElement("div",{className:"margin-10-top"},n.createElement(k.Z,null,n.createElement("div",{className:"row",onClick:this.toggleAddress},this.state.showAddress?n.createElement(j.ZP,{size:21,icon:H.z}):n.createElement(j.ZP,{size:21,icon:B.n}),n.createElement("span",{className:"h5"},"Adres"))),this.state.showAddress&&n.createElement(D,{address:this.state.address,errors:this.state.addressErrors,handleInputLvbagChange:this.addressHandleInputLvbagChange,handleInputChange:this.addressHandleInputChange,handleInputChangeDate:this.addressHandleInputChangeDate})),n.createElement("div",{className:"margin-10-top"},n.createElement(k.Z,null,n.createElement("div",{className:"row",onClick:this.toggleEmail},this.state.showEmail?n.createElement(j.ZP,{size:21,icon:H.z}):n.createElement(j.ZP,{size:21,icon:B.n}),n.createElement("span",{className:"h5"},"E-mail"))),this.state.showEmail&&n.createElement(x,{emailAddress:this.state.emailAddress,errors:this.state.emailErrors,handleInputChange:this.emailAddressHandleInputChange})),n.createElement("div",{className:"margin-10-top"},n.createElement(k.Z,null,n.createElement("div",{className:"row",onClick:this.togglePhone},this.state.showPhone?n.createElement(j.ZP,{size:21,icon:H.z}):n.createElement(j.ZP,{size:21,icon:B.n}),n.createElement("span",{className:"h5"},"Telefoonnummer"))),this.state.showPhone&&n.createElement(R,{phoneNumber:this.state.phoneNumber,errors:this.state.phoneErrors,handleInputChange:this.phoneHandleInputChange})),n.createElement(w.Z,null,n.createElement("div",{className:"pull-right btn-group",role:"group"},n.createElement(A.Z,{loading:this.state.buttonLoading,loadText:"Organisatie wordt aangemaakt.",buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"}))))}}]),u}(n.Component);const F=(0,g.$j)((function(e){return{users:e.systemData.users,userId:e.meDetails.id}}))(_),J=function(e){return n.createElement(u.Z,{className:"panel-grey"},n.createElement(d.Z,null,n.createElement("div",{className:"col-md-12"},"persoon"===e.type&&n.createElement(G,null),"organisatie"===e.type&&n.createElement(F,null))))},Q=function(e){return n.createElement("div",null,n.createElement(J,{type:e.type,organisationId:e.organisationId}))},X=function(e){return n.createElement("div",{className:"row"},n.createElement("div",{className:"col-md-9"},n.createElement("div",{className:"col-md-12 margin-10-top"},n.createElement(p,null)),n.createElement("div",{className:"col-md-12 margin-10-top"},n.createElement(Q,{type:e.params.type}))))}},32042:(e,t)=>{t.z=void 0,t.z={viewBox:"0 0 1152 1792",children:[{name:"path",attribs:{d:"M1075 736q0 13-10 23l-466 466q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z"}}]}},96497:(e,t)=>{t.n=void 0,t.n={viewBox:"0 0 640 1792",children:[{name:"path",attribs:{d:"M595 960q0 13-10 23l-466 466q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l393-393-393-393q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l466 466q10 10 10 23z"}}]}}}]);