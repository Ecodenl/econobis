"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[8499],{82191:(e,t,n)=>{n.d(t,{AQ:()=>m,B_:()=>I,Cm:()=>f,FG:()=>S,GK:()=>r,K1:()=>c,K_:()=>A,Oq:()=>O,P4:()=>E,Qk:()=>y,Rv:()=>p,Tu:()=>g,U8:()=>T,Uz:()=>v,VN:()=>l,XE:()=>o,YR:()=>R,_N:()=>d,cI:()=>C,df:()=>D,f_:()=>N,gp:()=>h,iT:()=>_,p6:()=>s,pu:()=>k,w7:()=>i,xT:()=>a,y3:()=>u});var a=function(e){return{type:"FETCH_CONTACT_DETAILS",payload:e}},r=function(e){return{type:"DELETE_CONTACT",id:e}},s=function(e){return{type:"UPDATE_PERSON",contactDetails:e}},c=function(e){return{type:"UPDATE_ORGANISATION",contactDetails:e}},o=function(e){return{type:"UPDATE_PORTAL_USER",portalUser:e}},i=function(e){return{type:"DELETE_PORTAL_USER",id:e}},l=function(e){return{type:"NEW_ADDRESS",address:e}},u=function(e){return{type:"UPDATE_ADDRESS",address:e}},d=function(e){return{type:"DELETE_ADDRESS",id:e}},m=function(e){return{type:"NEW_PHONE_NUMBER",phoneNumber:e}},p=function(e){return{type:"UPDATE_PHONE_NUMBER",phoneNumber:e}},E=function(e){return{type:"DELETE_PHONE_NUMBER",id:e}},f=function(e){return{type:"NEW_EMAIL_ADDRESS",emailAddress:e}},h=function(e){return{type:"UPDATE_EMAIL_ADDRESS",emailAddress:e}},D=function(e){return{type:"DELETE_EMAIL_ADDRESS",id:e}},I=function(e){return{type:"NEW_CONTACT_NOTE",note:e}},y=function(e){return{type:"UPDATE_CONTACT_NOTE",note:e}},N=function(e){return{type:"DELETE_CONTACT_NOTE",id:e}},S=function(){return{type:"UNSET_PRIMARY_ADDRESSES"}},v=function(){return{type:"UNSET_PRIMARY_PHONE_NUMBERS"}},R=function(){return{type:"UNSET_PRIMARY_EMAIL_ADDRESSES"}},_=function(e){return{type:"NEW_ADDRESS_ENERGY_SUPPLIER",addressEnergySupplier:e}},k=function(e){return{type:"NEW_ADDRESS_DONGLE",addressDongle:e}},A=function(e){return{type:"UPDATE_ADDRESS_ENERGY_SUPPLIER",addressEnergySupplier:e}},g=function(e){return{type:"UPDATE_ADDRESS_DONGLE",addressDongle:e}},O=function(e){return{type:"DELETE_ADDRESS_ENERGY_SUPPLIER",id:e}},T=function(e){return{type:"DELETE_ADDRESS_DONGLE",id:e}},C=function(e){return{type:"UPDATE_HOOM_ACCOUNT_ID",hoomAccountId:e}}},18499:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var a=n(15671),r=n(43144),s=n(60136),c=n(82963),o=n(61120),i=n(67294),l=n(86706),u=n(96486),d=n(82191),m=n(97326),p=n(4942),E=n(61409),f=n(30381),h=n.n(f),D=n(22618),I=n(55359),y=n(71840),N=n(51344),S=n(49332),v=n(9181);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}h().locale("nl");var k=function(e){(0,s.Z)(u,e);var t,n,l=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,o.Z)(t);if(n){var r=(0,o.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,c.Z)(this,e)});function u(e){var t;return(0,a.Z)(this,u),t=l.call(this,e),(0,p.Z)((0,m.Z)(t),"handleInputChange",(function(e){var n=e.target,a="checkbox"===n.type?n.checked:n.value,r=n.name;t.setState(_(_({},t.state),{},{intake:_(_({},t.state.intake),{},(0,p.Z)({},r,a))}))})),(0,p.Z)((0,m.Z)(t),"handleSourceIds",(function(e){var n=e?e.map((function(e){return e.id})).join(","):"";t.setState(_(_({},t.state),{},{intake:_(_({},t.state.intake),{},{sourceIds:n,sourceIdsSelected:e})}))})),(0,p.Z)((0,m.Z)(t),"handleIntakeReasonsIds",(function(e){var n=e?e.map((function(e){return e.id})).join(","):"";t.setState(_(_({},t.state),{},{intake:_(_({},t.state.intake),{},{intakeReasonIds:n,intakeReasonIdsSelected:e})}))})),(0,p.Z)((0,m.Z)(t),"handleSubmit",(function(e){e.preventDefault();var n=t.state.intake;n.intakeReasonIds.length>0&&(n.intakeReasonIds=n.intakeReasonIds.split(",")),n.sourceIds.length>0&&(n.sourceIds=n.sourceIds.split(",")),D.Z.newIntake(n).then((function(e){E.nA.push("/intake/".concat(e.data.id))}))})),t.state={intakeCampaigns:[],intake:{contactId:e.contactId,addressId:e.addressId,campaignId:"",statusId:"1",sourceIds:"",sourceIdsSelected:[],intakeReasonIds:"",intakeReasonIdsSelected:[],note:""}},t}return(0,r.Z)(u,[{key:"componentDidMount",value:function(){var e=this;I.Z.peekNotFinishedCampaigns().then((function(t){e.setState(_(_({},e.state),{},{intakeCampaigns:t,intake:_(_({},e.state.intake),{},{campaignId:t[0].id})}))}))}},{key:"render",value:function(){var e=this.state.intake,t=e.addressId,n=e.statusId,a=(e.sourceIds,e.sourceIdsSelected),r=e.campaignId,s=(e.intakeReasonIds,e.intakeReasonIdsSelected),c=e.note,o=this.props.contactDetails,l=o.addresses,u=void 0===l?[]:l,d=o.fullName;return i.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},i.createElement("div",{className:"row"},i.createElement(v.Z,{name:"contact",label:"Contact",value:d,readOnly:!0}),i.createElement("div",{className:"form-group col-sm-6"},i.createElement("label",{htmlFor:"addressId",className:"col-sm-6"},"Adres"),i.createElement("div",{className:"col-sm-6"},i.createElement("select",{className:"form-control input-sm",id:"addressId",name:"addressId",value:t,onChange:this.handleInputChange},u.map((function(e,t){return i.createElement("option",{key:t,value:e.id},e.street+" "+e.number+(e.addition?"-"+e.addition:"")+", "+e.city)})))))),i.createElement("div",{className:"row"},i.createElement(y.Z,{label:"Campagne",name:"campaignId",value:r,options:this.state.intakeCampaigns,onChangeAction:this.handleInputChange,required:!0,emptyOption:!1}),i.createElement(y.Z,{label:"Status",size:"col-sm-6",name:"statusId",value:n,options:this.props.intakeStatuses,onChangeAction:this.handleInputChange})),i.createElement("div",{className:"row"},i.createElement(N.Z,{label:"Aanmeldingsbron",name:"sourceIds",value:a,options:this.props.intakeSources.sort((function(e,t){var n=e.name.toLowerCase(),a=t.name.toLowerCase(),r=0;return n>a?r=1:n<a&&(r=-1),r})),onChangeAction:this.handleSourceIds}),i.createElement(N.Z,{label:"Wat is belangrijk",name:"intakeReasonIds",value:s,options:this.props.intakeReasons,onChangeAction:this.handleIntakeReasonsIds})),i.createElement("div",{className:"row"},i.createElement("div",{className:"form-group col-sm-12"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-sm-3"},i.createElement("label",{htmlFor:"note",className:"col-sm-12"},"Opmerking van bewoner")),i.createElement("div",{className:"col-sm-8"},i.createElement("textarea",{name:"note",value:c,onChange:this.handleInputChange,className:"form-control input-sm"}))))),i.createElement("div",{className:"panel-footer"},i.createElement("div",{className:"pull-right btn-group",role:"group"},i.createElement(S.Z,{buttonText:"Opslaan",onClickAction:this.handleSubmit}))))}}]),u}(i.Component);const A=(0,l.$j)((function(e){return{intakeStatuses:e.systemData.intakeStatuses,intakeSources:e.systemData.intakeSources,intakeReasons:e.systemData.intakeReasons,buildingTypes:e.systemData.buildingTypes,contactDetails:e.contactDetails}}),null)(k);var g=n(14309),O=n(98688);const T=function(e){return i.createElement("div",null,i.createElement(g.Z,null,i.createElement(O.Z,null,i.createElement(A,{contactId:e.contactId,addressId:e.addressId}))))};var C=n(55451);const b=function(e){return i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-4"},i.createElement("div",{className:"btn-group",role:"group"},i.createElement(C.Z,{iconName:"arrowLeft",onClickAction:E.mW.goBack}))),i.createElement("div",{className:"col-md-4"},i.createElement("h4",{className:"text-center"},"Nieuwe intake")),i.createElement("div",{className:"col-md-4"}))};var P=function(e){(0,s.Z)(d,e);var t,n,l=(t=d,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,o.Z)(t);if(n){var r=(0,o.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,c.Z)(this,e)});function d(e){return(0,a.Z)(this,d),l.call(this,e)}return(0,r.Z)(d,[{key:"componentDidMount",value:function(){(0,u.isEmpty)(this.props.contactDetails)&&this.props.fetchContactDetails(this.props.params.contactId)}},{key:"render",value:function(){return i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-9"},i.createElement("div",{className:"col-md-12 margin-10-top"},i.createElement(b,{contactId:this.props.params.contactId})),i.createElement("div",{className:"col-md-12 margin-10-top"},i.createElement(T,{contactId:this.props.params.contactId,addressId:this.props.params.addressId}))),i.createElement("div",{className:"col-md-3"}))}}]),d}(i.Component);const Z=(0,l.$j)((function(e){return{contactDetails:e.contactDetails}}),(function(e){return{fetchContactDetails:function(t){e((0,d.xT)(t))}}}))(P)}}]);