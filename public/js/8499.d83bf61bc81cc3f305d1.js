"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[8499],{82191:(e,t,n)=>{n.d(t,{AQ:()=>d,B_:()=>g,Cm:()=>E,FG:()=>b,GK:()=>a,K1:()=>s,K_:()=>D,Oq:()=>R,P4:()=>f,Qk:()=>y,Rv:()=>m,Uz:()=>N,VN:()=>l,XE:()=>c,YR:()=>I,_N:()=>p,cI:()=>k,df:()=>v,f_:()=>O,gp:()=>h,iT:()=>S,p6:()=>o,w7:()=>i,xT:()=>r,y3:()=>u});var r=function(e){return{type:"FETCH_CONTACT_DETAILS",payload:e}},a=function(e){return{type:"DELETE_CONTACT",id:e}},o=function(e){return{type:"UPDATE_PERSON",contactDetails:e}},s=function(e){return{type:"UPDATE_ORGANISATION",contactDetails:e}},c=function(e){return{type:"UPDATE_PORTAL_USER",portalUser:e}},i=function(e){return{type:"DELETE_PORTAL_USER",id:e}},l=function(e){return{type:"NEW_ADDRESS",address:e}},u=function(e){return{type:"UPDATE_ADDRESS",address:e}},p=function(e){return{type:"DELETE_ADDRESS",id:e}},d=function(e){return{type:"NEW_PHONE_NUMBER",phoneNumber:e}},m=function(e){return{type:"UPDATE_PHONE_NUMBER",phoneNumber:e}},f=function(e){return{type:"DELETE_PHONE_NUMBER",id:e}},E=function(e){return{type:"NEW_EMAIL_ADDRESS",emailAddress:e}},h=function(e){return{type:"UPDATE_EMAIL_ADDRESS",emailAddress:e}},v=function(e){return{type:"DELETE_EMAIL_ADDRESS",id:e}},g=function(e){return{type:"NEW_CONTACT_NOTE",note:e}},y=function(e){return{type:"UPDATE_CONTACT_NOTE",note:e}},O=function(e){return{type:"DELETE_CONTACT_NOTE",id:e}},b=function(){return{type:"UNSET_PRIMARY_ADDRESSES"}},N=function(){return{type:"UNSET_PRIMARY_PHONE_NUMBERS"}},I=function(){return{type:"UNSET_PRIMARY_EMAIL_ADDRESSES"}},S=function(e){return{type:"NEW_ADDRESS_ENERGY_SUPPLIER",addressEnergySupplier:e}},D=function(e){return{type:"UPDATE_ADDRESS_ENERGY_SUPPLIER",addressEnergySupplier:e}},R=function(e){return{type:"DELETE_ADDRESS_ENERGY_SUPPLIER",id:e}},k=function(e){return{type:"UPDATE_HOOM_ACCOUNT_ID",hoomAccountId:e}}},51344:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(4942),a=n(67294),o=n(45697),s=n.n(o),c=n(12766);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){var t=e.label,n=e.size,r=e.id,o=e.name,s=e.value,i=e.options,u=e.optionId,p=e.optionName,d=e.onChangeAction,m=e.required,f=e.multi,E=e.error,h=e.errorMessage,v=e.isLoading,g=e.disabled,y=e.placeholder,O=e.clearable,b={option:function(e){return l(l({},e),{},{fontSize:"12px"})},singleValue:function(e){return l(l({},e),{},{fontSize:"12px"})},menu:function(e){return l(l({},e),{},{zIndex:20})}};return a.createElement("div",{className:"form-group col-sm-12"},a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-3"},a.createElement("label",{htmlFor:r,className:"col-sm-12 ".concat(m)},t)),a.createElement("div",{className:"".concat(n)},a.createElement(c.ZP,{id:r,name:o,onChange:function(e){return d(e)},value:s,options:i,getOptionLabel:function(e){return e[p]},getOptionValue:function(e){return e[u]},placeholder:y,noOptionsMessage:function(){return"Geen opties gevonden"},loadingMessage:function(){return"Laden"},isMulti:f,simpleValue:!0,removeSelected:!0,className:E?" has-error":"",isLoading:v,isDisabled:g,styles:b,isClearable:O,theme:function(e){return l(l({},e),{},{colors:l({},e.colors),spacing:l(l({},e.spacing),{},{baseUnit:2,controlHeight:24,menuGutter:4})})}})),E&&a.createElement("div",{className:"col-sm-offset-3 col-sm-8"},a.createElement("span",{className:"has-error-message"}," ",h))))};u.defaultProps={allowCreate:!1,size:"col-sm-6",optionId:"id",optionName:"name",disabled:!1,required:"",error:!1,errorMessage:"",value:"",multi:!0,isLoading:!1,placeholder:"",clearable:!1},u.propTypes={label:s().string.isRequired,size:s().string,id:s().string,name:s().string.isRequired,options:s().array,optionId:s().string,optionName:s().string,value:s().oneOfType([s().string,s().number]),onChangeAction:s().func,onBlurAction:s().func,required:s().string,disabled:s().bool,error:s().bool,errorMessage:s().string,multi:s().bool,isLoading:s().bool,placeholder:s().string,clearable:s().bool};const p=u},18499:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var r=n(15671),a=n(43144),o=n(60136),s=n(82963),c=n(61120),i=n(67294),l=n(37974),u=n(96486),p=n(82191),d=n(97326),m=n(4942),f=n(61409),E=n(30381),h=n.n(E),v=n(22618),g=n(55359),y=n(71840),O=n(51344),b=n(49332),N=n(9181);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}h().locale("nl");var D=function(e){(0,o.Z)(u,e);var t,n,l=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var a=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,s.Z)(this,e)});function u(e){var t;return(0,r.Z)(this,u),t=l.call(this,e),(0,m.Z)((0,d.Z)(t),"handleInputChange",(function(e){var n=e.target,r="checkbox"===n.type?n.checked:n.value,a=n.name;t.setState(S(S({},t.state),{},{intake:S(S({},t.state.intake),{},(0,m.Z)({},a,r))}))})),(0,m.Z)((0,d.Z)(t),"handleSourceIds",(function(e){var n=e?e.map((function(e){return e.id})).join(","):"";t.setState(S(S({},t.state),{},{intake:S(S({},t.state.intake),{},{sourceIds:n,sourceIdsSelected:e})}))})),(0,m.Z)((0,d.Z)(t),"handleIntakeReasonsIds",(function(e){var n=e?e.map((function(e){return e.id})).join(","):"";t.setState(S(S({},t.state),{},{intake:S(S({},t.state.intake),{},{intakeReasonIds:n,intakeReasonIdsSelected:e})}))})),(0,m.Z)((0,d.Z)(t),"handleSubmit",(function(e){e.preventDefault();var n=t.state.intake;n.intakeReasonIds.length>0&&(n.intakeReasonIds=n.intakeReasonIds.split(",")),n.sourceIds.length>0&&(n.sourceIds=n.sourceIds.split(",")),v.Z.newIntake(n).then((function(e){f.nA.push("/intake/".concat(e.data.id))}))})),t.state={intakeCampaigns:[],intake:{contactId:e.contactId,addressId:e.addressId,campaignId:"",statusId:"1",sourceIds:"",sourceIdsSelected:[],intakeReasonIds:"",intakeReasonIdsSelected:[],note:""}},t}return(0,a.Z)(u,[{key:"componentDidMount",value:function(){var e=this;g.Z.peekNotFinishedCampaigns().then((function(t){e.setState(S(S({},e.state),{},{intakeCampaigns:t,intake:S(S({},e.state.intake),{},{campaignId:t[0].id})}))}))}},{key:"render",value:function(){var e=this.state.intake,t=e.addressId,n=e.statusId,r=(e.sourceIds,e.sourceIdsSelected),a=e.campaignId,o=(e.intakeReasonIds,e.intakeReasonIdsSelected),s=e.note,c=this.props.contactDetails,l=c.addresses,u=void 0===l?[]:l,p=c.fullName;return i.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},i.createElement("div",{className:"row"},i.createElement(N.Z,{name:"contact",label:"Contact",value:p,readOnly:!0}),i.createElement("div",{className:"form-group col-sm-6"},i.createElement("label",{htmlFor:"addressId",className:"col-sm-6"},"Adres"),i.createElement("div",{className:"col-sm-6"},i.createElement("select",{className:"form-control input-sm",id:"addressId",name:"addressId",value:t,onChange:this.handleInputChange},u.map((function(e,t){return i.createElement("option",{key:t,value:e.id},e.street+" "+e.number+(e.addition?"-"+e.addition:"")+", "+e.city)})))))),i.createElement("div",{className:"row"},i.createElement(y.Z,{label:"Campagne",name:"campaignId",value:a,options:this.state.intakeCampaigns,onChangeAction:this.handleInputChange,required:!0,emptyOption:!1}),i.createElement(y.Z,{label:"Status",size:"col-sm-6",name:"statusId",value:n,options:this.props.intakeStatuses,onChangeAction:this.handleInputChange})),i.createElement("div",{className:"row"},i.createElement(O.Z,{label:"Aanmeldingsbron",name:"sourceIds",value:r,options:this.props.intakeSources.sort((function(e,t){var n=e.name.toLowerCase(),r=t.name.toLowerCase(),a=0;return n>r?a=1:n<r&&(a=-1),a})),onChangeAction:this.handleSourceIds}),i.createElement(O.Z,{label:"Wat is belangrijk",name:"intakeReasonIds",value:o,options:this.props.intakeReasons,onChangeAction:this.handleIntakeReasonsIds})),i.createElement("div",{className:"row"},i.createElement("div",{className:"form-group col-sm-12"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-sm-3"},i.createElement("label",{htmlFor:"note",className:"col-sm-12"},"Opmerking van bewoner")),i.createElement("div",{className:"col-sm-8"},i.createElement("textarea",{name:"note",value:s,onChange:this.handleInputChange,className:"form-control input-sm"}))))),i.createElement("div",{className:"panel-footer"},i.createElement("div",{className:"pull-right btn-group",role:"group"},i.createElement(b.Z,{buttonText:"Opslaan",onClickAction:this.handleSubmit}))))}}]),u}(i.Component);const R=(0,l.$j)((function(e){return{intakeStatuses:e.systemData.intakeStatuses,intakeSources:e.systemData.intakeSources,intakeReasons:e.systemData.intakeReasons,buildingTypes:e.systemData.buildingTypes,contactDetails:e.contactDetails}}),null)(D);var k=n(14309),C=n(98688);const P=function(e){return i.createElement("div",null,i.createElement(k.Z,null,i.createElement(C.Z,null,i.createElement(R,{contactId:e.contactId,addressId:e.addressId}))))};var _=n(55451);const A=function(e){return i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-4"},i.createElement("div",{className:"btn-group",role:"group"},i.createElement(_.Z,{iconName:"arrowLeft",onClickAction:f.mW.goBack}))),i.createElement("div",{className:"col-md-4"},i.createElement("h4",{className:"text-center"},"Nieuwe intake")),i.createElement("div",{className:"col-md-4"}))};var w=function(e){(0,o.Z)(p,e);var t,n,l=(t=p,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var a=(0,c.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,s.Z)(this,e)});function p(e){return(0,r.Z)(this,p),l.call(this,e)}return(0,a.Z)(p,[{key:"componentDidMount",value:function(){(0,u.isEmpty)(this.props.contactDetails)&&this.props.fetchContactDetails(this.props.params.contactId)}},{key:"render",value:function(){return i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-9"},i.createElement("div",{className:"col-md-12 margin-10-top"},i.createElement(A,{contactId:this.props.params.contactId})),i.createElement("div",{className:"col-md-12 margin-10-top"},i.createElement(P,{contactId:this.props.params.contactId,addressId:this.props.params.addressId}))),i.createElement("div",{className:"col-md-3"}))}}]),p}(i.Component);const Z=(0,l.$j)((function(e){return{contactDetails:e.contactDetails}}),(function(e){return{fetchContactDetails:function(t){e((0,p.xT)(t))}}}))(w)},12766:(e,t,n)=>{n.d(t,{Vn:()=>g,ZP:()=>O});var r=n(87462),a=n(93433),o=n(4942),s=n(15671),c=n(43144),i=n(60136),l=n(82963),u=n(61120),p=n(67294),d=(n(88389),n(73935),n(53569)),m=n(75912),f=(n(93998),n(35639),n(61085));function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var h=function(){var e=arguments.length>1?arguments[1]:void 0,t=String(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase(),n=String(e.value).toLowerCase(),r=String(e.label).toLowerCase();return n===t||r===t},v=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n){return!(!e||t.some((function(t){return h(e,t)}))||n.some((function(t){return h(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),g=function(e){var t,n;return n=t=function(t){(0,i.Z)(f,t);var n,o,m=(n=f,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,u.Z)(n);if(o){var r=(0,u.Z)(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return(0,l.Z)(this,e)});function f(e){var t;(0,s.Z)(this,f),(t=m.call(this,e)).select=void 0,t.onChange=function(e,n){var r=t.props,o=r.getNewOptionData,s=r.inputValue,c=r.isMulti,i=r.onChange,l=r.onCreateOption,u=r.value,p=r.name;if("select-option"!==n.action)return i(e,n);var m=t.state.newOption,f=Array.isArray(e)?e:[e];if(f[f.length-1]!==m)i(e,n);else if(l)l(s);else{var E=o(s,s),h={action:"create-option",name:p};i(c?[].concat((0,a.Z)((0,d.C)(u)),[E]):E,h)}};var n=e.options||[];return t.state={newOption:void 0,options:n},t}return(0,c.Z)(f,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.allowCreateWhileLoading,n=e.createOptionPosition,r=e.formatCreateLabel,o=e.getNewOptionData,s=e.inputValue,c=e.isLoading,i=e.isValidNewOption,l=e.value,u=e.options||[],p=this.state.newOption;p=i(s,(0,d.C)(l),u)?o(s,r(s)):void 0,this.setState({newOption:p,options:!t&&c||!p?u:"first"===n?[p].concat((0,a.Z)(u)):[].concat((0,a.Z)(u),[p])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var t=this,n=this.state.options;return p.createElement(e,(0,r.Z)({},this.props,{ref:function(e){t.select=e},options:n,onChange:this.onChange}))}}]),f}(p.Component),t.defaultProps=v,n},y=g(m.S);const O=(0,f.m)(y)}}]);