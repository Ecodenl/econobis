(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{1577:function(e,t,a){"use strict";a.r(t);var n=a(15),o=a.n(n),r=a(16),s=a.n(r),c=a(12),i=a.n(c),l=a(17),u=a.n(l),d=a(18),p=a.n(d),m=a(13),h=a.n(m),f=a(5),g=a.n(f),v=a(0),y=a.n(v),b=a(4),E=a(33),C=a.n(E),I=a(289),O=a.n(I),j=a(6),N=a.n(j),k=a(20),D=a(122),A=a(36),w=a(89),q=a(966),S=a(145),R=Object(k.b)((function(e){return{documentTypes:e.systemData.documentTypes,administrations:e.meDetails.administrations}}),null)((function(e){var t=e.document,a=e.errors,n=e.errorMessage,o=e.contactGroups,r=void 0===o?[]:o,s=e.intakes,c=void 0===s?[]:s,i=e.opportunities,l=void 0===i?[]:i,u=e.tasks,d=void 0===u?[]:u,p=e.quotationRequests,m=void 0===p?[]:p,h=e.housingFiles,f=void 0===h?[]:h,g=e.projects,v=void 0===g?[]:g,b=e.participants,E=void 0===b?[]:b,C=e.orders,I=void 0===C?[]:C,j=e.measures,k=void 0===j?[]:j,R=e.campaigns,T=void 0===R?[]:R,P=e.handleInputChange,M=e.handleProjectChange,G=e.documentTypes,L=e.administrations,x=e.handleInputChangeContactId,F=e.searchTermContact,V=e.isLoadingContact,z=e.setSearchTermContact,U=e.setLoadingContact,B=t.documentCreatedFrom,_=t.administrationId,W=t.contactId,K=t.selectedContact,H=t.contactGroupId,J=t.intakeId,Q=t.opportunityId,X=t.documentType,Y=t.description,Z=t.taskId,$=t.quotationRequestId,ee=t.housingFileId,te=t.projectId,ae=t.participantId,ne=t.orderId,oe=t.measureId,re=t.campaignId,se=t.showOnPortal,ce=G.find((function(e){return e.id==X})).name,ie=""===W&&""===H&&""===Z&&""===te&&""===ae&&""===ne&&""===_&&""===oe&&""===re,le=function(){var e=O()(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(F.length<=1)){e.next=2;break}return e.abrupt("return");case 2:return U(!0),e.prev=3,e.next=6,S.a.fetchContactSearch(F);case 6:return t=e.sent,U(!1),e.abrupt("return",t.data.data);case 11:e.prev=11,e.t0=e.catch(3),U(!1);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return y.a.createElement("div",{className:"margin-30-bottom"},a.docLinkedAtAny&&y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-sm-12"},y.a.createElement("span",{className:"has-error-message"}," ",n.docLinkedAtAny))),y.a.createElement("div",{className:"row"},y.a.createElement(A.a,{label:"Type",name:"documentTypeName",value:ce,readOnly:!0})),y.a.createElement("div",{className:"row"},y.a.createElement(q.a,{label:"Contact",name:"contactId",id:"contactId",size:"col-sm-6",loadOptions:le,optionName:"fullName",value:K,onChangeAction:x,required:"required",error:a.docLinkedAtAny,isLoading:V,handleInputChange:function(e){z(e)},multi:!1,disabled:["contact","intake","opportunity","quotationrequest","housingfile","participant"].includes(B.codeRef)})),y.a.createElement("div",{className:"row"},y.a.createElement(D.a,{label:"Groep",name:"contactGroupId",value:H,options:r,onChangeAction:P,required:ie&&"required",error:a.docLinkedAtAny,readOnly:["contactgroup"].includes(B.codeRef)}),y.a.createElement(D.a,{label:"Intake",name:"intakeId",value:J,options:c,onChangeAction:P,readOnly:["intake","quotationrequest","opportunity"].includes(B.codeRef)})),y.a.createElement("div",{className:"row"},y.a.createElement(D.a,{label:"Kans",name:"opportunityId",value:Q,options:l,onChangeAction:P,readOnly:["opportunity","quotationrequest"].includes(B.codeRef)}),y.a.createElement(D.a,{label:"Taak",name:"taskId",value:Z,options:d,onChangeAction:P,required:ie&&"required",error:a.docLinkedAtAny,readOnly:["task"].includes(B.codeRef)})),y.a.createElement("div",{className:"row"},y.a.createElement(D.a,{label:"Offerteverzoek",name:"quotationRequestId",value:$,options:m,onChangeAction:P,readOnly:["quotationrequest"].includes(B.codeRef)}),y.a.createElement(D.a,{label:"Woningdossier",name:"housingFileId",value:ee,options:f,onChangeAction:P,readOnly:["housingfile"].includes(B.codeRef)})),y.a.createElement("div",{className:"row"},y.a.createElement(D.a,{label:"Project",name:"projectId",value:te,options:v,onChangeAction:M,required:ie&&"required",error:a.docLinkedAtAny}),y.a.createElement(D.a,{label:"Deelnemer project",name:"participantId",value:ae,options:te?E:[],placeholder:te?"":"Kies eerst een project",onChangeAction:P})),y.a.createElement("div",{className:"row"},y.a.createElement(D.a,{label:"Order",name:"orderId",value:ne,options:I,onChangeAction:P,required:ie&&"required",error:a.docLinkedAtAny,readOnly:["order"].includes(B.codeRef)}),y.a.createElement(D.a,{label:"Administratie",name:"administrationId",value:_,options:L,onChangeAction:P,required:ie&&"required",error:a.docLinkedAtAny})),y.a.createElement("div",{className:"row"},y.a.createElement(D.a,{label:"Maatregel",name:"measureId",value:oe,options:k,onChangeAction:P,required:ie&&"required",error:a.docLinkedAtAny,readOnly:["measure"].includes(B.codeRef)}),y.a.createElement(D.a,{label:"Campagne",name:"campaignId",value:re,options:T,onChangeAction:P,required:ie&&"required",error:a.docLinkedAtAny,readOnly:["campaign","quotationrequest"].includes(B.codeRef)})),y.a.createElement("div",{className:"row"},y.a.createElement(w.a,{label:"Tonen op portal",name:"showOnPortal",value:se,onChangeAction:P,disabled:!0})),y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"form-group col-sm-12"},y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-sm-3"},y.a.createElement("label",{className:"col-sm-12 required"},"Omschrijving")),y.a.createElement("div",{className:"col-sm-6"},y.a.createElement("input",{type:"text",className:"form-control input-sm "+(a&&a.description?"has-error":""),name:"description",value:Y,onChange:P})),a.description&&y.a.createElement("div",{className:"col-sm-3"},y.a.createElement("span",{className:"has-error-message"}," ",n.description))))))})),T=a(123),P=a(28),M=a(31),G=a(39),L=Object(k.b)((function(e){return{documentGroups:e.systemData.documentGroups,users:e.systemData.users}}),null)((function(e){var t=e.document,a=e.templates,n=e.errors,o=e.errorMessage,r=e.handleInputChange,s=e.handleDocumentGroupChange,c=e.documentGroups,i=(e.users,t.documentGroup),l=t.templateId,u=t.freeText1,d=t.freeText2;t.filename,t.sentById;return y.a.createElement("div",null,y.a.createElement("div",{className:"row"},y.a.createElement(D.a,{label:"Documentgroep",name:"documentGroup",value:i,options:c,onChangeAction:s,required:"required",error:n.documentGroup,errorMessage:o.documentGroup}),y.a.createElement(D.a,{label:"Template",name:"templateId",value:l,options:a,onChangeAction:r,required:"required",error:n.templateId,errorMessage:o.templateId})),y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"form-group col-sm-12"},y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-sm-3"},y.a.createElement("label",{className:"col-sm-12"},"Tekst veld 1")),y.a.createElement("div",{className:"col-sm-9"},y.a.createElement("input",{type:"text",className:"form-control input-sm",name:"freeText1",value:u,onChange:r})))),y.a.createElement("div",{className:"form-group col-sm-12"},y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-sm-3"},y.a.createElement("label",{className:"col-sm-12"},"Tekst veld 2")),y.a.createElement("div",{className:"col-sm-9"},y.a.createElement("input",{type:"text",className:"form-control input-sm",name:"freeText2",value:d,onChange:r}))))))})),x=a(3),F=a.n(x),V=a(37),z=a(549).default,U=function(e){var t=e.title,a=e.errors,n=e.multiple,o=e.maxSize,r=e.toggleModal,s=e.onDropAccepted,c=e.onDropRejected;return y.a.createElement(V.a,{closeModal:r,showConfirmAction:!1,title:t},y.a.createElement("div",{className:"upload-file-content"},y.a.createElement(z,{className:"dropzone",onDropAccepted:function(e){setTimeout((function(){s(e),r()}),300)}.bind(void 0),onDropRejected:c.bind(void 0),maxSize:o,multiple:n},y.a.createElement("p",null,"Klik hier voor het uploaden van een file (max. ",o/1048576,"MB)"),y.a.createElement("p",null,y.a.createElement("strong",null,"of")," sleep het bestand hierheen"))),a.uploadFailed&&y.a.createElement("p",{className:"has-error-message"},"Uploaden mislukt. Probeer nogmaals het bestand te uploaden."),a.uploadMaxSize&&y.a.createElement("p",{className:"has-error-message"},"Uploaden mislukt. Het bestand mag maximaal ",o/1048576,"MB groot zijn."))};U.defaultProps={errors:{},maxSize:21495808,multiple:!0,title:"Upload bestand"},U.propTypes={errors:F.a.object,maxSize:F.a.number,multiple:F.a.bool,onDropAccepted:F.a.func.isRequired,onDropRejected:F.a.func.isRequired,title:F.a.string,toggleModal:F.a.func.isRequired};var B=U;function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=h()(e);if(t){var o=h()(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return p()(this,a)}}var W=function(e){u()(a,e);var t=_(a);function a(e){var n;return o()(this,a),(n=t.call(this,e)).state={showUploadModal:!1},n.toggleUploadModal=n.toggleUploadModal.bind(i()(n)),n}return s()(a,[{key:"toggleUploadModal",value:function(){this.setState({showUploadModal:!this.state.showUploadModal})}},{key:"render",value:function(){var e=this.props,t=e.document,a=e.errors,n=e.errorMessage,o=e.handleInputChange,r=e.documentGroups,s=e.onDropAccepted,c=e.onDropRejected,i=t.documentGroup,l=t.attachment;return y.a.createElement("div",null,y.a.createElement("div",{className:"row"},y.a.createElement(D.a,{label:"Documentgroep",name:"documentGroup",value:i,options:r,onChangeAction:o,required:"required",error:a.documentGroup,errorMessage:n.documentGroup}),y.a.createElement("div",{className:"form-group col-sm-6"},y.a.createElement("label",{className:"col-sm-6"},"Kies bestand"),y.a.createElement("div",{className:"col-sm-6"},y.a.createElement("input",{type:"text",className:"form-control input-sm col-sm-6 ".concat(a.noDocument?"has-error":""),value:l&&l.name,onClick:this.toggleUploadModal})),a&&y.a.createElement("div",{className:"col-sm-offset-6 col-sm-6"},y.a.createElement("span",{className:"has-error-message"}," ",n.noDocument)))),this.state.showUploadModal&&y.a.createElement(B,{onDropAccepted:s.bind(this),onDropRejected:c.bind(this),toggleModal:this.toggleUploadModal,multiple:!1,errors:a}))}}]),a}(v.Component),K=Object(k.b)((function(e){return{documentGroups:e.systemData.documentGroups}}),null)(W),H=function(e){var t=e.document,a=e.projects,n=e.participants,o=e.orders,r=e.contactGroups,s=e.templates,c=e.intakes,i=e.opportunities,l=e.campaigns,u=e.housingFiles,d=e.quotationRequests,p=e.measures,m=e.tasks,h=e.errors,f=e.errorMessage,g=e.handleSubmit,v=e.handleInputChange,b=e.handleProjectChange,E=e.handleDocumentGroupChange,C=e.onDropAccepted,I=e.onDropRejected,O=e.handleInputChangeContactId,j=e.searchTermContact,N=e.isLoadingContact,k=e.setSearchTermContact,D=e.setLoadingContact,A="internal"===t.documentType?"Maak document":"Upload document";return y.a.createElement("form",{className:"form-horizontal",onSubmit:g},y.a.createElement(P.a,null,y.a.createElement(M.a,null,y.a.createElement(R,{tasks:m,quotationRequests:d,housingFiles:u,document:t,contactGroups:r,intakes:c,opportunities:i,projects:a,participants:n,orders:o,measures:p,campaigns:l,errors:h,errorMessage:f,handleInputChange:v,handleProjectChange:b,handleInputChangeContactId:O,searchTermContact:j,isLoadingContact:N,setSearchTermContact:k,setLoadingContact:D}),"internal"===t.documentType?y.a.createElement(L,{document:t,errors:h,errorMessage:f,handleInputChange:v,templates:s,handleDocumentGroupChange:E}):y.a.createElement(K,{document:t,errors:h,errorMessage:f,handleInputChange:v,onDropAccepted:C,onDropRejected:I}),y.a.createElement(T.a,null,y.a.createElement("div",{className:"pull-right"},y.a.createElement(G.a,{buttonText:A,onClickAction:g,type:"submit",value:"Submit"}))))))},J=a(51),Q=function(e){e.handleSubmit;var t=e.documentCreatedFromName;return y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-md-4"},y.a.createElement("div",{className:"btn-group btn-group-flex margin-small margin-10-right",role:"group"},y.a.createElement(J.a,{iconName:"glyphicon-arrow-left",onClickAction:b.e.goBack}))),y.a.createElement("div",{className:"col-md-4"},y.a.createElement("h4",{className:"text-center margin-small"},"Nieuw document")),y.a.createElement("div",{className:"col-md-4"},y.a.createElement("h4",{className:"text-right margin-10-right"},"Gemaakt vanuit/voor: ",y.a.createElement("strong",null,t||""))))},X=a(229),Y=(a(160),a(58)),Z=a(294),$=a(295),ee=a(92),te=a(166),ae=a(167),ne=a(91),oe=a(307),re=a(308),se=a(302),ce=a(290),ie=a(293),le=a(296),ue=a(225),de=a(235),pe=Object(k.b)((function(e){return{documentTypes:e.systemData.documentTypes}}),null)((function(e){var t=e.document,a=e.errors,n=e.projects,o=void 0===n?[]:n,r=e.handleInputChange,s=e.documentTypes,c=t.documentType,i=t.description,l=t.projectId,u=t.showOnPortal,d=s.find((function(e){return e.id==c})).name;return y.a.createElement("div",{className:"margin-30-bottom"},y.a.createElement("div",{className:"row"},y.a.createElement(D.a,{label:"Project",name:"projectId",value:l,options:o,onChangeAction:r,required:"required",readOnly:!0,error:a.docLinkedAtAny}),y.a.createElement(A.a,{label:"Type",name:"documentTypeName",value:d,readOnly:!0})),y.a.createElement("div",{className:"row"},y.a.createElement(w.a,{label:"Tonen op portal",name:"showOnPortal",value:u,onChangeAction:r})),y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"form-group col-sm-12"},y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-sm-3"},y.a.createElement("label",{className:"col-sm-12 required"},"Omschrijving")),y.a.createElement("div",{className:"col-sm-6"},y.a.createElement("input",{type:"text",className:"form-control input-sm "+(a&&a.description?"has-error":""),name:"description",value:i,onChange:r}))))))})),me=function(e){var t=e.document,a=e.projects,n=e.templates,o=e.errors,r=e.errorMessage,s=e.handleSubmit,c=e.handleInputChange,i=e.handleDocumentGroupChange,l=e.onDropAccepted,u=e.onDropRejected,d="internal"===t.documentType?"Maak document":"Upload document";return y.a.createElement("form",{className:"form-horizontal",onSubmit:s},y.a.createElement(P.a,null,y.a.createElement(M.a,null,y.a.createElement(pe,{document:t,projects:a,errors:o,errorMessage:r,handleInputChange:c}),"internal"===t.documentType?y.a.createElement(L,{document:t,errors:o,errorMessage:r,handleInputChange:c,templates:n,handleDocumentGroupChange:i}):y.a.createElement(K,{document:t,errors:o,errorMessage:r,handleInputChange:c,onDropAccepted:l,onDropRejected:u}),y.a.createElement(T.a,null,y.a.createElement("div",{className:"pull-right"},y.a.createElement(G.a,{buttonText:d,onClickAction:s,type:"submit",value:"Submit"}))))))},he=Object(k.b)((function(e){return{documentTypes:e.systemData.documentTypes,administrations:e.meDetails.administrations}}),null)((function(e){var t=e.document,a=e.errors,n=void 0===a?[]:a,o=e.handleInputChange,r=e.documentTypes,s=e.administrations,c=t.documentType,i=t.description,l=t.administrationId,u=t.showOnPortal,d=r.find((function(e){return e.id==c})).name;return y.a.createElement("div",{className:"margin-30-bottom"},y.a.createElement("div",{className:"row"},y.a.createElement(D.a,{label:"Administratie",name:"administrationId",value:l,options:s,onChangeAction:o,required:"required",readOnly:!0,error:n.docLinkedAtAny}),y.a.createElement(A.a,{label:"Type",name:"documentTypeName",value:d,readOnly:!0})),y.a.createElement("div",{className:"row"},y.a.createElement(w.a,{label:"Tonen op portal",name:"showOnPortal",value:u,onChangeAction:o})),y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"form-group col-sm-12"},y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-sm-3"},y.a.createElement("label",{className:"col-sm-12 required"},"Omschrijving")),y.a.createElement("div",{className:"col-sm-6"},y.a.createElement("input",{type:"text",className:"form-control input-sm "+(n&&n.description?"has-error":""),name:"description",value:i,onChange:o}))))))})),fe=function(e){var t=e.document,a=e.templates,n=e.errors,o=e.errorMessage,r=e.handleSubmit,s=e.handleInputChange,c=e.handleDocumentGroupChange,i=e.onDropAccepted,l=e.onDropRejected,u="internal"===t.documentType?"Maak document":"Upload document";return y.a.createElement("form",{className:"form-horizontal",onSubmit:r},y.a.createElement(P.a,null,y.a.createElement(M.a,null,y.a.createElement(he,{document:t,errors:n,errorMessage:o,handleInputChange:s}),"internal"===t.documentType?y.a.createElement(L,{document:t,errors:n,errorMessage:o,handleInputChange:s,templates:a,handleDocumentGroupChange:c}):y.a.createElement(K,{document:t,errors:n,errorMessage:o,handleInputChange:s,onDropAccepted:i,onDropRejected:l}),y.a.createElement(T.a,null,y.a.createElement("div",{className:"pull-right"},y.a.createElement(G.a,{buttonText:u,onClickAction:r,type:"submit",value:"Submit"}))))))},ge=Object(k.b)((function(e){return{documentTypes:e.systemData.documentTypes}}),null)((function(e){var t=e.document,a=e.errors,n=e.projects,o=void 0===n?[]:n,r=e.participants,s=void 0===r?[]:r,c=e.handleInputChange,i=e.documentTypes,l=t.documentType,u=t.description,d=t.projectId,p=t.participantId,m=t.showOnPortal,h=i.find((function(e){return e.id==l})).name;return y.a.createElement("div",{className:"margin-30-bottom"},y.a.createElement("div",{className:"row"},y.a.createElement(D.a,{label:"Project",name:"projectId",value:d,options:o,onChangeAction:c,required:"required",readOnly:!0,error:a.docLinkedAtAny}),y.a.createElement(A.a,{label:"Type",name:"documentTypeName",value:h,readOnly:!0})),y.a.createElement("div",{className:"row"},y.a.createElement(D.a,{label:"Deelnemer project",name:"participantId",value:p,options:s,onChangeAction:c,required:"required",readOnly:!0,error:a.docLinkedAtAny})),y.a.createElement("div",{className:"row"},y.a.createElement(w.a,{label:"Tonen op portal",name:"showOnPortal",value:m,onChangeAction:c})),y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"form-group col-sm-12"},y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-sm-3"},y.a.createElement("label",{className:"col-sm-12 required"},"Omschrijving")),y.a.createElement("div",{className:"col-sm-6"},y.a.createElement("input",{type:"text",className:"form-control input-sm "+(a&&a.description?"has-error":""),name:"description",value:u,onChange:c}))))))})),ve=function(e){var t=e.document,a=e.projects,n=e.participants,o=e.templates,r=e.errors,s=e.errorMessage,c=e.handleSubmit,i=e.handleInputChange,l=e.handleDocumentGroupChange,u=e.onDropAccepted,d=e.onDropRejected,p="internal"===t.documentType?"Maak document":"Upload document";return y.a.createElement("form",{className:"form-horizontal",onSubmit:c},y.a.createElement(P.a,null,y.a.createElement(M.a,null,y.a.createElement(ge,{document:t,projects:a,participants:n,errors:r,errorMessage:s,handleInputChange:i}),"internal"===t.documentType?y.a.createElement(L,{document:t,errors:r,errorMessage:s,handleInputChange:i,templates:o,handleDocumentGroupChange:l}):y.a.createElement(K,{document:t,errors:r,errorMessage:s,handleInputChange:i,onDropAccepted:u,onDropRejected:d}),y.a.createElement(T.a,null,y.a.createElement("div",{className:"pull-right"},y.a.createElement(G.a,{buttonText:p,onClickAction:c,type:"submit",value:"Submit"}))))))},ye=a(310);function be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?be(Object(a),!0).forEach((function(t){g()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):be(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=h()(e);if(t){var o=h()(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return p()(this,a)}}var Ie=function(e){u()(a,e);var t=Ce(a);function a(e){var n;o()(this,a),n=t.call(this,e),g()(i()(n),"handleInputChangeContactId",(function(e){var t=e?e.id:null;t&&n.setState(Ee(Ee({},n.state),{},{document:Ee(Ee({},n.state.document),{},{contactId:t,selectedContact:e})}))}));var r="";r=e.params.participantId?"participant":e.params.opportunityId?"opportunity":e.params.quotationRequestId?"quotationrequest":e.params.housingFileId?"housingfile":e.params.intakeId?"intake":e.params.measureId?"measure":e.params.administrationId?"administration":e.params.campaignId?"campaign":e.params.taskId?"task":e.params.projectId?"project":e.params.orderId?"order":e.params.contactGroupId?"contactgroup":e.params.contactId?"contact":e.params.emailAttachmentId?"emailattachment":"document";var s=n.props.documentCreatedFroms.find((function(e){return e.codeRef==r}));return n.state={contactsGroups:[],intakes:[],opportunities:[],templates:[],campaigns:[],housingFiles:[],quotationRequests:[],measures:[],tasks:[],participants:[],projects:[],orders:[],document:{administrationId:n.props.params.administrationId||"",contactId:n.props.params.contactId||"",selectedContact:null,contactGroupId:n.props.params.contactGroupId||"",intakeId:n.props.params.intakeId||"",opportunityId:n.props.params.opportunityId||"",campaignId:n.props.params.campaignId||"",housingFileId:n.props.params.housingFileId||"",quotationRequestId:n.props.params.quotationRequestId||"",measureId:n.props.params.measureId||"",taskId:n.props.params.taskId||"",projectId:n.props.params.projectId||"",participantId:n.props.params.participantId||"",orderId:n.props.params.orderId||"",documentCreatedFrom:s,documentType:n.props.params.type,description:"",documentGroup:"",templateId:"",freeText1:"",freeText2:"",sentById:"",attachment:"",filename:"temp",showOnPortal:!(!n.props.params.showOnPortal||"portal"!==n.props.params.showOnPortal)},errors:{docLinkedAtAny:!1,documentGroup:!1,uploadFailed:!1,templateId:!1,noDocument:!1,description:!1},errorMessage:{docLinkedAtAny:"",documentGroup:"",templateId:"",noDocument:"",description:""},searchTermContact:"",isLoadingContact:!1},n.handleInputChange=n.handleInputChange.bind(i()(n)),n.handleSubmit=n.handleSubmit.bind(i()(n)),n.onDropAccepted=n.onDropAccepted.bind(i()(n)),n.onDropRejected=n.onDropRejected.bind(i()(n)),n.handleDocumentGroupChange=n.handleDocumentGroupChange.bind(i()(n)),n.handleProjectChange=n.handleProjectChange.bind(i()(n)),n.setSearchTermContact=n.setSearchTermContact.bind(i()(n)),n.setLoadingContact=n.setLoadingContact.bind(i()(n)),n}return s()(a,[{key:"componentDidMount",value:function(){var e=this;this.props.params.contactId&&ye.a.getContactDetails(this.props.params.contactId).then((function(t){t&&e.setState(Ee(Ee({},e.state),{},{document:Ee(Ee({},e.state.document),{},{selectedContact:{id:t.id,fullName:t.fullName+" ("+t.number+")",primaryAddressId:t.primaryAddressId}})}))})),Z.a.peekIntakes().then((function(t){e.setState({intakes:t})})),Y.a.peekContactGroups().then((function(t){e.setState({contactGroups:t})})),$.a.peekOpportunities().then((function(t){e.setState({opportunities:t})})),ee.a.fetchDocumentTemplatesPeekGeneral().then((function(t){e.setState({templates:t})})),oe.a.peekCampaigns().then((function(t){e.setState({campaigns:t})})),re.a.peekHousingFiles().then((function(t){e.setState({housingFiles:t})})),se.a.peekQuotationRequests().then((function(t){e.setState({quotationRequests:t})})),ae.a.peekTasks().then((function(t){e.setState({tasks:t})})),te.a.peekMeasures().then((function(t){e.setState({measures:t})})),ce.a.peekProjects().then((function(t){e.setState({projects:t})})),le.a.peekOrders().then((function(t){e.setState({orders:t})})),this.props.params.emailAttachmentId&&ue.a.downloadAttachment(this.props.params.emailAttachmentId).then((function(t){var a=[new File([t.data],t.headers["x-filename"])];a.name=t.headers["x-filename"],e.setState(Ee(Ee({},e.state),{},{document:Ee(Ee({},e.state.document),{},{attachment:a[0],filename:t.headers["x-filename"],contactId:t.headers["x-contactid"]?t.headers["x-contactid"]:""})}))})),this.props.params.quotationRequestId&&de.a.fetchQuotationRequestDetails(this.props.params.quotationRequestId).then((function(t){e.setState(Ee(Ee({},e.state),{},{document:Ee(Ee({},e.state.document),{},{contactId:t.opportunity.intake.contact.id,intakeId:t.opportunity.intake.id,opportunityId:t.opportunity.id,measureId:t.opportunity.measures&&1==t.opportunity.measures.length?t.opportunity.measures[0].id:"",campaignId:t.opportunity.intake.campaign.id})}))})).finally((function(){return e.callFetchContact()})),this.props.params.projectId&&this.setParticipants(this.props.params.projectId)}},{key:"callFetchContact",value:function(){var e=this;ye.a.getContactDetails(this.state.document.contactId).then((function(t){t&&e.setState(Ee(Ee({},e.state),{},{document:Ee(Ee({},e.state.document),{},{selectedContact:{id:t.id,fullName:t.fullName+" ("+t.number+")",primaryAddressId:t.primaryAddressId}})}))}))}},{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Ee(Ee({},this.state),{},{document:Ee(Ee({},this.state.document),{},g()({},n,a))}))}},{key:"handleProjectChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Ee(Ee({},this.state),{},{document:Ee(Ee({},this.state.document),{},g()({},n,a))})),this.setParticipants(a)}},{key:"setParticipants",value:function(e){var t=this;ie.a.peekParticipantsProjects().then((function(a){var n=[];a.forEach((function(t){t.projectId==e&&n.push({id:t.id,name:t.name,projectId:t.projectId})})),t.setState({participants:n})}))}},{key:"handleDocumentGroupChange",value:function(e){var t=this,a=e.target,n="checkbox"===a.type?a.checked:a.value,o=a.name;this.setState(Ee(Ee({},this.state),{},{document:Ee(Ee({},this.state.document),{},g()({},o,n))})),ee.a.fetchDocumentTemplatesPeekGeneral().then((function(e){var a=[];e.forEach((function(e){e.group==n&&a.push({id:e.id,name:e.name})})),t.setState({templates:a})}))}},{key:"onDropAccepted",value:function(e){this.setState(Ee(Ee({},this.state),{},{document:Ee(Ee({},this.state.document),{},{attachment:e[0],filename:e[0].name})}))}},{key:"onDropRejected",value:function(){this.setState(Ee(Ee({},this.state),{},{errors:Ee(Ee({},this.state.errors),{},{uploadFailed:!0})}))}},{key:"setSearchTermContact",value:function(e){this.setState(Ee(Ee({},this.state),{},{searchTermContact:e}))}},{key:"setLoadingContact",value:function(e){this.setState(Ee(Ee({},this.state),{},{isLoadingContact:e}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.document,n=a.administrationId,o=a.contactId,r=a.contactGroupId,s=a.intakeId,c=a.opportunityId,i=a.documentCreatedFrom,l=a.documentType,u=a.description,d=a.documentGroup,p=a.templateId,m=a.freeText1,h=a.freeText2,f=a.filename,g=a.sentById,v=a.campaignId,y=a.housingFileId,E=a.quotationRequestId,I=a.measureId,O=a.taskId,j=a.projectId,N=a.participantId,k=a.orderId,D=a.attachment,A=a.showOnPortal,w={},q={},S=!1;if(C.a.isEmpty(o+"")&&C.a.isEmpty(r+"")&&C.a.isEmpty(O+"")&&C.a.isEmpty(j+"")&&C.a.isEmpty(N+"")&&C.a.isEmpty(k+"")&&C.a.isEmpty(n+"")&&C.a.isEmpty(I+"")&&C.a.isEmpty(v+"")&&(w.docLinkedAtAny=!0,q.docLinkedAtAny="Minimaal 1 van de volgende gegevens moet geselecteerd zijn: Contact, Groep, Taak, Project, Deelnemer, Order, Administratie, Maatregel of Campagne.",S=!0),C.a.isEmpty(u+"")&&(w.description=!0,q.description="Verplicht",S=!0),C.a.isEmpty(d+"")&&(w.documentGroup=!0,q.documentGroup="Verplicht",S=!0),C.a.isEmpty(p+"")&&"internal"==l&&(w.templateId=!0,q.templateId="Verplicht",S=!0),C.a.isEmpty(D+"")&&"upload"==l&&(w.noDocument=!0,q.noDocument="Verplicht",S=!0),this.setState(Ee(Ee({},this.state),{},{errors:w,errorMessage:q})),!S){var R=new FormData;R.append("administrationId",n),R.append("contactId",o),R.append("contactGroupId",r),R.append("intakeId",s),R.append("opportunityId",c),R.append("documentCreatedFromId",i.id),R.append("documentType",l),R.append("description",u),R.append("documentGroup",d),R.append("templateId",p),R.append("freeText1",m),R.append("freeText2",h),R.append("filename",f),R.append("sentById",g),R.append("campaignId",v),R.append("housingFileId",y),R.append("quotationRequestId",E),R.append("measureId",I),R.append("taskId",O),R.append("projectId",j),R.append("participantId",N),R.append("orderId",k),R.append("attachment",D),R.append("showOnPortal",A),X.a.newDocument(R).then((function(e){e.data.data.filename.toLowerCase().endsWith(".pdf")?b.f.push("/document/inzien/".concat(e.data.data.id)):b.f.push("/document/".concat(e.data.data.id))})).catch((function(e){t.props.setError(e.response.status)}))}}},{key:"render",value:function(){return y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-md-9"},y.a.createElement("div",{className:"col-md-12"},y.a.createElement(P.a,null,y.a.createElement(M.a,{className:"panel-small"},y.a.createElement(Q,{handleSubmit:this.handleSubmit,documentCreatedFromName:this.state.document.documentCreatedFrom.name})))),y.a.createElement("div",{className:"col-md-12"},"project"===this.state.document.documentCreatedFrom.codeRef?y.a.createElement(me,{document:this.state.document,templates:this.state.templates,projects:this.state.projects,errors:this.state.errors,errorMessage:this.state.errorMessage,handleSubmit:this.handleSubmit,handleDocumentGroupChange:this.handleDocumentGroupChange,handleInputChange:this.handleInputChange,onDropAccepted:this.onDropAccepted,onDropRejected:this.onDropRejected}):"administration"===this.state.document.documentCreatedFrom.codeRef?y.a.createElement(fe,{document:this.state.document,templates:this.state.templates,errors:this.state.errors,errorMessage:this.state.errorMessage,handleSubmit:this.handleSubmit,handleDocumentGroupChange:this.handleDocumentGroupChange,handleInputChange:this.handleInputChange,onDropAccepted:this.onDropAccepted,onDropRejected:this.onDropRejected}):"participant"===this.state.document.documentCreatedFrom.codeRef?y.a.createElement(ve,{document:this.state.document,templates:this.state.templates,projects:this.state.projects,participants:this.state.participants,errors:this.state.errors,errorMessage:this.state.errorMessage,handleSubmit:this.handleSubmit,handleDocumentGroupChange:this.handleDocumentGroupChange,handleInputChange:this.handleInputChange,handleProjectChange:this.handleProjectChange,onDropAccepted:this.onDropAccepted,onDropRejected:this.onDropRejected}):y.a.createElement(H,{document:this.state.document,contactGroups:this.state.contactGroups,intakes:this.state.intakes,opportunities:this.state.opportunities,templates:this.state.templates,tasks:this.state.tasks,measures:this.state.measures,quotationRequests:this.state.quotationRequests,housingFiles:this.state.housingFiles,campaigns:this.state.campaigns,projects:this.state.projects,participants:this.state.participants,orders:this.state.orders,errors:this.state.errors,errorMessage:this.state.errorMessage,handleSubmit:this.handleSubmit,handleDocumentGroupChange:this.handleDocumentGroupChange,handleInputChange:this.handleInputChange,handleProjectChange:this.handleProjectChange,onDropAccepted:this.onDropAccepted,onDropRejected:this.onDropRejected,handleInputChangeContactId:this.handleInputChangeContactId,searchTermContact:this.state.searchTermContact,isLoadingContact:this.state.isLoadingContact,setSearchTermContact:this.setSearchTermContact,setLoadingContact:this.setLoadingContact}))),y.a.createElement("div",{className:"col-md-3"}))}}]),a}(v.Component);t.default=Object(k.b)((function(e){return{documentCreatedFroms:e.systemData.documentCreatedFroms}}),(function(e){return{setError:function(t){e(Object(ne.b)(t))}}}))(Ie)},934:function(e,t,a){"use strict";a.d(t,"b",(function(){return E}));a(548);var n=a(24),o=(a(545),a(291)),r=a(47),s=a(56),c=a(55),i=(a(12),a(57)),l=a(64),u=a(45),d=a(0),p=a.n(d),m=(a(23),a(83),a(90),a(27)),h=a(124),f=(a(84),a(546),a(224),a(286));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(u.a)(e);if(t){var o=Object(u.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(l.a)(this,a)}}function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=String(e).toLowerCase(),n=String(t.value).toLowerCase(),o=String(t.label).toLowerCase();return n===a||o===a},b=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,a){return!(!e||t.some((function(t){return y(e,t)}))||a.some((function(t){return y(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),E=function(e){var t,a;return a=t=function(t){Object(i.a)(r,t);var a=g(r);function r(e){var t;Object(s.a)(this,r),(t=a.call(this,e)).select=void 0,t.onChange=function(e,a){var n=t.props,r=n.getNewOptionData,s=n.inputValue,c=n.isMulti,i=n.onChange,l=n.onCreateOption,u=n.value,d=n.name;if("select-option"!==a.action)return i(e,a);var p=t.state.newOption,h=Array.isArray(e)?e:[e];if(h[h.length-1]!==p)i(e,a);else if(l)l(s);else{var f=r(s,s),g={action:"create-option",name:d};i(c?[].concat(Object(o.a)(Object(m.c)(u)),[f]):f,g)}};var n=e.options||[];return t.state={newOption:void 0,options:n},t}return Object(c.a)(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.allowCreateWhileLoading,a=e.createOptionPosition,n=e.formatCreateLabel,r=e.getNewOptionData,s=e.inputValue,c=e.isLoading,i=e.isValidNewOption,l=e.value,u=e.options||[],d=this.state.newOption;d=i(s,Object(m.c)(l),u)?r(s,n(s)):void 0,this.setState({newOption:d,options:!t&&c||!d?u:"first"===a?[d].concat(Object(o.a)(u)):[].concat(Object(o.a)(u),[d])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var t=this,a=this.state.options;return p.a.createElement(e,Object(n.a)({},this.props,{ref:function(e){t.select=e},options:a,onChange:this.onChange}))}}]),r}(d.Component),t.defaultProps=b,a},C=E(h.a),I=Object(f.a)(C);t.a=I},966:function(e,t,a){"use strict";var n=a(5),o=a.n(n),r=a(0),s=a.n(r),c=a(3),i=a.n(c),l=(a(548),a(142),a(545),a(14),a(15),a(16),a(12),a(17),a(18),a(13),a(23),a(83),a(90),a(124)),u=(a(84),a(546),a(224),a(286)),d=a(81),p=a(24),m=a(56),h=a(55),f=a(57),g=a(64),v=a(45),y=a(27);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(v.a)(e);if(t){var o=Object(v.a)(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return Object(g.a)(this,a)}}var E={cacheOptions:!1,defaultOptions:!1,filterOption:null,isLoading:!1},C=function(e){var t,a;return a=t=function(t){Object(f.a)(n,t);var a=b(n);function n(e){var t;return Object(m.a)(this,n),(t=a.call(this)).select=void 0,t.lastRequest=void 0,t.mounted=!1,t.optionsCache={},t.handleInputChange=function(e,a){var n=t.props,o=n.cacheOptions,r=n.onInputChange,s=Object(y.f)(e,a,r);if(!s)return delete t.lastRequest,void t.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(o&&t.optionsCache[s])t.setState({inputValue:s,loadedInputValue:s,loadedOptions:t.optionsCache[s],isLoading:!1,passEmptyOptions:!1});else{var c=t.lastRequest={};t.setState({inputValue:s,isLoading:!0,passEmptyOptions:!t.state.loadedInputValue},(function(){t.loadOptions(s,(function(e){t.mounted&&(e&&(t.optionsCache[s]=e),c===t.lastRequest&&(delete t.lastRequest,t.setState({isLoading:!1,loadedInputValue:s,loadedOptions:e||[],passEmptyOptions:!1})))}))}))}return s},t.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:void 0!==e.inputValue?e.inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},t}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.props.defaultOptions,a=this.state.inputValue;!0===t&&this.loadOptions(a,(function(t){if(e.mounted){var a=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:a})}}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,t){var a=this.props.loadOptions;if(!a)return t();var n=a(e,t);n&&"function"==typeof n.then&&n.then(t,(function(){return t()}))}},{key:"render",value:function(){var t=this,a=this.props,n=(a.loadOptions,a.isLoading),o=Object(d.a)(a,["loadOptions","isLoading"]),r=this.state,c=r.defaultOptions,i=r.inputValue,l=r.isLoading,u=r.loadedInputValue,m=r.loadedOptions,h=r.passEmptyOptions?[]:i&&u?m:c||[];return s.a.createElement(e,Object(p.a)({},o,{ref:function(e){t.select=e},options:h,isLoading:l||n,onInputChange:this.handleInputChange}))}}]),n}(r.Component),t.defaultProps=E,a},I=(C(Object(u.a)(l.a)),a(934)),O=Object(I.b)(l.a),j=C(Object(u.a)(O));function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D=function(e){var t=e.label,a=e.size,n=e.id,o=e.name,r=e.value,c=e.loadOptions,i=e.optionId,l=e.optionName,u=e.onChangeAction,d=e.handleInputChange,p=e.required,m=e.allowCreate,h=e.multi,f=e.error,g=e.errorMessage,v=e.isLoading,y=e.disabled,b=e.placeholder,E=e.clearable,C={option:function(e){return k(k({},e),{},{fontSize:"12px"})},singleValue:function(e){return k(k({},e),{},{fontSize:"12px"})},menu:function(e){return k(k({},e),{},{zIndex:20})}};return s.a.createElement("div",{className:"form-group col-sm-12"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-3"},s.a.createElement("label",{htmlFor:n,className:"col-sm-12 ".concat(p)},t)),s.a.createElement("div",{className:"".concat(a)},s.a.createElement(j,{id:n,name:o,onChange:function(e){return u(e)},value:r,loadOptions:c,onInputChange:d,getOptionLabel:function(e){return e[l]},getOptionValue:function(e){return e[i]},placeholder:b,noOptionsMessage:function(){return"Geen opties gevonden (tik om te zoeken minimaal 2 tekens)"},loadingMessage:function(){return"Laden"},isMulti:h,simpleValue:!0,removeSelected:!0,className:f?" has-error":"",isLoading:v,isDisabled:y,styles:C,isClearable:E,formatCreateLabel:function(e){return'Maak optie "'.concat(e,'" aan')},getNewOptionData:function(e,t){return m?{id:t,name:t,__isNew__:!0}:{}},theme:function(e){return k(k({},e),{},{colors:k({},e.colors),spacing:k(k({},e.spacing),{},{baseUnit:2,controlHeight:24,menuGutter:4})})}})),f&&s.a.createElement("div",{className:"col-sm-offset-3 col-sm-8"},s.a.createElement("span",{className:"has-error-message"}," ",g))))};D.defaultProps={allowCreate:!1,className:"",size:"col-sm-8",optionId:"id",optionName:"name",disabled:!1,required:"",error:!1,errorMessage:"",value:"",multi:!0,isLoading:!1,placeholder:"",clearable:!1},D.propTypes={allowCreate:i.a.bool,label:i.a.string.isRequired,className:i.a.string,size:i.a.string,id:i.a.string,name:i.a.string.isRequired,loadOptions:i.a.array,optionId:i.a.string,optionName:i.a.string,value:i.a.oneOfType([i.a.email,i.a.number]),onChangeAction:i.a.func,handleInputChange:i.a.func,required:i.a.string,disabled:i.a.bool,error:i.a.bool,errorMessage:i.a.string,multi:i.a.bool,isLoading:i.a.bool,placeholder:i.a.string,clearable:i.a.bool};t.a=D}}]);