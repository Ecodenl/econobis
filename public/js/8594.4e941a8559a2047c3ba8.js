"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[8594],{33824:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(69265),r="financial-overview";const i={fetchFinancialOverviewDetails:function(e){var t="jory/financial-overview/".concat(e);return a.Z.get(t,{params:{jory:{fld:["id","description","administrationId","year","definitive","statusId","dateProcessed","documentTemplateFinancialOverviewId","totalFinancialOverviewProjectsInProgress","totalFinancialOverviewProjectsConcept","totalFinancialOverviewProjectsDefinitive"],rlt:{administration:{fld:["id","name"]},documentTemplateFinancialOverview:{fld:["id","name"]}}}}})},newFinancialOverview:function(e){var t=r;return e.jory=JSON.stringify({fld:["id"]}),a.Z.post(t,e)},updateFinancialOverview:function(e){var t="".concat(r,"/").concat(e.id);return a.Z.post(t,e)},deleteFinancialOverview:function(e){var t="".concat(r,"/").concat(e,"/delete");return a.Z.post(t)},fetchNewProjectsForFinancialOverview:function(e){var t="".concat(r,"/").concat(e.id,"/projects-for-financial-overview");return a.Z.get(t,e)},fetchTotalsInfoFinancialOverview:function(e){var t="".concat(r,"/").concat(e.id,"/totals-info-financial-overview");return a.Z.get(t,e)}}},50694:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(69265);const r={fetchFinancialOverviews:function(){return a.Z.get("jory/financial-overview",{params:{jory:{fld:["id","description","administrationId","year","definitive","statusId","dateProcessed"],rlt:{administration:{fld:["id","name"]}},sorts:["-year","administrationId"]}}})}}},35714:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(4942),r=n(67294),i=n(45697),o=n.n(i),c=n(55519);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(e){var t=e.label,n=e.id,a=e.name,i=e.value,o=e.options,s=e.optionId,d=e.optionName,m=e.onChangeAction,u=e.required,v=e.error,f=e.errorMessage,p=e.isLoading,h=e.disabled,g=e.placeholder,O=e.clearable,y={option:function(e){return l(l({},e),{},{fontSize:"12px"})},singleValue:function(e){return l(l({},e),{},{fontSize:"12px"})},menu:function(e){return l(l({},e),{},{zIndex:20})}};return r.createElement("div",{className:"form-group col-sm-12"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-3"},r.createElement("label",{htmlFor:n,className:"col-sm-12 ".concat(u)},t)),r.createElement("div",{className:"col-sm-8"},r.createElement(c.ZP,{id:n,name:a,value:o&&i?o.find((function(e){return e[s]===i})):"",onChange:function(e){return m(e?e[s]:"",a)},options:o,getOptionLabel:function(e){return e[d]},getOptionValue:function(e){return e[s]},placeholder:g,noOptionsMessage:function(){return"Geen opties gevonden"},loadingMessage:function(){return"Laden"},isMulti:!1,simpleValue:!0,removeSelected:!0,className:v?" has-error":"",isLoading:p,isDisabled:h,styles:y,isClearable:O,theme:function(e){return l(l({},e),{},{colors:l({},e.colors),spacing:l(l({},e.spacing),{},{baseUnit:2,controlHeight:24,menuGutter:4})})}})),v&&r.createElement("div",{className:"col-sm-offset-3 col-sm-8"},r.createElement("span",{className:"has-error-message"}," ",f))))};d.defaultProps={optionId:"id",optionName:"name",disabled:!1,required:"",error:!1,errorMessage:"",value:"",isLoading:!1,placeholder:"",clearable:!1},d.propTypes={label:o().string.isRequired,id:o().string,name:o().string.isRequired,options:o().array,optionId:o().string,optionName:o().string,value:o().oneOfType([o().string,o().number]),onChangeAction:o().func,onBlurAction:o().func,required:o().string,disabled:o().bool,error:o().bool,errorMessage:o().string,isLoading:o().bool,placeholder:o().string,clearable:o().bool};const m=d},48594:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var a=n(67294),r=n(15671),i=n(43144),o=n(97326),c=n(60136),s=n(82963),l=n(61120),d=n(4942),m=n(37974),u=n(83920),v=n(61409),f=n(48966),p=n.n(f),h=n(30381),g=n.n(h),O=n(9181),y=n(49332),w=n(98688),b=n(14309),E=n(25725),Z=n(71840),I=n(33824),j=n(50694),N=n(35714),P=n(80251);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}g().locale("nl");var D=function(e){(0,c.Z)(u,e);var t,n,m=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,l.Z)(t);if(n){var r=(0,l.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,s.Z)(this,e)});function u(e){var t;return(0,r.Z)(this,u),t=m.call(this,e),(0,d.Z)((0,o.Z)(t),"handleInputChange",(function(e){var n=e.target,a="checkbox"===n.type?n.checked:n.value,r=n.name;t.setState(S(S({},t.state),{},{financialOverview:S(S({},t.state.financialOverview),{},(0,d.Z)({},r,a))}))})),(0,d.Z)((0,o.Z)(t),"handleInputChangeDate",(function(e,n){t.setState(S(S({},t.state),{},{financialOverview:S(S({},t.state.financialOverview),{},(0,d.Z)({},n,e))}))})),(0,d.Z)((0,o.Z)(t),"handleReactSelectChange",(function(e,n){t.setState(S(S({},t.state),{},{financialOverview:S(S({},t.state.financialOverview),{},(0,d.Z)({},n,e))}))})),(0,d.Z)((0,o.Z)(t),"handleSubmit",(function(e){e.preventDefault();var n=t.state.financialOverview,a={},r={},i=!1;p().isEmpty(n.year+"")&&(a.year=!0,r.year="Jaar is een verplicht veld.",i=!0),n.year<2e3&&(a.year=!0,r.year="Jaar mag niet voor 2000 liggen.",i=!0),p().isEmpty(n.administrationId+"")&&(a.administrationId=!0,r.administrationId="Administratie is een verplicht veld.",i=!0),p().isEmpty(n.documentTemplateFinancialOverviewId+"")&&(a.documentTemplateFinancialOverviewId=!0,r.documentTemplateFinancialOverviewId="Document template is een verplicht veld.",i=!0),t.state.financialOverviews.map((function(e){e.year==n.year&&e.administrationId==n.administrationId&&(i=!0,a.year=a.administrationId=!0,r.year=r.administrationId="Waardestaat voor jaar "+e.year+" en administratie "+e.administration.name+" bestaat al.")})),t.setState(S(S({},t.state),{},{errors:a,errorMessage:r})),!i&&I.Z.newFinancialOverview(n).then((function(e){v.nA.push("/waardestaat/".concat(e.data.data.id))})).catch((function(e){alert("Er is iets mis gegaan met opslaan!")}))})),t.state={financialOverviews:[],financialOverview:{year:g()().subtract(1,"year").format("Y"),description:"",documentTemplateFinancialOverviewId:"",administrationId:"",definitive:!1,statusId:"",dateProcessed:null},documentTemplates:[],errorMessage:!1,errors:{year:!1,administrationId:!1,documentTemplateFinancialOverviewId:!1}},t}return(0,i.Z)(u,[{key:"componentDidMount",value:function(){var e=this;j.Z.fetchFinancialOverviews().then((function(t){e.setState(S(S({},e.state),{},{financialOverviews:t.data.data}))})).catch((function(t){e.setState(S(S({},e.state),{},{hasError:!0}))})),P.Z.fetchDocumentTemplatesPeekGeneral().then((function(t){var n=[];t.forEach((function(e){"financial-overview"==e.group&&n.push({id:e.id,name:e.name})})),e.setState({documentTemplates:n})}))}},{key:"render",value:function(){var e=this.state.financialOverview,t=e.year,n=e.administrationId,r=e.documentTemplateFinancialOverviewId;return a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},a.createElement(b.Z,null,a.createElement(w.Z,null,a.createElement("div",{className:"row"},a.createElement(O.Z,{label:"Jaar",type:"number",name:"year",value:t,min:2e3,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.year,errorMessage:this.state.errorMessage.year}),a.createElement(Z.Z,{label:"Administratie",name:"administrationId",value:n,options:this.props.administrations,optionName:"name",onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.administrationId,errorMessage:this.state.errorMessage.administrationId})),a.createElement("div",{className:"row"},a.createElement(N.Z,{label:"Document template",name:"documentTemplateFinancialOverviewId",options:this.state.documentTemplates,value:r,onChangeAction:this.handleReactSelectChange,required:"required",error:this.state.errors.documentTemplateFinancialOverviewId,errorMessage:this.state.errorMessage.documentTemplateFinancialOverviewId}))),a.createElement(w.Z,null,a.createElement("div",{className:"pull-right btn-group",role:"group"},a.createElement(y.Z,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}]),u}(a.Component);const C=(0,m.$j)((function(e){return{administrations:e.meDetails.administrations}}),(function(e){return(0,u.DE)({fetchSystemData:E.P},e)}))(D);var T=n(55451);const M=function(){return a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-4"},a.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},a.createElement(T.Z,{iconName:"glyphicon-arrow-left",onClickAction:v.mW.goBack}))),a.createElement("div",{className:"col-md-4"},a.createElement("h4",{className:"text-center margin-small"},"Nieuwe waardestaat")),a.createElement("div",{className:"col-md-4"}))},k=function(){return a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-9"},a.createElement("div",{className:"col-md-12 margin-10-top"},a.createElement(b.Z,null,a.createElement(w.Z,{className:"panel-small"},a.createElement(M,null)))),a.createElement("div",{className:"col-md-12 margin-10-top"},a.createElement(C,null))),a.createElement("div",{className:"col-md-3"}))}}}]);