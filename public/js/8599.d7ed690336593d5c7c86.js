"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[8599],{58599:(e,t,a)=>{a.r(t),a.d(t,{default:()=>q}),a(52675),a(2008),a(51629),a(67945),a(84185),a(83851),a(81278),a(79432),a(26099),a(60825),a(23500);var n=a(23029),r=a(92901),i=a(56822),c=a(53954),o=a(85501),l=a(64467),p=a(58168),s=(a(94170),a(62010),a(96540)),u=a(57761),m=a.n(u),d=a(47767),h=a(62493),f=a(55849),g=a(91858);function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}var A=function(e){function t(e){return(0,n.A)(this,t),a=this,r=t,o=[e],r=(0,c.A)(r),(0,i.A)(a,v()?Reflect.construct(r,o||[],(0,c.A)(a).constructor):r.apply(a,o));var a,r,o}return(0,o.A)(t,e),(0,r.A)(t,[{key:"render",value:function(){var e=this;return s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-12"},s.createElement(h.A,null,s.createElement(f.A,{className:"panel-small"},s.createElement("div",{className:"col-md-4"},s.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},s.createElement(g.A,{iconName:"arrowLeft",onClickAction:function(){return e.props.navigate(-1)}}))),s.createElement("div",{className:"col-md-4"},s.createElement("h3",{className:"text-center table-title"},"Nieuwe overdracht")),s.createElement("div",{className:"col-md-4"})))))}}])}(s.Component);const E=function(e){var t=(0,d.Zp)();return s.createElement(A,(0,p.A)({},e,{navigate:t}))};var b=a(69733),C=a(95093),y=a.n(C),N=a(73421),S=a(55956),T=a(22102),k=a(54814),I=a(77465),O=a(31714);y().locale("nl");const j=(0,b.Ng)((function(e){return{participantProjectPayoutTypes:e.systemData.participantProjectPayoutTypes}}))((function(e){var t=e.participationTransfer,a=t.transferToContactId,n=t.participationsAmount,r=t.participationWorth,i=t.didSign,c=t.dateBook,o=e.participation;return s.createElement("form",{className:"form-horizontal col-md-12",onSubmit:e.handleSubmit},s.createElement("div",{className:"row"},s.createElement(k.A,{label:"Huidige participant",name:"currentParticipantName",value:o.contact?o.contact.fullName:"",readOnly:!0}),s.createElement(O.A,{label:"Contact",name:"transferToContactId",options:e.contacts,value:a,onChangeAction:e.handleReactSelectChange,optionName:"fullName",isLoading:e.peekLoading.contacts,required:"required",error:e.errors.transferToContactId})),s.createElement("div",{className:"row"},s.createElement(k.A,{label:"Project",name:"projectName",value:o.project?o.project.name:"",readOnly:!0}),s.createElement(k.A,{type:"number",min:"0",max:o.participationsCurrent+"",label:"Aantal deelnames overdragen",name:"participationsAmount",value:n,onChangeAction:e.handleInputChange,required:"required",error:e.errors.participationsAmount})),s.createElement("div",{className:"row"},s.createElement(k.A,{label:"Huidig aantal deelnames",name:"participationsCurrent",value:o.participationsCurrent,readOnly:!0}),s.createElement(k.A,{type:"number",min:"0",label:"Waarde per deelname",name:"participationWorth",value:r,onChangeAction:e.handleInputChange,required:"required",error:e.errors.participationWorth})),s.createElement("div",{className:"row"},s.createElement(k.A,{label:"Waarde over te dragen deelnames",name:"participationsWorthTotal",value:n*r,readOnly:!0}),s.createElement(N.A,{label:"Overdrachtsdatum",name:"dateBook",value:c,onChangeAction:e.handleInputChangeDate})),s.createElement("div",{className:"row"},s.createElement(I.A,{label:"Getekend document",name:"didSign",value:i,onChangeAction:e.handleInputChange,required:"required"}),e.errors.didSign&&s.createElement("div",{className:"col-sm-10 col-md-offset-1 alert alert-danger"},"Het document moet getekend zijn.")),s.createElement(T.A,null,s.createElement("div",{className:"pull-right btn-group",role:"group"},s.createElement(S.A,{buttonText:"Opslaan",onClickAction:e.handleSubmit,type:"submit",value:"Submit"}))))}));var P=a(19390);function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){(0,l.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function D(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(D=function(){return!!e})()}var R=function(e){function t(e){var a,r,o,p;return(0,n.A)(this,t),r=this,o=t,p=[e],o=(0,c.A)(o),a=(0,i.A)(r,D()?Reflect.construct(o,p||[],(0,c.A)(r).constructor):o.apply(r,p)),(0,l.A)(a,"handleInputChange",(function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;a.setState(W(W({},a.state),{},{participationTransfer:W(W({},a.state.participationTransfer),{},(0,l.A)({},r,n))}))})),(0,l.A)(a,"handleSubmit",(function(e){e.preventDefault();var t=a.state.participationTransfer,n={},r=!1;m().isEmpty(t.transferToContactId+"")&&(n.transferToContactId=!0,r=!0),m().isEmpty(t.participationsAmount+"")&&(n.participationsAmount=!0,r=!0),t.participationsAmount>a.state.participation.participationsCurrent&&(n.participationsAmount=!0,r=!0),t.participationsAmount<=0&&(n.participationsAmount=!0,r=!0),m().isEmpty(t.participationWorth+"")&&(n.participationWorth=!0,r=!0),t.participationWorth<0&&(n.participationWorth=!0,r=!0),!1===t.didSign&&(n.didSign=!0,r=!0),a.setState(W(W({},a.state),{},{errors:n})),!r&&P.A.transferParticipation(t).then((function(e){a.props.navigate("/project/deelnemer/".concat(t.participationId))}))})),a.state={contacts:[],participation:{},participationTransfer:{participationId:e.params.participationId,transferToContactId:"",projectId:"",participationsAmount:0,participationWorth:"",didSign:!1,dateBook:""},errors:{transferToContactId:!1,participationsAmount:!1,participationWorth:!1,didSign:!1},peekLoading:{contacts:!0}},a.handleInputChangeDate=a.handleInputChangeDate.bind(a),a.handleReactSelectChange=a.handleReactSelectChange.bind(a),a}return(0,o.A)(t,e),(0,r.A)(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;P.A.getContactsMembershipPeek(this.state.participationTransfer.participationId).then((function(t){t.unshift({id:"0",fullName:"Teruggave energieleverancier"}),e.setState({contacts:t,peekLoading:W(W({},e.state.peekLoading),{},{contacts:!1})})})),P.A.fetchParticipantProject(this.state.participationTransfer.participationId).then((function(t){e.setState({participation:t,participationTransfer:W(W({},e.state.participationTransfer),{},{projectId:t.project.id,participationWorth:t.project.participationWorth})})}))}},{key:"handleInputChangeDate",value:function(e,t){this.setState(W(W({},this.state),{},{participationTransfer:W(W({},this.state.participationTransfer),{},(0,l.A)({},t,e))}))}},{key:"handleReactSelectChange",value:function(e,t){this.setState(W(W({},this.state),{},{participationTransfer:W(W({},this.state.participationTransfer),{},(0,l.A)({},t,e))}))}},{key:"render",value:function(){return s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-9"},s.createElement("div",{className:"col-md-12"},s.createElement(E,null)),s.createElement("div",{className:"col-md-12"},s.createElement(h.A,null,s.createElement(f.A,null,s.createElement("div",{className:"col-md-12"},s.createElement(j,{participationTransfer:this.state.participationTransfer,errors:this.state.errors,handleInputChange:this.handleInputChange,handleInputChangeDate:this.handleInputChangeDate,handleSubmit:this.handleSubmit,contacts:this.state.contacts,participation:this.state.participation,peekLoading:this.state.peekLoading,handleReactSelectChange:this.handleReactSelectChange})))))),s.createElement("div",{className:"col-md-3"}))}}])}(s.Component);const q=function(e){var t=(0,d.Zp)(),a=(0,d.g)();return s.createElement(R,(0,p.A)({},e,{navigate:t,params:a}))}}}]);