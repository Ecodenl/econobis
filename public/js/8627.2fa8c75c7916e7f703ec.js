"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[8627],{7639:(e,t,n)=>{n.d(t,{A:()=>m});var l=n(96540),i=n(5556),o=n.n(i),r=n(91385),s=n(4353),a=n(95093),u=n.n(a);u().locale("nl");var c=function(e){var t=e.className,n=e.value,i=e.onChangeAction,o=e.placeholder,a=n?u()(n).format("L"):"";return l.createElement("th",{className:"DayPicker-overflow ".concat(t)},l.createElement(r.default,{value:a,onDayChange:i,formatDate:s.formatDate,parseDate:s.parseDate,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:s.default},inputProps:{className:"form-control input-sm",placeholder:o},placeholder:""}))};c.defaultProps={className:"",value:null,placeholder:""},c.propTypes={className:o().string,value:o().oneOfType([o().string,o().object]),onChangeAction:o().func,placeholder:o().string};const m=c},9152:(e,t,n)=>{n.d(t,{A:()=>m}),n(94170);var l=n(96540),i=n(5556),o=n.n(i),r=n(87722),s=n(71866),a=n(56908),u=void 0,c=function(e){var t=e.RowClassName,n=e.setSorts,i=e.sortColumn,o=e.title,c=e.width;return l.createElement("th",{className:t,width:c},o,l.createElement(r.Ay,{className:"pull-right small",size:14,icon:a.m,role:"button",onClick:n.bind(u,i,"ASC")}),l.createElement(r.Ay,{className:"pull-right small",size:14,icon:s.b,role:"button",onClick:n.bind(u,i,"DESC")}))};c.defaultProps={RowClassName:""},c.propTypes={setSorts:o().func.isRequired,sortColumn:o().string.isRequired,title:o().string.isRequired,width:o().string.isRequired,RowClassName:o().string};const m=c},19737:(e,t,n)=>{n.d(t,{A:()=>l});const l=function(e){var t=[];for(var n in e)""!==e[n].data&&t.push(e[n]);return t}},42285:(e,t,n)=>{n.d(t,{A:()=>i});var l=n(96540);const i=function(e){return l.createElement("table",{className:"table table-condensed table-hover table-striped col-xs-12"},e.children)}},45403:(e,t,n)=>{n.d(t,{A:()=>i});var l=n(96540);const i=function(e){return l.createElement("thead",null,e.children)}},56908:(e,t)=>{t.m=void 0,t.m={viewBox:"0 0 1664 1792",children:[{name:"path",attribs:{d:"M1611 832q0 53-37 90l-651 652q-39 37-91 37-53 0-90-37l-651-652q-38-36-38-90 0-53 38-91l74-75q39-37 91-37 53 0 90 37l294 294v-704q0-52 38-90t90-38h128q52 0 90 38t38 90v704l294-294q37-37 90-37 52 0 91 37l75 75q37 39 37 91z"}}]}},71866:(e,t)=>{t.b=void 0,t.b={viewBox:"0 0 1664 1792",children:[{name:"path",attribs:{d:"M1611 971q0 51-37 90l-75 75q-38 38-91 38-54 0-90-38l-294-293v704q0 52-37.5 84.5t-90.5 32.5h-128q-53 0-90.5-32.5t-37.5-84.5v-704l-294 293q-36 38-90 38t-90-38l-75-75q-38-38-38-90 0-53 38-91l651-651q35-37 90-37 54 0 91 37l651 651q37 39 37 91z"}}]}},93913:(e,t,n)=>{n.d(t,{A:()=>i});var l=n(96540);const i=function(e){return l.createElement("tbody",null,e.children)}},98627:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ne}),n(60825);var l=n(23029),i=n(92901),o=n(56822),r=n(53954),s=n(85501),a=n(64467),u=(n(94170),n(76031),n(96540)),c=n(69733),m=n(17375),d=function(e,t,n){return{type:"FETCH_HOUSING_FILES",filters:e,sorts:t,pagination:n}},f=function(){return{type:"CLEAR_HOUSING_FILES"}},h=function(e){return{type:"SET_FILTER_HOUSING_FILE_DATE",createdAt:e}},p=function(e){return{type:"SET_FILTER_HOUSING_FILE_ADDRESS",address:e}},g=function(e){return{type:"SET_FILTER_HOUSING_FILE_FULL_NAME",fullName:e}},E=function(e){return{type:"SET_FILTER_POSTAL_CODE",postalCode:e}},F=function(e){return{type:"SET_FILTER_CITY",city:e}},v=function(e){return{type:"SET_FILTER_HOUSING_FILE_BUILDING_TYPE",buildingTypeId:e}},y=function(e){return{type:"SET_FILTER_HOUSING_FILE_ENERGY_LABEL",energyLabelId:e}},A=function(e){return{type:"SET_FILTER_IS_HOUSE_FOR_SALE",isHouseForSale:e}},S=function(e){return{type:"SET_FILTER_BUILD_YEAR",buildYear:e}},b=function(){return{type:"CLEAR_FILTER_HOUSING_FILES"}},N=function(e){return{type:"SET_HOUSING_FILES_PAGINATION",pagination:e}},C=n(58168),H=(n(62062),n(26099),n(42285)),T=n(45403),I=n(93913),_=n(9152);const L=(0,c.Ng)(null,(function(e){return{setHousingFilesSortsFilter:function(t,n){e(function(e,t){return{type:"SET_HOUSING_FILES_SORTS_FILTER",field:e,order:t}}(t,n))}}}))((function(e){var t=function(t,n){e.setHousingFilesSortsFilter(t,n),setTimeout((function(){e.refreshHousingFilesData()}),100)};return u.createElement("tr",{className:"thead-title"},u.createElement(_.A,{sortColumn:"createdAt",title:"Datum",width:"10%",setSorts:t}),u.createElement(_.A,{sortColumn:"address",title:"Adres",width:"15%",setSorts:t}),u.createElement(_.A,{sortColumn:"postalCode",title:"Postcode",width:"10%",setSorts:t}),u.createElement(_.A,{sortColumn:"city",title:"Woonplaats",width:"10%",setSorts:t}),u.createElement(_.A,{sortColumn:"fullName",title:"Contact",width:"10%",setSorts:t}),u.createElement(_.A,{sortColumn:"buildYear",title:"Bouwjaar",width:"10%",setSorts:t}),u.createElement(_.A,{sortColumn:"buildingType",title:"Type woning",width:"15%",setSorts:t}),u.createElement(_.A,{sortColumn:"isHouseForSale",title:"Koophuis",width:"10%",setSorts:t}),u.createElement(_.A,{sortColumn:"energyLabel",title:"Energielabel",width:"5%",setSorts:t}),u.createElement("th",{width:"5%"}))}));n(62010);var w=n(95093),k=n.n(w),D=n(7639);const R=(0,c.Ng)((function(e){return{filters:e.housingFiles.filters,energyLabels:e.systemData.energyLabels,buildingTypes:e.systemData.buildingTypes}}),(function(e){return(0,m.zH)({setFilterBuildingType:v,clearFilterHousingFiles:b,setFilterFullName:g,setFilterPostalCode:E,setFilterCity:F,setFilterHousingFileAddress:p,setFilterHousingFileEnergyLabel:y,setHousingFileDateFilter:h,setFilterIsHouseForSale:A,setFilterBuildYear:S},e)}))((function(e){return u.createElement("tr",{className:"thead-filter"},u.createElement(D.A,{value:e.filters.createdAt.data&&e.filters.createdAt.data,onChangeAction:function(t){void 0===t?e.setHousingFileDateFilter(""):e.setHousingFileDateFilter(k()(t).format("Y-MM-DD"))}}),u.createElement("th",null,u.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.address.data,onChange:function(t){e.setFilterHousingFileAddress(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),u.createElement("th",null,u.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.postalCode.data,onChange:function(t){e.setFilterPostalCode(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),u.createElement("th",null,u.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.city.data,onChange:function(t){e.setFilterCity(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),u.createElement("th",null,u.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.fullName.data,onChange:function(t){e.setFilterFullName(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),u.createElement("th",null,u.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.buildYear.data,onChange:function(t){e.setFilterBuildYear(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),u.createElement("th",null,u.createElement("select",{className:"form-control input-sm",value:e.filters.buildingTypeId.data,onChange:function(t){e.setFilterBuildingType(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}},u.createElement("option",null),e.buildingTypes.map((function(e){return u.createElement("option",{key:e.id,value:e.id},e.name)})))),u.createElement("th",null,u.createElement("select",{className:"form-control input-sm",value:e.filters.isHouseForSale.data,onChange:function(t){e.setFilterIsHouseForSale(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}},u.createElement("option",null),u.createElement("option",{key:1,value:1},"Ja"),u.createElement("option",{key:0,value:0},"Nee"))),u.createElement("th",null,u.createElement("select",{className:"form-control input-sm",value:e.filters.energyLabelId.data,onChange:function(t){e.setFilterHousingFileEnergyLabel(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}},u.createElement("option",null),e.energyLabels.map((function(e){return u.createElement("option",{key:e.id,value:e.id},e.name)})))),u.createElement("th",null))}));var P=n(47767),U=n(87722),O=n(88505);function q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(q=function(){return!!e})()}var B=function(e){function t(e){var n,i,s,a;return(0,l.A)(this,t),i=this,s=t,a=[e],s=(0,r.A)(s),(n=(0,o.A)(i,q()?Reflect.construct(s,a||[],(0,r.A)(i).constructor):s.apply(i,a))).state={showActionButtons:!1,highlightRow:""},n}return(0,s.A)(t,e),(0,i.A)(t,[{key:"onRowEnter",value:function(){this.setState({showActionButtons:!0,highlightRow:"highlight-row"})}},{key:"onRowLeave",value:function(){this.setState({showActionButtons:!1,highlightRow:""})}},{key:"openItem",value:function(e){this.props.navigate("/woningdossier/".concat(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,l=t.fullName,i=t.createdAt,o=t.fullAddress,r=t.postalCode,s=t.city,a=t.buildYear,c=t.buildingType,m=t.isHouseForSale,d=t.energyLabel;return u.createElement("tr",{className:this.state.highlightRow,onDoubleClick:function(){return e.openItem(n)},onMouseEnter:function(){return e.onRowEnter()},onMouseLeave:function(){return e.onRowLeave()}},u.createElement("td",null,k()(i).format("DD-MM-Y")),u.createElement("td",null,o),u.createElement("td",null,r),u.createElement("td",null,s),u.createElement("td",null,l),u.createElement("td",null,a||""),u.createElement("td",null,c||""),u.createElement("td",null,m?"Ja":"Nee"),u.createElement("td",null,d||""),u.createElement("td",null,this.state.showActionButtons?u.createElement("a",{role:"button",onClick:function(){return e.openItem(n)}},u.createElement(U.Ay,{className:"mybtn-success",size:14,icon:O.w})):""))}}])}(u.Component);const x=function(e){var t=(0,P.Zp)();return u.createElement(B,(0,C.A)({},e,{navigate:t}))};var Y=n(74850);function G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(G=function(){return!!e})()}var M=function(e){function t(e){var n,i,s,u;return(0,l.A)(this,t),i=this,s=t,u=[e],s=(0,r.A)(s),n=(0,o.A)(i,G()?Reflect.construct(s,u||[],(0,r.A)(i).constructor):s.apply(i,u)),(0,a.A)(n,"handleKeyUp",(function(e){13===e.keyCode&&n.props.onSubmitFilter()})),n}return(0,s.A)(t,e),(0,i.A)(t,[{key:"render",value:function(){var e=this,t=this.props.housingFiles,n=t.data,l=void 0===n?[]:n,i=t.meta,o=void 0===i?{}:i,r="",s=!0;return this.props.hasError?r="Fout bij het ophalen van woningdossiers.":this.props.isLoading?r="Gegevens aan het laden.":0===l.length?r="Geen woningdossiers gevonden!":s=!1,u.createElement("form",{onKeyUp:this.handleKeyUp},u.createElement(H.A,null,u.createElement(T.A,null,u.createElement(L,{refreshHousingFilesData:function(){return e.props.refreshHousingFilesData()}}),u.createElement(R,{onSubmitFilter:this.props.onSubmitFilter})),u.createElement(I.A,null,s?u.createElement("tr",null,u.createElement("td",{colSpan:10},r)):l.map((function(e){return u.createElement(x,(0,C.A)({key:e.id},e))})))),u.createElement("div",{className:"col-md-4 col-md-offset-4"},u.createElement(Y.A,{onPageChangeAction:this.props.handlePageClick,totalRecords:o.total,initialPage:this.props.housingFilesPagination.page})))}}])}(u.Component);const z=(0,c.Ng)((function(e){return{isLoading:e.loadingData.isLoading,hasError:e.loadingData.hasError}}))(M);var W=n(91858);const K=(0,c.Ng)((function(e){return{housingFiles:e.housingFiles.list}}),null)((function(e){var t=e.housingFiles.meta,n=void 0===t?{}:t;return u.createElement("div",{className:"row"},u.createElement("div",{className:"col-md-4"},u.createElement("div",{className:"btn-group",role:"group"},u.createElement(W.A,{iconName:"refresh",onClickAction:e.resetHousingFileFilters}),u.createElement(W.A,{iconName:"download",onClickAction:e.getExcelHousingFiles,title:"Download woningdossiers"}))),u.createElement("div",{className:"col-md-4"},u.createElement("h3",{className:"text-center table-title"},"Woningdossiers")),u.createElement("div",{className:"col-md-4"},u.createElement("div",{className:"pull-right"},"Resultaten: ",n.total||0)))}));var j=n(19737),J=n(62493),Z=n(55849),Q=n(49957),V=n(5419),X=n.n(V),$=n(23138);function ee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ee=function(){return!!e})()}var te=function(e){function t(e){var n,i,s,u;return(0,l.A)(this,t),i=this,s=t,u=[e],s=(0,r.A)(s),n=(0,o.A)(i,ee()?Reflect.construct(s,u||[],(0,r.A)(i).constructor):s.apply(i,u)),(0,a.A)(n,"fetchHousingFilesData",(function(){setTimeout((function(){var e=(0,j.A)(n.props.housingFilesFilters),t=n.props.housingFilesSorts,l={limit:20,offset:n.props.housingFilesPagination.offset};n.props.fetchHousingFiles(e,t,l)}),100)})),(0,a.A)(n,"getExcelHousingFiles",(function(){n.props.blockUI(),setTimeout((function(){var e=(0,j.A)(n.props.housingFilesFilters),t=n.props.housingFilesSorts;Q.A.getExcelHousingFiles({filters:e,sorts:t}).then((function(e){X()(e.data,"Woningdossiers-"+k()().format("YYYY-MM-DD HH:mm:ss")+".xlsx"),n.props.unblockUI()})).catch((function(e){n.props.unblockUI()}))}),100)})),(0,a.A)(n,"resetHousingFileFilters",(function(){n.props.clearFilterHousingFiles(),n.fetchHousingFilesData()})),n.handlePageClick=n.handlePageClick.bind(n),n}return(0,s.A)(t,e),(0,i.A)(t,[{key:"componentDidMount",value:function(){this.fetchHousingFilesData()}},{key:"componentWillUnmount",value:function(){this.props.clearHousingFiles()}},{key:"onSubmitFilter",value:function(){var e=this;(0,j.A)(this.props.housingFilesFilters),this.props.housingFilesSorts,this.props.setHousingFilesPagination({page:0,offset:0}),setTimeout((function(){e.fetchHousingFilesData()}),100)}},{key:"handlePageClick",value:function(e){var t=this,n=e.selected,l=Math.ceil(20*n);this.props.setHousingFilesPagination({page:n,offset:l}),setTimeout((function(){t.fetchHousingFilesData()}),100)}},{key:"render",value:function(){var e=this;return u.createElement(J.A,null,u.createElement(Z.A,null,u.createElement("div",{className:"col-md-12 margin-10-top"},u.createElement(K,{resetHousingFileFilters:function(){return e.resetHousingFileFilters()},getExcelHousingFiles:this.getExcelHousingFiles})),u.createElement("div",{className:"col-md-12 margin-10-top"},u.createElement(z,{housingFiles:this.props.housingFiles,housingFilesPagination:this.props.housingFilesPagination,onSubmitFilter:function(){return e.onSubmitFilter()},refreshHousingFilesData:function(){return e.fetchHousingFilesData()},handlePageClick:this.handlePageClick}))))}}])}(u.Component);const ne=(0,c.Ng)((function(e){return{housingFiles:e.housingFiles.list,housingFilesFilters:e.housingFiles.filters,housingFilesSorts:e.housingFiles.sorts,housingFilesPagination:e.housingFiles.pagination}}),(function(e){return(0,m.zH)({fetchHousingFiles:d,clearHousingFiles:f,setHousingFilesPagination:N,clearFilterHousingFiles:b,blockUI:$.o,unblockUI:$.r},e)}))(te)}}]);