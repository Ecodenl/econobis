(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{1158:function(e,a,t){"use strict";t.d(a,"a",(function(){return E}));var n=t(546),c=t.n(n),i=t(0),r=t.n(i),l=t(27),o=t(30),s=t(36),m=t(1042),u=t(1066),d=t(37),h=t(123),p=t(89),f=t(76);function E(e){for(var a=e.initialValues,t=e.onSubmit,n=e.cancelAction,E=r.a.useState([]),g=c()(E,2),v=g[0],b=g[1],C=Object(m.a)({initialValues:a,validationSchema:u.a().shape({name:u.b().required("Verplicht")}),onSubmit:function(e,a){var n=a.setSubmitting;t(e,n)}}),T=C.values,N=C.errors,k=C.touched,w=C.handleChange,D=C.handleSubmit,A=C.handleBlur,S=C.isSubmitting,P=C.setFieldValue,I=[],W=30;W<=180;W+=15)I.push({id:W,name:W+" minuten"});return Object(i.useEffect)((function(){f.a.fetchEmailTemplatesPeek().then((function(e){b(e)}))}),[]),r.a.createElement("form",{className:"form-horizontal",onSubmit:D},r.a.createElement(l.a,null,r.a.createElement(o.a,null,r.a.createElement("div",{className:"row"},r.a.createElement(s.a,{label:"Weergavenaam",name:"name",value:T.name,onChangeAction:w,onBlurAction:A,required:"required",error:N.name&&k.name,errorMessage:N.name}),r.a.createElement(h.a,{label:"Standaard duur afspraak",name:"defaultDurationMinutes",value:T.defaultDurationMinutes,options:I,onChangeAction:w,emptyOption:!1})),r.a.createElement("div",{className:"row"},r.a.createElement(p.a,{label:"Verstuur automatisch e-mail aan bewoner bij maken afspraak",name:"sendEmailToContactWhenPlanned",value:T.sendEmailToContactWhenPlanned,onChangeAction:function(e){e.persist(),P(e.target.name,e.target.checked)},size:"col-sm-5",textToolTip:"Deze e-mails worden verstuurd vanaf het primaire e-mail adres."}),T.sendEmailToContactWhenPlanned&&r.a.createElement(h.a,{label:"E-mail template",name:"emailToContactTemplateId",value:T.emailToContactTemplateId,options:v,onChangeAction:w})),r.a.createElement("div",{className:"row"},r.a.createElement(p.a,{label:"Verstuur automatisch e-mail aan coach bij maken afspraak",name:"sendEmailToCoachWhenPlanned",value:T.sendEmailToCoachWhenPlanned,onChangeAction:function(e){e.persist(),P(e.target.name,e.target.checked)},size:"col-sm-5",textToolTip:"Deze e-mails worden verstuurd vanaf het primaire e-mail adres."}),T.sendEmailToCoachWhenPlanned&&r.a.createElement(h.a,{label:"E-mail template",name:"emailToCoachTemplateId",value:T.emailToCoachTemplateId,options:v,onChangeAction:w})),r.a.createElement("div",{className:"row"},r.a.createElement(p.a,{label:"Gesloten",name:"closed",value:T.closed,onChangeAction:function(e){e.persist(),P(e.target.name,e.target.checked)}}))),r.a.createElement(o.a,null,r.a.createElement("div",{className:"pull-right btn-group",role:"group"},n&&r.a.createElement(d.a,{buttonClassName:"btn-default",buttonText:"Sluiten",onClickAction:n}),r.a.createElement(d.a,{buttonText:"Opslaan",onClickAction:D,type:"submit",value:"Submit",loading:S})))))}},1560:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return u}));var n=t(0),c=t.n(n),i=t(27),r=t(30),l=t(50),o=t(4),s=t(954),m=t(1158);function u(){return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-9"},c.a.createElement("div",{className:"col-md-12 margin-10-top"},c.a.createElement(i.a,null,c.a.createElement(r.a,{className:"panel-small"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},c.a.createElement(l.a,{iconName:"glyphicon-arrow-left",onClickAction:o.e.goBack}))),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("h4",{className:"text-center margin-small"},"Nieuwe Afspraakkalender")),c.a.createElement("div",{className:"col-md-4"}))))),c.a.createElement("div",{className:"col-md-12 margin-10-top"},c.a.createElement(m.a,{initialValues:{defaultDurationMinutes:90,sendEmailToContactWhenPlanned:!1,sendEmailToCoachWhenPlanned:!1,closed:!1},onSubmit:function(e,a){var t=a.setSubmitting;s.a.newDistrict(e).then((function(e){o.f.push("/afspraak-kalender/".concat(e.id))})).catch((function(){t(!1),alert("Er is iets misgegaan met opslaan. Probeer het nogmaals")}))}}))))}},954:function(e,a,t){"use strict";var n=t(2);a.a={fetchDistricts:function(){return n.a.get("district").then((function(e){return e.data}))},fetchDistrictDetails:function(e){return n.a.get("".concat("district","/").concat(e)).then((function(e){return e.data}))},fetchDistrictCalendarItems:function(e,a,t){return n.a.get("".concat("district","/").concat(e,"/calendar-items"),{params:{startDate:a,endDate:t}}).then((function(e){return e.data}))},newDistrict:function(e){return n.a.post("district",e).then((function(e){return e.data}))},updateDistrict:function(e){return n.a.post("".concat("district","/").concat(e.id),e)},deleteDistrict:function(e){return n.a.post("".concat("district","/").concat(e.id,"/delete"))},detachDistrictCoach:function(e){var a=e.districtId,t=e.coachId;return n.a.post("".concat("district","/").concat(a,"/coaches/").concat(t,"/detach"))},attachDistrictCoach:function(e){var a=e.districtId,t=e.coachId;return n.a.post("".concat("district","/").concat(a,"/coaches/").concat(t,"/attach"))}}}}]);