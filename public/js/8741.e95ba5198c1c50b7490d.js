"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[8741],{58741:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h}),a(60825);var o=a(23029),r=a(92901),n=a(56822),l=a(53954),c=a(85501),s=a(64467),m=a(58168),i=(a(62010),a(96540)),u=a(49887),d=a(95506),f=a(84976),v=a(47767);function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}var p=function(e){function t(e){var a,r,c,m;return(0,o.A)(this,t),r=this,c=t,m=[e],c=(0,l.A)(c),a=(0,n.A)(r,g()?Reflect.construct(c,m||[],(0,l.A)(r).constructor):c.apply(r,m)),(0,s.A)(a,"handleInputChange",(function(e){var t=e.target,o=t.value,r=t.name;a.setState((0,s.A)({},r,o))})),(0,s.A)(a,"handleSubmit",(function(e){e.preventDefault(),u.A.confirmTwoFactor({code:a.state.twoFactorCode}).then((function(e){localStorage.setItem("two_factor_token",e.data.token),a.props.navigate("/")})).catch((function(){a.setState({twoFactorCode:"",errorMessage:"Ongeldige code."})}))})),(0,s.A)(a,"handleCancel",(function(e){e.preventDefault(),localStorage.removeItem("auth_token"),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("userId"),localStorage.removeItem("userName"),localStorage.removeItem("last_activity"),localStorage.removeItem("last_activity"),localStorage.removeItem("two_factor_token"),a.props.navigate("/login")})),a.state={twoFactorCode:"",errorMessage:""},a}return(0,c.A)(t,e),(0,r.A)(t,[{key:"renderAlert",value:function(){if(this.state.errorMessage)return i.createElement("div",{className:"col-sm-10 col-md-offset-1 alert alert-danger login-alert"},this.state.errorMessage)}},{key:"render",value:function(){return i.createElement("div",{className:"col-md-4 col-sm-8 col-xs-10 login-form"},i.createElement("div",{className:"panel panel-default add"},i.createElement("div",{className:"panel-body"},i.createElement("div",{className:"text-center"},i.createElement(d.A,{height:"150px"})),i.createElement("form",{onSubmit:this.handleSubmit},i.createElement("div",{className:"row margin-10-top"},i.createElement("div",{className:"col-sm-10 col-md-offset-1"},"Geef de twee factor code in die je in je authenticator app hebt gekregen.")),i.createElement("div",{className:"row margin-10-top"},i.createElement("div",{className:"col-sm-10 col-md-offset-1"},i.createElement("div",{className:"form-group"},i.createElement("label",{htmlFor:"username",className:"control-label"},"Twee factor code"),i.createElement("input",{type:"text",name:"twoFactorCode",value:this.state.twoFactorCode,className:"form-control",placeholder:"",onChange:this.handleInputChange,autoComplete:"off",autoFocus:!0}))),this.renderAlert()),i.createElement("div",{className:"row"},i.createElement("div",{className:"col-sm-10 col-md-offset-1"},i.createElement(f.N_,{to:"/two-factor/recover",className:"link-underline"},"Gebruik herstelcode"),i.createElement("div",{className:"pull-right"},i.createElement("button",{type:"button",className:"btn btn-default",onClick:this.handleCancel},"Annuleren"),i.createElement("button",{type:"submit",className:"btn btn-primary",style:{marginLeft:"5px"}},"Login"))))))))}}])}(i.Component);const h=function(e){var t=(0,v.Zp)();return i.createElement(p,(0,m.A)({},e,{navigate:t}))}}}]);