"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[8744],{69188:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(61941),c="financial-overview-contact";const i={fetchFinancialOverviewContacts:function(e,t,n,i,r,o){var l="".concat(c,"/grid");return a.A.get(l,{params:{financialOverviewId:JSON.stringify(i),onlyEmailFinancialOverviewContacts:JSON.stringify(r),onlyPostFinancialOverviewContacts:JSON.stringify(o),filters:JSON.stringify(e),sorts:JSON.stringify(t),limit:n.limit,offset:n.offset}})},fetchFinancialOverviewContactDetails:function(e){var t="".concat(c,"/").concat(e,"/get");return a.A.get(t)},getFinancialOverviewContactsForSending:function(e,t,n){var i="".concat(c,"/").concat(e,"/sending/").concat(n);return a.A.post(i,{ids:t})},sendAll:function(e,t){var n="".concat(c,"/").concat(e,"/send-all");document.body.style.cursor="wait";var i=a.A.post(n,{ids:t},{responseType:"blob"});return document.body.style.cursor="default",i},sendAllPost:function(e,t){var n="".concat(c,"/").concat(e,"/send-all-post");document.body.style.cursor="wait";var i=a.A.post(n,{ids:t},{responseType:"blob"});return document.body.style.cursor="default",i},download:function(e){var t="".concat(c,"/").concat(e,"/download");return a.A.get(t,{responseType:"blob"})},downloadPreview:function(e){var t="".concat(c,"/").concat(e,"}/download-preview");return a.A.get(t,{responseType:"blob"})},getEmailPreview:function(e){var t="".concat(c,"/").concat(e,"/email-preview");return a.A.get(t)}}},53530:(e,t,n)=>{n.d(t,{A:()=>v});var a=n(96540),c=n(96522),i=n(5556),r=n.n(i),o=n(62493),l=n(55956),s=function(e){var t=e.label,n=e.className,i=e.id,r=e.value,s=e.switchToEdit;return a.createElement("div",{className:n},a.createElement("label",{htmlFor:i,className:"col-sm-3"},t,s?a.createElement("span",null,a.createElement("br",null),a.createElement(l.A,{buttonClassName:"btn-success btn-padding-small",buttonText:"Wijzig",onClickAction:s})):""),a.createElement(o.A,{className:"col-sm-9"},a.createElement(c.A,null,a.createElement("div",{id:i,dangerouslySetInnerHTML:{__html:r}}))))};s.defaultProps={className:"col-sm-12",value:""},s.propTypes={label:r().string.isRequired,className:r().string,id:r().string,value:r().oneOfType([r().string,r().number])};const v=s},38744:(e,t,n)=>{n.r(t),n.d(t,{default:()=>q});var a=n(23029),c=n(92901),i=n(56822),r=n(53954),o=n(85501),l=n(64467),s=n(96540),v=n(62493),m=n(55849),u=n(91877),d=n(24179);function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}const f=function(e){function t(e){return(0,a.A)(this,t),n=this,c=t,o=[e],c=(0,r.A)(c),(0,i.A)(n,p()?Reflect.construct(c,o||[],(0,r.A)(n).constructor):c.apply(n,o));var n,c,o}return(0,o.A)(t,e),(0,c.A)(t,[{key:"render",value:function(){var e=this;return s.createElement("nav",{className:"financialOverviewContacts-list open sticky"},s.createElement("div",{className:"send-financial-overview-contacts-sidebar-menu",style:{color:"$brand-primary"}},s.createElement(u.Ay,{highlightColor:"$brand-primary",highlightBgColor:"#e5e5e5",hoverBgColor:"#F1EFF0",defaultSelected:"financialOverviewContact"},this.props.financialOverviewContacts.length>0?this.props.financialOverviewContacts.map((function(t,n){return s.createElement(u.so,{onNavClick:function(){return e.props.changeFinancialOverviewContact(t.id)},key:n,id:"foc-".concat(t.id)},s.createElement(u.Jm,null,s.createElement(d.N_,{className:"".concat("Geen e-mail bekend"===t.emailed_to?"send-financial-overview-contacts-list-link-error":"send-financial-overview-contacts-list-link")},t.contactNumber," -"," ",t.contactName)))})):s.createElement(u.so,{id:"financialOverviewContact"},s.createElement(u.Jm,null,this.props.isLoading?s.createElement(d.N_,{className:"send-financial-overview-contacts-list-link"},"Gegevens aan het laden."):s.createElement(d.N_,{className:"send-financial-overview-contacts-list-link"},"Geen waardestaten beschikbaar."))))))}}])}(s.Component);var h=n(69188),w=n(41919);function O(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(O=function(){return!!e})()}const g=function(e){function t(e){var n,c,o,l;return(0,a.A)(this,t),c=this,o=t,l=[e],o=(0,r.A)(o),(n=(0,i.A)(c,O()?Reflect.construct(o,l||[],(0,r.A)(c).constructor):o.apply(c,l))).state={file:null},n}return(0,o.A)(t,e),(0,c.A)(t,[{key:"componentDidUpdate",value:function(e){this.props.financialOverviewContactId!==e.financialOverviewContactId&&this.props.financialOverviewContactId&&this.downloadFile(this.props.financialOverviewContactId)}},{key:"downloadFile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;h.A.download(e).then((function(e){t.setState({file:e.data})})).catch((function(){n<2&&setTimeout((function(){t.downloadFile(e,n)}),500),n++}))}},{key:"render",value:function(){return this.props.isLoading?s.createElement("div",null,"Gegevens aan het laden."):this.state.file?s.createElement("div",null,s.createElement(w.A,{file:this.state.file})):this.props.amountOfFinancialOverviewContacts>0?s.createElement("div",null,"Selecteer links in het scherm een contact om een preview te zien."):s.createElement("div",null,"Geen gegevens gevonden.")}}])}(s.Component);n(2543);var E=n(53530);function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}const A=function(e){function t(e){var n,c,o,l;return(0,a.A)(this,t),c=this,o=t,l=[e],o=(0,r.A)(o),(n=(0,i.A)(c,y()?Reflect.construct(o,l||[],(0,r.A)(c).constructor):o.apply(c,l))).state={email:null},n}return(0,o.A)(t,e),(0,c.A)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.financialOverviewContactId!==e.financialOverviewContactId&&e.financialOverviewContactId&&this.downloadEmail(e.financialOverviewContactId)}},{key:"downloadEmail",value:function(e){var t=this;h.A.getEmailPreview(e).then((function(e){t.setState({email:e.data})}))}},{key:"render",value:function(){return this.props.isLoading?s.createElement("div",null,"Gegevens aan het laden."):this.state.email?s.createElement("div",null,s.createElement("div",{className:"row margin-10-top"},s.createElement("div",{className:"col-sm-12"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-3"},s.createElement("label",{className:"col-sm-12"},"Aan")),s.createElement("div",{className:"col-sm-9"},this.state.email.to)))),this.state.email.bcc?s.createElement("div",{className:"row margin-10-top"},s.createElement("div",{className:"col-sm-12"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-3"},s.createElement("label",{className:"col-sm-12"},"Bcc")),s.createElement("div",{className:"col-sm-9"},this.state.email.bcc)))):null,s.createElement("div",{className:"row margin-10-top"},s.createElement("div",{className:"col-sm-12"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-3"},s.createElement("label",{className:"col-sm-12"},"Onderwerp")),s.createElement("div",{className:"col-sm-9"},this.state.email.subject)))),s.createElement("div",{className:"row"},s.createElement(E.A,{label:"Tekst",value:this.state.email.htmlBody}))):this.props.amountOfFinancialOverviewContacts>0?s.createElement("div",null,"Selecteer links in het scherm een contact om een preview te zien."):s.createElement("div",null,"Geen gegevens gevonden.")}}])}(s.Component);var b=n(91858),C=n(63750),N=n(5419),I=n.n(N),S=n(46749),k=n(69733);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,l.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(P=function(){return!!e})()}var D=function(e){function t(e){var n,c,o,s;return(0,a.A)(this,t),c=this,o=t,s=[e],o=(0,r.A)(o),n=(0,i.A)(c,P()?Reflect.construct(o,s||[],(0,r.A)(c).constructor):o.apply(c,s)),(0,l.A)(n,"confirmAction",(function(e){e.preventDefault(),n.setState({loading:!0}),h.A.sendAll(n.props.financialOverviewId,n.props.financialOverviewContactIds,null).then((function(e){e&&e.headers&&e.headers["x-filename"]&&I()(e.data,e.headers["x-filename"])})),d.RL.push("/waardestaat/".concat(n.props.financialOverviewId))})),(0,l.A)(n,"handleInputChangeDate",(function(e,t){n.setState(F(F({},n.state),{},(0,l.A)({},t,e)))})),n.state={loading:!1},n}return(0,o.A)(t,e),(0,c.A)(t,[{key:"render",value:function(){return s.createElement(C.A,{closeModal:this.props.closeModal,confirmAction:this.confirmAction,title:"Waardestaten verzenden",buttonConfirmText:"Verzenden",loading:this.state.loading},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-12 margin-10-bottom"},s.createElement("span",null,"Wilt u alle geselecteerde definitieve waardestaten (",this.props.financialOverviewContactIds.length,") verzenden?"))))}}])}(s.Component);const B=(0,k.Ng)(null,(function(e){return{setError:function(t,n){e((0,S.N)(t,n))}}}))(D);var R=n(55956);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,l.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(x=function(){return!!e})()}n(73421),n(95093);const z=function(e){function t(e){var n,c,o,s;return(0,a.A)(this,t),c=this,o=t,s=[e],o=(0,r.A)(o),n=(0,i.A)(c,x()?Reflect.construct(o,s||[],(0,r.A)(c).constructor):o.apply(c,s)),(0,l.A)(n,"confirmAction",(function(e){e.preventDefault(),n.setState({loading:!0}),h.A.sendAllPost(n.props.financialOverviewId,n.props.financialOverviewContactIds,null).then((function(e){e&&e.headers&&e.headers["x-filename"]&&I()(e.data,e.headers["x-filename"])})),d.RL.push("/waardestaat/".concat(n.props.financialOverviewId))})),(0,l.A)(n,"handleInputChangeDate",(function(e,t){n.setState(T(T({},n.state),{},(0,l.A)({},t,e)))})),n.state={loading:!1},n}return(0,o.A)(t,e),(0,c.A)(t,[{key:"render",value:function(){return s.createElement(C.A,{closeModal:this.props.closeModal,confirmAction:this.confirmAction,title:"Waardestaten downloaden",buttonConfirmText:"Downloaden",loading:this.state.loading},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-12 margin-10-bottom"},s.createElement("span",null,"Wilt u alle geselecteerde definitieve waardestaten (",this.props.financialOverviewContactIds.length,") downloaden en doorzetten naar status verzonden?"))))}}])}(s.Component);function G(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(G=function(){return!!e})()}const M=function(e){function t(e){var n,c,o,s;return(0,a.A)(this,t),c=this,o=t,s=[e],o=(0,r.A)(o),n=(0,i.A)(c,G()?Reflect.construct(o,s||[],(0,r.A)(c).constructor):o.apply(c,s)),(0,l.A)(n,"showSend",(function(){n.setState({showSend:!n.state.showSend})})),n.state={showSend:!1},n}return(0,o.A)(t,e),(0,c.A)(t,[{key:"render",value:function(){return s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-4"},s.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},s.createElement(b.A,{iconName:"arrowLeft",onClickAction:d.Nc.goBack}),this.props.amountOfFinancialOverviewContacts>0&&"email"===this.props.type&&s.createElement(R.A,{buttonText:"Waardestaten e-mailen",onClickAction:this.showSend}),this.props.amountOfFinancialOverviewContacts>0&&"post"===this.props.type&&s.createElement(R.A,{buttonText:"Waardestaten downloaden",onClickAction:this.showSend}))),s.createElement("div",{className:"col-md-4"},s.createElement("h4",{className:"text-center"},"Te verzenden waardestaten versturen (",this.props.amountOfFinancialOverviewContacts,")")),s.createElement("div",{className:"col-md-4"}),this.state.showSend&&"email"===this.props.type&&s.createElement(B,{type:this.props.type,financialOverviewContactIds:this.props.selectedIds,closeModal:this.showSend,financialOverviewId:this.props.financialOverviewId}),this.state.showSend&&"post"===this.props.type&&s.createElement(z,{type:this.props.type,financialOverviewContactIds:this.props.selectedIds,closeModal:this.showSend,financialOverviewId:this.props.financialOverviewId}))}}])}(s.Component);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,l.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function(){return!!e})()}var $=function(e){function t(e){var n,c,o,s;return(0,a.A)(this,t),c=this,o=t,s=[e],o=(0,r.A)(o),n=(0,i.A)(c,_()?Reflect.construct(o,s||[],(0,r.A)(c).constructor):o.apply(c,s)),(0,l.A)(n,"callGetFinancialOverviewContactsForSending",(function(){n.setState({isLoading:!0}),h.A.getFinancialOverviewContactsForSending(n.props.params.id,n.props.selectedIds,n.props.params.type).then((function(e){n.setState({financialOverviewContacts:e.data.data,isLoading:!1})})).catch((function(e){n.setState({isLoading:!1})}))})),(0,l.A)(n,"changeFinancialOverviewContact",(function(e){n.setState(J(J({},n.state),{},{financialOverviewContactId:e}))})),n.state={financialOverviewContacts:[],financialOverviewContactId:"",isLoading:!1},n}return(0,o.A)(t,e),(0,c.A)(t,[{key:"componentDidMount",value:function(){this.callGetFinancialOverviewContactsForSending()}},{key:"render",value:function(){return s.createElement("div",null,s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-12 margin-10-top"},s.createElement("div",{className:"col-md-12 margin-10-top"},s.createElement(v.A,null,s.createElement(m.A,{className:"panel-small"},s.createElement(M,{type:this.props.params.type,selectedIds:this.props.selectedIds,amountOfFinancialOverviewContacts:this.state.financialOverviewContacts?this.state.financialOverviewContacts.length:0,financialOverviewId:this.props.params.id})))))),s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-2"},s.createElement("div",{className:"col-md-12 margin-10-top"},s.createElement(v.A,null,s.createElement(m.A,{className:"panel-financial-overview-contacts-list"},s.createElement(f,{financialOverviewContacts:this.state.financialOverviewContacts,isLoading:this.state.isLoading,changeFinancialOverviewContact:this.changeFinancialOverviewContact}))))),"email"==this.props.params.type?s.createElement(s.Fragment,null,s.createElement("div",{className:"col-md-5"},s.createElement("div",{className:"col-md-12 margin-10-top"},s.createElement(v.A,null,s.createElement(m.A,null,s.createElement(g,{financialOverviewContactId:this.state.financialOverviewContactId,isLoading:this.state.isLoading,amountOfFinancialOverviewContacts:this.state.financialOverviewContacts?this.state.financialOverviewContacts.length:-1}))))),s.createElement("div",{className:"col-md-5"},s.createElement("div",{className:"col-md-12 margin-10-top"},s.createElement(v.A,null,s.createElement(m.A,null,s.createElement(A,{financialOverviewContactId:this.state.financialOverviewContactId,isLoading:this.state.isLoading,amountOfFinancialOverviewContacts:this.state.financialOverviewContacts?this.state.financialOverviewContacts.length:-1})))))):s.createElement(s.Fragment,null,s.createElement("div",{className:"col-md-6"},s.createElement("div",{className:"col-md-12 margin-10-top"},s.createElement(v.A,null,s.createElement(m.A,null,s.createElement(g,{financialOverviewContactId:this.state.financialOverviewContactId}))))))))}}])}(s.Component);const q=(0,k.Ng)((function(e){return{selectedIds:e.financialOverviewPreview.selectedIds}}),null)($)}}]);