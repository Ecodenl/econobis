"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[8744],{69188:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(61941),c="financial-overview-contact";const i={fetchFinancialOverviewContacts:function(e,t,n,i,r,o){var l="".concat(c,"/grid");return a.A.get(l,{params:{financialOverviewId:JSON.stringify(i),onlyEmailFinancialOverviewContacts:JSON.stringify(r),onlyPostFinancialOverviewContacts:JSON.stringify(o),filters:JSON.stringify(e),sorts:JSON.stringify(t),limit:n.limit,offset:n.offset}})},fetchFinancialOverviewContactDetails:function(e){var t="".concat(c,"/").concat(e,"/get");return a.A.get(t)},getFinancialOverviewContactsForSending:function(e,t,n){var i="".concat(c,"/").concat(e,"/sending/").concat(n);return a.A.post(i,{ids:t})},sendAll:function(e,t){var n="".concat(c,"/").concat(e,"/send-all");document.body.style.cursor="wait";var i=a.A.post(n,{ids:t},{responseType:"blob"});return document.body.style.cursor="default",i},sendAllPost:function(e,t){var n="".concat(c,"/").concat(e,"/send-all-post");document.body.style.cursor="wait";var i=a.A.post(n,{ids:t},{responseType:"blob"});return document.body.style.cursor="default",i},download:function(e){var t="".concat(c,"/").concat(e,"/download");return a.A.get(t,{responseType:"blob"})},downloadPreview:function(e){var t="".concat(c,"/").concat(e,"}/download-preview");return a.A.get(t,{responseType:"blob"})},getEmailPreview:function(e){var t="".concat(c,"/").concat(e,"/email-preview");return a.A.get(t)}}},53530:(e,t,n)=>{n.d(t,{A:()=>u});var a=n(96540),c=n(96522),i=n(5556),r=n.n(i),o=n(62493),l=n(55956),s=function(e){var t=e.label,n=e.className,i=e.id,r=e.value,s=e.switchToEdit;return a.createElement("div",{className:n},a.createElement("label",{htmlFor:i,className:"col-sm-3"},t,s?a.createElement("span",null,a.createElement("br",null),a.createElement(l.A,{buttonClassName:"btn-success btn-padding-small",buttonText:"Wijzig",onClickAction:s})):""),a.createElement(o.A,{className:"col-sm-9"},a.createElement(c.A,null,a.createElement("div",{id:i,dangerouslySetInnerHTML:{__html:r}}))))};s.defaultProps={className:"col-sm-12",value:""},s.propTypes={label:r().string.isRequired,className:r().string,id:r().string,value:r().oneOfType([r().string,r().number])};const u=s},38744:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Y});var a=n(23029),c=n(92901),i=n(56822),r=n(53954),o=n(85501),l=n(64467),s=n(96540),u=n(62493),v=n(55849),m=n(91877),d=n(24179);function f(e,t,n){return t=(0,r.A)(t),(0,i.A)(e,p()?Reflect.construct(t,n||[],(0,r.A)(e).constructor):t.apply(e,n))}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}const h=function(e){function t(e){return(0,a.A)(this,t),f(this,t,[e])}return(0,o.A)(t,e),(0,c.A)(t,[{key:"render",value:function(){var e=this;return s.createElement("nav",{className:"financialOverviewContacts-list open sticky"},s.createElement("div",{className:"send-financial-overview-contacts-sidebar-menu",style:{color:"$brand-primary"}},s.createElement(m.Ay,{highlightColor:"$brand-primary",highlightBgColor:"#e5e5e5",hoverBgColor:"#F1EFF0",defaultSelected:"financialOverviewContact"},this.props.financialOverviewContacts.length>0?this.props.financialOverviewContacts.map((function(t,n){return s.createElement(m.so,{onNavClick:function(){return e.props.changeFinancialOverviewContact(t.id)},key:n,id:"foc-".concat(t.id)},s.createElement(m.Jm,null,s.createElement(d.N_,{className:"".concat("Geen e-mail bekend"===t.emailed_to?"send-financial-overview-contacts-list-link-error":"send-financial-overview-contacts-list-link")},t.contactNumber," -"," ",t.contactName)))})):s.createElement(m.so,{id:"financialOverviewContact"},s.createElement(m.Jm,null,this.props.isLoading?s.createElement(d.N_,{className:"send-financial-overview-contacts-list-link"},"Gegevens aan het laden."):s.createElement(d.N_,{className:"send-financial-overview-contacts-list-link"},"Geen waardestaten beschikbaar."))))))}}])}(s.Component);var w=n(69188),O=n(41919);function g(e,t,n){return t=(0,r.A)(t),(0,i.A)(e,E()?Reflect.construct(t,n||[],(0,r.A)(e).constructor):t.apply(e,n))}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}const y=function(e){function t(e){var n;return(0,a.A)(this,t),(n=g(this,t,[e])).state={file:null},n}return(0,o.A)(t,e),(0,c.A)(t,[{key:"componentDidUpdate",value:function(e){this.props.financialOverviewContactId!==e.financialOverviewContactId&&this.props.financialOverviewContactId&&this.downloadFile(this.props.financialOverviewContactId)}},{key:"downloadFile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;w.A.download(e).then((function(e){t.setState({file:e.data})})).catch((function(){n<2&&setTimeout((function(){t.downloadFile(e,n)}),500),n++}))}},{key:"render",value:function(){return this.props.isLoading?s.createElement("div",null,"Gegevens aan het laden."):this.state.file?s.createElement("div",null,s.createElement(O.A,{file:this.state.file})):this.props.amountOfFinancialOverviewContacts>0?s.createElement("div",null,"Selecteer links in het scherm een contact om een preview te zien."):s.createElement("div",null,"Geen gegevens gevonden.")}}])}(s.Component);n(2543);var A=n(53530);function b(e,t,n){return t=(0,r.A)(t),(0,i.A)(e,C()?Reflect.construct(t,n||[],(0,r.A)(e).constructor):t.apply(e,n))}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(C=function(){return!!e})()}const N=function(e){function t(e){var n;return(0,a.A)(this,t),(n=b(this,t,[e])).state={email:null},n}return(0,o.A)(t,e),(0,c.A)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.financialOverviewContactId!==e.financialOverviewContactId&&e.financialOverviewContactId&&this.downloadEmail(e.financialOverviewContactId)}},{key:"downloadEmail",value:function(e){var t=this;w.A.getEmailPreview(e).then((function(e){t.setState({email:e.data})}))}},{key:"render",value:function(){return this.props.isLoading?s.createElement("div",null,"Gegevens aan het laden."):this.state.email?s.createElement("div",null,s.createElement("div",{className:"row margin-10-top"},s.createElement("div",{className:"col-sm-12"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-3"},s.createElement("label",{className:"col-sm-12"},"Aan")),s.createElement("div",{className:"col-sm-9"},this.state.email.to)))),this.state.email.bcc?s.createElement("div",{className:"row margin-10-top"},s.createElement("div",{className:"col-sm-12"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-3"},s.createElement("label",{className:"col-sm-12"},"Bcc")),s.createElement("div",{className:"col-sm-9"},this.state.email.bcc)))):null,s.createElement("div",{className:"row margin-10-top"},s.createElement("div",{className:"col-sm-12"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-3"},s.createElement("label",{className:"col-sm-12"},"Onderwerp")),s.createElement("div",{className:"col-sm-9"},this.state.email.subject)))),s.createElement("div",{className:"row"},s.createElement(A.A,{label:"Tekst",value:this.state.email.htmlBody}))):this.props.amountOfFinancialOverviewContacts>0?s.createElement("div",null,"Selecteer links in het scherm een contact om een preview te zien."):s.createElement("div",null,"Geen gegevens gevonden.")}}])}(s.Component);var I=n(91858),S=n(63750),k=n(5419),j=n.n(k),F=n(46749),P=n(69733);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,l.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t=(0,r.A)(t),(0,i.A)(e,L()?Reflect.construct(t,n||[],(0,r.A)(e).constructor):t.apply(e,n))}function L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(L=function(){return!!e})()}var T=function(e){function t(e){var n;return(0,a.A)(this,t),n=R(this,t,[e]),(0,l.A)(n,"confirmAction",(function(e){e.preventDefault(),n.setState({loading:!0}),w.A.sendAll(n.props.financialOverviewId,n.props.financialOverviewContactIds,null).then((function(e){e&&e.headers&&e.headers["x-filename"]&&j()(e.data,e.headers["x-filename"])})),d.RL.push("/waardestaat/".concat(n.props.financialOverviewId))})),(0,l.A)(n,"handleInputChangeDate",(function(e,t){n.setState(B(B({},n.state),{},(0,l.A)({},t,e)))})),n.state={loading:!1},n}return(0,o.A)(t,e),(0,c.A)(t,[{key:"render",value:function(){return s.createElement(S.A,{closeModal:this.props.closeModal,confirmAction:this.confirmAction,title:"Waardestaten verzenden",buttonConfirmText:"Verzenden",loading:this.state.loading},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-12 margin-10-bottom"},s.createElement("span",null,"Wilt u alle geselecteerde definitieve waardestaten (",this.props.financialOverviewContactIds.length,") verzenden?"))))}}])}(s.Component);const x=(0,P.Ng)(null,(function(e){return{setError:function(t,n){e((0,F.N)(t,n))}}}))(T);var z=n(55956);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,l.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t=(0,r.A)(t),(0,i.A)(e,J()?Reflect.construct(t,n||[],(0,r.A)(e).constructor):t.apply(e,n))}function J(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(J=function(){return!!e})()}n(73421),n(95093);const _=function(e){function t(e){var n;return(0,a.A)(this,t),n=W(this,t,[e]),(0,l.A)(n,"confirmAction",(function(e){e.preventDefault(),n.setState({loading:!0}),w.A.sendAllPost(n.props.financialOverviewId,n.props.financialOverviewContactIds,null).then((function(e){e&&e.headers&&e.headers["x-filename"]&&j()(e.data,e.headers["x-filename"])})),d.RL.push("/waardestaat/".concat(n.props.financialOverviewId))})),(0,l.A)(n,"handleInputChangeDate",(function(e,t){n.setState(M(M({},n.state),{},(0,l.A)({},t,e)))})),n.state={loading:!1},n}return(0,o.A)(t,e),(0,c.A)(t,[{key:"render",value:function(){return s.createElement(S.A,{closeModal:this.props.closeModal,confirmAction:this.confirmAction,title:"Waardestaten downloaden",buttonConfirmText:"Downloaden",loading:this.state.loading},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-12 margin-10-bottom"},s.createElement("span",null,"Wilt u alle geselecteerde definitieve waardestaten (",this.props.financialOverviewContactIds.length,") downloaden en doorzetten naar status verzonden?"))))}}])}(s.Component);function $(e,t,n){return t=(0,r.A)(t),(0,i.A)(e,q()?Reflect.construct(t,n||[],(0,r.A)(e).constructor):t.apply(e,n))}function q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(q=function(){return!!e})()}const H=function(e){function t(e){var n;return(0,a.A)(this,t),n=$(this,t,[e]),(0,l.A)(n,"showSend",(function(){n.setState({showSend:!n.state.showSend})})),n.state={showSend:!1},n}return(0,o.A)(t,e),(0,c.A)(t,[{key:"render",value:function(){return s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-4"},s.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},s.createElement(I.A,{iconName:"arrowLeft",onClickAction:d.Nc.goBack}),this.props.amountOfFinancialOverviewContacts>0&&"email"===this.props.type&&s.createElement(z.A,{buttonText:"Waardestaten e-mailen",onClickAction:this.showSend}),this.props.amountOfFinancialOverviewContacts>0&&"post"===this.props.type&&s.createElement(z.A,{buttonText:"Waardestaten downloaden",onClickAction:this.showSend}))),s.createElement("div",{className:"col-md-4"},s.createElement("h4",{className:"text-center"},"Te verzenden waardestaten versturen (",this.props.amountOfFinancialOverviewContacts,")")),s.createElement("div",{className:"col-md-4"}),this.state.showSend&&"email"===this.props.type&&s.createElement(x,{type:this.props.type,financialOverviewContactIds:this.props.selectedIds,closeModal:this.showSend,financialOverviewId:this.props.financialOverviewId}),this.state.showSend&&"post"===this.props.type&&s.createElement(_,{type:this.props.type,financialOverviewContactIds:this.props.selectedIds,closeModal:this.showSend,financialOverviewId:this.props.financialOverviewId}))}}])}(s.Component);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,l.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t=(0,r.A)(t),(0,i.A)(e,Q()?Reflect.construct(t,n||[],(0,r.A)(e).constructor):t.apply(e,n))}function Q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Q=function(){return!!e})()}var X=function(e){function t(e){var n;return(0,a.A)(this,t),n=K(this,t,[e]),(0,l.A)(n,"callGetFinancialOverviewContactsForSending",(function(){n.setState({isLoading:!0}),w.A.getFinancialOverviewContactsForSending(n.props.params.id,n.props.selectedIds,n.props.params.type).then((function(e){n.setState({financialOverviewContacts:e.data.data,isLoading:!1})})).catch((function(e){n.setState({isLoading:!1})}))})),(0,l.A)(n,"changeFinancialOverviewContact",(function(e){n.setState(V(V({},n.state),{},{financialOverviewContactId:e}))})),n.state={financialOverviewContacts:[],financialOverviewContactId:"",isLoading:!1},n}return(0,o.A)(t,e),(0,c.A)(t,[{key:"componentDidMount",value:function(){this.callGetFinancialOverviewContactsForSending()}},{key:"render",value:function(){return s.createElement("div",null,s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-12 margin-10-top"},s.createElement("div",{className:"col-md-12 margin-10-top"},s.createElement(u.A,null,s.createElement(v.A,{className:"panel-small"},s.createElement(H,{type:this.props.params.type,selectedIds:this.props.selectedIds,amountOfFinancialOverviewContacts:this.state.financialOverviewContacts?this.state.financialOverviewContacts.length:0,financialOverviewId:this.props.params.id})))))),s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-2"},s.createElement("div",{className:"col-md-12 margin-10-top"},s.createElement(u.A,null,s.createElement(v.A,{className:"panel-financial-overview-contacts-list"},s.createElement(h,{financialOverviewContacts:this.state.financialOverviewContacts,isLoading:this.state.isLoading,changeFinancialOverviewContact:this.changeFinancialOverviewContact}))))),"email"==this.props.params.type?s.createElement(s.Fragment,null,s.createElement("div",{className:"col-md-5"},s.createElement("div",{className:"col-md-12 margin-10-top"},s.createElement(u.A,null,s.createElement(v.A,null,s.createElement(y,{financialOverviewContactId:this.state.financialOverviewContactId,isLoading:this.state.isLoading,amountOfFinancialOverviewContacts:this.state.financialOverviewContacts?this.state.financialOverviewContacts.length:-1}))))),s.createElement("div",{className:"col-md-5"},s.createElement("div",{className:"col-md-12 margin-10-top"},s.createElement(u.A,null,s.createElement(v.A,null,s.createElement(N,{financialOverviewContactId:this.state.financialOverviewContactId,isLoading:this.state.isLoading,amountOfFinancialOverviewContacts:this.state.financialOverviewContacts?this.state.financialOverviewContacts.length:-1})))))):s.createElement(s.Fragment,null,s.createElement("div",{className:"col-md-6"},s.createElement("div",{className:"col-md-12 margin-10-top"},s.createElement(u.A,null,s.createElement(v.A,null,s.createElement(y,{financialOverviewContactId:this.state.financialOverviewContactId}))))))))}}])}(s.Component);const Y=(0,P.Ng)((function(e){return{selectedIds:e.financialOverviewPreview.selectedIds}}),null)(X)}}]);