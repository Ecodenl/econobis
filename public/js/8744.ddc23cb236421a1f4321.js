"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[8744],{11392:(e,t,n)=>{var a,c=n(46518),r=n(27476),i=n(77347).f,o=n(18014),l=n(655),s=n(60511),v=n(67750),u=n(41436),m=n(96395),d=r("".slice),f=Math.min,p=u("startsWith");c({target:"String",proto:!0,forced:!(!m&&!p&&(a=i(String.prototype,"startsWith"),a&&!a.writable)||p)},{startsWith:function(e){var t=l(v(this));s(e);var n=o(f(arguments.length>1?arguments[1]:void 0,t.length)),a=l(e);return d(t,n,n+a.length)===a}})},38744:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V}),n(52675),n(2008),n(51629),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(60825),n(23500);var a=n(23029),c=n(92901),r=n(50388),i=n(53954),o=n(85501),l=n(64467),s=n(58168),v=n(96540),u=n(62493),m=n(55849),d=(n(62062),n(2892),n(11392),n(9995)),f=n.n(d);function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}const h=function(e){function t(){return(0,a.A)(this,t),e=this,n=t,c=arguments,n=(0,i.A)(n),(0,r.A)(e,p()?Reflect.construct(n,c||[],(0,i.A)(e).constructor):n.apply(e,c));var e,n,c}return(0,o.A)(t,e),(0,c.A)(t,[{key:"render",value:function(){var e=this.props,t=e.financialOverviewContacts,n=void 0===t?[]:t,a=e.isLoading,c=e.changeFinancialOverviewContact;return v.createElement("nav",{className:"financialOverviewContacts-list open sticky"},v.createElement("div",{className:"send-financial-overview-contacts-sidebar-menu",style:{color:"$brand-primary"}},v.createElement(f(),{className:"eco-sidenav",defaultSelected:n.length>0?"foc-".concat(n[0].id):"financialOverviewContact",onSelect:function(e){if(null!=e&&e.startsWith("foc-")){var t=e.split("foc-")[1];t&&c(Number(t))}}},v.createElement(f().Nav,null,n.length>0?n.map(function(e,t){return v.createElement(d.NavItem,{key:t,eventKey:"foc-".concat(e.id)},v.createElement(d.NavText,null,v.createElement("span",{className:"Geen e-mail bekend"===e.emailed_to?"send-financial-overview-contacts-list-link-error":"send-financial-overview-contacts-list-link"},e.contactNumber," -"," ",e.contactName)))}):v.createElement(d.NavItem,{eventKey:"financialOverviewContact"},v.createElement(d.NavText,null,a?v.createElement("span",{className:"send-financial-overview-contacts-list-link"},"Gegevens aan het laden."):v.createElement("span",{className:"send-financial-overview-contacts-list-link"},"Geen waardestaten beschikbaar.")))))))}}])}(v.Component);var w=n(69188),O=(n(76031),n(41919));function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(g=function(){return!!e})()}const E=function(e){function t(e){var n,c,o,l;return(0,a.A)(this,t),c=this,o=t,l=[e],o=(0,i.A)(o),(n=(0,r.A)(c,g()?Reflect.construct(o,l||[],(0,i.A)(c).constructor):o.apply(c,l))).state={file:null},n}return(0,o.A)(t,e),(0,c.A)(t,[{key:"componentDidUpdate",value:function(e){this.props.financialOverviewContactId!==e.financialOverviewContactId&&this.props.financialOverviewContactId&&this.downloadFile(this.props.financialOverviewContactId)}},{key:"downloadFile",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;w.A.download(e).then(function(e){t.setState({file:e.data})}).catch(function(){n<2&&setTimeout(function(){t.downloadFile(e,n)},500),n++})}},{key:"render",value:function(){return this.props.isLoading?v.createElement("div",null,"Gegevens aan het laden."):this.state.file?v.createElement("div",null,v.createElement(O.A,{file:this.state.file})):this.props.amountOfFinancialOverviewContacts>0?v.createElement("div",null,"Selecteer links in het scherm een contact om een preview te zien."):v.createElement("div",null,"Geen gegevens gevonden.")}}])}(v.Component);n(2543);var y=n(53530);function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(A=function(){return!!e})()}const b=function(e){function t(e){var n,c,o,l;return(0,a.A)(this,t),c=this,o=t,l=[e],o=(0,i.A)(o),(n=(0,r.A)(c,A()?Reflect.construct(o,l||[],(0,i.A)(c).constructor):o.apply(c,l))).state={email:null},n}return(0,o.A)(t,e),(0,c.A)(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.financialOverviewContactId!==e.financialOverviewContactId&&e.financialOverviewContactId&&this.downloadEmail(e.financialOverviewContactId)}},{key:"downloadEmail",value:function(e){var t=this;w.A.getEmailPreview(e).then(function(e){t.setState({email:e.data})})}},{key:"render",value:function(){return this.props.isLoading?v.createElement("div",null,"Gegevens aan het laden."):this.state.email?v.createElement("div",null,v.createElement("div",{className:"row margin-10-top"},v.createElement("div",{className:"col-sm-12"},v.createElement("div",{className:"row"},v.createElement("div",{className:"col-sm-3"},v.createElement("label",{className:"col-sm-12"},"Aan")),v.createElement("div",{className:"col-sm-9"},this.state.email.to)))),this.state.email.bcc?v.createElement("div",{className:"row margin-10-top"},v.createElement("div",{className:"col-sm-12"},v.createElement("div",{className:"row"},v.createElement("div",{className:"col-sm-3"},v.createElement("label",{className:"col-sm-12"},"Bcc")),v.createElement("div",{className:"col-sm-9"},this.state.email.bcc)))):null,v.createElement("div",{className:"row margin-10-top"},v.createElement("div",{className:"col-sm-12"},v.createElement("div",{className:"row"},v.createElement("div",{className:"col-sm-3"},v.createElement("label",{className:"col-sm-12"},"Onderwerp")),v.createElement("div",{className:"col-sm-9"},this.state.email.subject)))),v.createElement("div",{className:"row"},v.createElement(y.A,{label:"Tekst",value:this.state.email.htmlBody}))):this.props.amountOfFinancialOverviewContacts>0?v.createElement("div",null,"Selecteer links in het scherm een contact om een preview te zien."):v.createElement("div",null,"Geen gegevens gevonden.")}}])}(v.Component);var C=n(47767),N=n(91858),I=n(63750),S=n(5419),j=n.n(S),k=n(46749),P=n(69733);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){(0,l.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(T=function(){return!!e})()}var B=function(e){function t(e){var n,c,o,s;return(0,a.A)(this,t),c=this,o=t,s=[e],o=(0,i.A)(o),n=(0,r.A)(c,T()?Reflect.construct(o,s||[],(0,i.A)(c).constructor):o.apply(c,s)),(0,l.A)(n,"confirmAction",function(e){e.preventDefault(),n.setState({loading:!0}),w.A.sendAll(n.props.financialOverviewId,n.props.financialOverviewContactIds,null).then(function(e){e&&e.headers&&e.headers["x-filename"]&&j()(e.data,e.headers["x-filename"])}),n.props.navigate("/waardestaat/".concat(n.props.financialOverviewId))}),(0,l.A)(n,"handleInputChangeDate",function(e,t){n.setState(D(D({},n.state),{},(0,l.A)({},t,e)))}),n.state={loading:!1},n}return(0,o.A)(t,e),(0,c.A)(t,[{key:"render",value:function(){return v.createElement(I.A,{closeModal:this.props.closeModal,confirmAction:this.confirmAction,title:"Waardestaten verzenden",buttonConfirmText:"Verzenden",loading:this.state.loading},v.createElement("div",{className:"row"},v.createElement("div",{className:"col-sm-12 margin-10-bottom"},v.createElement("span",null,"Wilt u alle geselecteerde definitieve waardestaten (",this.props.financialOverviewContactIds.length,") verzenden?"))))}}])}(v.Component);const R=(0,P.Ng)(null,function(e){return{setError:function(t,n){e((0,k.N)(t,n))}}})(function(e){var t=(0,C.Zp)();return v.createElement(B,(0,s.A)({},e,{navigate:t}))});var L=n(55956);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){(0,l.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(z=function(){return!!e})()}n(73421),n(95093);var G=function(e){function t(e){var n,c,o,s;return(0,a.A)(this,t),c=this,o=t,s=[e],o=(0,i.A)(o),n=(0,r.A)(c,z()?Reflect.construct(o,s||[],(0,i.A)(c).constructor):o.apply(c,s)),(0,l.A)(n,"confirmAction",function(e){e.preventDefault(),n.setState({loading:!0}),w.A.sendAllPost(n.props.financialOverviewId,n.props.financialOverviewContactIds,null).then(function(e){e&&e.headers&&e.headers["x-filename"]&&j()(e.data,e.headers["x-filename"])}),n.props.navigate("/waardestaat/".concat(n.props.financialOverviewId))}),(0,l.A)(n,"handleInputChangeDate",function(e,t){n.setState(W(W({},n.state),{},(0,l.A)({},t,e)))}),n.state={loading:!1},n}return(0,o.A)(t,e),(0,c.A)(t,[{key:"render",value:function(){return v.createElement(I.A,{closeModal:this.props.closeModal,confirmAction:this.confirmAction,title:"Waardestaten downloaden",buttonConfirmText:"Downloaden",loading:this.state.loading},v.createElement("div",{className:"row"},v.createElement("div",{className:"col-sm-12 margin-10-bottom"},v.createElement("span",null,"Wilt u alle geselecteerde definitieve waardestaten (",this.props.financialOverviewContactIds.length,") downloaden en doorzetten naar status verzonden?"))))}}])}(v.Component);const M=function(e){var t=(0,C.Zp)();return v.createElement(G,(0,s.A)({},e,{navigate:t}))};function J(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(J=function(){return!!e})()}var _=function(e){function t(e){var n,c,o,s;return(0,a.A)(this,t),c=this,o=t,s=[e],o=(0,i.A)(o),n=(0,r.A)(c,J()?Reflect.construct(o,s||[],(0,i.A)(c).constructor):o.apply(c,s)),(0,l.A)(n,"showSend",function(){n.setState({showSend:!n.state.showSend})}),n.state={showSend:!1},n}return(0,o.A)(t,e),(0,c.A)(t,[{key:"render",value:function(){var e=this;return v.createElement("div",{className:"row"},v.createElement("div",{className:"col-md-4"},v.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},v.createElement(N.A,{iconName:"arrowLeft",onClickAction:function(){return e.props.navigate(-1)}}),this.props.amountOfFinancialOverviewContacts>0&&"email"===this.props.type&&v.createElement(L.A,{buttonText:"Waardestaten e-mailen",onClickAction:this.showSend}),this.props.amountOfFinancialOverviewContacts>0&&"post"===this.props.type&&v.createElement(L.A,{buttonText:"Waardestaten downloaden",onClickAction:this.showSend}))),v.createElement("div",{className:"col-md-4"},v.createElement("h4",{className:"text-center"},"Te verzenden waardestaten versturen (",this.props.amountOfFinancialOverviewContacts,")")),v.createElement("div",{className:"col-md-4"}),this.state.showSend&&"email"===this.props.type&&v.createElement(R,{type:this.props.type,financialOverviewContactIds:this.props.selectedIds,closeModal:this.showSend,financialOverviewId:this.props.financialOverviewId}),this.state.showSend&&"post"===this.props.type&&v.createElement(M,{type:this.props.type,financialOverviewContactIds:this.props.selectedIds,closeModal:this.showSend,financialOverviewId:this.props.financialOverviewId}))}}])}(v.Component);const Z=function(e){var t=(0,C.Zp)();return v.createElement(_,(0,s.A)({},e,{navigate:t}))};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach(function(t){(0,l.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(q=function(){return!!e})()}var H=function(e){function t(e){var n,c,o,s;return(0,a.A)(this,t),c=this,o=t,s=[e],o=(0,i.A)(o),n=(0,r.A)(c,q()?Reflect.construct(o,s||[],(0,i.A)(c).constructor):o.apply(c,s)),(0,l.A)(n,"callGetFinancialOverviewContactsForSending",function(){n.setState({isLoading:!0}),w.A.getFinancialOverviewContactsForSending(n.props.params.id,n.props.selectedIds,n.props.params.type).then(function(e){n.setState({financialOverviewContacts:e.data.data,isLoading:!1})}).catch(function(e){n.setState({isLoading:!1})})}),(0,l.A)(n,"changeFinancialOverviewContact",function(e){n.setState(U(U({},n.state),{},{financialOverviewContactId:e}))}),n.state={financialOverviewContacts:[],financialOverviewContactId:"",isLoading:!1},n}return(0,o.A)(t,e),(0,c.A)(t,[{key:"componentDidMount",value:function(){this.callGetFinancialOverviewContactsForSending()}},{key:"render",value:function(){return v.createElement("div",null,v.createElement("div",{className:"row"},v.createElement("div",{className:"col-md-12 margin-10-top"},v.createElement("div",{className:"col-md-12 margin-10-top"},v.createElement(u.A,null,v.createElement(m.A,{className:"panel-small"},v.createElement(Z,{type:this.props.params.type,selectedIds:this.props.selectedIds,amountOfFinancialOverviewContacts:this.state.financialOverviewContacts?this.state.financialOverviewContacts.length:0,financialOverviewId:this.props.params.id})))))),v.createElement("div",{className:"row"},v.createElement("div",{className:"col-md-2"},v.createElement("div",{className:"col-md-12 margin-10-top"},v.createElement(u.A,null,v.createElement(m.A,{className:"panel-financial-overview-contacts-list"},v.createElement(h,{financialOverviewContacts:this.state.financialOverviewContacts,isLoading:this.state.isLoading,changeFinancialOverviewContact:this.changeFinancialOverviewContact}))))),"email"==this.props.params.type?v.createElement(v.Fragment,null,v.createElement("div",{className:"col-md-5"},v.createElement("div",{className:"col-md-12 margin-10-top"},v.createElement(u.A,null,v.createElement(m.A,null,v.createElement(E,{financialOverviewContactId:this.state.financialOverviewContactId,isLoading:this.state.isLoading,amountOfFinancialOverviewContacts:this.state.financialOverviewContacts?this.state.financialOverviewContacts.length:-1}))))),v.createElement("div",{className:"col-md-5"},v.createElement("div",{className:"col-md-12 margin-10-top"},v.createElement(u.A,null,v.createElement(m.A,null,v.createElement(b,{financialOverviewContactId:this.state.financialOverviewContactId,isLoading:this.state.isLoading,amountOfFinancialOverviewContacts:this.state.financialOverviewContacts?this.state.financialOverviewContacts.length:-1})))))):v.createElement(v.Fragment,null,v.createElement("div",{className:"col-md-6"},v.createElement("div",{className:"col-md-12 margin-10-top"},v.createElement(u.A,null,v.createElement(m.A,null,v.createElement(E,{financialOverviewContactId:this.state.financialOverviewContactId}))))))))}}])}(v.Component);const V=(0,P.Ng)(function(e){return{selectedIds:e.financialOverviewPreview.selectedIds}},null)(function(e){var t=(0,C.g)();return v.createElement(H,(0,s.A)({},e,{params:t}))})},53530:(e,t,n)=>{n.d(t,{A:()=>v});var a=n(96540),c=n(96522),r=n(5556),i=n.n(r),o=n(62493),l=n(55956),s=function(e){var t=e.label,n=e.className,r=e.id,i=e.value,s=e.switchToEdit;return a.createElement("div",{className:n},a.createElement("label",{htmlFor:r,className:"col-sm-3"},t,s?a.createElement("span",null,a.createElement("br",null),a.createElement(l.A,{buttonClassName:"btn-success btn-padding-small",buttonText:"Wijzig",onClickAction:s})):""),a.createElement(o.A,{className:"col-sm-9"},a.createElement(c.Ay,null,a.createElement("div",{id:r,dangerouslySetInnerHTML:{__html:i}}))))};s.defaultProps={className:"col-sm-12",value:""},s.propTypes={label:i().string.isRequired,className:i().string,id:i().string,value:i().oneOfType([i().string,i().number])};const v=s},69188:(e,t,n)=>{n.d(t,{A:()=>r}),n(28706),n(60739);var a=n(61941),c="financial-overview-contact";const r={fetchFinancialOverviewContacts:function(e,t,n,r,i,o){var l="".concat(c,"/grid");return(0,a.A)().get(l,{params:{financialOverviewId:JSON.stringify(r),onlyEmailFinancialOverviewContacts:JSON.stringify(i),onlyPostFinancialOverviewContacts:JSON.stringify(o),filters:JSON.stringify(e),sorts:JSON.stringify(t),limit:n.limit,offset:n.offset}})},fetchFinancialOverviewContactDetails:function(e){var t="".concat(c,"/").concat(e,"/get");return(0,a.A)().get(t)},getFinancialOverviewContactsForSending:function(e,t,n){var r="".concat(c,"/").concat(e,"/sending/").concat(n);return(0,a.A)().post(r,{ids:t})},sendAll:function(e,t){var n="".concat(c,"/").concat(e,"/send-all");document.body.style.cursor="wait";var r=(0,a.A)().post(n,{ids:t},{responseType:"blob"});return document.body.style.cursor="default",r},sendAllPost:function(e,t){var n="".concat(c,"/").concat(e,"/send-all-post");document.body.style.cursor="wait";var r=(0,a.A)().post(n,{ids:t},{responseType:"blob"});return document.body.style.cursor="default",r},download:function(e){var t="".concat(c,"/").concat(e,"/download");return(0,a.A)().get(t,{responseType:"blob"})},downloadPreview:function(e){var t="".concat(c,"/").concat(e,"}/download-preview");return(0,a.A)().get(t,{responseType:"blob"})},getEmailPreview:function(e){var t="".concat(c,"/").concat(e,"/email-preview");return(0,a.A)().get(t)}}}}]);