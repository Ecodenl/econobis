(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{1158:function(e,a,t){"use strict";t.d(a,"a",(function(){return E}));var n=t(547),c=t.n(n),i=t(0),l=t.n(i),r=t(27),o=t(30),s=t(36),m=t(1043),u=t(1066),d=t(37),h=t(123),f=t(89),p=t(76);function E(e){for(var a=e.initialValues,t=e.onSubmit,n=e.cancelAction,E=l.a.useState([]),g=c()(E,2),b=g[0],v=g[1],C=Object(m.a)({initialValues:a,validationSchema:u.a().shape({name:u.b().required("Verplicht")}),onSubmit:function(e,a){var n=a.setSubmitting;t(e,n)}}),N=C.values,k=C.errors,T=C.touched,w=C.handleChange,D=C.handleSubmit,A=C.handleBlur,S=C.isSubmitting,P=C.setFieldValue,I=[],W=30;W<=180;W+=15)I.push({id:W,name:W+" minuten"});return Object(i.useEffect)((function(){p.a.fetchEmailTemplatesPeek().then((function(e){v(e)}))}),[]),l.a.createElement("form",{className:"form-horizontal",onSubmit:D},l.a.createElement(r.a,null,l.a.createElement(o.a,null,l.a.createElement("div",{className:"row"},l.a.createElement(s.a,{label:"Weergavenaam",name:"name",value:N.name,onChangeAction:w,onBlurAction:A,required:"required",error:k.name&&T.name,errorMessage:k.name}),l.a.createElement(h.a,{label:"Standaard duur afspraak",name:"defaultDurationMinutes",value:N.defaultDurationMinutes,options:I,onChangeAction:w,emptyOption:!1})),l.a.createElement("div",{className:"row"},l.a.createElement(f.a,{label:"Verstuur automatisch e-mail aan bewoner bij maken afspraak",name:"sendEmailToContactWhenPlanned",value:N.sendEmailToContactWhenPlanned,onChangeAction:function(e){e.persist(),P(e.target.name,e.target.checked)}}),N.sendEmailToContactWhenPlanned&&l.a.createElement(h.a,{label:"E-mail template",name:"emailToContactTemplateId",value:N.emailToContactTemplateId,options:b,onChangeAction:w})),l.a.createElement("div",{className:"row"},l.a.createElement(f.a,{label:"Verstuur automatisch e-mail aan coach bij maken afspraak",name:"sendEmailToCoachWhenPlanned",value:N.sendEmailToCoachWhenPlanned,onChangeAction:function(e){e.persist(),P(e.target.name,e.target.checked)}}),N.sendEmailToCoachWhenPlanned&&l.a.createElement(h.a,{label:"E-mail template",name:"emailToCoachTemplateId",value:N.emailToCoachTemplateId,options:b,onChangeAction:w})),l.a.createElement("div",{className:"row"},l.a.createElement(f.a,{label:"Gesloten",name:"closed",value:N.closed,onChangeAction:function(e){e.persist(),P(e.target.name,e.target.checked)}}))),l.a.createElement(o.a,null,l.a.createElement("div",{className:"pull-right btn-group",role:"group"},n&&l.a.createElement(d.a,{buttonClassName:"btn-default",buttonText:"Sluiten",onClickAction:n}),l.a.createElement(d.a,{buttonText:"Opslaan",onClickAction:D,type:"submit",value:"Submit",loading:S})))))}},1560:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return u}));var n=t(0),c=t.n(n),i=t(27),l=t(30),r=t(50),o=t(4),s=t(954),m=t(1158);function u(){return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-9"},c.a.createElement("div",{className:"col-md-12 margin-10-top"},c.a.createElement(i.a,null,c.a.createElement(l.a,{className:"panel-small"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4"},c.a.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},c.a.createElement(r.a,{iconName:"glyphicon-arrow-left",onClickAction:o.e.goBack}))),c.a.createElement("div",{className:"col-md-4"},c.a.createElement("h4",{className:"text-center margin-small"},"Nieuwe Afspraakkalender")),c.a.createElement("div",{className:"col-md-4"}))))),c.a.createElement("div",{className:"col-md-12 margin-10-top"},c.a.createElement(m.a,{initialValues:{defaultDurationMinutes:90,sendEmailToContactWhenPlanned:!1,sendEmailToCoachWhenPlanned:!1,closed:!1},onSubmit:function(e,a){var t=a.setSubmitting;s.a.newDistrict(e).then((function(e){o.f.push("/afspraak-kalender/".concat(e.id))})).catch((function(){t(!1),alert("Er is iets misgegaan met opslaan. Probeer het nogmaals")}))}}))))}},954:function(e,a,t){"use strict";var n=t(2);a.a={fetchDistricts:function(){return n.a.get("district").then((function(e){return e.data}))},fetchDistrictDetails:function(e){return n.a.get("".concat("district","/").concat(e)).then((function(e){return e.data}))},fetchDistrictCalendarItems:function(e,a,t){return n.a.get("".concat("district","/").concat(e,"/calendar-items"),{params:{startDate:a,endDate:t}}).then((function(e){return e.data}))},newDistrict:function(e){return n.a.post("district",e).then((function(e){return e.data}))},updateDistrict:function(e){return n.a.post("".concat("district","/").concat(e.id),e)},deleteDistrict:function(e){return n.a.post("".concat("district","/").concat(e.id,"/delete"))},detachDistrictCoach:function(e){var a=e.districtId,t=e.coachId;return n.a.post("".concat("district","/").concat(a,"/coaches/").concat(t,"/detach"))},attachDistrictCoach:function(e){var a=e.districtId,t=e.coachId;return n.a.post("".concat("district","/").concat(a,"/coaches/").concat(t,"/attach"))}}}}]);