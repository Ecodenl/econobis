"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[8869],{3470:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},5746:(e,t,n)=>{var a=n(69565),o=n(89228),l=n(28551),r=n(64117),c=n(67750),i=n(3470),s=n(655),m=n(55966),u=n(56682);o("search",(function(e,t,n){return[function(t){var n=c(this),o=r(t)?void 0:m(t,e);return o?a(o,t,n):new RegExp(t)[e](s(n))},function(e){var a=l(this),o=s(e),r=n(t,a,o);if(r.done)return r.value;var c=a.lastIndex;i(c,0)||(a.lastIndex=0);var m=u(a,o);return i(a.lastIndex,c)||(a.lastIndex=c),null===m?-1:m.index}]}))},38781:(e,t,n)=>{var a=n(10350).PROPER,o=n(36840),l=n(28551),r=n(655),c=n(79039),i=n(61034),s="toString",m=RegExp.prototype,u=m[s],d=c((function(){return"/a/b"!==u.call({source:"a",flags:"b"})})),p=a&&u.name!==s;(d||p)&&o(m,s,(function(){var e=l(this);return"/"+r(e.source)+"/"+r(i(e))}),{unsafe:!0})},48869:(e,t,n)=>{n.r(t),n.d(t,{default:()=>je}),n(60825);var a=n(23029),o=n(92901),l=n(56822),r=n(53954),c=n(85501),i=n(58168),s=(n(94170),n(96540)),m=n(69733),u=n(47767),d=n(87722),p=n(93755),h=n(81524),v=n(82606),E=n(62493),f=n(55849),b=n(91858);const A=(0,m.Ng)((function(e){return{email:e.email}}))((function(e){var t=e.email,n=e.id,a=e.removeEmail,o=(0,u.Zp)(),l=t.from,r="btn-success btn-sm";return"removed"===t.folder&&(r="btn-danger btn-sm"),s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-12"},s.createElement(E.A,null,s.createElement(f.A,{className:"panel-small"},s.createElement("div",{className:"col-md-4"},s.createElement("div",{className:"btn-group margin-small margin-10-right",role:"group"},s.createElement(b.A,{iconName:"arrowLeft",onClickAction:function(){return o(-1)}})),t.id?s.createElement(s.Fragment,null,s.createElement("div",{className:"btn-group margin-small",role:"group"},s.createElement("button",{type:"button",title:"Beantwoorden",className:"btn btn-success btn-sm",onClick:function(){o("/email/".concat(n,"/beantwoorden"))}},s.createElement(d.Ay,{icon:p.E,size:13})),s.createElement("button",{type:"button",title:"Allen beantwoorden",className:"btn btn-success btn-sm",onClick:function(){o("/email/".concat(n,"/allenbeantwoorden"))}},s.createElement(d.Ay,{icon:h.d,size:13})),s.createElement("button",{type:"button",title:"Doorsturen",className:"btn btn-success btn-sm",onClick:function(){o("/email/".concat(n,"/doorsturen"))}},s.createElement(d.Ay,{icon:v.H,size:13}))),s.createElement("div",{className:"btn-group margin-small margin-10-left",role:"group"},s.createElement(b.A,{iconName:"trash",onClickAction:a,buttonClassName:r}))):null),s.createElement("div",{className:"col-md-4"},s.createElement("h4",{className:"text-center text-success margin-small"},s.createElement("strong",null,l?"E-mail van: "+l:""))),s.createElement("div",{className:"col-md-4"})))))}));var g=n(2543),w=n(64467),N=n(10467),k=n(5544),C=n(54756),y=n.n(C),I=(n(52675),n(2008),n(50113),n(51629),n(48598),n(62062),n(23288),n(62010),n(2892),n(67945),n(84185),n(83851),n(81278),n(79432),n(26099),n(23500),n(27495),n(38781),n(25440),n(5746),n(95093)),T=n.n(I),O=n(14809),j=n(53530),D=n(55956),S=n(22102),x=n(30483),L=n(93822),B=n(61741),M=function(e){return{type:"FETCH_EMAIL",id:e}},R=n(875),Y=n(63950),V=n(68821),z=n(48240),q=n(73941),P=n(31714),H=n(77798),W=n(93134),U=n(8426),F=n(57761),G=n.n(F),K=n(14585);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,w.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Q=(0,m.Ng)((function(e){return{email:e.email,emailStatuses:e.systemData.emailStatuses,teams:e.systemData.teams,users:e.systemData.users}}),(function(e){return{fetchEmail:function(t){e(M(t))}}}))((function(e){var t=(0,s.useState)(""),n=(0,k.A)(t,2),a=n[0],o=n[1],l=(0,s.useState)(!1),r=(0,k.A)(l,2),c=r[0],i=r[1],m=(0,s.useState)([]),u=(0,k.A)(m,2),d=u[0],p=u[1],h=(0,s.useState)({}),v=(0,k.A)(h,2),E=v[0],f=v[1],b=(0,s.useState)([]),A=(0,k.A)(b,2),g=A[0],C=A[1],I=(0,s.useState)([]),M=(0,k.A)(I,2),F=M[0],_=M[1],Q=(0,s.useState)([]),J=(0,k.A)(Q,2),X=J[0],$=J[1],ee=(0,s.useState)([]),te=(0,k.A)(ee,2),ne=te[0],ae=te[1],oe=(0,s.useState)([]),le=(0,k.A)(oe,2),re=le[0],ce=le[1],ie=(0,s.useState)([]),se=(0,k.A)(ie,2),me=se[0],ue=se[1],de=(0,s.useState)([]),pe=(0,k.A)(de,2),he=pe[0],ve=pe[1],Ee=e.email,fe=Ee.id,be=Ee.responsibleUserId,Ae=Ee.responsibleTeamId,ge=Ee.contacts,we=Ee.intake,Ne=Ee.task,ke=Ee.quotationRequest,Ce=Ee.measure,ye=Ee.opportunity,Ie=Ee.order,Te=Ee.invoice,Oe=Ee.status,je=Ee.removedBy,De=Ee.dateRemoved,Se=Ee.from,xe=Ee.toWithGroup,Le=Ee.cc,Be=Ee.bcc,Me=Ee.subject,Re=Ee.htmlBodyWithEmbeddedImages,Ye=Ee.createdAt,Ve=Ee.dateSent,ze=Ee.folder,qe=Ee.sentByUser,Pe="";function He(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,a=t.name;f(Z(Z({},E),{},(0,w.A)({},a,n)))}be&&(Pe="user"+be),Ae&&(Pe="team"+Ae),(0,s.useEffect)((function(){f({id:fe,contactIds:ge&&ge.map((function(e){return e.id})).join(","),intakeId:we?we.id:"",taskId:Ne?Ne.id:"",quotationRequestId:ke?ke.id:"",measureId:Ce?Ce.id:"",statusId:Oe?Oe.id:"",opportunityId:ye?ye.id:"",orderId:Ie?Ie.id:"",invoiceId:Te?Te.id:"",responsibleUserId:be,responsibleTeamId:Ae,responsible:Pe}),H.A.peekOrders().then((function(e){C(e)})),W.A.peekInvoices().then((function(e){_(e)})),R.A.peekQuotationRequests().then((function(e){$(e)})),Y.A.peekTasks().then((function(e){ae(e)})),V.A.peekMeasures().then((function(e){ce(e)})),z.A.peekIntakes().then((function(e){ue(e)})),q.A.peekOpportunities().then((function(e){ve(e)}))}),[]),(0,s.useEffect)((function(){var e,t;p((e=ge.map((function(e){return e.id})),t=[],e.map((function(e){var n=ge.find((function(t){return t.id===Number(e)}));t.push({id:n.id,fullName:n.fullName})})),t))}),[ge]);var We=function(){var e=(0,N.A)(y().mark((function e(){var t;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length<=1)){e.next=2;break}return e.abrupt("return");case 2:return i(!0),e.prev=3,e.next=6,L.A.fetchContactSearch(a);case 6:return t=e.sent,i(!1),e.abrupt("return",t.data.data);case 11:e.prev=11,e.t0=e.catch(3),i(!1);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),Ue=E.statusId,Fe=E.intakeId,Ge=E.taskId,Ke=E.quotationRequestId,_e=E.measureId,Ze=E.opportunityId,Qe=E.orderId,Je=E.invoiceId,Xe=E.responsible,$e=ge.length>5;return s.createElement("div",null,"removed"===ze?s.createElement(s.Fragment,null,s.createElement("div",{className:"row"},s.createElement(x.A,{label:"Verwijderd door",value:je?je.fullName:"Onbekend",link:je?"/gebruiker/"+je.id:""}),s.createElement(x.A,{label:"Datum verwijderd",value:De?T()(De).format("DD-MM-YYYY HH:mm"):""})),s.createElement("hr",null)):null,s.createElement("div",{className:"row"},s.createElement(x.A,{label:"Van",value:Se}),s.createElement(x.A,{label:"Ontvangen datum tijd",value:Ye?T()(Ye).format("DD-MM-YYYY HH:mm"):""})),s.createElement("div",{className:"row"},s.createElement(x.A,{label:"Aan",value:xe&&xe.map((function(e){return e})).join(", ")}),s.createElement(x.A,{label:"Verzonden datum tijd",value:Ve?T()(Ve).format("DD-MM-YYYY HH:mm"):""})),s.createElement("div",{className:"row"},s.createElement("div",{className:"form-group col-md-6"}),s.createElement(x.A,{label:"Verzonden door gebruiker",value:qe?qe.fullName:""})),s.createElement("div",{className:"row"},s.createElement(x.A,{label:"Cc",value:Le&&Le.map((function(e){return e})).join(", ")}),s.createElement(x.A,{label:"Bcc",value:Be&&Be.map((function(e){return e})).join(", ")})),s.createElement("div",{className:"row"},$e&&!e.showContacten?s.createElement(x.A,{label:"Contacten",value:s.createElement(D.A,{buttonClassName:"btn-success btn-padding-small",buttonText:"Toon contacten ("+ge.length+")",onClickAction:e.toggleShowContacten})}):s.createElement(K.A,{label:"Contacten",name:"contacts",value:d,loadOptions:We,optionName:"fullName",onChangeAction:function(e){var t=e?e.map((function(e){return e.id})).join(","):"";f(Z(Z({},E),{},{contactIds:t})),p(e)},isLoading:c,handleInputChange:function(e){o(e)}})),$e&&e.showContacten&&s.createElement("div",{className:"row",onClick:e.toggleShowContacten},s.createElement(x.A,{label:"",className:"form-group col-sm-6",value:s.createElement(D.A,{buttonClassName:"btn-success btn-padding-small",buttonText:"Verberg contacten",onClickAction:e.toggleShowContacten})}),s.createElement("div",{className:"form-group col-md-6"})),s.createElement("div",{className:"row"},s.createElement(P.A,{label:"Intake",size:"col-sm-6",name:"intakeId",options:me,value:Fe,clearable:!0,onChangeAction:function(e,t){f(Z(Z({},E),{},(0,w.A)({},t,e)))}})),s.createElement("div",{className:"row"},s.createElement(O.A,{label:"Taak",size:"col-sm-6",name:"taskId",options:ne,value:Ge,onChangeAction:He}),s.createElement(O.A,{label:"Kansactie",size:"col-sm-6",name:"quotationRequestId",options:X,value:Ke,onChangeAction:He})),s.createElement("div",{className:"row"},s.createElement(O.A,{label:"Maatregel",size:"col-sm-6",name:"measureId",options:re,value:_e,onChangeAction:He}),s.createElement(O.A,{label:"Kans",size:"col-sm-6",name:"opportunityId",options:he,value:Ze,onChangeAction:He})),s.createElement("div",{className:"row"},s.createElement(O.A,{label:"Order",size:"col-sm-6",name:"orderId",options:g,value:Qe,onChangeAction:He}),s.createElement(O.A,{label:"Nota",size:"col-sm-6",name:"invoiceId",options:F,value:Je,onChangeAction:He})),s.createElement("div",{className:"row margin-10-top"},s.createElement("div",{className:"col-sm-12"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-3"},s.createElement("label",{className:"col-sm-12"},"Onderwerp")),s.createElement("div",{className:"col-sm-9"},Me)))),s.createElement("div",{className:"row"},s.createElement(j.A,{label:"Tekst",value:Re})),("inbox"==ze&&Oe||"inbox"==ze&&null==Oe)&&s.createElement("div",{className:"row"},s.createElement(O.A,{label:"Status",size:"col-sm-6",name:"statusId",options:e.emailStatuses,value:Ue,onChangeAction:He})),"inbox"==ze&&s.createElement("div",{className:"row"},s.createElement(U.A,{label:"Verantwoordelijke",size:"col-sm-6",name:"responsible",optionsInGroups:[{name:"user",label:"Gebruikers",options:e.users,optionName:"fullName"},{name:"team",label:"Teams",options:e.teams}],value:Xe,onChangeAction:He})),s.createElement(S.A,null,s.createElement("div",{className:"pull-right btn-group",role:"group"},s.createElement(D.A,{buttonClassName:"btn-default",buttonText:"Annuleren",onClickAction:e.switchToView}),s.createElement(D.A,{buttonText:"Opslaan",onClickAction:function(t){t.preventDefault(),E.statusId&&B.A.setStatus(E.id,E.statusId).then((function(t){e.fetchEmail(E.id)})),G().isEmpty(E.responsible.toString())&&(E.responsibleUserId="",E.responsibleTeamId=""),E.responsible.search("user")>=0&&(E.responsibleUserId=E.responsible.replace("user",""),E.responsibleTeamId=""),E.responsible.search("team")>=0&&(E.responsibleUserId="",E.responsibleTeamId=E.responsible.replace("team","")),B.A.updateEmail(E).then((function(t){e.fetchEmail(E.id)})),e.switchToView()},type:"submit",value:"Submit"}))))}));var J=n(84976);T().locale("nl");const X=(0,m.Ng)((function(e){return{email:e.email}}))((function(e){var t=e.email,n=t.from,a=t.responsibleUser,o=t.responsibleTeam,l=t.toWithGroup,r=t.cc,c=t.bcc,i=t.contacts,m=t.order,u=t.invoice,d=t.intake,p=t.task,h=t.quotationRequest,v=t.measure,E=t.opportunity,f=t.subject,b=t.htmlBodyWithEmbeddedImages,A=t.createdAt,g=t.dateSent,w=t.sentByUser,N=t.folder,k=t.status,C=t.closedBy,y=t.dateClosed,I=t.removedBy,O=t.dateRemoved,S=i.length>5;return s.createElement("div",null,"removed"===N?s.createElement(s.Fragment,null,s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement(x.A,{label:"Verwijderd door",value:I?I.fullName:"Onbekend",link:I?"/gebruiker/"+I.id:""}),s.createElement(x.A,{label:"Datum verwijderd",value:O?T()(O).format("DD-MM-YYYY HH:mm"):""})),s.createElement("hr",null)):null,s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement(x.A,{label:"Van",value:n}),s.createElement(x.A,{label:"Ontvangen datum tijd",value:A?T()(A).format("DD-MM-YYYY HH:mm"):""})),s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement(x.A,{label:"Aan",value:l&&l.map((function(e){return e})).join(", ")}),s.createElement(x.A,{label:"Verzonden datum tijd",value:g?T()(g).format("DD-MM-YYYY HH:mm"):""})),"sent"===N?s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement("div",{className:"form-group col-md-6"}),s.createElement(x.A,{label:"Verzonden door gebruiker",value:w?w.fullName:""})):null,s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement(x.A,{label:"Cc",value:r&&r.map((function(e){return e})).join(", ")}),s.createElement(x.A,{label:"Bcc",value:c&&c.map((function(e){return e})).join(", ")})),s.createElement("div",{className:"row"},s.createElement(x.A,{label:"Contacten",value:S&&!e.showContacten?s.createElement(D.A,{buttonClassName:"btn-success btn-padding-small",buttonText:"Toon contacten ("+i.length+")",onClickAction:e.toggleShowContacten}):i&&i.map((function(e){return s.createElement("span",null,s.createElement(J.N_,{to:"/contact/".concat(e.id),className:"link-underline"},e.fullName)," ",s.createElement("br",null))}))}),s.createElement(x.A,{label:"Intake",value:d?d.name:"",link:d?"/intake/"+d.id:""})),S&&e.showContacten&&s.createElement("div",{className:"row",onClick:e.toggleShowContacten},s.createElement(x.A,{label:"",value:s.createElement(D.A,{buttonClassName:"btn-success btn-padding-small",buttonText:"Verberg contacten",onClickAction:e.toggleShowContacten})}),s.createElement("div",{className:"col-md-6"})),s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement(x.A,{label:"Taak",value:p?p.noteSummary:"",link:p?"/taak/"+p.id:""}),s.createElement(x.A,{label:"Kansactie",value:h?h.name:"",link:h?"/offerteverzoek/"+h.id:""})),s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement(x.A,{label:"Maatregel",value:v?v.name:"",link:v?"/maatregel/"+v.id:""}),s.createElement(x.A,{label:"Kans",value:E?E.name:"",link:E?"/kans/"+E.id:""})),s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement(x.A,{label:"Order",value:m?m.name:"",link:m?"/order/"+m.id:""}),s.createElement(x.A,{label:"Nota",value:u?u.name:"",link:u?"/nota/"+u.id:""})),s.createElement("div",{className:"row margin-10-top",onClick:e.switchToEdit},s.createElement("div",{className:"col-sm-12"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-3"},s.createElement("label",{className:"col-sm-12"},"Onderwerp")),s.createElement("div",{className:"col-sm-9"},f)))),s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement(j.A,{label:"Tekst",value:b})),"inbox"==N&&s.createElement("div",null,s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement(x.A,{label:"Status",value:k?k.name:""}),s.createElement(x.A,{label:"Datum afgehandeld",value:y?T()(y).format("DD-MM-YYYY HH:mm"):""})),s.createElement("div",{className:"row",onClick:e.switchToEdit},s.createElement(x.A,{label:"Afgehandeld door",value:C?C.fullName:"",link:C?"/gebruiker/"+C.id:""}),a||o?s.createElement(x.A,{label:"Verantwoordelijke",value:a?a.fullName:o.name,link:a?"/gebruiker/"+a.id:"/team/"+o.id}):s.createElement(x.A,{label:"Verantwoordelijke",value:""}))))}));function $(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($=function(){return!!e})()}var ee=function(e){function t(e){var n,o,c,i;return(0,a.A)(this,t),o=this,c=t,i=[e],c=(0,r.A)(c),n=(0,l.A)(o,$()?Reflect.construct(c,i||[],(0,r.A)(o).constructor):c.apply(o,i)),(0,w.A)(n,"switchToEdit",(function(){n.setState({showEdit:!0})})),(0,w.A)(n,"switchToView",(function(){n.setState({showEdit:!1,activeDiv:""})})),(0,w.A)(n,"toggleShowContacten",(function(){n.setState({showContacten:!n.state.showContacten})})),n.state={showEdit:!1,showContacten:!1,activeDiv:""},n}return(0,c.A)(t,e),(0,o.A)(t,[{key:"onDivEnter",value:function(){this.setState({activeDiv:"panel-grey"})}},{key:"onDivLeave",value:function(){this.state.showEdit||this.setState({activeDiv:""})}},{key:"render",value:function(){var e=this;return s.createElement(E.A,{className:this.state.activeDiv,onMouseEnter:function(){return e.onDivEnter()},onMouseLeave:function(){return e.onDivLeave()}},s.createElement(f.A,null,this.state.showEdit?s.createElement(Q,{switchToView:this.switchToView,showContacten:this.state.showContacten,toggleShowContacten:this.toggleShowContacten}):s.createElement(X,{switchToEdit:this.switchToEdit,showContacten:this.state.showContacten,toggleShowContacten:this.toggleShowContacten})))}}])}(s.Component);const te=(0,m.Ng)((function(e){return{email:e.email}}))(ee);n(23792),n(99449),n(47764),n(62953),n(3296),n(27208),n(48408);var ne=n(5419),ae=n.n(ne),oe=n(63750),le=n(41919),re=n(60597),ce=n(46161),ie=n(5207);function se(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(se=function(){return!!e})()}var me=function(e){function t(e){var n,o,c,i;return(0,a.A)(this,t),o=this,c=t,i=[e],c=(0,r.A)(c),n=(0,l.A)(o,se()?Reflect.construct(c,i||[],(0,r.A)(o).constructor):c.apply(o,i)),(0,w.A)(n,"downloadItem",(function(e,t){B.A.downloadAttachment(e).then((function(e){ae()(e.data,t)}))})),(0,w.A)(n,"viewItem",(function(e,t){B.A.downloadAttachment(e).then((function(e){var a;a=t.toLowerCase().endsWith(".pdf")?e.data:URL.createObjectURL(e.data),n.setState({item:a},(function(){return n.showViewDocument()}))}))})),(0,w.A)(n,"showViewDocument",(function(){n.setState({showViewDocument:!n.state.showViewDocument})})),(0,w.A)(n,"saveToAlfresco",(function(e){n.props.navigate("/document/nieuw/upload/email-bijlage/".concat(e))})),n.state={showActionButtons:!1,highlightRow:"",item:"",showViewDocument:!1},n}return(0,c.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){var e=this,t=this.props.attachment,n=t.id,a=t.name,o=!1;return(a.toLowerCase().endsWith(".pdf")||a.toLowerCase().endsWith(".jpg")||a.toLowerCase().endsWith(".png"))&&(o=!0),s.createElement("div",{className:"row border ".concat(this.props.highlightLine),onMouseEnter:function(){return e.props.onLineEnter()},onMouseLeave:function(){return e.props.onLineLeave()}},s.createElement("div",{className:"col-sm-11"},a),s.createElement("div",{className:"col-sm-1"},this.props.showActionButtons?s.createElement("a",{role:"button",onClick:function(){return e.downloadItem(n,a)}},s.createElement(d.Ay,{className:"mybtn-success",size:14,icon:re.a})):"",this.props.showActionButtons?s.createElement("a",{role:"button",onClick:function(){return e.saveToAlfresco(n)}},s.createElement(d.Ay,{className:"mybtn-success",size:14,icon:ce.u})):"",this.props.showActionButtons&&o?s.createElement("a",{role:"button",onClick:function(){return e.viewItem(n,a)}},s.createElement(d.Ay,{className:"mybtn-success",size:14,icon:ie.y})):""),this.state.showViewDocument&&a.toLowerCase().endsWith(".pdf")&&s.createElement(oe.A,{closeModal:this.showViewDocument,modalClassName:"modal-lg",modalMainClassName:"email-attachment-modal ",showConfirmAction:!1,buttonCancelText:"Ok"},s.createElement(le.A,{file:this.state.item})),this.state.showViewDocument&&(a.toLowerCase().endsWith(".png")||a.toLowerCase().endsWith(".jpg"))&&s.createElement(oe.A,{closeModal:this.showViewDocument,modalClassName:"modal-lg",modalMainClassName:"email-attachment-modal ",showConfirmAction:!1,buttonCancelText:"Ok"},s.createElement("img",{className:"img-responsive",src:this.state.item,alt:a})))}}])}(s.Component);const ue=function(e){var t=(0,u.Zp)();return s.createElement(me,(0,i.A)({},e,{navigate:t}))};function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,w.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(he=function(){return!!e})()}const ve=function(e){function t(e){var n,o,c,i;return(0,a.A)(this,t),o=this,c=t,i=[e],c=(0,r.A)(c),n=(0,l.A)(o,he()?Reflect.construct(c,i||[],(0,r.A)(o).constructor):c.apply(o,i)),(0,w.A)(n,"onLineEnter",(function(){n.setState({showActionButtons:!0,highlightLine:"highlight-line"})})),(0,w.A)(n,"onLineLeave",(function(){n.setState({highlightLine:"",showActionButtons:!1})})),n.state={highlightLine:"",showActionButtons:!1,attachment:pe({},e.attachment)},n}return(0,c.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){return s.createElement("div",null,s.createElement(ue,{highlightLine:this.state.highlightLine,onLineEnter:this.onLineEnter,onLineLeave:this.onLineLeave,attachment:this.state.attachment,showActionButtons:this.state.showActionButtons}))}}])}(s.Component),Ee=(0,m.Ng)((function(e){return{email:e.email}}))((function(e){var t=e.email.attachments,n=void 0===t?[]:t;return n=n.filter((function(e){return!e.cid})),s.createElement("div",null,s.createElement("div",{className:"row border header"},s.createElement("div",{className:"col-sm-12"},"Bestand")),n.length>0?n.map((function(e){return s.createElement(ve,{key:e.id,attachment:e})})):s.createElement("div",null,"Geen bijlagen bekend."))}));var fe=n(9392);function be(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(be=function(){return!!e})()}const Ae=function(e){function t(e){return(0,a.A)(this,t),n=this,o=t,c=[e],o=(0,r.A)(o),(0,l.A)(n,be()?Reflect.construct(o,c||[],(0,r.A)(n).constructor):o.apply(n,c));var n,o,c}return(0,c.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){return s.createElement(E.A,null,s.createElement(fe.A,null,s.createElement("span",{className:"h5 text-bold"},"Bijlagen")),s.createElement(f.A,null,s.createElement("div",{className:"col-md-12"},s.createElement(Ee,null))))}}])}(s.Component);var ge=n(5556),we=n.n(ge),Ne=function(e){var t=e.text,n=e.restoreAction,a=e.restoreText;return s.createElement(E.A,null,s.createElement(fe.A,null,s.createElement("span",{className:"h5",style:{color:"#e64a4a"}},t," ",n&&s.createElement("a",{style:{color:"#e64a4a",cursor:"pointer"},onClick:n},s.createElement("strong",null,a)))))};Ne.defaultProps={text:"Dit item is verwijderd",restoreText:"Klik hier om dit item terug te zetten."},Ne.propTypes={text:we().string,restoreAction:we().func,restoreText:we().string};const ke=Ne;function Ce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ce=function(){return!!e})()}var ye=function(e){function t(e){return(0,a.A)(this,t),n=this,o=t,c=[e],o=(0,r.A)(o),(0,l.A)(n,Ce()?Reflect.construct(o,c||[],(0,r.A)(n).constructor):o.apply(n,c));var n,o,c}return(0,c.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){return(0,g.isEmpty)(this.props.email)?s.createElement("div",null,"Geen gegevens gevonden."):s.createElement("div",null,"removed"===this.props.email.folder&&s.createElement(ke,{text:"Deze e-mail is verwijderd.",restoreAction:this.props.restoreEmail,restoreText:"Klik hier om verwijderen ongedaan te maken."}),s.createElement(te,null),s.createElement(Ae,null))}}])}(s.Component);const Ie=(0,m.Ng)((function(e){return{email:e.email}}))(ye);function Te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Te=function(){return!!e})()}var Oe=function(e){function t(e){var n,o,c,i;return(0,a.A)(this,t),o=this,c=t,i=[e],c=(0,r.A)(c),(n=(0,l.A)(o,Te()?Reflect.construct(c,i||[],(0,r.A)(o).constructor):c.apply(o,i))).restoreEmail=n.restoreEmail.bind(n),n.removeEmail=n.removeEmail.bind(n),n}return(0,c.A)(t,e),(0,o.A)(t,[{key:"componentDidMount",value:function(){this.props.fetchEmail(this.props.params.id)}},{key:"componentWillUnmount",value:function(){this.props.clearEmail()}},{key:"refreshEmail",value:function(){this.props.clearEmail(),this.props.fetchEmail(this.props.params.id)}},{key:"restoreEmail",value:function(){var e=this;null===this.props.email.imapId&&null===this.props.email.msoauthMessageId&&null===this.props.email.messageId?null===this.props.email.dateSent?B.A.moveToFolder(this.props.email.id,"concept").then((function(){e.refreshEmail()})):B.A.moveToFolder(this.props.email.id,"sent").then((function(){e.refreshEmail()})):B.A.moveToFolder(this.props.email.id,"inbox").then((function(){e.refreshEmail()}))}},{key:"removeEmail",value:function(){var e=this;"inbox"===this.props.email.folder||"concept"===this.props.email.folder||"sent"===this.props.email.folder?B.A.moveToFolder(this.props.email.id,"removed").then((function(){e.refreshEmail()})):"removed"===this.props.email.folder&&B.A.deleteEmail(this.props.email.id).then((function(){e.props.navigate(-1)}))}},{key:"render",value:function(){return s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-9"},s.createElement("div",{className:"col-md-12"},s.createElement(A,{removeEmail:this.removeEmail,id:this.props.params.id})),s.createElement("div",{className:"col-md-12"},s.createElement(Ie,{restoreEmail:this.restoreEmail}))))}}])}(s.Component);const je=(0,m.Ng)((function(e){return{email:e.email}}),(function(e){return{fetchEmail:function(t){e(M(t))},clearEmail:function(){e({type:"CLEAR_EMAIL"})}}}))((function(e){var t=(0,u.Zp)(),n=(0,u.g)();return s.createElement(Oe,(0,i.A)({},e,{navigate:t,params:n}))}))},53530:(e,t,n)=>{n.d(t,{A:()=>m});var a=n(96540),o=n(96522),l=n(5556),r=n.n(l),c=n(62493),i=n(55956),s=function(e){var t=e.label,n=e.className,l=e.id,r=e.value,s=e.switchToEdit;return a.createElement("div",{className:n},a.createElement("label",{htmlFor:l,className:"col-sm-3"},t,s?a.createElement("span",null,a.createElement("br",null),a.createElement(i.A,{buttonClassName:"btn-success btn-padding-small",buttonText:"Wijzig",onClickAction:s})):""),a.createElement(c.A,{className:"col-sm-9"},a.createElement(o.A,null,a.createElement("div",{id:l,dangerouslySetInnerHTML:{__html:r}}))))};s.defaultProps={className:"col-sm-12",value:""},s.propTypes={label:r().string.isRequired,className:r().string,id:r().string,value:r().oneOfType([r().string,r().number])};const m=s},60597:(e,t)=>{t.a=void 0,t.a={viewBox:"0 0 1536 1792",children:[{name:"path",attribs:{d:"M1468 380q28 28 48 76t20 88v1152q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1600q0-40 28-68t68-28h896q40 0 88 20t76 48zM1024 136v376h376q-10-29-22-41l-313-313q-12-12-41-22zM1408 1664v-1024h-416q-40 0-68-28t-28-68v-416h-768v1536h1280z"}}]}},61034:(e,t,n)=>{var a=n(69565),o=n(39297),l=n(1625),r=n(67979),c=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in c||o(e,"flags")||!l(c,e)?t:a(r,e)}}}]);