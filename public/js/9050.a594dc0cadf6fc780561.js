"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[9050],{30070:(e,t,n)=>{n.d(t,{H:()=>l,_:()=>a});var a=function(e,t,n,a){return{type:"FETCH_EMAILS",folder:e,filters:t,sorts:n,pagination:a}},l=function(){return{type:"CLEAR_EMAILS"}}},78598:(e,t,n)=>{n.d(t,{e:()=>a});var a=function(e){return{type:"SET_EMAILS_PAGINATION",pagination:e}}},89050:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var a=n(23029),l=n(92901),i=n(56822),c=n(53954),o=n(85501),r=n(96540),s=n(69733),u=n(30070),m=n(78598),h=n(58168),f=n(42285),E=n(45403),d=n(93913),p=n(26829),v=n(24179),A=n(95093),g=n.n(A),k=n(87722),w=n(88505);function y(e,t,n){return t=(0,c.A)(t),(0,i.A)(e,N()?Reflect.construct(t,n||[],(0,c.A)(e).constructor):t.apply(e,n))}function N(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(N=function(){return!!e})()}g().locale("nl");const C=function(e){function t(e){var n;return(0,a.A)(this,t),(n=y(this,t,[e])).state={showActionButtons:!1,highlightRow:""},n}return(0,o.A)(t,e),(0,l.A)(t,[{key:"onRowEnter",value:function(){this.setState({showActionButtons:!0,highlightRow:"highlight-row"})}},{key:"onRowLeave",value:function(){this.setState({showActionButtons:!1,highlightRow:""})}},{key:"openItem",value:function(e){v.RL.push("/email/concept/".concat(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.createdAt,l=t.mailboxName,i=t.from,c=t.subject;return r.createElement("tr",{className:this.state.highlightRow,onDoubleClick:function(){return e.openItem(n)},onMouseEnter:function(){return e.onRowEnter()},onMouseLeave:function(){return e.onRowLeave()}},r.createElement("td",null,a&&g()(a).format("L")),r.createElement("td",null,l),r.createElement("td",null,i),r.createElement("td",null,c),r.createElement("td",null,this.state.showActionButtons?r.createElement("a",{role:"button",onClick:function(){return e.openItem(n)}},r.createElement(k.Ay,{className:"mybtn-success",size:14,icon:w.w})):""))}}])}(r.Component);var R=n(74850);const P=(0,s.Ng)((function(e){return{emails:e.emails.list,emailsPagination:e.emails.pagination}}),null)((function(e){var t=e.emails,n=t.data,a=void 0===n?[]:n,l=t.meta,i=void 0===l?{}:l;return t.isLoading,r.createElement("div",null,r.createElement(f.A,null,r.createElement(E.A,null,r.createElement("tr",{className:"thead-title"},r.createElement(p.A,{title:"Datum",width:"10%"}),r.createElement(p.A,{title:"Mailbox",width:"20%"}),r.createElement(p.A,{title:"Afzender",width:"20%"}),r.createElement(p.A,{title:"Onderwerp",width:"45%"}),r.createElement(p.A,{title:"",width:"5%"}))),r.createElement(d.A,null,0===a.length?r.createElement("tr",null,r.createElement("td",{colSpan:5},"Geen e-mails gevonden!")):a.map((function(e){return r.createElement(C,(0,h.A)({key:e.id},e))})))),r.createElement(R.A,{onPageChangeAction:e.handlePageClick,totalRecords:i.total,initialPage:e.emailsPagination.page}))}));var D=n(91858);const b=function(e){return r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-4"},r.createElement("div",{className:"btn-group",role:"group"},r.createElement(D.A,{iconName:"refresh",onClickAction:e.refreshData}),r.createElement(D.A,{iconName:"plus",onClickAction:function(){v.RL.push("/email/nieuw")}}))),r.createElement("div",{className:"col-md-4"},r.createElement("h3",{className:"text-center table-title"},"E-mail concepten")),r.createElement("div",{className:"col-md-4"}))};var L=n(62493),B=n(55849);function I(e,t,n){return t=(0,c.A)(t),(0,i.A)(e,M()?Reflect.construct(t,n||[],(0,c.A)(e).constructor):t.apply(e,n))}function M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(M=function(){return!!e})()}var S=function(e){function t(e){var n;return(0,a.A)(this,t),(n=I(this,t,[e])).refreshData=n.refreshData.bind(n),n.handlePageClick=n.handlePageClick.bind(n),n}return(0,o.A)(t,e),(0,l.A)(t,[{key:"componentDidMount",value:function(){this.fetchEmailsData()}},{key:"componentWillUnmount",value:function(){this.props.clearEmails()}},{key:"fetchEmailsData",value:function(){var e=this;setTimeout((function(){var t={limit:20,offset:e.props.emailsPagination.offset};e.props.fetchEmails("concept",{},{},t)}),100)}},{key:"refreshData",value:function(){this.props.clearEmails(),this.fetchEmailsData()}},{key:"handlePageClick",value:function(e){var t=e.selected,n=Math.ceil(20*t);this.props.setEmailsPagination({page:t,offset:n}),this.fetchEmailsData()}},{key:"render",value:function(){return r.createElement(L.A,{className:"col-md-9"},r.createElement(B.A,null,r.createElement("div",{className:"col-md-12 margin-10-top"},r.createElement(b,{refreshData:this.refreshData})),r.createElement("div",{className:"col-md-12 margin-10-top"},r.createElement(P,{handlePageClick:this.handlePageClick}))))}}])}(r.Component);const _=(0,s.Ng)((function(e){return{emailsPagination:e.emails.pagination}}),(function(e){return{fetchEmails:function(t,n,a,l){e((0,u._)(t,n,a,l))},clearEmails:function(){e((0,u.H)())},setEmailsPagination:function(t){e((0,m.e)(t))}}}))(S)}}]);