"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[9151],{75957:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(67294),a=i(45697),o=i.n(a),s=i(86733),l=i(30071),c=i(30381),r=i.n(c);r().locale("nl");var u=function(e){var t=e.className,i=e.startDate,a=e.endDate,o=e.onChangeActionStart,c=e.onChangeActionEnd,u=(e.placeholder,i?r()(i).format("L"):""),m=a?r()(a).format("L"):"";return n.createElement("th",{className:"DayPicker-overflow ".concat(t)},n.createElement(s.default,{value:u,onDayChange:o,formatDate:l.formatDate,parseDate:l.parseDate,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:l.default},inputProps:{className:"form-control input-sm",placeholder:"Van"},placeholder:"Van"}),n.createElement("br",null),n.createElement(s.default,{value:m,onDayChange:c,formatDate:l.formatDate,parseDate:l.parseDate,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:l.default},inputProps:{className:"form-control input-sm",placeholder:"tot"},placeholder:"tot"}))};u.defaultProps={className:"",startDate:null,endDate:null,placeholder:""},u.propTypes={className:o().string,startDate:o().oneOfType([o().string,o().object]),endDate:o().oneOfType([o().string,o().object]),onChangeAction:o().func,placeholder:o().string};const m=u},29151:(e,t,i)=>{i.r(t),i.d(t,{default:()=>me});var n=i(93433),a=i(15671),o=i(43144),s=i(97326),l=i(60136),c=i(82963),r=i(61120),u=i(4942),m=i(67294),p=i(86706),h=i(83920),f=function(e,t,i,n){return{type:"FETCH_HOUSING_FILE_SPECIFICATIONS",filters:e,extraFilters:t,sorts:i,pagination:n}},d=function(){return{type:"CLEAR_HOUSING_FILE_SPECIFICATIONS"}},g=function(e){return{type:"SET_FILTER_HOUSING_FILE_SPECIFICATION_FULL_NAME",fullName:e}},E=function(e){return{type:"SET_FILTER_HOUSING_FILE_SPECIFICATION_ADDRESS",address:e}},S=function(e){return{type:"SET_FILTER_HOUSING_FILE_SPECIFICATION_POSTAL_CODE",postalCode:e}},F=function(e){return{type:"SET_FILTER_HOUSING_FILE_SPECIFICATION_CITY",city:e}},C=function(e){return{type:"SET_FILTER_HOUSING_FILE_SPECIFICATION_MEASURE_CATEGORY_NAME",measureCategoryName:e}},k=function(e){return{type:"SET_FILTER_HOUSING_FILE_SPECIFICATION_MEASURE_NAME",measureName:e}},y=function(e){return{type:"SET_FILTER_HOUSING_FILE_SPECIFICATION_STATUS_NAME",statusName:e}},N=function(e){return{type:"SET_FILTER_HOUSING_FILE_SPECIFICATION_MEASURE_DATE_START",measureDateStart:e}},v=function(e){return{type:"SET_FILTER_HOUSING_FILE_SPECIFICATION_MEASURE_DATE_END",measureDateEnd:e}},b=function(){return{type:"CLEAR_FILTER_HOUSING_FILE_SPECIFICATIONS"}},I=function(e){return{type:"SET_HOUSING_FILE_SPECIFICATIONS_PAGINATION",pagination:e}},x=i(87462),w=i(96498),Z=i(75286),L=i(24480),D=i(51910),H=i(69025);const O=(0,p.$j)(null,(function(e){return{setHousingFileSpecificationsSortsFilter:function(t,i){e(function(e,t){return{type:"SET_HOUSING_FILE_SPECIFICATIONS_SORTS_FILTER",field:e,order:t}}(t,i))}}}))((function(e){var t=function(t,i){e.setHousingFileSpecificationsSortsFilter(t,i),setTimeout((function(){e.refreshHousingFileSpecificationsData()}),100)};return m.createElement("tr",{className:"thead-title"},e.showCheckboxList?m.createElement("th",{width:"3%"}):null,m.createElement(H.Z,{sortColumn:"fullName",title:"Contact",width:e.showCheckboxList?"12%":"15%",setSorts:t}),m.createElement(H.Z,{sortColumn:"address",title:"Adres",width:"15%",setSorts:t}),m.createElement(H.Z,{sortColumn:"postalCode",title:"Postcode",width:"5%",setSorts:t}),m.createElement(H.Z,{sortColumn:"city",title:"Woonplaats",width:"10%",setSorts:t}),m.createElement(H.Z,{sortColumn:"measureCategoryName",title:"Categorie",width:"15%",setSorts:t}),m.createElement(H.Z,{sortColumn:"measureName",title:"Specificatie",width:"15%",setSorts:t}),m.createElement(H.Z,{sortColumn:"statusName",title:"Status",width:"10%",setSorts:t}),m.createElement(H.Z,{sortColumn:"measureDate",title:"Datum realisatie",width:"10%",setSorts:t}),m.createElement("th",{width:"5%"}))}));var _=i(30381),A=i.n(_),T=i(75957);const P=(0,p.$j)((function(e){return{filters:e.housingFileSpecifications.filters}}),(function(e){return(0,h.DE)({clearFilterHousingFileSpecifications:b,setFilterHousingFileSpecificationFullName:g,setFilterHousingFileSpecificationPostalCode:S,setFilterHousingFileSpecificationCity:F,setFilterHousingFileSpecificationAddress:E,setFilterHousingFileSpecificationMeasureCategoryName:C,setFilterHousingFileSpecificationMeasureName:k,setFilterHousingFileSpecificationStatusName:y,setFilterHousingFileSpecificationMeasureDateStart:N,setFilterHousingFileSpecificationMeasureDateEnd:v},e)}))((function(e){return m.createElement("tr",{className:"thead-filter"},e.showCheckboxList?m.createElement("th",null,m.createElement("div",null,m.createElement("input",{type:"checkbox",onChange:e.toggleCheckedAll}))):null,m.createElement("th",null,m.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.fullName.data,onChange:function(t){e.setFilterHousingFileSpecificationFullName(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),m.createElement("th",null,m.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.address.data,onChange:function(t){e.setFilterHousingFileSpecificationAddress(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),m.createElement("th",null,m.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.postalCode.data,onChange:function(t){e.setFilterHousingFileSpecificationPostalCode(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),m.createElement("th",null,m.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.city.data,onChange:function(t){e.setFilterHousingFileSpecificationCity(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),m.createElement("th",null,m.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.measureCategoryName.data,onChange:function(t){e.setFilterHousingFileSpecificationMeasureCategoryName(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),m.createElement("th",null,m.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.measureName.data,onChange:function(t){e.setFilterHousingFileSpecificationMeasureName(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),m.createElement("th",null,m.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.statusName.data,onChange:function(t){e.setFilterHousingFileSpecificationStatusName(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),m.createElement(T.Z,{startDate:e.filters.measureDateStart.data&&e.filters.measureDateStart.data,endDate:e.filters.measureDateEnd.data&&e.filters.measureDateEnd.data,onChangeActionStart:function(t){void 0===t?e.setFilterHousingFileSpecificationMeasureDateStart(""):e.setFilterHousingFileSpecificationMeasureDateStart(A()(t).format("Y-MM-DD"))},onChangeActionEnd:function(t){void 0===t?e.setFilterHousingFileSpecificationMeasureDateEnd(""):e.setFilterHousingFileSpecificationMeasureDateEnd(A()(t).format("Y-MM-DD"))}}),m.createElement("th",null))}));var R=i(97894),M=i(75502);const U=function(e){(0,l.Z)(s,e);var t,i,n=(t=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,r.Z)(t);if(i){var a=(0,r.Z)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function s(e){var t;return(0,a.Z)(this,s),(t=n.call(this,e)).state={showMore:!1,showActionButtons:!1,highlightRow:""},t}return(0,o.Z)(s,[{key:"onRowEnter",value:function(){this.setState({showActionButtons:!0,highlightRow:"highlight-row"})}},{key:"onRowLeave",value:function(){this.setState({showActionButtons:!1,highlightRow:""})}},{key:"toggleShowMore",value:function(){this.setState({showMore:!this.state.showMore})}},{key:"render",value:function(){var e=this,t=this.props,i=t.id,n=t.fullName,a=t.fullAddress,o=t.postalCode,s=t.city,l=t.measureCategoryName,c=t.measureName,r=t.status,u=t.measureDate,p=t.answer,h=t.floor,f=t.side,d=t.typeBrand,g=(t.externalHoomName,t.typeOfExecution),E=t.savingsGas,S=t.savingsElectricity,F=t.co2Savings,C=this.state.showMore;return m.createElement(m.Fragment,null,m.createElement("tr",{className:this.state.highlightRow,onMouseEnter:function(){return e.onRowEnter()},onMouseLeave:function(){return e.onRowLeave()},onClick:function(){return e.toggleShowMore()}},this.props.showCheckboxList?m.createElement("td",null,m.createElement("div",null,r&&"desirable"===r.codeRef?m.createElement("input",{type:"checkbox",name:i,onChange:this.props.toggleSpecificationCheck,checked:!!this.props.specificationIds&&this.props.specificationIds.includes(i)}):" ")):null,m.createElement("td",null,n),m.createElement("td",null,a),m.createElement("td",null,o),m.createElement("td",null,s),m.createElement("td",null,l),m.createElement("td",null,c),m.createElement("td",null,r?r.name:""),m.createElement("td",null,u?A()(u).format("DD-MM-Y"):""),m.createElement("td",null,this.state.showActionButtons?m.createElement("a",{role:"button",onClick:function(){return e.toggleShowMore()}},m.createElement(R.ZP,{className:"mybtn-success",size:14,icon:M.r})," "):"")),C&&p?m.createElement("tr",{style:{backgroundColor:"initial"}},m.createElement("td",{colSpan:this.props.showCheckboxList?"5":"4"}," "),m.createElement("td",null,"Waarde:"),m.createElement("td",{colSpan:this.props.showCheckboxList?"3":"4"},p)):null,C&&h?m.createElement("tr",{style:{backgroundColor:"initial"}},m.createElement("td",{colSpan:this.props.showCheckboxList?"5":"4"}," "),m.createElement("td",null,"Verdieping:"),m.createElement("td",{colSpan:this.props.showCheckboxList?"3":"4"},h?h.name:"")):null,C&&f?m.createElement("tr",{style:{backgroundColor:"initial"}},m.createElement("td",{colSpan:this.props.showCheckboxList?"5":"4"}," "),m.createElement("td",null,"Zijde:"),m.createElement("td",{colSpan:this.props.showCheckboxList?"3":"4"},f?f.name:"")):null,C&&d?m.createElement("tr",{style:{backgroundColor:"initial"}},m.createElement("td",{colSpan:this.props.showCheckboxList?"5":"4"}," "),m.createElement("td",null,"Type/merk:"),m.createElement("td",{colSpan:this.props.showCheckboxList?"3":"4"},d)):null,C&&g?m.createElement("tr",{style:{backgroundColor:"initial"}},m.createElement("td",{colSpan:this.props.showCheckboxList?"5":"4"}," "),m.createElement("td",null,"Uitvoering:"),m.createElement("td",{colSpan:this.props.showCheckboxList?"3":"4"},null===g?"Onbekend":"Z"===g?"Zelf doen":"Laten doen")):null,C&&E?m.createElement("tr",{style:{backgroundColor:"initial"}},m.createElement("td",{colSpan:this.props.showCheckboxList?"5":"4"}," "),m.createElement("td",null,"Besparing gas:"),m.createElement("td",{colSpan:this.props.showCheckboxList?"3":"4"},E)):null,C&&S?m.createElement("tr",{style:{backgroundColor:"initial"}},m.createElement("td",{colSpan:this.props.showCheckboxList?"5":"4"}," "),m.createElement("td",null,"Besparing electriciteit:"),m.createElement("td",{colSpan:this.props.showCheckboxList?"3":"4"},S)):null,C&&F?m.createElement("tr",{style:{backgroundColor:"initial"}},m.createElement("td",{colSpan:this.props.showCheckboxList?"5":"4"}," "),m.createElement("td",null,"CO2 besparing:"),m.createElement("td",{colSpan:this.props.showCheckboxList?"3":"4"},F)):null)}}]),s}(m.Component);var j=function(e){(0,l.Z)(p,e);var t,i,n=(t=p,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,r.Z)(t);if(i){var a=(0,r.Z)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function p(e){var t;return(0,a.Z)(this,p),t=n.call(this,e),(0,u.Z)((0,s.Z)(t),"handleKeyUp",(function(e){13===e.keyCode&&t.props.onSubmitFilter()})),t}return(0,o.Z)(p,[{key:"render",value:function(){var e=this,t=this.props.housingFileSpecifications,i=t.data,n=void 0===i?[]:i,a=t.meta,o=void 0===a?{}:a,s=t.hasError,l=t.isLoading,c="",r=!0;return s?c="Fout bij het ophalen van woningdossier specificaties.":l?c="Gegevens aan het laden.":0===n.length?c="Geen woningdossier specificaties gevonden!":r=!1,m.createElement("form",{onKeyUp:this.handleKeyUp},m.createElement(w.Z,null,m.createElement(Z.Z,null,m.createElement(O,{refreshHousingFileSpecificationsData:function(){return e.props.refreshHousingFileSpecificationsData()},showCheckboxList:this.props.showCheckboxList}),m.createElement(P,{onSubmitFilter:this.props.onSubmitFilter,showCheckboxList:this.props.showCheckboxList,toggleCheckedAll:this.props.toggleCheckedAll})),m.createElement(L.Z,null,r?m.createElement("tr",null,m.createElement("td",{colSpan:9},c)):n.map((function(t){return m.createElement(U,(0,x.Z)({key:t.id},t,{showCheckboxList:e.props.showCheckboxList,toggleSpecificationCheck:e.props.toggleSpecificationCheck,specificationIds:e.props.specificationIds}))})))),m.createElement("div",{className:"col-md-4 col-md-offset-4"},m.createElement(D.Z,{onPageChangeAction:this.props.handlePageClick,totalRecords:o.total,initialPage:this.props.housingFileSpecificationsPagination.page})))}}]),p}(m.Component);const G=(0,p.$j)((function(e){return{isLoading:e.loadingData.isLoading,hasError:e.loadingData.hasError}}))(j);var B=i(55451),Y=i(49332);const W=(0,p.$j)((function(e){return{permissions:e.meDetails.permissions,housingFileSpecifications:e.housingFileSpecifications.list}}))((function(e){var t=e.housingFileSpecifications.meta,i=void 0===t?{}:t;return m.createElement("div",{className:"row"},m.createElement("div",{className:"col-md-4"},m.createElement("div",{className:"btn-group",role:"group"},m.createElement(B.Z,{iconName:"refresh",onClickAction:e.resetHousingFileSpecificationFilters}),m.createElement(B.Z,{iconName:"filter",onClickAction:e.toggleShowExtraFilters,title:"Extra filters"}),m.createElement(B.Z,{iconName:"download",onClickAction:e.getExcelHousingFiles,title:"Download woningdossiers"}),m.createElement(B.Z,{iconName:"download",onClickAction:e.getExcelSpecifications,title:"Download woningdossiers specificaties"}),e.permissions.manageHousingFile&&m.createElement(m.Fragment,null,m.createElement(Y.Z,{buttonText:e.showCheckboxList?"Selectie sluiten":"Selectie maken",onClickAction:e.toggleShowCheckboxList}),e.showCheckboxList?m.createElement(m.Fragment,null," ",m.createElement(Y.Z,{buttonText:"Maak kans(en)",onClickAction:e.toggleCreateOpportunity})):null))),m.createElement("div",{className:"col-md-4"},m.createElement("h3",{className:"text-center table-title"},"Woningdossier specificaties")),m.createElement("div",{className:"col-md-4"},m.createElement("div",{className:"pull-right"},"Resultaten: ",i.total||0)))}));var V=i(41355);function $(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function K(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?$(Object(i),!0).forEach((function(t){(0,u.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(82563);var q=function(e){(0,l.Z)(u,e);var t,i,n=(t=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,r.Z)(t);if(i){var a=(0,r.Z)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function u(e){var t;return(0,a.Z)(this,u),(t=n.call(this,e)).state={filters:e.extraFilters,yesNoOptions:[{id:0,name:"Nee"},{id:1,name:"Ja"}]},t.closeModal=t.closeModal.bind((0,s.Z)(t)),t.confirmAction=t.confirmAction.bind((0,s.Z)(t)),t.handleFilterFieldChange=t.handleFilterFieldChange.bind((0,s.Z)(t)),t.handleFilterValueChange=t.handleFilterValueChange.bind((0,s.Z)(t)),t}return(0,o.Z)(u,[{key:"closeModal",value:function(){this.props.toggleShowExtraFilters()}},{key:"confirmAction",value:function(){this.props.handleExtraFiltersChange(this.state.filters)}},{key:"handleFilterFieldChange",value:function(e,t){var i=this.state.filters;i[t].field=e,i[t].data="",this.setState(K(K({},this.state),{},{filters:i}))}},{key:"handleFilterValueChange",value:function(e,t,i){var n=this.state.filters;n[i][e]=t,this.setState(K(K({},this.state),{},{filters:n}))}},{key:"render",value:function(){return m.createElement(V.Z,{title:"Extra filters",buttonConfirmText:"Toepassen",confirmAction:this.confirmAction,closeModal:this.closeModal,buttonCancelText:"Sluiten"},m.createElement("table",{className:"table"},m.createElement("thead",null,m.createElement("tr",null,m.createElement("th",{className:"col-md-4"},"Zoekveld"),m.createElement("th",{className:"col-md-3"}),m.createElement("th",{className:"col-md-4"},"Waarde"),m.createElement("th",{className:"col-md-1"}))),0===this.state.filters.length?m.createElement("tbody",null,m.createElement("tr",null,m.createElement("td",{colSpan:4},"Geen filters gezet."))):m.createElement("tbody",null,m.createElement("tr",null,m.createElement("td",{className:"col-md-4"},"Waarde / antwoord"),m.createElement("td",{className:"col-md-3"}),m.createElement("td",{className:"col-md-4"}),m.createElement("td",{className:"col-md-1"})),m.createElement("tr",null,m.createElement("td",{className:"col-md-4"},"Verdieping"),m.createElement("td",{className:"col-md-3"}),m.createElement("td",{className:"col-md-4"}),m.createElement("td",{className:"col-md-1"})),m.createElement("tr",null,m.createElement("td",{className:"col-md-4"},"Zijde"),m.createElement("td",{className:"col-md-3"}),m.createElement("td",{className:"col-md-4"}),m.createElement("td",{className:"col-md-1"})),m.createElement("tr",null,m.createElement("td",{className:"col-md-4"},"Type/Merk"),m.createElement("td",{className:"col-md-3"}),m.createElement("td",{className:"col-md-4"}),m.createElement("td",{className:"col-md-1"})),m.createElement("tr",null,m.createElement("td",{className:"col-md-4"},"Uitvoering"),m.createElement("td",{className:"col-md-3"}),m.createElement("td",{className:"col-md-4"}),m.createElement("td",{className:"col-md-1"})),m.createElement("tr",null,m.createElement("td",{className:"col-md-4"},"Besparing gas"),m.createElement("td",{className:"col-md-3"}),m.createElement("td",{className:"col-md-4"}),m.createElement("td",{className:"col-md-1"})),m.createElement("tr",null,m.createElement("td",{className:"col-md-4"},"Besparing electriciteit"),m.createElement("td",{className:"col-md-3"}),m.createElement("td",{className:"col-md-4"}),m.createElement("td",{className:"col-md-1"})),m.createElement("tr",null,m.createElement("td",{className:"col-md-4"},"CO2 besparing"),m.createElement("td",{className:"col-md-3"}),m.createElement("td",{className:"col-md-4"}),m.createElement("td",{className:"col-md-1"})))))}}]),u}(m.Component);const z=(0,p.$j)((function(e){return{}}))(q);var J=i(55359),Q=i(71840),X=i(48966),ee=i.n(X),te=i(634);var ie=function(e){(0,l.Z)(p,e);var t,i,n=(t=p,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,r.Z)(t);if(i){var a=(0,r.Z)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function p(e){var t;return(0,a.Z)(this,p),t=n.call(this,e),(0,u.Z)((0,s.Z)(t),"handleInputChange",(function(e){var i=e.target,n="checkbox"===i.type?i.checked:i.value,a=i.name;t.setState((0,u.Z)({},a,n))})),(0,u.Z)((0,s.Z)(t),"handleSubmit",(function(e){ee().isEmpty(t.state.campaignId+"")?t.setState({errors:{campaignId:!0}}):te.Z.createOpportunitiesFromSpecificationsList(t.props.specificationIds,t.state.campaignId).then((function(e){t.props.toggleCreateOpportunity(),t.props.toggleShowCheckboxList(),t.props.fetchHousingFileSpecificationsData()}))})),t.state={campaigns:[],campaignId:"",errors:{campaignId:!1}},t}return(0,o.Z)(p,[{key:"componentDidMount",value:function(){var e=this;J.Z.peekNotFinishedCampaigns().then((function(t){e.setState({campaigns:t})}))}},{key:"render",value:function(){return m.createElement(V.Z,{buttonConfirmText:"Kans(en) maken",closeModal:this.props.toggleCreateOpportunity,confirmAction:this.handleSubmit,title:"Kans(en) maken"},m.createElement("div",{className:"row"},m.createElement(Q.Z,{size:"col-md-12",label:"Maak kans(en) van geselecteerde specificatie(s) voor campagne:",name:"campaignId",options:this.state.campaigns,value:this.state.campaignId,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.campaignId})))}}]),p}(m.Component);const ne=(0,p.$j)((function(e){return{permissions:e.meDetails.permissions}}),null)(ie);var ae=i(4257),oe=i(14309),se=i(98688),le=i(35823),ce=i.n(le),re=i(72506);var ue=function(e){(0,l.Z)(h,e);var t,i,p=(t=h,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,r.Z)(t);if(i){var a=(0,r.Z)(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return(0,c.Z)(this,e)});function h(e){var t;return(0,a.Z)(this,h),t=p.call(this,e),(0,u.Z)((0,s.Z)(t),"fetchHousingFileSpecificationsData",(function(){setTimeout((function(){var e=t.state.extraFilters,i=(0,ae.Z)(t.props.housingFileSpecificationsFilters),n=t.props.housingFileSpecificationsSorts,a={limit:20,offset:t.props.housingFileSpecificationsPagination.offset};t.props.fetchHousingFileSpecifications(i,e,n,a)}),100)})),(0,u.Z)((0,s.Z)(t),"getExcelHousingFiles",(function(){t.props.blockUI(),setTimeout((function(){var e=t.state.extraFilters,i=(0,ae.Z)(t.props.housingFileSpecificationsFilters),n=t.props.housingFileSpecificationsSorts;te.Z.getExcelHousingFiles({filters:i,extraFilters:e,sorts:n}).then((function(e){ce()(e.data,"Woningdossiers-"+A()().format("YYYY-MM-DD HH:mm:ss")+".xlsx"),t.props.unblockUI()})).catch((function(e){t.props.unblockUI()}))}),100)})),(0,u.Z)((0,s.Z)(t),"getExcelSpecifications",(function(){t.props.blockUI(),setTimeout((function(){var e=t.state.extraFilters,i=(0,ae.Z)(t.props.housingFileSpecificationsFilters),n=t.props.housingFileSpecificationsSorts;te.Z.getExcelSpecifications({filters:i,extraFilters:e,sorts:n}).then((function(e){ce()(e.data,"Woningdossiers-specificaties-"+A()().format("YYYY-MM-DD HH:mm:ss")+".xlsx"),t.props.unblockUI()})).catch((function(e){t.props.unblockUI()}))}),100)})),(0,u.Z)((0,s.Z)(t),"resetHousingFileFilters",(function(){t.props.clearFilterHousingFileSpecifications(),t.setState({extraFilters:[]}),t.fetchHousingFileSpecificationsData()})),(0,u.Z)((0,s.Z)(t),"handleExtraFiltersChange",(function(e){t.setState({extraFilters:e}),t.props.setHousingFileSpecificationsPagination({page:0,offset:0}),setTimeout((function(){t.fetchHousingFileSpecificationsData()}),100)})),(0,u.Z)((0,s.Z)(t),"toggleShowCheckboxList",(function(){t.setState({showCheckboxList:!t.state.showCheckboxList})})),(0,u.Z)((0,s.Z)(t),"toggleCheckedAll",(function(e){var i=e.target.checked,n=[];i&&t.props.housingFileSpecifications.data.map((function(e){return e&&e.status&&"desirable"===e.status.codeRef&&n.push(e.id)})),t.setState({specificationIds:n,checkedAll:i})})),(0,u.Z)((0,s.Z)(t),"toggleSpecificationCheck",(function(e){var i=e.target.checked,a=Number(e.target.name);i?t.setState({specificationIds:[].concat((0,n.Z)(t.state.specificationIds),[a])},t.checkAllSpecificationsAreChecked):t.setState({specificationIds:t.state.specificationIds.filter((function(e){return e!==a})),checkedAll:!1})})),(0,u.Z)((0,s.Z)(t),"toggleCreateOpportunity",(function(){t.setState({showCreateOpportunitiesFromSpecifications:!t.state.showCreateOpportunitiesFromSpecifications})})),t.state={showExtraFilters:!1,extraFilters:[],showCheckboxList:!1,showCreateOpportunitiesFromSpecifications:!1,specificationIds:[]},t.handlePageClick=t.handlePageClick.bind((0,s.Z)(t)),t.toggleShowExtraFilters=t.toggleShowExtraFilters.bind((0,s.Z)(t)),t}return(0,o.Z)(h,[{key:"componentDidMount",value:function(){this.fetchHousingFileSpecificationsData()}},{key:"componentWillUnmount",value:function(){this.props.clearHousingFileSpecifications()}},{key:"onSubmitFilter",value:function(){var e=this;(0,ae.Z)(this.props.housingFileSpecificationsFilters),this.props.housingFileSpecificationsSorts,this.props.setHousingFileSpecificationsPagination({page:0,offset:0}),setTimeout((function(){e.fetchHousingFileSpecificationsData()}),100)}},{key:"handlePageClick",value:function(e){var t=this,i=e.selected,n=Math.ceil(20*i);this.props.setHousingFileSpecificationsPagination({page:i,offset:n}),setTimeout((function(){t.fetchHousingFileSpecificationsData()}),100)}},{key:"prefillExtraFilter",value:function(){this.setState({extraFilters:[{field:"name",type:"eq",data:""}]})}},{key:"toggleShowExtraFilters",value:function(){0===this.state.extraFilters.length&&!this.state.showExtraFilters&&this.prefillExtraFilter(),this.setState({showExtraFilters:!this.state.showExtraFilters})}},{key:"checkAllSpecificationsAreChecked",value:function(){this.setState({checkedAll:this.state.specificationIds.length===this.props.housingFileSpecifications.length})}},{key:"render",value:function(){var e=this;return m.createElement(oe.Z,null,m.createElement(se.Z,null,m.createElement("div",{className:"col-md-12 margin-10-top"},m.createElement(W,{resetHousingFileSpecificationFilters:function(){return e.resetHousingFileSpecificationFilters()},getExcelHousingFiles:this.getExcelHousingFiles,getExcelSpecifications:this.getExcelSpecifications,toggleShowExtraFilters:this.toggleShowExtraFilters,showCheckboxList:this.state.showCheckboxList,toggleShowCheckboxList:this.toggleShowCheckboxList,toggleCreateOpportunity:this.toggleCreateOpportunity})),m.createElement("div",{className:"col-md-12 margin-10-top"},m.createElement(G,{housingFileSpecifications:this.props.housingFileSpecifications,housingFileSpecificationsPagination:this.props.housingFileSpecificationsPagination,onSubmitFilter:function(){return e.onSubmitFilter()},refreshHousingFileSpecificationsData:function(){return e.fetchHousingFileSpecificationsData()},handlePageClick:this.handlePageClick,showCheckboxList:this.state.showCheckboxList,toggleCheckedAll:this.toggleCheckedAll,toggleSpecificationCheck:this.toggleSpecificationCheck,specificationIds:this.state.specificationIds})),this.state.showExtraFilters&&m.createElement(z,{toggleShowExtraFilters:this.toggleShowExtraFilters,handleExtraFiltersChange:this.handleExtraFiltersChange,extraFilters:this.state.extraFilters}),this.state.showCreateOpportunitiesFromSpecifications&&m.createElement(ne,{toggleCreateOpportunity:this.toggleCreateOpportunity,toggleShowCheckboxList:this.toggleShowCheckboxList,specificationIds:this.state.specificationIds,fetchHousingFileSpecificationsData:this.fetchHousingFileSpecificationsData})))}}]),h}(m.Component);const me=(0,p.$j)((function(e){return{permissions:e.meDetails.permissions,housingFileSpecifications:e.housingFileSpecifications.list,housingFileSpecificationsFilters:e.housingFileSpecifications.filters,housingFileSpecificationsSorts:e.housingFileSpecifications.sorts,housingFileSpecificationsPagination:e.housingFileSpecifications.pagination}}),(function(e){return(0,h.DE)({fetchHousingFileSpecifications:f,clearHousingFileSpecifications:d,setHousingFileSpecificationsPagination:I,clearFilterHousingFileSpecifications:b,blockUI:re.Q,unblockUI:re.e},e)}))(ue)}}]);