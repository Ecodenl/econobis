"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[9191],{9152:(e,t,n)=>{n.d(t,{A:()=>d}),n(94170);var a=n(96540),r=n(5556),l=n.n(r),i=n(87722),o=n(71866),c=n(56908),s=void 0,u=function(e){var t=e.RowClassName,n=e.setSorts,r=e.sortColumn,l=e.title,u=e.width;return a.createElement("th",{className:t,width:u},l,a.createElement(i.Ay,{className:"pull-right small",size:14,icon:c.m,role:"button",onClick:n.bind(s,r,"ASC")}),a.createElement(i.Ay,{className:"pull-right small",size:14,icon:o.b,role:"button",onClick:n.bind(s,r,"DESC")}))};u.defaultProps={RowClassName:""},u.propTypes={setSorts:l().func.isRequired,sortColumn:l().string.isRequired,title:l().string.isRequired,width:l().string.isRequired,RowClassName:l().string};const d=u},9391:(e,t,n)=>{var a=n(46518),r=n(96395),l=n(80550),i=n(79039),o=n(97751),c=n(94901),s=n(2293),u=n(93438),d=n(36840),m=l&&l.prototype;if(a({target:"Promise",proto:!0,real:!0,forced:!!l&&i((function(){m.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=s(this,o("Promise")),n=c(e);return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),!r&&c(l)){var f=o("Promise").prototype.finally;m.finally!==f&&d(m,"finally",f,{unsafe:!0})}},25562:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(5544),r=n(96540);const l=function(e){var t=(0,r.useState)(!1),n=(0,a.A)(t,2),l=n[0],i=n[1];function o(t){t.key===e&&i(!0)}function c(t){t.key===e&&i(!1)}return(0,r.useEffect)((function(){return window.addEventListener("keydown",o),window.addEventListener("keyup",c),function(){window.removeEventListener("keydown",o),window.removeEventListener("keyup",c)}}),[]),l}},26829:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(96540),r=n(5556),l=n.n(r),i=function(e){var t=e.RowClassName,n=e.title,r=e.width;return a.createElement("th",{className:t,width:r},n)};i.defaultProps={RowClassName:""},i.propTypes={title:l().string.isRequired,width:l().string.isRequired,RowClassName:l().string};const o=i},42285:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(96540);const r=function(e){return a.createElement("table",{className:"table table-condensed table-hover table-striped col-xs-12"},e.children)}},43790:(e,t,n)=>{n.d(t,{A:()=>l}),n(52675),n(89463);var a=n(96540),r=n(63750);const l=function(e){var t=e.deletePortalFreeFieldsPage,n=e.closeDeleteItemModal,l=e.description,i=e.id;return a.createElement(r.A,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:n,confirmAction:function(){return t(i),void n()},title:"Verwijderen"},"Verwijder vrije velden portaal pagina: ",a.createElement("strong",null,l),"?")}},45403:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(96540);const r=function(e){return a.createElement("thead",null,e.children)}},56908:(e,t)=>{t.m=void 0,t.m={viewBox:"0 0 1664 1792",children:[{name:"path",attribs:{d:"M1611 832q0 53-37 90l-651 652q-39 37-91 37-53 0-90-37l-651-652q-38-36-38-90 0-53 38-91l74-75q39-37 91-37 53 0 90 37l294 294v-704q0-52 38-90t90-38h128q52 0 90 38t38 90v704l294-294q37-37 90-37 52 0 91 37l75 75q37 39 37 91z"}}]}},71866:(e,t)=>{t.b=void 0,t.b={viewBox:"0 0 1664 1792",children:[{name:"path",attribs:{d:"M1611 971q0 51-37 90l-75 75q-38 38-91 38-54 0-90-38l-294-293v704q0 52-37.5 84.5t-90.5 32.5h-128q-53 0-90.5-32.5t-37.5-84.5v-704l-294 293q-36 38-90 38t-90-38l-75-75q-38-38-38-90 0-53 38-91l651-651q35-37 90-37 54 0 91 37l651 651q37 39 37 91z"}}]}},89191:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});var a=n(60436),r=n(64467),l=n(10467),i=n(5544),o=n(54756),c=n.n(o),s=(n(28706),n(52675),n(2008),n(51629),n(62010),n(79432),n(67945),n(84185),n(83851),n(81278),n(26099),n(3362),n(9391),n(23500),n(96540)),u=n(62493),d=n(55849),m=n(58168),f=(n(62062),n(69733)),p=n(47767),g=n(87722),v=n(88505),h=n(87696);const E=(0,f.Ng)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.id,n=e.name,a=e.isActive,r=e.showDeleteItemModal,l=e.permissions,o=(0,p.Zp)(),c=(0,s.useState)(!1),u=(0,i.A)(c,2),d=u[0],m=u[1],f=(0,s.useState)(""),E=(0,i.A)(f,2),A=E[0],F=E[1];function P(e){o("/vrije-velden-portaal-pagina/".concat(e))}return s.createElement("tr",{className:"".concat(A),onMouseEnter:function(){return m(!0),void F("highlight-row")},onMouseLeave:function(){return m(!1),void F("")},onDoubleClick:function(){return P(t)}},s.createElement("td",null,n),s.createElement("td",null,Boolean(a)?"Ja":"Nee"),s.createElement("td",null,d&&l.manageFreeFields&&l.managePortalSettings?s.createElement("a",{role:"button",onClick:function(){return P(t)}},s.createElement(g.Ay,{className:"mybtn-success",size:14,icon:v.w})):"",d&&l.manageFreeFields?s.createElement("a",{role:"button",onClick:function(){return r(t,n)}},s.createElement(g.Ay,{className:"mybtn-danger",size:14,icon:h.d})):""))}));var A=n(74850),F=n(42285),P=n(45403),w=n(93913),b=n(26829),y=n(9152);const N=function(e){return s.createElement("tr",{className:"thead-title"},s.createElement(y.A,{sortColumn:"name",title:"Naam",width:"70%",setSorts:e.handleChangeSort}),s.createElement(b.A,{title:"Actief",width:"25%"}),s.createElement("th",{width:"5%"}))};var C=n(95430);const k=function(e){var t=e.filter,n=e.handleChangeFilter;return s.createElement(s.Fragment,null,s.createElement("tr",{className:"thead-filter"},s.createElement("th",null,s.createElement("input",{type:"text",className:"form-control input-sm",value:t.name,onChange:function(e){return n("name",e.target.value)}})),s.createElement("th",null,s.createElement("select",{className:"form-control input-sm",value:t.isActive,onChange:function(e){return n("isActive",e.target.value)}},s.createElement("option",null),s.createElement("option",{key:1,value:1},"Ja"),s.createElement("option",{key:0,value:0},"Nee"))),s.createElement("th",null)))};var S=n(43790);const x=function(e){var t=e.portalFreeFieldsPages,n=e.portalFreeFieldsTotal,a=e.recordsPerPage,r=e.isLoading,l=e.filter,o=e.handlePageClick,c=e.handleChangeSort,u=e.handleChangeFilter,d=e.handleKeyUp,f=e.deletePortalFreeFieldsPage,p=(0,s.useState)(!1),g=(0,i.A)(p,2),v=g[0],h=g[1],b=(0,s.useState)({id:"",description:""}),y=(0,i.A)(b,2),C=y[0],x=y[1];function j(e,t){h(!0),x({id:e,description:t})}return s.createElement("div",null,s.createElement("form",{onKeyUp:d,className:"margin-10-top"},s.createElement(F.A,null,s.createElement(P.A,null,s.createElement(N,{handleChangeSort:c}),s.createElement(k,{filter:l,handleChangeFilter:u})),s.createElement(w.A,null,r?s.createElement("tr",null,s.createElement("td",{colSpan:3},"Bezig met gegevens laden")):t.length>0?t.map((function(e){return s.createElement(E,(0,m.A)({key:e.id},e,{showDeleteItemModal:j}))})):s.createElement("tr",null,s.createElement("td",{colSpan:3},"Geen resultaten!")))),s.createElement("div",{className:"col-md-6 col-md-offset-3"},s.createElement(A.A,{onPageChangeAction:o,totalRecords:n,initialPage:0,recordsPerPage:a}))),v&&s.createElement(S.A,(0,m.A)({closeDeleteItemModal:function(){h(!1),x({id:"",description:""})}},C,{deletePortalFreeFieldsPage:f})))};var j=n(91858);const q=(0,f.Ng)((function(e){return{permissions:e.meDetails.permissions}}),null)((function(e){var t=e.portalFreeFieldsPagesTotal,n=e.refreshPortalFreeFieldsPageFields,a=e.getExcelLogMutations,r=e.permissions,l=(0,p.Zp)();return s.createElement("div",{className:"row"},s.createElement("div",{className:"col-md-4"},s.createElement("div",{className:"btn-group btn-group-flex",role:"group"},s.createElement(j.A,{iconName:"refresh",onClickAction:n}),r.viewFreeFieldsFieldLog&&s.createElement(j.A,{iconName:"download",onClickAction:a,title:"Downloaden mutaties vrije velden"}),r.manageFreeFields&&s.createElement(j.A,{iconName:"plus",onClickAction:function(){l("/vrije-velden-portaal-pagina/nieuw")}}))),s.createElement("div",{className:"col-md-4"},s.createElement("h3",{className:"text-center table-title"},"Vrije velden portaal pagina's")),s.createElement("div",{className:"col-md-4"},s.createElement("div",{className:"row"},s.createElement("div",{className:"col-sm-12"},s.createElement("div",{className:"pull-right"},"Resultaten: ",t)))))}));var O=n(25562),D=n(72505),M=n.n(D),R=n(95093),L=n.n(R),T=n(5419),z=n.n(T),B=n(60881);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const V=function(){var e=(0,s.useState)([]),t=(0,i.A)(e,2),n=t[0],o=t[1],m=(0,s.useState)(!0),f=(0,i.A)(m,2),p=f[0],g=f[1],v=(0,s.useState)({total:0}),h=(0,i.A)(v,2),E=h[0],A=h[1],F=(0,s.useState)([]),P=(0,i.A)(F,2),w=P[0],b=P[1],y=(0,s.useState)([{field:"name",order:"ASC"}]),N=(0,i.A)(y,2),k=N[0],S=N[1],j=(0,s.useState)({offset:0,limit:50}),D=(0,i.A)(j,2),R=D[0],T=D[1],J=(0,O.A)("Enter"),V=(0,s.useState)(!1),Y=(0,i.A)(V,2),K=Y[0],U=Y[1],H=(0,s.useState)(""),Z=(0,i.A)(H,2),G=Z[0],Q=Z[1];function W(){var e;g(!0),M().all([C.A.fetchPortalFreeFieldsPages((e=[],w.name&&e.push({field:"name",data:w.name}),w.isActive&&e.push({field:"isActive",data:w.isActive}),e),k,R)]).then(M().spread((function(e){o(e.data.data),A(e.data.meta)}))).catch((function(e){U(!0),Q("Er is iets misgegaan met ophalen van de gegevens.")})).finally((function(){g(!1)}))}function X(){return(X=(0,l.A)(c().mark((function e(){var t,n,a,r,l,i,o,s,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,C.A.getExcelFreeFieldsFieldLog();case 4:t=e.sent,z()(t.data,"vrije-velden-mutaties-log-".concat(L()().format("YYYY-MM-DD HH:mm:ss"),".xlsx")),e.next=28;break;case 8:if(e.prev=8,e.t0=e.catch(1),n="Er is iets misgegaan bij downloaden. Probeer het opnieuw.",null===e.t0||void 0===e.t0||!e.t0.response){e.next=26;break}if((a=e.t0.response).status,r=a.statusText,!((l=a.data)instanceof Blob)){e.next=25;break}return e.prev=14,e.next=17,l.text();case 17:i=e.sent;try{u=JSON.parse(i),n=null!==(o=null!==(s=null==u?void 0:u.message)&&void 0!==s?s:i)&&void 0!==o?o:n}catch(e){n=i||n}e.next=23;break;case 21:e.prev=21,e.t1=e.catch(14);case 23:e.next=26;break;case 25:n=(null==l?void 0:l.message)||r||n;case 26:U(!0),Q(n);case 28:return e.prev=28,g(!1),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[1,8,28,31],[14,21]])})))).apply(this,arguments)}function $(){o([]),T(I(I({},R),{},{page:0,offset:0}))}return(0,s.useEffect)((function(){W()}),[R.offset,k,w.name,w.isActive]),(0,s.useEffect)((function(){J&&W()}),[J]),s.createElement(s.Fragment,null,s.createElement(u.A,null,s.createElement(d.A,null,s.createElement("div",{className:"col-md-12 margin-10-top"},s.createElement(q,{portalFreeFieldsPagesTotal:E.total,refreshPortalFreeFieldsPages:W,getExcelLogMutations:function(){return X.apply(this,arguments)}})),s.createElement("div",{className:"col-md-12 margin-10-top"},s.createElement(x,{portalFreeFieldsPages:n,portalFreeFieldsTotal:E.total,recordsPerPage:50,isLoading:p,filter:w,handlePageClick:function(e){var t=Math.ceil(50*e.selected);T(I(I({},R),{},{offset:t}))},handleChangeSort:function(e,t){var n=k;3===n.length&&n.pop();var r={field:"".concat(e),order:"".concat(t)};S([r].concat((0,a.A)(n)))},handleChangeFilter:function(e,t){b(I(I({},w),{},(0,r.A)({},e,t))),$()},handleKeyUp:function(e){13===e.keyCode&&$()},deletePortalFreeFieldsPage:function(e){g(!0),C.A.deletePortalFreeFieldsPage(e).then((function(e){W()})).catch((function(e){U(!0),Q("Er is iets misgegaan bij verwijderen. Probeer het opnieuw.")})).finally((function(){g(!1)}))}})))),K&&s.createElement(B.A,{closeModal:function(){U(!1),Q("")},title:"Foutmelding",errorMessage:G}))}},93913:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(96540);const r=function(e){return a.createElement("tbody",null,e.children)}},95430:(e,t,n)=>{n.d(t,{A:()=>l}),n(28706),n(60739);var a=n(61941),r=n(61643);const l={fetchPortalFreeFieldsPages:function(e,t,n){var l="".concat((0,r.e)(),"/api/portal-free-fields-pages/grid");return(0,a.A)().get(l,{params:{filters:JSON.stringify(e),sorts:JSON.stringify(t),limit:n.limit,offset:n.offset}})},fetchPortalFreeFieldsPageDetails:function(e){var t="".concat((0,r.e)(),"/api/portal-free-fields-page/").concat(e);return(0,a.A)().get(t).then((function(e){return e.data.data}))},peekFreeFieldsContacts:function(e){var t="".concat((0,r.e)(),"/api/portal-free-fields-page/free-fields-contacts/").concat(e,"/peek-contacts");return(0,a.A)().get(t)},getExcelFreeFieldsFieldLog:function(){var e="".concat((0,r.e)(),"/api/free-fields-field-log/excel/mutations");return(0,a.A)().get(e,{responseType:"blob"})},deletePortalFreeFieldsPage:function(e){var t="".concat((0,r.e)(),"/api/portal-free-fields-page/").concat(e,"/delete");return(0,a.A)().post(t)},newPortalFreeFieldsPage:function(e){var t="".concat((0,r.e)(),"/api/portal-free-fields-page");return(0,a.A)().post(t,e).then((function(e){return e.data})).catch((function(e){console.log(e)}))},updatePortalFreeFieldsPage:function(e){return(0,a.A)().post("".concat((0,r.e)(),"/api/portal-free-fields-page/").concat(e.id,"/update"),e)},createPortalFreeFieldsField:function(e){var t="".concat((0,r.e)(),"/api/portal-free-fields-page-field");return(0,a.A)().post(t,e)},updatePortalFreeFieldsField:function(e,t){var n="".concat((0,r.e)(),"/api/portal-free-fields-page-field/").concat(e);return(0,a.A)().post(n,t)},deletePortalFreeFieldsField:function(e){var t="".concat((0,r.e)(),"/api/portal-free-fields-page-field/").concat(e,"/delete");return(0,a.A)().post(t)}}}}]);