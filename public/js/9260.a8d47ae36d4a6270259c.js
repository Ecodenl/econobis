(self.webpackChunkeco=self.webpackChunkeco||[]).push([[9260],{59260:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>R});var r=a(96540),o=a(23029),n=a(92901),s=a(56822),l=a(53954),i=a(85501),c=a(64467),u=a(69733),d=a(15462),p=a.n(d),m=a(24179),g=a(95093),h=a.n(g),f=a(57761),b=a.n(f),v=a(55956),x=a(54814),S=a(33579),E=a(62493),I=a(55849),w=a(77685),y=a(48758),C=a(32293),A=a(60738),N=a(31714),k=a(88221);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,c.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function O(e,t,a){return t=(0,l.A)(t),(0,s.A)(e,L()?Reflect.construct(t,a||[],(0,l.A)(e).constructor):t.apply(e,a))}function L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(L=function(){return!!e})()}h().locale("nl");var P=function(e){function t(e){var a;return(0,o.A)(this,t),a=O(this,t,[e]),(0,c.A)(a,"callFetchContactGroups",(function(){a.setState({contactGroupsLoading:!0}),A.A.peekContactGroups().then((function(e){a.setState({contactGroupsLoading:!1,contactGroups:e})})).catch((function(e){a.setState({contactGroupsLoading:!1})}))})),(0,c.A)(a,"closeUploadImage",(function(){a.setState({showModalUploadImage:!1})})),(0,c.A)(a,"toggleUploadImage",(function(e){a.props.permissions.managePortalSettings&&a.setState({showModalUploadImage:!a.state.showModalUploadImage,imageItemName:e})})),(0,c.A)(a,"addImage",(function(e,t,r){a.setState(M(M({},a.state),{},{image:e[0],showModalCropImage:!0,useAutoCropper:r}))})),(0,c.A)(a,"closeShowCrop",(function(){a.setState({showModalCropImage:!1})})),(0,c.A)(a,"cropImage",(function(e){a.setState(M(M({},a.state),{},{widget:M(M({},a.state.widget),{},{image:e,widgetImageFileName:e.name}),showModalCropImage:!1}))})),(0,c.A)(a,"handleInputChange",(function(e){var t=e.target,r="checkbox"===t.type?t.checked:t.value,o=t.name;a.setState(M(M({},a.state),{},{widget:M(M({},a.state.widget),{},(0,c.A)({},o,r))}))})),(0,c.A)(a,"handleReactSelectChange",(function(e,t){a.setState(M(M({},a.state),{},{widget:M(M({},a.state.widget),{},(0,c.A)({},t,e))}))})),(0,c.A)(a,"handleSubmit",(function(e){e.preventDefault();var t=a.state.widget,r={},o={},n=!1;if(b().isEmpty(t.title)&&(r.title=!0,o.title="Titel verplicht veld.",n=!0),b().isEmpty(t.text)&&(r.text=!0,o.text="Tekst verplicht veld.",n=!0),b().isEmpty(t.widgetImageFileName)&&(r.image=!0,o.image="Afbeelding verplicht veld.",n=!0),b().isEmpty(t.buttonText)&&(r.buttonText=!0,o.buttonText="Knoptekst verplicht veld.",n=!0),b().isEmpty(t.buttonLink)&&(r.buttonLink=!0,o.buttonLink="Knoplink verplicht veld.",n=!0),a.setState(M(M({},a.state),{},{errors:r,errorMessage:o})),!n){var s=new FormData;s.append("portalSettingsDashboardId",t.portalSettingsDashboardId),s.append("title",t.title),s.append("text",t.text),s.append("image",t.image),s.append("buttonText",t.buttonText),s.append("buttonLink",t.buttonLink),s.append("widgetImageFileName",t.widgetImageFileName),s.append("showGroupId",t.showGroupId),s.append("hideGroupId",t.hideGroupId),s.append("backgroundColor",t.backgroundColor),s.append("textColor",t.textColor),a.setState(M(M({},a.state),{},{errors:r})),C.A.addPortalSettingsDashboardWidget(s).then((function(e){m.RL.push("/portal-instellingen-dashboard")})).catch((function(e){console.log(e),alert("Er is iets mis gegaan met opslaan!")}))}})),a.state={widget:{portalSettingsDashboardId:1,title:"",text:"",image:"",widgetImageFileName:"",showGroupId:"",hideGroupId:"",buttonText:"",buttonLink:"",backgroundColor:"",textColor:"",active:!0},contactGroups:{},contactGroupsLoading:!1,image:"",imageItemName:"",showModalUploadImage:!1,showModalCropImage:!1,useAutoCropper:!0,errors:{title:!1,text:!1,image:!1,showGroupId:!1,hideGroupId:!1,buttonText:!1,buttonLink:!1,widgetImageFileName:!1,backgroundColor:!1,textColor:!1},errorMessage:{}},a}return(0,i.A)(t,e),(0,n.A)(t,[{key:"componentDidMount",value:function(){this.callFetchContactGroups()}},{key:"render",value:function(){var e=this,t=this.state,a=t.widget,o=t.errors,n=t.errorMessage,s="".concat(URL_API,"/portal/images/").concat(a.widgetImageFileName,"?").concat(this.props.imageHash),l=this.props.permissions.managePortalSettings,i=void 0===l?{}:l;return r.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},r.createElement(E.A,null,r.createElement(I.A,null,r.createElement("div",{className:"row"},r.createElement(x.A,{label:"Titel",divSize:"col-sm-8",name:"title",value:a.title,onChangeAction:this.handleInputChange,readOnly:!i,required:"required",error:o.title,errorMessage:n.title})),r.createElement("div",{className:"row"},r.createElement(x.A,{label:"Afbeelding (bestandstype PNG of JPG)",divSize:"col-sm-8",name:"widgetImageFileName",value:a.image?a.image.name:a.widgetImageFileName,onClickAction:function(){e.toggleUploadImage("image-widget")},onChangeaction:function(){},readOnly:!i,required:"required",error:this.state.errors.widgetImageFileName}),r.createElement(p(),{src:a.image&&a.image.preview?a.image.preview:s,style:{border:"1px solid #999",display:"inline-block",padding:"1px",borderRadius:"1px",maxHeight:"50px",width:"auto",marginLeft:"20px",marginBottom:"10px",boxShadow:"0 0 0 1px #fff inset"}})),r.createElement("div",{className:"row"},r.createElement(S.A,{label:"Tekst",size:"col-sm-8",sizeLabel:"col-sm-6",sizeInput:"col-sm-6",name:"text",value:a.text,onChangeAction:this.handleInputChange,readOnly:!i,required:"required",error:o.text,errorMessage:n.text})),r.createElement("div",{className:"row"},r.createElement(x.A,{label:"Knoptekst",divSize:"col-sm-8",name:"buttonText",value:a.buttonText,onChangeAction:this.handleInputChange,readOnly:!i,required:"required",error:o.buttonText,errorMessage:n.buttonText})),r.createElement("div",{className:"row"},r.createElement(x.A,{label:"Knoplink",divSize:"col-sm-8",name:"buttonLink",value:a.buttonLink,onChangeAction:this.handleInputChange,readOnly:!i,required:"required",error:o.buttonLink,errorMessage:n.buttonLink})),r.createElement("div",{className:"row"},r.createElement(N.A,{label:"Zichtbaar voor groep",divSize:"col-sm-8",name:"showGroupId",options:this.state.contactGroups,value:a.showGroupId,onChangeAction:this.handleReactSelectChange,isLoading:this.state.contactGroupsLoading})),r.createElement("div",{className:"row"},r.createElement(N.A,{label:"Verborgen voor groep",divSize:"col-sm-8",name:"hideGroupId",options:this.state.contactGroups,value:a.hideGroupId,onChangeAction:this.handleReactSelectChange,isLoading:this.state.contactGroupsLoading})),r.createElement("div",{className:"row"},r.createElement(k.A,{label:"Widget achtergrond kleur",divSize:"col-sm-8",name:"backgroundColor",value:a.backgroundColor,onChangeAction:this.handleInputChange,readOnly:!i,required:"required",error:this.state.errors.backgroundColor}),r.createElement("span",{className:"rc-color-picker-trigger",unselectable:"unselectable",style:{backgroundColor:a.backgroundColor,color:a.textColor,border:"1px solid #999",display:"inline-block",padding:"2px",borderRadius:"2px",width:"150px",height:"30px",boxShadow:"0 0 0 2px #fff inset"}},"Widget tekst")),r.createElement("div",{className:"row"},r.createElement(k.A,{label:"Widget tekst kleur",divSize:"col-sm-8",name:"textColor",value:a.textColor,onChangeAction:this.handleInputChange,readOnly:!i,required:"required",error:this.state.errors.textColor})),this.state.showModalUploadImage&&r.createElement(y.A,{closeUploadImage:this.closeUploadImage,addImage:this.addImage,imageItemName:this.state.imageItemName,acceptedFiles:["image/png","image/jpeg"],acceptedExtenties:"PNG of JPG"}),this.state.showModalCropImage&&r.createElement(w.A,{closeShowCrop:this.closeShowCrop,useAutoCropper:this.state.useAutoCropper,image:this.state.image,imageItemName:this.state.imageItemName,cropImage:this.cropImage})),r.createElement(I.A,null,r.createElement("div",{className:"pull-right btn-group",role:"group"},r.createElement(v.A,{buttonText:"Opslaan",onClickAction:this.handleSubmit,type:"submit",value:"Submit"})))))}}])}(r.Component);const G=(0,u.Ng)((function(e){return{permissions:e.meDetails.permissions}}),null)(P);var T=a(91858);const z=function(){return r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-4"},r.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},r.createElement(T.A,{iconName:"arrowLeft",onClickAction:m.Nc.goBack}))),r.createElement("div",{className:"col-md-4"},r.createElement("h4",{className:"text-center margin-small"},"Nieuw dashboard widget")),r.createElement("div",{className:"col-md-4"}))},R=function(){return r.createElement("div",{className:"row"},r.createElement("div",{className:"col-md-9"},r.createElement("div",{className:"col-md-12 margin-10-top"},r.createElement(E.A,null,r.createElement(I.A,{className:"panel-small"},r.createElement(z,null)))),r.createElement("div",{className:"col-md-12 margin-10-top"},r.createElement(G,null))),r.createElement("div",{className:"col-md-3"}))}},15462:(e,t,a)=>{"use strict";var r=a(43769);t.__esModule=!0,t.default=void 0;var o=r(a(74525)),n=r(a(35356)),s=r(a(9314)),l=r(a(46942)),i=r(a(96540)),c=r(a(5556)),u=a(96778),d={responsive:c.default.bool,rounded:c.default.bool,circle:c.default.bool,thumbnail:c.default.bool},p=function(e){function t(){return e.apply(this,arguments)||this}return(0,s.default)(t,e),t.prototype.render=function(){var e,t=this.props,a=t.responsive,r=t.rounded,s=t.circle,c=t.thumbnail,d=t.className,p=(0,n.default)(t,["responsive","rounded","circle","thumbnail","className"]),m=(0,u.splitBsProps)(p),g=m[0],h=m[1],f=((e={})[(0,u.prefix)(g,"responsive")]=a,e[(0,u.prefix)(g,"rounded")]=r,e[(0,u.prefix)(g,"circle")]=s,e[(0,u.prefix)(g,"thumbnail")]=c,e);return i.default.createElement("img",(0,o.default)({},h,{className:(0,l.default)(d,f)}))},t}(i.default.Component);p.propTypes=d,p.defaultProps={responsive:!1,rounded:!1,circle:!1,thumbnail:!1};var m=(0,u.bsClass)("img",p);t.default=m,e.exports=t.default},38186:(e,t)=>{"use strict";t.__esModule=!0,t.Style=t.State=t.DEVICE_SIZES=t.SIZE_MAP=t.Size=void 0,t.Size={LARGE:"large",SMALL:"small",XSMALL:"xsmall"},t.SIZE_MAP={large:"lg",medium:"md",small:"sm",xsmall:"xs",lg:"lg",md:"md",sm:"sm",xs:"xs"},t.DEVICE_SIZES=["lg","md","sm","xs"],t.State={SUCCESS:"success",WARNING:"warning",DANGER:"danger",INFO:"info"},t.Style={DEFAULT:"default",PRIMARY:"primary",LINK:"link",INVERSE:"inverse"}},96778:(e,t,a)=>{"use strict";var r=a(43769);t.__esModule=!0,t.prefix=c,t.getClassSet=function(e){var t,a=((t={})[c(e)]=!0,t);return e.bsSize&&(a[c(e,l.SIZE_MAP[e.bsSize]||e.bsSize)]=!0),e.bsStyle&&(a[c(e,e.bsStyle)]=!0),a},t.splitBsProps=function(e){var t={};return(0,o.default)(e).forEach((function(e){var a=e[0],r=e[1];g(a)||(t[a]=r)})),[m(e),t]},t.splitBsPropsAndOmit=function(e,t){var a={};t.forEach((function(e){a[e]=!0}));var r={};return(0,o.default)(e).forEach((function(e){var t=e[0],o=e[1];g(t)||a[t]||(r[t]=o)})),[m(e),r]},t.addStyle=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];d(a)(e)},t._curry=t.bsSizes=t.bsStyles=t.bsClass=void 0;var o=r(a(45090)),n=r(a(74525)),s=(r(a(20311)),r(a(5556))),l=a(38186);function i(e){return function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return"function"==typeof a[a.length-1]?e.apply(void 0,a):function(t){return e.apply(void 0,a.concat([t]))}}}function c(e,t){var a=(e.bsClass||"").trim();return null==a&&invariant(!1),a+(t?"-"+t:"")}var u=i((function(e,t){var a=t.propTypes||(t.propTypes={}),r=t.defaultProps||(t.defaultProps={});return a.bsClass=s.default.string,r.bsClass=e,t}));t.bsClass=u;var d=i((function(e,t,a){"string"!=typeof t&&(a=t,t=void 0);var r=a.STYLES||[],o=a.propTypes||{};e.forEach((function(e){-1===r.indexOf(e)&&r.push(e)}));var l=s.default.oneOf(r);return a.STYLES=r,l._values=r,a.propTypes=(0,n.default)({},o,{bsStyle:l}),void 0!==t&&((a.defaultProps||(a.defaultProps={})).bsStyle=t),a}));t.bsStyles=d;var p=i((function(e,t,a){"string"!=typeof t&&(a=t,t=void 0);var r=a.SIZES||[],o=a.propTypes||{};e.forEach((function(e){-1===r.indexOf(e)&&r.push(e)}));var i=[];r.forEach((function(e){var t=l.SIZE_MAP[e];t&&t!==e&&i.push(t),i.push(e)}));var c=s.default.oneOf(i);return c._values=i,a.SIZES=r,a.propTypes=(0,n.default)({},o,{bsSize:c}),void 0!==t&&(a.defaultProps||(a.defaultProps={}),a.defaultProps.bsSize=t),a}));function m(e){return{bsClass:e.bsClass,bsSize:e.bsSize,bsStyle:e.bsStyle,bsRole:e.bsRole}}function g(e){return"bsClass"===e||"bsSize"===e||"bsStyle"===e||"bsRole"===e}t.bsSizes=p;var h=i;t._curry=h},74525:(e,t,a)=>{var r=a(4758);function o(){return e.exports=o=r?r.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,o.apply(this,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},9314:(e,t,a)=>{var r=a(92247),o=a(36225);e.exports=function(e,t){e.prototype=r(t.prototype),e.prototype.constructor=e,o(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},43769:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},35356:(e,t,a)=>{var r=a(57879);e.exports=function(e,t){if(null==e)return{};var a,o,n={},s=r(e);for(o=0;o<s.length;o++)a=s[o],t.indexOf(a)>=0||(n[a]=e[a]);return n},e.exports.__esModule=!0,e.exports.default=e.exports},36225:(e,t,a)=>{var r=a(34724);function o(t,a){return e.exports=o=r?r.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,o(t,a)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}}]);