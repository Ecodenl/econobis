"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[9277],{69025:(e,t,n)=>{n.d(t,{Z:()=>m});var l=n(67294),r=n(45697),a=n.n(r),i=n(97894),o=n(75987),c=n(75495),s=void 0,d=function(e){var t=e.RowClassName,n=e.setSorts,r=e.sortColumn,a=e.title,d=e.width;return l.createElement("th",{className:t,width:d},a,l.createElement(i.ZP,{className:"pull-right small",size:14,icon:c.D,role:"button",onClick:n.bind(s,r,"ASC")}),l.createElement(i.ZP,{className:"pull-right small",size:14,icon:o.z,role:"button",onClick:n.bind(s,r,"DESC")}))};d.defaultProps={RowClassName:""},d.propTypes={setSorts:a().func.isRequired,sortColumn:a().string.isRequired,title:a().string.isRequired,width:a().string.isRequired,RowClassName:a().string};const m=d},59277:(e,t,n)=>{n.r(t),n.d(t,{default:()=>R});var l=n(93433),r=n(4942),a=n(29439),i=n(67294),o=n(14309),c=n(98688),s=n(87462),d=n(86706),m=n(61409),u=n(97894),f=n(75502),h=n(77320);const p=(0,d.$j)((function(e){return{permissions:e.meDetails.permissions}}))((function(e){var t=e.id,n=e.tableName,l=e.fieldName,r=e.fieldFormatName,o=e.showDeleteItemModal,c=(0,i.useState)(!1),s=(0,a.Z)(c,2),d=s[0],p=s[1],v=(0,i.useState)(""),E=(0,a.Z)(v,2),g=E[0],N=E[1];return i.createElement("tr",{className:"".concat(g),onMouseEnter:function(){return p(!0),void N("highlight-row")},onMouseLeave:function(){return p(!1),void N("")}},i.createElement("td",null,n),i.createElement("td",null,l),i.createElement("td",null,r),i.createElement("td",null,d?i.createElement("a",{role:"button",onClick:function(){return function(e){m.nA.push("/vrije-velden/".concat(e))}(t)}},i.createElement(u.ZP,{className:"mybtn-success",size:14,icon:f.r})):"",d?i.createElement("a",{role:"button",onClick:function(){return o(t,l)}},i.createElement(u.ZP,{className:"mybtn-danger",size:14,icon:h._})):""))}));var v=n(51910),E=n(96498),g=n(75286),N=n(24480),F=n(69025);const b=function(e){return i.createElement("tr",{className:"thead-title"},i.createElement(F.Z,{sortColumn:"tableName",title:"Op onderdeel",width:"25%",setSorts:e.handleChangeSort}),i.createElement(F.Z,{sortColumn:"fieldName",title:"Vrije velden",width:"35%",setSorts:e.handleChangeSort}),i.createElement(F.Z,{sortColumn:"fieldFormatName",title:"Type",width:"35%",setSorts:e.handleChangeSort}),i.createElement("th",{width:"5%"}))},w=function(e){var t=e.filter,n=e.handleChangeFilter;return i.createElement("tr",{className:"thead-filter"},i.createElement("th",null,i.createElement("input",{type:"text",className:"form-control input-sm",value:t.tableName,onChange:function(e){return n("tableName",e.target.value)}})),i.createElement("th",null,i.createElement("input",{type:"text",className:"form-control input-sm",value:t.fieldName,onChange:function(e){return n("fieldName",e.target.value)}})),i.createElement("th",null,i.createElement("input",{type:"text",className:"form-control input-sm",value:t.fieldFormatName,onChange:function(e){return n("fieldFormatName",e.target.value)}})),i.createElement("th",null))};var C=n(41355);const Z=function(e){var t=e.deleteFreeFieldsField,n=e.closeDeleteItemModal,l=e.description,r=e.id;return i.createElement(C.Z,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:n,confirmAction:function(){return t(r),void n()},title:"Verwijderen"},"Verwijder vrije veld: ",i.createElement("strong",null,l),"?")},y=function(e){var t=e.freeFieldsFields,n=e.freeFieldsTotal,l=e.recordsPerPage,r=e.isLoading,o=e.filter,c=e.handlePageClick,d=e.handleChangeSort,m=e.handleChangeFilter,u=e.handleKeyUp,f=e.deleteFreeFieldsField,h=(0,i.useState)(!1),F=(0,a.Z)(h,2),C=F[0],y=F[1],S=(0,i.useState)({id:"",description:""}),P=(0,a.Z)(S,2),j=P[0],k=P[1];function q(e,t){y(!0),k({id:e,description:t})}return i.createElement("div",null,i.createElement("form",{onKeyUp:u,className:"margin-10-top"},i.createElement(E.Z,null,i.createElement(g.Z,null,i.createElement(b,{handleChangeSort:d}),i.createElement(w,{filter:o,handleChangeFilter:m})),i.createElement(N.Z,null,r?i.createElement("tr",null,i.createElement("td",{colSpan:4},"Bezig met gegevens laden")):t.length>0?t.map((function(e){return i.createElement(p,(0,s.Z)({key:e.id},e,{showDeleteItemModal:q}))})):i.createElement("tr",null,i.createElement("td",{colSpan:4},"Geen resultaten!")))),i.createElement("div",{className:"col-md-6 col-md-offset-3"},i.createElement(v.Z,{onPageChangeAction:c,totalRecords:n,initialPage:0,recordsPerPage:l}))),C&&i.createElement(Z,(0,s.Z)({closeDeleteItemModal:function(){y(!1),k({id:"",description:""})}},j,{deleteFreeFieldsField:f})))};var S=n(55451);const P=(0,d.$j)((function(e){return{permissions:e.meDetails.permissions}}),null)((function(e){var t=e.freeFieldsTotal,n=e.refreshFreeFieldsFields;return i.createElement("div",{className:"row"},i.createElement("div",{className:"col-md-4"},i.createElement("div",{className:"btn-group btn-group-flex",role:"group"},i.createElement(S.Z,{iconName:"refresh",onClickAction:n}),i.createElement(S.Z,{iconName:"plus",onClickAction:function(){m.nA.push("/vrije-velden/nieuw")}}))),i.createElement("div",{className:"col-md-4"},i.createElement("h3",{className:"text-center table-title"},"Vrije velden")),i.createElement("div",{className:"col-md-4"},i.createElement("div",{className:"row"},i.createElement("div",{className:"col-sm-12"},i.createElement("div",{className:"pull-right"},"Resultaten: ",t)))))}));var j=n(74227),k=n(9669),q=n.n(k),O=n(69265);const D={fetchFreeFields:function(e,t,n){var l="".concat(URL_API,"/api/free-fields/grid");return O.Z.get(l,{params:{filters:JSON.stringify(e),sorts:JSON.stringify(t),limit:n.limit,offset:n.offset}})}};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const R=function(){var e=(0,i.useState)([]),t=(0,a.Z)(e,2),n=t[0],s=t[1],d=(0,i.useState)(!0),m=(0,a.Z)(d,2),u=m[0],f=m[1],h=(0,i.useState)({total:0}),p=(0,a.Z)(h,2),v=p[0],E=p[1],g=(0,i.useState)([]),N=(0,a.Z)(g,2),F=N[0],b=N[1],w=(0,i.useState)([{field:"tableName",order:"ASC"}]),C=(0,a.Z)(w,2),Z=C[0],S=C[1],k=(0,i.useState)({offset:0,limit:50}),O=(0,a.Z)(k,2),z=O[0],R=O[1],A=(0,j.Z)("Enter");function x(){var e;f(!0),s([]),q().all([D.fetchFreeFields((e=[],F.contact&&e.push({field:"tableName",data:F.tableName}),F.statusId&&e.push({field:"fieldName",data:F.fieldName}),F.emailedTo&&e.push({field:"fieldFormatName",data:F.fieldFormatName}),e),Z,z)]).then(q().spread((function(e){s(e.data.data),E(e.data.meta),f(!1)}))).catch((function(e){f(!1),alert("Er is iets misgegaan met ophalen van de gegevens.")}))}function L(){s([]),R(M(M({},z),{},{page:0,offset:0}))}return(0,i.useEffect)((function(){x()}),[z.offset,Z,F.tableName,F.fieldName,F.fieldFormatName]),(0,i.useEffect)((function(){A&&x()}),[A]),i.createElement(o.Z,null,i.createElement(c.Z,null,i.createElement("div",{className:"col-md-12 margin-10-top"},i.createElement(P,{freeFieldsTotal:v.total,refreshFreeFieldsFields:x})),i.createElement("div",{className:"col-md-12 margin-10-top"},i.createElement(y,{freeFieldsFields:n,freeFieldsTotal:v.total,recordsPerPage:50,isLoading:u,filter:F,handlePageClick:function(e){var t=Math.ceil(50*e.selected);R(M(M({},z),{},{offset:t}))},handleChangeSort:function(e,t){var n=Z;3===n.length&&n.pop();var r={field:"".concat(e),order:"".concat(t)};S([r].concat((0,l.Z)(n)))},handleChangeFilter:function(e,t){b(M(M({},F),{},(0,r.Z)({},e,t))),L()},handleKeyUp:function(e){13===e.keyCode&&L()},deleteFreeFieldsField:function(){}}))))}},74227:(e,t,n)=>{n.d(t,{Z:()=>a});var l=n(29439),r=n(67294);const a=function(e){var t=(0,r.useState)(!1),n=(0,l.Z)(t,2),a=n[0],i=n[1];function o(t){t.key===e&&i(!0)}function c(t){t.key===e&&i(!1)}return(0,r.useEffect)((function(){return window.addEventListener("keydown",o),window.addEventListener("keyup",c),function(){window.removeEventListener("keydown",o),window.removeEventListener("keyup",c)}}),[]),a}},75495:(e,t)=>{t.D=void 0,t.D={viewBox:"0 0 1664 1792",children:[{name:"path",attribs:{d:"M1611 832q0 53-37 90l-651 652q-39 37-91 37-53 0-90-37l-651-652q-38-36-38-90 0-53 38-91l74-75q39-37 91-37 53 0 90 37l294 294v-704q0-52 38-90t90-38h128q52 0 90 38t38 90v704l294-294q37-37 90-37 52 0 91 37l75 75q37 39 37 91z"}}]}},75987:(e,t)=>{t.z=void 0,t.z={viewBox:"0 0 1664 1792",children:[{name:"path",attribs:{d:"M1611 971q0 51-37 90l-75 75q-38 38-91 38-54 0-90-38l-294-293v704q0 52-37.5 84.5t-90.5 32.5h-128q-53 0-90.5-32.5t-37.5-84.5v-704l-294 293q-36 38-90 38t-90-38l-75-75q-38-38-38-90 0-53 38-91l651-651q35-37 90-37 54 0 91 37l651 651q37 39 37 91z"}}]}}}]);