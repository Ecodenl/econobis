"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[9306],{9306:(e,t,a)=>{a.r(t),a.d(t,{default:()=>F}),a(60825);var r=a(23029),n=a(92901),o=a(56822),c=a(53954),s=a(85501),l=a(96540),i=a(64467),u=(a(76031),a(61643)),d=a(69733),m=a(72505),h=a.n(m),p=a(63750);function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}var v=function(e){function t(e){var a,n,s,l;return(0,r.A)(this,t),n=this,s=t,l=[e],s=(0,c.A)(s),a=(0,o.A)(n,f()?Reflect.construct(s,l||[],(0,c.A)(n).constructor):s.apply(n,l)),(0,i.A)(a,"confirmAction",(function(){var e=a.props.email;h().post("".concat((0,u.e)(),"/api/password/email"),{email:e}).then((function(e){a.setState({err:!1}),setTimeout((function(){a.props.closeModal()}),3e3)})).catch((function(e){a.setState({err:!0})}))})),a.state={err:null},a}return(0,s.A)(t,e),(0,n.A)(t,[{key:"render",value:function(){var e=this.state.err,t=e?"Er is iets fout gegaan":"We hebben je ge-e-maild met een wachtwoord wijzig link!",a=e?"alert alert-danger":"alert alert-success";return l.createElement(p.A,{buttonConfirmText:"Verzend",buttonClassName:"btn-success",closeModal:this.props.closeModal,confirmAction:this.confirmAction,title:"Verzenden"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-md-offset-2 col-md-8 col-md-offset-2"},null!=e&&l.createElement("div",{className:a,role:"alert"},t))),"Wijzig wachtwoord email verzenden naar ",l.createElement("strong",null,this.props.email),"?")}}])}(l.Component);const w=(0,d.Ng)((function(e){return{email:e.meDetails.email}}))(v);var E=a(10845),A=a(60881),g=a(46749),b=a(2543);function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(k=function(){return!!e})()}const y=function(e){function t(){return(0,r.A)(this,t),e=this,a=t,n=arguments,a=(0,c.A)(a),(0,o.A)(e,k()?Reflect.construct(a,n||[],(0,c.A)(e).constructor):a.apply(e,n));var e,a,n}return(0,s.A)(t,e),(0,n.A)(t,[{key:"render",value:function(){return l.createElement(p.A,{closeModal:this.props.closeModal,title:"Over ons",showConfirmAction:!1,buttonCancelText:"Ok"},l.createElement("div",{className:"row"},l.createElement("div",{className:"col-xs-12"},l.createElement("p",null,"Econobis is een administratiesysteem van energie-initiatieven in Nederland.",l.createElement("br",null),l.createElement("i",null,"Zie voor meer informatie:"," ",l.createElement("a",{href:"https://econobis.nl",target:"_blank"},"https://econobis.nl")," "))),l.createElement("div",{className:"col-xs-12"},l.createElement("p",null,"Econobis maakt gebruik maakt van BAG API Individuele Bevragingen.",l.createElement("br",null),l.createElement("i",null,"Zie voor meer informatie:"," ",l.createElement("a",{href:"https://zakelijk.kadaster.nl/-/bag-api",target:"_blank"},"https://zakelijk.kadaster.nl/-/bag-api"),"/")))))}}])}(l.Component);function N(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(N=function(){return!!e})()}var C=function(e){function t(e){return(0,r.A)(this,t),a=this,n=t,s=[e],n=(0,c.A)(n),(0,o.A)(a,N()?Reflect.construct(n,s||[],(0,c.A)(a).constructor):n.apply(a,s));var a,n,s}return(0,s.A)(t,e),(0,n.A)(t,[{key:"render",value:function(){return l.createElement("div",null,this.props.children,this.props.changePasswordActive&&l.createElement(w,{closeModal:this.props.toggleChangePassword}),l.createElement(E.A,{active:this.props.twoFactorSettingsActive,closeModal:this.props.toggleTwoFactorSettings}),this.props.showAboutUs&&l.createElement(y,{closeModal:this.props.toggleAboutUs}),!(0,b.isEmpty)(this.props.error)&&l.createElement(A.A,{error:this.props.error,closeModal:this.props.clearError}))}}])}(l.Component);const F=(0,d.Ng)((function(e){return{error:e.error}}),(function(e){return{clearError:function(){e((0,g.E)())}}}))(C)},10845:(e,t,a)=>{a.d(t,{A:()=>v}),a(60825);var r=a(23029),n=a(92901),o=a(56822),c=a(53954),s=a(85501),l=a(64467),i=a(58168),u=(a(62062),a(94170),a(26099),a(96540)),d=a(63750),m=a(49887),h=a(47767);function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}var f=function(e){function t(e){var a,n,s,i;return(0,r.A)(this,t),n=this,s=t,i=[e],s=(0,c.A)(s),a=(0,o.A)(n,p()?Reflect.construct(s,i||[],(0,c.A)(n).constructor):s.apply(n,i)),(0,l.A)(a,"handleTwoFactorEnable",(function(e){e.preventDefault(),confirm("Weet u zeker dat u twee factor authenticatie wilt activeren? U krijgt een QR code te zien die u moet scannen met uw authenticator app.")&&a.props.navigate({pathname:"/two-factor/activate",state:{password:a.state.password}})})),(0,l.A)(a,"handleTwoFactorDisable",(function(e){e.preventDefault(),confirm("Weet u zeker dat u twee factor authenticatie wilt uitschakelen?")&&m.A.disableTwoFactor(a.state.password).then((function(){a.fetchTwoFactorStatus()}))})),a.state={twoFactorActivated:!1,recoveryCodes:[],password:"",hasValidPassword:!1,errorMessage:"",cooperationRequiresTwoFactorAuthentication:!1},a.checkPasswordHandler=a.checkPasswordHandler.bind(a),a.handleCloseModal=a.handleCloseModal.bind(a),a}return(0,s.A)(t,e),(0,n.A)(t,[{key:"checkPasswordHandler",value:function(e){var t=this;e.preventDefault(),this.setState({errorMessage:""}),m.A.checkPassword(this.state.password).then((function(){t.setState({hasValidPassword:!0}),t.fetchTwoFactorStatus()})).catch((function(){t.setState({errorMessage:"Het wachtwoord is onjuist"})}))}},{key:"fetchTwoFactorStatus",value:function(){var e=this;m.A.fetchTwoFactorStatus().then((function(t){t.data.twoFactorActivated&&m.A.fetchTwoFactorRecoveryCodes(e.state.password).then((function(t){e.setState({recoveryCodes:t.data})})),e.setState({twoFactorActivated:t.data.twoFactorActivated,cooperationRequiresTwoFactorAuthentication:t.data.cooperationRequiresTwoFactorAuthentication})}))}},{key:"renderAlert",value:function(){if(this.state.errorMessage)return u.createElement("div",{className:"col-sm-10 col-md-offset-1 alert alert-danger login-alert"},this.state.errorMessage)}},{key:"handleCloseModal",value:function(){this.resetState(),this.props.closeModal()}},{key:"resetState",value:function(){this.setState({twoFactorActivated:!1,recoveryCodes:[],password:"",hasValidPassword:!1,errorMessage:"",cooperationRequiresTwoFactorAuthentication:!1})}},{key:"render",value:function(){var e=this;return this.props.active?u.createElement(d.A,{buttonCancelText:"Sluiten",closeModal:this.handleCloseModal,showConfirmAction:!1,title:"Twee factor authenticatie instellingen"},this.state.errorMessage?u.createElement("div",{className:"row"},u.createElement("div",{className:"col-xs-12"},u.createElement("div",{className:"alert alert-danger",role:"alert"},this.state.errorMessage))):null,u.createElement("div",null,this.state.hasValidPassword?u.createElement(u.Fragment,null,this.state.twoFactorActivated?u.createElement(u.Fragment,null,u.createElement("div",{className:"row"},u.createElement("div",{className:"col-xs-3"},u.createElement("label",null,"Geactiveerd")),u.createElement("div",{className:"col-xs-3"},"Ja"),u.createElement("div",{className:"col-xs-3"},!this.state.cooperationRequiresTwoFactorAuthentication&&u.createElement("a",{href:"#",onClick:this.handleTwoFactorDisable,style:{color:"#e64a4a"}},"uitschakelen"))),u.createElement("div",{className:"row"},u.createElement("div",{className:"col-xs-3"},u.createElement("label",null,"Herstelcode")),u.createElement("div",{className:"col-xs-9"},u.createElement("ul",{style:{listStyleType:"none",padding:0}},this.state.recoveryCodes.map((function(e){return u.createElement("li",{key:e,style:{"font-family":"courier"}},e)})))))):u.createElement("div",{className:"row"},u.createElement("div",{className:"col-xs-3"},u.createElement("label",null,"Geactiveerd")),u.createElement("div",{className:"col-xs-3"},"Nee"),u.createElement("div",{className:"col-xs-3"},u.createElement("a",{href:"#",onClick:this.handleTwoFactorEnable},"activeren")))):u.createElement("form",{onSubmit:this.checkPasswordHandler},"Voer uw wachtwoord in om de twee factor instellingen te wijzigen.",u.createElement("br",null),u.createElement("div",{className:"row"},u.createElement("div",{className:"col-xs-6"},u.createElement("input",{placeholder:"Wachtwoord",className:"form-control input-sm",type:"password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})),u.createElement("div",{className:"col-xs-6"},u.createElement("button",{type:"submit",className:"btn btn-primary btn-sm"},"Ontgrendel")))))):null}}])}(u.Component);const v=function(e){var t=(0,h.Zp)();return u.createElement(f,(0,i.A)({},e,{navigate:t}))}}}]);