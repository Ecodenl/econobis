"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[9307],{89307:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});var a=n(96540),r=n(23029),o=n(92901),l=n(56822),c=n(53954),i=n(85501),s=n(64467),u=n(62493),m=n(55849),p=n(93822),d=n(63750);function h(e,t,n){return t=(0,c.A)(t),(0,l.A)(e,f()?Reflect.construct(t,n||[],(0,c.A)(e).constructor):t.apply(e,n))}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(f=function(){return!!e})()}var v=n(14825).A;const E=function(e){function t(e){var n;return(0,r.A)(this,t),(n=h(this,t,[e])).state={error:!1,errorMaxSize:!1},n}return(0,i.A)(t,e),(0,o.A)(t,[{key:"onDropAccepted",value:function(e){var t=this;this.props.addAttachment(e),setTimeout((function(){t.props.toggleShowNew()}),500)}},{key:"onDropRejected",value:function(){this.setState({errorMaxSize:!0})}},{key:"render",value:function(){return a.createElement(d.A,{closeModal:this.props.toggleShowNew,showConfirmAction:!1,title:"Upload bestand"},a.createElement("div",{className:"upload-file-content"},a.createElement(v,{multiple:!1,className:"dropzone",onDropAccepted:this.onDropAccepted.bind(this),onDropRejected:this.onDropRejected.bind(this),maxSize:6291456},a.createElement("p",null,"Klik hier voor het uploaden van een bestand"),a.createElement("p",null,a.createElement("strong",null,"of")," sleep het bestand hierheen"))),this.state.error&&a.createElement("p",{className:"has-error-message"},"Uploaden mislukt. Probeer nogmaals een bestand te uploaden."),this.state.errorMaxSize&&a.createElement("p",{className:"has-error-message"},"Uploaden mislukt. Het bestand mag maximaal 6MB groot zijn."))}}])}(a.Component);var g=n(55956),A=n(45403),b=n(42285),w=n(26829),y=n(93913);function N(e,t,n){return t=(0,c.A)(t),(0,l.A)(e,S()?Reflect.construct(t,n||[],(0,c.A)(e).constructor):t.apply(e,n))}function S(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(S=function(){return!!e})()}const O=function(e){function t(e){return(0,r.A)(this,t),N(this,t,[e])}return(0,i.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){var e="";return 1===this.props.data.prio&&(e="error-row"),2===this.props.data.prio&&(e="warning-row"),a.createElement("tr",{className:e},a.createElement("td",null,this.props.data.field?this.props.data.field:""),a.createElement("td",null,this.props.data.value?this.props.data.value:""," "),a.createElement("td",null,this.props.data.line),a.createElement("td",null,this.props.data.message))}}])}(a.Component);var k=n(24179);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,s.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t=(0,c.A)(t),(0,l.A)(e,R()?Reflect.construct(t,n||[],(0,c.A)(e).constructor):t.apply(e,n))}function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(R=function(){return!!e})()}const x=function(e){function t(e){var n;return(0,r.A)(this,t),n=C(this,t,[e]),(0,s.A)(n,"toggleUpload",(function(){n.setState({upload:!n.state.upload})})),(0,s.A)(n,"handleSubmit",(function(){n.setState(j(j({},n.state),{},{uploading:!0}));var e=new FormData;e.append("attachment",n.state.attachment),p.A.validateImport(e).then((function(e){var t=e.data.find((function(e){return 1===e.prio}));n.setState(j(j({},n.state),{},{validationData:e.data,hasError:!!t,uploading:!1}))}))})),(0,s.A)(n,"import",(function(){n.setState(j(j({},n.state),{},{importing:!0}));var e=new FormData;e.append("attachment",n.state.attachment),p.A.import(e).then((function(e){k.RL.push("/contacten")}))})),(0,s.A)(n,"addAttachment",(function(e){n.setState(j(j({},n.state),{},{attachment:e[0]})),setTimeout((function(){n.handleSubmit()}),500)})),n.state={validationData:!1,upload:!1,attachment:!1,hasError:!0,uploading:!1,importing:!1},n}return(0,i.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){return a.createElement(u.A,{className:"panel-grey"},this.state.validationData?a.createElement(m.A,null,a.createElement(b.A,null,a.createElement(A.A,null,a.createElement(w.A,{title:"Veld",width:"20%"}),a.createElement(w.A,{title:"Waarde",width:"20%"}),a.createElement(w.A,{title:"Regel",width:"20%"}),a.createElement(w.A,{title:"Bericht",width:"40%"})),a.createElement(y.A,null,0===this.state.validationData.length?a.createElement("tr",null,a.createElement("td",{colSpan:4},"Geen regels gevonden!")):this.state.validationData.map((function(e,t){return a.createElement(O,{key:t,data:e})})))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement("div",{className:"btn-group btn-group-flex margin-small",role:"group"},a.createElement(g.A,{loading:this.state.uploading,buttonText:"Upload CSV",onClickAction:this.toggleUpload}),!this.state.hasError&&a.createElement(g.A,{loading:this.state.importing,buttonText:"Importeren",onClickAction:this.import}))))):a.createElement(m.A,null,a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},"Hier kunt u een CSV uploaden om contacten te importeren. De CSV moet het volgende formaat hebben:")),a.createElement("div",{className:"row margin-10-top margin-10-bottom"},a.createElement("div",{className:"col-md-12"},a.createElement("span",null,a.createElement("strong",null,"aanspreektitel_id;initialen;voornaam;tussenvoegsel;achternaam;straat;woonplaats;huisnummer;huisnummer_toevoeging;postcode;telefoonnummer;telefoonnummer2;email;email2;iban;iban_tnv")))),a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-12"},a.createElement(g.A,{loading:this.state.uploading,buttonText:"Upload CSV",onClickAction:this.toggleUpload})))),this.state.upload&&a.createElement(E,{toggleShowNew:this.toggleUpload,addAttachment:this.addAttachment}))}}])}(a.Component),B=function(e){return a.createElement("div",null,a.createElement(x,null))};function P(e,t,n){return t=(0,c.A)(t),(0,l.A)(e,U()?Reflect.construct(t,n||[],(0,c.A)(e).constructor):t.apply(e,n))}function U(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(U=function(){return!!e})()}const z=function(e){function t(e){return(0,r.A)(this,t),P(this,t,[e])}return(0,i.A)(t,e),(0,o.A)(t,[{key:"render",value:function(){return a.createElement("div",{className:"row"},a.createElement("div",{className:"col-sm-12"},a.createElement(u.A,null,a.createElement(m.A,{className:"panel-small"},a.createElement("div",{className:"col-md-4"}),a.createElement("div",{className:"col-md-4"},a.createElement("h4",{className:"text-center text-success margin-small"},a.createElement("strong",null,"Contacten importeren"))),a.createElement("div",{className:"col-md-4"})))))}}])}(a.Component),M=function(e){return a.createElement("div",{className:"row"},a.createElement("div",{className:"col-md-9"},a.createElement("div",{className:"col-md-12"},a.createElement(z,null)),a.createElement("div",{className:"col-md-12 margin-10-top"},a.createElement(B,null))))}}}]);