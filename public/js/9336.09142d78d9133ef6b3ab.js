"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[9336],{29527:(t,e,n)=>{n.d(e,{A:()=>r}),n(28706);var a=n(61941),c="district";const r={fetchDistricts:function(){return(0,a.A)().get(c).then((function(t){return t.data}))},fetchDistrictDetails:function(t){return(0,a.A)().get("".concat(c,"/").concat(t)).then((function(t){return t.data}))},fetchDistrictCalendarItems:function(t,e,n){return(0,a.A)().get("".concat(c,"/").concat(t,"/calendar-items"),{params:{startDate:e,endDate:n}}).then((function(t){return t.data}))},newDistrict:function(t){return(0,a.A)().post(c,t).then((function(t){return t.data}))},updateDistrict:function(t){return(0,a.A)().post("".concat(c,"/").concat(t.id),t)},deleteDistrict:function(t){return(0,a.A)().post("".concat(c,"/").concat(t.id,"/delete"))},detachDistrictCoach:function(t){var e=t.districtId,n=t.coachId;return(0,a.A)().post("".concat(c,"/").concat(e,"/coaches/").concat(n,"/detach"))},attachDistrictCoach:function(t){var e=t.districtId,n=t.coachId;return(0,a.A)().post("".concat(c,"/").concat(e,"/coaches/").concat(n,"/attach"))}}},39336:(t,e,n)=>{n.r(e),n.d(e,{default:()=>x});var a=n(5544),c=(n(28706),n(2008),n(50113),n(62062),n(72712),n(26910),n(23288),n(62010),n(26099),n(58940),n(96540)),r=n(10942),o=n(95093),i=n.n(o),l=(n(72121),n(85072)),u=n.n(l),s=n(97825),d=n.n(s),f=n(77659),m=n.n(f),h=n(55056),v=n.n(h),p=n(10540),A=n.n(p),D=n(41113),b=n.n(D),y=n(87053),g={};g.styleTagTransform=b(),g.setAttributes=v(),g.insert=m().bind(null,"head"),g.domAPI=d(),g.insertStyleElement=A(),u()(y.A,g),y.A&&y.A.locals&&y.A.locals;var w=n(62493),Y=n(55849),E=n(91858),k=n(47767),q=n(29527),N=n(77465),M=n(14809);i().locale("nl");const x=function(t){var e=(0,k.Zp)(),n=(0,k.g)(),o=(0,c.useState)("week"),l=(0,a.A)(o,2),u=l[0],s=l[1],d=(0,c.useState)(new Date),f=(0,a.A)(d,2),m=f[0],h=f[1],v=(0,c.useState)([]),p=(0,a.A)(v,2),A=p[0],D=p[1],b=(0,c.useState)(!1),y=(0,a.A)(b,2),g=y[0],x=y[1],C=(0,c.useState)(null),I=(0,a.A)(C,2),S=I[0],O=I[1],R=(0,c.useState)({}),T=(0,a.A)(R,2),z=T[0],P=T[1];(0,c.useEffect)((function(){V()}),[m,u]);var V=function(){var t=i()(m).startOf(u).format("YYYY-MM-DD"),e=i()(m).endOf(u).format("YYYY-MM-DD");"month"===u&&(t=i()(m).startOf(u).subtract(1,"w").format("YYYY-MM-DD"),e=i()(m).endOf(u).add(1,"w").format("YYYY-MM-DD")),q.A.fetchDistrictCalendarItems(n.id,t,e).then((function(t){var e=t.quotationRequests.map((function(t){var e=t.id,n=t.coach,a=t.datePlanned,c=t.durationMinutes,r=t.statusCodeRef;return{type:"quotationRequest",id:e,coach:n,title:"".concat({done:"✅ ","not-made":"❌ "}[r]||"").concat((null==n?void 0:n.fullName)||"Onbekende coach"),start:new Date(a),end:i()(a).add(c,"m").toDate()}})),n=t.availabilities.map((function(t){return{type:"availability",coach:t.coach,title:t.coach.fullName,start:new Date(t.from),end:new Date(t.to)}}));D(e.concat(n)),P(t.district)}))},j=function(t){switch(t.type){case"quotationRequest":return"quotation-request";case"availability":return"availability"}};return c.createElement(w.A,null,c.createElement(Y.A,null,c.createElement("div",{className:"row margin-10-bottom"},c.createElement("div",{className:"col-md-4"},c.createElement("div",{className:"btn-group",role:"group"},c.createElement(E.A,{iconName:"arrowLeft",onClickAction:function(){return e(-1)}}))),c.createElement("div",{className:"col-md-4"},c.createElement("h3",{className:"text-center table-title"},"Afspraakkalender ",z.name)),c.createElement("div",{className:"col-md-4"},c.createElement("div",{style:{display:"flex",flexDirection:"column"}},c.createElement("div",{style:{display:"flex"}},c.createElement(M.A,{size:"col-12 col-sm-12",label:"Coach",name:"coach_id",options:A.reduce((function(t,e){return t.find((function(t){return t.id===e.coach.id}))||t.push(e.coach),t}),[]).sort((function(t,e){return t.fullName.localeCompare(e.fullName)})).map((function(t){return{id:t.id,name:t.fullName}})),value:S,onChangeAction:function(t){return O(t.target.value)},placeholder:"Alle"})),c.createElement("div",null,c.createElement(N.A,{divSize:"col-12 col-sm-12",label:"Toon beschikbaarheid",name:"show_availabilities",value:g,onChangeAction:function(t){return x(t.target.checked)}}))))),c.createElement(r.Vv,{events:A.filter((function(t){return!(!g&&"availability"===t.type||S&&t.coach.id!==parseInt(S))})),style:{height:"calc(100vh - 200px)"},step:15,timeslots:4,views:["month","week","day"],view:u,onView:s,date:m,onNavigate:h,onSelectEvent:function(t){"quotationRequest"===t.type&&e("/offerteverzoek/".concat(t.id))},localizer:(0,r.ye)(i()),eventPropGetter:function(t){return{className:j(t)}},messages:{allDay:"Gehele dag",previous:"<",next:">",today:"Vandaag",month:"Maand",week:"Week",day:"Dag",agenda:"Agenda",date:"Datum",time:"Tijd",showMore:function(t){return"+".concat(t," meer")}},min:new Date("".concat(i()().format("YYYY-MM-DD")," 06:00:00"))})))}},52703:(t,e,n)=>{var a=n(44576),c=n(79039),r=n(79504),o=n(655),i=n(43802).trim,l=n(47452),u=a.parseInt,s=a.Symbol,d=s&&s.iterator,f=/^[+-]?0x/i,m=r(f.exec),h=8!==u(l+"08")||22!==u(l+"0x16")||d&&!c((function(){u(Object(d))}));t.exports=h?function(t,e){var n=i(o(t));return u(n,e>>>0||(m(f,n)?16:10))}:u},58940:(t,e,n)=>{var a=n(46518),c=n(52703);a({global:!0,forced:parseInt!==c},{parseInt:c})},72712:(t,e,n)=>{var a=n(46518),c=n(80926).left,r=n(34598),o=n(39519);a({target:"Array",proto:!0,forced:!n(16193)&&o>79&&o<83||!r("reduce")},{reduce:function(t){var e=arguments.length;return c(this,t,e,e>1?arguments[1]:void 0)}})},80926:(t,e,n)=>{var a=n(79306),c=n(48981),r=n(47055),o=n(26198),i=TypeError,l="Reduce of empty array with no initial value",u=function(t){return function(e,n,u,s){var d=c(e),f=r(d),m=o(d);if(a(n),0===m&&u<2)throw new i(l);var h=t?m-1:0,v=t?-1:1;if(u<2)for(;;){if(h in f){s=f[h],h+=v;break}if(h+=v,t?h<0:m<=h)throw new i(l)}for(;t?h>=0:m>h;h+=v)h in f&&(s=n(s,f[h],h,d));return s}};t.exports={left:u(!1),right:u(!0)}},87053:(t,e,n)=>{n.d(e,{A:()=>i});var a=n(31601),c=n.n(a),r=n(76314),o=n.n(r)()(c());o.push([t.id,".quotation-request {\n    background-color: #265985;\n}\n\n.quotation-request .rbc-event-content:hover{\n    text-decoration: underline;\n}\n\n.availability{\n    background-color: #5cb85c;\n    cursor: default;\n}\n",""]);const i=o}}]);