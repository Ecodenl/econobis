"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[9336],{29527:(t,e,a)=>{a.d(e,{A:()=>o});var n=a(61941),c="district";const o={fetchDistricts:function(){return n.A.get(c).then((function(t){return t.data}))},fetchDistrictDetails:function(t){return n.A.get("".concat(c,"/").concat(t)).then((function(t){return t.data}))},fetchDistrictCalendarItems:function(t,e,a){return n.A.get("".concat(c,"/").concat(t,"/calendar-items"),{params:{startDate:e,endDate:a}}).then((function(t){return t.data}))},newDistrict:function(t){return n.A.post(c,t).then((function(t){return t.data}))},updateDistrict:function(t){return n.A.post("".concat(c,"/").concat(t.id),t)},deleteDistrict:function(t){return n.A.post("".concat(c,"/").concat(t.id,"/delete"))},detachDistrictCoach:function(t){var e=t.districtId,a=t.coachId;return n.A.post("".concat(c,"/").concat(e,"/coaches/").concat(a,"/detach"))},attachDistrictCoach:function(t){var e=t.districtId,a=t.coachId;return n.A.post("".concat(c,"/").concat(e,"/coaches/").concat(a,"/attach"))}}},39336:(t,e,a)=>{a.r(e),a.d(e,{default:()=>C});var n=a(5544),c=a(96540),o=a(10942),r=a(95093),i=a.n(r),l=(a(72121),a(85072)),u=a.n(l),s=a(97825),d=a.n(s),m=a(77659),f=a.n(m),h=a(55056),v=a.n(h),p=a(10540),A=a.n(p),D=a(41113),b=a.n(D),g=a(87053),y={};y.styleTagTransform=b(),y.setAttributes=v(),y.insert=f().bind(null,"head"),y.domAPI=d(),y.insertStyleElement=A(),u()(g.A,y),g.A&&g.A.locals&&g.A.locals;var w=a(62493),Y=a(55849),k=a(91858),E=a(24179),N=a(29527),q=a(77465),M=a(14809);i().locale("nl");const C=function(t){var e=(0,c.useState)("week"),a=(0,n.A)(e,2),r=a[0],l=a[1],u=(0,c.useState)(new Date),s=(0,n.A)(u,2),d=s[0],m=s[1],f=(0,c.useState)([]),h=(0,n.A)(f,2),v=h[0],p=h[1],A=(0,c.useState)(!1),D=(0,n.A)(A,2),b=D[0],g=D[1],y=(0,c.useState)(null),C=(0,n.A)(y,2),S=C[0],I=C[1],x=(0,c.useState)({}),R=(0,n.A)(x,2),O=R[0],z=R[1];(0,c.useEffect)((function(){T()}),[d,r]);var T=function(){var e=i()(d).startOf(r).format("YYYY-MM-DD"),a=i()(d).endOf(r).format("YYYY-MM-DD");"month"===r&&(e=i()(d).startOf(r).subtract(1,"w").format("YYYY-MM-DD"),a=i()(d).endOf(r).add(1,"w").format("YYYY-MM-DD")),N.A.fetchDistrictCalendarItems(t.params.id,e,a).then((function(t){var e=t.quotationRequests.map((function(t){var e=t.id,a=t.coach,n=t.datePlanned,c=t.durationMinutes,o=t.statusCodeRef;return{type:"quotationRequest",id:e,coach:a,title:"".concat({done:"✅ ","not-made":"❌ "}[o]||"").concat((null==a?void 0:a.fullName)||"Onbekende coach"),start:new Date(n),end:i()(n).add(c,"m").toDate()}})),a=t.availabilities.map((function(t){return{type:"availability",coach:t.coach,title:t.coach.fullName,start:new Date(t.from),end:new Date(t.to)}}));p(e.concat(a)),z(t.district)}))},P=function(t){switch(t.type){case"quotationRequest":return"quotation-request";case"availability":return"availability"}};return c.createElement(w.A,null,c.createElement(Y.A,null,c.createElement("div",{className:"row margin-10-bottom"},c.createElement("div",{className:"col-md-4"},c.createElement("div",{className:"btn-group",role:"group"},c.createElement(k.A,{iconName:"arrowLeft",onClickAction:E.Nc.goBack}))),c.createElement("div",{className:"col-md-4"},c.createElement("h3",{className:"text-center table-title"},"Afspraakkalender ",O.name)),c.createElement("div",{className:"col-md-4"},c.createElement("div",{style:{display:"flex",flexDirection:"column"}},c.createElement("div",{style:{display:"flex"}},c.createElement(M.A,{size:"col-12 col-sm-12",label:"Coach",name:"coach_id",options:v.reduce((function(t,e){return t.find((function(t){return t.id===e.coach.id}))||t.push(e.coach),t}),[]).sort((function(t,e){return t.fullName.localeCompare(e.fullName)})).map((function(t){return{id:t.id,name:t.fullName}})),value:S,onChangeAction:function(t){return I(t.target.value)},placeholder:"Alle"})),c.createElement("div",null,c.createElement(q.A,{divSize:"col-12 col-sm-12",label:"Toon beschikbaarheid",name:"show_availabilities",value:b,onChangeAction:function(t){return g(t.target.checked)}}))))),c.createElement(o.Vv,{events:v.filter((function(t){return!(!b&&"availability"===t.type||S&&t.coach.id!==parseInt(S))})),style:{height:"calc(100vh - 200px)"},step:15,timeslots:4,views:["month","week","day"],view:r,onView:l,date:d,onNavigate:m,onSelectEvent:function(t){"quotationRequest"===t.type&&E.RL.push("/offerteverzoek/".concat(t.id))},localizer:(0,o.ye)(i()),eventPropGetter:function(t){return{className:P(t)}},messages:{allDay:"Gehele dag",previous:"<",next:">",today:"Vandaag",month:"Maand",week:"Week",day:"Dag",agenda:"Agenda",date:"Datum",time:"Tijd",showMore:function(t){return"+".concat(t," meer")}},min:new Date("".concat(i()().format("YYYY-MM-DD")," 06:00:00"))})))}},87053:(t,e,a)=>{a.d(e,{A:()=>i});var n=a(31601),c=a.n(n),o=a(76314),r=a.n(o)()(c());r.push([t.id,".quotation-request {\n    background-color: #265985;\n}\n\n.quotation-request .rbc-event-content:hover{\n    text-decoration: underline;\n}\n\n.availability{\n    background-color: #5cb85c;\n    cursor: default;\n}\n",""]);const i=r}}]);