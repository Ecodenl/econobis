(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{1605:function(e,t,n){"use strict";n.r(t);var a=n(15),c=n.n(a),o=n(16),i=n.n(o),r=n(11),l=n.n(r),s=n(17),u=n.n(s),m=n(18),p=n.n(m),f=n(13),h=n.n(f),g=n(0),d=n.n(g),v=n(20),E=n(4),y=n(51),w=Object(v.b)((function(e){return{permissions:e.meDetails.permissions,campaigns:e.campaigns.list}}))((function(e){var t=e.permissions,n=void 0===t?{}:t,a=e.campaigns.meta,c=void 0===a?{}:a;return d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-md-4"},d.a.createElement("div",{className:"btn-group",role:"group"},d.a.createElement(y.a,{iconName:"glyphicon-arrow-left",onClickAction:E.e.goBack}),n.manageMarketing&&d.a.createElement(y.a,{iconName:"glyphicon-plus",onClickAction:function(){E.f.push("campagne/nieuw")}}))),d.a.createElement("div",{className:"col-md-4"},d.a.createElement("h3",{className:"text-center table-title"},"Campagnes")),d.a.createElement("div",{className:"col-md-4"},d.a.createElement("div",{className:"pull-right"},"Resultaten: ",c.total||0)))})),C=n(140),b=n.n(C),D=n(5),k=n.n(D),O=n(222),P=n(223),R=n(284),I=n(159),N=n(7),j=n.n(N);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h()(e);if(t){var c=h()(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return p()(this,n)}}j.a.locale("nl");var M=function(e){u()(n,e);var t=A(n);function n(e){var a;return c()(this,n),(a=t.call(this,e)).state={showActionButtons:!1,highlightRow:""},a}return i()(n,[{key:"onRowEnter",value:function(){this.setState({showActionButtons:!0,highlightRow:"highlight-row"})}},{key:"onRowLeave",value:function(){this.setState({showActionButtons:!1,highlightRow:""})}},{key:"openItem",value:function(e){E.f.push("campagne/".concat(e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,a=t.number,c=t.startDate,o=t.endDate,i=t.name,r=t.type,l=t.status,s=t.amountResponses;return d.a.createElement("tr",{className:this.state.highlightRow,onDoubleClick:function(){return e.openItem(n)},onMouseEnter:function(){return e.onRowEnter()},onMouseLeave:function(){return e.onRowLeave()}},d.a.createElement("td",null,a),d.a.createElement("td",null,c?j()(c).format("L"):""),d.a.createElement("td",null,o?j()(o).format("L"):""),d.a.createElement("td",null,i),d.a.createElement("td",null,r),d.a.createElement("td",null,l),d.a.createElement("td",null,s),d.a.createElement("td",null,this.state.showActionButtons?d.a.createElement("a",{role:"button",onClick:function(){return e.openItem(n)}},d.a.createElement("span",{className:"glyphicon glyphicon-pencil mybtn-success"})," "):"",(this.state.showActionButtons&&this.props.permissions.manageMarketing,"")))}}]),n}(g.Component),B=Object(v.b)((function(e){return{permissions:e.meDetails.permissions}}))(M),S=n(37),L=n(947),G=function(e){return d.a.createElement(S.a,{buttonConfirmText:"Verwijder",buttonClassName:"btn-danger",closeModal:e.closeDeleteItemModal,confirmAction:function(){return L.a.deleteCampaign(e.id).then((function(){e.fetchCampaignsData()})),void e.closeDeleteItemModal()},title:"Verwijderen"},"Verwijder campagne ",d.a.createElement("strong",null,e.name),"?")},T=n(161);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h()(e);if(t){var c=h()(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return p()(this,n)}}var F=function(e){u()(n,e);var t=V(n);function n(e){var a;return c()(this,n),a=t.call(this,e),k()(l()(a),"showDeleteItemModal",(function(e,t){a.setState(_(_({},a.state),{},{showDeleteItem:!0,deleteItem:_(_({},a.state.deleteItem),{},{id:e,name:t})}))})),k()(l()(a),"closeDeleteItemModal",(function(){a.setState(_(_({},a.state),{},{showDeleteItem:!1,deleteItem:_(_({},a.state.deleteItem),{},{id:"",name:""})}))})),a.state={showDeleteItem:!1,deleteItem:{id:"",name:""}},a}return i()(n,[{key:"render",value:function(){var e=this,t=this.props.campaigns,n=t.data,a=void 0===n?[]:n,c=t.meta,o=void 0===c?{}:c,i="",r=!0;return this.props.hasError?i="Fout bij het ophalen van campagnes.":this.props.isLoading?i="Gegevens aan het laden.":0===a.length?i="Geen campagnes gevonden!":r=!1,d.a.createElement("div",null,d.a.createElement(O.a,null,d.a.createElement(P.a,null,d.a.createElement("tr",{className:"thead-title-quaternary"},d.a.createElement(I.a,{title:"Nummer",width:"10%"}),d.a.createElement(I.a,{title:"Begindatum",width:"10%"}),d.a.createElement(I.a,{title:"Einddatum",width:"10%"}),d.a.createElement(I.a,{title:"Naam",width:"20%"}),d.a.createElement(I.a,{title:"Type",width:"20%"}),d.a.createElement(I.a,{title:"Status",width:"10%"}),d.a.createElement(I.a,{title:"Aantal responses",width:"14%"}),d.a.createElement(I.a,{title:"",width:"6%"}))),d.a.createElement(R.a,null,r?d.a.createElement("tr",null,d.a.createElement("td",{colSpan:9},i)):a.map((function(t){return d.a.createElement(B,b()({key:t.id},t,{showDeleteItemModal:e.showDeleteItemModal}))})))),d.a.createElement("div",{className:"col-md-6 col-md-offset-3"},d.a.createElement(T.a,{onPageChangeAction:this.props.handlePageClick,totalRecords:o.total,initialPage:this.props.campaignsPagination.page})),this.state.showDeleteItem&&d.a.createElement(G,b()({closeDeleteItemModal:this.closeDeleteItemModal,fetchCampaignsData:this.props.fetchCampaignsData},this.state.deleteItem)))}}]),n}(g.Component),J=Object(v.b)((function(e){return{campaigns:e.campaigns.list,campaignsPagination:e.campaigns.pagination,isLoading:e.loadingData.isLoading,hasError:e.loadingData.hasError}}),null)(F);function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h()(e);if(t){var c=h()(this).constructor;n=Reflect.construct(a,arguments,c)}else n=a.apply(this,arguments);return p()(this,n)}}var H=function(e){u()(n,e);var t=q(n);function n(e){var a;return c()(this,n),(a=t.call(this,e)).fetchCampaignsData=a.fetchCampaignsData.bind(l()(a)),a.handlePageClick=a.handlePageClick.bind(l()(a)),a}return i()(n,[{key:"componentDidMount",value:function(){this.fetchCampaignsData()}},{key:"componentWillUnmount",value:function(){this.props.clearCampaigns()}},{key:"fetchCampaignsData",value:function(){var e=this;setTimeout((function(){var t={limit:20,offset:e.props.campaignsPagination.offset};e.props.fetchCampaigns(t)}),100)}},{key:"handlePageClick",value:function(e){var t=e.selected,n=Math.ceil(20*t);this.props.setCampaignsPagination({page:t,offset:n}),this.fetchCampaignsData()}},{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement("div",{className:"panel panel-default col-md-12"},d.a.createElement("div",{className:"panel-body"},d.a.createElement("div",{className:"col-md-12 margin-10-top"},d.a.createElement(w,null)),d.a.createElement("div",{className:"col-md-12 margin-10-top"},d.a.createElement(J,{handlePageClick:this.handlePageClick,fetchCampaignsData:this.fetchCampaignsData})))))}}]),n}(g.Component);t.default=Object(v.b)((function(e){return{campaignsPagination:e.campaigns.pagination}}),(function(e){return{fetchCampaigns:function(t){e(function(e){return{type:"FETCH_CAMPAIGNS",pagination:e}}(t))},clearCampaigns:function(){e({type:"CLEAR_CAMPAIGNS"})},setCampaignsPagination:function(t){e(function(e){return{type:"SET_CAMPAIGNS_PAGINATION",pagination:e}}(t))}}}))(H)},947:function(e,t,n){"use strict";var a=n(9);t.a={fetchCampaign:function(e){var t=e.id,n="".concat("/campaign","/").concat(t);return a.a.get(n)},fetchCampaignIntakes:function(e){var t=e.id,n=e.page,c="".concat("/campaign","/").concat(t,"/intakes?page=").concat(n);return a.a.get(c)},fetchCampaignOpportunities:function(e){var t=e.id,n=e.page,c="".concat("/campaign","/").concat(t,"/opportunities?page=").concat(n);return a.a.get(c)},updateCampaign:function(e,t){var n="".concat("/campaign","/").concat(e);return a.a.post(n,t)},storeCampaign:function(e){var t="".concat("/campaign");return a.a.post(t,e)},deleteCampaign:function(e){var t="".concat("/campaign","/").concat(e,"/delete");return a.a.post(t)},attachResponse:function(e,t){var n="".concat("/campaign","/").concat(e,"/response/").concat(t,"/attach");return a.a.post(n)},detachResponse:function(e,t){var n="".concat("/campaign","/").concat(e,"/response/").concat(t,"/detach");return a.a.post(n)},attachOrganisation:function(e,t){var n="".concat("/campaign","/").concat(e,"/organisation/").concat(t,"/attach");return a.a.post(n)},detachOrganisation:function(e,t){var n="".concat("/campaign","/").concat(e,"/organisation/").concat(t,"/detach");return a.a.post(n)},updateCampaignOwner:function(e,t){var n="".concat("/campaign","/").concat(e,"/owner/").concat(t,"/associate");return a.a.post(n)}}}}]);