(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{1051:function(t,e,a){"use strict";var n,o=a(718),r=a.n(o),s=a(0),i=a.n(s),u=a(8),l=a.n(u),c=a(726),m=a.n(c),f=a(727),d=a.n(f),p=a(7),h=a.n(p),E=a(786);h.a.locale("nl");var R=function(t){var e=t.className,a=t.startDate,n=t.endDate,o=t.onChangeActionStart,r=t.onChangeActionEnd,s=(t.placeholder,a?h()(a).format("L"):""),u=n?h()(n).format("L"):"";return i.a.createElement("th",{className:"DayPicker-overflow ".concat(e)},i.a.createElement(g,null,i.a.createElement(m.a,{value:s,onDayChange:o,formatDate:f.formatDate,parseDate:f.parseDate,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:d.a},inputProps:{className:"form-control input-sm",placeholder:"Van"},placeholder:"Van"})," ","-"," ",i.a.createElement("span",{className:"InputFromTo-to"},i.a.createElement(m.a,{value:u,onDayChange:r,formatDate:f.formatDate,parseDate:f.parseDate,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:d.a},inputProps:{className:"form-control input-sm",placeholder:"tot"},placeholder:"tot"}))))};R.defaultProps={className:"",startDate:null,endDate:null,placeholder:""},R.propTypes={className:l.a.string,startDate:l.a.oneOfType([l.a.string,l.a.object]),endDate:l.a.oneOfType([l.a.string,l.a.object]),onChangeAction:l.a.func,placeholder:l.a.string},e.a=R;var g=E.a.div(n||(n=r()(["\n    display: flex;\n\n    // & .DayPicker-Day--selected:not(.DayPicker-Day--start):not(.DayPicker-Day--end):not(.DayPicker-Day--outside) {\n    //     background-color: #f0f8ff !important;\n    //     color: #4a90e2;\n    // }\n\n    & .DayPicker-Day {\n        border-radius: 0 !important;\n    }\n    & .DayPicker-Day--start {\n        border-top-left-radius: 50% !important;\n        border-bottom-left-radius: 50% !important;\n    }\n    & .DayPicker-Day--end {\n        border-top-right-radius: 50% !important;\n        border-bottom-right-radius: 50% !important;\n    }\n    & .DayPickerInput-Overlay {\n        width: 600px;\n    }\n    .InputFromTo-to .DayPickerInput-Overlay {\n        margin-left: -198px;\n    }\n"])))},1544:function(t,e,a){"use strict";a.r(e);var n=a(24),o=a.n(n),r=a(25),s=a.n(r),i=a(22),u=a.n(i),l=a(26),c=a.n(l),m=a(27),f=a.n(m),d=a(16),p=a.n(d),h=a(6),E=a.n(h),R=a(0),g=a.n(R),v=a(31),q=a(14),y=function(t,e,a){return{type:"FETCH_QUOTATION_REQUESTS",filters:t,sorts:e,pagination:a}},T=function(){return{type:"CLEAR_QUOTATION_REQUESTS"}},C=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_ORGANISATION",organisation:t}},D=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_CONTACT",contact:t}},S=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_ADDRESS",address:t}},b=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_CAMPAIGN",campaign:t}},N=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_MEASURE",measure:t}},Q=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_CREATED_AT_START",createdAtStart:t}},A=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_CREATED_AT_END",createdAtEnd:t}},k=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_DATE_RECORDED",dateRecorded:t}},O=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_STATUS",statusId:t}},P=function(t){return{type:"SET_FILTER_QUOTATION_REQUEST_DATE_RELEASED",dateReleased:t}},_=function(){return{type:"CLEAR_FILTER_QUOTATION_REQUESTS"}},F=function(t){return{type:"SET_QUOTATION_REQUESTS_PAGINATION",pagination:t}},I=a(199),U=a.n(I),w=a(149),M=a(150),L=a(201),j=a(746),x=Object(v.b)(null,(function(t){return{setQuotationRequestsSortsFilter:function(e,a){t(function(t,e){return{type:"SET_QUOTATION_REQUESTS_SORTS_FILTER",field:t,order:e}}(e,a))}}}))((function(t){var e=function(e,a){t.setQuotationRequestsSortsFilter(e,a),setTimeout((function(){t.refreshQuotationRequestsData()}),100)};return g.a.createElement("tr",{className:"thead-title"},g.a.createElement(j.a,{sortColumn:"organisation",title:"Organisatie",width:"10%",setSorts:e}),g.a.createElement(j.a,{sortColumn:"contact",title:"Contact",width:"10%",setSorts:e}),g.a.createElement(j.a,{sortColumn:"address",title:"Adres",width:"15%",setSorts:e}),g.a.createElement(j.a,{sortColumn:"measure",title:"Maatregel",width:"10%",setSorts:e}),g.a.createElement(j.a,{sortColumn:"createdAt",title:"Datum",width:"10%",setSorts:e}),g.a.createElement(j.a,{sortColumn:"dateRecorded",title:"Opname",width:"10%",setSorts:e}),g.a.createElement(j.a,{sortColumn:"statusId",title:"Status",width:"10%",setSorts:e}),g.a.createElement(j.a,{sortColumn:"dateReleased",title:"Uitgebracht",width:"10%",setSorts:e}),g.a.createElement(j.a,{sortColumn:"campaign",title:"Campagne",width:"10%",setSorts:e}),g.a.createElement("th",{width:"5%"}))})),B=a(7),Y=a.n(B),V=(a(784),a(1051)),W=a(752),z=Object(v.b)((function(t){return{filters:t.quotationRequests.filters,quotationRequestStatus:t.systemData.quotationRequestStatus}}),(function(t){return Object(q.b)({setFilterQuotationRequestStatus:O,clearFilterQuotationRequests:_,setQuotationRequestAddressFilter:S,setQuotationRequestCampaignFilter:b,setQuotationRequestContactFilter:D,setQuotationRequestCreatedAtStartFilter:Q,setQuotationRequestCreatedAtEndFilter:A,setQuotationRequestDateRecordedFilter:k,setQuotationRequestDateReleasedFilter:P,setQuotationRequestMeasureFilter:N,setQuotationRequestOrganisationFilter:C},t)}))((function(t){return g.a.createElement("tr",{className:"thead-filter"},g.a.createElement("th",null,g.a.createElement("input",{type:"text",className:"form-control input-sm",value:t.filters.organisation.data,onChange:function(e){t.setQuotationRequestOrganisationFilter(e.target.value)}})),g.a.createElement("th",null,g.a.createElement("input",{type:"text",className:"form-control input-sm",value:t.filters.contact.data,onChange:function(e){t.setQuotationRequestContactFilter(e.target.value)}})),g.a.createElement("th",null,g.a.createElement("input",{type:"text",className:"form-control input-sm",value:t.filters.address.data,onChange:function(e){t.setQuotationRequestAddressFilter(e.target.value)}})),g.a.createElement("th",null,g.a.createElement("input",{type:"text",className:"form-control input-sm",value:t.filters.measure.data,onChange:function(e){t.setQuotationRequestMeasureFilter(e.target.value)}})),g.a.createElement(V.a,{startDate:t.filters.createdAtStart.data&&t.filters.createdAtStart.data,endDate:t.filters.createdAtEnd.data&&t.filters.createdAtEnd.data,onChangeActionStart:function(e){void 0===e?t.setQuotationRequestCreatedAtStartFilter(""):t.setQuotationRequestCreatedAtStartFilter(Y()(e).format("Y-MM-DD"))},onChangeActionEnd:function(e){void 0===e?t.setQuotationRequestCreatedAtEndFilter(""):t.setQuotationRequestCreatedAtEndFilter(Y()(e).format("Y-MM-DD"))}}),g.a.createElement(W.a,{value:t.filters.dateRecorded.data&&t.filters.dateRecorded.data,onChangeAction:function(e){void 0===e?t.setQuotationRequestDateRecordedFilter(""):t.setQuotationRequestDateRecordedFilter(Y()(e).format("Y-MM-DD"))}}),g.a.createElement("th",null,g.a.createElement("select",{className:"form-control input-sm",value:t.filters.statusId.data,onChange:function(e){t.setFilterQuotationRequestStatus(e.target.value),setTimeout((function(){t.onSubmitFilter()}),100)}},g.a.createElement("option",null),t.quotationRequestStatus.map((function(t){return g.a.createElement("option",{key:t.id,value:t.id},t.name)})))),g.a.createElement(W.a,{value:t.filters.dateReleased.data&&t.filters.dateReleased.data,onChangeAction:function(e){void 0===e?t.setQuotationRequestDateReleasedFilter(""):t.setQuotationRequestDateReleasedFilter(Y()(e).format("Y-MM-DD"))}}),g.a.createElement("th",null,g.a.createElement("input",{type:"text",className:"form-control input-sm",value:t.filters.campaign.data,onChange:function(e){t.setQuotationRequestCampaignFilter(e.target.value)}})),g.a.createElement("th",null))})),G=a(4);function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=p()(t);if(e){var o=p()(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return f()(this,a)}}var H=function(t){c()(a,t);var e=K(a);function a(t){var n;return o()(this,a),(n=e.call(this,t)).state={showActionButtons:!1,highlightRow:""},n}return s()(a,[{key:"onRowEnter",value:function(){this.setState({showActionButtons:!0,highlightRow:"highlight-row"})}},{key:"onRowLeave",value:function(){this.setState({showActionButtons:!1,highlightRow:""})}},{key:"openItem",value:function(t){G.f.push("/offerteverzoek/".concat(t))}},{key:"render",value:function(){var t=this,e=this.props,a=e.id,n=e.organisation,o=e.opportunity,r=e.createdAt,s=e.dateRecorded,i=e.status,u=e.dateReleased;return g.a.createElement("tr",{className:this.state.highlightRow,onDoubleClick:function(){return t.openItem(a)},onMouseEnter:function(){return t.onRowEnter()},onMouseLeave:function(){return t.onRowLeave()}},g.a.createElement("td",null,n&&n.name),g.a.createElement("td",null,o&&o.intake.contact.fullName),g.a.createElement("td",null,o&&o.intake.fullAddress),g.a.createElement("td",null,o&&o.measureCategory.name),g.a.createElement("td",null,Y()(r).format("DD-MM-Y")),g.a.createElement("td",null,s&&Y()(s).format("DD-MM-Y")),g.a.createElement("td",null,i?i.name:"Onbekend"),g.a.createElement("td",null,u&&Y()(u).format("DD-MM-Y")),g.a.createElement("td",null,o&&o.intake.campaign.name),g.a.createElement("td",null,this.state.showActionButtons?g.a.createElement("a",{role:"button",onClick:function(){return t.openItem(a)}},g.a.createElement("span",{className:"glyphicon glyphicon-pencil mybtn-success"})," "):""))}}]),a}(R.Component),J=a(740);function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=p()(t);if(e){var o=p()(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return f()(this,a)}}var Z=function(t){c()(a,t);var e=X(a);function a(t){var n;return o()(this,a),n=e.call(this,t),E()(u()(n),"handleKeyUp",(function(t){13===t.keyCode&&n.props.onSubmitFilter()})),n}return s()(a,[{key:"render",value:function(){var t=this,e=this.props.quotationRequests,a=e.data,n=void 0===a?[]:a,o=e.meta,r=void 0===o?{}:o,s="",i=!0;return this.props.hasError?s="Fout bij het ophalen van offerteverzoeken.":this.props.isLoading?s="Gegevens aan het laden.":0===n.length?s="Geen offerteverzoeken gevonden!":i=!1,g.a.createElement("form",{onKeyUp:this.handleKeyUp},g.a.createElement(w.a,null,g.a.createElement(M.a,null,g.a.createElement(x,{refreshQuotationRequestsData:function(){return t.props.refreshQuotationRequestsData()}}),g.a.createElement(z,{onSubmitFilter:this.props.onSubmitFilter})),g.a.createElement(L.a,null,i?g.a.createElement("tr",null,g.a.createElement("td",{colSpan:10},s)):n.map((function(t){return g.a.createElement(H,U()({key:t.id},t))})))),g.a.createElement("div",{className:"col-md-4 col-md-offset-4"},g.a.createElement(J.a,{onPageChangeAction:this.props.handlePageClick,totalRecords:r.total,initialPage:this.props.quotationRequestsPagination.page})))}}]),a}(R.Component),$=Object(v.b)((function(t){return{isLoading:t.loadingData.isLoading,hasError:t.loadingData.hasError}}))(Z),tt=a(703),et=Object(v.b)((function(t){return{quotationRequests:t.quotationRequests.list}}),null)((function(t){var e=t.quotationRequests.meta,a=void 0===e?{}:e;return g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"col-md-4"},g.a.createElement("div",{className:"btn-group",role:"group"},g.a.createElement(tt.a,{iconName:"glyphicon-refresh",onClickAction:t.resetQuotationRequestFilters}),g.a.createElement(tt.a,{iconName:"glyphicon-download-alt",onClickAction:t.getCSV}))),g.a.createElement("div",{className:"col-md-4"},g.a.createElement("h3",{className:"text-center table-title"},"Offerteverzoeken")),g.a.createElement("div",{className:"col-md-4"},g.a.createElement("div",{className:"pull-right"},"Resultaten: ",a.total||0)))})),at=a(747),nt=a(701),ot=a(702),rt=a(738),st=a.n(rt),it=a(216),ut=a(756);function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=p()(t);if(e){var o=p()(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return f()(this,a)}}var ct=function(t){c()(a,t);var e=lt(a);function a(t){var n;return o()(this,a),n=e.call(this,t),E()(u()(n),"getCSV",(function(){n.props.blockUI(),setTimeout((function(){var t=Object(at.a)(n.props.quotationRequestsFilters),e=n.props.quotationRequestsSorts;it.a.getCSV({filters:t,sorts:e}).then((function(t){st()(t.data,"Offerteverzoeken-"+Y()().format("YYYY-MM-DD HH:mm:ss")+".csv"),n.props.unblockUI()})).catch((function(t){n.props.unblockUI()}))}),100)})),E()(u()(n),"fetchQuotationRequestsData",(function(){setTimeout((function(){var t=Object(at.a)(n.props.quotationRequestsFilters),e=n.props.quotationRequestsSorts,a={limit:20,offset:n.props.quotationRequestsPagination.offset};n.props.fetchQuotationRequests(t,e,a)}),100)})),E()(u()(n),"resetQuotationRequestFilters",(function(){n.props.clearFilterQuotationRequests(),n.fetchQuotationRequestsData()})),n.handlePageClick=n.handlePageClick.bind(u()(n)),n.getCSV=n.getCSV.bind(u()(n)),n}return s()(a,[{key:"componentDidMount",value:function(){this.fetchQuotationRequestsData()}},{key:"componentWillUnmount",value:function(){this.props.clearQuotationRequests()}},{key:"onSubmitFilter",value:function(){var t=this;Object(at.a)(this.props.quotationRequestsFilters),this.props.quotationRequestsSorts;this.props.setQuotationRequestsPagination({page:0,offset:0}),setTimeout((function(){t.fetchQuotationRequestsData()}),100)}},{key:"handlePageClick",value:function(t){var e=this,a=t.selected,n=Math.ceil(20*a);this.props.setQuotationRequestsPagination({page:a,offset:n}),setTimeout((function(){e.fetchQuotationRequestsData()}),100)}},{key:"render",value:function(){var t=this;return g.a.createElement(nt.a,null,g.a.createElement(ot.a,null,g.a.createElement("div",{className:"col-md-12 margin-10-top"},g.a.createElement(et,{resetQuotationRequestFilters:function(){return t.resetQuotationRequestFilters()},getCSV:this.getCSV})),g.a.createElement("div",{className:"col-md-12 margin-10-top"},g.a.createElement($,{quotationRequests:this.props.quotationRequests,quotationRequestsPagination:this.props.quotationRequestsPagination,onSubmitFilter:function(){return t.onSubmitFilter()},refreshQuotationRequestsData:function(){return t.fetchQuotationRequestsData()},handlePageClick:this.handlePageClick}))))}}]),a}(R.Component);e.default=Object(v.b)((function(t){return{quotationRequests:t.quotationRequests.list,quotationRequestsFilters:t.quotationRequests.filters,quotationRequestsSorts:t.quotationRequests.sorts,quotationRequestsPagination:t.quotationRequests.pagination}}),(function(t){return Object(q.b)({fetchQuotationRequests:y,clearQuotationRequests:T,setQuotationRequestsPagination:F,clearFilterQuotationRequests:_,blockUI:ut.a,unblockUI:ut.b},t)}))(ct)},701:function(t,e,a){"use strict";var n=a(0),o=a.n(n),r=a(8),s=a.n(r),i=function(t){var e=t.children,a=t.className,n=t.onMouseEnter,r=t.onMouseLeave;return o.a.createElement("div",{className:"panel panel-default ".concat(a),onMouseEnter:n,onMouseLeave:r},e)};i.defaultProps={className:"",onMouseEnter:function(){},onMouseLeave:function(){}},i.propTypes={className:s.a.string,onMouseEnter:s.a.func,onMouseLeave:s.a.func},e.a=i},702:function(t,e,a){"use strict";var n=a(0),o=a.n(n),r=a(8),s=a.n(r),i=function(t){var e=t.className,a=t.children;return o.a.createElement("div",{className:"panel-body ".concat(e)},a)};i.defaultProps={className:""},i.propTypes={className:s.a.string},e.a=i},703:function(t,e,a){"use strict";var n=a(0),o=a.n(n),r=a(8),s=a.n(r),i=function(t){var e=t.buttonClassName,a=t.iconName,n=t.onClickAction,r=t.title,s=t.disabled;return o.a.createElement("button",{type:"button",className:"btn ".concat(e),onClick:n,disabled:s,title:r},o.a.createElement("span",{className:"glyphicon ".concat(a)}))};i.defaultProps={buttonClassName:"btn-success btn-sm",title:"",disabled:!1},i.propTypes={buttonClassName:s.a.string,iconName:s.a.string.isRequired,onClickAction:s.a.func,title:s.a.string,disabled:s.a.bool},e.a=i},740:function(t,e,a){"use strict";var n=a(0),o=a.n(n),r=a(8),s=a.n(r),i=a(741),u=a.n(i),l=function(t){var e=t.onPageChangeAction,a=t.initialPage,n=t.recordsPerPage,r=t.totalRecords;return o.a.createElement(u.a,{onPageChange:e,pageCount:Math.ceil(r/n)||1,pageRangeDisplayed:5,marginPagesDisplayed:2,breakLabel:o.a.createElement("a",null,"..."),breakClassName:"break-me",containerClassName:"pagination",activeClassName:"active",previousLabel:o.a.createElement("span",{"aria-hidden":"true"},"«"),nextLabel:o.a.createElement("span",{"aria-hidden":"true"},"»"),initialPage:a||0,forcePage:a,disableInitialCallback:!0})};l.defaultProps={recordsPerPage:20},l.propTypes={initialPage:s.a.number.isRequired,recordsPerPage:s.a.number,totalRecords:s.a.number,onPageChangeAction:s.a.func.isRequired},e.a=l},746:function(t,e,a){"use strict";var n=a(0),o=a.n(n),r=a(8),s=a.n(r),i=function(t){var e=t.RowClassName,a=t.setSorts,n=t.sortColumn,r=t.title,s=t.width;return o.a.createElement("th",{className:e,width:s},r,o.a.createElement("span",{className:"glyphicon glyphicon-arrow-down pull-right small",role:"button",onClick:a.bind(void 0,n,"ASC")}),o.a.createElement("span",{className:"glyphicon glyphicon-arrow-up pull-right small",role:"button",onClick:a.bind(void 0,n,"DESC")}))};i.defaultProps={RowClassName:""},i.propTypes={setSorts:s.a.func.isRequired,sortColumn:s.a.string.isRequired,title:s.a.string.isRequired,width:s.a.string.isRequired,RowClassName:s.a.string},e.a=i},747:function(t,e,a){"use strict";e.a=function(t){var e=[];for(var a in t)""!==t[a].data&&e.push(t[a]);return e}},752:function(t,e,a){"use strict";var n=a(0),o=a.n(n),r=a(8),s=a.n(r),i=a(726),u=a.n(i),l=a(727),c=a.n(l),m=a(7),f=a.n(m);f.a.locale("nl");var d=function(t){var e=t.className,a=t.value,n=t.onChangeAction,r=t.placeholder,s=a?f()(a).format("L"):"";return o.a.createElement("th",{className:"DayPicker-overflow ".concat(e)},o.a.createElement(u.a,{value:s,onDayChange:n,formatDate:l.formatDate,parseDate:l.parseDate,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:c.a},inputProps:{className:"form-control input-sm",placeholder:r},placeholder:""}))};d.defaultProps={className:"",value:null,placeholder:""},d.propTypes={className:s.a.string,value:s.a.oneOfType([s.a.string,s.a.object]),onChangeAction:s.a.func,placeholder:s.a.string},e.a=d},756:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return o}));var n=function(){return{type:"BLOCK_UI"}},o=function(){return{type:"UNBLOCK_UI"}}}}]);