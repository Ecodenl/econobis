(window.webpackJsonp=window.webpackJsonp||[]).push([[98],{1600:function(e,t,a){"use strict";a.r(t);var n=a(18),r=a.n(n),o=a(19),s=a.n(o),i=a(20),c=a.n(i),l=a(21),u=a.n(l),m=a(14),d=a.n(m),f=a(0),p=a.n(f),h=a(12),g=a.n(h),v=a(6),y=a.n(v),E=a(16),b=a(3),q=a(7),N=a.n(q),R=a(188),I=(a(861),a(104)),O=a(36),C=a(37),w=a(42),k=a(877),z=a(33),A=a.n(z);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){y()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}N.a.locale("nl");var x=function(e){c()(a,e);var t=P(a);function a(e){var n;return r()(this,a),n=t.call(this,e),y()(g()(n),"handleInputChange",(function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;n.setState(j(j({},n.state),{},{quotationRequest:j(j({},n.state.quotationRequest),{},y()({},r,a))}))})),y()(g()(n),"handleSubmit",(function(e){e.preventDefault();var t=n.state.quotationRequest,a={},r=!1;A.a.isEmpty(t.statusId)&&(a.status=!0,r=!0),A.a.isEmpty(t.organisationId)&&(a.organisation=!0,r=!0),n.setState(j(j({},n.state),{},{errors:a})),!r&&R.a.newQuotationRequest(t).then((function(e){b.f.push("/offerteverzoek/".concat(e.data.id))}))})),n.state={opportunity:{fullName:"",fullAddress:"",measureName:"",organisations:[]},quotationRequest:{opportunityId:"",organisationId:"",dateRecorded:"",statusId:"5",dateReleased:"",quotationText:""},errors:{organisation:!1,status:!1}},n.handleInputChangeDate=n.handleInputChangeDate.bind(g()(n)),n}return s()(a,[{key:"componentWillMount",value:function(){var e=this;R.a.fetchNewQuotationRequest(this.props.opportunityId).then((function(t){e.setState({opportunity:{fullName:t.intake.contact.fullName,fullAddress:t.intake.fullAddress,organisations:t.intake&&t.intake.campaign?t.intake.campaign.organisations:"",measureNames:t.measures&&t.measures.map((function(e){return e.name})).join(", "),measureCategoryName:t.measureCategory.name},quotationRequest:{opportunityId:t.id,organisationId:"",dateRecorded:"",statusId:"5",dateReleased:"",quotationText:t.quotationText?t.quotationText:""}})}))}},{key:"handleInputChangeDate",value:function(e,t){this.setState(j(j({},this.state),{},{quotationRequest:j(j({},this.state.quotationRequest),{},y()({},t,e))}))}},{key:"render",value:function(){var e=this.state.quotationRequest,t=e.organisationId,a=e.dateRecorded,n=e.statusId,r=e.dateReleased,o=e.quotationText,s=this.state.opportunity,i=s.fullName,c=s.fullAddress,l=s.organisations,u=s.measureNames,m=s.measureCategoryName;return p.a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},p.a.createElement("div",{className:"row"},p.a.createElement(I.a,{label:"Organisatie",size:"col-sm-6",name:"organisationId",value:t,options:l,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.organisation}),p.a.createElement(C.a,{label:"Verzoek voor",name:"fullName",value:i,onChange:function(){},readOnly:!0})),p.a.createElement("div",{className:"row"},p.a.createElement(C.a,{label:"Adres voor",name:"address",value:c,onChange:function(){},readOnly:!0}),p.a.createElement(C.a,{label:"Maatregel - categorie",name:"measureCategory",value:m,onChange:function(){},readOnly:!0})),p.a.createElement("div",{className:"row"},p.a.createElement(C.a,{label:"Maatregel - specifiek",name:"measure",value:u,onChange:function(){},readOnly:!0}),p.a.createElement(w.a,{label:"Datum opname",size:"col-sm-6",name:"dateRecorded",value:a,onChangeAction:this.handleInputChangeDate})),p.a.createElement("div",{className:"row"},p.a.createElement(I.a,{label:"Offerte status",size:"col-sm-6",name:"statusId",value:n,options:this.props.quotationRequestStatus,onChangeAction:this.handleInputChange,required:"required",error:this.state.errors.status}),p.a.createElement(w.a,{label:"Offerte uitgebracht",size:"col-sm-6",name:"dateReleased",value:r,onChangeAction:this.handleInputChangeDate})),p.a.createElement("div",{className:"row"},p.a.createElement(k.a,{label:"Offerte omschrijving",name:"quotationText",value:o,onChangeAction:this.handleInputChange})),p.a.createElement("div",{className:"panel-footer"},p.a.createElement("div",{className:"pull-right btn-group",role:"group"},p.a.createElement(O.a,{buttonText:"Opslaan",onClickAction:this.handleSubmit}))))}}]),a}(f.Component),D=Object(E.b)((function(e){return{quotationRequestStatus:e.systemData.quotationRequestStatus}}),null)(x),T=a(29),B=a(31),L=function(e){return p.a.createElement("div",null,p.a.createElement(T.a,null,p.a.createElement(B.a,null,p.a.createElement(D,{opportunityId:e.opportunityId}))))},_=a(49),M=function(e){return p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col-md-4"},p.a.createElement("div",{className:"btn-group",role:"group"},p.a.createElement(_.a,{iconName:"glyphicon-arrow-left",onClickAction:b.e.goBack}))),p.a.createElement("div",{className:"col-md-4"},p.a.createElement("h4",{className:"text-center"},"Nieuw offerteverzoek")),p.a.createElement("div",{className:"col-md-4"}))};function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=d()(e);if(t){var r=d()(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return u()(this,a)}}var Q=function(e){c()(a,e);var t=J(a);function a(e){return r()(this,a),t.call(this,e)}return s()(a,[{key:"render",value:function(){return p.a.createElement("div",{className:"row"},p.a.createElement("div",{className:"col-md-9"},p.a.createElement("div",{className:"col-md-12 margin-10-top"},p.a.createElement(M,null)),p.a.createElement("div",{className:"col-md-12 margin-10-top"},p.a.createElement(L,{opportunityId:this.props.params.opportunityId}))),p.a.createElement("div",{className:"col-md-3"}))}}]),a}(f.Component);t.default=Q},861:function(e,t,a){"use strict";var n=a(2),r=a.n(n),o="".concat(URL_API,"/api/organisation");t.a={newOrganisation:function(e){var t="".concat(o),a="Bearer "+localStorage.getItem("access_token");return r.a.defaults.headers.common.Authorization=a,r.a.post(t,e)},updateOrganisation:function(e){var t="".concat(o,"/").concat(e.id),a="Bearer "+localStorage.getItem("access_token");return r.a.defaults.headers.common.Authorization=a,r.a.post(t,e)},getOrganisationPeek:function(){var e="".concat(o,"/peek"),t="Bearer "+localStorage.getItem("access_token");return r.a.defaults.headers.common.Authorization=t,r.a.get(e).then((function(e){return e.data.data})).catch((function(e){console.log(e)}))}}},877:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(5),s=a.n(o),i=function(e){var t=e.label,a=e.size,n=e.sizeLabel,o=e.sizeInput,s=e.id,i=e.name,c=e.value,l=e.onChangeAction,u=e.required,m=e.error,d=e.rows;return r.a.createElement("div",{className:"form-group ".concat(a)},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:n},r.a.createElement("label",{htmlFor:s,className:"col-sm-12 ".concat(u)},t)),r.a.createElement("div",{className:o},r.a.createElement("textarea",{name:i,value:c,onChange:l,className:"form-control input-sm "+(m?"has-error":""),rows:d}))))};i.defaultProps={size:"col-sm-12",sizeLabel:"col-sm-3",sizeInput:"col-sm-9",value:"",required:"",error:!1,rows:"5"},i.propTypes={label:s.a.string.isRequired,type:s.a.string,size:s.a.string,sizeLabel:s.a.string,sizeInput:s.a.string,id:s.a.string,name:s.a.string.isRequired,value:s.a.oneOfType([s.a.string,s.a.number]),onChangeAction:s.a.func,required:s.a.string,error:s.a.bool},t.a=i}}]);