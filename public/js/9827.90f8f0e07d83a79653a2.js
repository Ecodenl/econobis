"use strict";(self.webpackChunkeco=self.webpackChunkeco||[]).push([[9827],{75957:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(67294),r=n(45697),l=n.n(r),o=n(86733),a=n(30071),i=n(30381),d=n.n(i);d().locale("nl");var c=function(e){var t=e.className,n=e.startDate,r=e.endDate,l=e.onChangeActionStart,i=e.onChangeActionEnd,c=(e.placeholder,n?d()(n).format("L"):""),u=r?d()(r).format("L"):"";return s.createElement("th",{className:"DayPicker-overflow ".concat(t)},s.createElement(o.default,{value:c,onDayChange:l,formatDate:a.formatDate,parseDate:a.parseDate,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:a.default},inputProps:{className:"form-control input-sm",placeholder:"Van"},placeholder:"Van"}),s.createElement("br",null),s.createElement(o.default,{value:u,onDayChange:i,formatDate:a.formatDate,parseDate:a.parseDate,dayPickerProps:{showWeekNumbers:!0,locale:"nl",firstDayOfWeek:1,localeUtils:a.default},inputProps:{className:"form-control input-sm",placeholder:"tot"},placeholder:"tot"}))};c.defaultProps={className:"",startDate:null,endDate:null,placeholder:""},c.propTypes={className:l().string,startDate:l().oneOfType([l().string,l().object]),endDate:l().oneOfType([l().string,l().object]),onChangeAction:l().func,placeholder:l().string};const u=c},69025:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(67294),r=n(45697),l=n.n(r),o=n(97894),a=n(75987),i=n(75495),d=void 0,c=function(e){var t=e.RowClassName,n=e.setSorts,r=e.sortColumn,l=e.title,c=e.width;return s.createElement("th",{className:t,width:c},l,s.createElement(o.ZP,{className:"pull-right small",size:14,icon:i.D,role:"button",onClick:n.bind(d,r,"ASC")}),s.createElement(o.ZP,{className:"pull-right small",size:14,icon:a.z,role:"button",onClick:n.bind(d,r,"DESC")}))};c.defaultProps={RowClassName:""},c.propTypes={setSorts:l().func.isRequired,sortColumn:l().string.isRequired,title:l().string.isRequired,width:l().string.isRequired,RowClassName:l().string};const u=c},9827:(e,t,n)=>{n.r(t),n.d(t,{default:()=>J});var s=n(93433),r=n(15671),l=n(43144),o=n(97326),a=n(60136),i=n(82963),d=n(61120),c=n(4942),u=n(67294),h=n(86706),g=n(83920),m=function(e,t,n,s){return{type:"FETCH_ADDRESS_DONGLES",filters:e,extraFilters:t,sorts:n,pagination:s}},D=function(){return{type:"CLEAR_ADDRESS_DONGLES"}},f=function(e){return{type:"SET_FILTER_ADDRESS_DONGLE_FULL_NAME",fullName:e}},p=function(e){return{type:"SET_FILTER_ADDRESS_DONGLE_STREET_AND_NUMBER",streetAndNumber:e}},E=function(e){return{type:"SET_FILTER_ADDRESS_DONGLE_POSTAL_CODE",postalCode:e}},S=function(e){return{type:"SET_FILTER_ADDRESS_DONGLE_CITY",city:e}},A=function(e){return{type:"SET_FILTER_ADDRESS_DONGLE_TYPE_READ_OUT_ID",typeReadOutId:e}},y=function(e){return{type:"SET_FILTER_ADDRESS_DONGLE_DATE_START_START",dateStartStart:e}},v=function(e){return{type:"SET_FILTER_ADDRESS_DONGLE_DATE_START_END",dateStartEnd:e}},C=function(e){return{type:"SET_FILTER_ADDRESS_DONGLE_DATE_END_START",dateEndStart:e}},k=function(e){return{type:"SET_FILTER_ADDRESS_DONGLE_DATE_END_END",dateEndEnd:e}},F=function(e){return{type:"SET_FILTER_ADDRESS_DONGLE_TYPE_DONGLE_ID",typeDongleId:e}},N=function(e){return{type:"SET_FILTER_ADDRESS_DONGLE_ENERGY_ID",energyId:e}},R=function(){return{type:"CLEAR_FILTER_ADDRESS_DONGLES"}},T=function(e){return{type:"SET_ADDRESS_DONGLES_PAGINATION",pagination:e}},_=n(55451);const b=(0,h.$j)((function(e){return{permissions:e.meDetails.permissions,addressDongles:e.addressDongles.list}}))((function(e){var t=e.addressDongles.meta,n=void 0===t?{}:t;return u.createElement("div",{className:"row"},u.createElement("div",{className:"col-md-4"},u.createElement("div",{className:"btn-group",role:"group"},!e.showCheckboxList&&u.createElement(u.Fragment,null,u.createElement(_.Z,{iconName:"refresh",onClickAction:e.resetAddressDongleFilters})))),u.createElement("div",{className:"col-md-4"},u.createElement("h3",{className:"text-center table-title"},"Dongels")),u.createElement("div",{className:"col-md-4"},u.createElement("div",{className:"pull-right"},"Resultaten: ",n.total||0)))}));var w=n(87462),L=n(96498),I=n(75286),Z=n(24480),x=n(51910),O=n(69025);const P=(0,h.$j)(null,(function(e){return{setAddressDonglesSortsFilter:function(t,n){e(function(e,t){return{type:"SET_ADDRESS_DONGLES_SORTS_FILTER",field:e,order:t}}(t,n))}}}))((function(e){var t=function(t,n){e.setAddressDonglesSortsFilter(t,n),setTimeout((function(){e.refreshAddressDonglesData()}),100)};return u.createElement("tr",{className:"thead-title"},e.showCheckboxList?u.createElement("th",{width:"3%"},u.createElement("div",null,u.createElement("input",{type:"checkbox",onChange:e.toggleCheckedAll}))):null,u.createElement(O.Z,{sortColumn:"fullName",title:"Contact",width:e.showCheckboxList?"10%":"13%",setSorts:t}),u.createElement(O.Z,{sortColumn:"streetAndNumber",title:"Adres",width:"10%",setSorts:t}),u.createElement(O.Z,{sortColumn:"postalCode",title:"Postcode",width:"7%",setSorts:t}),u.createElement(O.Z,{sortColumn:"city",title:"Woonplaats",width:"10%",setSorts:t}),u.createElement(O.Z,{sortColumn:"typeReadOutId",title:"Type uitlezing",width:"10%",setSorts:t}),u.createElement(O.Z,{sortColumn:"dateStart",title:"Start datum",width:"10%",setSorts:t}),u.createElement(O.Z,{sortColumn:"dateEnd",title:"Eind datum",width:"10%",setSorts:t}),u.createElement(O.Z,{sortColumn:"typeDongleId",title:"Type dongel",width:"10%",setSorts:t}),u.createElement(O.Z,{sortColumn:"energyId",title:"Energie ID koppeling",width:"10%",setSorts:t}),u.createElement("th",{width:"5%"}))}));var G=n(30381),q=n.n(G),M=n(75957);const B=(0,h.$j)((function(e){return{filters:e.addressDongles.filters,typesReadOut:e.systemData.dongleTypeReadOuts,typesDongle:e.systemData.dongleTypeDongles}}),(function(e){return(0,g.DE)({clearFilterAddressDongles:R,setFilterAddressDongleFullName:f,setFilterAddressDongleStreetAndNumber:p,setFilterAddressDonglePostalCode:E,setFilterAddressDongleCity:S,setFilterAddressDongleTypeReadOutId:A,setFilterAddressDongleDateStartStart:y,setFilterAddressDongleDateStartEnd:v,setFilterAddressDongleDateEndStart:C,setFilterAddressDongleDateEndEnd:k,setFilterAddressDongleTypeDongleId:F,setFilterAddressDongleEnergyId:N},e)}))((function(e){return u.createElement("tr",{className:"thead-filter"},u.createElement("th",null,u.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.fullName.data,onChange:function(t){e.setFilterAddressDongleFullName(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),u.createElement("th",null,u.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.streetAndNumber.data,onChange:function(t){e.setFilterAddressDongleStreetAndNumber(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),u.createElement("th",null,u.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.postalCode.data,onChange:function(t){e.setFilterAddressDonglePostalCode(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),u.createElement("th",null,u.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.city.data,onChange:function(t){e.setFilterAddressDongleCity(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),u.createElement("th",null,u.createElement("select",{className:"form-control input-sm",value:e.filters.typeReadOutId.data,onChange:function(t){e.setFilterAddressDongleTypeReadOutId(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}},u.createElement("option",null),e.typesReadOut.map((function(e){return u.createElement("option",{key:e.id,value:e.id},e.name)})))),u.createElement(M.Z,{startDate:e.filters.dateStartStart.data&&e.filters.dateStartStart.data,endDate:e.filters.dateStartEnd.data&&e.filters.dateStartEnd.data,onChangeActionStart:function(t){void 0===t?e.setFilterAddressDongleDateStartStart(""):e.setFilterAddressDongleDateStartStart(q()(t).format("Y-MM-DD"))},onChangeActionEnd:function(t){void 0===t?e.setFilterAddressDongleDateStartEnd(""):e.setFilterAddressDongleDateStartEnd(q()(t).format("Y-MM-DD"))}}),u.createElement(M.Z,{startDate:e.filters.dateEndStart.data&&e.filters.dateEndStart.data,endDate:e.filters.dateEndEnd.data&&e.filters.dateEndEnd.data,onChangeActionStart:function(t){void 0===t?e.setFilterAddressDongleDateEndStart(""):e.setFilterAddressDongleDateEndStart(q()(t).format("Y-MM-DD"))},onChangeActionEnd:function(t){void 0===t?e.setFilterAddressDongleDateEndEnd(""):e.setFilterAddressDongleDateEndEnd(q()(t).format("Y-MM-DD"))}}),u.createElement("th",null,u.createElement("select",{className:"form-control input-sm",value:e.filters.typeDongleId.data,onChange:function(t){e.setFilterAddressDongleTypeDongleId(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}},u.createElement("option",null),e.typesDongle.map((function(e){return u.createElement("option",{key:e.id,value:e.id},e.name)})))),u.createElement("th",null,u.createElement("input",{type:"text",className:"form-control input-sm",value:e.filters.energyId.data,onChange:function(t){e.setFilterAddressDongleEnergyId(t.target.value),setTimeout((function(){e.onSubmitFilter()}),100)}})),u.createElement("th",null))}));var U=function(e){(0,a.Z)(o,e);var t,n,s=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,d.Z)(t);if(n){var r=(0,d.Z)(this).constructor;e=Reflect.construct(s,arguments,r)}else e=s.apply(this,arguments);return(0,i.Z)(this,e)});function o(e){var t;return(0,r.Z)(this,o),(t=s.call(this,e)).state={showMore:!1,showActionButtons:!1,highlightRow:""},t}return(0,l.Z)(o,[{key:"onRowEnter",value:function(){this.setState({showActionButtons:!0,highlightRow:"highlight-row"})}},{key:"onRowLeave",value:function(){this.setState({showActionButtons:!1,highlightRow:""})}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,s=t.fullName,r=t.streetAndNumber,l=t.postalCode,o=t.city,a=t.typeReadOutName,i=t.dateStart,d=t.dateEnd,c=t.typeDongleName,h=t.energyId,g=t.showCheckboxList;return u.createElement("tr",{className:this.state.highlightRow,onDoubleClick:function(){return e.openItem(n)},onMouseEnter:function(){return e.onRowEnter()},onMouseLeave:function(){return e.onRowLeave()}},g?u.createElement("td",null,u.createElement("div",null,u.createElement("input",{type:"checkbox",name:n,onChange:this.props.toggleAddressDongleCheck,checked:!!this.props.addressDongleIds&&this.props.addressDongleIds.includes(n)}))):null,u.createElement("td",null,s),u.createElement("td",null,r),u.createElement("td",null,l),u.createElement("td",null,o),u.createElement("td",null,a),u.createElement("td",null,i?q()(i).format("DD-MM-Y"):""),u.createElement("td",null,d?q()(d).format("DD-MM-Y"):""),u.createElement("td",null,c),u.createElement("td",null,h),u.createElement("td",null," "))}}]),o}(u.Component);const Y=(0,h.$j)((function(e){return{permissions:e.meDetails.permissions}}))(U);var j=function(e){(0,a.Z)(h,e);var t,n,s=(t=h,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,d.Z)(t);if(n){var r=(0,d.Z)(this).constructor;e=Reflect.construct(s,arguments,r)}else e=s.apply(this,arguments);return(0,i.Z)(this,e)});function h(e){var t;return(0,r.Z)(this,h),t=s.call(this,e),(0,c.Z)((0,o.Z)(t),"handleKeyUp",(function(e){13===e.keyCode&&t.props.onSubmitFilter()})),t}return(0,l.Z)(h,[{key:"render",value:function(){var e=this,t=this.props.addressDongles,n=t.data,s=void 0===n?[]:n,r=t.meta,l=void 0===r?{}:r,o=t.hasError,a=t.isLoading,i="",d=!0;return o?i="Fout bij het ophalen van dongles.":a?i="Gegevens aan het laden.":0===s.length?i="Geen dongels gevonden!":d=!1,u.createElement("form",{onKeyUp:this.handleKeyUp},u.createElement(L.Z,null,u.createElement(I.Z,null,u.createElement(P,{refreshAddressDonglesData:function(){return e.props.refreshAddressDonglesData()},showCheckboxList:this.props.showCheckboxList,toggleCheckedAll:this.props.toggleCheckedAll}),this.props.showCheckboxList?u.createElement("tr",{className:"thead-filter"},u.createElement("th",{colSpan:10},u.createElement("div",{className:"alert alert-success"},"Geselecteerde dongels: ",this.props.numberSelectedNumberTotal))):u.createElement(B,{onSubmitFilter:this.props.onSubmitFilter,showCheckboxList:this.props.showCheckboxList})),u.createElement(Z.Z,null,d?u.createElement("tr",null,u.createElement("td",{colSpan:10},i)):s.map((function(t){return u.createElement(Y,(0,w.Z)({key:t.id},t,{showCheckboxList:e.props.showCheckboxList,checkedAll:e.props.checkedAll,toggleAddressDongleCheck:e.props.toggleAddressDongleCheck,addressDongleIds:e.props.addressDongleIds}))})))),u.createElement("div",{className:"col-md-4 col-md-offset-4"},u.createElement(x.Z,{onPageChangeAction:this.props.handlePageClick,totalRecords:l.total,initialPage:this.props.addressDonglesPagination.page})))}}]),h}(u.Component);const z=(0,h.$j)((function(e){return{isLoading:e.loadingData.isLoading,hasError:e.loadingData.hasError}}),null)(j);var W=n(4257),$=n(14309),K=n(98688),V=n(72506);var H=20,Q=function(e){(0,a.Z)(g,e);var t,n,h=(t=g,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,s=(0,d.Z)(t);if(n){var r=(0,d.Z)(this).constructor;e=Reflect.construct(s,arguments,r)}else e=s.apply(this,arguments);return(0,i.Z)(this,e)});function g(e){var t;return(0,r.Z)(this,g),t=h.call(this,e),(0,c.Z)((0,o.Z)(t),"fetchAddressDonglesData",(function(){setTimeout((function(){var e=t.state.extraFilters,n=(0,W.Z)(t.props.addressDonglesFilters),s=t.props.addressDonglesSorts,r={limit:H,offset:t.props.addressDonglesPagination.offset};t.props.fetchAddressDongles(n,e,s,r)}),100)})),(0,c.Z)((0,o.Z)(t),"resetAddressDongleFilters",(function(){t.props.clearFilterAddressDongles(),t.setState({extraFilters:[]}),t.fetchAddressDonglesData()})),(0,c.Z)((0,o.Z)(t),"handleExtraFiltersChange",(function(e){t.setState({extraFilters:e}),t.props.setAddressDonglesPagination({page:0,offset:0}),setTimeout((function(){t.fetchAddressDonglesData()}),100)})),(0,c.Z)((0,o.Z)(t),"toggleShowCheckboxList",(function(){t.state.showCheckboxList?t.setState({showCheckboxList:!1,addressDongleIds:[]}):t.setState({showCheckboxList:!0,addressDongleIds:[]})})),(0,c.Z)((0,o.Z)(t),"toggleCheckedAll",(function(e){var n=e.target.checked;n&&t.props.addressDongles.meta.addressDongleIdsTotal,t.setState({specificationIds:addressDongleIds,checkedAll:n})})),(0,c.Z)((0,o.Z)(t),"toggleAddressDongleCheck",(function(e){var n=e.target.checked,r=Number(e.target.name);n?t.setState({addressDongleIds:[].concat((0,s.Z)(t.state.addressDongleIds),[r])},t.checkAllAddressDonglesAreChecked):t.setState({addressDongleIds:t.state.addressDongleIds.filter((function(e){return e!==r})),checkedAll:!1})})),t.state={showExtraFilters:!1,extraFilters:[],checkedAll:!1,showCheckboxList:!1,addressDongleIds:[]},t.handlePageClick=t.handlePageClick.bind((0,o.Z)(t)),t.toggleShowExtraFilters=t.toggleShowExtraFilters.bind((0,o.Z)(t)),t}return(0,l.Z)(g,[{key:"componentDidMount",value:function(){this.fetchAddressDonglesData()}},{key:"componentWillUnmount",value:function(){this.props.clearAddressDongles()}},{key:"onSubmitFilter",value:function(){var e=this;(0,W.Z)(this.props.addressDonglesFilters),this.props.addressDonglesSorts,this.props.setAddressDonglesPagination({page:0,offset:0}),setTimeout((function(){e.fetchAddressDonglesData()}),100)}},{key:"handlePageClick",value:function(e){var t=this,n=e.selected,s=Math.ceil(n*H);this.props.setAddressDonglesPagination({page:n,offset:s}),setTimeout((function(){t.fetchAddressDonglesData()}),100)}},{key:"prefillExtraFilter",value:function(){this.setState({extraFilters:[{field:"name",type:"eq",data:""}]})}},{key:"toggleShowExtraFilters",value:function(){0===this.state.extraFilters.length&&!this.state.showExtraFilters&&this.prefillExtraFilter(),this.setState({showExtraFilters:!this.state.showExtraFilters})}},{key:"checkAllAddressDonglesAreChecked",value:function(){this.setState({checkedAll:this.state.addressDongleIds.length===this.props.addressDongles.length})}},{key:"render",value:function(){var e=this,t=0;return this.state.addressDongleIds.length&&(t=this.props&&this.props.addressDongles&&this.props.addressDongles.meta&&this.props.addressDongles.meta.addressDongleIdsTotal?this.state.addressDongleIds.length+"/"+this.props.addressDongles.meta.addressDongleIdsTotal.length:this.state.addressDongleIds.length),u.createElement($.Z,null,u.createElement(K.Z,null,u.createElement("div",{className:"col-md-12 margin-10-top"},u.createElement(b,{resetAddressDongleFilters:function(){return e.resetAddressDongleFilters()},showCheckboxList:this.state.showCheckboxList,toggleShowCheckboxList:this.toggleShowCheckboxList,numberOfSelected:this.state.addressDongleIds.length})),u.createElement("div",{className:"col-md-12 margin-10-top"},u.createElement(z,{addressDongles:this.props.addressDongles,addressDonglesPagination:this.props.addressDonglesPagination,onSubmitFilter:function(){return e.onSubmitFilter()},refreshAddressDonglesData:function(){return e.fetchAddressDonglesData()},handlePageClick:this.handlePageClick,checkedAll:this.state.checkedAll,showCheckboxList:this.state.showCheckboxList,toggleCheckedAll:this.toggleCheckedAll,toggleAddressDongleCheck:this.toggleAddressDongleCheck,addressDongleIds:this.state.addressDongleIds,numberSelectedNumberTotal:t}))))}}]),g}(u.Component);const J=(0,h.$j)((function(e){return{permissions:e.meDetails.permissions,addressDongles:e.addressDongles.list,addressDonglesFilters:e.addressDongles.filters,addressDonglesSorts:e.addressDongles.sorts,addressDonglesPagination:e.addressDongles.pagination}}),(function(e){return(0,g.DE)({fetchAddressDongles:m,clearAddressDongles:D,setAddressDonglesPagination:T,clearFilterAddressDongles:R,blockUI:V.Q,unblockUI:V.e},e)}))(Q)},4257:(e,t,n)=>{n.d(t,{Z:()=>s});const s=function(e){var t=[];for(var n in e)""!==e[n].data&&t.push(e[n]);return t}},75495:(e,t)=>{t.D=void 0,t.D={viewBox:"0 0 1664 1792",children:[{name:"path",attribs:{d:"M1611 832q0 53-37 90l-651 652q-39 37-91 37-53 0-90-37l-651-652q-38-36-38-90 0-53 38-91l74-75q39-37 91-37 53 0 90 37l294 294v-704q0-52 38-90t90-38h128q52 0 90 38t38 90v704l294-294q37-37 90-37 52 0 91 37l75 75q37 39 37 91z"}}]}},75987:(e,t)=>{t.z=void 0,t.z={viewBox:"0 0 1664 1792",children:[{name:"path",attribs:{d:"M1611 971q0 51-37 90l-75 75q-38 38-91 38-54 0-90-38l-294-293v704q0 52-37.5 84.5t-90.5 32.5h-128q-53 0-90.5-32.5t-37.5-84.5v-704l-294 293q-36 38-90 38t-90-38l-75-75q-38-38-38-90 0-53 38-91l651-651q35-37 90-37 54 0 91 37l651 651q37 39 37 91z"}}]}}}]);