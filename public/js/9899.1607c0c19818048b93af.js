(self.webpackChunkeco=self.webpackChunkeco||[]).push([[9899],{16589:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var a=n(4942),r=n(69265);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var l="".concat(URL_API,"/api/email-generic");const c={update:function(e,t){return r.Z.post("".concat(l,"/").concat(e),t)},updateMultiple:function(e,t){return r.Z.post("".concat(l,"/update-multiple"),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ids:e},t))},storeReply:function(e){return r.Z.post("".concat(l,"/").concat(e,"/store-reply"))},storeReplyAll:function(e){return r.Z.post("".concat(l,"/").concat(e,"/store-reply-all"))},storeForward:function(e){return r.Z.post("".concat(l,"/").concat(e,"/store-forward"))},deleteMultiple:function(e){return r.Z.post("".concat(l,"/delete-multiple"),{ids:e})}}},65677:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var a=n(93433),r=n(29439),o=n(67294),l=n(61409);function c(e){var t=e.emailAddresses,n=(0,o.useState)(1),c=(0,r.Z)(n,2),i=c[0],s=c[1];return t?o.createElement(o.Fragment,null,(0,a.Z)(t).splice(0,i).map((function(e,t){return o.createElement("span",{key:e.email},t>0&&o.createElement("span",null,", "),function(e){return e.email&&e.name?o.createElement(o.Fragment,null,e.name," (",o.createElement(l.rU,{className:"link-underline",to:"mailto: "+e.email},e.email),")"):e.email?o.createElement(l.rU,{className:"link-underline",to:"mailto: "+e.email},e.email):e.name}(e))})),t.length>i&&o.createElement(o.Fragment,null,o.createElement("br",null),o.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),s(t.length)}},t.length-i," meer...")),i>1&&o.createElement(o.Fragment,null,o.createElement("br",null),o.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),s(1)}},"verbergen"))):null}},23639:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var a=n(4942),r=n(29439),o=n(67294),l=n(97894),c=n(69265);const i={downloadAttachment:function(e){var t="email-attachment/".concat(e,"/download");return c.Z.get(t,{responseType:"blob"})}};var s=n(35823),m=n.n(s),u=n(57511),d=n(93358),p=n(98997),f=n(61409),b=n(41355),v=n(64876);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){var t=e.email,n=e.allowView,a=void 0===n||n,c=(0,o.useState)(null),s=(0,r.Z)(c,2),E=s[0],h=s[1],y=(0,o.useState)(null),O=(0,r.Z)(y,2),k=O[0],N=O[1],Z=function(e){return e.name.toLowerCase().endsWith(".pdf")};return o.createElement("div",{className:"panel panel-default "},o.createElement("div",{className:"panel-heading "},o.createElement("span",{className:"h5 text-bold"},"Bijlagen")),o.createElement("div",{className:"panel-body "},o.createElement("div",{className:"col-md-12"},o.createElement("div",{className:"row border header"},o.createElement("div",{className:"col-sm-12"},"Bestand")),t.attachmentsWithoutCids.length>0?t.attachmentsWithoutCids.map((function(e){return o.createElement("div",{className:"row border ".concat(E===e.id?"highlight-line":""),onMouseEnter:function(){return h(e.id)},onMouseLeave:function(){return h(null)},key:e.id},o.createElement("div",{className:"col-sm-10"},e.name),o.createElement("div",{className:"col-sm-2"},E===e.id&&o.createElement(o.Fragment,null,o.createElement("a",{role:"button",onClick:function(){return function(e){i.downloadAttachment(e.id).then((function(t){m()(t.data,e.name)}))}(e)}},o.createElement(l.ZP,{className:"mybtn-success",size:14,icon:u.x})),o.createElement("a",{role:"button",onClick:function(){return function(e){f.nA.push("document/nieuw/upload/email-bijlage/".concat(e.id))}(e)}},o.createElement(l.ZP,{className:"mybtn-success",size:14,icon:d.B})),a&&(function(e){return e.name.toLowerCase().endsWith(".jpg")||e.name.toLowerCase().endsWith(".png")}(e)||Z(e))&&o.createElement("a",{role:"button",onClick:function(){return function(e){i.downloadAttachment(e.id).then((function(t){var n=Z(e)?t.data:URL.createObjectURL(t.data);N(g(g({},e),{},{item:n}))}))}(e)}},o.createElement(l.ZP,{className:"mybtn-success",size:14,icon:p.i})))))})):o.createElement("div",null,"Geen bijlagen bekend."))),k&&o.createElement(b.Z,{closeModal:function(){return N(null)},modalClassName:"modal-lg",showConfirmAction:!1,buttonCancelText:"Ok"},o.createElement("div",{style:{maxHeight:"calc(100vh - 300px)",overflow:"auto"}},Z(k)?o.createElement(v.Z,{file:k.item}):o.createElement("img",{className:"img-responsive",src:k.item,alt:name}))))}},39669:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var a=n(67294),r=n(86706),o=n(56170);function l(e){var t=e.values,n=e.onChangeAction,l=(0,r.v9)((function(e){return e.systemData.teams})),c=(0,r.v9)((function(e){return e.systemData.users}));return a.createElement(o.Z,{label:"Verantwoordelijke",size:"col-sm-6",name:"responsible",optionsInGroups:[{name:"user",label:"Gebruikers",options:c,optionName:"fullName"},{name:"team",label:"Teams",options:l}],value:t.responsibleUserId?"user"+t.responsibleUserId:t.responsibleTeamId?"team"+t.responsibleTeamId:"",onChangeAction:function(e){return t=e.target.value,a={responsibleUserId:null,responsibleTeamId:null},0===t.indexOf("user")&&(a.responsibleUserId=t.replace("user","")),0===t.indexOf("team")&&(a.responsibleTeamId=t.replace("team","")),void n(a);var t,a}})}},71515:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var a=n(4942),r=n(67294),o=n(45697),l=n.n(o),c=n(320);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e){var t=e.label,n=e.size,a=e.id,o=e.name,l=e.value,i=e.loadOptions,m=e.optionId,u=e.optionName,d=e.onChangeAction,p=e.handleInputChange,f=e.required,b=e.allowCreate,v=e.multi,E=e.error,g=e.errorMessage,h=e.isLoading,y=e.disabled,O=e.placeholder,k=e.clearable,N={option:function(e){return s(s({},e),{},{fontSize:"12px"})},singleValue:function(e){return s(s({},e),{},{fontSize:"12px"})},menu:function(e){return s(s({},e),{},{zIndex:20})}};return r.createElement("div",{className:"form-group col-sm-12"},r.createElement("div",{className:"row"},r.createElement("div",{className:"col-sm-3"},r.createElement("label",{htmlFor:a,className:"col-sm-12 ".concat(f)},t)),r.createElement("div",{className:"".concat(n)},r.createElement(c.Z,{id:a,name:o,onChange:function(e){return d(e)},value:l,loadOptions:i,onInputChange:p,getOptionLabel:function(e){return e[u]},getOptionValue:function(e){return e[m]},placeholder:O,noOptionsMessage:function(){return"Geen opties gevonden (tik om te zoeken minimaal 2 tekens)"},loadingMessage:function(){return"Laden"},isMulti:v,simpleValue:!0,removeSelected:!0,className:E?" has-error":"",isLoading:h,isDisabled:y,styles:N,isClearable:k,formatCreateLabel:function(e){return'Maak optie "'.concat(e,'" aan')},getNewOptionData:function(e,t){return b?{id:t,name:t,__isNew__:!0}:{}},theme:function(e){return s(s({},e),{},{colors:s({},e.colors),spacing:s(s({},e.spacing),{},{baseUnit:2,controlHeight:24,menuGutter:4})})}})),E&&r.createElement("div",{className:"col-sm-offset-3 col-sm-8"},r.createElement("span",{className:"has-error-message"}," ",g))))};m.defaultProps={allowCreate:!1,className:"",size:"col-sm-8",optionId:"id",optionName:"name",disabled:!1,required:"",error:!1,errorMessage:"",value:"",multi:!0,isLoading:!1,placeholder:"",clearable:!1},m.propTypes={allowCreate:l().bool,label:l().string.isRequired,className:l().string,size:l().string,id:l().string,name:l().string.isRequired,loadOptions:l().array,optionId:l().string,optionName:l().string,value:l().oneOfType([l().email,l().number]),onChangeAction:l().func,handleInputChange:l().func,required:l().string,disabled:l().bool,error:l().bool,errorMessage:l().string,multi:l().bool,isLoading:l().bool,placeholder:l().string,clearable:l().bool};const u=m},56170:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var a=n(67294),r=n(45697),o=n.n(r),l=function(e){var t=e.label,n=e.className,r=e.size,o=e.divSize,l=e.id,c=e.name,i=e.value,s=e.optionsInGroups,m=e.onChangeAction,u=e.onBlurAction,d=e.required,p=e.error,f=e.readOnly,b=e.emptyOption;return a.createElement("div",{className:"form-group ".concat(o)},a.createElement("label",{htmlFor:l,className:"col-sm-6 ".concat(d)},t),a.createElement("div",{className:"".concat(r)},a.createElement("select",{className:"form-control input-sm ".concat(n)+(p&&" has-error"),id:l,name:c,value:i,onChange:m,onBlur:u,disabled:f},b&&a.createElement("option",{value:""}),s.map((function(e,t){var n=e.optionName||"name";return a.createElement("optgroup",{key:t,label:e.label},e.options.map((function(t){return a.createElement("option",{key:t.id,value:e.name+t.id},t[n])})))})))))};l.defaultProps={className:"",size:"col-sm-6",divSize:"col-sm-6",readOnly:!1,required:"",error:!1,value:"",emptyOption:!0},l.propTypes={label:o().string.isRequired,className:o().string,size:o().string,divSize:o().string,id:o().string,name:o().string.isRequired,optionsInGroups:o().array,value:o().oneOfType([o().string,o().number]),onChangeAction:o().func,onBlurAction:o().func,required:o().string,readOnly:o().bool,error:o().bool,optionName:o().string,emptyOption:o().bool};const c=l},64876:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var a=n(29439),r=n(67294),o=n(95990),l=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),c=!l,i=c?n(53542):{},s=i.Document,m=i.Page;const u=function(e){var t=(0,r.useState)(null),n=(0,a.Z)(t,2),i=n[0],u=n[1],d=(0,r.useState)(1),p=(0,a.Z)(d,2),f=p[0],b=p[1],v=(0,r.useState)(null),E=(0,a.Z)(v,2),g=E[0],h=E[1],y=e.file,O=e.scale;return(0,r.useEffect)((function(){var e,t,n;y&&!c&&(e=y,t=function(e){h(e)},(n=new FileReader).onload=function(){var e=n.result.split(",")[1];t(e)},n.readAsDataURL(e))}),[y]),r.createElement("div",{className:"pdf_viewer_wrapper"},l&&g&&r.createElement("iframe",{src:"data:application/pdf;base64,"+g,style:{height:"calc(100vh - 500px)"},title:"PDF viewer"}),c&&r.createElement(r.Fragment,null,r.createElement(s,{file:y,onLoadSuccess:function(e){var t=e.numPages;u(t)}},r.createElement(m,{className:"pdf-viewer-page",renderAnnotationLayer:!1,renderTextLayer:!1,pageNumber:f,scale:O})),r.createElement("div",null,r.createElement("div",null),r.createElement("h3",{style:{display:"inline-block",marginTop:"0px"}},"Pagina ",f," van ",i)),r.createElement("div",null,r.createElement(o.Z,{disabled:1===f,onClick:function(){return b(f-1)},title:"Ga naar vorige pagina"},"<"),r.createElement(o.Z,{disabled:f===i,onClick:function(){return b(f+1)},title:"Ga naar volgende pagina"},">"))))}},41415:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var a=n(4942),r=n(29439),o=n(67294),l=n(41355),c=n(7250),i=n(30381),s=n.n(i),m=n(14309),u=n(65677),d=n(23639),p=n(39669),f=n(71840),b=n(86706);function v(e){var t,n=e.email,a=e.updateEmailAttributes,r=e.contactsComponent,l=e.intakeComponent,i=e.taskComponent,v=e.quotationRequestComponent,E=e.measureComponent,g=e.opportunityComponent,h=e.orderComponent,y=e.invoiceComponent,O=(0,b.v9)((function(e){return e.systemData.emailStatuses}));return o.createElement("div",null,"removed"===n.folder?o.createElement(o.Fragment,null,o.createElement("div",{className:"row"},o.createElement(c.Z,{label:"Verwijderd door",value:n.removedBy?n.removedBy.fullName:"Onbekend",link:n.removedBy?"gebruiker/"+n.removedBy.id:""}),o.createElement(c.Z,{label:"Datum verwijderd",value:n.dateRemoved?s()(n.dateRemoved).format("DD-MM-YYYY HH:mm"):""})),o.createElement("hr",null)):null,o.createElement("div",{className:"row"},o.createElement(c.Z,{label:"Van",value:n.from}),o.createElement(c.Z,{label:"Ontvangen datum tijd",value:n.createdAt?s()(n.createdAt).format("DD-MM-YYYY HH:mm"):""})),o.createElement("div",{className:"row"},o.createElement("div",{className:"col-sm-6"},o.createElement("label",{className:"col-sm-6"},"Aan"),o.createElement("div",{className:"col-sm-6"},o.createElement(u.Z,{emailAddresses:(t=n.toAddresses,n.contactGroup&&t.push({email:null,name:n.contactGroup.name}),t)}))),o.createElement(c.Z,{label:"Verzonden datum tijd",value:n.dateSent?s()(n.dateSent).format("DD-MM-YYYY HH:mm"):""})),"sent"===n.folder?o.createElement("div",{className:"row"},o.createElement("div",{className:"form-group col-md-6"}),o.createElement(c.Z,{label:"Verzonden door gebruiker",value:n.sentByUser?n.sentByUser.fullName:""})):null,o.createElement("div",{className:"row"},o.createElement("div",{className:"col-sm-6"},o.createElement("label",{className:"col-sm-6"},"CC"),o.createElement("div",{className:"col-sm-6"},o.createElement(u.Z,{emailAddresses:n.ccAddresses}))),o.createElement("div",{className:"col-sm-6"},o.createElement("label",{className:"col-sm-6"},"Bcc"),o.createElement("div",{className:"col-sm-6"},o.createElement(u.Z,{emailAddresses:n.bccAddresses})))),o.createElement("div",{className:"row"},r,l),o.createElement("div",{className:"row"},i,v),o.createElement("div",{className:"row"},E,g),o.createElement("div",{className:"row"},h,y),o.createElement("div",{className:"row margin-10-top"},o.createElement("div",{className:"col-sm-12"},o.createElement("div",{className:"row"},o.createElement("div",{className:"col-sm-3"},o.createElement("label",{className:"col-sm-12"},"Onderwerp")),o.createElement("div",{className:"col-sm-9"},n.subject)))),o.createElement("div",{className:"row",style:{paddingLeft:"15px",paddingRight:"15px"}},o.createElement(m.Z,{className:"col-sm-12"},o.createElement("div",{dangerouslySetInnerHTML:{__html:n.htmlBodyWithEmbeddedImages}}))),"inbox"===n.folder&&o.createElement("div",null,o.createElement("div",{className:"row"},o.createElement(c.Z,{label:"Datum afgehandeld",value:n.dateClosed?s()(n.dateClosed).format("DD-MM-YYYY HH:mm"):""}),o.createElement(f.Z,{label:"Status",size:"col-sm-6",name:"status",options:O,value:n.status,onChangeAction:function(e){return a({status:e.target.value})},emptyOption:!1})),o.createElement("div",{className:"row"},o.createElement(c.Z,{label:"Afgehandeld door",value:n.closedBy?n.closedBy.fullName:"",link:n.closedBy?"gebruiker/"+n.closedBy.id:""}),o.createElement(p.Z,{values:{responsibleUserId:n.responsibleUserId,responsibleTeamId:n.responsibleTeamId},onChangeAction:a}))),o.createElement(d.Z,{email:n,allowView:!1}))}var E=n(61409);function g(e){var t=e.email,n=e.updateEmailAttributes;return o.createElement(v,{email:t,updateEmailAttributes:n,contactsComponent:o.createElement("div",{className:"col-sm-6"},o.createElement("label",{className:"col-sm-6"},"Contacten"),o.createElement("div",{className:"col-sm-6"},t&&t.contacts&&t.contacts.map((function(e){return o.createElement("span",{key:e.id},o.createElement(E.rU,{to:"/contact/".concat(e.id),className:"link-underline"},e.fullName)," ",o.createElement("br",null))})))),intakeComponent:o.createElement(c.Z,{label:"Intake",value:t.intake?t.intake.name:"",link:t.intake?"intake/"+t.intake.id:""}),taskComponent:o.createElement(c.Z,{label:"Taak",value:t.task?t.task.noteSummary:"",link:t.task?"taak/"+t.task.id:""}),quotationRequestComponent:o.createElement(c.Z,{label:"Kansactie",value:t.quotationRequest?"Offerteverzoek "+t.quotationRequest.id:"",link:t.quotationRequest?"offerteverzoek/"+t.quotationRequest.id:""}),measureComponent:o.createElement(c.Z,{label:"Maatregel",value:t.measure?t.measure.name:"",link:t.measure?"maatregel/"+t.measure.id:""}),opportunityComponent:o.createElement(c.Z,{label:"Kans",value:t.opportunity?t.opportunity.name:"",link:t.opportunity?"kans/"+t.opportunity.id:""}),orderComponent:o.createElement(c.Z,{label:"Order",value:t.order?t.order.subject:"",link:t.order?"order/"+t.order.id:""}),invoiceComponent:o.createElement(c.Z,{label:"Nota",value:t.invoice?t.invoice.number:"",link:t.invoice?"nota/"+t.invoice.id:""})})}var h=n(15861),y=n(64687),O=n.n(y),k=n(83100),N=n(82084),Z=n(61781),w=n(96536),C=n(90916),I=n(44246),j=n(33761),A=n(77071),P=n(71515),S=n(72898);function q(e){var t=e.email,n=e.updateEmailAttributes,a=(0,o.useState)([]),l=(0,r.Z)(a,2),c=l[0],i=l[1],s=(0,o.useState)([]),m=(0,r.Z)(s,2),u=m[0],d=m[1],p=(0,o.useState)([]),f=(0,r.Z)(p,2),b=f[0],E=f[1],g=(0,o.useState)([]),y=(0,r.Z)(g,2),q=y[0],D=y[1],R=(0,o.useState)([]),z=(0,r.Z)(R,2),M=z[0],L=z[1],T=(0,o.useState)([]),x=(0,r.Z)(T,2),B=x[0],U=x[1],Y=(0,o.useState)([]),F=(0,r.Z)(Y,2),G=F[0],H=F[1],V=(0,o.useState)(""),_=(0,r.Z)(V,2),W=_[0],K=_[1],Q=(0,o.useState)(!1),J=(0,r.Z)(Q,2),X=J[0],$=J[1];(0,o.useEffect)((function(){k.Z.peekIntakes().then((function(e){i(e)})),Z.Z.peekTasks().then((function(e){d(e)})),w.Z.peekQuotationRequests().then((function(e){E(e)})),C.Z.peekMeasures().then((function(e){D(e)})),I.Z.peekOpportunities().then((function(e){L(e)})),j.Z.peekOrders().then((function(e){U(e)})),A.Z.peekInvoices().then((function(e){H(e)}))}),[]);var ee=function(){var e=(0,h.Z)(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(W.length<=1)){e.next=2;break}return e.abrupt("return");case 2:return $(!0),e.prev=3,e.next=6,S.Z.fetchContactSearch(W);case 6:return t=e.sent,$(!1),e.abrupt("return",t.data.data);case 11:e.prev=11,e.t0=e.catch(3),$(!1);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return o.createElement(v,{email:t,updateEmailAttributes:n,contactsComponent:o.createElement(P.Z,{label:"Contacten",name:"contacts",value:t.contacts,loadOptions:ee,optionName:"fullName",onChangeAction:function(e){return n({contacts:e||[]})},isLoading:X,handleInputChange:K,clearable:!0}),intakeComponent:o.createElement(N.Z,{label:"Intake",size:"col-sm-6",name:"intakeId",options:c,value:t.intakeId,clearable:!0,onChangeAction:function(e){return n({intakeId:e})}}),taskComponent:o.createElement(N.Z,{label:"Taak",size:"col-sm-6",name:"taskId",options:u,value:t.taskId,clearable:!0,onChangeAction:function(e){return n({taskId:e})}}),quotationRequestComponent:o.createElement(N.Z,{label:"Kansactie",size:"col-sm-6",name:"quotationRequestId",options:b,value:t.quotationRequestId,clearable:!0,onChangeAction:function(e){return n({quotationRequestId:e})}}),measureComponent:o.createElement(N.Z,{label:"Maatregel",size:"col-sm-6",name:"quotationRequestId",options:q,value:t.measureId,clearable:!0,onChangeAction:function(e){return n({measureId:e})}}),opportunityComponent:o.createElement(N.Z,{label:"Kans",size:"col-sm-6",name:"opportunityId",options:M,value:t.opportunityId,clearable:!0,onChangeAction:function(e){return n({opportunityId:e})}}),orderComponent:o.createElement(N.Z,{label:"Order",size:"col-sm-6",name:"orderId",options:B,value:t.orderId,clearable:!0,onChangeAction:function(e){return n({orderId:e})}}),invoiceComponent:o.createElement(N.Z,{label:"Nota",size:"col-sm-6",name:"invoiceId",options:G,value:t.invoiceId,clearable:!0,onChangeAction:function(e){return n({invoiceId:e})}})})}var D=n(69265),R="".concat(URL_API,"/api/email-details");const z={fetchEmail:function(e){return D.Z.get("".concat(R,"/").concat(e)).then((function(e){return e.data}))}};var M=n(16589);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var t=e.emailId,n=e.showModal,a=e.setShowModal,c=e.onSave,i=(0,o.useState)(!1),s=(0,r.Z)(i,2),m=s[0],u=s[1],d=(0,o.useState)(null),p=(0,r.Z)(d,2),f=p[0],b=p[1];(0,o.useEffect)((function(){n&&z.fetchEmail(t).then((function(e){b(e)}))}),[n]);var v=function(e){b(T(T({},f),e))};return f?o.createElement(o.Fragment,null,n&&o.createElement(l.Z,{buttonConfirmText:"Opslaan",closeModal:function(){return a(!1)},confirmAction:function(){M.Z.update(t,{responsibleUserId:f.responsibleUserId,responsibleTeamId:f.responsibleTeamId,status:f.status,intakeId:f.intakeId,taskId:f.taskId,quotationRequestId:f.quotationRequestId,measureId:f.measureId,opportunityId:f.opportunityId,orderId:f.orderId,invoiceId:f.invoiceId,contactIds:f.contacts.map((function(e){return e.id}))}).then((function(){u(!1),a(!1),c()}))},title:"Email van "+f.from,modalMainClassName:"modal-fullscreen",headerRight:o.createElement("div",null,o.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){u(!0)}},"Bewerken"))},m?o.createElement(q,{email:f,updateEmailAttributes:v}):o.createElement(g,{email:f,updateEmailAttributes:v}))):null}},69349:()=>{},49080:()=>{},57588:()=>{},3071:()=>{},4918:()=>{},69862:()=>{},40964:()=>{}}]);